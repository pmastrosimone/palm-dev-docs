<html>
<head>
<title>(68K) Fonts | Palm OS&#174; Programmer's  API Reference</title> 
<link href="psi_devpubs.css" rel="stylesheet" type="text/css">

<!-- BEGIN META DATA -->
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META NAME="PSITEMPLATE" CONTENT="1006-007 PalmSource_HTML_2003 20041101">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks AutoMap 2003 for FrameMaker 8.0.6.2138">
<META NAME="LASTUPDATED" CONTENT="11/22/04 10:46:24">
<!-- END META DATA -->
</head>

<body bgcolor="#ffffff" text="#000000" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<a name="999815"></a>

<!-- BEGIN TOPNAV -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td><img src="images/shim.gif" width="7" height="75" border="0" alt=""></td>
<td align="left"><table border="0" cellpadding="0" cellspacing="0" width="744">
<tr>
<td><img name="index_r2_c1" src="images/shim.gif" width="25" height="75" border="0" alt=""></td>
<td valign="top"><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_r2_c4" src="images/shim.gif" width="96" height="15" border="0" alt=""></td>
</tr>
<tr>
<td><a href="http://www.palmsource.com/"><img name="ps_logo" src="images/ps_logo.gif" width="96" height="54" border="0" alt=""></a></td>
</tr>

</table>
</td>

<td><table border="0" cellpadding="0" cellspacing="0" width="30">
<td><img name="index_x" src="images/shim.gif" width="30" height="75" border="0" alt=""></td>
</table></td>

<!--BEGIN MASTHEAD-->
<td><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
<tr>
<td>
<!--BEGIN BOOK NAVIGATION-->
<span class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="ReferenceTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="FloatManager.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="GraffitiManager.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ReferenceIX.html">Index</a>
</span>
<!--END BOOK NAVIGATION-->
</tr>
<tr>
<td>
<!--BEGIN PAGE TITLE-->
<h2 class="PageTitle">37 &nbsp;&nbsp;
Fonts</h2></td>
<!--END PAGE TITLE-->
</tr>
<tr>
<td>
<!--BEGIN BOOK TITLE-->
<p class="BookTitle">Palm OS&#174; Programmer's  API Reference</p>
<p class="SubTitle">Palm OS&#174; 68K SDK </p>
<!--END BOOK TITLE-->
</td>
</tr>
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
</table>
</td>
<!--END MASTHEAD-->
</tr>
</table>
<img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
</tr>
</table>
<!-- END TOPNAV -->

<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" width="5"><img name="index_x" src="images/shim.gif" width="5" height="33" border="0" alt=""></td>

<!--BEGIN SIDETOC-->
<td valign="top" width="175">
<div id="sidetoc" valign="bottom">
<h1 class="SideTOC1-PartTab"><a href="PartII.html">Part II: System Management</a> </h1>
<h1 class="SideTOC1"><a href="Font.html">37  Fonts</a></h1>

   <h2 class="SideTOC2"><a href="#999846">
   Font Data Structures</a></h2>

      <h3 class="SideTOC3"><a href="#999848">
      FontCharInfoPtr</a></h3>

      <h3 class="SideTOC3"><a href="#999860">
      FontCharInfoType</a></h3>

      <h3 class="SideTOC3"><a href="#999892">
      FontDensityType</a></h3>

      <h3 class="SideTOC3"><a href="#999928">
      FontID</a></h3>

      <h3 class="SideTOC3"><a href="#1000003">
      FontPtr</a></h3>

      <h3 class="SideTOC3"><a href="#1000016">
      FontType </a></h3>

      <h3 class="SideTOC3"><a href="#1000130">
      FontTypeV2 </a></h3>

   <h2 class="SideTOC2"><a href="#1000271">
   Font Constants</a></h2>

   <h2 class="SideTOC2"><a href="#1000309">
   Font Resources</a></h2>

      <h3 class="SideTOC3"><a href="#1000311">
      Font Resource</a></h3>

      <h3 class="SideTOC3"><a href="#1000390">
      Extended Font Resource</a></h3>

   <h2 class="SideTOC2"><a href="#1000427">
   Font Functions</a></h2>

      <h3 class="SideTOC3"><a href="#1000430">
      FntAverageCharWidth</a></h3>

      <h3 class="SideTOC3"><a href="#1000449">
      FntBaseLine</a></h3>

      <h3 class="SideTOC3"><a href="#1000463">
      FntCharHeight</a></h3>

      <h3 class="SideTOC3"><a href="#1000477">
      FntCharsInWidth</a></h3>

      <h3 class="SideTOC3"><a href="#1000505">
      FntCharsWidth</a></h3>

      <h3 class="SideTOC3"><a href="#1000530">
      FntCharWidth</a></h3>

      <h3 class="SideTOC3"><a href="#1000560">
      FntDefineFont</a></h3>

      <h3 class="SideTOC3"><a href="#1000609">
      FntDescenderHeight</a></h3>

      <h3 class="SideTOC3"><a href="#1000623">
      FntGetFont</a></h3>

      <h3 class="SideTOC3"><a href="#1000650">
      FntGetFontPtr</a></h3>

      <h3 class="SideTOC3"><a href="#1000671">
      FntGetScrollValues</a></h3>

      <h3 class="SideTOC3"><a href="#1000704">
      FntIsAppDefined</a></h3>

      <h3 class="SideTOC3"><a href="#1000722">
      FntLineHeight</a></h3>

      <h3 class="SideTOC3"><a href="#1000736">
      FntLineWidth</a></h3>

      <h3 class="SideTOC3"><a href="#1000753">
      FntSetFont</a></h3>

      <h3 class="SideTOC3"><a href="#1000776">
      FntWCharWidth</a></h3>

      <h3 class="SideTOC3"><a href="#1000807">
      FntWidthToOffset</a></h3>

      <h3 class="SideTOC3"><a href="#1000839">
      FntWordWrap</a></h3>

      <h3 class="SideTOC3"><a href="#1000867">
      FntWordWrapReverseNLines</a></h3>

      <h3 class="SideTOC3"><a href="#1000893">
      FontSelect</a></h3>

</div>
</td>

<td width="5">&nbsp;&nbsp;</td>
<td width="2" background="images/index_r8_c10.gif"><img src="images/shim.gif" width="2" height="75" border="0" alt=""></td>
<td width="5">&nbsp;&nbsp;</td>

<!--END SIDETOC-->

<td valign="top">

<!--BEGIN CONTENT-->
<div id="content" valign="bottom">
<p><a name="999819"> </a>This chapter provides the following information regarding font support: </p>
<ul type="disc">
  <li><a name="999823"> </a><a href="Font.html#999846">Font Data Structures</a>
  <li><a name="999827"> </a><a href="Font.html#1000271">Font Constants</a>
  <li><a name="999831"> </a><a href="Font.html#1000309">Font Resources</a>
  <li><a name="999835"> </a><a href="Font.html#1000427">Font Functions</a>
</ul>

<p><a name="999838"> </a>The header files <code>Font.h</code> and <code>FontSelect.h</code> declare the API that this chapter describes. For more information on fonts, see <a href="../PalmOSCompanion/Text.html#1036996">Chapter 8, "Text,"</a> of the <i>Palm OS Programmer's Companion</i>, vol. I. </p>

<h2 class="haH2">
  <a name="999846"> </a>Font Data Structures <a href="#999815"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="999848"> </a>FontCharInfoPtr Typedef <a href="#999815"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="999850"> </a>Purpose 
</h4>

<p><a name="999855"> </a>The <code>FontCharInfoPtr</code> type points to a <a href="Font.html#999860"><code>FontCharInfoType</code></a> structure. </p>
<h4>
  <a name="999856"> </a>Prototype 
</h4>
<pre class="proto"><a name="999857"></a>typedef FontCharInfoType *FontCharInfoPtr;
</pre>

<h3 class="hbH3">
  <a name="999860"> </a>FontCharInfoType Struct <a href="#999815"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="999862"> </a>Purpose 
</h4>

<p><a name="999864"> </a>The <code>FontCharInfoType</code> structure defines an entry in the offset/width table for a font. </p>

<div><hr>
  <a name="999865"> </a> <span class="warning">WARNING! </span> Palm, Inc. does not support or provide backward compatibility for the <code>FontCharInfoType</code> structure. Never access its structure members directly, or your code may break in future versions. Use the information below for debugging purposes only.
<hr>
</div>
<h4>
  <a name="999866"> </a>Prototype 
</h4>
<pre class="proto"><a name="999867"></a>typedef struct FontCharInfoTag {
  Int8 offset;
  Int8 width;
} FontCharInfoType;
</pre>
<h4>
  <a name="1022763"> </a>Fields 
</h4>

<dl>
<dt><a name="999874"> </a><code><code>offset</code> </code></dt>
<dd><a name="999876"> </a>This value is not currently used and must be set to 0.</dd>

<dt><a name="999878"> </a><code><code>width</code> </code></dt>
<dd><a name="999880"> </a>The exact width in pixels of the glyph. You can retrieve this information using the function <a href="Font.html#1000776"><code>FntWCharWidth()</code></a> or <a href="Font.html#1000530"><code>FntCharWidth()</code></a>. </dd>

</dl>

<h3 class="hbH3">
  <a name="999892"> </a>FontDensityType Struct <a href="#999815"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="999894"> </a>Purpose 
</h4>

<p><a name="999896"> </a>The <code>FontDensityType</code> structure defines an entry in the <code>densities</code> array in the <a href="Font.html#1000130"><code>FontTypeV2</code></a> structure. The <code>densities</code> array specifies the location of each set of glyphs within an extended font resource. </p>

<div><hr>
  <a name="999901"> </a> <span class="warning">WARNING! </span> Palm, Inc. does not support or provide backward compatibility for the <code>FontDensityType</code> structure. Never access its structure members directly, or your code may break in future versions. Use the information below for debugging purposes only.
<hr>
</div>
<h4>
  <a name="999902"> </a>Prototype 
</h4>
<pre class="proto"><a name="999903"></a>typedef struct FontDensityTag {
  Int16 density;
  UInt32 glyphBitsOffset;
} FontDensityType;
</pre>
<h4>
  <a name="1022884"> </a>Fields 
</h4>

<dl>
<dt><a name="999910"> </a><code><code>density</code> </code></dt>
<dd><a name="999913"> </a>Either <code>kDensityLow</code>, <code>kDensityOneAndAHalf</code>, or <code>kDensityDouble</code>. </dd>

<dt><a name="999917"> </a><code><code>glyphBitsOffset</code> </code></dt>
<dd><a name="999919"> </a>Offset in bytes from the beginning of the font data to the start of the font image for this density. </dd>

</dl>
<h4>
  <a name="999921"> </a>Compatibility 
</h4>

<p><a name="999924"> </a>This structure is only defined if the <a href="CompatibilityApdx.html#996955">High-Density Display Feature Set</a> is present. </p>

<h3 class="hbH3">
  <a name="999928"> </a>FontID Enum <a href="#999815"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="999930"> </a>Purpose 
</h4>

<p><a name="999932"> </a>The <code>FontID</code> enum specifies the IDs of available fonts. A font can either be a system-defined font or an application-defined font. You can obtain the ID of the current font using <a href="Font.html#1000623"><code>FntGetFont()</code></a> and change the font using <a href="Font.html#1000753"><code>FntSetFont()</code></a>. </p>
<h4>
  <a name="999941"> </a>Prototype 
</h4>
<pre class="proto"><a name="999942"></a>enum fontID {
  stdFont = 0x00, 
  boldFont, 
  largeFont, 
  symbolFont, 
  symbol11Font, 
  symbol7Font, 
  ledFont, 
  largeBoldFont, 
  fntAppCustomBase = 0x80
};
</pre>
<pre class="proto"><a name="999953"></a>typdef enum fontID FontID;
</pre>
<h4>
  <a name="1022946"> </a>Constants 
</h4>

<dl>
<dt><a name="999958"> </a><code><code>stdFont</code> </code></dt>
<dd><a name="999960"> </a>A small standard font used to display user input. This font is small to display as much text as possible. </dd>

<dt><a name="999963"> </a><code><code>boldFont</code> </code></dt>
<dd><a name="999965"> </a>Same size as <code>stdFont</code> but bold for easier reading. Used for text labels in the user interface. </dd>

<dt><a name="999968"> </a><code><code>largeFont</code> </code></dt>
<dd><a name="999970"> </a>A larger font provided as an alternative for users who find the standard font too small to read. </dd>

<dt><a name="999973"> </a><code><code>symbolFont</code> </code></dt>
<dd><a name="999975"> </a>Contains many special characters such as arrows, shift indicators, and so on. </dd>

<dt><a name="999978"> </a><code><code>symbol11Font</code> </code></dt>
<dd><a name="999980"> </a>Contains the check boxes, the large left arrow, and the large right arrow. </dd>

<dt><a name="999983"> </a><code><code>symbol7Font</code> </code></dt>
<dd><a name="999985"> </a>Contains the up and down arrows used for the repeating button scroll arrows and the dimmed version of the same arrows. </dd>

<dt><a name="999988"> </a><code><code>ledFont</code> </code></dt>
<dd><a name="999990"> </a>Contains the numbers 0 through 9, &#8211;, ., and the comma (,). Used by the Calculator application for its numeric display. </dd>

<dt><a name="999993"> </a><code><code>largeBoldFont</code> </code></dt>
<dd><a name="999995"> </a>In Palm OS<sup>&#174;</sup> 3.0 and later only. Same size as <code>largeFont</code> but bold. </dd>

<dt><a name="999998"> </a><code><code>fntAppCustomBase</code> </code></dt>
<dd><a name="1000000"> </a>The first available ID for application-defined fonts. </dd>

</dl>

<h3 class="hbH3">
  <a name="1000003"> </a>FontPtr Typedef <a href="#999815"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1000005"> </a>Purpose 
</h4>

<p><a name="1000011"> </a>The <code>FontPtr</code> type defines a pointer to a <a href="Font.html#1000016"><code>FontType</code></a> structure. </p>
<h4>
  <a name="1000012"> </a>Prototype 
</h4>
<pre class="proto"><a name="1000013"></a>typedef FontType *FontPtr;
</pre>

<h3 class="hbH3">
  <a name="1000016"> </a>FontType  Struct <a href="#999815"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1000018"> </a>Purpose 
</h4>

<p><a name="1000020"> </a>The <code>FontType</code> structure defines a font resource's header. The fields in this structure give general information about the font. Following the structure are several tables that Palm OS uses to draw the font on the screen. See <a href="Font.html#1000311">"Font Resource"</a> for more information about the font resource. </p>

<div><hr>
  <a name="1000024"> </a> <span class="warning">WARNING! </span> Palm, Inc. does not support or provide backward compatibility for the <code>FontType</code> structure. Never access its structure members directly, or your code may break in future versions. Use the information below for debugging purposes only.
<hr>
</div>
<h4>
  <a name="1000025"> </a>Prototype 
</h4>
<pre class="proto"><a name="1000026"></a>typedef struct FontTag {
  Int16 fontType;
  Int16 firstChar;
  Int16 lastChar;
  Int16 maxWidth;
  Int16 kernMax;
  Int16 nDescent;
  Int16 fRectWidth; 
  Int16 fRectHeight;
  Int16 owTLoc;
  Int16 ascent;
  Int16 descent;
  Int16 leading;
  Int16 rowWords;
} FontType;
</pre>
<h4>
  <a name="1022991"> </a>Fields 
</h4>

<dl>
<dt><a name="1019750"> </a><code><code>fontType</code> </code></dt>
<dd><a name="1019752"> </a>A mask providing the general characteristics of the font. When creating an application-defined font resource, use 0x9000. </dd>

<dt><a name="1019754"> </a><code><code>firstChar</code> </code></dt>
<dd><a name="1019756"> </a>Character code of first glyph in the font. </dd>

<dt><a name="1019758"> </a><code><code>lastChar</code> </code></dt>
<dd><a name="1019760"> </a>Character code of last glyph in the font. </dd>

<dt><a name="1019762"> </a><code><code>maxWidth</code> </code></dt>
<dd><a name="1019764"> </a>The maximum width in pixels of any glyph. In Palm OS, there is currently no difference between this field and <code>fRectWidth</code>. </dd>

<dt><a name="1019766"> </a><code><code>kernMax</code> </code></dt>
<dd><a name="1019768"> </a>This value is not currently used and must be set to 0.</dd>

<dt><a name="1019770"> </a><code><code>nDescent</code> </code></dt>
<dd><a name="1019772"> </a>This value is not currently used and must be set to 0.</dd>

<dt><a name="1019774"> </a><code><code>fRectWidth</code> </code></dt>
<dd><a name="1019776"> </a>A metric of the font image. In Palm OS, this metric is equivalent to the maximum width in pixels of any glyph in the font. Use <a href="Font.html#1000430"><code>FntAverageCharWidth()</code></a> to obtain this value. </dd>

<dt><a name="1019782"> </a><code><code>fRectHeight </code></code></dt>
<dd><a name="1019784"> </a>The height, including ascenders and descenders, of the glyphs in this font. Use <a href="Font.html#1000463"><code>FntCharHeight()</code></a> to obtain this value. </dd>

<dt><a name="1019790"> </a><code><code>owTLoc</code> </code></dt>
<dd><a name="1019792"> </a>The offset in 16-bit words from this field to the first byte of the offset/width table. The offset/width table is a table of <a href="Font.html#999860"><code>FontCharInfoType</code></a> structures giving the width of each character in the font. Do not access the offset/width table directly. Use <a href="Font.html#1000776"><code>FntWCharWidth()</code></a> or <a href="Font.html#1000530"><code>FntCharWidth()</code></a> instead. </dd>

<dt><a name="1019806"> </a><code><code>ascent</code> </code></dt>
<dd><a name="1019808"> </a>The distance in pixels from the top of the font rectangle to its baseline. Use <a href="Font.html#1000449"><code>FntBaseLine()</code></a> to obtain this value. </dd>

<dt><a name="1019814"> </a><code><code>descent</code> </code></dt>
<dd><a name="1019816"> </a>The distance in pixels from the baseline to the bottom of the font rectangle. Use <a href="Font.html#1000609"><code>FntDescenderHeight()</code></a> to obtain this value. </dd>

<dt><a name="1019822"> </a><code><code>leading</code> </code></dt>
<dd><a name="1019824"> </a>The font's leading, which is the vertical space between lines of text, in pixels. This field is unused in Palm OS and must be set to 0. If your font requires a leading value, add blank space to the bottom of each of your glyphs. The <a href="Font.html#1000722"><code>FntLineHeight()</code></a> function returns the size of the font's character cell plus the leading. </dd>

<dt><a name="1019830"> </a><code><code>rowWords</code> </code></dt>
<dd><a name="1019832"> </a>The number of 16-bit words stored for each row of a glyph's bitmap where <code>fRectHeight</code> is the number of rows. </dd>

</dl>

<h3 class="hbH3">
  <a name="1000130"> </a>FontTypeV2  Struct <a href="#999815"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1000132"> </a>Purpose 
</h4>

<p><a name="1000134"> </a>The <code>FontTypeV2</code> structure defines the header for an extended font resource, which contains a separate set of glyphs for each screen density. Currently the only supported densities are <code>kDensityLow</code> and <code>kDensityDouble</code>. See <a href="Font.html#1000390">"Extended Font Resource"</a> for more information. </p>

<div><hr>
  <a name="1000140"> </a> <span class="warning">WARNING! </span> Palm, Inc. does not support or provide backward compatibility for the <code>FontCharTypeV2</code> structure. Never access its structure members directly, or your code may break in future versions. Use the information below for debugging purposes only.
<hr>
</div>
<h4>
  <a name="1000141"> </a>Prototype 
</h4>
<pre class="proto"><a name="1000142"></a>typedef struct FontTagV2 {
  Int16 fontType;
  Int16 firstChar;
  Int16 lastChar;
  Int16 maxWidth;
  Int16 kernMax;
  Int16 nDescent;
  Int16 fRectWidth; 
  Int16 fRectHeight;
  Int16 owTLoc;
  Int16 ascent;
  Int16 descent;
  Int16 leading;
  Int16 rowWords;
  Int16 version;
  Int16 densityCount;
  FontDensityType densities[0];
} FontTypeV2;
</pre>

<div><hr>
  <a name="1000160"> </a> <b>NOTE: </b> All pixel values given in the fields below are in terms of the single-density font data. 
<hr>
</div>
<h4>
  <a name="1023036"> </a>Fields 
</h4>

<dl>
<dt><a name="1000164"> </a><code><code>fontType</code> </code></dt>
<dd><a name="1000166"> </a>A mask providing the general characteristics of the font. When creating an application-defined extended font resource, use the value <code>fntExtendedFormatMask</code> <code>| 0x9000</code>. </dd>

<dt><a name="1000169"> </a><code><code>firstChar</code> </code></dt>
<dd><a name="1000171"> </a>Character code of first glyph in the font. </dd>

<dt><a name="1000173"> </a><code><code>lastChar</code> </code></dt>
<dd><a name="1000175"> </a>Character code of last glyph in the font. </dd>

<dt><a name="1000177"> </a><code><code>maxWidth</code> </code></dt>
<dd><a name="1000179"> </a>The maximum width in pixels of any glyph. In Palm OS, there is currently no difference between this field and <code>fRectWidth</code>. </dd>

<dt><a name="1000181"> </a><code><code>kernMax</code> </code></dt>
<dd><a name="1000183"> </a>This value is not currently used and must be set to 0.</dd>

<dt><a name="1000185"> </a><code><code>nDescent</code> </code></dt>
<dd><a name="1000187"> </a>This value is not currently used and must be set to 0.</dd>

<dt><a name="1000189"> </a><code><code>fRectWidth</code> </code></dt>
<dd><a name="1000191"> </a>A metric of the font image. In Palm OS, this metric is equivalent to the maximum width in pixels of any glyph in the font. Use <a href="Font.html#1000430"><code>FntAverageCharWidth()</code></a> to obtain this value. </dd>

<dt><a name="1000197"> </a><code><code>fRectHeight </code></code></dt>
<dd><a name="1000199"> </a>The height, including ascenders and descenders, of the glyphs in this font. Use <a href="Font.html#1000463"><code>FntCharHeight()</code></a> to obtain this value. </dd>

<dt><a name="1000205"> </a><code><code>owTLoc</code> </code></dt>
<dd><a name="1000207"> </a>The offset in 16-bit words from this field to the first byte of the offset/width table. The offset/width table is a table of <a href="Font.html#999860"><code>FontCharInfoType</code></a> structures giving the width of each character in the font. Do not access the offset/width table directly. Use <a href="Font.html#1000776"><code>FntWCharWidth()</code></a> or <a href="Font.html#1000530"><code>FntCharWidth()</code></a> instead. </dd>

<dt><a name="1000221"> </a><code><code>ascent</code> </code></dt>
<dd><a name="1000223"> </a>The distance in pixels from the top of the font rectangle to its baseline. Use <a href="Font.html#1000449"><code>FntBaseLine()</code></a> to obtain this value. </dd>

<dt><a name="1000229"> </a><code><code>descent</code> </code></dt>
<dd><a name="1000231"> </a>The distance in pixels from the baseline to the bottom of the font rectangle. Use <a href="Font.html#1000609"><code>FntDescenderHeight()</code></a> to obtain this value. </dd>

<dt><a name="1000237"> </a><code><code>leading</code> </code></dt>
<dd><a name="1000239"> </a>The font's leading, which is the vertical space between lines of text, in pixels. This field is unused in Palm OS and must be set to 0. If your font requires a leading value, add blank space to the bottom of each of your glyphs. The <a href="Font.html#1000722"><code>FntLineHeight()</code></a> function returns the size of the font's character cell plus the leading. </dd>

<dt><a name="1000245"> </a><code><code>rowWords</code> </code></dt>
<dd><a name="1000247"> </a>The number of 16-bit words stored for each row of a glyph's bitmap where <code>fRectHeight</code> is the number of rows. </dd>

<dt><a name="1000249"> </a><code><code>version</code> </code></dt>
<dd><a name="1000251"> </a>The version of the extended font resource. This value should be set to 1. </dd>

<dt><a name="1000253"> </a><code><code>densityCount</code> </code></dt>
<dd><a name="1000255"> </a>The number of entries in the <code>densities</code> array. </dd>

<dt><a name="1000257"> </a><code><code>densities</code> </code></dt>
<dd><a name="1000263"> </a>An array of one or more <a href="Font.html#999892"><code>FontDensityType</code></a> structures identifying the glyphs for each supported density. </dd>

</dl>
<h4>
  <a name="1000265"> </a>Compatibility 
</h4>

<p><a name="1000268"> </a>This structure is only defined if the <a href="CompatibilityApdx.html#996955">High-Density Display Feature Set</a> is present. </p>

<h2 class="haH2">
  <a name="1000271"> </a>Font Constants <a href="#999815"><span class="nav">^TOP^</span></a>
</h2>



<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1000274"> </a><b><span style="color: #000000;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">Constant</span></b></p>
    </th>
    <th><p class="tt"><a name="1000276"> </a><b>Value</b></p>
    </th>
    <th><p class="tt"><a name="1000278"> </a><b>Description</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1000281"> </a><code>checkboxFont</code> </p>
    </td>
    <td><p class="tt"><a name="1000283"> </a><code>symbol11Font</code> </p>
    </td>
    <td><p class="tt"><a name="1000285"> </a>A convenience constant that points to the font containing the checkbox bitmap. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1000288"> </a><code>fntMissingChar</code></p>
    </td>
    <td><p class="tt"><a name="1000290"> </a>&#8211;1</p>
    </td>
    <td><p class="tt"><a name="1000292"> </a>The value used for a character that does not have a definition in the current font. The missing character symbol is usually an open rectangle.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1000295"> </a><code>fntExtendedFormatMask</code> </p>
    </td>
    <td><p class="tt"><a name="1000297"> </a>0x0200</p>
    </td>
    <td><p class="tt"><a name="1000299"> </a>A constant used for the <code>fontType</code> field of a font to indicate that it is an extended font resource. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1000302"> </a><code>fntTabChrWidth</code> </p>
    </td>
    <td><p class="tt"><a name="1000304"> </a>20</p>
    </td>
    <td><p class="tt"><a name="1000306"> </a>The width of the tab character in pixels. </p>
    </td>
  </tr>
</table>

</div>


<h2 class="haH2">
  <a name="1000309"> </a>Font Resources <a href="#999815"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="1000311"> </a>Font Resource <a href="#999815"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1000313"> </a>The font resource (<code>'NFNT'</code>) represents a version 1 single-density font. This resource is the same as the Macintosh <code>'NFNT'</code> resource with some restrictions. It contains a header followed by several tables that provide information about each glyph in the font. </p>

<p><a name="1000319"> </a><a href="Font.html#1010023">Figure 37.1</a> shows how the font resource is laid out in memory. <a href="Font.html#1010033">Table 37.1</a> describes each table within the font resource. </p>

<p class="FFigureCaption">
  <a name="1010023"> </a><b>Figure 37.1&nbsp;&nbsp;Font resource ('NFNT')<div align="left"><img src="images/FontRsc.gif" border="0" hspace="0" vspace="0">
</div></b>
</p>


<p class="caption"><a name="1010033"> </a><b>Table 37.1&nbsp;&nbsp;Font resource description </b></p>
<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1010037"> </a><b>Field</b></p>
    </th>
    <th><p class="tt"><a name="1010039"> </a><b>Description</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1010041"> </a>FontType header</p>
    </td>
    <td><p class="tt"><a name="1010043"> </a>Contains general information about the glyphs in the font. See <a href="Font.html#1000016"><code>FontType</code></a>.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1010049"> </a>Font image</p>
    </td>
    <td><p class="tt"><a name="1010051"> </a>A raw bitmap image containing the packed character glyphs from left to right (see <a href="Font.html#1000384">Figure 37.2</a>). This part of the resource tells Palm OS how to draw each character in the font. The height of the image is <code>fRectHeight</code> and the size is <code>rowWords * 2 * fRectHeight</code>. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1010057"> </a></p>
    </td>
    <td><p class="tt"><a name="1010059"> </a>Place glyphs sequentially in order of increasing character code. Leave at least a one-pixel wide vertical column of space to the right of each image so that there is space between characters when Palm OS draws text on the screen. If your font requires leading, leave horizontal space at the bottom of the characters as well. The font image must end with the glyph for the missing character symbol.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1010061"> </a>Bitmap location table</p>
    </td>
    <td><p class="tt"><a name="1010063"> </a>A table of 16-bit words that specify the location of each glyph's entry in the font image. The location is specified as the bit offset from the start of the image to the glyph in the first row of the font image. The last entry in the table contains the offset of the column after the last bitmap. (See <a href="Font.html#1000384">Figure 37.2</a>.)</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1010068"> </a></p>
    </td>
    <td><p class="tt"><a name="1010070"> </a>If you have skipped characters within an encoding, for each glyph that is missing, specify the same value for its location as the entry for the next glyph in the table. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1010072"> </a>Offset/width table</p>
    </td>
    <td><p class="tt"><a name="1010074"> </a>A table that specifies how wide each glyph in the font is. On Macintosh systems, this table also specifies how each glyph kerns. Palm OS does not support kerning, as the offset value is ignored. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1010076"> </a></p>
    </td>
    <td><p class="tt"><a name="1010078"> </a>Each entry in the offset/width table is two bytes long. The first byte should be 0, and the second byte should contain the glyph width, which must be greater than or equal to 0. If the glyph at this index does not have a bitmap in the font image, the values should be &#8211;1 and &#8211;1.</p>
    </td>
  </tr>
</table>

</div>


<p><a name="1000382"> </a><a href="Font.html#1000384">Figure 37.2</a> shows an example of the font image for a font that defines glyphs for four characters (A, B, C, and the missing character symbol) and the portion of the bitmap location table that provides the offsets for these characters. The last entry in the bitmap location table is the offset to the column after the last bitmap, or 0x0014. </p>

<p class="FFigureCaption">
  <a name="1000384"> </a><b>Figure 37.2&nbsp;&nbsp;Font image and bitmap location table<div align="left"><img src="images/FontImage.gif" border="0" hspace="0" vspace="0">
</div></b>
</p>


<h3 class="hbH3">
  <a name="1000390"> </a>Extended Font Resource <a href="#999815"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1000392"> </a>The extended font resource (<code>'nfnt'</code>) defines a font that supports multiple screen densities. The <a href="CompatibilityApdx.html#996955">High-Density Display Feature Set</a> supports two or more screen densities. As shown in <a href="Font.html#1000421">Figure 37.3</a>, the extended font resource is essentially: </p>
<ul type="disc">
  <li><a name="1000406"> </a>A <a href="Font.html#1000130"><code>FontTypeV2</code></a> header giving all general information about the glyphs in the font. All metrics are in terms of the low-density version of the font. 
  <li><a name="1000409"> </a>Tables for the low-density font. See <a href="Font.html#1000311">"Font Resource"</a> for a description of these tables. 
  <li><a name="1000411"> </a>The font image (set of glyphs) for each density specified by the font. 
</ul>

<div><hr>
  <a name="1022557"> </a> <b>NOTE: </b> It is <i>not</i> required that an extended font resource contain a font image for the low-density font. It may contain a font image only for a double-density font, for example. All of the metrics and the font tables must be given in standard coordinates, as if there were a low-density version of the font present in the resource. 
<hr>
</div>
<h4>
  <a name="1000412"> </a>Compatibility 
</h4>

<p><a name="1000415"> </a>This resource is only defined if the <a href="CompatibilityApdx.html#996955">High-Density Display Feature Set</a> is present. 1.5x density fonts are only supported if the <a href="CompatibilityApdx.html#997148">1.5x Display Feature Set</a> is present.</p>

<p class="FFigureCaption">
  <a name="1000421"> </a><b>Figure 37.3&nbsp;&nbsp;Extended font resource<div align="left"><img src="images/FontExtRsc.gif" border="0" hspace="0" vspace="0">
</div></b>
</p>


<h2 class="haH2">
  <a name="1000427"> </a>Font Functions <a href="#999815"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="1000430"> </a>FntAverageCharWidth Function <a href="#999815"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1000432"> </a>Purpose 
</h4>

<p><a name="1000433"> </a>Gets the <i>maximum</i> character width in pixels of the current font. </p>
<h4>
  <a name="1000434"> </a>Declared In 
</h4>
<code>Font.h<a name="1000435"> </a></code><h4>
  <a name="1000436"> </a>Prototype 
</h4>
<pre class="proto"><a name="1000437"></a>Int16 FntAverageCharWidth (
   void
)
</pre>
<h4>
  <a name="1000438"> </a>Parameters 
</h4>

<p><a name="1000439"> </a>None.</p>
<h4>
  <a name="1000440"> </a>Returns 
</h4>

<p><a name="1000441"> </a>Returns the <i>maximum</i> character width (in pixels).</p>
<h4>
  <a name="1000442"> </a>Comments 
</h4>

<p><a name="1000443"> </a>This function returns the value of the <code>fRectHeight</code> field in the <a href="Font.html#1000016"><code>FontType</code></a> structure for the current font. Because Palm OS does not support kerning, this value is the maximum width in pixels rather than the average width. </p>

<h3 class="hbH3">
  <a name="1000449"> </a>FntBaseLine Function <a href="#999815"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1000451"> </a>Purpose 
</h4>

<p><a name="1000452"> </a>Gets the distance from the top of the character cell to the baseline for the current font. </p>
<h4>
  <a name="1000453"> </a>Declared In 
</h4>
<code>Font.h<a name="1000454"> </a></code><h4>
  <a name="1000455"> </a>Prototype 
</h4>
<pre class="proto"><a name="1000456"></a>Int16 FntBaseLine (
   void
)
</pre>
<h4>
  <a name="1000457"> </a>Parameters 
</h4>

<p><a name="1000458"> </a>None.</p>
<h4>
  <a name="1000459"> </a>Returns 
</h4>

<p><a name="1000460"> </a>Returns the ascent of the font (in pixels).</p>

<h3 class="hbH3">
  <a name="1000463"> </a>FntCharHeight Function <a href="#999815"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1000465"> </a>Purpose 
</h4>

<p><a name="1000466"> </a>Gets the character height of the current font including accents and descenders. </p>
<h4>
  <a name="1000467"> </a>Declared In 
</h4>
<code>Font.h<a name="1000468"> </a></code><h4>
  <a name="1000469"> </a>Prototype 
</h4>
<pre class="proto"><a name="1000470"></a>Int16 FntCharHeight (
   void
)
</pre>
<h4>
  <a name="1000471"> </a>Parameters 
</h4>

<p><a name="1000472"> </a>None.</p>
<h4>
  <a name="1000473"> </a>Returns 
</h4>

<p><a name="1000474"> </a>Returns the height of the characters in the current font, expressed in pixels.</p>

<h3 class="hbH3">
  <a name="1000477"> </a>FntCharsInWidth Function <a href="#999815"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1000479"> </a>Purpose 
</h4>

<p><a name="1000480"> </a>Finds the length in bytes of the characters from a specified string that fit within a passed width. </p>
<h4>
  <a name="1000481"> </a>Declared In 
</h4>
<code>Font.h<a name="1000482"> </a></code><h4>
  <a name="1000483"> </a>Prototype 
</h4>
<pre class="proto"><a name="1000484"></a>void FntCharsInWidth (
   Char const *string,
   Int16 *stringWidthP,
   Int16 *stringLengthP,
   Boolean *fitWithinWidth
)
</pre>
<h4>
  <a name="1000485"> </a>Parameters 
</h4>

<dl>
<dt><a name="1000486"> </a><code>&rarr;  <i><code>string</code> </i></code></dt>
<dd><a name="1000487"> </a>A pointer to the character string.</dd>

<dt><a name="1000488"> </a><code>&harr;  <i><code>stringWidthP</code></i></code></dt>
<dd><a name="1000489"> </a>The maximum width to allow (in pixels). Upon return, contains the actual width allowed. Note that this value does not include any trailing spaces or tabs, which are stripped by this function.</dd>

<dt><a name="1000490"> </a><code>&harr;  <i><code>stringLengthP</code></i></code></dt>
<dd><a name="1000491"> </a>The maximum length of text to allow, in bytes (assumes current font). Upon return, contains the number of bytes of text that can appear within the width. Note that this value does not include any trailing space or tabs, which are stripped by this function. </dd>

<dt><a name="1000492"> </a><code>&larr;  <i><code>fitWithinWidth</code></i></code></dt>
<dd><a name="1000493"> </a>Upon return, <code>false</code> if the string is considered truncated, <code>true</code> if it isn't.</dd>

</dl>
<h4>
  <a name="1000494"> </a>Returns 
</h4>

<dl>
<dt><a name="1000495"> </a><code>Returns nothing. </code></dt>
</dl>
<h4>
  <a name="1000496"> </a>Comments 
</h4>

<p><a name="1000497"> </a>Spaces and tabs at the end of a string are ignored and removed. If the string fits within the specified width after spaces and tabs are removed, the <code>fitWithinWidth</code> value contains <code>true</code>. Characters after a carriage return are ignored, and the string is considered truncated.</p>

<p><a name="1000498"> </a>This function is specifically designed for the code used to draw text fields. Consider using <a href="Font.html#1000807"><code>FntWidthToOffset()</code></a> in your application code instead, particularly if you do not want the special processing of trailing spaces, tabs, and carriage returns. </p>

<h3 class="hbH3">
  <a name="1000505"> </a>FntCharsWidth Function <a href="#999815"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1000507"> </a>Purpose 
</h4>

<p><a name="1000509"> </a>Gets the width of the specified character string. The <b>missing character symbol</b> (an open rectangle) is substituted for any character that does not exist in the current font.</p>
<h4>
  <a name="1000510"> </a>Declared In 
</h4>
<code>Font.h<a name="1000511"> </a></code><h4>
  <a name="1000512"> </a>Prototype 
</h4>
<pre class="proto"><a name="1000513"></a>Int16 FntCharsWidth (
   Char const *chars,
   Int16 len
)
</pre>
<h4>
  <a name="1000514"> </a>Parameters 
</h4>

<dl>
<dt><a name="1000515"> </a><code>&rarr;  <i><code>chars</code></i></code></dt>
<dd><a name="1000516"> </a>Pointer to a string of characters.</dd>

<dt><a name="1000517"> </a><code>&rarr;  <i><code>len</code></i></code></dt>
<dd><a name="1000518"> </a>Length in bytes of the string.</dd>

</dl>
<h4>
  <a name="1000519"> </a>Returns 
</h4>

<p><a name="1000520"> </a>Returns the width of the string, in pixels.</p>
<h4>
  <a name="1000521"> </a>Comments 
</h4>

<p><a name="1000522"> </a>Like all functions that work with strings, this function returns correct results for strings with multi-byte characters as well as strings with only single-byte characters. </p>
<h4>
  <a name="1000523"> </a>See Also 
</h4>

<p><a name="1000527"> </a><a href="Font.html#1000530"><code>FntCharWidth()</code></a></p>

<h3 class="hbH3">
  <a name="1000530"> </a>FntCharWidth Function <a href="#999815"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1000532"> </a>Purpose 
</h4>

<p><a name="1000533"> </a>Gets the width of the specified character. If the specified character does not exist within the current font, the missing character symbol is substituted.</p>
<h4>
  <a name="1000534"> </a>Declared In 
</h4>
<code>Font.h<a name="1000535"> </a></code><h4>
  <a name="1000536"> </a>Prototype 
</h4>
<pre class="proto"><a name="1000537"></a>Int16 FntCharWidth (
   Char ch
)
</pre>
<h4>
  <a name="1000538"> </a>Parameters 
</h4>

<dl>
<dt><a name="1000539"> </a><code>&rarr;  <i><code>ch</code>   </i></code></dt>
<dd><a name="1000540"> </a>Character whose width is needed.</dd>

</dl>
<h4>
  <a name="1000541"> </a>Returns 
</h4>

<p><a name="1000542"> </a>Returns the width of the specified character (in pixels).</p>
<h4>
  <a name="1000543"> </a>Comments 
</h4>

<p><a name="1000544"> </a><code>FntCharWidth</code> works with single-byte characters only. To determine the pixel width of a single-byte character or a multi-byte character, use <a href="Font.html#1000776"><code>FntWCharWidth()</code></a> instead of this function in Palm OS 4.0 and higher. Alternatively, for compatibility with earlier versions of Palm OS, link with the PalmOSGlue library and call <code>FntGlueWCharWidth</code>. For more information, see <a href="PalmOSGlueLib.html#1030875">Chapter 80, "PalmOSGlue Library."</a> </p>
<h4>
  <a name="1000553"> </a>See Also 
</h4>

<p><a name="1000557"> </a><a href="Font.html#1000505"><code>FntCharsWidth()</code></a></p>

<h3 class="hbH3">
  <a name="1000560"> </a>FntDefineFont Function <a href="#999815"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1000562"> </a>Purpose 
</h4>

<p><a name="1000563"> </a>Makes a custom font available to your application. </p>
<h4>
  <a name="1000564"> </a>Declared In 
</h4>
<code>Font.h<a name="1000565"> </a></code><h4>
  <a name="1000566"> </a>Prototype 
</h4>
<pre class="proto"><a name="1000567"></a>Err FntDefineFont (
   FontID font,
   FontPtr fontP
)
</pre>
<h4>
  <a name="1000568"> </a>Parameters 
</h4>

<dl>
<dt><a name="1000569"> </a><code>&rarr;  <i><code>font</code></i></code></dt>
<dd><a name="1000570"> </a>A value greater than or equal to <code>fntAppFontCustomBase</code> that identifies the custom font to the system. Values less than that are reserved for system use. Note that font IDs are 8-bit unsigned values and so must be less than 256. See <a href="Font.html#999928"><code>FontID</code></a>. </dd>

<dt><a name="1000575"> </a><code>&rarr;  <i><code>fontP</code></i></code></dt>
<dd><a name="1000576"> </a>Pointer to the custom font resource to be used by this function. This resource must remain locked until the calling application undefines the custom font or quits.</dd>

</dl>
<h4>
  <a name="1000577"> </a>Returns 
</h4>

<dl>
<dt><a name="1000578"> </a><code><code>errNone</code></code></dt>
<dd><a name="1000579"> </a>No error </dd>

<dt><a name="1000580"> </a><code><code>memErrNotEnoughSpace</code></code></dt>
<dd><a name="1000581"> </a>Insufficient dynamic heap space</dd>

</dl>
<h4>
  <a name="1000582"> </a>Comments 
</h4>

<p><a name="1000583"> </a>The custom font is available only when the application that called this function is running; when the application quits, the custom font is uninstalled automatically.</p>

<p><a name="1000584"> </a>The font this function specifies is not available at build time; as a result, some UI elements&#8212;labels, for example&#8212;cannot determine their bounds automatically as they do when using the built-in fonts. </p>

<p><a name="1000585"> </a>Before you use this function, you must load the font resource from the database and obtain a pointer to it. See <a href="../PalmOSCompanion/Text.html#1037919">"Creating Custom Fonts"</a> of the <i>Palm OS Programmer's Companion</i>, vol. I for more information.</p>
<h4>
  <a name="1000592"> </a>Compatibility 
</h4>

<p><a name="1000596"> </a>Implemented only if <a href="CompatibilityApdx.html#993158">3.0 New Feature Set</a> is present.</p>

<p><a name="1000597"> </a>Palm OS 4.0 and later do not allow a <code>NULL</code> value for the <code>fontP</code> parameter; therefore, you cannot undefine a font using <code>FntDefineFont(myFontID, NULL)</code>. Earlier versions of Palm OS allowed the <code>NULL</code> value. Note that there is usually no need to undefine a font. </p>

<p><a name="1000598"> </a>Palm OS 3.0 and 3.1 have problems with font ID values greater than 131. These problems are fixed in later releases of Palm OS. </p>
<h4>
  <a name="1000599"> </a>See Also 
</h4>

<p><a name="1000606"> </a><a href="Font.html#1000893"><code>FontSelect()</code></a>, <a href="Font.html#1000753"><code>FntSetFont()</code></a></p>

<h3 class="hbH3">
  <a name="1000609"> </a>FntDescenderHeight Function <a href="#999815"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1000611"> </a>Purpose 
</h4>

<p><a name="1000612"> </a>Gets the height of a character's descender in the current font. The height of a descender is the distance between the baseline and the bottom of the character cell.</p>
<h4>
  <a name="1000613"> </a>Declared In 
</h4>
<code>Font.h<a name="1000614"> </a></code><h4>
  <a name="1000615"> </a>Prototype 
</h4>
<pre class="proto"><a name="1000616"></a>Int16 FntDescenderHeight (
   void
)
</pre>
<h4>
  <a name="1000617"> </a>Parameters 
</h4>

<p><a name="1000618"> </a>None.</p>
<h4>
  <a name="1000619"> </a>Returns 
</h4>

<p><a name="1000620"> </a>Returns the height of a descender, expressed in pixels.</p>

<h3 class="hbH3">
  <a name="1000623"> </a>FntGetFont Function <a href="#999815"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1000625"> </a>Purpose 
</h4>

<p><a name="1000626"> </a>Gets the font ID of the current font.</p>
<h4>
  <a name="1000627"> </a>Declared In 
</h4>
<code>Font.h<a name="1000628"> </a></code><h4>
  <a name="1000629"> </a>Prototype 
</h4>
<pre class="proto"><a name="1000630"></a>FontID FntGetFont (
   void
)
</pre>
<h4>
  <a name="1000631"> </a>Parameters 
</h4>

<p><a name="1000632"> </a>None.</p>
<h4>
  <a name="1000633"> </a>Returns 
</h4>

<p><a name="1000634"> </a>Returns the ID of the current font. </p>
<h4>
  <a name="1000635"> </a>Comments 
</h4>

<p><a name="1000636"> </a>The current font is the font stored in the draw state. It is used when drawing characters directly onto the screen. Most user interface elements, such as fields, tables, labels, and buttons, do not use the current font. </p>
<h4>
  <a name="1000637"> </a>See Also 
</h4>

<p><a name="1000647"> </a><a href="Font.html#1000753"><code>FntSetFont()</code></a>, <a href="Font.html#1000650"><code>FntGetFontPtr()</code></a>, <a href="Font.html#999928"><code>FontID</code></a></p>

<h3 class="hbH3">
  <a name="1000650"> </a>FntGetFontPtr Function <a href="#999815"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1000652"> </a>Purpose 
</h4>

<p><a name="1000653"> </a>Gets a pointer to the current font.</p>
<h4>
  <a name="1000654"> </a>Declared In 
</h4>
<code>Font.h<a name="1000655"> </a></code><h4>
  <a name="1000656"> </a>Prototype 
</h4>
<pre class="proto"><a name="1000657"></a>FontPtr FntGetFontPtr (
   void
)
</pre>
<h4>
  <a name="1000658"> </a>Parameters 
</h4>

<p><a name="1000659"> </a>None.</p>
<h4>
  <a name="1000660"> </a>Returns 
</h4>

<p><a name="1000661"> </a>Returns a pointer to the current font.</p>
<h4>
  <a name="1000662"> </a>Comments 
</h4>

<p><a name="1000663"> </a>The current font is the font stored in the draw state. It is used when drawing characters directly onto the screen. Most user interface elements, such as fields, tables, labels, and buttons, do not use the current font. </p>
<h4>
  <a name="1000664"> </a>See Also 
</h4>

<p><a name="1000668"> </a><a href="Font.html#1000623"><code>FntGetFont()</code></a></p>

<h3 class="hbH3">
  <a name="1000671"> </a>FntGetScrollValues Function <a href="#999815"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1000673"> </a>Purpose 
</h4>

<p><a name="1000674"> </a>Gets the values needed to update a scroll bar based on a specified string and the position within the string. </p>
<h4>
  <a name="1000675"> </a>Declared In 
</h4>
<code>Font.h<a name="1000676"> </a></code><h4>
  <a name="1000677"> </a>Prototype 
</h4>
<pre class="proto"><a name="1000678"></a>void FntGetScrollValues (
   Char const *chars,
   UInt16 width,
   UInt16 scrollPos,
   UInt16 *linesP,
   UInt16 *topLine
)
</pre>
<h4>
  <a name="1000679"> </a>Parameters 
</h4>

<dl>
<dt><a name="1000680"> </a><code>&rarr;  <i><code>chars</code></i></code></dt>
<dd><a name="1000681"> </a>A null-terminated string.</dd>

<dt><a name="1000682"> </a><code>&rarr;  <i><code>width</code></i></code></dt>
<dd><a name="1000683"> </a>The width of a line of text in the display, given in pixels. </dd>

<dt><a name="1000684"> </a><code>&rarr;  <i><code>scrollPos</code></i></code></dt>
<dd><a name="1000685"> </a>The byte offset of the first character displayed on the topmost line.</dd>

<dt><a name="1000686"> </a><code>&larr;  <i><code>linesP</code></i></code></dt>
<dd><a name="1000687"> </a>Number of lines required to display the string.</dd>

<dt><a name="1000688"> </a><code>&larr;  <i><code>topLine</code></i></code></dt>
<dd><a name="1000689"> </a>The line of text that is the topmost visible line. Line numbering starts with 0.</dd>

</dl>
<h4>
  <a name="1000690"> </a>Returns 
</h4>

<p><a name="1000691"> </a>Returns nothing. Stores the number of lines of text in <code>linesP</code> and the top visible line in <code>topLine</code>.</p>
<h4>
  <a name="1000692"> </a>Compatibility 
</h4>

<p><a name="1000696"> </a>Implemented only if <a href="CompatibilityApdx.html#992789">2.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1000697"> </a>See Also 
</h4>

<p><a name="1000701"> </a><a href="Field.html#996763"><code>FldGetScrollValues()</code></a></p>

<h3 class="hbH3">
  <a name="1000704"> </a>FntIsAppDefined Macro <a href="#999815"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1000706"> </a>Purpose 
</h4>

<p><a name="1000707"> </a>Returns <code>true</code> if the font is defined by the application or <code>false</code> if it is defined by the system. </p>
<h4>
  <a name="1000708"> </a>Declared In 
</h4>
<code>Font.h <a name="1000709"> </a></code><h4>
  <a name="1000710"> </a>Prototype 
</h4>
<pre class="proto"><a name="1000711"></a>#define FntIsAppDefined (
   fnt
) 
</pre>
<h4>
  <a name="1000712"> </a>Parameters 
</h4>

<dl>
<dt><a name="1000713"> </a><code>&rarr;  <i><code>fnt</code></i></code></dt>
<dd><a name="1000717"> </a>The <a href="Font.html#999928"><code>FontID</code></a> of a font. </dd>

</dl>
<h4>
  <a name="1000718"> </a>Returns 
</h4>

<p><a name="1000719"> </a>Boolean that indicates if the font is an application-defined font. Returns <code>true</code> if application-defined, <code>false</code> if system-defined. </p>

<h3 class="hbH3">
  <a name="1000722"> </a>FntLineHeight Function <a href="#999815"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1000724"> </a>Purpose 
</h4>

<p><a name="1000725"> </a>Gets the height of a line in the current font. The height of a line is the height of the character cell plus the space between lines (the external leading). </p>
<h4>
  <a name="1000726"> </a>Declared In 
</h4>
<code>Font.h<a name="1000727"> </a></code><h4>
  <a name="1000728"> </a>Prototype 
</h4>
<pre class="proto"><a name="1000729"></a>Int16 FntLineHeight (
   void
)
</pre>
<h4>
  <a name="1000730"> </a>Parameters 
</h4>

<p><a name="1000731"> </a>None.</p>
<h4>
  <a name="1000732"> </a>Returns 
</h4>

<p><a name="1000733"> </a>Returns the height in pixels of a line in the current font.</p>

<h3 class="hbH3">
  <a name="1000736"> </a>FntLineWidth Function <a href="#999815"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1000738"> </a>Purpose 
</h4>

<p><a name="1000739"> </a>Gets the width of the specified line of text, taking tab characters into account. The function assumes that the characters passed are left-aligned and that the first character in the string is the first character drawn on a line. In other words, this routine doesn't work for characters that don't start at the beginning of a line.</p>
<h4>
  <a name="1000740"> </a>Declared In 
</h4>
<code>Font.h<a name="1000741"> </a></code><h4>
  <a name="1000742"> </a>Prototype 
</h4>
<pre class="proto"><a name="1000743"></a>Int16 FntLineWidth (
   Char const *pChars,
   UInt16 length
)
</pre>
<h4>
  <a name="1000744"> </a>Parameters 
</h4>

<dl>
<dt><a name="1000745"> </a><code>&rarr;  <i><code>pChars</code> </i></code></dt>
<dd><a name="1000746"> </a>Pointer to a string of characters.</dd>

<dt><a name="1000747"> </a><code>&rarr;  <i><code>length</code> </i></code></dt>
<dd><a name="1000748"> </a>Length in bytes of the string.</dd>

</dl>
<h4>
  <a name="1000749"> </a>Returns 
</h4>

<p><a name="1000750"> </a>Returns the line width (in pixels).</p>

<h3 class="hbH3">
  <a name="1000753"> </a>FntSetFont Function <a href="#999815"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1000755"> </a>Purpose 
</h4>

<p><a name="1000756"> </a>Sets the current font.</p>
<h4>
  <a name="1000757"> </a>Declared In 
</h4>
<code>Font.h<a name="1000758"> </a></code><h4>
  <a name="1000759"> </a>Prototype 
</h4>
<pre class="proto"><a name="1000760"></a>FontID FntSetFont (
   FontID font
)
</pre>
<h4>
  <a name="1000761"> </a>Parameters 
</h4>

<dl>
<dt><a name="1000762"> </a><code>&rarr;  <i><code>font</code> </i></code></dt>
<dd><a name="1000763"> </a>ID of the font to make the current font.</dd>

</dl>
<h4>
  <a name="1000764"> </a>Returns 
</h4>

<p><a name="1000765"> </a>Returns the ID of the previous font.</p>
<h4>
  <a name="1000766"> </a>Comments 
</h4>

<p><a name="1000767"> </a>If the specified font ID is invalid, this function sets the current font to <code>stdFont</code>. </p>

<p><a name="1000768"> </a>The current font is the font stored in the draw state. It is used when drawing characters directly onto the screen. Most user interface elements, such as fields, tables, labels, and buttons, do not use the current font. To set the font for one of these elements, check the API for that element. If the element's API doesn't have a function to set the font programmatically, check the PalmOSGlue library. </p>
<h4>
  <a name="1000769"> </a>See Also 
</h4>

<p><a name="1000773"> </a><a href="Font.html#1000623"><code>FntGetFont()</code></a></p>

<h3 class="hbH3">
  <a name="1000776"> </a>FntWCharWidth Function <a href="#999815"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1000778"> </a>Purpose 
</h4>

<p><a name="1000779"> </a>Gets the width of the specified character. If the specified character does not exist within the current font, the missing character symbol is substituted. </p>
<h4>
  <a name="1000780"> </a>Declared In 
</h4>
<code>Font.h<a name="1000781"> </a></code><h4>
  <a name="1000782"> </a>Prototype 
</h4>
<pre class="proto"><a name="1000783"></a>Int16 FntWCharWidth (
   WChar iChar
)
</pre>
<h4>
  <a name="1000784"> </a>Parameters 
</h4>

<dl>
<dt><a name="1000785"> </a><code>&rarr;  <i><code>iChar</code></i></code></dt>
<dd><a name="1000786"> </a>Character whose width is needed. </dd>

</dl>
<h4>
  <a name="1000787"> </a>Returns 
</h4>

<p><a name="1000788"> </a>Returns the width of the specified character (in pixels). </p>
<h4>
  <a name="1000789"> </a>Comments 
</h4>

<p><a name="1000790"> </a><code>FntWCharWidth</code> works with both single-byte characters and multi-byte characters. However, you should always pass a <code>WChar</code> variable to this function rather than a <code>Char</code> to avoid sign extension problems on values 0x80 and higher. </p>
<h4>
  <a name="1000791"> </a>Compatibility 
</h4>

<p><a name="1000795"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present. If you want to use this function in code intended to be run on earlier versions of Palm OS, link with the PalmOSGlue library and call <code>FntGlueWCharWidth</code>. For more information, see <a href="PalmOSGlueLib.html#1030875">Chapter 80, "PalmOSGlue Library."</a></p>
<h4>
  <a name="1000800"> </a>See Also 
</h4>

<p><a name="1000804"> </a><a href="Font.html#1000530"><code>FntCharWidth()</code></a></p>

<h3 class="hbH3">
  <a name="1000807"> </a>FntWidthToOffset Function <a href="#999815"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1000809"> </a>Purpose 
</h4>

<p><a name="1000810"> </a>Given a pixel position, gets the offset of the character displayed at that location. </p>
<h4>
  <a name="1000811"> </a>Declared In 
</h4>
<code>Font.h<a name="1000812"> </a></code><h4>
  <a name="1000813"> </a>Prototype 
</h4>
<pre class="proto"><a name="1000814"></a>Int16 FntWidthToOffset (
   Char const *pChars,
   UInt16 length,
   Int16 pixelWidth,
   Boolean *leadingEdge,
   Int16 *truncWidth
)
</pre>
<h4>
  <a name="1000815"> </a>Parameters 
</h4>

<dl>
<dt><a name="1000816"> </a><code>&rarr;  <i><code>pChars</code> </i></code></dt>
<dd><a name="1000817"> </a>Pointer to the character string. </dd>

<dt><a name="1000818"> </a><code>&rarr;  <i><code>length</code></i></code></dt>
<dd><a name="1000819"> </a>The length in bytes of <code>pChars</code>. </dd>

<dt><a name="1000820"> </a><code>&rarr;  <i><code>pixelWidth</code></i></code></dt>
<dd><a name="1000821"> </a>A horizontal pixel offset from the beginning of the string. </dd>

<dt><a name="1000822"> </a><code>&larr;  <i><code>leadingEdge</code></i></code></dt>
<dd><a name="1000823"> </a>Set to <code>true</code> if the pixel position <code>pixelWidth</code> falls on the left side of the character. Pass <code>NULL</code> for this parameter if you don't need this information. </dd>

<dt><a name="1000824"> </a><code>&larr;  <i><code>truncWidth</code></i></code></dt>
<dd><a name="1000825"> </a>The width of the text (in pixels) up to but not including the returned offset. Pass <code>NULL</code> for this parameter if you don't need this information. </dd>

</dl>
<h4>
  <a name="1000826"> </a>Returns 
</h4>

<p><a name="1000827"> </a>Returns the byte offset into <code>pChars</code> of the character that contains the pixel offset <code>pixelWidth</code>. If <code>pixelWidth</code> is past the right edge of the string, the function returns the byte offset past the last character in <code>pChars</code>, and <code>truncWidth</code> contains the width required to display the entire string. </p>
<h4>
  <a name="1000828"> </a>Compatibility 
</h4>

<p><a name="1000832"> </a>Implemented only if <a href="CompatibilityApdx.html#993788">3.1 New Feature Set</a> is present. If you want to use this function in code intended to be run on earlier versions of Palm OS, link with the PalmOSGlue library and call <code>FntGlueWidthToOffset</code>. For more information, see <a href="PalmOSGlueLib.html#1030875">Chapter 80, "PalmOSGlue Library."</a></p>

<h3 class="hbH3">
  <a name="1000839"> </a>FntWordWrap Function <a href="#999815"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1000841"> </a>Purpose 
</h4>

<p><a name="1000842"> </a>Given a string, determines how many bytes of text can be displayed within the specified width with a line break at a tab or space character.</p>
<h4>
  <a name="1000844"> </a>Declared In 
</h4>
<code>Font.h<a name="1000845"> </a></code><h4>
  <a name="1000846"> </a>Prototype 
</h4>
<pre class="proto"><a name="1000847"></a>UInt16 FntWordWrap (
   Char const *chars,
   UInt16 maxWidth
)
</pre>
<h4>
  <a name="1000848"> </a>Parameters 
</h4>

<dl>
<dt><a name="1000849"> </a><code>&rarr;  <i><code>chars</code></i></code></dt>
<dd><a name="1000850"> </a>A pointer to a null-terminated string.</dd>

<dt><a name="1000851"> </a><code>&rarr;  <i><code>maxWidth</code></i></code></dt>
<dd><a name="1000852"> </a>The maximum line width in pixels.</dd>

</dl>
<h4>
  <a name="1000853"> </a>Returns 
</h4>

<p><a name="1000854"> </a>Returns the length of the line, in bytes. If the entire string cannot be displayed within <code>maxWidth</code>, the value that this function returns specifies the offset where the line should be broken, which is typically following a space, tab, or line-feed character. </p>
<h4>
  <a name="1000855"> </a>Compatibility 
</h4>

<p><a name="1000859"> </a>Implemented only if <a href="CompatibilityApdx.html#992789">2.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1000860"> </a>See Also 
</h4>

<p><a name="1000864"> </a><a href="Field.html#998111"><code>FldWordWrap()</code></a></p>

<h3 class="hbH3">
  <a name="1000867"> </a>FntWordWrapReverseNLines Function <a href="#999815"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1000869"> </a>Purpose 
</h4>

<p><a name="1000870"> </a>Word wraps a text string backwards by the number of lines specified. The character position of the start of the first line and the number of lines that are actually word wrapped are returned. </p>
<h4>
  <a name="1000871"> </a>Declared In 
</h4>
<code>Font.h<a name="1000872"> </a></code><h4>
  <a name="1000873"> </a>Prototype 
</h4>
<pre class="proto"><a name="1000874"></a>void FntWordWrapReverseNLines(
   Char const *const chars,
   UInt16 maxWidth,
   UInt16 *linesToScrollP,
   UInt16 *scrollPosP
)
</pre>
<h4>
  <a name="1000875"> </a>Parameters 
</h4>

<dl>
<dt><a name="1000876"> </a><code>&rarr;  <i><code>chars</code></i></code></dt>
<dd><a name="1000877"> </a>A pointer to a null-terminated string.</dd>

<dt><a name="1000878"> </a><code>&rarr;  <i><code>maxWidth</code></i></code></dt>
<dd><a name="1000879"> </a>The maximum line width in pixels.</dd>

<dt><a name="1000880"> </a><code>&harr;  <i><code>linesToScrollP</code></i></code></dt>
<dd><a name="1000881"> </a>The number of lines to scroll. Upon return, contains the number of lines that were scrolled.</dd>

<dt><a name="1000882"> </a><code>&harr;  <i><code>scrollPosP</code></i></code></dt>
<dd><a name="1000883"> </a>The byte offset of the first character displayed on the topmost line. Upon return, contains the first character after wrapping.</dd>

</dl>
<h4>
  <a name="1000884"> </a>Returns 
</h4>

<p><a name="1000885"> </a>Returns nothing. Stores the first character after wrapping and the number of lines scrolled in <code>scrollPosP</code> and <code>linesToScrollP</code>. </p>
<h4>
  <a name="1000886"> </a>Compatibility 
</h4>

<p><a name="1000890"> </a>Implemented only if <a href="CompatibilityApdx.html#992789">2.0 New Feature Set</a> is present.</p>

<h3 class="hbH3">
  <a name="1000893"> </a>FontSelect Function <a href="#999815"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1000895"> </a>Purpose 
</h4>

<p><a name="1000896"> </a>Displays a dialog from which the user can choose one of the system-supplied fonts, and returns a <code>FontID</code> value representing the user's choice.</p>
<h4>
  <a name="1000897"> </a>Declared In 
</h4>
<code>FontSelect.h<a name="1000898"> </a></code><h4>
  <a name="1000899"> </a>Prototype 
</h4>
<pre class="proto"><a name="1000900"></a>FontID FontSelect (
   FontID fontID
)
</pre>
<h4>
  <a name="1000901"> </a>Parameters 
</h4>

<dl>
<dt><a name="1000902"> </a><code>&rarr;  <i><code>fontID</code></i></code></dt>
<dd><a name="1000903"> </a>A <code>FontID</code> value specifying the font to be highlighted as the default choice in the dialog box that this function displays. This value must be one of the following system-supplied constants:</dd>

<dl>
<dt><a name="1000908"> </a><code><code>stdFont</code></code></dt>
<dd><a name="1000909"> </a>Standard plain text font.</dd>

<dt><a name="1000914"> </a><code>boldFont</code></dt>
<dd><a name="1000915"> </a>Bold version of <code>stdFont</code>.</dd>

<dt><a name="1000917"> </a><code><code>largeFont</code></code></dt>
<dd><a name="1000918"> </a>A large plain text font.</dd>

<dt><a name="1000923"> </a><code>largeBoldFont</code></dt>
<dd><a name="1000924"> </a>Larger version of <code>boldFont</code>.</dd>

</dl>
</dl>
<h4>
  <a name="1000925"> </a>Returns 
</h4>

<p><a name="1000926"> </a>Returns a <code>FontID</code> value representing the font that the user chose. </p>
<h4>
  <a name="1000927"> </a>Comments 
</h4>

<p><a name="1000928"> </a>When your application launches for the first time, it should determine the system's default font. The default font varies based on locale. You can use <a href="PalmOSGlueLib.html#1031671"><code>FntGlueGetDefaultFontID()</code></a> from the PalmOSGlue library to determine the default font as follows: </p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
fntID =
FntGlueGetDefaultFontID(<code>defaultSystemFont);</code><a name="1000933"> </a>
</pre><div class="CodeRule"><hr></div>

<h4>
  <a name="1000934"> </a>Compatibility 
</h4>

<p><a name="1000938"> </a>Implemented only if <a href="CompatibilityApdx.html#993158">3.0 New Feature Set</a> is present. </p>
<h4>
  <a name="1000939"> </a>See Also 
</h4>

<p><a name="1000946"> </a><a href="Font.html#1000623"><code>FntGetFont()</code></a>, <a href="Font.html#1000753"><code>FntSetFont()</code></a></p>

<p><a name="1000947"> </a></p>
&nbsp;<br>
</div>
<!--END CONTENT-->

</td>
<td width="5">&nbsp;&nbsp;</td>
</tr>

</table>

<!-- BEGIN FOOTER -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="7" rowspan="2"><img name="index_x" src="images/shim.gif" width="7" height="33" border="0" alt=""></td>
<td align="left"><img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
<td width="10" rowspan="2"><img name="index_x" src="images/shim.gif" width="10" height="33" border="0" alt=""></td>
</tr>
<tr>
<td align="center">
<p class="footer">
Copyright © 1996-2004, PalmSource, Inc. and its affiliates.  All rights reserved. <br>
<a href="http://www.palmsource.com/contact/">Write Us</a> | <a href="http://www.palmos.com/dev/training/">Training</a> | <a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a> | <a href="Reference_Front.html" target="_blank">Legal</a></p>
<br>
<!--BEGIN BOOK NAVIGATION-->
<p class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="ReferenceTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="FloatManager.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="GraffitiManager.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ReferenceIX.html">Index</a>
</p>
</td>
</tr>
</table>
<!-- END FOOTER -->

</body>
</html>