<html>
<head>
<title>(68K) Error Manager | Palm OS&#174; Programmer's  API Reference</title> 
<link href="psi_devpubs.css" rel="stylesheet" type="text/css">

<!-- BEGIN META DATA -->
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META NAME="PSITEMPLATE" CONTENT="1006-007 PalmSource_HTML_2003 20041101">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks AutoMap 2003 for FrameMaker 8.0.6.2138">
<META NAME="LASTUPDATED" CONTENT="11/22/04 10:46:20">
<!-- END META DATA -->
</head>

<body bgcolor="#ffffff" text="#000000" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<a name="1027651"></a>

<!-- BEGIN TOPNAV -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td><img src="images/shim.gif" width="7" height="75" border="0" alt=""></td>
<td align="left"><table border="0" cellpadding="0" cellspacing="0" width="744">
<tr>
<td><img name="index_r2_c1" src="images/shim.gif" width="25" height="75" border="0" alt=""></td>
<td valign="top"><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_r2_c4" src="images/shim.gif" width="96" height="15" border="0" alt=""></td>
</tr>
<tr>
<td><a href="http://www.palmsource.com/"><img name="ps_logo" src="images/ps_logo.gif" width="96" height="54" border="0" alt=""></a></td>
</tr>

</table>
</td>

<td><table border="0" cellpadding="0" cellspacing="0" width="30">
<td><img name="index_x" src="images/shim.gif" width="30" height="75" border="0" alt=""></td>
</table></td>

<!--BEGIN MASTHEAD-->
<td><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
<tr>
<td>
<!--BEGIN BOOK NAVIGATION-->
<span class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="ReferenceTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="DebugMgr.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ExpansionManager.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ReferenceIX.html">Index</a>
</span>
<!--END BOOK NAVIGATION-->
</tr>
<tr>
<td>
<!--BEGIN PAGE TITLE-->
<h2 class="PageTitle">32 &nbsp;&nbsp;
Error Manager</h2></td>
<!--END PAGE TITLE-->
</tr>
<tr>
<td>
<!--BEGIN BOOK TITLE-->
<p class="BookTitle">Palm OS&#174; Programmer's  API Reference</p>
<p class="SubTitle">Palm OS&#174; 68K SDK </p>
<!--END BOOK TITLE-->
</td>
</tr>
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
</table>
</td>
<!--END MASTHEAD-->
</tr>
</table>
<img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
</tr>
</table>
<!-- END TOPNAV -->

<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" width="5"><img name="index_x" src="images/shim.gif" width="5" height="33" border="0" alt=""></td>

<!--BEGIN SIDETOC-->
<td valign="top" width="175">
<div id="sidetoc" valign="bottom">
<h1 class="SideTOC1-PartTab"><a href="PartII.html">Part II: System Management</a> </h1>
<h1 class="SideTOC1"><a href="ErrorManager.html">32  Error Manager</a></h1>

   <h2 class="SideTOC2"><a href="#1027677">
   ERROR_CHECK_LEVEL Define</a></h2>

   <h2 class="SideTOC2"><a href="#1027702">
   Error Manager Data Structures</a></h2>

      <h3 class="SideTOC3"><a href="#1027705">
      ErrExceptionType</a></h3>

   <h2 class="SideTOC2"><a href="#1027738">
   Error Manager Functions and Macros</a></h2>

      <h3 class="SideTOC3"><a href="#1027741">
      ErrAlert</a></h3>

      <h3 class="SideTOC3"><a href="#1027766">
      ErrCatch</a></h3>

      <h3 class="SideTOC3"><a href="#1027805">
      ErrDisplay</a></h3>

      <h3 class="SideTOC3"><a href="#1027831">
      ErrDisplayFileLineMsg</a></h3>

      <h3 class="SideTOC3"><a href="#1027871">
      ErrEndCatch</a></h3>

      <h3 class="SideTOC3"><a href="#1027893">
      ErrExceptionList</a></h3>

      <h3 class="SideTOC3"><a href="#1027916">
      ErrFatalDisplayIf</a></h3>

      <h3 class="SideTOC3"><a href="#1027946">
      ErrNonFatalDisplayIf</a></h3>

      <h3 class="SideTOC3"><a href="#1027975">
      ErrThrow</a></h3>

      <h3 class="SideTOC3"><a href="#1028008">
      ErrTry</a></h3>

</div>
</td>

<td width="5">&nbsp;&nbsp;</td>
<td width="2" background="images/index_r8_c10.gif"><img src="images/shim.gif" width="2" height="75" border="0" alt=""></td>
<td width="5">&nbsp;&nbsp;</td>

<!--END SIDETOC-->

<td valign="top">

<!--BEGIN CONTENT-->
<div id="content" valign="bottom">
<p><a name="1027654"> </a>This chapter provides reference material for the error manager. The error manager API is declared in the header files <code>ErrorMgr.h</code> and <code>ErrorBase.h</code>. This chapter covers:</p>
   <blockquote class = "bq"><a name="1027660"> </a><a href="ErrorManager.html#1027677">ERROR_CHECK_LEVEL Define</a></blockquote>
   <blockquote class = "bq"><a name="1027664"> </a><a href="ErrorManager.html#1027702">Error Manager Data Structures</a></blockquote>
   <blockquote class = "bq"><a name="1027668"> </a><a href="ErrorManager.html#1027738">Error Manager Functions and Macros</a></blockquote>

<p><a name="1027669"> </a>For more information on the error manager, see the chapter <a href="../PalmOSCompanion/DebuggingStrats.html#1055446">"Debugging Strategies"</a> in the <i>Palm OS Programmer's Companion</i>, vol. I. </p>

<h2 class="haH2">
  <a name="1027677"> </a>ERROR_CHECK_LEVEL Define <a href="#1027651"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1027679"> </a>The error manager uses the compiler define <code>ERROR_CHECK_LEVEL</code> to control the level of error messages displayed. You can set the value of the compiler define to control which level of error checking and display is compiled into the application. Three levels of error checking are supported: none, partial, and full.</p>


<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1027682"> </a><b><span style="color: #000000;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">If you set ERR_CHECK_LEVEL to...</span></b></p>
    </th>
    <th><p class="tt"><a name="1027684"> </a><b>The compiler...</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1027687"> </a><code>ERROR_CHECK_NONE (0)</code></p>
    </td>
    <td><p class="tt"><a name="1027689"> </a>Doesn't compile in any error calls.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1027692"> </a><code>ERROR_CHECK_PARTIAL</code> <code>(1)</code></p>
    </td>
    <td><p class="tt"><a name="1027694"> </a>Compiles in only <code>ErrDisplay</code> and <code>ErrFatalDisplayIf</code> calls.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1027697"> </a><code>ERROR_CHECK_FULL</code> <code>(2)</code></p>
    </td>
    <td><p class="tt"><a name="1027699"> </a>Compiles in all three calls.</p>
    </td>
  </tr>
</table>

</div>


<h2 class="haH2">
  <a name="1027702"> </a>Error Manager Data Structures <a href="#1027651"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="1027705"> </a>ErrExceptionType Struct <a href="#1027651"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1027707"> </a>Purpose 
</h4>

<p><a name="1027711"> </a>An <code>ErrExceptionType</code> structure is created for each <a href="ErrorManager.html#1028008"><code>ErrTry()</code></a> and <a href="ErrorManager.html#1027766"><code>ErrCatch()</code></a> block. At any point in the program, there is a linked list of these structures. An <code>ErrExceptionType</code> structure stores information about the state of the machine (register values) at the start of the <code>ErrTry</code> block.</p>
<h4>
  <a name="1027715"> </a>Prototype 
</h4>
<pre class="proto"><a name="1027716"></a>typedef struct ErrExceptionType {
  struct ErrExceptionType *nextP;
  ErrJumpBuf state;
  Int32 err;
} ErrExceptionType;
</pre>
<pre class="proto"><a name="1035323"></a>typedef ErrExceptionType *ErrExceptionPtr;
</pre>
<h4>
  <a name="1035332"> </a>Fields 
</h4>

<dl>
<dt><a name="1027725"> </a><code><code>nextP</code></code></dt>
<dd><a name="1027727"> </a>Next <code>ErrExceptionType</code> structure in the linked list.</dd>

<dt><a name="1027729"> </a><code><code>state</code></code></dt>
<dd><a name="1027731"> </a>Storage for setjmp/longjmp.</dd>

<dt><a name="1027733"> </a><code><code>err</code></code></dt>
<dd><a name="1027735"> </a>Error code.</dd>

</dl>

<h2 class="haH2">
  <a name="1027738"> </a>Error Manager Functions and Macros <a href="#1027651"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="1027741"> </a>ErrAlert Macro <a href="#1027651"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1027743"> </a>Purpose 
</h4>

<p><a name="1027744"> </a>Displays an alert dialog for runtime errors. </p>
<h4>
  <a name="1027745"> </a>Declared In 
</h4>
<code>ErrorBase.h<a name="1027746"> </a></code><h4>
  <a name="1027747"> </a>Prototype 
</h4>
<pre class="proto"><a name="1027748"></a>#define ErrAlert (
   err
)
</pre>
<h4>
  <a name="1027749"> </a>Parameters 
</h4>

<dl>
<dt><a name="1027750"> </a><code>&rarr;  <i><code>err</code></i></code></dt>
<dd><a name="1027751"> </a>An error code (as type <code>Err</code>).</dd>

</dl>
<h4>
  <a name="1027752"> </a>Returns 
</h4>

<p><a name="1027753"> </a>Returns 0, which indicates that the OK button has been clicked to dismiss the dialog. </p>
<h4>
  <a name="1027754"> </a>Comments 
</h4>

<p><a name="1027755"> </a>This macro is intended for use by applications that are likely to receive runtime errors when the application itself is not at fault. For example, a networking application might use it to display an alert if the remote server cannot be found. </p>

<p><a name="1027756"> </a>The error message displayed on the dialog is stored in a 'tSTL' resource. A 'tSTL' resource contains a list of strings that can be looked up by index. The <code>err</code> parameter is used as the index into this list.</p>

<p><a name="1027757"> </a>To use application-defined error codes in <code>ErrAlert</code>, make sure that all of your error codes are greater than or equal to <code>appErrorClass</code>. This way, the error manager looks up the code in the application's 'tSTL' resource number 0. All other error codes are taken from 'tSTL' resource stored in the system. </p>
<h4>
  <a name="1027759"> </a>Compatibility 
</h4>

<p><a name="1027763"> </a>Implemented only if <a href="CompatibilityApdx.html#993903">3.2 New Feature Set</a> is present.</p>

<h3 class="hbH3">
  <a name="1027766"> </a>ErrCatch Macro <a href="#1027651"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1027768"> </a>Purpose 
</h4>

<p><a name="1027772"> </a>Marks the end of an <a href="ErrorManager.html#1028008"><code>ErrTry()</code></a> block and the beginning of an <code>ErrCatch</code> block.</p>
<h4>
  <a name="1027773"> </a>Declared In 
</h4>
<code>ErrorBase.h<a name="1027774"> </a></code><h4>
  <a name="1027775"> </a>Prototype 
</h4>
<pre class="proto"><a name="1027776"></a>#define ErrCatch (
   theErr
)
</pre>
<h4>
  <a name="1027777"> </a>Parameters 
</h4>

<dl>
<dt><a name="1027778"> </a><code>&rarr;  <i><code>theErr</code></i></code></dt>
<dd><a name="1027779"> </a>An exception code identifying the reason for the failure. This is the value supplied to the <a href="ErrorManager.html#1027975"><code>ErrThrow()</code></a> call that caused the jump to this <code>ErrCatch</code> block.</dd>

</dl>
<h4>
  <a name="1027783"> </a>Returns 
</h4>

<p><a name="1027784"> </a>Returns nothing.</p>
<h4>
  <a name="1027785"> </a>Comments 
</h4>

<p><a name="1027789"> </a><code>ErrCatch</code> can only be used in conjunction with <a href="ErrorManager.html#1028008"><code>ErrTry()</code></a> and <code>ErrEndCatch</code>. See the comments under <code>ErrTry</code> for usage instructions.</p>

<p><a name="1027790"> </a><code>ErrTry</code>, <code>ErrCatch</code> and <code>ErrThrow</code> are based on setjmp and longjmp. At the beginning of an <code>ErrTry</code> block, setjmp saves the machine registers. <code>ErrThrow</code> calls longjmp, which restores the registers and jumps to the beginning of the <code>ErrCatch</code> block. Therefore, any changes in the <code>ErrTry</code> block to variables stored in registers aren't retained when entering the <code>ErrCatch</code> block. </p>

<p><a name="1027791"> </a>The solution is to declare variables that you want to use in both the <code>ErrTry</code> and <code>ErrCatch</code> blocks as "volatile". For example:</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
volatile long x = 1;  // Declare volatile local variable<a name="1027792"> </a>
ErrTry {<a name="1027793"> </a>
   x = 100;    // Set local variable in Try<a name="1027794"> </a>
   ErrThrow(-1);<a name="1027795"> </a>
} <a name="1027796"> </a>
ErrCatch(inErr) {<a name="1027797"> </a>
   if (x &gt; 1) {    // Use local variable in Catch<a name="1027798"> </a>
      SysBeep(1);<a name="1027799"> </a>
   }<a name="1027800"> </a>
} ErrEndCatch<a name="1027801"> </a>
</pre><div class="CodeRule"><hr></div>


<p><a name="1027802"> </a>If you have many local variables after the <code>ErrCatch</code> you may want to put the <code>ErrTry</code> and <code>ErrCatch</code> in a separate enclosing function.</p>

<h3 class="hbH3">
  <a name="1027805"> </a>ErrDisplay Macro <a href="#1027651"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1027807"> </a>Purpose 
</h4>

<p><a name="1027808"> </a>Displays an error alert if error checking is set to partial or full.</p>
<h4>
  <a name="1027809"> </a>Declared In 
</h4>
<code>ErrorMgr.h<a name="1027810"> </a></code><h4>
  <a name="1027811"> </a>Prototype 
</h4>
<pre class="proto"><a name="1027812"></a>#define ErrDisplay (
   msg
)
</pre>
<h4>
  <a name="1027813"> </a>Parameters 
</h4>

<dl>
<dt><a name="1027814"> </a><code>&rarr;  <i><code>msg</code></i></code></dt>
<dd><a name="1027815"> </a>Error message text as a string.</dd>

</dl>
<h4>
  <a name="1027816"> </a>Returns 
</h4>

<p><a name="1027817"> </a>No return value.</p>
<h4>
  <a name="1027818"> </a>Comments 
</h4>

<p><a name="1027819"> </a>Call this macro to display an error message, source code filename, and line number. This macro is compiled into the code only if the compiler define <code>ERROR_CHECK_LEVEL</code> is set to 1 or 2 (<code>ERROR_CHECK_PARTIAL</code> or <code>ERROR_CHECK_FULL</code>).</p>
<h4>
  <a name="1027821"> </a>See Also 
</h4>

<p><a name="1027828"> </a><a href="ErrorManager.html#1027916"><code>ErrFatalDisplayIf()</code></a>, <a href="ErrorManager.html#1027946"><code>ErrNonFatalDisplayIf()</code></a> </p>

<h3 class="hbH3">
  <a name="1027831"> </a>ErrDisplayFileLineMsg Function <a href="#1027651"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1027833"> </a>Purpose 
</h4>

<p><a name="1027834"> </a>Display a dialog with an error message. Do not allow the user to exit the dialog or continue.</p>
<h4>
  <a name="1027835"> </a>Declared In 
</h4>
<code>ErrorBase.h<a name="1027836"> </a></code><h4>
  <a name="1027837"> </a>Prototype 
</h4>
<pre class="proto"><a name="1027839"></a>void ErrDisplayFileLineMsg(
   const Char *const filename,
   UInt16 lineNo,
   const Char *const msg
)
</pre>
<h4>
  <a name="1027840"> </a>Parameters 
</h4>

<dl>
<dt><a name="1027841"> </a><code>&rarr;  <i><code>filename</code></i></code></dt>
<dd><a name="1027842"> </a>Source code filename. </dd>

<dt><a name="1027843"> </a><code>&rarr;  <i><code>lineno</code></i></code></dt>
<dd><a name="1027844"> </a>Line number in the source code file. </dd>

<dt><a name="1027845"> </a><code>&rarr;  <i><code>msg</code></i></code></dt>
<dd><a name="1027846"> </a>Message to display.</dd>

</dl>
<h4>
  <a name="1027847"> </a>Returns 
</h4>

<p><a name="1027848"> </a>Never returns.</p>
<h4>
  <a name="1027849"> </a>Comments 
</h4>

<p><a name="1027853"> </a>Called by <a href="ErrorManager.html#1027916"><code>ErrFatalDisplayIf()</code></a> and <a href="ErrorManager.html#1027946"><code>ErrNonFatalDisplayIf()</code></a>. This function is useful when the application is already on the device and being tested by users. </p>

<p><a name="1027857"> </a>On Japanese systems, the system displays a generic message indicating that an error has occurred instead of displaying the English message. </p>
<h4>
  <a name="1027858"> </a>See Also 
</h4>

<p><a name="1027865"> </a><a href="ErrorManager.html#1027916"><code>ErrFatalDisplayIf()</code></a>, <a href="ErrorManager.html#1027946"><code>ErrNonFatalDisplayIf()</code></a>, <a href="ErrorManager.html#1027805"><code>ErrDisplay()</code></a> </p>

<h3 class="hbH3">
  <a name="1027871"> </a>ErrEndCatch Macro <a href="#1027651"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1027873"> </a>Purpose 
</h4>

<p><a name="1027877"> </a>Marks the end of an <a href="ErrorManager.html#1027766"><code>ErrCatch()</code></a> block.</p>
<h4>
  <a name="1027878"> </a>Declared In 
</h4>
<code>ErrorBase.h<a name="1027879"> </a></code><h4>
  <a name="1027880"> </a>Prototype 
</h4>
<pre class="proto"><a name="1027881"></a>#define ErrEndCatch
</pre>
<h4>
  <a name="1027882"> </a>Parameters 
</h4>

<dl>
<dt><a name="1027883"> </a><code>None.</code></dt>
</dl>
<h4>
  <a name="1027884"> </a>Returns 
</h4>

<p><a name="1027885"> </a>Returns nothing.</p>
<h4>
  <a name="1027886"> </a>Comments 
</h4>

<p><a name="1027890"> </a><code>ErrEndCatch</code> can only be used in conjunction with <a href="ErrorManager.html#1028008"><code>ErrTry()</code></a> and <code>ErrCatch</code>. See the comments under <code>ErrTry</code> for usage instructions.</p>

<h3 class="hbH3">
  <a name="1027893"> </a>ErrExceptionList Function <a href="#1027651"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1027895"> </a>Purpose 
</h4>

<p><a name="1027899"> </a>Return the address of the pointer to the first <a href="ErrorManager.html#1027705"><code>ErrExceptionType</code></a> structure in the linked list of exception structures.</p>
<h4>
  <a name="1027900"> </a>Declared In 
</h4>
<code>ErrorBase.h<a name="1027901"> </a></code><h4>
  <a name="1027902"> </a>Prototype 
</h4>
<pre class="proto"><a name="1027903"></a>MemPtr *ErrExceptionList (
   void
)
</pre>
<h4>
  <a name="1027904"> </a>Parameters 
</h4>

<dl>
<dt><a name="1027905"> </a><code>None.</code></dt>
</dl>
<h4>
  <a name="1027906"> </a>Returns 
</h4>

<p><a name="1027907"> </a>Returns the address of the pointer to the first <code>ErrExceptionType </code>structure linked into the exception list.</p>
<h4>
  <a name="1027908"> </a>Comments 
</h4>

<p><a name="1027909"> </a>This function is used by the ErrTry and ErrCatch macros as well as the <a href="ErrorManager.html#1027975"><code>ErrThrow()</code></a> function in order to find the exception list.</p>

<p><a name="1027913"> </a>When called from an application, this routine returns the application's exception list.</p>

<h3 class="hbH3">
  <a name="1027916"> </a>ErrFatalDisplayIf Macro <a href="#1027651"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1027918"> </a>Purpose 
</h4>

<p><a name="1027919"> </a>Displays an error alert dialog if <code>condition</code> is <code>true</code> and error checking is set to partial or full. </p>
<h4>
  <a name="1027920"> </a>Declared In 
</h4>
<code>ErrorMgr.h<a name="1027921"> </a></code><h4>
  <a name="1027922"> </a>Prototype 
</h4>
<pre class="proto"><a name="1027923"></a>#define ErrFatalDisplayIf (
   condition,
   msg
)
</pre>
<h4>
  <a name="1027924"> </a>Parameters 
</h4>

<dl>
<dt><a name="1027925"> </a><code>&rarr;  <i><code>condition</code></i></code></dt>
<dd><a name="1027926"> </a>A boolean value. If <code>true</code>, display the error.</dd>

<dt><a name="1027927"> </a><code>&rarr;  <i><code>msg</code></i></code></dt>
<dd><a name="1027928"> </a>Error message text as a string.</dd>

</dl>
<h4>
  <a name="1027929"> </a>Returns 
</h4>

<p><a name="1027930"> </a>No return value.</p>
<h4>
  <a name="1027931"> </a>Comments 
</h4>

<p><a name="1027933"> </a>Call this macro to display a fatal error message, source code filename, and line number. The alert is displayed only if <code>condition</code> is <code>true</code>. The dialog is cleared only when the user resets the system by responding to the dialog.</p>

<p><a name="1027934"> </a>This macro is compiled into the code if the compiler define <code>ERROR_CHECK_LEVEL</code> is set to 1 or 2 (<code>ERROR_CHECK_PARTIAL</code> or <code>ERROR_CHECK_FULL</code>).</p>
<h4>
  <a name="1027936"> </a>See Also 
</h4>

<p><a name="1027943"> </a><a href="ErrorManager.html#1027946"><code>ErrNonFatalDisplayIf()</code></a>, <a href="ErrorManager.html#1027805"><code>ErrDisplay()</code></a>, </p>

<h3 class="hbH3">
  <a name="1027946"> </a>ErrNonFatalDisplayIf Macro <a href="#1027651"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1027948"> </a>Purpose 
</h4>

<p><a name="1027949"> </a>Displays an error alert dialog if condition is true and error checking is set to full. </p>
<h4>
  <a name="1027950"> </a>Declared In 
</h4>
<code>ErrorMgr.h<a name="1027951"> </a></code><h4>
  <a name="1027952"> </a>Prototype 
</h4>
<pre class="proto"><a name="1027953"></a>#define ErrNonFatalDisplayIf (
   condition,
   msg
)
</pre>
<h4>
  <a name="1027954"> </a>Parameters 
</h4>

<dl>
<dt><a name="1027955"> </a><code>&rarr;  <i><code>condition</code></i></code></dt>
<dd><a name="1027956"> </a>A boolean value. If <code>true</code>, display the error.</dd>

<dt><a name="1027957"> </a><code>&rarr;  <i><code>msg</code></i></code></dt>
<dd><a name="1027958"> </a>Error message text as a string.</dd>

</dl>
<h4>
  <a name="1027959"> </a>Returns 
</h4>

<p><a name="1027960"> </a>No return value.</p>
<h4>
  <a name="1027961"> </a>Comments 
</h4>

<p><a name="1027962"> </a>Call this macro to display a nonfatal error message, source code filename, and line number. The alert is displayed only if <code>condition</code> is <code>true</code>. The alert dialog is cleared when the user selects to continue (or resets the system). </p>

<p><a name="1027963"> </a>This macro is compiled into the code only if the compiler define <code>ERROR_CHECK_LEVEL</code> is set to 2 (<code>ERROR_CHECK_FULL</code>).</p>
<h4>
  <a name="1027965"> </a>See Also 
</h4>

<p><a name="1027972"> </a><a href="ErrorManager.html#1027916"><code>ErrFatalDisplayIf()</code></a>, <a href="ErrorManager.html#1027805"><code>ErrDisplay()</code></a></p>

<h3 class="hbH3">
  <a name="1027975"> </a>ErrThrow Function <a href="#1027651"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1027977"> </a>Purpose 
</h4>

<p><a name="1027978"> </a>Cause a jump to the nearest Catch block.</p>
<h4>
  <a name="1027979"> </a>Declared In 
</h4>
<code>ErrorBase.h<a name="1027980"> </a></code><h4>
  <a name="1027981"> </a>Prototype 
</h4>
<pre class="proto"><a name="1027983"></a>void ErrThrow (
   Int32 err
)
</pre>
<h4>
  <a name="1027984"> </a>Parameters 
</h4>

<dl>
<dt><a name="1027985"> </a><code>&rarr;  <i><code>err</code></i></code></dt>
<dd><a name="1027986"> </a>Error code.</dd>

</dl>
<h4>
  <a name="1027987"> </a>Returns 
</h4>

<p><a name="1027988"> </a>Never returns.</p>
<h4>
  <a name="1027989"> </a>Comments 
</h4>

<p><a name="1027993"> </a>Use the macros ErrTry, ErrCatch, and ErrEndCatch in conjunction with this function. </p>
<h4>
  <a name="1027994"> </a>See Also 
</h4>

<p><a name="1028001"> </a><a href="ErrorManager.html#1027916"><code>ErrFatalDisplayIf()</code></a>, <a href="ErrorManager.html#1027946"><code>ErrNonFatalDisplayIf()</code></a>, <a href="ErrorManager.html#1027805"><code>ErrDisplay()</code></a> </p>

<h3 class="hbH3">
  <a name="1028008"> </a>ErrTry Macro <a href="#1027651"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1028010"> </a>Purpose 
</h4>

<p><a name="1028011"> </a>Marks the beginning of a try/catch block.</p>
<h4>
  <a name="1028012"> </a>Declared In 
</h4>
<code>ErrorBase.h<a name="1028013"> </a></code><h4>
  <a name="1028014"> </a>Prototype 
</h4>
<pre class="proto"><a name="1028015"></a>#define ErrTry
</pre>
<h4>
  <a name="1028016"> </a>Parameters 
</h4>

<dl>
<dt><a name="1028017"> </a><code>None.</code></dt>
</dl>
<h4>
  <a name="1028018"> </a>Returns 
</h4>

<p><a name="1028019"> </a>Returns nothing.</p>
<h4>
  <a name="1028020"> </a>Comments 
</h4>

<p><a name="1028024"> </a>An exception raised by a call to <a href="ErrorManager.html#1027975"><code>ErrThrow()</code></a>&#8212;even from within a nested subroutine&#8212;causes program execution to switch to the beginning of the <a href="ErrorManager.html#1027766"><code>ErrCatch()</code></a> block. If the end of the block enclosed by <code>ErrTry</code> is encountered without a call to <code>ErrThrow</code>, execution jumps to the line of code following the <a href="ErrorManager.html#1027871"><code>ErrEndCatch()</code></a> macro. See <a href="../PalmOSCompanion/DebuggingStrats.html#1055539">"The Try-and-Catch Mechanism"</a> of the <i>Palm OS Programmer's Companion</i>, vol. I for a more thorough description of how this mechanism works.</p>
<h4>
  <a name="1028037"> </a>Example 
</h4>

<p><a name="1028038"> </a>You must structure your code exactly as shown here. You can't use <code>ErrTry</code> without <code>ErrCatch</code> and <code>ErrEndCatch</code>, or vice versa.</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
ErrTry {<a name="1028039"> </a>
   // Do something which may fail. Call ErrThrow to signal
   // failure and force a jump to the following ErrCatch
   // block.<a name="1028040"> </a>
} <a name="1028041"> </a>
ErrCatch(inErr) {<a name="1028042"> </a>
   // Recover or cleanup after a failure in the above ErrTry
   // block. "inErr" is an exception code identifying the
   // reason for the failure.<a name="1028043"> </a>
 <a name="1028044"> </a>
   // Call ErrThrow if you want to jump out to the next
   // ErrCatch block.<a name="1028045"> </a>
 <a name="1028046"> </a>
   // The code in this block doen't execute if the above
   // ErrTry block completes without a call to ErrThrow.<a name="1028047"> </a>
} ErrEndCatch<a name="1028048"> </a>
</pre><div class="CodeRule"><hr></div>


<p><a name="1028049"> </a></p>
&nbsp;<br>
</div>
<!--END CONTENT-->

</td>
<td width="5">&nbsp;&nbsp;</td>
</tr>

</table>

<!-- BEGIN FOOTER -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="7" rowspan="2"><img name="index_x" src="images/shim.gif" width="7" height="33" border="0" alt=""></td>
<td align="left"><img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
<td width="10" rowspan="2"><img name="index_x" src="images/shim.gif" width="10" height="33" border="0" alt=""></td>
</tr>
<tr>
<td align="center">
<p class="footer">
Copyright © 1996-2004, PalmSource, Inc. and its affiliates.  All rights reserved. <br>
<a href="http://www.palmsource.com/contact/">Write Us</a> | <a href="http://www.palmos.com/dev/training/">Training</a> | <a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a> | <a href="Reference_Front.html" target="_blank">Legal</a></p>
<br>
<!--BEGIN BOOK NAVIGATION-->
<p class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="ReferenceTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="DebugMgr.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ExpansionManager.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ReferenceIX.html">Index</a>
</p>
</td>
</tr>
</table>
<!-- END FOOTER -->

</body>
</html>