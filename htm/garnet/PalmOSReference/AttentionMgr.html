<html>
<head>
<title>(68K) Attention Manager | Palm OS&#174; Programmer's  API Reference</title> 
<link href="psi_devpubs.css" rel="stylesheet" type="text/css">

<!-- BEGIN META DATA -->
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META NAME="PSITEMPLATE" CONTENT="1006-007 PalmSource_HTML_2003 20041101">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks AutoMap 2003 for FrameMaker 8.0.6.2138">
<META NAME="LASTUPDATED" CONTENT="11/22/04 10:45:55">
<!-- END META DATA -->
</head>

<body bgcolor="#ffffff" text="#000000" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<a name="995795"></a>

<!-- BEGIN TOPNAV -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td><img src="images/shim.gif" width="7" height="75" border="0" alt=""></td>
<td align="left"><table border="0" cellpadding="0" cellspacing="0" width="744">
<tr>
<td><img name="index_r2_c1" src="images/shim.gif" width="25" height="75" border="0" alt=""></td>
<td valign="top"><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_r2_c4" src="images/shim.gif" width="96" height="15" border="0" alt=""></td>
</tr>
<tr>
<td><a href="http://www.palmsource.com/"><img name="ps_logo" src="images/ps_logo.gif" width="96" height="54" border="0" alt=""></a></td>
</tr>

</table>
</td>

<td><table border="0" cellpadding="0" cellspacing="0" width="30">
<td><img name="index_x" src="images/shim.gif" width="30" height="75" border="0" alt=""></td>
</table></td>

<!--BEGIN MASTHEAD-->
<td><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
<tr>
<td>
<!--BEGIN BOOK NAVIGATION-->
<span class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="ReferenceTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="Notifications.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="Category.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ReferenceIX.html">Index</a>
</span>
<!--END BOOK NAVIGATION-->
</tr>
<tr>
<td>
<!--BEGIN PAGE TITLE-->
<h2 class="PageTitle">4 &nbsp;&nbsp;
Attention Manager</h2></td>
<!--END PAGE TITLE-->
</tr>
<tr>
<td>
<!--BEGIN BOOK TITLE-->
<p class="BookTitle">Palm OS&#174; Programmer's  API Reference</p>
<p class="SubTitle">Palm OS&#174; 68K SDK </p>
<!--END BOOK TITLE-->
</td>
</tr>
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
</table>
</td>
<!--END MASTHEAD-->
</tr>
</table>
<img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
</tr>
</table>
<!-- END TOPNAV -->

<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" width="5"><img name="index_x" src="images/shim.gif" width="5" height="33" border="0" alt=""></td>

<!--BEGIN SIDETOC-->
<td valign="top" width="175">
<div id="sidetoc" valign="bottom">
<h1 class="SideTOC1-PartTab"><a href="PartI.html">Part I: User Interface</a> </h1>
<h1 class="SideTOC1"><a href="AttentionMgr.html">4  Attention Manager</a></h1>

   <h2 class="SideTOC2"><a href="#995826">
   Attention Manager Data Structures</a></h2>

      <h3 class="SideTOC3"><a href="#995829">
      AttnCommandType</a></h3>

      <h3 class="SideTOC3"><a href="#995907">
      AttnCommandArgsType</a></h3>

      <h3 class="SideTOC3"><a href="#995909">
      </a></h3>

      <h3 class="SideTOC3"><a href="#996077">
      AttnFlagsType</a></h3>

      <h3 class="SideTOC3"><a href="#996225">
      AttnLaunchCodeArgsType</a></h3>

      <h3 class="SideTOC3"><a href="#996261">
      AttnLevelType</a></h3>

   <h2 class="SideTOC2"><a href="#996288">
   Attention Manager Constants</a></h2>

      <h3 class="SideTOC3"><a href="#996312">
      Error Code Constants</a></h3>

      <h3 class="SideTOC3"><a href="#996329">
      Attention Manager Drawing Constants</a></h3>

      <h3 class="SideTOC3"><a href="#996385">
      Attention Manager Feature Constants</a></h3>

   <h2 class="SideTOC2"><a href="#996498">
   Attention Manager Functions</a></h2>

      <h3 class="SideTOC3"><a href="#996502">
      AttnDoSpecialEffects</a></h3>

      <h3 class="SideTOC3"><a href="#996527">
      AttnForgetIt</a></h3>

      <h3 class="SideTOC3"><a href="#996555">
      AttnGetAttention</a></h3>

      <h3 class="SideTOC3"><a href="#996624">
      AttnGetCounts</a></h3>

      <h3 class="SideTOC3"><a href="#996652">
      AttnIndicatorEnable</a></h3>

      <h3 class="SideTOC3"><a href="#996686">
      AttnIndicatorEnabled</a></h3>

      <h3 class="SideTOC3"><a href="#996710">
      AttnIterate</a></h3>

      <h3 class="SideTOC3"><a href="#996752">
      AttnListOpen</a></h3>

      <h3 class="SideTOC3"><a href="#996773">
      AttnUpdate</a></h3>

   <h2 class="SideTOC2"><a href="#996835">
   Application-Defined Functions</a></h2>

      <h3 class="SideTOC3"><a href="#996838">
      AttnCallbackProc</a></h3>

</div>
</td>

<td width="5">&nbsp;&nbsp;</td>
<td width="2" background="images/index_r8_c10.gif"><img src="images/shim.gif" width="2" height="75" border="0" alt=""></td>
<td width="5">&nbsp;&nbsp;</td>

<!--END SIDETOC-->

<td valign="top">

<!--BEGIN CONTENT-->
<div id="content" valign="bottom">
<p><a name="995798"> </a>This chapter provides reference material for the Attention Manager, and is divided into the following sections:</p>
<ul type="disc">
  <li><a name="995802"> </a><a href="AttentionMgr.html#995826">Attention Manager Data Structures</a>
  <li><a name="995806"> </a><a href="AttentionMgr.html#996288">Attention Manager Constants</a>
  <li><a name="995810"> </a><a href="AttentionMgr.html#996498">Attention Manager Functions</a>
  <li><a name="995814"> </a><a href="AttentionMgr.html#996835">Application-Defined Functions</a>
</ul>

<p><a name="995815"> </a>The Attention Manager API is declared in the header file <code>AttentionMgr.h</code>.</p>

<p><a name="995816"> </a>For more information about the attention manager, see the section <a href="../PalmOSCompanion/AttnsAndAlarms.html#1042551">"Getting the User's Attention"</a> in the <i>Palm OS Programmer's Companion</i>, vol. I.</p>

<div><hr>
  <a name="995824"> </a> <b>IMPORTANT: </b> The Attention Manager was introduced in Palm OS<sup>&#174;</sup> 4.0 and is not available in earlier versions of the operating system.
<hr>
</div>

<h2 class="haH2">
  <a name="995826"> </a>Attention Manager Data Structures <a href="#995795"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="995829"> </a>AttnCommandType Typedef <a href="#995795"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="995831"> </a>Purpose 
</h4>

<p><a name="995832"> </a>The <code>AttnCommandType</code> typedef specifies the set of possible commands that can be sent to the application requesting the user's attention, either as a parameter to the <a href="AttentionMgr.html#996838"><code>AttnCallbackProc()</code></a> callback function or as one of the arguments that accompanies a <a href="AppLaunchCodes.html#1011602"><code>sysAppLaunchCmdAttention</code></a> launch code.</p>
<h4>
  <a name="995839"> </a>Prototype 
</h4>
<pre class="proto"><a name="995840"></a>typedef UInt16 AttnCommandType;
</pre>

<p><a name="995841"> </a>The following are the values that <code>AttnCommandType</code> can assume.</p>

<dl>
<dt><a name="995849"> </a><code><code>kAttnCommandDrawDetail</code></code></dt>
<dd><a name="995851"> </a>Indicates that the application needs to draw the detailed contents of the attention dialog. The command arguments parameter points to a structure of type <a href="AttentionMgr.html#995966"><code>drawDetail</code></a>.</dd>

<dt><a name="995857"> </a><code><code>kAttnCommandDrawList</code></code></dt>
<dd><a name="995859"> </a>Indicates that the application needs to draw the appropriate list item in the attention dialog. The command arguments parameter points to a structure of type <a href="AttentionMgr.html#995996"><code>drawList</code></a>.</dd>

<dt><a name="995865"> </a><code><code>kAttnCommandPlaySound</code></code></dt>
<dd><a name="995867"> </a>Indicates that the application needs to play a sound. The command arguments parameter is <code>NULL</code>.</dd>

<dt><a name="995870"> </a><code><code>kAttnCommandCustomEffect</code></code></dt>
<dd><a name="995872"> </a>Indicates that the application needs to perform any application-specific special effects. This command is only sent for attention items that set the <code>kAttnFlagsCustomEffectBit</code> when they call <a href="AttentionMgr.html#996555"><code>AttnGetAttention()</code></a>, which most applications won't do. </dd>

<dt><a name="995878"> </a><code><code>kAttnCommandGoThere</code></code></dt>
<dd><a name="995880"> </a>Tells the application to navigate to the item. The command arguments parameter is <code>NULL</code>. An application commonly calls <a href="SystemManager.html#1075905"><code>SysAppLaunch()</code></a> upon receipt of this command to have itself launched.</dd>

<dt><a name="995886"> </a><code><code>kAttnCommandGotIt</code></code></dt>
<dd><a name="995888"> </a>Tells the application that the user is dismissing the item. The command arguments parameter points to a structure of type <a href="AttentionMgr.html#996032"><code>gotIt</code></a>. The application may choose to clean up memory at this point.</dd>

<dt><a name="995894"> </a><code><code>kAttnCommandSnooze</code></code></dt>
<dd><a name="995896"> </a>Indicates to the application that the user is snoozing. The command arguments parameter is <code>NULL</code>. Most applications do nothing upon receipt of this command. This command is passed to the appropriate application for each and every item currently pending, insistent or subtle. Applications with more than one attention item pending are called more than once.</dd>

<dt><a name="995899"> </a><code><code>kAttnCommandIterate</code></code></dt>
<dd><a name="995901"> </a>This command is passed to the application during the enumeration of attention items. It is particularly useful after HotSync<sup>&#174;</sup> operations, as it allows the application to examine each item, updating or removing those that are stale or invalid. The command arguments parameter points to a structure of type <a href="AttentionMgr.html#996056"><code>iterate</code></a>.</dd>

</dl>

<h3 class="hbH3">
  <a name="995907"> </a>AttnCommandArgsType  Struct <a href="#995795"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="995911"> </a>The <code>AttnCommandArgsType</code> structure is a union of C structures. How you interpret the union's contents depends on which command it accompanies. Not all commands are accompanied by an <code>AttnCommandArgsType</code> structure, as listed in the following table:</p>


<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="995914"> </a><b><span style="color: #000000;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">AttnCommandType</span></b></p>
    </th>
    <th><p class="tt"><a name="995916"> </a><b>Accompanied By</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="995918"> </a><code>kAttnCommandDrawDetail</code></p>
    </td>
    <td><p class="tt"><a name="995923"> </a><a href="AttentionMgr.html#995966"><code>drawDetail</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="995925"> </a><code>kAttnCommandDrawList</code></p>
    </td>
    <td><p class="tt"><a name="995930"> </a><a href="AttentionMgr.html#995996"><code>drawList</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="995932"> </a><code>kAttnCommandPlaySound</code></p>
    </td>
    <td><p class="tt"><a name="995934"> </a>None</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="995936"> </a><code>kAttnCommandCustomEffect</code></p>
    </td>
    <td><p class="tt"><a name="995938"> </a>None</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="995940"> </a><code>kAttnCommandGoThere</code></p>
    </td>
    <td><p class="tt"><a name="995942"> </a>None</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="995944"> </a><code>kAttnCommandGotIt</code></p>
    </td>
    <td><p class="tt"><a name="995949"> </a><a href="AttentionMgr.html#996032"><code>gotIt</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="995951"> </a><code>kAttnCommandSnooze</code></p>
    </td>
    <td><p class="tt"><a name="995953"> </a>None</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="995955"> </a><code>kAttnCommandIterate</code></p>
    </td>
    <td><p class="tt"><a name="995960"> </a><a href="AttentionMgr.html#996056"><code>iterate</code></a></p>
    </td>
  </tr>
</table>

</div>


<p><a name="995963"> </a>The structures that make up the <code>AttnCommandArgsType</code> union are described in the following sections.</p>

<h4 class="hcH4">
  <a name="995966"> </a>drawDetail
</h4>

<p><a name="995967"> </a>When <code>kAttnCommandDrawDetail</code> is passed to the application, either via the callback function or as a parameter accompanying the <a href="AppLaunchCodes.html#1011602"><code>sysAppLaunchCmdAttention</code></a> launch code, the application needs to draw the detailed contents of the attention dialog. The <code>drawDetail</code> structure accompanies the <code>kAttnCommandDrawDetail</code> command, and provides the information needed to draw the contents of that dialog.</p>
<h4>
  <a name="995971"> </a>Prototype 
</h4>
<pre class="proto"><a name="995972"></a>struct AttnCommandArgsDrawDetailTag {
  RectangleType bounds;
  Boolean firstTime;
  AttnFlagsType flags;
} drawDetail;
</pre>
<h4>
  <a name="1007386"> </a>Fields 
</h4>

<dl>
<dt><a name="995979"> </a><code>bounds</code></dt>
<dd><a name="995981"> </a>Contains the window-relative bounding box for the area to draw. The clipping region is also set to the dimensions of this box to prevent accidental drawing outside.</dd>

<dt><a name="995983"> </a><code><code>firstTime</code></code></dt>
<dd><a name="995985"> </a>Set to <code>true</code> if the user has not yet seen this item. The value of this field could be used to display attentions that the user hasn't seen before in some special way. <code>firstTime</code> also indicates to your application whether or not the area in which your application is to draw has been erased. If <code>firstTime</code> is <code>false</code>, the area is not guaranteed to be blank; your application will need to erase it.</dd>

<dt><a name="995987"> </a><code><code>flags</code></code></dt>
<dd><a name="995989"> </a>The global user preferences for this attention attempt combined with the custom flags passed in by the developer. Only the lower 16 bits of this field have meaning; use <code>kAttnFlagsSoundBit</code>, <code>kAttnFlagsLEDBit</code>, <code>kCustomFlagsVibrateBit</code>, and <code>kAttnFlagsCustomEffectBit </code>(described under <a href="AttentionMgr.html#996077">"AttnFlagsType"</a>) to interpret the contents of this field.</dd>

</dl>

<h4 class="hcH4">
  <a name="995996"> </a>drawList
</h4>

<p><a name="995997"> </a>When <code>kAttnCommandDrawList</code> is passed to the application, either via the callback function or as a parameter accompanying the <a href="AppLaunchCodes.html#1011602"><code>sysAppLaunchCmdAttention</code></a> launch code, the application needs to draw the appropriate list item in the attention dialog. The <code>drawList</code> structure accompanies the <code>kAttnCommandDrawList</code> command, and provides the information needed to draw the contents of that dialog.</p>
<h4>
  <a name="996001"> </a>Prototype 
</h4>
<pre class="proto"><a name="996002"></a>struct AttnCommandArgsDrawListTag {
  RectangleType bounds;
  Boolean firstTime;
  AttnFlagsType flags;
  Boolean selected;
} drawList;
</pre>
<h4>
  <a name="1007454"> </a>Fields 
</h4>

<dl>
<dt><a name="996011"> </a><code><code>bounds</code></code></dt>
<dd><a name="996013"> </a>Contains the window-relative bounding box for the area to draw. The clipping region is also set to the dimensions of this box to prevent accidental drawing outside.</dd>

<dt><a name="996015"> </a><code><code>firstTime</code></code></dt>
<dd><a name="996017"> </a>Set to <code>true</code> if the user has not yet seen this item. The value of this field could be used, for example, to trigger a custom sound the first time this attention item is presented to the user.</dd>

<dt><a name="996019"> </a><code><code>flags</code></code></dt>
<dd><a name="996021"> </a>The global user preferences for this attention attempt combined with the custom flags passed in by the developer. Only the lower 16 bits of this field have meaning; use <code>kAttnFlagsSoundBit</code>, <code>kAttnFlagsLEDBit</code>, <code>kCustomFlagsVibrateBit</code>, and <code>kAttnFlagsCustomEffectBit </code>(described under <a href="AttentionMgr.html#996077">"AttnFlagsType"</a>) to interpret the contents of this field.</dd>

<dt><a name="996026"> </a><code><code>selected</code></code></dt>
<dd><a name="996028"> </a>Set to <code>true</code> if the item has been selected. It is up to your code to draw the item appropriately (typically by changing the UI colors) based upon the value of this flag.</dd>

</dl>

<h4 class="hcH4">
  <a name="996032"> </a>gotIt
</h4>

<p><a name="996033"> </a>When <code>kAttnCommandGotIt</code> is passed to the application, either via the callback function or as a parameter accompanying the <a href="AppLaunchCodes.html#1011602"><code>sysAppLaunchCmdAttention</code></a> launch code, it is accompanied by an <code>gotIt</code> structure. This structure indicates whether the <code>kAttnCommandGotIt</code> command was generated because the user dismissed the attention, or whether the system is simply informing your application that <a href="AttentionMgr.html#996527"><code>AttnForgetIt()</code></a> was called. Your application normally ignores the latter case if your application made the call to <code>AttnForgetIt</code>.</p>
<h4>
  <a name="996040"> </a>Prototype 
</h4>
<pre class="proto"><a name="996041"></a>struct AttnCommandArgsGotItTag {
  Boolean dismissedByUser;
} gotIt;
</pre>
<h4>
  <a name="1007529"> </a>Fields 
</h4>

<dl>
<dt><a name="996047"> </a><code><code>dismissedByUser</code></code></dt>
<dd><a name="996049"> </a><code>true</code> indicates that the user dismissed the attention. <code>false</code> indicates that the <code>kAttnCommandGotIt</code> command was generated by a call to <a href="AttentionMgr.html#996527"><code>AttnForgetIt()</code></a>.</dd>

</dl>

<h4 class="hcH4">
  <a name="996056"> </a>iterate
</h4>

<p><a name="996057"> </a>When <code>kAttnCommandIterate</code> is passed to the application, either via the callback function or as a parameter accompanying the <a href="AppLaunchCodes.html#1011602"><code>sysAppLaunchCmdAttention</code></a> launch code, it is accompanied by an <code>iterate</code> structure. This structure contains any necessary data that the application may need in order to process the callback or launch code.</p>
<h4>
  <a name="996061"> </a>Prototype 
</h4>
<pre class="proto"><a name="996062"></a>struct AttnCommandArgsIterateTag {
  UInt32 iterationData;
} iterate;
</pre>
<h4>
  <a name="1007655"> </a>Fields 
</h4>

<dl>
<dt><a name="996068"> </a><code><code>iterationData</code></code></dt>
<dd><a name="996070"> </a>Any necessary data that the application may need in order to process the callback or launch code. The value of this field is that which was originally passed to <a href="AttentionMgr.html#996710"><code>AttnIterate()</code></a>.</dd>

</dl>

<h3 class="hbH3">
  <a name="996077"> </a>AttnFlagsType Typedef <a href="#995795"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="996082"> </a>Pass a value of this type to <a href="AttentionMgr.html#996555"><code>AttnGetAttention()</code></a> and <a href="AttentionMgr.html#996773"><code>AttnUpdate()</code></a> to specify what means the device should or should not use to get the user's attention. A value of this type is also passed back to your code either as a parameter to the callback function or, if no callback was specified, as part of the structure passed with the <a href="AppLaunchCodes.html#1011602"><code>sysAppLaunchCmdAttention</code></a> launch code. </p>
<h4>
  <a name="996089"> </a>Prototype 
</h4>
<pre class="proto"><a name="996090"></a>typedef UInt32 AttnFlagsType;
</pre>

<p><a name="996091"> </a>Note that more bits may be defined if necessary to accommodate additional hardware.</p>


<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="996094"> </a><b>Constant</b></p>
    </th>
    <th><p class="tt"><a name="996096"> </a><b>Value</b></p>
    </th>
    <th><p class="tt"><a name="996098"> </a><b>Description</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996101"> </a><code>kAttnFlagsSoundBit</code></p>
    </td>
    <td><p class="tt"><a name="996103"> </a><code>0x0001</code></p>
    </td>
    <td><p class="tt"><a name="996105"> </a>Plays a sound.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996108"> </a><code>kAttnFlagsLEDBit</code></p>
    </td>
    <td><p class="tt"><a name="996110"> </a><code>0x0002</code></p>
    </td>
    <td><p class="tt"><a name="996112"> </a>Blinks an LED, if the device is so equipped.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996115"> </a><code>kAttnFlagsVibrateBit</code></p>
    </td>
    <td><p class="tt"><a name="996117"> </a><code>0x0004</code></p>
    </td>
    <td><p class="tt"><a name="996119"> </a>Triggers vibration, if the device is so equipped.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996122"> </a><code>kAttnFlagsCustomEffectBit</code></p>
    </td>
    <td><p class="tt"><a name="996124"> </a><code>0x0008</code></p>
    </td>
    <td><p class="tt"><a name="996126"> </a>Triggers an application-specific custom effect.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996129"> </a><code>kAttnFlagsAllBits</code></p>
    </td>
    <td><p class="tt"><a name="996131"> </a><code>0xFFFF</code></p>
    </td>
    <td><p class="tt"><a name="996133"> </a>Uses all available means to get the user's attention.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996136"> </a><code>kAttnFlagsUseUserSettings</code></p>
    </td>
    <td><p class="tt"><a name="996138"> </a><code>0x0000</code></p>
    </td>
    <td><p class="tt"><a name="996140"> </a>System-wide preferences determine what means are used to get the user's attention.</p>
    </td>
  </tr>
</table>

</div>


<p><a name="996142"> </a>The following constant values can be used to override the user's settings and force or prevent specific behaviors:</p>


<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="996145"> </a><b>Constant</b></p>
    </th>
    <th><p class="tt"><a name="996147"> </a><b>Value</b></p>
    </th>
    <th><p class="tt"><a name="996149"> </a><b>Description</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996152"> </a><code>kAttnFlagsAlwaysSound</code></p>
    </td>
    <td><p class="tt"><a name="996154"> </a><code>kAttnFlagsSoundBit</code></p>
    </td>
    <td><p class="tt"><a name="996156"> </a>Play a sound, regardless of the user's settings.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996159"> </a><code>kAttnFlagsAlwaysLED</code></p>
    </td>
    <td><p class="tt"><a name="996161"> </a><code>kAttnFlagsLEDBit</code></p>
    </td>
    <td><p class="tt"><a name="996163"> </a>Blink an LED, if the device is so equipped, regardless of the user's settings.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996166"> </a><code>kAttnFlagsAlwaysVibrate</code></p>
    </td>
    <td><p class="tt"><a name="996168"> </a><code>kAttnFlagsVibrateBit</code></p>
    </td>
    <td><p class="tt"><a name="996170"> </a>Vibrate, if the device is so equipped, regardless of the user's settings.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996173"> </a><code>kAttnFlagsAlwaysCustomEffect</code></p>
    </td>
    <td><p class="tt"><a name="996175"> </a><code>kAttnFlagsCustomEffectBit</code></p>
    </td>
    <td><p class="tt"><a name="996177"> </a>Trigger an application-specific custom effect.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996180"> </a><code>kAttnFlagsEverything</code></p>
    </td>
    <td><p class="tt"><a name="996182"> </a><code>kAttnFlagsAllBits</code></p>
    </td>
    <td><p class="tt"><a name="996184"> </a>Use every available means to get the user's attention, regardless of the user's settings.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996187"> </a><code>kAttnFlagsNoSound</code></p>
    </td>
    <td><p class="tt"><a name="996189"> </a><code>kAttnFlagsSoundBit &lt;&lt; 16</code></p>
    </td>
    <td><p class="tt"><a name="996191"> </a>Prevent a sound from being played, regardless of the user's settings.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996194"> </a><code>kAttnFlagsNoLED</code></p>
    </td>
    <td><p class="tt"><a name="996196"> </a><code>kAttnFlagsLEDBit &lt;&lt; 16</code></p>
    </td>
    <td><p class="tt"><a name="996198"> </a>Prevent the LED from flashing, regardless of the user's settings.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996201"> </a><code>kAttnFlagsNoVibrate</code></p>
    </td>
    <td><p class="tt"><a name="996203"> </a><code>kAttnFlagsVibrateBit &lt;&lt; 16</code></p>
    </td>
    <td><p class="tt"><a name="996205"> </a>Prevent vibration, regardless of the user's settings.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996208"> </a><code>kAttnFlagsNoCustomEffect</code></p>
    </td>
    <td><p class="tt"><a name="996210"> </a><code>kAttnFlagsCustomEffectBit &lt;&lt; 16</code></p>
    </td>
    <td><p class="tt"><a name="996212"> </a>Prevent triggering of the application-specific custom effect.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996215"> </a><code>kAttnFlagsNothing</code></p>
    </td>
    <td><p class="tt"><a name="996217"> </a><code>kAttnFlagsAllBits &lt;&lt; 16</code></p>
    </td>
    <td><p class="tt"><a name="996219"> </a>Disable all attention-getting mechanisms, regardless of the user's settings.</p>
    </td>
  </tr>
</table>

</div>


<p><a name="996221"> </a>These constants can be used in combination. For example, to disable both sound and the LED, use <code>kAttnFlagsNoSound | kAttnFlagsNoLED</code>.</p>

<p><a name="996222"> </a>If neither <code>kAttnFlagsAlwaysSound</code> nor <code>kAttnFlagsNoSound</code> is set for a given attention item, a sound plays if and only if the user's preference is to play a sound and the user's preference for alarm volume is non-zero.</p>

<h3 class="hbH3">
  <a name="996225"> </a>AttnLaunchCodeArgsType Struct <a href="#995795"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="996227"> </a>If a callback function is not specified in a call to <a href="AttentionMgr.html#996555"><code>AttnGetAttention()</code></a> and the Attention Manager needs your code to draw the details of your attention in the attention dialog or perform another attention-specific function, it sends a <a href="AppLaunchCodes.html#1011602"><code>sysAppLaunchCmdAttention</code></a> launch code to your application. Along with the launch code, it passes a pointer to the following structure, which indicates both what your code is expected to do and identifies the attention that triggered the launch code:</p>
<h4>
  <a name="996234"> </a>Prototype 
</h4>
<pre class="proto"><a name="996235"></a>typedef struct {
  AttnCommandType command;
  UInt32 userData;
  AttnCommandArgsType *commandArgsP;
} AttnLaunchCodeArgsType;
</pre>
<h4>
  <a name="1007698"> </a>Fields 
</h4>

<dl>
<dt><a name="996243"> </a><code><code>command</code></code></dt>
<dd><a name="996245"> </a>Indicates what your code is being requested to do. The complete list of possible commands are described in the definition of <a href="AttentionMgr.html#995829"><code>AttnCommandType</code></a>.</dd>

<dt><a name="996250"> </a><code><code>userData</code></code></dt>
<dd><a name="996252"> </a>Identifier that distinguishes the particular attention item from others made by this application. This identifier was specified when the attention item was created.</dd>

<dt><a name="996254"> </a><code><code>commandArgsP</code></code></dt>
<dd><a name="996256"> </a>Pointer to command-specific arguments. See the description of each command for a discussion of that command's arguments.</dd>

</dl>

<p><a name="996258"> </a>When processing the launch code be aware that your application doesn't have application globals available to it; it is important that anything necessary to draw or otherwise display be available through <code>commandArgsP</code>.</p>

<h3 class="hbH3">
  <a name="996261"> </a>AttnLevelType Typedef <a href="#995795"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="996263"> </a>Attention attempts can either be insistent or subtle. Insistent attention attempts make a serious effort to get the user's attention, by both displaying a dialog and possibly by triggering one or more special effects, such as blinking a light, vibrating, or playing a sound. Other alerts are of a less serious nature and shouldn't disrupt the user. Consequently, subtle attention attempts typically make the attention indicator blink and may trigger one or more special effects, but don't display the Attention Manager dialog. The user can then work until a suitable time, at which point they can tap on the indicator to see what needs their attention. Subtle attention attempts might be used for telling the user that they have new e-mail, or perhaps that a holiday or birthday is coming up. </p>
<h4>
  <a name="996264"> </a>Prototype 
</h4>
<pre class="proto"><a name="996265"></a>typedef UInt16 AttnLevelType;
</pre>

<p><a name="996266"> </a>The following are the two defined values for <code>AttnLevelType</code>:</p>

<dl>
<dt><a name="996274"> </a><code><code>kAttnLevelInsistent</code></code></dt>
<dd><a name="996276"> </a>An insistent attention attempt. Make a serious effort to get the user's attention by displaying a dialog and optionally triggering one or more special effects.</dd>

<dt><a name="996279"> </a><code><code>kAttnLevelSubtle</code></code></dt>
<dd><a name="996281"> </a>A subtle attention attempt. Notify the user using special effects, but don't disrupt the user with the dialog if the device is in use.</dd>

</dl>

<p><a name="996283"> </a>Note that user preferences for the various special effects can't be set separately for subtle and insistent attention attempts. If your application needs to vary the effects based upon the <code>AttnLevelType</code>, pass a suitable value for the <code>flags</code> parameter in your <a href="AttentionMgr.html#996555"><code>AttnGetAttention()</code></a> call.</p>

<h2 class="haH2">
  <a name="996288"> </a>Attention Manager Constants <a href="#995795"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="996289"> </a>In addition to the constant values defined specifically for use with <a href="AttentionMgr.html#995829"><code>AttnCommandType</code></a>, <a href="AttentionMgr.html#996077"><code>AttnFlagsType</code></a>, and <a href="AttentionMgr.html#996261"><code>AttnLevelType</code></a>, the Attention Manager defines the following constant types:</p>
<ul type="disc">
  <li><a name="996302"> </a><a href="AttentionMgr.html#996312">Error Code Constants</a>
  <li><a name="996306"> </a><a href="AttentionMgr.html#996329">Attention Manager Drawing Constants</a>
  <li><a name="996310"> </a><a href="AttentionMgr.html#996385">Attention Manager Feature Constants</a>
</ul>

<h3 class="hbH3">
  <a name="996312"> </a>Error Code Constants <a href="#995795"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="996313"> </a>The Attention Manager returns the following error code under the circumstances described below.</p>


<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="996316"> </a><b>Constant</b></p>
    </th>
    <th><p class="tt"><a name="996318"> </a><b>Description</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996321"> </a><code>attnErrMemory</code></p>
    </td>
    <td><p class="tt"><a name="996323"> </a>Returned by <a href="AttentionMgr.html#996555"><code>AttnGetAttention()</code></a> when there is insufficient memory to perform the requested operation.</p>
    </td>
  </tr>
</table>

</div>


<h3 class="hbH3">
  <a name="996329"> </a>Attention Manager Drawing Constants <a href="#995795"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="996330"> </a>The following four constants define the on-screen boundaries of the attention indicator:</p>


<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="996333"> </a><b>Constant</b></p>
    </th>
    <th><p class="tt"><a name="996335"> </a><b>Value</b></p>
    </th>
    <th><p class="tt"><a name="996337"> </a><b>Description</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996339"> </a><code>kAttnIndicatorLeft</code></p>
    </td>
    <td><p class="tt"><a name="996341"> </a>0</p>
    </td>
    <td><p class="tt"><a name="996343"> </a>The left-hand edge of the attention indicator.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996345"> </a><code>kAttnIndicatorTop</code></p>
    </td>
    <td><p class="tt"><a name="996347"> </a>0</p>
    </td>
    <td><p class="tt"><a name="996349"> </a>The top-most edge of the attention indicator.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996351"> </a><code>kAttnIndicatorWidth</code></p>
    </td>
    <td><p class="tt"><a name="996353"> </a>16</p>
    </td>
    <td><p class="tt"><a name="996355"> </a>The width of the attention indicator.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996357"> </a><code>kAttnIndicatorHeight</code></p>
    </td>
    <td><p class="tt"><a name="996359"> </a>16</p>
    </td>
    <td><p class="tt"><a name="996361"> </a>The height of the attention indicator.</p>
    </td>
  </tr>
</table>

</div>


<p><a name="996363"> </a>The following two constants are used when drawing the list view. Applications should use these constants to format the display of information in the Attention Manager's list view. Draw the application's small icon centered within the first <code>kAttnListMaxIconWidth</code> pixels of the drawing bounds. Then draw two lines of text describing the attention, left-justified, starting at <code>kAttnListTextOffset</code> from the left edge of the drawing bounds.</p>


<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="996366"> </a><b>Constant</b></p>
    </th>
    <th><p class="tt"><a name="996368"> </a><b>Value</b></p>
    </th>
    <th><p class="tt"><a name="996370"> </a><b>Description</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996372"> </a><code>kAttnListMaxIconWidth</code></p>
    </td>
    <td><p class="tt"><a name="996374"> </a>15</p>
    </td>
    <td><p class="tt"><a name="996376"> </a>Maximum width of the application's icon. If the icon is narrower than this, it should be drawn centered within this width.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996378"> </a><code>kAttnListTextOffset</code></p>
    </td>
    <td><p class="tt"><a name="996380"> </a>17</p>
    </td>
    <td><p class="tt"><a name="996382"> </a>Offset, from the left-hand edge of the drawing bounds, of the textual description of the attention.</p>
    </td>
  </tr>
</table>

</div>


<h3 class="hbH3">
  <a name="996385"> </a>Attention Manager Feature Constants <a href="#995795"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="996386"> </a>The Attention Manager defines a read-only feature (<code>'attn', 0</code>) that indicates the current user settings and capabilities of the hardware. The upper 16 bits of the feature indicate whether or not the hardware has the capability to perform that sort of alert. The lower 16 bits indicate whether the user has currently enabled that sort of alert.</p>


<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="996389"> </a><b>Constant</b></p>
    </th>
    <th><p class="tt"><a name="996391"> </a><b>Value</b></p>
    </th>
    <th><p class="tt"><a name="996393"> </a><b>Description</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996396"> </a><code>kAttnFtrCreator</code></p>
    </td>
    <td><p class="tt"><a name="996398"> </a><code>'attn'</code></p>
    </td>
    <td><p class="tt"><a name="996400"> </a>Attention Manager feature creator.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996403"> </a><code>kAttnFtrCapabilities</code></p>
    </td>
    <td><p class="tt"><a name="996405"> </a><code>0</code></p>
    </td>
    <td><p class="tt"><a name="996407"> </a>Attention Manager feature number.</p>
    </td>
  </tr>
</table>

</div>


<p><a name="996409"> </a>When working with the value obtained with <code>FtrGet</code>, use the following two constants to separate those bits that contain the user settings from those bits that identify the device's capabilities:</p>


<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="996412"> </a><b>Constant</b></p>
    </th>
    <th><p class="tt"><a name="996414"> </a><b>Value</b></p>
    </th>
    <th><p class="tt"><a name="996416"> </a><b>Description</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996419"> </a><code>kAttnFlagsUserSettingsMask</code></p>
    </td>
    <td><p class="tt"><a name="996421"> </a><code>kAttnFlagsAllBits</code></p>
    </td>
    <td><p class="tt"><a name="996423"> </a>Mask to isolate those bits that contain the user settings.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996426"> </a><code>kAttnFlagsCapabilitiesMask</code></p>
    </td>
    <td><p class="tt"><a name="996428"> </a><code>kAttnFlagsAllBits &lt;&lt; 16</code></p>
    </td>
    <td><p class="tt"><a name="996430"> </a>Mask to isolate those bits that contain the device capabilities.</p>
    </td>
  </tr>
</table>

</div>


<p><a name="996432"> </a>These constants can be used to interpret the device capabilities (<code>kAttnFlagsHas...</code>) and the user settings (<code>kAttnFlagsUserWants...</code>):</p>


<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="996435"> </a><b>Constant</b></p>
    </th>
    <th><p class="tt"><a name="996437"> </a><b>Value</b></p>
    </th>
    <th><p class="tt"><a name="996439"> </a><b>Description</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996442"> </a><code>kAttnFlagsHasLED</code></p>
    </td>
    <td><p class="tt"><a name="996444"> </a><code>kAttnFlagsLEDBit &lt;&lt; 16</code></p>
    </td>
    <td><p class="tt"><a name="996446"> </a>The device has an LED that can be illuminated to indicate an alert.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996449"> </a><code>kAttnFlagsHasSound</code></p>
    </td>
    <td><p class="tt"><a name="996451"> </a><code>kAttnFlagsSoundBit &lt;&lt; 16</code></p>
    </td>
    <td><p class="tt"><a name="996453"> </a>The device is capable of playing a sound to indicate an alert.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996456"> </a><code>kAttnFlagsHasVibrate</code></p>
    </td>
    <td><p class="tt"><a name="996458"> </a><code>kAttnFlagsVibrateBit &lt;&lt; 16</code></p>
    </td>
    <td><p class="tt"><a name="996460"> </a>The device is capable of vibrating to indicate an alert.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996463"> </a><code>kAttnFlagsHasCustomEffect</code></p>
    </td>
    <td><p class="tt"><a name="996465"> </a><code>kAttnFlagsCustomEffectBit &lt;&lt; 16</code></p>
    </td>
    <td><p class="tt"><a name="996467"> </a>Not used.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996470"> </a><code>kAttnFlagsUserWantsLED</code></p>
    </td>
    <td><p class="tt"><a name="996472"> </a><code>kAttnFlagsLEDBit</code></p>
    </td>
    <td><p class="tt"><a name="996474"> </a>The user wants the LED illuminated to signal an alert.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996477"> </a><code>kAttnFlagsUserWantsSound</code></p>
    </td>
    <td><p class="tt"><a name="996479"> </a><code>kAttnFlagsSoundBit</code></p>
    </td>
    <td><p class="tt"><a name="996481"> </a>The user wants a sound played to signal an alert.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996484"> </a><code>kAttnFlagsUserWantsVibrate</code></p>
    </td>
    <td><p class="tt"><a name="996486"> </a><code>kAttnFlagsVibrateBit</code></p>
    </td>
    <td><p class="tt"><a name="996488"> </a>The user wants the device to vibrate to signal an alert.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996491"> </a><code>kAttnFlagsUserWantsCustomEffect</code></p>
    </td>
    <td><p class="tt"><a name="996493"> </a><code>kAttnFlagsCustomEffectBit</code></p>
    </td>
    <td><p class="tt"><a name="996495"> </a>Not used.</p>
    </td>
  </tr>
</table>

</div>


<h2 class="haH2">
  <a name="996498"> </a>Attention Manager Functions <a href="#995795"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="996502"> </a>AttnDoSpecialEffects Function <a href="#995795"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="996504"> </a>Purpose 
</h4>

<p><a name="996505"> </a>Triggers an Attention Manager special effect set.</p>
<h4>
  <a name="996506"> </a>Declared In 
</h4>
<code>AttentionMgr.h<a name="996507"> </a></code><h4>
  <a name="996508"> </a>Prototype 
</h4>
<pre class="proto"><a name="996509"></a>Err AttnDoSpecialEffects (
   AttnFlagsType flags
)
</pre>
<h4>
  <a name="996510"> </a>Parameters 
</h4>

<dl>
<dt><a name="996511"> </a><code>&rarr;  <i><code>flags</code></i></code></dt>
<dd><a name="996512"> </a>Specifies the behavior to be exhibited by this special effects request. See <a href="AttentionMgr.html#996077"><code>AttnFlagsType</code></a> for the various bits that make up this flag. Note that the behavior is undefined if you set incompatible flags. Supply <code>kAttnFlagsUseUserSettings</code> to have this attention request follow the user's pre-set preferences.</dd>

</dl>
<h4>
  <a name="996516"> </a>Returns 
</h4>

<p><a name="996517"> </a>Returns <code>errNone</code> if no problems were encountered. Returns <code>attnErrMemory</code> if there wasn't enough memory to accommodate the attention request.</p>
<h4>
  <a name="996518"> </a>Comments 
</h4>

<p><a name="996519"> </a>This routine is provided as a convenience for applications that need to trigger special effects. It does the equivalent of one "nag" of an Attention Manager special effect set.</p>
<h4>
  <a name="996520"> </a>Compatibility 
</h4>

<p><a name="996524"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>

<h3 class="hbH3">
  <a name="996527"> </a>AttnForgetIt Function <a href="#995795"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="996529"> </a>Purpose 
</h4>

<p><a name="996530"> </a>Provides a way for applications to tell the Attention Manager to forget about an attention item.</p>
<h4>
  <a name="996531"> </a>Declared In 
</h4>
<code>AttentionMgr.h<a name="996532"> </a></code><h4>
  <a name="996533"> </a>Prototype 
</h4>
<pre class="proto"><a name="996534"></a>Boolean AttnForgetIt (
   UInt16 cardNo,
   LocalID dbID,
   UInt32 userData
)
</pre>
<h4>
  <a name="996535"> </a>Parameters 
</h4>

<dl>
<dt><a name="996536"> </a><code>&rarr;  <i><code>cardNo</code></i></code></dt>
<dd><a name="996537"> </a>Card number on which the application making the request resides.</dd>

<dt><a name="996538"> </a><code>&rarr;  <i><code>dbID</code></i></code></dt>
<dd><a name="996539"> </a>Database ID of the application making the request.</dd>

<dt><a name="996540"> </a><code>&rarr;  <i><code>userData</code></i></code></dt>
<dd><a name="996541"> </a>Identifier that distinguishes the attention attempt from others made by the same application. This identifier can be an integer, a pointer, or any other 32-bit value.</dd>

</dl>
<h4>
  <a name="996542"> </a>Returns 
</h4>

<p><a name="996543"> </a>Returns <code>true</code> if the item was removed, <code>false</code> if a matching item was not found.</p>
<h4>
  <a name="996544"> </a>Comments 
</h4>

<p><a name="996545"> </a>You typically call this function after your application has handled a "Go There" event and the user has read about the item. For example, if there is a subtle attention pending that says "you have three e-mail messages waiting" and you go to the e-mail application on your own and read your e-mail, the subtle notification must disappear. <code>AttnForgetIt</code> allows the application to do this.</p>

<p><a name="996546"> </a>Note that this call can be made when the Attention Manager dialog is on-screen (though presumably that is rare, since the application is probably not doing much at this point). If this call removes a list item, then the Attention Manager may call back into other items to redraw the list.</p>

<p><a name="996547"> </a>If this call removes the last item when any indicator is present, the indicator disappears. If this call removes the last unread item, but read items remain, the indicator switches from blinking to steady state.</p>
<h4>
  <a name="996548"> </a>Compatibility 
</h4>

<p><a name="996552"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>

<h3 class="hbH3">
  <a name="996555"> </a>AttnGetAttention Function <a href="#995795"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="996557"> </a>Purpose 
</h4>

<p><a name="996558"> </a>Requests the user's attention.</p>
<h4>
  <a name="996559"> </a>Declared In 
</h4>
<code>AttentionMgr.h<a name="996560"> </a></code><h4>
  <a name="996561"> </a>Prototype 
</h4>
<pre class="proto"><a name="996562"></a>Err AttnGetAttention (
   UInt16 cardNo,
   LocalID dbID,
   UInt32 userData,
   AttnCallbackProc *callbackFnP,
   AttnLevelType level,
   AttnFlagsType flags,
   UInt16 nagRateInSeconds,
   UInt16 nagRepeatLimit
)
</pre>
<h4>
  <a name="996563"> </a>Parameters 
</h4>

<dl>
<dt><a name="996564"> </a><code>&rarr;  <i><code>cardNo</code></i></code></dt>
<dd><a name="996565"> </a>Card number on which the application making the request resides.</dd>

<dt><a name="996566"> </a><code>&rarr;  <i><code>dbID</code></i></code></dt>
<dd><a name="996567"> </a>Database ID of the application making the request.</dd>

<dt><a name="996568"> </a><code>&rarr;  <i><code>userData</code></i></code></dt>
<dd><a name="996569"> </a>Application-specific data that is later passed back to your code through the callback function. If no callback function is specified in the <code>callbackFnP</code> parameter, this data is included in what is passed along with a <a href="AppLaunchCodes.html#1011602"><code>sysAppLaunchCmdAttention</code></a> launch code. <code>userData</code> can be an integer, a pointer, or any other 32-bit value as needed by your application. Most applications pass the unique ID or other key for the record which caused the attention request. <code>userData</code> is also used to distinguish a given attention attempt from others made by the same application. </dd>

<dt><a name="996573"> </a><code>&rarr;  <i><code>callbackFnP</code></i></code></dt>
<dd><a name="996574"> </a>Pointer to the function registered by the application to be called by the Attention Manager when the attention is displayed or removed.  See <a href="AttentionMgr.html#996838"><code>AttnCallbackProc()</code></a>, below, for the callback function's parameters. Supply <code>NULL</code> to instead have a <a href="AppLaunchCodes.html#1011602"><code>sysAppLaunchCmdAttention</code></a> launch code sent to the application that made the attention request whenever the attention is displayed or removed.</dd>

<dt><a name="996581"> </a><code>&rarr;  <i><code>level</code></i></code></dt>
<dd><a name="996582"> </a>Indicates the annoyance level. Pass one of the values defined for <a href="AttentionMgr.html#996261"><code>AttnLevelType</code></a>.</dd>

<dt><a name="996586"> </a><code>&rarr;  <i><code>flags</code></i></code></dt>
<dd><a name="996587"> </a>Behavior override, if necessary, for this attention request. This override allows, for instance, silent alarms or noisy alarms. See <a href="AttentionMgr.html#996077"><code>AttnFlagsType</code></a> for the various bits that make up this flag. Note that the behavior is undefined if you set incompatible flags. Supply <code>kAttnFlagsUseUserSettings</code> to have this attention request follow the user's pre-set preferences.</dd>

<dt><a name="996591"> </a><code>&rarr;  <i><code>nagRateInSeconds</code></i></code></dt>
<dd><a name="996592"> </a>How long to wait before nagging.</dd>

<dt><a name="996593"> </a><code>&rarr;  <i><code>nagRepeatLimit</code></i></code></dt>
<dd><a name="996594"> </a>How many times to nag, excluding the first attempt.</dd>

</dl>
<h4>
  <a name="996595"> </a>Returns 
</h4>

<p><a name="996596"> </a>Returns <code>errNone</code> if no problems were encountered. Returns <code>attnErrMemory</code> if there wasn't enough memory to accommodate the attention request.</p>
<h4>
  <a name="996597"> </a>Comments 
</h4>

<p><a name="996598"> </a>The combination of <code>cardNo</code>, <code>dbID</code> and <code>userData</code> uniquely identify an attention-getting attempt. If another call is made to <code>AttnGetAttention</code> with identical values for these arguments, an error is reported. To update or delete an existing attention item, pass these same values to <a href="AttentionMgr.html#996773"><code>AttnUpdate()</code></a> or <a href="AttentionMgr.html#996527"><code>AttnForgetIt()</code></a>, respectively.</p>

<p><a name="996605"> </a>In response to <code>AttnGetAttention</code>, the behavior of the operating system or application depends on whether there already are other demands and on the annoyance level passed in the <code>AttnGetAttention</code> call.</p>
<ul type="disc">
  <li><a name="996606"> </a>No other demands, insistent attention request:
   <p><a name="996607"> </a>The Attention Manager puts up a dialog that details the current attempt to get the user's attention.</p>
  <li><a name="996608"> </a>Other demands exist, insistent attention request:
   <p><a name="996609"> </a>The Attention Manager adds a summary of the current attempt to get the user's attention to a list of things that need attention. If the dialog is currently in detail form&#8212;which is the case if just one other demand exists&#8212;the view is refreshed, changing from detail to list form. In this case, the pen and key event queues are also flushed so that any user events that are happening while the display is changing are explicitly ignored. Two exceptions to this behavior exist: if all existing attentions are subtle, or if all existing insistent attentions were snoozed, the new insistent attention brings up the dialog in detail mode, rather than list mode.</p>
  <li><a name="996610"> </a>Subtle attention request:
   <p><a name="996611"> </a>The Attention Manager starts the attention indicator blinking, and adds the item to its list for later display, unless the dialog is currently being displayed in list mode. In this event, the new subtle attention item simply appears in the list; the indicator does not blink to announce it.</p>
</ul>
<h4>
  <a name="996612"> </a>Compatibility 
</h4>

<p><a name="996616"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
<h4>
  <a name="996617"> </a>See Also 
</h4>

<p><a name="996621"> </a><a href="AttentionMgr.html#996773"><code>AttnUpdate()</code></a></p>

<h3 class="hbH3">
  <a name="996624"> </a>AttnGetCounts Function <a href="#995795"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="996626"> </a>Purpose 
</h4>

<p><a name="996627"> </a>Returns the number of attention items that are currently pending.</p>
<h4>
  <a name="996628"> </a>Declared In 
</h4>
<code>AttentionMgr.h<a name="996629"> </a></code><h4>
  <a name="996630"> </a>Prototype 
</h4>
<pre class="proto"><a name="996631"></a>UInt16 AttnGetCounts (
   UInt16 cardNo,
   LocalID dbID,
   UInt16 *insistentCountP,
   UInt16 *subtleCountP
)
</pre>
<h4>
  <a name="996632"> </a>Parameters 
</h4>

<dl>
<dt><a name="996633"> </a><code>&rarr;  <i><code>cardNo</code></i></code></dt>
<dd><a name="996634"> </a>If this value is zero, counts pending attention items from applications on all cards. Otherwise, counts only pending attention items from applications on the specified card.</dd>

<dt><a name="996635"> </a><code>&rarr;  <i><code>dbID</code></i></code></dt>
<dd><a name="996636"> </a>If this value is zero, counts pending attention items from all applications. Otherwise, counts only pending attention items from applications with the specified database ID.</dd>

<dt><a name="996637"> </a><code>&larr;  <i><code>insistentCountP</code></i></code></dt>
<dd><a name="996638"> </a>Pointer to a 16-bit unsigned value that is filled in with the number of insistent items pending. Pass <code>NULL</code> for this parameter if you don't need to know the number of insistent items that are pending.</dd>

<dt><a name="996639"> </a><code>&larr;  <i><code>subtleCountP</code></i></code></dt>
<dd><a name="996640"> </a>Pointer to a 16-bit unsigned value that is filled in with the number of subtle items pending. Pass <code>NULL</code> for this parameter if you don't need to know the number of subtle items that are pending.</dd>

</dl>
<h4>
  <a name="996641"> </a>Returns 
</h4>

<p><a name="996642"> </a>Returns the total number of items, both insistent and subtle, that are currently pending.</p>
<h4>
  <a name="996643"> </a>Comments 
</h4>

<p><a name="996644"> </a>Call this function if you need to exhibit different behavior if attention items are already pending.</p>
<h4>
  <a name="996645"> </a>Compatibility 
</h4>

<p><a name="996649"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>

<h3 class="hbH3">
  <a name="996652"> </a>AttnIndicatorEnable Function <a href="#995795"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="996654"> </a>Purpose 
</h4>

<p><a name="996655"> </a>Enables and disables the on-screen attention indicator.</p>
<h4>
  <a name="996656"> </a>Declared In 
</h4>
<code>AttentionMgr.h<a name="996657"> </a></code><h4>
  <a name="996658"> </a>Prototype 
</h4>
<pre class="proto"><a name="996659"></a>void AttnIndicatorEnable (
   Boolean enableIt
)
</pre>
<h4>
  <a name="996660"> </a>Parameters 
</h4>

<dl>
<dt><a name="996661"> </a><code>&rarr;  <i><code>enableIt</code></i></code></dt>
<dd><a name="996662"> </a><code>true</code> to enable the attention indicator, <code>false</code> to disable it.</dd>

</dl>
<h4>
  <a name="996663"> </a>Returns 
</h4>

<p><a name="996664"> </a>Returns nothing.</p>
<h4>
  <a name="996665"> </a>Comments 
</h4>

<p><a name="996666"> </a>This function is used by applications to enable or disable the on-screen attention indicator. The indicator only blinks when all of the following are true:</p>
<ul type="disc">
  <li><a name="996667"> </a>The indicator is enabled.
  <li><a name="996668"> </a>The indicator is being asked to blink by the attention manager.
  <li><a name="996669"> </a>The operating system isn't using the display in such a way as to prevent the attention indicator from showing, such as when the menu bar is being displayed or when a modal dialog is on top of the form.
</ul>

<p><a name="996670"> </a>The attention indicator is enabled by default. If your application controls the upper portion of the screen and needs to prevent the attention indicator from being displayed, call <a href="AttentionMgr.html#996652"><code>AttnIndicatorEnable()</code></a> and pass it a value of <code>false</code>. </p>
<h4>
  <a name="996674"> </a>Compatibility 
</h4>

<p><a name="996678"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
<h4>
  <a name="996679"> </a>See Also 
</h4>

<p><a name="996683"> </a><a href="AttentionMgr.html#996686"><code>AttnIndicatorEnabled()</code></a></p>

<h3 class="hbH3">
  <a name="996686"> </a>AttnIndicatorEnabled Function <a href="#995795"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="996688"> </a>Purpose 
</h4>

<p><a name="996689"> </a>Returns whether the on-screen attention indicator is currently enabled.</p>
<h4>
  <a name="996690"> </a>Declared In 
</h4>
<code>AttentionMgr.h<a name="996691"> </a></code><h4>
  <a name="996692"> </a>Prototype 
</h4>
<pre class="proto"><a name="996693"></a>Boolean AttnIndicatorEnabled (
   void
)
</pre>
<h4>
  <a name="996694"> </a>Parameters 
</h4>

<dl>
<dt><a name="996695"> </a><code>None.</code></dt>
</dl>
<h4>
  <a name="996696"> </a>Returns 
</h4>

<p><a name="996697"> </a>Returns <code>true</code> if the on-screen attention indicator is currently enabled, <code>false</code> otherwise.</p>
<h4>
  <a name="996698"> </a>Compatibility 
</h4>

<p><a name="996702"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
<h4>
  <a name="996703"> </a>See Also 
</h4>

<p><a name="996707"> </a><a href="AttentionMgr.html#996652"><code>AttnIndicatorEnable()</code></a></p>

<h3 class="hbH3">
  <a name="996710"> </a>AttnIterate Function <a href="#995795"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="996712"> </a>Purpose 
</h4>

<p><a name="996713"> </a>Instructs the Attention Manager to check each attention item currently pending and, for those that match the specified card number and database ID, invoke the item's callback routine. If a callback routine was not specified in the request, the <a href="AppLaunchCodes.html#1011602"><code>sysAppLaunchCmdAttention</code></a> launch code is sent to the application that made the attention request.</p>
<h4>
  <a name="996717"> </a>Declared In 
</h4>
<code>AttentionMgr.h<a name="996718"> </a></code><h4>
  <a name="996719"> </a>Prototype 
</h4>
<pre class="proto"><a name="996720"></a>void AttnIterate (
   UInt16 cardNo,
   LocalID dbID,
   UInt32 iterationData
)
</pre>
<h4>
  <a name="996721"> </a>Parameters 
</h4>

<dl>
<dt><a name="996722"> </a><code>&rarr;  <i><code>cardNo</code></i></code></dt>
<dd><a name="996723"> </a>Card number on which the application that made the request resides.</dd>

<dt><a name="996724"> </a><code>&rarr;  <i><code>dbID</code></i></code></dt>
<dd><a name="996725"> </a>Database ID of the application that made the request.</dd>

<dt><a name="996726"> </a><code>&rarr;  <i><code>iterationData</code></i></code></dt>
<dd><a name="996727"> </a>Any necessary data that the application may need in order to process the callback or launch code. See the description of the <a href="AttentionMgr.html#996838"><code>AttnCallbackProc()</code></a> function for more information on this parameter.</dd>

</dl>
<h4>
  <a name="996731"> </a>Returns 
</h4>

<p><a name="996732"> </a>Returns nothing.</p>
<h4>
  <a name="996733"> </a>Comments 
</h4>

<p><a name="996734"> </a>This function iterates through all of the attention requests made by this application and uses the callback or launch code for each to inform the application about the attention request. When an application receives a <a href="AppLaunchCodes.html#1012389"><code>sysAppLaunchCmdSyncNotify</code></a> launch code, signifying that a HotSync occurred that affected that application's databases, the application typically calls <code>AttnIterate</code> so it can remove attention requests for records that may have been removed during the HotSync. Applications can also call <a href="AttentionMgr.html#996555"><code>AttnGetAttention()</code></a> after a HotSync, if necessary.</p>

<p><a name="996744"> </a>Note that you can call <a href="AttentionMgr.html#996527"><code>AttnForgetIt()</code></a> inside the iteration since it only marks the record for deletion and thus doesn't confuse the iteration.</p>
<h4>
  <a name="996745"> </a>Compatibility 
</h4>

<p><a name="996749"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>

<h3 class="hbH3">
  <a name="996752"> </a>AttnListOpen Function <a href="#995795"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="996754"> </a>Purpose 
</h4>

<p><a name="996755"> </a>Displays the attention dialog in list mode and, after the user has dismissed it, acts accordingly based on how it was dismissed.</p>
<h4>
  <a name="996756"> </a>Declared In 
</h4>
<code>AttentionMgr.h<a name="996757"> </a></code><h4>
  <a name="996758"> </a>Prototype 
</h4>
<pre class="proto"><a name="996759"></a>void AttnListOpen (
   void
)
</pre>
<h4>
  <a name="996760"> </a>Parameters 
</h4>

<dl>
<dt><a name="996761"> </a><code>None.</code></dt>
</dl>
<h4>
  <a name="996762"> </a>Returns 
</h4>

<p><a name="996763"> </a>Returns nothing.</p>
<h4>
  <a name="996764"> </a>Comments 
</h4>

<p><a name="996765"> </a>This function allows applications that do not provide the blinking attention indicator to open the list, if necessary.</p>
<h4>
  <a name="996766"> </a>Compatibility 
</h4>

<p><a name="996770"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>

<h3 class="hbH3">
  <a name="996773"> </a>AttnUpdate Function <a href="#995795"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="996775"> </a>Purpose 
</h4>

<p><a name="996776"> </a>Updates one or more aspects of a specified attention item.</p>
<h4>
  <a name="996777"> </a>Declared In 
</h4>
<code>AttentionMgr.h<a name="996778"> </a></code><h4>
  <a name="996779"> </a>Prototype 
</h4>
<pre class="proto"><a name="996780"></a>Boolean AttnUpdate (
   UInt16 cardNo,
   LocalID dbID,
   UInt32 userData,
   AttnCallbackProc *callbackFnP,
   AttnFlagsType *flagsP,
   UInt16 *nagRateInSecondsP,
   UInt16 *nagRepeatLimitP
)
</pre>
<h4>
  <a name="996781"> </a>Parameters 
</h4>

<dl>
<dt><a name="996782"> </a><code>&rarr;  <i><code>cardNo</code></i></code></dt>
<dd><a name="996783"> </a>Card number on which the application that made the request resides.</dd>

<dt><a name="996784"> </a><code>&rarr;  <i><code>dbID</code></i></code></dt>
<dd><a name="996785"> </a>Database ID of the application that made the request.</dd>

<dt><a name="996786"> </a><code>&rarr;  <i><code>userData</code></i></code></dt>
<dd><a name="996787"> </a>Application-specific data that is passed back to your code through the callback function. If no callback function is specified in the <code>callbackFnP</code> parameter, this data is included in what is passed along with a <a href="AppLaunchCodes.html#1011602"><code>sysAppLaunchCmdAttention</code></a> launch code. <code>userData</code> can be an integer, a pointer, or any other 32-bit value. Most applications pass the unique ID or other key for the record which caused the attention request. The value of the <code>userData</code> parameter is also used to distinguish a given attention attempt from others made by the same application. </dd>

<dt><a name="996791"> </a><code>&rarr;  <i><code>callbackFnP</code></i></code></dt>
<dd><a name="996792"> </a>Registers a new function to be called by the Attention Manager when the attention is displayed or removed. The function to which this parameter points should conform to <a href="AttentionMgr.html#996838"><code>AttnCallbackProc()</code></a>. Supply <code>NULL</code> to instead have a <a href="AppLaunchCodes.html#1011602"><code>sysAppLaunchCmdAttention</code></a> launch code sent to the application that made the attention request whenever the attention is displayed or removed.</dd>

</dl>

<div><hr>
  <a name="996799"> </a> <b>IMPORTANT: </b> Because <code>NULL</code> indicates that a launch code should be sent whenever the callback would otherwise be invoked, it isn't used in this instance to leave the original setting for the <code>callbackFnP</code> parameter intact. The value supplied for this parameter <i>always</i> overwrites the value supplied in the original attention request.
<hr>
</div>

<dl>
<dt><a name="996800"> </a><code>&rarr;  <i><code>flagsP</code></i></code></dt>
<dd><a name="996801"> </a>Pointer to a set of flags that can be used to override user-specified attention behavior; for instance, to force silent or noisy alarms. See <a href="AttentionMgr.html#996077"><code>AttnFlagsType</code></a> for the various bits that make up this flag, and note that the behavior is undefined if you set incompatible flags. Pass <code>NULL</code> to leave the current flag settings unchanged.</dd>

<dt><a name="996805"> </a><code>&rarr;  <i><code>nagRateInSecondsP</code></i></code></dt>
<dd><a name="996806"> </a>Pointer to the length of time to wait before nagging. Pass <code>NULL</code> to leave the "nag rate" unchanged.</dd>

<dt><a name="996807"> </a><code>&rarr;  <i><code>nagRepeatLimitP</code></i></code></dt>
<dd><a name="996808"> </a>Pointer to the maximum number of times the user should be nagged. Pass <code>NULL</code> to leave the nag repeat limit unchanged.</dd>

</dl>
<h4>
  <a name="996809"> </a>Returns 
</h4>

<p><a name="996810"> </a>Returns <code>true</code> if the update was successful, <code>false</code> if no matching attention item was found.</p>
<h4>
  <a name="996811"> </a>Comments 
</h4>

<p><a name="996812"> </a>This call may result in the callback function being called to re-display the item. If no callback function is specified, the <a href="AppLaunchCodes.html#1011602"><code>sysAppLaunchCmdAttention</code></a> launch code is instead sent to your application. It may also result in callbacks to other pending attention requests.</p>

<p><a name="996816"> </a>You call <code>AttnUpdate</code> to tell the Attention Manager to update, forcing it to call into all of its clients to redraw. This provides a way for an application to update the text of an attention item without tearing down and re-opening the Attention Manager dialog. For example, <code>AttnUpdate</code> could be used to update an existing email notification to say "You have three new email messages" when additional messages are received.</p>

<p><a name="996817"> </a>Although <code>AttnUpdate</code> may cause a given attention item to redraw, it does not rerun the special effects (if any) that occurred when that attention item was added. If you want to trigger Attention Manager effects for a particular item, call <a href="AttentionMgr.html#996527"><code>AttnForgetIt()</code></a> followed by <a href="AttentionMgr.html#996555"><code>AttnGetAttention()</code></a>.</p>
<h4>
  <a name="996824"> </a>Compatibility 
</h4>

<p><a name="996828"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
<h4>
  <a name="996829"> </a>See Also 
</h4>

<p><a name="996833"> </a><a href="AttentionMgr.html#996555"><code>AttnGetAttention()</code></a></p>

<h2 class="haH2">
  <a name="996835"> </a>Application-Defined Functions <a href="#995795"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="996838"> </a>AttnCallbackProc Function <a href="#995795"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="996840"> </a>Purpose 
</h4>

<p><a name="996841"> </a>Provides a function prototype to be used by callback functions supplied to <a href="AttentionMgr.html#996555"><code>AttnGetAttention()</code></a> and <a href="AttentionMgr.html#996773"><code>AttnUpdate()</code></a>. The supplied function is invoked by the Attention Manager whenever the attention is displayed or removed.</p>
<h4>
  <a name="996848"> </a>Declared In 
</h4>
<code>AttentionMgr.h<a name="996849"> </a></code><h4>
  <a name="996850"> </a>Prototype 
</h4>
<pre class="proto"><a name="996851"></a>typedef Err AttnCallbackProc(
   AttnCommandType command,
   UInt32 userData,
   AttnCommandArgsType *commandArgsP
)
</pre>
<h4>
  <a name="996852"> </a>Parameters 
</h4>

<dl>
<dt><a name="996853"> </a><code>&rarr;  <i><code>command</code></i></code></dt>
<dd><a name="996854"> </a>Indicates what the callback function is being requested to do. The complete list of possible commands are described in the definition of <a href="AttentionMgr.html#995829"><code>AttnCommandType</code></a>.</dd>

<dt><a name="996858"> </a><code>&rarr;  <i><code>userData</code></i></code></dt>
<dd><a name="996859"> </a>Identifier that distinguishes the particular attention item from others made by this application. This identifier was specified when the attention item was created.</dd>

<dt><a name="996860"> </a><code>&rarr;  <i><code>commandArgsP</code></i></code></dt>
<dd><a name="996861"> </a>Pointer to command-specific arguments. See the description of each command for a discussion of that command's arguments.</dd>

</dl>
<h4>
  <a name="996862"> </a>Returns 
</h4>

<p><a name="996863"> </a>The callback function should return <code>errNone</code> if it correctly handled the command, or an appropriate error code otherwise. If the callback function returns an error code other than <code>errNone</code>, the attention is removed from the list of active attention items.</p>
<h4>
  <a name="996864"> </a>Comments 
</h4>

<p><a name="996865"> </a>For a given attention item, the Attention Manager calls back to the code resource that created that item whenever the Attention Manager needs the resource to draw the attention dialog contents or whenever it needs to inform the code resource of activity relating to the attention item. The Attention Manager calls back using one of two mechanisms:</p>
<ul type="disc">
  <li><a name="996866"> </a>If a callback routine has been specified for a given attention item, the Attention Manager invokes the specified routine. This callback routine doesn't have application globals available to it, so it is important that anything necessary to draw or otherwise display be available through <code>commandArgsP</code>. A callback routine is typically used by libraries and system extensions.
  <li><a name="996867"> </a>If a callback routine has not been specified for a given attention item, the Attention Manager instead sends a <a href="AppLaunchCodes.html#1011602"><code>sysAppLaunchCmdAttention</code></a> launch code to the application that registered the attention item. Accompanying that launch code is an <a href="AttentionMgr.html#996225"><code>AttnLaunchCodeArgsType</code></a> structure containing the three parameters documented above. Applications typically use the launch-code mechanism due to the restrictions that are placed on callback routines.
</ul>

<div><hr>
  <a name="996874"> </a> <b>IMPORTANT: </b> It is your responsibility to ensure that the callback procedure is still in the same place when it gets called, dealing with the possibility that the code resource might be unlocked and moved in memory, and with the possibility that the database containing the code resource might be deleted. For the most part, these problems don't exist when using launch codes.
<hr>
</div>
<h4>
  <a name="996875"> </a>Compatibility 
</h4>

<p><a name="996879"> </a>Invoked only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
&nbsp;<br>
</div>
<!--END CONTENT-->

</td>
<td width="5">&nbsp;&nbsp;</td>
</tr>

</table>

<!-- BEGIN FOOTER -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="7" rowspan="2"><img name="index_x" src="images/shim.gif" width="7" height="33" border="0" alt=""></td>
<td align="left"><img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
<td width="10" rowspan="2"><img name="index_x" src="images/shim.gif" width="10" height="33" border="0" alt=""></td>
</tr>
<tr>
<td align="center">
<p class="footer">
Copyright © 1996-2004, PalmSource, Inc. and its affiliates.  All rights reserved. <br>
<a href="http://www.palmsource.com/contact/">Write Us</a> | <a href="http://www.palmos.com/dev/training/">Training</a> | <a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a> | <a href="Reference_Front.html" target="_blank">Legal</a></p>
<br>
<!--BEGIN BOOK NAVIGATION-->
<p class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="ReferenceTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="Notifications.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="Category.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ReferenceIX.html">Index</a>
</p>
</td>
</tr>
</table>
<!-- END FOOTER -->

</body>
</html>