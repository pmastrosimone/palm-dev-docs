<html>
<head>
<title>(68K) Script Plugin | Palm OS&#174; Programmer's  API Reference</title> 
<link href="psi_devpubs.css" rel="stylesheet" type="text/css">

<!-- BEGIN META DATA -->
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META NAME="PSITEMPLATE" CONTENT="1006-007 PalmSource_HTML_2003 20041101">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks AutoMap 2003 for FrameMaker 8.0.6.2138">
<META NAME="LASTUPDATED" CONTENT="11/22/04 10:47:04">
<!-- END META DATA -->
</head>

<body bgcolor="#ffffff" text="#000000" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<a name="1111757"></a>

<!-- BEGIN TOPNAV -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td><img src="images/shim.gif" width="7" height="75" border="0" alt=""></td>
<td align="left"><table border="0" cellpadding="0" cellspacing="0" width="744">
<tr>
<td><img name="index_r2_c1" src="images/shim.gif" width="25" height="75" border="0" alt=""></td>
<td valign="top"><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_r2_c4" src="images/shim.gif" width="96" height="15" border="0" alt=""></td>
</tr>
<tr>
<td><a href="http://www.palmsource.com/"><img name="ps_logo" src="images/ps_logo.gif" width="96" height="54" border="0" alt=""></a></td>
</tr>

</table>
</td>

<td><table border="0" cellpadding="0" cellspacing="0" width="30">
<td><img name="index_x" src="images/shim.gif" width="30" height="75" border="0" alt=""></td>
</table></td>

<!--BEGIN MASTHEAD-->
<td><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
<tr>
<td>
<!--BEGIN BOOK NAVIGATION-->
<span class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="ReferenceTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="NetworkUtils.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="SerialDriver.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ReferenceIX.html">Index</a>
</span>
<!--END BOOK NAVIGATION-->
</tr>
<tr>
<td>
<!--BEGIN PAGE TITLE-->
<h2 class="PageTitle">68 &nbsp;&nbsp;
Script Plugin</h2></td>
<!--END PAGE TITLE-->
</tr>
<tr>
<td>
<!--BEGIN BOOK TITLE-->
<p class="BookTitle">Palm OS&#174; Programmer's  API Reference</p>
<p class="SubTitle">Palm OS&#174; 68K SDK </p>
<!--END BOOK TITLE-->
</td>
</tr>
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
</table>
</td>
<!--END MASTHEAD-->
</tr>
</table>
<img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
</tr>
</table>
<!-- END TOPNAV -->

<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" width="5"><img name="index_x" src="images/shim.gif" width="5" height="33" border="0" alt=""></td>

<!--BEGIN SIDETOC-->
<td valign="top" width="175">
<div id="sidetoc" valign="bottom">
<h1 class="SideTOC1-PartTab"><a href="PartIII.html">Part III: Communications</a> </h1>
<h1 class="SideTOC1"><a href="ScriptPlugin.html">68  Script Plugin</a></h1>

   <h2 class="SideTOC2"><a href="#1111780">
   Script Plugin Data Types</a></h2>

      <h3 class="SideTOC3"><a href="#1111783">
      PluginCallbackProcType</a></h3>

      <h3 class="SideTOC3"><a href="#1111806">
      PluginCmdPtr</a></h3>

      <h3 class="SideTOC3"><a href="#1111818">
      PluginCmdType</a></h3>

      <h3 class="SideTOC3"><a href="#1111854">
      PluginExecCmdType</a></h3>

      <h3 class="SideTOC3"><a href="#1111891">
      PluginInfoPtr</a></h3>

      <h3 class="SideTOC3"><a href="#1111903">
      PluginInfoType</a></h3>

      <h3 class="SideTOC3"><a href="#1111936">
      ScriptPluginLaunchCodesEnum</a></h3>

   <h2 class="SideTOC2"><a href="#1111984">
   Script Plugin Constants</a></h2>

      <h3 class="SideTOC3"><a href="#1111986">
      Command Constants</a></h3>

      <h3 class="SideTOC3"><a href="#1112075">
      Size Constants</a></h3>

   <h2 class="SideTOC2"><a href="#1112109">
   Script Plugin Functions</a></h2>

      <h3 class="SideTOC3"><a href="#1112113">
      ScriptPluginSelectorProc</a></h3>

</div>
</td>

<td width="5">&nbsp;&nbsp;</td>
<td width="2" background="images/index_r8_c10.gif"><img src="images/shim.gif" width="2" height="75" border="0" alt=""></td>
<td width="5">&nbsp;&nbsp;</td>

<!--END SIDETOC-->

<td valign="top">

<!--BEGIN CONTENT-->
<div id="content" valign="bottom">
<p><a name="1111758"> </a>This chapter describes the login script plugin support. You write a plugin to add to the list of available login script commands in the Network preferences panel. This chapter covers: </p>
<ul type="disc">
  <li><a name="1111762"> </a><a href="ScriptPlugin.html#1111780">Script Plugin Data Types</a>
  <li><a name="1111766"> </a><a href="ScriptPlugin.html#1111984">Script Plugin Constants</a>
</ul>

<p><a name="1111768"> </a>The header file <code>ScriptPlugin.h</code> declares the API described in this chapter. </p>

<p><a name="1111769"> </a>For more information on the script plugin, see the section <a href="../PalmOSCompanion2/NetworkCommunication.html#1022476">"Extending the Network Login Script Support"</a> in the <a href="../PalmOSCompanion2/NetworkCommunication.html#1021267">"Network Communication"</a> chapter of the <i>Palm OS Programmer's Companion</i>, vol. II, <i>Communications</i>. </p>

<h2 class="haH2">
  <a name="1111780"> </a>Script Plugin Data Types <a href="#1111757"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="1111783"> </a>PluginCallbackProcType Struct <a href="#1111757"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1111785"> </a>Purpose 
</h4>

<p><a name="1111787"> </a>The <code>PluginCallbackProcType</code> defines the <code>procP</code> field in <a href="ScriptPlugin.html#1111854"><code>PluginExecCmdType</code></a>. </p>
<h4>
  <a name="1111791"> </a>Prototype 
</h4>
<pre class="proto"><a name="1111792"></a>typedef struct {
  ScriptPluginSelectorProcPtr selectorProcP;
} PluginCallbackProcType, *PluginCallbackProcPtr; 
</pre>
<h4>
  <a name="1116328"> </a>Fields 
</h4>

<dl>
<dt><a name="1111798"> </a><code><code>selectorProcP</code> </code></dt>
<dd><a name="1111800"> </a>The address of a selector-based callback function for accessing the functionality of the network interface. Each network interface provides it own <code>ScriptPluginSelectorProc</code> function. See <a href="ScriptPlugin.html#1112113"><code>ScriptPluginSelectorProc()</code></a>.</dd>

</dl>

<h3 class="hbH3">
  <a name="1111806"> </a>PluginCmdPtr Typedef <a href="#1111757"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1111808"> </a>Purpose 
</h4>

<p><a name="1111813"> </a>The <code>PluginCmdPtr</code> type defines a pointer to a <a href="ScriptPlugin.html#1111818"><code>PluginCmdType</code></a> structure. </p>
<h4>
  <a name="1111814"> </a>Prototype 
</h4>
<pre class="proto"><a name="1111815"></a>typedef PluginCmdType *PluginCmdPtr;
</pre>

<h3 class="hbH3">
  <a name="1111818"> </a>PluginCmdType Struct <a href="#1111757"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1111820"> </a>Purpose 
</h4>

<p><a name="1111822"> </a>The <code>PluginCmdType</code> structure specifies the name of a command. </p>
<h4>
  <a name="1111823"> </a>Prototype 
</h4>
<pre class="proto"><a name="1111824"></a>typedef struct {
  Char commandName[pluginMaxCmdNameLen + 1];
  Boolean hasTxtStringArg;
  UInt8 reserved;
} PluginCmdType;
</pre>
<h4>
  <a name="1116366"> </a>Fields 
</h4>
<p class="tt"><a name="1111832"> </a><code>commandName</code> </p>

<dl>
<dd><a name="1111834"> </a>The name of the command. This string appears in the pull-down list in the Network preferences panel's script view. </dd>

<dd><a name="1111838"> </a>The pull-down list contains all available commands from all plugins. Make sure that your command name is unique and as short as possible. </dd>

</dl>
<p class="tt"><a name="1111840"> </a><code>hasTxtStringArg</code> </p>

<dl>
<dd><a name="1111842"> </a><code>true</code> if the command takes an argument. In this case when the user selects this command, the Network preferences panel displays a field next to the command name where the user should enter the argument. This argument is passed in the <code>txtStringArg</code> field in <a href="ScriptPlugin.html#1111854"><code>PluginExecCmdType</code></a> when the command is to be executed. </dd>

</dl>
<p class="tt"><a name="1111847"> </a><code>reserved</code> </p>

<dl>
<dd><a name="1111849"> </a>Reserved for future use. </dd>

</dl>

<h3 class="hbH3">
  <a name="1111854"> </a>PluginExecCmdType Struct <a href="#1111757"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1111856"> </a>Purpose 
</h4>

<p><a name="1111858"> </a>The <code>PluginExecCmdType</code> structure defines the parameter block for the <code>scptLaunchCmdExecuteCmd</code> launch code. This structure specifies which command is to be executed and provides any necessary arguments for the command. Your plugin should respond by executing the command. </p>
<h4>
  <a name="1111860"> </a>Prototype 
</h4>
<pre class="proto"><a name="1111861"></a>typedef struct {
  Char commandName[pluginMaxCmdNameLen + 1];
  Char txtStringArg [pluginMaxLenTxtStringArg + 1];
  PluginCallbackProcPtr procP;
  void *handle;
} PluginExecCmdType, *PluginExecCmdPtr;
</pre>
<h4>
  <a name="1116393"> </a>Fields 
</h4>

<dl>
<dt><a name="1111870"> </a><code><code>commandName</code> </code></dt>
<dd><a name="1111872"> </a>The command's name. This is the string that appears in the pull-down list in the script view of the Network preferences panel. </dd>

<dt><a name="1111874"> </a><code><code>txtStringArg</code> </code></dt>
<dd><a name="1111876"> </a>If the command takes an argument, this field provides the argument as a string. A <code>NULL</code> value means either that the user did not provide a value, or that you didn't specify that the command takes an argument. </dd>

<dt><a name="1111878"> </a><code><code>procP</code> </code></dt>
<dd><a name="1111883"> </a>A pointer to a <a href="ScriptPlugin.html#1111783"><code>PluginCallbackProcType</code></a> structure, which identifies the network interface function that the plugin can use to execute the command. </dd>

<dt><a name="1111885"> </a><code><code>handle</code> </code></dt>
<dd><a name="1111887"> </a>Handle to information specific to a particular connection. You must pass this value when you call the function pointed to by <code>procP</code>. </dd>

</dl>

<h3 class="hbH3">
  <a name="1111891"> </a>PluginInfoPtr Typedef <a href="#1111757"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1111893"> </a>Purpose 
</h4>

<p><a name="1111898"> </a>The <code>PluginInfoPtr</code> type defines a pointer to a <a href="ScriptPlugin.html#1111903"><code>PluginInfoType</code></a> structure. </p>
<h4>
  <a name="1111899"> </a>Prototype 
</h4>
<pre class="proto"><a name="1111900"></a>typedef PluginInfoType *PluginInfoPtr;
</pre>

<h3 class="hbH3">
  <a name="1111903"> </a>PluginInfoType Struct <a href="#1111757"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1111905"> </a>Purpose 
</h4>

<p><a name="1111907"> </a>The <code>PluginInfoType</code> structure is the parameter block for the <code>scptLaunchCmdListCmds</code> launch code. When your plugin receives the launch code, the <code>PluginInfoType</code> structure is empty. Your plugin should fill in the <code>PluginInfoType</code> and return it. The system uses the information returned to construct the pull-down list of available script commands and build a table of which plugin will execute which script command. </p>
<h4>
  <a name="1111909"> </a>Prototype 
</h4>
<pre class="proto"><a name="1111910"></a>typedef struct {
  Char  pluginName[pluginMaxModuleNameLen + 1];
  UInt16  numOfCommands;
  PluginCmdType  command[pluginMaxNumOfCmds];
} PluginInfoType;
</pre>
<h4>
  <a name="1116412"> </a>Fields 
</h4>

<dl>
<dt><a name="1111918"> </a><code><code>pluginName</code> </code></dt>
<dd><a name="1111920"> </a>A name that the system can use to identify your plugin. This is typically the same name you give the PRC file. </dd>

<dt><a name="1111922"> </a><code><code>numOfCommands</code> </code></dt>
<dd><a name="1111924"> </a>The number of commands that your plugin defines. The maximum allowed is <code>pluginMaxNumOfCmds</code>. </dd>

<dt><a name="1111927"> </a><code><code>command</code> </code></dt>
<dd><a name="1111932"> </a>An array of <a href="ScriptPlugin.html#1111818"><code>PluginCmdType</code></a> structures that provide information about the commands that your plugin defines. </dd>

</dl>

<h3 class="hbH3">
  <a name="1111936"> </a>ScriptPluginLaunchCodesEnum Enum <a href="#1111757"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1111938"> </a>Purpose 
</h4>

<p><a name="1111940"> </a>The <code>ScriptPluginLaunchCodesEnum</code> defines the launch codes for the script plugin. Your script plugin's <a href="SystemManager.html#1077030"><code>PilotMain()</code></a> function should respond to the launch codes defined in this enum. </p>
<h4>
  <a name="1111944"> </a>Prototype 
</h4>
<pre class="proto"><a name="1111945"></a>typedef enum {
  scptLaunchCmdDoNothing = 
      sysAppLaunchCmdCustomBase, 
  scptLaunchCmdListCmds,
  scptLaunchCmdExecuteCmd
} ScriptPluginLaunchCodesEnum;
</pre>
<h4>
  <a name="1116443"> </a>Constants 
</h4>

<dl>
<dt><a name="1111955"> </a><code><code>scptLaunchCmdDoNothing</code> </code></dt>
<dd><a name="1111957"> </a>This launch code is a no-op supplied only to provide a beginning value for the script plugin launch codes. It is not necessary to respond to this launch code. </dd>

<dt><a name="1111961"> </a><code><code>scptLaunchCmdListCmds</code> </code></dt>
<dd><a name="1111963"> </a>Provide information about the commands that your plugin executes. See <a href="ScriptPlugin.html#1111903"><code>PluginInfoType</code></a>. </dd>

<dt><a name="1111971"> </a><code><code>scptLaunchCmdExecuteCmd </code></code></dt>
<dd><a name="1111973"> </a>Execute the specified command. </dd>

<dd><a name="1111977"> </a>This launch code is received when the system is executing a user's login script during a network connection attempt. Your plugin should respond by executing the command provided in the <a href="ScriptPlugin.html#1111854"><code>PluginExecCmdType</code></a> parameter block. </dd>

</dl>

<h2 class="haH2">
  <a name="1111984"> </a>Script Plugin Constants <a href="#1111757"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="1111986"> </a>Command Constants <a href="#1111757"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1111987"> </a>The following constants identify the available commands that the network interface can perform for you. These commands are building blocks that you use to create your own script commands. To perform one of these tasks, pass the constant value as an argument to the network interface's callback function (<a href="ScriptPlugin.html#1112113"><code>ScriptPluginSelectorProc()</code></a>).</p>


<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1111993"> </a><b><span style="color: #000000;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">Constant </span></b></p>
    </th>
    <th><p class="tt"><a name="1111995"> </a><b>Value </b></p>
    </th>
    <th><p class="tt"><a name="1111997"> </a><b>Description </b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1112000"> </a><code>pluginNetLibDoNothing</code> </p>
    </td>
    <td><p class="tt"><a name="1112002"> </a>0</p>
    </td>
    <td><p class="tt"><a name="1112004"> </a>For debugging purposes.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1112007"> </a><code>pluginNetLibReadBytes</code> </p>
    </td>
    <td><p class="tt"><a name="1112009"> </a>1</p>
    </td>
    <td><p class="tt"><a name="1112011"> </a>Read the specified number of bytes from the open connection. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1112014"> </a><code>pluginNetLibWriteBytes</code> </p>
    </td>
    <td><p class="tt"><a name="1112016"> </a>2</p>
    </td>
    <td><p class="tt"><a name="1112018"> </a>Write the specified number of bytes to the open connection. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1112021"> </a><code>pluginNetLibGetUserName</code> </p>
    </td>
    <td><p class="tt"><a name="1112023"> </a>3</p>
    </td>
    <td><p class="tt"><a name="1112025"> </a>Get the user name from the network service profile.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1112028"> </a><code>pluginNetLibGetUserPwd</code> </p>
    </td>
    <td><p class="tt"><a name="1112030"> </a>4</p>
    </td>
    <td><p class="tt"><a name="1112032"> </a>Get the user's password from the network service profile.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1112035"> </a><code>pluginNetLibCheckCancelStatus</code> </p>
    </td>
    <td><p class="tt"><a name="1112037"> </a>5</p>
    </td>
    <td><p class="tt"><a name="1112039"> </a>Check to see if the user canceled the connection.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1112042"> </a><code>pluginNetLibPromptUser</code> </p>
    </td>
    <td><p class="tt"><a name="1112044"> </a>6</p>
    </td>
    <td><p class="tt"><a name="1112046"> </a>Prompt the user for input. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1112049"> </a><code>pluginNetLibConnLog</code> </p>
    </td>
    <td><p class="tt"><a name="1112051"> </a>7</p>
    </td>
    <td><p class="tt"><a name="1112053"> </a>Write a string to the network service's connection log. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1112056"> </a><code>pluginNetLibCallUIProc</code> </p>
    </td>
    <td><p class="tt"><a name="1112058"> </a>8</p>
    </td>
    <td><p class="tt"><a name="1112060"> </a>Have the network interface call a function in your plugin that displays UI. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1112062"> </a></p>
    </td>
    <td><p class="tt"><a name="1112064"> </a></p>
    </td>
    <td><p class="tt"><a name="1112066"> </a>Use this command if you need to display a more complicated user interface than the simple user prompt that the network interface provides. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1112069"> </a><code>pluginNetLibGetSerLibRefNum</code> </p>
    </td>
    <td><p class="tt"><a name="1112071"> </a>9</p>
    </td>
    <td><p class="tt"><a name="1112073"> </a>Obtain the serial library's reference number. You need the reference number to perform any serial library commands, which you might need to perform more complex work with the connection port. </p>
    </td>
  </tr>
</table>

</div>


<h3 class="hbH3">
  <a name="1112075"> </a>Size Constants <a href="#1111757"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1112076"> </a>The following table lists constants that control the size of strings in your plugin and the size of the plugin itself. </p>


<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1112079"> </a><b>Constant </b></p>
    </th>
    <th><p class="tt"><a name="1112081"> </a><b>Value </b></p>
    </th>
    <th><p class="tt"><a name="1112083"> </a><b>Description </b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1112085"> </a><code>pluginMaxCmdNameLen</code> </p>
    </td>
    <td><p class="tt"><a name="1112087"> </a>15</p>
    </td>
    <td><p class="tt"><a name="1112089"> </a>The maximum length for the command's name, not including the terminating null character. This is the string displayed to the user in the pull-down menu. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1112091"> </a><code>pluginMaxModuleNameLen</code> </p>
    </td>
    <td><p class="tt"><a name="1112093"> </a>15</p>
    </td>
    <td><p class="tt"><a name="1112095"> </a>The maximum length for the plugin's name (not including the terminating null character), which is typically the name of the PRC file as well. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1112097"> </a><code>pluginMaxNumOfCmds</code> </p>
    </td>
    <td><p class="tt"><a name="1112099"> </a>10</p>
    </td>
    <td><p class="tt"><a name="1112101"> </a>The maximum number of commands that your plugin can define. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1112103"> </a><code>pluginMaxLenTxtStringArg</code> </p>
    </td>
    <td><p class="tt"><a name="1112105"> </a>63</p>
    </td>
    <td><p class="tt"><a name="1112107"> </a>The maximum length of the argument that each command can take, not including the terminating null character. </p>
    </td>
  </tr>
</table>

</div>


<h2 class="haH2">
  <a name="1112109"> </a>Script Plugin Functions <a href="#1111757"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="1112113"> </a>ScriptPluginSelectorProc Function <a href="#1111757"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1112115"> </a>Purpose 
</h4>

<p><a name="1112116"> </a>A function provided by the network interface for the purpose of performing script commands. </p>
<h4>
  <a name="1112117"> </a>Declared In 
</h4>
<code>ScriptPlugin.h<a name="1112118"> </a></code><h4>
  <a name="1112119"> </a>Prototype 
</h4>
<pre class="proto"><a name="1112120"></a>Err (
   *ScriptPluginSelectorProcPtr
) (
   void *handle,
   UInt16 command,
   void *dataBufferP,
   UInt16 *sizeP,
   UInt16 *dataTimeoutP,
   void *procAddrP
)
</pre>
<h4>
  <a name="1112121"> </a>Parameters 
</h4>

<dl>
<dt><a name="1112122"> </a><code>&rarr;  <i><code>handle</code></i></code></dt>
<dd><a name="1112123"> </a>Handle to information specific to a particular connection. </dd>

<dt><a name="1112124"> </a><code>&rarr;  <i><code>command</code></i></code></dt>
<dd><a name="1112128"> </a>The command to be executed. See <a href="ScriptPlugin.html#1111986">"Command Constants"</a> for a list of possible values. The rest of the parameters to this callback function are interpreted differently based on the value of the <code>command</code> parameter. See the table in the "Comments" section for specifics. </dd>

<dt><a name="1112129"> </a><code>&harr;  <i><code>dataBufferP</code></i></code></dt>
<dd><a name="1112130"> </a>A pointer to arguments to pass to the command or a pointer to data returned by the command. See the "Comments" section below. </dd>

<dt><a name="1112131"> </a><code>&harr;  <i><code>sizeP</code></i></code></dt>
<dd><a name="1112132"> </a>The size of <code>dataBufferP</code>. </dd>

<dt><a name="1112133"> </a><code>&rarr;  <i><code>dataTimeoutP</code></i></code></dt>
<dd><a name="1112134"> </a>Number of seconds to wait for the command to execute. 0 means wait forever. Applies only to commands that request information from the network. </dd>

<dt><a name="1112135"> </a><code>&rarr;  <i><code>procAddrP</code></i></code></dt>
<dd><a name="1112136"> </a>Pointer to a user interface callback function that the network interface should call to complete the function. Used only by <code>pluginNetLibCallUIProc</code>. This function should take one argument of the same type that you pass to <code>dataBufferP</code> and should return <code>void</code>. </dd>

</dl>
<h4>
  <a name="1112138"> </a>Returns 
</h4>

<p><a name="1112139"> </a>Returns 0 upon success, or an error condition upon failure. If an error condition is returned, your plugin should stop processing and return the error condition from its <a href="SystemManager.html#1077030"><code>PilotMain()</code></a>. </p>
<h4>
  <a name="1112143"> </a>Comments 
</h4>

<p><a name="1112144"> </a>When your plugin receives the <code>scptLaunchCmdExecuteCmd</code> launch code, the parameter block contains the command's name, its text string argument (if any), and a pointer to the network interface's callback function. You should use this callback function any time you need to communicate with the network library, the user, or the host computer during execution of your command. </p>

<p><a name="1112145"> </a>The callback function takes as arguments the handle to information about this connection (which is also passed in the launch code's parameter block), and the command that the service should execute. The rest of the parameters are interpreted differently based on what the value the command argument is. See the table below. </p>


<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1112148"> </a><b>pluginNetLib </b></p>
    </th>
    <th><p class="tt"><a name="1112150"> </a><b>dataBufferP</b></p>
    </th>
    <th><p class="tt"><a name="1112152"> </a><b>sizeP</b></p>
    </th>
    <th><p class="tt"><a name="1112154"> </a><b>dataTimeOutP</b></p>
    </th>
    <th><p class="tt"><a name="1112156"> </a><b>procAddrP</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1112159"> </a><code>DoNothing</code> </p>
    </td>
    <td><p class="tt"><a name="1112161"> </a>N/A </p>
    </td>
    <td><p class="tt"><a name="1112163"> </a>N/A</p>
    </td>
    <td><p class="tt"><a name="1112165"> </a>N/A</p>
    </td>
    <td><p class="tt"><a name="1112167"> </a>N/A</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1112170"> </a><code>ReadBytes</code> </p>
    </td>
    <td><p class="tt"><a name="1112172"> </a>On return, contains the bytes that were read. </p>
    </td>
    <td><p class="tt"><a name="1112174"> </a>On input, contains the number of bytes to read.</p>
    </td>
    <td><p class="tt"><a name="1112176"> </a>Number of seconds to wait before timing out the operation. </p>
    </td>
    <td><p class="tt"><a name="1112178"> </a>N/A</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1112180"> </a></p>
    </td>
    <td><p class="tt"><a name="1112182"> </a></p>
    </td>
    <td><p class="tt"><a name="1112184"> </a>On return, contains the number of bytes actually read. </p>
    </td>
    <td><p class="tt"><a name="1112186"> </a></p>
    </td>
    <td><p class="tt"><a name="1112188"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1112191"> </a><code>WriteBytes</code> </p>
    </td>
    <td><p class="tt"><a name="1112193"> </a>On input, contains the data to send. </p>
    </td>
    <td><p class="tt"><a name="1112195"> </a>On input, contains the number of bytes to send. </p>
    </td>
    <td><p class="tt"><a name="1112197"> </a>Number of seconds to wait for a response before canceling. </p>
    </td>
    <td><p class="tt"><a name="1112199"> </a>N/A</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1112201"> </a></p>
    </td>
    <td><p class="tt"><a name="1112203"> </a></p>
    </td>
    <td><p class="tt"><a name="1112205"> </a>On return, contains the number of bytes actually sent.</p>
    </td>
    <td><p class="tt"><a name="1112207"> </a></p>
    </td>
    <td><p class="tt"><a name="1112209"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1112212"> </a><code>UserName</code> </p>
    </td>
    <td><p class="tt"><a name="1112214"> </a>On return, contains the user's name</p>
    </td>
    <td><p class="tt"><a name="1112216"> </a>On return, contains the size of the string pointed to by <code>dataBufferP</code>. </p>
    </td>
    <td><p class="tt"><a name="1112218"> </a>N/A</p>
    </td>
    <td><p class="tt"><a name="1112220"> </a>N/A</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1112223"> </a><code>UserPwd</code> </p>
    </td>
    <td><p class="tt"><a name="1112225"> </a>On return, contains the user's password. </p>
    </td>
    <td><p class="tt"><a name="1112227"> </a>On return, contains the size of the string pointed to by <code>dataBufferP</code>. </p>
    </td>
    <td><p class="tt"><a name="1112229"> </a>N/A</p>
    </td>
    <td><p class="tt"><a name="1112231"> </a>N/A</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1112234"> </a><code>CheckCancel<br>Status</code> </p>
    </td>
    <td><p class="tt"><a name="1112236"> </a>On return, the Boolean value <code>true</code> if the user canceled the command, <code>false</code> otherwise. </p>
    </td>
    <td><p class="tt"><a name="1112238"> </a>Size of Boolean. </p>
    </td>
    <td><p class="tt"><a name="1112240"> </a>N/A</p>
    </td>
    <td><p class="tt"><a name="1112242"> </a>N/A</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1112245"> </a><code>PromptUser</code> </p>
    </td>
    <td><p class="tt"><a name="1112247"> </a>On input, the prompt to display. </p>
<p class="tt"><a name="1112248"> </a></p>
<p class="tt"><a name="1112249"> </a>On return, the text that the user entered. </p>
    </td>
    <td><p class="tt"><a name="1112251"> </a>On input and on return, the size of the string pointed to by <code>dataBufferP</code>. </p>
    </td>
    <td><p class="tt"><a name="1112253"> </a>N/A</p>
    </td>
    <td><p class="tt"><a name="1112255"> </a>N/A</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1112258"> </a><code>ConnLog</code> </p>
    </td>
    <td><p class="tt"><a name="1112260"> </a>The string that should be written to the log. </p>
    </td>
    <td><p class="tt"><a name="1112262"> </a>N/A</p>
    </td>
    <td><p class="tt"><a name="1112264"> </a>N/A</p>
    </td>
    <td><p class="tt"><a name="1112266"> </a>N/A</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1112269"> </a><code>CallUIProc</code> </p>
    </td>
    <td><p class="tt"><a name="1112271"> </a>A pointer to a structure to pass to your callback function as a parameter. This structure should contain a handle to the form to be displayed, plus any other necessary information. </p>
    </td>
    <td><p class="tt"><a name="1112273"> </a>N/A</p>
    </td>
    <td><p class="tt"><a name="1112275"> </a>N/A</p>
    </td>
    <td><p class="tt"><a name="1112277"> </a>A pointer to a function in your plugin that displays the form. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1112280"> </a><code>GetSerLib<br>RefNum</code> </p>
    </td>
    <td><p class="tt"><a name="1112282"> </a>On return, contains the serial library's reference number.</p>
    </td>
    <td><p class="tt"><a name="1112284"> </a>N/A</p>
    </td>
    <td><p class="tt"><a name="1112286"> </a>N/A</p>
    </td>
    <td><p class="tt"><a name="1112288"> </a>N/A</p>
    </td>
  </tr>
</table>

</div>


<p><a name="1112290"> </a></p>
&nbsp;<br>
</div>
<!--END CONTENT-->

</td>
<td width="5">&nbsp;&nbsp;</td>
</tr>

</table>

<!-- BEGIN FOOTER -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="7" rowspan="2"><img name="index_x" src="images/shim.gif" width="7" height="33" border="0" alt=""></td>
<td align="left"><img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
<td width="10" rowspan="2"><img name="index_x" src="images/shim.gif" width="10" height="33" border="0" alt=""></td>
</tr>
<tr>
<td align="center">
<p class="footer">
Copyright © 1996-2004, PalmSource, Inc. and its affiliates.  All rights reserved. <br>
<a href="http://www.palmsource.com/contact/">Write Us</a> | <a href="http://www.palmos.com/dev/training/">Training</a> | <a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a> | <a href="Reference_Front.html" target="_blank">Legal</a></p>
<br>
<!--BEGIN BOOK NAVIGATION-->
<p class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="ReferenceTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="NetworkUtils.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="SerialDriver.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ReferenceIX.html">Index</a>
</p>
</td>
</tr>
</table>
<!-- END FOOTER -->

</body>
</html>