<html>
<head>
<title>(68K) Telephony Calls | Palm OS&#174; Programmer's  API Reference</title> 
<link href="psi_devpubs.css" rel="stylesheet" type="text/css">

<!-- BEGIN META DATA -->
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META NAME="PSITEMPLATE" CONTENT="1006-007 PalmSource_HTML_2003 20041101">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks AutoMap 2003 for FrameMaker 8.0.6.2138">
<META NAME="LASTUPDATED" CONTENT="11/22/04 10:47:20">
<!-- END META DATA -->
</head>

<body bgcolor="#ffffff" text="#000000" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<a name="1045871"></a>

<!-- BEGIN TOPNAV -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td><img src="images/shim.gif" width="7" height="75" border="0" alt=""></td>
<td align="left"><table border="0" cellpadding="0" cellspacing="0" width="744">
<tr>
<td><img name="index_r2_c1" src="images/shim.gif" width="25" height="75" border="0" alt=""></td>
<td valign="top"><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_r2_c4" src="images/shim.gif" width="96" height="15" border="0" alt=""></td>
</tr>
<tr>
<td><a href="http://www.palmsource.com/"><img name="ps_logo" src="images/ps_logo.gif" width="96" height="54" border="0" alt=""></a></td>
</tr>

</table>
</td>

<td><table border="0" cellpadding="0" cellspacing="0" width="30">
<td><img name="index_x" src="images/shim.gif" width="30" height="75" border="0" alt=""></td>
</table></td>

<!--BEGIN MASTHEAD-->
<td><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
<tr>
<td>
<!--BEGIN BOOK NAVIGATION-->
<span class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="ReferenceTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="TelephonyNetwork.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="TelephonySMS.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ReferenceIX.html">Index</a>
</span>
<!--END BOOK NAVIGATION-->
</tr>
<tr>
<td>
<!--BEGIN PAGE TITLE-->
<h2 class="PageTitle">76 &nbsp;&nbsp;
Telephony Calls</h2></td>
<!--END PAGE TITLE-->
</tr>
<tr>
<td>
<!--BEGIN BOOK TITLE-->
<p class="BookTitle">Palm OS&#174; Programmer's  API Reference</p>
<p class="SubTitle">Palm OS&#174; 68K SDK </p>
<!--END BOOK TITLE-->
</td>
</tr>
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
</table>
</td>
<!--END MASTHEAD-->
</tr>
</table>
<img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
</tr>
</table>
<!-- END TOPNAV -->

<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" width="5"><img name="index_x" src="images/shim.gif" width="5" height="33" border="0" alt=""></td>

<!--BEGIN SIDETOC-->
<td valign="top" width="175">
<div id="sidetoc" valign="bottom">
<h1 class="SideTOC1-PartTab"><a href="PartIII.html">Part III: Communications</a> </h1>
<h1 class="SideTOC1"><a href="TelephonyCalls.html">76  Telephony Calls</a></h1>

   <h2 class="SideTOC2"><a href="#1045897">
   Telephony Calls Data Structures</a></h2>

      <h3 class="SideTOC3"><a href="#1067089">
      TelDtcCallNumberType</a></h3>

      <h3 class="SideTOC3"><a href="#1067109">
      TelDtcReceiveDataType</a></h3>

      <h3 class="SideTOC3"><a href="#1067130">
      TelDtcSendDataType</a></h3>

      <h3 class="SideTOC3"><a href="#1067147">
      TelEmcGetNumberType</a></h3>

      <h3 class="SideTOC3"><a href="#1067168">
      TelEmcSetNumberType</a></h3>

      <h3 class="SideTOC3"><a href="#1067348">
      TelSpcGetCallerNumberType</a></h3>

      <h3 class="SideTOC3"><a href="#1067293">
      TelSpcPlayDTMFType</a></h3>

   <h2 class="SideTOC2"><a href="#1046142">
   Telephony Calls Functions</a></h2>

      <h3 class="SideTOC3"><a href="#1046146">
      TelDtcCallNumber</a></h3>

      <h3 class="SideTOC3"><a href="#1046214">
      TelDtcCloseLine</a></h3>

      <h3 class="SideTOC3"><a href="#1046278">
      TelDtcReceiveData</a></h3>

      <h3 class="SideTOC3"><a href="#1046352">
      TelDtcSendData</a></h3>

      <h3 class="SideTOC3"><a href="#1046426">
      TelEmcCall</a></h3>

      <h3 class="SideTOC3"><a href="#1046511">
      TelEmcCloseLine</a></h3>

      <h3 class="SideTOC3"><a href="#1046570">
      TelEmcGetNumber</a></h3>

      <h3 class="SideTOC3"><a href="#1046649">
      TelEmcGetNumberCount</a></h3>

      <h3 class="SideTOC3"><a href="#1046720">
      TelEmcSelectNumber</a></h3>

      <h3 class="SideTOC3"><a href="#1046792">
      TelEmcSetNumber</a></h3>

      <h3 class="SideTOC3"><a href="#1046860">
      TelSpcAcceptCall</a></h3>

      <h3 class="SideTOC3"><a href="#1046925">
      TelSpcCallNumber</a></h3>

      <h3 class="SideTOC3"><a href="#1047027">
      TelSpcCloseLine</a></h3>

      <h3 class="SideTOC3"><a href="#1047090">
      TelSpcConference</a></h3>

      <h3 class="SideTOC3"><a href="#1047163">
      TelSpcGetCallerNumber</a></h3>

      <h3 class="SideTOC3"><a href="#1047235">
      TelSpcHoldLine</a></h3>

      <h3 class="SideTOC3"><a href="#1047294">
      TelSpcPlayDTMF</a></h3>

      <h3 class="SideTOC3"><a href="#1047367">
      TelSpcRejectCall</a></h3>

      <h3 class="SideTOC3"><a href="#1047428">
      TelSpcRetrieveHeldLine</a></h3>

      <h3 class="SideTOC3"><a href="#1047487">
      TelSpcSelectLine</a></h3>

      <h3 class="SideTOC3"><a href="#1047551">
      TelSpcSendBurstDTMF</a></h3>

      <h3 class="SideTOC3"><a href="#1047622">
      TelSpcStartContinuousDTMF</a></h3>

      <h3 class="SideTOC3"><a href="#1047695">
      TelSpcStopContinuousDTMF</a></h3>

</div>
</td>

<td width="5">&nbsp;&nbsp;</td>
<td width="2" background="images/index_r8_c10.gif"><img src="images/shim.gif" width="2" height="75" border="0" alt=""></td>
<td width="5">&nbsp;&nbsp;</td>

<!--END SIDETOC-->

<td valign="top">

<!--BEGIN CONTENT-->
<div id="content" valign="bottom">
<p><a name="1045872"> </a>This chapter describes the telephony calls service sets of the telephony API, which include:</p>
<ul type="disc">
  <li><a name="1045873"> </a>The data calls service set
  <li><a name="1045874"> </a>The emergency calls service set
  <li><a name="1045875"> </a>The speech (voice) calls service set
</ul>

<p><a name="1045876"> </a>For more information about the telephony manager basic services and the different service sets, see <a href="TelephonyBasic.html#1044083">Chapter 73, "Telephony Basic Services."</a></p>

<p><a name="1045880"> </a>This chapter describes:</p>
<ul type="disc">
  <li><a name="1045884"> </a><a href="TelephonyCalls.html#1045897">Telephony Calls Data Structures</a>
  <li><a name="1045888"> </a><a href="TelephonyCalls.html#1046142">Telephony Calls Functions</a>
</ul>

<p><a name="1045889"> </a>For more information about using the telephony manager, see <a href="../PalmOSCompanion2/TelephonyMgr.html#1034776">Chapter 10, "Telephony Manager,"</a> in <i>Palm OS Programmer's Companion</i>, vol. II, <i>Communications</i>.</p>

<h2 class="haH2">
  <a name="1045897"> </a>Telephony Calls Data Structures <a href="#1045871"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1045898"> </a>This section describes the data structures used with the telephony calls service sets portion of the telephony manager API.</p>

<h3 class="hbH3">
  <a name="1067089"> </a>TelDtcCallNumberType Struct <a href="#1045871"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1067091"> </a>Purpose 
</h4>

<p><a name="1067095"> </a>The <a href="TelephonyCalls.html#1046146"><code>TelDtcCallNumber()</code></a> function uses the <code>TelDataCallNumberType</code> structure to specify information about the telephone number to call.</p>
<h4>
  <a name="1067096"> </a>Declared In 
</h4>
<code>TelephonyMgrTypes.h<a name="1067097"> </a></code><h4>
  <a name="1067098"> </a>Prototype 
</h4>
<pre class="proto"><a name="1067099"></a>typedef struct _TelDtcCallNumberType {
   Char *dialNumberP;
   UInt8 lineId;
} TelDtcCallNumberType
</pre>
<h4>
  <a name="1067100"> </a>Fields 
</h4>

<dl>
<dt><a name="1067101"> </a><code>&rarr; <code>dialNumberP </code></code></dt>
<dd><a name="1067102"> </a>The telephone number to dial.</dd>

<dt><a name="1067103"> </a><code>&larr; <code>lineId</code></code></dt>
<dd><a name="1067107"> </a>Upon return from the <a href="TelephonyCalls.html#1046146"><code>TelDtcCallNumber()</code></a> function, this is the ID of the data line that was established for the telephone call.</dd>

</dl>

<h3 class="hbH3">
  <a name="1067109"> </a>TelDtcReceiveDataType Struct <a href="#1045871"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1067111"> </a>Purpose 
</h4>

<p><a name="1067115"> </a>The <a href="TelephonyCalls.html#1046278"><code>TelDtcReceiveData()</code></a> function uses a <code>TelDtcReceiveDataType</code> structure to receive data from an open data line.</p>
<h4>
  <a name="1067116"> </a>Declared In 
</h4>
<code>TelephonyMgrTypes.h<a name="1067117"> </a></code><h4>
  <a name="1067118"> </a>Prototype 
</h4>
<pre class="proto"><a name="1067119"></a>typedef struct _TelDtcReceiveDataType {
   UInt8 *data;
   UInt32 size;
   UInt32 timeOut;
} TelDtcReceiveDataType
</pre>
<h4>
  <a name="1067120"> </a>Fields 
</h4>

<dl>
<dt><a name="1067121"> </a><code>&larr; <code>data </code></code></dt>
<dd><a name="1067122"> </a>A buffer into which the data is stored.</dd>

<dd><a name="1067123"> </a>Note that if this buffer is too small to contain all of the available data, the end of the data is truncated and the function using this structure generates a <code>telErrBufferSize</code> error.</dd>

<dt><a name="1067124"> </a><code>&harr; <code>size</code></code></dt>
<dd><a name="1067125"> </a>When the structure is used as an input parameter, this is the allocated size, in bytes, of the <code>data</code> buffer. </dd>

<dd><a name="1067126"> </a>Upon return, this is the actual number of bytes of data that was retrieved. If the <code>data</code> buffer is too small to contain all of the retrieved data, the function using this structure generates a <code>telErrBufferSize</code> error.</dd>

<dt><a name="1067127"> </a><code>&rarr; <code>timeout</code></code></dt>
<dd><a name="1067128"> </a>The number of milliseconds to wait before timing out.</dd>

</dl>

<h3 class="hbH3">
  <a name="1067130"> </a>TelDtcSendDataType Struct <a href="#1045871"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1067132"> </a>Purpose 
</h4>

<p><a name="1067136"> </a>The <a href="TelephonyCalls.html#1046278"><code>TelDtcReceiveData()</code></a> function uses a <code>TelDtcSendDataType</code> structure to send data to an open data line.</p>
<h4>
  <a name="1067137"> </a>Declared In 
</h4>
<code>TelephonyMgrTypes.h<a name="1067138"> </a></code><h4>
  <a name="1067139"> </a>Prototype 
</h4>
<pre class="proto"><a name="1067140"></a>typedef struct _TelDtcSendDataType {
   UInt8 *data;
   UInt32 size;
} TelDtcSendDataType
</pre>
<h4>
  <a name="1067141"> </a>Fields 
</h4>

<dl>
<dt><a name="1067142"> </a><code>&rarr; <code>data </code></code></dt>
<dd><a name="1067143"> </a>A pointer to the data to send.</dd>

<dt><a name="1067144"> </a><code>&rarr; <code>size</code></code></dt>
<dd><a name="1067145"> </a>The number of bytes of <code>data</code> in the data buffer.</dd>

</dl>

<h3 class="hbH3">
  <a name="1067147"> </a>TelEmcGetNumberType Struct <a href="#1045871"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1067149"> </a>Purpose 
</h4>

<p><a name="1067153"> </a>The <a href="TelephonyCalls.html#1046570"><code>TelEmcGetNumber()</code></a> function uses a <code>TelEmcGetNumberType</code> structure to retrieve an emergency dial telephone number.</p>
<h4>
  <a name="1067154"> </a>Declared In 
</h4>
<code>TelephonyMgrTypes.h<a name="1067155"> </a></code><h4>
  <a name="1067156"> </a>Prototype 
</h4>
<pre class="proto"><a name="1067157"></a>typedef struct _TelEmcGetNumberType {
   UInt8 index;
   UInt8 size;
   Char *value;
} TelEmcGetNumberType
</pre>
<h4>
  <a name="1067158"> </a>Fields 
</h4>

<dl>
<dt><a name="1067159"> </a><code>&rarr; <code>index </code></code></dt>
<dd><a name="1067160"> </a>The index of the telephone number. This is a zero-based index.</dd>

<dt><a name="1067161"> </a><code>&harr; <code>size</code></code></dt>
<dd><a name="1067162"> </a>When the structure is used as an input parameter, this is the allocated size, in bytes, of the <code>value</code> buffer. </dd>

<dd><a name="1067163"> </a>Upon return, this is the actual size of the string, including the null terminator character. If the <code>value</code> buffer is too small to contain the entire retrieved string, this field is assigned the entire length of the string, and the function using this structure generates a <code>telErrBufferSize</code> error.</dd>

<dt><a name="1067164"> </a><code>&larr; <code>value</code></code></dt>
<dd><a name="1067165"> </a>A null-terminated string buffer into which the emergency dial telephone number is stored.</dd>

<dd><a name="1067166"> </a>Note that if this buffer is too small to contain all of the available data, the end of the data is truncated and the function using this structure generates a <code>telErrBufferSize</code> error.</dd>

</dl>

<h3 class="hbH3">
  <a name="1067168"> </a>TelEmcSetNumberType Struct <a href="#1045871"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1067170"> </a>Purpose 
</h4>

<p><a name="1067174"> </a>The <a href="TelephonyCalls.html#1046792"><code>TelEmcSetNumber()</code></a> function uses a <code>TelEmcNumberType</code> structure to set an emergency dial telephone number.</p>
<h4>
  <a name="1067175"> </a>Declared In 
</h4>
<code>TelephonyMgrTypes.h<a name="1067176"> </a></code><h4>
  <a name="1067177"> </a>Prototype 
</h4>
<pre class="proto"><a name="1067178"></a>typedef struct _TelEmcSetNumberType {
   UInt8 index;
   Char *value;
} TelEmcSetNumberType
</pre>
<h4>
  <a name="1067179"> </a>Fields 
</h4>

<dl>
<dt><a name="1067180"> </a><code>&rarr; <code>index </code></code></dt>
<dd><a name="1067181"> </a>The index of the telephone number. This is a zero-based index.</dd>

<dt><a name="1067182"> </a><code>&rarr; <code>value</code></code></dt>
<dd><a name="1067183"> </a>The string value of the number to store as the <code>index</code>th entry.</dd>

</dl>

<h3 class="hbH3">
  <a name="1067348"> </a>TelSpcGetCallerNumberType Struct <a href="#1045871"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1067276"> </a>Purpose 
</h4>

<p><a name="1067280"> </a>The <a href="TelephonyCalls.html#1047163"><code>TelSpcGetCallerNumber()</code></a> function uses a <code>TelSpcGetCallerNumberType</code> structure to retrieve an incoming telephone number.</p>
<h4>
  <a name="1067281"> </a>Declared In 
</h4>
<code>TelephonyMgrTypes.h<a name="1067282"> </a></code><h4>
  <a name="1067283"> </a>Prototype 
</h4>
<pre class="proto"><a name="1067284"></a>typedef struct _TelSpcGetCallerNumberType {
   UInt8 size;
   Char *value;
} TelSpcGetCallerNumberType
</pre>
<h4>
  <a name="1067285"> </a>Fields 
</h4>

<dl>
<dt><a name="1067286"> </a><code>&harr; <code>size</code></code></dt>
<dd><a name="1067287"> </a>When the structure is used as an input parameter, this is the allocated size, in bytes, of the <code>value</code> buffer. </dd>

<dd><a name="1067288"> </a>Upon return, this is the actual size of the caller dial telephone number, including the null terminator character. If the <code>value</code> buffer is too small to contain the entire retrieved string, this field is assigned the entire length of the string, and the function using this structure generates a <code>telErrBufferSize</code> error.</dd>

<dt><a name="1067289"> </a><code>&larr; <code>value </code></code></dt>
<dd><a name="1067290"> </a>A null-terminated string buffer into which the caller telephone number is stored.</dd>

<dd><a name="1067291"> </a>Note that if this buffer is too small to contain all of the available data, the end of the data is truncated and the function using this structure generates a <code>telErrBufferSize</code> error.</dd>

</dl>

<h3 class="hbH3">
  <a name="1067293"> </a>TelSpcPlayDTMFType Struct <a href="#1045871"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1067295"> </a>Purpose 
</h4>

<p><a name="1067299"> </a>The <a href="TelephonyCalls.html#1047294"><code>TelSpcPlayDTMF()</code></a> function uses a <code>TelSpcPlayDTMFType</code> structure to specify the qualities of the DTMF (dual-tone, multi-frequency) sound sent by the phone to the network or remote, connected equipment.</p>
<h4>
  <a name="1067300"> </a>Declared In 
</h4>
<code>TelephonyMgrTypes.h<a name="1067301"> </a></code><h4>
  <a name="1067302"> </a>Prototype 
</h4>
<pre class="proto"><a name="1067303"></a>typedef struct _TelSpcPlayDTMFType {
   UInt8 keyTone;
   UInt32 duration;
} TelSpcPlayDTMFType
</pre>
<h4>
  <a name="1067304"> </a>Fields 
</h4>

<dl>
<dt><a name="1067305"> </a><code>&rarr; <code>keyTone </code></code></dt>
<dd><a name="1067306"> </a>The keycode of the key tone to play. This must be one of the values declared under <a href="TelephonyBasic.html#1099391">"Keycode Constants."</a></dd>

<dt><a name="1067310"> </a><code>&rarr; <code>duration</code></code></dt>
<dd><a name="1067311"> </a>The duration of the tone, specified as a multiple of ten milliseconds.</dd>

</dl>

<h2 class="haH2">
  <a name="1046142"> </a>Telephony Calls Functions <a href="#1045871"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1046143"> </a>This section describes the functions used with the telephony calls service sets portion of the telephony API.</p>

<h3 class="hbH3">
  <a name="1046146"> </a>TelDtcCallNumber Function <a href="#1045871"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1046148"> </a>Purpose 
</h4>

<p><a name="1046149"> </a>Initiate a data telephone call.</p>
<h4>
  <a name="1046150"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1046151"> </a></code><h4>
  <a name="1046152"> </a>Prototype 
</h4>
<pre class="proto"><a name="1046153"></a>Err TelDtcCallNumber(
   UInt16 iRefnum,
   TelAppID iAppId,
   TelDtcCallNumberType *ioParamP,
   UInt16 *ioTransIdP
)
</pre>
<h4>
  <a name="1046154"> </a>Parameters 
</h4>

<dl>
<dt><a name="1046155"> </a><code>&rarr;  <i><code>iRefnum</code></i></code></dt>
<dd><a name="1046156"> </a>The telephony manager library reference number.</dd>

<dt><a name="1046157"> </a><code>&rarr;  <i><code>iAppId</code></i></code></dt>
<dd><a name="1046158"> </a>The telephone application attachment identifier for your application.</dd>

<dt><a name="1046159"> </a><code>&harr;  <i><code>ioParamP</code></i></code></dt>
<dd><a name="1046163"> </a>A pointer to a <a href="TelephonyCalls.html#1067089"><code>TelDtcCallNumberType</code></a> structure that specifies information about the telephone call.</dd>

<dt><a name="1046164"> </a><code>&harr;  <i><code>ioTransIdP</code></i></code></dt>
<dd><a name="1046165"> </a>Set the value of this parameter to <code>NULL</code> to cause the function to execute synchronously. </dd>

<dd><a name="1046166"> </a>If this parameter is not <code>NULL</code>, the call executes asynchronously. Upon return from this function, this points to the transaction identifier associated with the asynchronous operation.</dd>

</dl>
<h4>
  <a name="1046167"> </a>Synchronous Result
</h4>

<p><a name="1046168"> </a>Returns <code>errNone</code> if the function was successful or returns an error code if not successful.</p>
<h4>
  <a name="1046169"> </a>Asynchronous Result
</h4>

<p><a name="1046173"> </a>The following fields are updated in the <a href="TelephonyBasic.html#1056091"><code>TelEventType</code></a> event that is sent when the operation completes:</p>

<dl>
<dt><a name="1046176"> </a><code>returnCode</code></dt>
<dd><a name="1046178"> </a><code>errNone</code> upon success or an error code upon failure.</dd>

<dt><a name="1046180"> </a><code>transId</code></dt>
<dd><a name="1046182"> </a>The transaction ID of the operation.</dd>

<dt><a name="1046184"> </a><code>paramP</code></dt>
<dd><a name="1046189"> </a>Points to the <a href="TelephonyCalls.html#1067089"><code>TelDtcCallNumberType</code></a> structure passed to this function in the <code>ioDataCallParamP</code> parameter.</dd>

<dt><a name="1046191"> </a><code>functionId</code></dt>
<dd><a name="1046193"> </a><code>kTelDtcCallNumberMessage</code></dd>

</dl>

<div><hr>
  <a name="1046195"> </a> <span class="warning">WARNING! </span> When using this function asynchronously, you must ensure that the structure referenced by <code>ioDataCallParamP</code> remains in memory until the asynchronous call completes.
<hr>
</div>
<h4>
  <a name="1046196"> </a>Comments 
</h4>

<p><a name="1046197"> </a>Call this function to start a data telephone call.</p>

<p><a name="1046198"> </a>Before using this function, you should verify that it is available by calling the <a href="TelephonyBasic.html#1045734"><code>TelIsDtcServiceAvailable()</code></a> macro.</p>
<h4>
  <a name="1046202"> </a>Compatibility 
</h4>

<p><a name="1046206"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1046207"> </a>See Also 
</h4>

<p><a name="1046211"> </a><a href="TelephonyCalls.html#1046214"><code>TelDtcCloseLine()</code></a></p>

<h3 class="hbH3">
  <a name="1046214"> </a>TelDtcCloseLine Function <a href="#1045871"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1046216"> </a>Purpose 
</h4>

<p><a name="1046217"> </a>Hang up a data line.</p>
<h4>
  <a name="1046218"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1046219"> </a></code><h4>
  <a name="1046220"> </a>Prototype 
</h4>
<pre class="proto"><a name="1046221"></a>Err TelDtcCloseLine(
   UInt16 iRefnum,
   TelAppID iAppId,
   UInt8 iLineId,
   UInt16 *ioTransIdP
)
</pre>
<h4>
  <a name="1046222"> </a>Parameters 
</h4>

<dl>
<dt><a name="1046223"> </a><code>&rarr;  <i><code>iRefnum</code></i></code></dt>
<dd><a name="1046224"> </a>The telephony manager library reference number.</dd>

<dt><a name="1046225"> </a><code>&rarr;  <i><code>iAppId</code></i></code></dt>
<dd><a name="1046226"> </a>The telephone application attachment identifier for your application.</dd>

<dt><a name="1046227"> </a><code>&rarr;  <i><code>iLineId</code></i></code></dt>
<dd><a name="1046228"> </a>The ID of the line to hang up. This is the ID returned by a previous call to the <a href="TelephonyCalls.html#1046146"><code>TelDtcCallNumber()</code></a> function.</dd>

<dt><a name="1046232"> </a><code>&harr;  <i><code>ioTransIdP</code></i></code></dt>
<dd><a name="1046233"> </a>Set the value of this parameter to <code>NULL</code> to cause the function to execute synchronously. </dd>

<dd><a name="1046234"> </a>If this parameter is not <code>NULL</code>, the call executes asynchronously. Upon return from this function, this points to the transaction identifier associated with the asynchronous operation.</dd>

</dl>
<h4>
  <a name="1046235"> </a>Synchronous Result
</h4>

<p><a name="1046236"> </a>Returns <code>errNone</code> if the function was successful or returns an error code if not successful.</p>
<h4>
  <a name="1046237"> </a>Asynchronous Result
</h4>

<p><a name="1046241"> </a>The following fields are updated in the <a href="TelephonyBasic.html#1056091"><code>TelEventType</code></a> event that is sent when the operation completes:</p>

<dl>
<dt><a name="1046244"> </a><code>returnCode</code></dt>
<dd><a name="1046246"> </a><code>errNone</code> upon success or an error code upon failure.</dd>

<dt><a name="1046248"> </a><code>transId</code></dt>
<dd><a name="1046250"> </a>The transaction ID of the operation.</dd>

<dt><a name="1046252"> </a><code>paramP</code></dt>
<dd><a name="1046254"> </a>Points to the unsigned integer value passed to this function in the <code>iLineId</code> parameter.</dd>

<dt><a name="1046256"> </a><code>functionId</code></dt>
<dd><a name="1046258"> </a><code>kTelDtcCloseLineMessage</code></dd>

</dl>

<p><a name="1046261"> </a>Call this function to end a data telephone call.</p>

<p><a name="1046262"> </a>Before using this function, you should verify that it is available by calling the <a href="TelephonyBasic.html#1045734"><code>TelIsDtcServiceAvailable()</code></a> macro.</p>
<h4>
  <a name="1046266"> </a>Compatibility 
</h4>

<p><a name="1046270"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1046271"> </a>See Also 
</h4>

<p><a name="1046275"> </a><a href="TelephonyCalls.html#1046146"><code>TelDtcCallNumber()</code></a></p>

<h3 class="hbH3">
  <a name="1046278"> </a>TelDtcReceiveData Function <a href="#1045871"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1046280"> </a>Purpose 
</h4>

<p><a name="1046281"> </a>Receive data on an opened data communications line.</p>
<h4>
  <a name="1046282"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1046283"> </a></code><h4>
  <a name="1046284"> </a>Prototype 
</h4>
<pre class="proto"><a name="1046285"></a>Err TelDtcReceiveData(
   UInt16 iRefnum,
   TelAppID iAppId,
   TelDtcReceiveDataType *ioParamP,
   UInt16 *ioTransIdP
)
</pre>
<h4>
  <a name="1046286"> </a>Parameters 
</h4>

<dl>
<dt><a name="1046287"> </a><code>&rarr;  <i><code>iRefnum</code></i></code></dt>
<dd><a name="1046288"> </a>The telephony manager library reference number.</dd>

<dt><a name="1046289"> </a><code>&rarr;  <i><code>iAppId</code></i></code></dt>
<dd><a name="1046290"> </a>The telephone application attachment identifier for your application.</dd>

<dt><a name="1046291"> </a><code>&harr;  <i><code>ioParamP</code></i></code></dt>
<dd><a name="1046295"> </a>A pointer to a <a href="TelephonyCalls.html#1067109"><code>TelDtcReceiveDataType</code></a> structure.</dd>

<dt><a name="1046296"> </a><code>&harr;  <i><code>ioTransIdP</code></i></code></dt>
<dd><a name="1046297"> </a>Set the value of this parameter to <code>NULL</code> to cause the function to execute synchronously. </dd>

<dd><a name="1046298"> </a>If this parameter is not <code>NULL</code>, the call executes asynchronously. Upon return from this function, this points to the transaction identifier associated with the asynchronous operation.</dd>

</dl>
<h4>
  <a name="1046299"> </a>Synchronous Result
</h4>

<p><a name="1046300"> </a>Returns <code>errNone</code> if the function was successful or returns an error code if not successful.</p>
<h4>
  <a name="1046301"> </a>Asynchronous Result
</h4>

<p><a name="1046305"> </a>The following fields are updated in the <a href="TelephonyBasic.html#1056091"><code>TelEventType</code></a> event that is sent when the operation completes:</p>
<p class="tt"><a name="1046308"> </a>returnCode</p>

<dl>
<dd><a name="1046310"> </a><code>errNone</code> upon success or an error code upon failure.</dd>

</dl>
<p class="tt"><a name="1046312"> </a>transId</p>

<dl>
<dd><a name="1046314"> </a>The transaction ID of the operation.</dd>

</dl>
<p class="tt"><a name="1046316"> </a>paramP</p>

<dl>
<dd><a name="1046321"> </a>Points to the <a href="TelephonyCalls.html#1067109"><code>TelDtcReceiveDataType</code></a> structure passed to this function in the <code>ioRcvDataP</code> parameter.</dd>

</dl>
<p class="tt"><a name="1046323"> </a>functionId</p>

<dl>
<dd><a name="1046325"> </a><code>kTelDtcReceiveDataMessage</code></dd>

</dl>

<div><hr>
  <a name="1046327"> </a> <span class="warning">WARNING! </span> When using this function asynchronously, you must ensure that the structure referenced by <code>ioParamP</code> remains in memory until the asynchronous call completes.
<hr>
</div>
<h4>
  <a name="1046328"> </a>Comments 
</h4>

<p><a name="1046329"> </a>Call this function to receive data during an active data telephone call.</p>

<p><a name="1046330"> </a>Before using this function, you should verify that it is available by calling the <a href="TelephonyBasic.html#1045734"><code>TelIsDtcServiceAvailable()</code></a> macro.</p>
<h4>
  <a name="1046334"> </a>Compatibility 
</h4>

<p><a name="1046338"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1046339"> </a>See Also 
</h4>

<p><a name="1046346"> </a><a href="TelephonyCalls.html#1046146"><code>TelDtcCallNumber()</code></a>, <a href="TelephonyCalls.html#1046214"><code>TelDtcCloseLine()</code></a>, <a href="TelephonyCalls.html#1046352"><code>TelDtcSendData()</code></a></p>

<h3 class="hbH3">
  <a name="1046352"> </a>TelDtcSendData Function <a href="#1045871"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1046354"> </a>Purpose 
</h4>

<p><a name="1046355"> </a>Send data on an opened data line.</p>
<h4>
  <a name="1046356"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1046357"> </a></code><h4>
  <a name="1046358"> </a>Prototype 
</h4>
<pre class="proto"><a name="1046359"></a>Err TelDtcSendData(
   UInt16 iRefnum,
   TelAppID iAppId,
   TelDtcSendDataType *iParamP,
   UInt16 *ioTransIdP
)
</pre>
<h4>
  <a name="1046360"> </a>Parameters 
</h4>

<dl>
<dt><a name="1046361"> </a><code>&rarr;  <i><code>iRefnum</code></i></code></dt>
<dd><a name="1046362"> </a>The telephony manager library reference number.</dd>

<dt><a name="1046363"> </a><code>&rarr;  <i><code>iAppId</code></i></code></dt>
<dd><a name="1046364"> </a>The telephone application attachment identifier for your application.</dd>

<dt><a name="1046365"> </a><code>&rarr;  <i><code>iParamP</code></i></code></dt>
<dd><a name="1046369"> </a>A pointer to a <a href="TelephonyCalls.html#1067130"><code>TelDtcSendDataType</code></a> structure that specifies the data to send.</dd>

<dt><a name="1046370"> </a><code>&harr;  <i><code>ioTransIdP</code></i></code></dt>
<dd><a name="1046371"> </a>Set the value of this parameter to <code>NULL</code> to cause the function to execute synchronously. </dd>

<dd><a name="1046372"> </a>If this parameter is not <code>NULL</code>, the call executes asynchronously. Upon return from this function, this points to the transaction identifier associated with the asynchronous operation.</dd>

</dl>
<h4>
  <a name="1046373"> </a>Synchronous Result
</h4>

<p><a name="1046374"> </a>Returns <code>errNone</code> if the function was successful or returns an error code if not successful.</p>
<h4>
  <a name="1046375"> </a>Asynchronous Result
</h4>

<p><a name="1070603"> </a>The following fields are updated in the <a href="TelephonyBasic.html#1056091"><code>TelEventType</code></a> event that is sent when the operation completes:</p>

<dl>
<dt><a name="1070606"> </a><code>returnCode</code></dt>
<dd><a name="1070608"> </a><code>errNone</code> upon success or an error code upon failure.</dd>

<dt><a name="1070610"> </a><code>transId</code></dt>
<dd><a name="1070612"> </a>The transaction ID of the operation.</dd>

<dt><a name="1070614"> </a><code>paramP</code></dt>
<dd><a name="1070619"> </a>Points to the <a href="TelephonyCalls.html#1067130"><code>TelDtcSendDataType</code></a> structure passed to this function in the <code>iParamP</code> parameter.</dd>

<dt><a name="1070621"> </a><code>functionId</code></dt>
<dd><a name="1070623"> </a><code>kTelDtcSendDataMessage</code></dd>

</dl>

<div><hr>
  <a name="1070625"> </a> <span class="warning">WARNING! </span> When using this function asynchronously, you must ensure that the structure referenced by <code>iParamP</code> remains in memory until the asynchronous call completes.
<hr>
</div>
<h4>
  <a name="1046402"> </a>Comments 
</h4>

<p><a name="1046403"> </a>Call this function to send data during an active data telephone call.</p>

<p><a name="1046404"> </a>Before using this function, you should verify that it is available by calling the <a href="TelephonyBasic.html#1045734"><code>TelIsDtcServiceAvailable()</code></a> macro.</p>
<h4>
  <a name="1046408"> </a>Compatibility 
</h4>

<p><a name="1046412"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1046413"> </a>See Also 
</h4>

<p><a name="1046420"> </a><a href="TelephonyCalls.html#1046146"><code>TelDtcCallNumber()</code></a>, <a href="TelephonyCalls.html#1046214"><code>TelDtcCloseLine()</code></a>, <a href="TelephonyCalls.html#1046278"><code>TelDtcReceiveData()</code></a></p>

<h3 class="hbH3">
  <a name="1046426"> </a>TelEmcCall Function <a href="#1045871"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1046428"> </a>Purpose 
</h4>

<p><a name="1046429"> </a>Call the currently selected emergency service.</p>
<h4>
  <a name="1046430"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1046431"> </a></code><h4>
  <a name="1046432"> </a>Prototype 
</h4>
<pre class="proto"><a name="1046433"></a>Err TelEmcCall(
   UInt16 iRefnum,
   TelAppID iAppId,
   UInt16 *ioTransIdP
)
</pre>
<h4>
  <a name="1046434"> </a>Parameters 
</h4>

<dl>
<dt><a name="1046435"> </a><code>&rarr;  <i><code>iRefnum</code></i></code></dt>
<dd><a name="1046436"> </a>The telephony manager library reference number.</dd>

<dt><a name="1046437"> </a><code>&rarr;  <i><code>iAppId</code></i></code></dt>
<dd><a name="1046438"> </a>The telephone application attachment identifier for your application.</dd>

<dt><a name="1046439"> </a><code>&harr;  <i><code>ioTransIdP</code></i></code></dt>
<dd><a name="1046440"> </a>Set the value of this parameter to <code>NULL</code> to cause the function to execute synchronously. </dd>

<dd><a name="1046441"> </a>If this parameter is not <code>NULL</code>, the call executes asynchronously. Upon return from this function, this points to the transaction identifier associated with the asynchronous operation.</dd>

</dl>
<h4>
  <a name="1046442"> </a>Synchronous Result
</h4>

<p><a name="1046443"> </a>Returns <code>errNone</code> if the function was successful or returns an error code if not successful.</p>
<h4>
  <a name="1046444"> </a>Asynchronous Result
</h4>

<p><a name="1046448"> </a>The following fields are updated in the <a href="TelephonyBasic.html#1056091"><code>TelEventType</code></a> event that is sent when the operation completes:</p>

<dl>
<dt><a name="1046451"> </a><code>returnCode</code></dt>
<dd><a name="1046453"> </a><code>errNone</code> upon success or an error code upon failure.</dd>

<dt><a name="1046455"> </a><code>transId</code></dt>
<dd><a name="1046457"> </a>The transaction ID of the operation.</dd>

<dt><a name="1046459"> </a><code>paramP</code></dt>
<dd><a name="1046461"> </a>A <code>NULL</code> pointer.</dd>

<dt><a name="1046463"> </a><code>functionId</code></dt>
<dd><a name="1046465"> </a><code>kTelEmcCallMessage</code></dd>

</dl>
<h4>
  <a name="1046467"> </a>Comments 
</h4>

<p><a name="1046468"> </a>This function calls the telephone number specified in a previous call to the <a href="TelephonyCalls.html#1046720"><code>TelEmcSelectNumber()</code></a> function. In synchronous mode, this function returns after the dial command has been sent to the phone.</p>

<p><a name="1046472"> </a>After calling this function, sub-launched applications can receive notifications when the following telephony events occur. Note that these notifications can be raised after both synchronous and asynchronous calls to this function.</p>

<p class="caption"><a name="1070678"> </a><b>Table 76.1&nbsp;&nbsp;Telephony events sent to sublaunched applications</b></p>
<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1046475"> </a><b>Event</b></p>
    </th>
    <th><p class="tt"><a name="1046477"> </a><b>Description</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1046479"> </a><code>sysTelSpcLaunchCmdCallReleased</code></p>
    </td>
    <td><p class="tt"><a name="1046481"> </a>Warns that the telephone call has been released.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1046483"> </a><code>sysTelSpcLaunchCmdCallBusy</code></p>
    </td>
    <td><p class="tt"><a name="1046485"> </a>Warns that the called equipment is busy.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1046487"> </a><code>sysTelSpcLaunchCmdCallConnect</code></p>
    </td>
    <td><p class="tt"><a name="1046489"> </a>Warns that the line is open. The ID of the open line is stored in the <code>UInt32</code> value of the parameter block passed to the application.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1046491"> </a><code>sysTelSpcLaunchCmdCallError</code></p>
    </td>
    <td><p class="tt"><a name="1046493"> </a>Warns that an error occurred while attempting to complete the telephone call.</p>
    </td>
  </tr>
</table>

</div>


<p><a name="1046495"> </a>Before using this function, you should verify that it is available by calling the <a href="TelephonyBasic.html#1045793"><code>TelIsEmcServiceAvailable()</code></a> macro.</p>
<h4>
  <a name="1046499"> </a>Compatibility 
</h4>

<p><a name="1046503"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1046504"> </a>See Also 
</h4>

<p><a name="1046508"> </a><a href="TelephonyCalls.html#1046511"><code>TelEmcCloseLine()</code></a>,</p>

<h3 class="hbH3">
  <a name="1046511"> </a>TelEmcCloseLine Function <a href="#1045871"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1046513"> </a>Purpose 
</h4>

<p><a name="1046514"> </a>Close the line that is currently opened for an emergency telephone call.</p>
<h4>
  <a name="1046515"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1046516"> </a></code><h4>
  <a name="1046517"> </a>Prototype 
</h4>
<pre class="proto"><a name="1046518"></a>Err TelEmcCloseLine(
   UInt16 iRefnum,
   TelAppID iAppId,
   UInt16 *ioTransIdP
)
</pre>
<h4>
  <a name="1046519"> </a>Parameters 
</h4>

<dl>
<dt><a name="1046520"> </a><code>&rarr;  <i><code>iRefnum</code></i></code></dt>
<dd><a name="1046521"> </a>The telephony manager library reference number.</dd>

<dt><a name="1046522"> </a><code>&rarr;  <i><code>iAppId</code></i></code></dt>
<dd><a name="1046523"> </a>The telephone application attachment identifier for your application.</dd>

<dt><a name="1046524"> </a><code>&harr;  <i><code>ioTransIdP</code></i></code></dt>
<dd><a name="1046525"> </a>Set the value of this parameter to <code>NULL</code> to cause the function to execute synchronously. </dd>

<dd><a name="1046526"> </a>If this parameter is not <code>NULL</code>, the call executes asynchronously. Upon return from this function, this points to the transaction identifier associated with the asynchronous operation.</dd>

</dl>
<h4>
  <a name="1046527"> </a>Synchronous Result
</h4>

<p><a name="1046528"> </a>Returns <code>errNone</code> if the function was successful or returns an error code if not successful.</p>
<h4>
  <a name="1046529"> </a>Asynchronous Result
</h4>

<p><a name="1046533"> </a>The following fields are updated in the <a href="TelephonyBasic.html#1056091"><code>TelEventType</code></a> event that is sent when the operation completes:</p>

<dl>
<dt><a name="1046536"> </a><code>returnCode</code></dt>
<dd><a name="1046538"> </a><code>errNone</code> upon success or an error code upon failure.</dd>

<dt><a name="1046540"> </a><code>transId</code></dt>
<dd><a name="1046542"> </a>The transaction ID of the operation.</dd>

<dt><a name="1046544"> </a><code>paramP</code></dt>
<dd><a name="1046546"> </a>A <code>NULL</code> pointer.</dd>

<dt><a name="1046548"> </a><code>functionId</code></dt>
<dd><a name="1046550"> </a><code>kTelDtcCloseLineMessage</code></dd>

</dl>
<h4>
  <a name="1046552"> </a>Comments 
</h4>

<p><a name="1046553"> </a>Call this function to end an emergency telephone call.</p>

<p><a name="1046554"> </a>Before using this function, you should verify that it is available by calling the <a href="TelephonyBasic.html#1045793"><code>TelIsEmcServiceAvailable()</code></a> macro.</p>
<h4>
  <a name="1046558"> </a>Compatibility 
</h4>

<p><a name="1046562"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1046563"> </a>See Also 
</h4>

<p><a name="1046567"> </a><a href="TelephonyCalls.html#1046426"><code>TelEmcCall()</code></a></p>

<h3 class="hbH3">
  <a name="1046570"> </a>TelEmcGetNumber Function <a href="#1045871"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1046572"> </a>Purpose 
</h4>

<p><a name="1046573"> </a>Retrieve an emergency dial telephone number.</p>
<h4>
  <a name="1046574"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1046575"> </a></code><h4>
  <a name="1046576"> </a>Prototype 
</h4>
<pre class="proto"><a name="1046577"></a>Err TelEmcGetNumber(
   UInt16 iRefnum,
   TelAppID iAppId,
   TelEmcGetNumberType *ioParamP,
   UInt16 *ioTransIdP
)
</pre>
<h4>
  <a name="1046578"> </a>Parameters 
</h4>

<dl>
<dt><a name="1046579"> </a><code>&rarr;  <i><code>iRefnum</code></i></code></dt>
<dd><a name="1046580"> </a>The telephony manager library reference number.</dd>

<dt><a name="1046581"> </a><code>&rarr;  <i><code>iAppId</code></i></code></dt>
<dd><a name="1046582"> </a>The telephone application attachment identifier for your application.</dd>

<dt><a name="1046583"> </a><code>&harr;  <i><code>ioParamP</code></i></code></dt>
<dd><a name="1046587"> </a>A pointer to a <a href="TelephonyCalls.html#1067147"><code>TelEmcGetNumberType</code></a> structure in which you assign the index of the telephone number that you want to retrieve.</dd>

<dd><a name="1046588"> </a>On input, the <code>size</code> field of this structure specifies the allocated size of the <code>value</code> buffer. Upon return, the <code>size</code> field specifies the actual size of the telephone number, even if it was truncated to fit into the buffer.</dd>

<dt><a name="1046589"> </a><code>&harr;  <i><code>ioTransIdP</code></i></code></dt>
<dd><a name="1046590"> </a>Set the value of this parameter to <code>NULL</code> to cause the function to execute synchronously. </dd>

<dd><a name="1046591"> </a>If this parameter is not <code>NULL</code>, the call executes asynchronously. Upon return from this function, this points to the transaction identifier associated with the asynchronous operation.</dd>

</dl>
<h4>
  <a name="1046592"> </a>Synchronous Result
</h4>

<p><a name="1046593"> </a>Returns <code>errNone</code> if the function was successful or returns an error code if not successful.</p>
<h4>
  <a name="1046594"> </a>Asynchronous Result
</h4>

<p><a name="1046598"> </a>The following fields are updated in the <a href="TelephonyBasic.html#1056091"><code>TelEventType</code></a> event that is sent when the operation completes:</p>

<dl>
<dt><a name="1046601"> </a><code>returnCode</code></dt>
<dd><a name="1046603"> </a><code>errNone</code> upon success or an error code upon failure.</dd>

<dt><a name="1046605"> </a><code>transId</code></dt>
<dd><a name="1046607"> </a>The transaction ID of the operation.</dd>

<dt><a name="1046609"> </a><code>paramP</code></dt>
<dd><a name="1046614"> </a>Points to the <a href="TelephonyCalls.html#1067147"><code>TelEmcGetNumberType</code></a> structure passed to this function in the <code>ioGetNumberP</code> parameter.</dd>

<dt><a name="1046616"> </a><code>functionId</code></dt>
<dd><a name="1046618"> </a><code>kTelEmcGetNumberMessage</code></dd>

</dl>

<div><hr>
  <a name="1046620"> </a> <span class="warning">WARNING! </span> When using this function asynchronously, you must ensure that the structure referenced by <code>ioParamP</code> remains in memory until the asynchronous call completes.
<hr>
</div>
<h4>
  <a name="1046621"> </a>Comments 
</h4>

<p><a name="1046622"> </a>The emergency call telephone number is stored into the <code>value</code> field of the <a href="TelephonyCalls.html#1067147"><code>TelEmcGetNumberType</code></a> structure referenced by <code>ioGetNumberP</code>. If the <code>value</code> buffer is too small to contain the complete string, the string is truncated (and ends with the null terminator character) and this function returns the <code>telErrBufferSize</code> error. The <code>size</code> field of the structure is always updated to contain the actual size of the complete string.</p>

<p><a name="1046626"> </a>Before using this function, you should verify that it is available by calling the <a href="TelephonyBasic.html#1045793"><code>TelIsEmcServiceAvailable()</code></a> macro.</p>
<h4>
  <a name="1046630"> </a>Compatibility 
</h4>

<p><a name="1046634"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1046635"> </a>See Also 
</h4>

<p><a name="1046642"> </a><a href="TelephonyCalls.html#1046649"><code>TelEmcGetNumberCount()</code></a>, <a href="TelephonyCalls.html#1046792"><code>TelEmcSetNumber()</code></a>, <a href="TelephonyCalls.html#1046720"><code>TelEmcSelectNumber()</code></a></p>

<h3 class="hbH3">
  <a name="1046649"> </a>TelEmcGetNumberCount Function <a href="#1045871"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1046651"> </a>Purpose 
</h4>

<p><a name="1046652"> </a>Retrieve the count of emergency dial telephone numbers.</p>
<h4>
  <a name="1046653"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1046654"> </a></code><h4>
  <a name="1046655"> </a>Prototype 
</h4>
<pre class="proto"><a name="1046656"></a>Err TelEmcGetNumberCount(
   UInt16 iRefnum,
   TelAppID iAppId,
   UInt8 *oCountP,
   UInt16 *ioTransIdP
)
</pre>
<h4>
  <a name="1046657"> </a>Parameters 
</h4>

<dl>
<dt><a name="1046658"> </a><code>&rarr;  <i><code>iRefnum</code></i></code></dt>
<dd><a name="1046659"> </a>The telephony manager library reference number.</dd>

<dt><a name="1046660"> </a><code>&rarr;  <i><code>iAppId</code></i></code></dt>
<dd><a name="1046661"> </a>The telephone application attachment identifier for your application.</dd>

<dt><a name="1046662"> </a><code>&larr;  <i><code>oCountP</code></i></code></dt>
<dd><a name="1046663"> </a>Upon return, the total number of emergency call numbers available.</dd>

<dt><a name="1046664"> </a><code>&harr;  <i><code>ioTransIdP</code></i></code></dt>
<dd><a name="1046665"> </a>Set the value of this parameter to <code>NULL</code> to cause the function to execute synchronously. </dd>

<dd><a name="1046666"> </a>If this parameter is not <code>NULL</code>, the call executes asynchronously. Upon return from this function, this points to the transaction identifier associated with the asynchronous operation.</dd>

</dl>
<h4>
  <a name="1046667"> </a>Synchronous Result
</h4>

<p><a name="1046668"> </a>Returns <code>errNone</code> if the function was successful or returns an error code if not successful.</p>
<h4>
  <a name="1046669"> </a>Asynchronous Result
</h4>

<p><a name="1046673"> </a>The following fields are updated in the <a href="TelephonyBasic.html#1056091"><code>TelEventType</code></a> event that is sent when the operation completes:</p>

<dl>
<dt><a name="1046676"> </a><code>returnCode</code></dt>
<dd><a name="1046678"> </a><code>errNone</code> upon success or an error code upon failure.</dd>

<dt><a name="1046680"> </a><code>transId</code></dt>
<dd><a name="1046682"> </a>The transaction ID of the operation.</dd>

<dt><a name="1046684"> </a><code>paramP</code></dt>
<dd><a name="1046686"> </a>Points to unsigned integer passed to this function in the <code>oCountP</code> parameter.</dd>

<dt><a name="1046688"> </a><code>functionId</code></dt>
<dd><a name="1046690"> </a><code>kTelEmcGetNumberMessage</code></dd>

</dl>

<div><hr>
  <a name="1046692"> </a> <span class="warning">WARNING! </span> When using this function asynchronously, you must ensure that the value referenced by <code>oCountP</code> remains in memory until the asynchronous call completes.
<hr>
</div>
<h4>
  <a name="1046693"> </a>Comments 
</h4>

<p><a name="1046694"> </a>The emergency telephone call number is stored into the <code>value</code> field of the <a href="TelephonyCalls.html#1067147"><code>TelEmcGetNumberType</code></a> structure referenced by <code>ioGetNumberP</code>. If the <code>value</code> buffer is too small to contain the complete string, the string is truncated (and ends with the null terminator character) and this function returns the <code>telErrBufferSize</code> error. The <code>size</code> field of the structure is always updated to contain the actual size of the complete string.</p>

<p><a name="1046698"> </a>Before using this function, you should verify that it is available by calling the <a href="TelephonyBasic.html#1045793"><code>TelIsEmcServiceAvailable()</code></a> macro.</p>
<h4>
  <a name="1046702"> </a>Compatibility 
</h4>

<p><a name="1046706"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1046707"> </a>See Also 
</h4>

<p><a name="1046714"> </a><a href="TelephonyCalls.html#1046570"><code>TelEmcGetNumber()</code></a>, <a href="TelephonyCalls.html#1046792"><code>TelEmcSetNumber()</code></a>, <a href="TelephonyCalls.html#1046720"><code>TelEmcSelectNumber()</code></a></p>

<h3 class="hbH3">
  <a name="1046720"> </a>TelEmcSelectNumber Function <a href="#1045871"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1046722"> </a>Purpose 
</h4>

<p><a name="1046723"> </a>Select the current emergency telephone number. This is the telephone number that gets dialed when you call the <a href="TelephonyCalls.html#1046426"><code>TelEmcCall()</code></a> function.</p>
<h4>
  <a name="1046727"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1046728"> </a></code><h4>
  <a name="1046729"> </a>Prototype 
</h4>
<pre class="proto"><a name="1046730"></a>Err TelEmcSelectNumber(
   UInt16 iRefnum,
   TelAppID iAppId,
   UInt8 iIndex,
   UInt16 *ioTransIdP
)
</pre>
<h4>
  <a name="1046731"> </a>Parameters 
</h4>

<dl>
<dt><a name="1046732"> </a><code>&rarr;  <i><code>iRefnum</code></i></code></dt>
<dd><a name="1046733"> </a>The telephony manager library reference number.</dd>

<dt><a name="1046734"> </a><code>&rarr;  <i><code>iAppId</code></i></code></dt>
<dd><a name="1046735"> </a>The telephone application attachment identifier for your application.</dd>

<dt><a name="1046736"> </a><code>&rarr;  <i><code>iIndex</code></i></code></dt>
<dd><a name="1046737"> </a>The zero-based index of the emergency telephone number that you want selected.</dd>

<dt><a name="1046738"> </a><code>&harr;  <i><code>ioTransIdP</code></i></code></dt>
<dd><a name="1046739"> </a>Set the value of this parameter to <code>NULL</code> to cause the function to execute synchronously. </dd>

<dd><a name="1046740"> </a>If this parameter is not <code>NULL</code>, the call executes asynchronously. Upon return from this function, this points to the transaction identifier associated with the asynchronous operation.</dd>

</dl>
<h4>
  <a name="1046741"> </a>Synchronous Result
</h4>

<p><a name="1046742"> </a>Returns <code>errNone</code> if the function was successful or returns an error code if not successful.</p>
<h4>
  <a name="1046743"> </a>Asynchronous Result
</h4>

<p><a name="1046747"> </a>The following fields are updated in the <a href="TelephonyBasic.html#1056091"><code>TelEventType</code></a> event that is sent when the operation completes:</p>

<dl>
<dt><a name="1046750"> </a><code>returnCode</code></dt>
<dd><a name="1046752"> </a><code>errNone</code> upon success or an error code upon failure.</dd>

<dt><a name="1046754"> </a><code>transId</code></dt>
<dd><a name="1046756"> </a>The transaction ID of the operation.</dd>

<dt><a name="1046758"> </a><code>paramP</code></dt>
<dd><a name="1046760"> </a>Points to the unsigned integer value passed to this function in the <code>iIndex</code> parameter.</dd>

<dt><a name="1046762"> </a><code>functionId</code></dt>
<dd><a name="1046764"> </a><code>kTelEmcSelectNumberMessage</code></dd>

</dl>
<h4>
  <a name="1046766"> </a>Comments 
</h4>

<p><a name="1046767"> </a>Before using this function, you should verify that it is available by calling the <a href="TelephonyBasic.html#1045793"><code>TelIsEmcServiceAvailable()</code></a> macro.</p>
<h4>
  <a name="1046771"> </a>Compatibility 
</h4>

<p><a name="1046775"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1046776"> </a>See Also 
</h4>

<p><a name="1046783"> </a><a href="TelephonyCalls.html#1046426"><code>TelEmcCall()</code></a>, <a href="TelephonyCalls.html#1046570"><code>TelEmcGetNumber()</code></a>, <a href="TelephonyCalls.html#1046649"><code>TelEmcGetNumberCount()</code></a>, <a href="TelephonyCalls.html#1046792"><code>TelEmcSetNumber()</code></a></p>

<h3 class="hbH3">
  <a name="1046792"> </a>TelEmcSetNumber Function <a href="#1045871"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1046794"> </a>Purpose 
</h4>

<p><a name="1046795"> </a>Set the telephone number for the specified emergency dial number.</p>
<h4>
  <a name="1046796"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1046797"> </a></code><h4>
  <a name="1046798"> </a>Prototype 
</h4>
<pre class="proto"><a name="1046799"></a>Err TelEmcSetNumber(
   UInt16 iRefnum,
   TelAppID iAppId,
   TelEmcSetNumberType *iParamP,
   UInt16 *ioTransIdP
)
</pre>
<h4>
  <a name="1046800"> </a>Parameters 
</h4>

<dl>
<dt><a name="1046801"> </a><code>&rarr;  <i><code>iRefnum</code></i></code></dt>
<dd><a name="1046802"> </a>The telephony manager library reference number.</dd>

<dt><a name="1046803"> </a><code>&rarr;  <i><code>iAppId</code></i></code></dt>
<dd><a name="1046804"> </a>The telephone application attachment identifier for your application.</dd>

<dt><a name="1046805"> </a><code>&rarr;  <i><code>iParamP</code></i></code></dt>
<dd><a name="1046809"> </a>A pointer to a <a href="TelephonyCalls.html#1067168"><code>TelEmcSetNumberType</code></a> structure that specifies the telephone number.</dd>

<dt><a name="1046810"> </a><code>&harr;  <i><code>ioTransIdP</code></i></code></dt>
<dd><a name="1046811"> </a>Set the value of this parameter to <code>NULL</code> to cause the function to execute synchronously. </dd>

<dd><a name="1046812"> </a>If this parameter is not <code>NULL</code>, the call executes asynchronously. Upon return from this function, this points to the transaction identifier associated with the asynchronous operation.</dd>

</dl>
<h4>
  <a name="1046813"> </a>Synchronous Result
</h4>

<p><a name="1046814"> </a>Returns <code>errNone</code> if the function was successful or returns an error code if not successful.</p>
<h4>
  <a name="1046815"> </a>Asynchronous Result
</h4>

<p><a name="1046819"> </a>The following fields are updated in the <a href="TelephonyBasic.html#1056091"><code>TelEventType</code></a> event that is sent when the operation completes:</p>

<dl>
<dt><a name="1046822"> </a><code>returnCode</code></dt>
<dd><a name="1046824"> </a><code>errNone</code> upon success or an error code upon failure.</dd>

<dt><a name="1046826"> </a><code>transId</code></dt>
<dd><a name="1046828"> </a>The transaction ID of the operation.</dd>

<dt><a name="1046830"> </a><code>paramP</code></dt>
<dd><a name="1046835"> </a>Points to the <a href="TelephonyCalls.html#1067168"><code>TelEmcSetNumberType</code></a> structure passed to this function in the <code>iNumberP</code> parameter.</dd>

<dt><a name="1046837"> </a><code>functionId</code></dt>
<dd><a name="1046839"> </a><code>kTelEmcSetNumberMessage</code></dd>

</dl>

<div><hr>
  <a name="1046841"> </a> <span class="warning">WARNING! </span> When using this function asynchronously, you must ensure that the structure referenced by <code>iParamP</code> remains in memory until the asynchronous call completes.
<hr>
</div>
<h4>
  <a name="1046842"> </a>Comments 
</h4>

<p><a name="1046843"> </a>Call this function to associate a new telephone number with the emergency dial number that has the specified <code>iIndex</code>.</p>

<p><a name="1046844"> </a>Before using this function, you should verify that it is available by calling the <a href="TelephonyBasic.html#1045793"><code>TelIsEmcServiceAvailable()</code></a> macro.</p>
<h4>
  <a name="1046848"> </a>Compatibility 
</h4>

<p><a name="1046852"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1046853"> </a>See Also 
</h4>

<p><a name="1046857"> </a><a href="TelephonyCalls.html#1046570"><code>TelEmcGetNumber()</code></a>,</p>

<h3 class="hbH3">
  <a name="1046860"> </a>TelSpcAcceptCall Function <a href="#1045871"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1046862"> </a>Purpose 
</h4>

<p><a name="1046863"> </a>Accept an incoming voice telephone call.</p>
<h4>
  <a name="1046864"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1046865"> </a></code><h4>
  <a name="1046866"> </a>Prototype 
</h4>
<pre class="proto"><a name="1046867"></a>Err TelSpcAcceptCall(
   UInt16 iRefnum,
   TelAppID iAppId,
   UInt8 *oLineIdP,
   UInt16 *ioTransIdP
)
</pre>
<h4>
  <a name="1046868"> </a>Parameters 
</h4>

<dl>
<dt><a name="1046869"> </a><code>&rarr;  <i><code>iRefnum</code></i></code></dt>
<dd><a name="1046870"> </a>The telephony manager library reference number.</dd>

<dt><a name="1046871"> </a><code>&rarr;  <i><code>iAppId</code></i></code></dt>
<dd><a name="1046872"> </a>The telephone application attachment identifier for your application.</dd>

<dt><a name="1046873"> </a><code>&larr;  <i><code>oLineIdP</code></i></code></dt>
<dd><a name="1046874"> </a>A pointer to an unsigned byte value. Upon return, this is the ID of the voice line assigned to the telephone call.</dd>

<dt><a name="1046875"> </a><code>&harr;  <i><code>ioTransIdP</code></i></code></dt>
<dd><a name="1046876"> </a>Set the value of this parameter to <code>NULL</code> to cause the function to execute synchronously. </dd>

<dd><a name="1046877"> </a>If this parameter is not <code>NULL</code>, the call executes asynchronously. Upon return from this function, this points to the transaction identifier associated with the asynchronous operation.</dd>

</dl>
<h4>
  <a name="1046878"> </a>Synchronous Result
</h4>

<p><a name="1046879"> </a>Returns <code>errNone</code> if the function was successful or returns an error code if not successful.</p>
<h4>
  <a name="1046880"> </a>Asynchronous Result
</h4>

<p><a name="1046884"> </a>The following fields are updated in the <a href="TelephonyBasic.html#1056091"><code>TelEventType</code></a> event that is sent when the operation completes:</p>

<dl>
<dt><a name="1046887"> </a><code>returnCode</code></dt>
<dd><a name="1046889"> </a><code>errNone</code> upon success or an error code upon failure.</dd>

<dt><a name="1046891"> </a><code>transId</code></dt>
<dd><a name="1046893"> </a>The transaction ID of the operation.</dd>

<dt><a name="1046895"> </a><code>paramP</code></dt>
<dd><a name="1046897"> </a>Points to the unsigned integer passed to this function in the <code>oLineIdP</code> parameter.</dd>

<dt><a name="1046899"> </a><code>functionId</code></dt>
<dd><a name="1046901"> </a><code>kTelSpcAcceptCallMessage</code></dd>

</dl>

<div><hr>
  <a name="1046903"> </a> <span class="warning">WARNING! </span> When using this function asynchronously, you must ensure that the value referenced by <code>oLineIdP</code> remains in memory until the asynchronous call completes.
<hr>
</div>
<h4>
  <a name="1046904"> </a>Comments 
</h4>

<p><a name="1046905"> </a>If another line was active prior to the execution of this function, that line is put on hold. Note that there can only be one line active at any given time, and there can only be one line on hold at any given time.</p>

<p><a name="1046906"> </a>Before using this function, you should verify that it is available by calling the <a href="TelephonyBasic.html#1046303"><code>TelIsSpcServiceAvailable()</code></a> macro.</p>
<h4>
  <a name="1046910"> </a>Compatibility 
</h4>

<p><a name="1046914"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1046915"> </a>See Also 
</h4>

<p><a name="1046922"> </a><a href="TelephonyCalls.html#1047163"><code>TelSpcGetCallerNumber()</code></a>, <a href="TelephonyCalls.html#1047367"><code>TelSpcRejectCall()</code></a></p>

<h3 class="hbH3">
  <a name="1046925"> </a>TelSpcCallNumber Function <a href="#1045871"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1046927"> </a>Purpose 
</h4>

<p><a name="1046928"> </a>Initiate a voice telephone call.</p>
<h4>
  <a name="1046929"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1046930"> </a></code><h4>
  <a name="1046931"> </a>Prototype 
</h4>
<pre class="proto"><a name="1046932"></a>Err TelSpcCallNumber(
   UInt16 iRefnum,
   TelAppID iAppId,
   const Char *iDialNumberP,
   UInt16 *ioTransIdP
)
</pre>
<h4>
  <a name="1046933"> </a>Parameters 
</h4>

<dl>
<dt><a name="1046934"> </a><code>&rarr;  <i><code>iRefnum</code></i></code></dt>
<dd><a name="1046935"> </a>The telephony manager library reference number.</dd>

<dt><a name="1046936"> </a><code>&rarr;  <i><code>iAppId</code></i></code></dt>
<dd><a name="1046937"> </a>The telephone application attachment identifier for your application.</dd>

<dt><a name="1046938"> </a><code>&rarr;  <i><code>iDialNumberP</code></i></code></dt>
<dd><a name="1046939"> </a>A pointer to the telephone number to call.</dd>

<dt><a name="1046940"> </a><code>&harr;  <i><code>ioTransIdP</code></i></code></dt>
<dd><a name="1046941"> </a>Set the value of this parameter to <code>NULL</code> to cause the function to execute synchronously. </dd>

<dd><a name="1046942"> </a>If this parameter is not <code>NULL</code>, the call executes asynchronously. Upon return from this function, this points to the transaction identifier associated with the asynchronous operation.</dd>

</dl>
<h4>
  <a name="1046943"> </a>Synchronous Result
</h4>

<p><a name="1046944"> </a>Returns <code>errNone</code> if the function was successful or returns an error code if not successful.</p>
<h4>
  <a name="1046945"> </a>Asynchronous Result
</h4>

<p><a name="1046949"> </a>The following fields are updated in the <a href="TelephonyBasic.html#1056091"><code>TelEventType</code></a> event that is sent when the operation completes:</p>

<dl>
<dt><a name="1046952"> </a><code>returnCode</code></dt>
<dd><a name="1046954"> </a><code>errNone</code> upon success or an error code upon failure.</dd>

<dt><a name="1046956"> </a><code>transId</code></dt>
<dd><a name="1046958"> </a>The transaction ID of the operation.</dd>

<dt><a name="1046960"> </a><code>paramP</code></dt>
<dd><a name="1046962"> </a>Points to the string passed to this function in the <code>iDialNumberP</code> parameter.</dd>

<dt><a name="1046964"> </a><code>functionId</code></dt>
<dd><a name="1046966"> </a><code>kTelSpcCallNumberMessage</code></dd>

</dl>

<div><hr>
  <a name="1046968"> </a> <span class="warning">WARNING! </span> When using this function asynchronously, you must ensure that the value referenced by <code>iDialNumberP</code> remains in memory until the asynchronous call completes.
<hr>
</div>
<h4>
  <a name="1046969"> </a>Comments 
</h4>

<p><a name="1046970"> </a>A successful return from a synchronous call or receipt of a successful notification from an asynchronous call does not mean that the telephone call has been connected; instead, it indicates that the dial command was sent to the phone. Successful connection of the telephone call is indicated with a sub-launch.</p>

<p><a name="1046971"> </a>The dial number is formatted according to the following syntax:</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
DialNumber ::=  &lt;Phone_Number&gt; | &lt;Code_String&gt;
               | &lt;Phone_Number&gt; &lt;Code_String&gt;<a name="1046972"> </a>
 <a name="1046973"> </a>
Phone_Number ::=  &lt;IntlPrefix&gt;&lt;NatlNumber&gt;<a name="1046974"> </a>
                | &lt;NatlNumber&gt;<a name="1046975"> </a>
 <a name="1046976"> </a>
IntlPrefix ::=  '+' &lt;country code&gt;<a name="1046977"> </a>
 <a name="1046978"> </a>
NatlNumber ::=  {{Pause&lt;Pause&gt;}{&lt;Digit&gt;}}<a name="1046979"> </a>
 <a name="1046980"> </a>
Code_String ::=  &lt;Symbol&gt;{&lt;Symbol&gt;}<a name="1046981"> </a>
 <a name="1046982"> </a>
Symbol ::=       &lt;Digit&gt; | '#' | '*'<a name="1046983"> </a>
 <a name="1046984"> </a>
Digit ::=       '0' | '1' | '2' | '3' | '4'
               | '5' | '6' | '7' | '8' | '9'<a name="1046985"> </a>
 <a name="1046986"> </a>
Pause ::=         ','<a name="1046987"> </a>
</pre><div class="CodeRule"><hr></div>


<p><a name="1046988"> </a>After calling this function, sub-launched applications can receive notifications when the following telephony events occur. Note that these notifications can be raised after both synchronous and asynchronous calls to this function. </p>

<p class="caption"><a name="1071688"> </a><b>Table 76.2&nbsp;&nbsp;Telephony events sent to sublaunched applications</b></p>
<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1046991"> </a><b>Event</b></p>
    </th>
    <th><p class="tt"><a name="1046993"> </a><b>Description</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1046995"> </a><code>sysTelSpcLaunchCmdCallReleased</code></p>
    </td>
    <td><p class="tt"><a name="1046997"> </a>This is passed to a sub-launched application to warn that the telephone call has been released.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1046999"> </a><code>sysTelSpcLaunchCmdCallBusy</code></p>
    </td>
    <td><p class="tt"><a name="1047001"> </a>This is passed to a sub-launched application to warn that the called equipment is busy.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1047003"> </a><code>sysTelSpcLaunchCmdCallConnect</code></p>
    </td>
    <td><p class="tt"><a name="1047005"> </a>This is passed to a sub-launched application to warn that the line is open. The ID of the open line is stored in the <code>UInt32</code> value of the parameter block passed to the application.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1047007"> </a><code>sysTelSpcLaunchCmdCallError</code></p>
    </td>
    <td><p class="tt"><a name="1047009"> </a>This is passed to a sub-launched application to warn that the telephone call encountered an error.</p>
    </td>
  </tr>
</table>

</div>


<p><a name="1047011"> </a>Before using this function, you should verify that it is available by calling the <a href="TelephonyBasic.html#1046303"><code>TelIsSpcServiceAvailable()</code></a> macro.</p>
<h4>
  <a name="1047015"> </a>Compatibility 
</h4>

<p><a name="1047019"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1047020"> </a>See Also 
</h4>

<p><a name="1047024"> </a><a href="TelephonyCalls.html#1047027"><code>TelSpcCloseLine()</code></a></p>

<h3 class="hbH3">
  <a name="1047027"> </a>TelSpcCloseLine Function <a href="#1045871"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1047029"> </a>Purpose 
</h4>

<p><a name="1047030"> </a>Ends a voice telephone call.</p>
<h4>
  <a name="1047031"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1047032"> </a></code><h4>
  <a name="1047033"> </a>Prototype 
</h4>
<pre class="proto"><a name="1047034"></a>Err TelSpcCloseLine(
   UInt16 iRefnum,
   TelAppID iAppId,
   UInt8 iLineId,
   UInt16 *ioTransIdP
)
</pre>
<h4>
  <a name="1047035"> </a>Parameters 
</h4>

<dl>
<dt><a name="1047036"> </a><code>&rarr;  <i><code>iRefnum</code></i></code></dt>
<dd><a name="1047037"> </a>The telephony manager library reference number.</dd>

<dt><a name="1047038"> </a><code>&rarr;  <i><code>iAppId</code></i></code></dt>
<dd><a name="1047039"> </a>The telephone application attachment identifier for your application.</dd>

<dt><a name="1047040"> </a><code>&rarr;  <i><code>iLineId</code></i></code></dt>
<dd><a name="1047041"> </a>The ID of the voice line that you want to close. This is the ID returned by a previous call to the <a href="TelephonyCalls.html#1046860"><code>TelSpcAcceptCall()</code></a> function.</dd>

<dt><a name="1047045"> </a><code>&harr;  <i><code>ioTransIdP</code></i></code></dt>
<dd><a name="1047046"> </a>Set the value of this parameter to <code>NULL</code> to cause the function to execute synchronously. </dd>

<dd><a name="1047047"> </a>If this parameter is not <code>NULL</code>, the call executes asynchronously. Upon return from this function, this points to the transaction identifier associated with the asynchronous operation.</dd>

</dl>
<h4>
  <a name="1047048"> </a>Synchronous Result
</h4>

<p><a name="1047049"> </a>Returns <code>errNone</code> if the function was successful or returns an error code if not successful.</p>
<h4>
  <a name="1047050"> </a>Asynchronous Result
</h4>

<p><a name="1047054"> </a>The following fields are updated in the <a href="TelephonyBasic.html#1056091"><code>TelEventType</code></a> event that is sent when the operation completes:</p>

<dl>
<dt><a name="1047057"> </a><code>returnCode</code></dt>
<dd><a name="1047059"> </a><code>errNone</code> upon success or an error code upon failure.</dd>

<dt><a name="1047061"> </a><code>transId</code></dt>
<dd><a name="1047063"> </a>The transaction ID of the operation.</dd>

<dt><a name="1047065"> </a><code>paramP</code></dt>
<dd><a name="1047067"> </a>Points to the unsigned integer value passed to this function in the <code>iLineId</code> parameter.</dd>

<dt><a name="1047069"> </a><code>functionId</code></dt>
<dd><a name="1047071"> </a><code>kTelSpcCloseLineMessage</code></dd>

</dl>
<h4>
  <a name="1047073"> </a>Comments 
</h4>

<p><a name="1047074"> </a>Before using this function, you should verify that it is available by calling the <a href="TelephonyBasic.html#1046303"><code>TelIsSpcServiceAvailable()</code></a> macro.</p>
<h4>
  <a name="1047078"> </a>Compatibility 
</h4>

<p><a name="1047082"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1047083"> </a>See Also 
</h4>

<p><a name="1047087"> </a><a href="TelephonyCalls.html#1046925"><code>TelSpcCallNumber()</code></a></p>

<h3 class="hbH3">
  <a name="1047090"> </a>TelSpcConference Function <a href="#1045871"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1047092"> </a>Purpose 
</h4>

<p><a name="1047093"> </a>Initiate a conference telephone call by merging the active line and the held line.</p>
<h4>
  <a name="1047094"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1047095"> </a></code><h4>
  <a name="1047096"> </a>Prototype 
</h4>
<pre class="proto"><a name="1047097"></a>Err TelSpcConference(
   UInt16 iRefnum,
   TelAppID iAppId,
   UInt8 *oLineIdP,
   UInt16 *ioTransIdP
)
</pre>
<h4>
  <a name="1047098"> </a>Parameters 
</h4>

<dl>
<dt><a name="1047099"> </a><code>&rarr;  <i><code>iRefnum</code></i></code></dt>
<dd><a name="1047100"> </a>The telephony manager library reference number.</dd>

<dt><a name="1047101"> </a><code>&rarr;  <i><code>iAppId</code></i></code></dt>
<dd><a name="1047102"> </a>The telephone application attachment identifier for your application.</dd>

<dt><a name="1047103"> </a><code>&larr;  <i><code>oLineIdP</code></i></code></dt>
<dd><a name="1047104"> </a>A pointer to an unsigned byte value. Upon return, this is the ID of the voice line assigned to the telephone call.</dd>

<dt><a name="1047105"> </a><code>&harr;  <i><code>ioTransIdP</code></i></code></dt>
<dd><a name="1047106"> </a>Set the value of this parameter to <code>NULL</code> to cause the function to execute synchronously. </dd>

<dd><a name="1047107"> </a>If this parameter is not <code>NULL</code>, the call executes asynchronously. Upon return from this function, this points to the transaction identifier associated with the asynchronous operation.</dd>

</dl>
<h4>
  <a name="1047108"> </a>Synchronous Result
</h4>

<p><a name="1047109"> </a>Returns <code>errNone</code> if the function was successful or returns an error code if not successful.</p>
<h4>
  <a name="1047110"> </a>Asynchronous Result
</h4>

<p><a name="1047114"> </a>The following fields are updated in the <a href="TelephonyBasic.html#1056091"><code>TelEventType</code></a> event that is sent when the operation completes:</p>

<dl>
<dt><a name="1047117"> </a><code>returnCode</code></dt>
<dd><a name="1047119"> </a><code>errNone</code> upon success or an error code upon failure.</dd>

<dt><a name="1047121"> </a><code>transId</code></dt>
<dd><a name="1047123"> </a>The transaction ID of the operation.</dd>

<dt><a name="1047125"> </a><code>paramP</code></dt>
<dd><a name="1047127"> </a>Points to the unsigned integer value passed to this function in the <code>oLineIdP</code> parameter.</dd>

<dt><a name="1047129"> </a><code>functionId</code></dt>
<dd><a name="1047131"> </a><code>kTelSpcConferenceMessage</code></dd>

</dl>

<div><hr>
  <a name="1047133"> </a> <span class="warning">WARNING! </span> When using this function asynchronously, you must ensure that the value referenced by <code>oLineIdP</code> remains in memory until the asynchronous call completes.
<hr>
</div>
<h4>
  <a name="1047134"> </a>Comments 
</h4>

<p><a name="1047135"> </a>Before using this function, you should verify that it is available by calling the <a href="TelephonyBasic.html#1046303"><code>TelIsSpcServiceAvailable()</code></a> macro.</p>
<h4>
  <a name="1047139"> </a>Compatibility 
</h4>

<p><a name="1047143"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1047144"> </a>See Also 
</h4>

<p><a name="1047151"> </a><a href="TelephonyCalls.html#1046925"><code>TelSpcCallNumber()</code></a>, <a href="TelephonyCalls.html#1047027"><code>TelSpcCloseLine()</code></a>, <a href="TelephonyCalls.html#1047235"><code>TelSpcHoldLine()</code></a>, <a href="TelephonyCalls.html#1047428"><code>TelSpcRetrieveHeldLine()</code></a>, <a href="TelephonyCalls.html#1047487"><code>TelSpcSelectLine()</code></a></p>

<h3 class="hbH3">
  <a name="1047163"> </a>TelSpcGetCallerNumber Function <a href="#1045871"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1047165"> </a>Purpose 
</h4>

<p><a name="1047166"> </a>Retrieve the telephone number of the caller on an incoming telephone call.</p>
<h4>
  <a name="1047167"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1047168"> </a></code><h4>
  <a name="1047169"> </a>Prototype 
</h4>
<pre class="proto"><a name="1047170"></a>Err TelSpcGetCallerNumber(
   UInt16 iRefnum,
   TelAppID iAppId,
   TelSpcGetCallerNumberType *ioParamP,
   UInt16 *ioTransIdP
)
</pre>
<h4>
  <a name="1047171"> </a>Parameters 
</h4>

<dl>
<dt><a name="1047172"> </a><code>&rarr;  <i><code>iRefnum</code></i></code></dt>
<dd><a name="1047173"> </a>The telephony manager library reference number.</dd>

<dt><a name="1047174"> </a><code>&rarr;  <i><code>iAppId</code></i></code></dt>
<dd><a name="1047175"> </a>The telephone application attachment identifier for your application.</dd>

<dt><a name="1047176"> </a><code>&harr;  <i><code>ioParamP</code></i></code></dt>
<dd><a name="1047180"> </a>A pointer to a <a href="TelephonyCalls.html#1067348"><code>TelSpcGetCallerNumberType</code></a> structure that is used to retrieve the caller's telephone number.</dd>

<dd><a name="1047181"> </a>On input, the <code>size</code> field of this structure specifies the allocated size of the <code>value</code> buffer. Upon return, the <code>size</code> field specifies the actual size of the telephone number, even if it was truncated to fit into the buffer.</dd>

<dt><a name="1047182"> </a><code>&harr;  <i><code>ioTransIdP</code></i></code></dt>
<dd><a name="1047183"> </a>Set the value of this parameter to <code>NULL</code> to cause the function to execute synchronously. </dd>

<dd><a name="1047184"> </a>If this parameter is not <code>NULL</code>, the call executes asynchronously. Upon return from this function, this points to the transaction identifier associated with the asynchronous operation.</dd>

</dl>
<h4>
  <a name="1047185"> </a>Synchronous Result
</h4>

<p><a name="1047186"> </a>Returns <code>errNone</code> if the function was successful or returns an error code if not successful. If there is no active incoming telephone call, this function returns the <code>telErrUnavailableValue</code> error.</p>
<h4>
  <a name="1047187"> </a>Asynchronous Result
</h4>

<p><a name="1047191"> </a>The following fields are updated in the <a href="TelephonyBasic.html#1056091"><code>TelEventType</code></a> event that is sent when the operation completes:</p>

<dl>
<dt><a name="1047194"> </a><code>returnCode</code></dt>
<dd><a name="1047196"> </a><code>errNone</code> upon success or an error code upon failure.</dd>

<dt><a name="1047198"> </a><code>transId</code></dt>
<dd><a name="1047200"> </a>The transaction ID of the operation.</dd>

<dt><a name="1047202"> </a><code>paramP</code></dt>
<dd><a name="1047207"> </a>Points to the <a href="TelephonyCalls.html#1067348"><code>TelSpcGetCallerNumberType</code></a> structure passed to this function in the <code>ioParamP</code> parameter.</dd>

<dt><a name="1047209"> </a><code>functionId</code></dt>
<dd><a name="1047211"> </a><code>kTelSpcGetCallerNumberMessage</code></dd>

</dl>

<div><hr>
  <a name="1047213"> </a> <span class="warning">WARNING! </span> When using this function asynchronously, you must ensure that the structure referenced by <code>ioParamP</code> remains in memory until the asynchronous call completes.
<hr>
</div>
<h4>
  <a name="1047214"> </a>Comments 
</h4>

<p><a name="1047215"> </a>The emergency telephone call number is stored into the <code>value</code> field of the <a href="TelephonyCalls.html#1067348"><code>TelSpcGetCallerNumberType</code></a> structure referenced by <code>ioParamP</code>. If the <code>value</code> buffer is too small to contain the complete string, the string is truncated (and ends with the null terminator character) and this function returns the <code>telErrBufferSize</code> error. The <code>size</code> field of the structure is always updated to contain the actual size of the complete string.</p>

<p><a name="1047219"> </a>Before using this function, you should verify that it is available by calling the <a href="TelephonyBasic.html#1046303"><code>TelIsSpcServiceAvailable()</code></a> macro.</p>
<h4>
  <a name="1047223"> </a>Compatibility 
</h4>

<p><a name="1047227"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1047228"> </a>See Also 
</h4>

<p><a name="1047232"> </a><a href="TelephonyCalls.html#1046860"><code>TelSpcAcceptCall()</code></a></p>

<h3 class="hbH3">
  <a name="1047235"> </a>TelSpcHoldLine Function <a href="#1045871"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1047237"> </a>Purpose 
</h4>

<p><a name="1047238"> </a>Put the currently active voice line on hold.</p>
<h4>
  <a name="1047239"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1047240"> </a></code><h4>
  <a name="1047241"> </a>Prototype 
</h4>
<pre class="proto"><a name="1047242"></a>Err TelSpcHoldLine(
   UInt16 iRefnum,
   TelAppID iAppId,
   UInt16 *ioTransIdP
)
</pre>
<h4>
  <a name="1047243"> </a>Parameters 
</h4>

<dl>
<dt><a name="1047244"> </a><code>&rarr;  <i><code>iRefnum</code></i></code></dt>
<dd><a name="1047245"> </a>The telephony manager library reference number.</dd>

<dt><a name="1047246"> </a><code>&rarr;  <i><code>iAppId</code></i></code></dt>
<dd><a name="1047247"> </a>The telephone application attachment identifier for your application.</dd>

<dt><a name="1047248"> </a><code>&harr;  <i><code>ioTransIdP</code></i></code></dt>
<dd><a name="1047249"> </a>Set the value of this parameter to <code>NULL</code> to cause the function to execute synchronously. </dd>

<dd><a name="1047250"> </a>If this parameter is not <code>NULL</code>, the call executes asynchronously. Upon return from this function, this points to the transaction identifier associated with the asynchronous operation.</dd>

</dl>
<h4>
  <a name="1047251"> </a>Synchronous Result
</h4>

<p><a name="1047252"> </a>Returns <code>errNone</code> if the function was successful or returns an error code if not successful.</p>
<h4>
  <a name="1047253"> </a>Asynchronous Result
</h4>

<p><a name="1047257"> </a>The following fields are updated in the <a href="TelephonyBasic.html#1056091"><code>TelEventType</code></a> event that is sent when the operation completes:</p>

<dl>
<dt><a name="1047260"> </a><code>returnCode</code></dt>
<dd><a name="1047262"> </a><code>errNone</code> upon success or an error code upon failure.</dd>

<dt><a name="1047264"> </a><code>transId</code></dt>
<dd><a name="1047266"> </a>The transaction ID of the operation.</dd>

<dt><a name="1047268"> </a><code>paramP</code></dt>
<dd><a name="1047270"> </a>A <code>NULL</code> pointer.</dd>

<dt><a name="1047272"> </a><code>functionId</code></dt>
<dd><a name="1047274"> </a><code>kTelSpcHoldLineMessage</code></dd>

</dl>
<h4>
  <a name="1047276"> </a>Comments 
</h4>

<p><a name="1047277"> </a>Note that there can only be one line active at any given time, and there can only be one line on hold at any given time.</p>

<p><a name="1047278"> </a>Before using this function, you should verify that it is available by calling the <a href="TelephonyBasic.html#1046303"><code>TelIsSpcServiceAvailable()</code></a> macro.</p>
<h4>
  <a name="1047282"> </a>Compatibility 
</h4>

<p><a name="1047286"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1047287"> </a>See Also 
</h4>

<p><a name="1047291"> </a><a href="TelephonyCalls.html#1047428"><code>TelSpcRetrieveHeldLine()</code></a></p>

<h3 class="hbH3">
  <a name="1047294"> </a>TelSpcPlayDTMF Function <a href="#1045871"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1047296"> </a>Purpose 
</h4>

<p><a name="1047297"> </a>Play a dual-tone multi-frequency sound to the network system for a specified duration. Note that you can only play a DTMF while a voice telephone call is active.</p>
<h4>
  <a name="1047298"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1047299"> </a></code><h4>
  <a name="1047300"> </a>Prototype 
</h4>
<pre class="proto"><a name="1047301"></a>Err TelSpcPlayDTMF(
   UInt16 iRefnum,
   TelAppID iAppId,
   TelSpcPlayDTMFType *iParamP,
   UInt16 *ioTransIdP
)
</pre>
<h4>
  <a name="1047302"> </a>Parameters 
</h4>

<dl>
<dt><a name="1047303"> </a><code>&rarr;  <i><code>iRefnum</code></i></code></dt>
<dd><a name="1047304"> </a>The telephony manager library reference number.</dd>

<dt><a name="1047305"> </a><code>&rarr;  <i><code>iAppId</code></i></code></dt>
<dd><a name="1047306"> </a>The telephone application attachment identifier for your application.</dd>

<dt><a name="1047307"> </a><code>&rarr;  <i><code>iParamP</code></i></code></dt>
<dd><a name="1047311"> </a>A pointer to a <a href="TelephonyCalls.html#1067293"><code>TelSpcPlayDTMFType</code></a> structure that specifies the tone to play and its duration.</dd>

<dt><a name="1047312"> </a><code>&harr;  <i><code>ioTransIdP</code></i></code></dt>
<dd><a name="1047313"> </a>Set the value of this parameter to <code>NULL</code> to cause the function to execute synchronously. </dd>

<dd><a name="1047314"> </a>If this parameter is not <code>NULL</code>, the call executes asynchronously. Upon return from this function, this points to the transaction identifier associated with the asynchronous operation.</dd>

</dl>
<h4>
  <a name="1047315"> </a>Synchronous Result
</h4>

<p><a name="1047316"> </a>Returns <code>errNone</code> if the function was successful or returns an error code if not successful.</p>
<h4>
  <a name="1047317"> </a>Asynchronous Result
</h4>

<p><a name="1047321"> </a>The following fields are updated in the <a href="TelephonyBasic.html#1056091"><code>TelEventType</code></a> event that is sent when the operation completes:</p>

<dl>
<dt><a name="1047324"> </a><code>returnCode</code></dt>
<dd><a name="1047326"> </a><code>errNone</code> upon success or an error code upon failure.</dd>

<dt><a name="1047328"> </a><code>transId</code></dt>
<dd><a name="1047330"> </a>The transaction ID of the operation.</dd>

<dt><a name="1047332"> </a><code>paramP</code></dt>
<dd><a name="1047337"> </a>Points to the <a href="TelephonyCalls.html#1067293"><code>TelSpcPlayDTMFType</code></a> structure passed to this function in the <code>iParamP</code> parameter</dd>

<dt><a name="1047339"> </a><code>functionId</code></dt>
<dd><a name="1047341"> </a><code>kTelSpcPlayDTMFMessage</code></dd>

</dl>

<div><hr>
  <a name="1047343"> </a> <span class="warning">WARNING! </span> When using this function asynchronously, you must ensure that the structure referenced by <code>iParamP</code> remains in memory until the asynchronous call completes.
<hr>
</div>
<h4>
  <a name="1047344"> </a>Comments 
</h4>

<p><a name="1047345"> </a>Before using this function, you should verify that it is available by calling the <a href="TelephonyBasic.html#1046303"><code>TelIsSpcServiceAvailable()</code></a> macro.</p>
<h4>
  <a name="1047349"> </a>Compatibility 
</h4>

<p><a name="1047353"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1047354"> </a>See Also 
</h4>

<p><a name="1047361"> </a><a href="TelephonyCalls.html#1047551"><code>TelSpcSendBurstDTMF()</code></a>, <a href="TelephonyCalls.html#1047622"><code>TelSpcStartContinuousDTMF()</code></a>, <a href="TelephonyCalls.html#1047695"><code>TelSpcStopContinuousDTMF()</code></a></p>

<h3 class="hbH3">
  <a name="1047367"> </a>TelSpcRejectCall Function <a href="#1045871"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1047369"> </a>Purpose 
</h4>

<p><a name="1047370"> </a>Reject an incoming voice telephone call.</p>
<h4>
  <a name="1047371"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1047372"> </a></code><h4>
  <a name="1047373"> </a>Prototype 
</h4>
<pre class="proto"><a name="1047374"></a>Err TelSpcRejectCall(
   UInt16 iRefnum,
   TelAppID iAppId,
   UInt16 *ioTransIdP
)
</pre>
<h4>
  <a name="1047375"> </a>Parameters 
</h4>

<dl>
<dt><a name="1047376"> </a><code>&rarr;  <i><code>iRefnum</code></i></code></dt>
<dd><a name="1047377"> </a>The telephony manager library reference number.</dd>

<dt><a name="1047378"> </a><code>&rarr;  <i><code>iAppId</code></i></code></dt>
<dd><a name="1047379"> </a>The telephone application attachment identifier for your application.</dd>

<dt><a name="1047380"> </a><code>&harr;  <i><code>ioTransIdP</code></i></code></dt>
<dd><a name="1047381"> </a>Set the value of this parameter to <code>NULL</code> to cause the function to execute synchronously. </dd>

<dd><a name="1047382"> </a>If this parameter is not <code>NULL</code>, the call executes asynchronously. Upon return from this function, this points to the transaction identifier associated with the asynchronous operation.</dd>

</dl>
<h4>
  <a name="1047383"> </a>Synchronous Result
</h4>

<p><a name="1047384"> </a>Returns <code>errNone</code> if the function was successful or returns an error code if not successful.</p>
<h4>
  <a name="1047385"> </a>Asynchronous Result
</h4>

<p><a name="1047389"> </a>The following fields are updated in the <a href="TelephonyBasic.html#1056091"><code>TelEventType</code></a> event that is sent when the operation completes:</p>

<dl>
<dt><a name="1047392"> </a><code>returnCode</code></dt>
<dd><a name="1047394"> </a><code>errNone</code> upon success or an error code upon failure.</dd>

<dt><a name="1047396"> </a><code>transId</code></dt>
<dd><a name="1047398"> </a>The transaction ID of the operation.</dd>

<dt><a name="1047400"> </a><code>paramP</code></dt>
<dd><a name="1047402"> </a>A <code>NULL</code> pointer.</dd>

<dt><a name="1047404"> </a><code>functionId</code></dt>
<dd><a name="1047406"> </a><code>kTelSpcRejectCallMessage</code></dd>

</dl>
<h4>
  <a name="1047408"> </a>Comments 
</h4>

<p><a name="1047409"> </a>Before using this function, you should verify that it is available by calling the <a href="TelephonyBasic.html#1046303"><code>TelIsSpcServiceAvailable()</code></a> macro.</p>
<h4>
  <a name="1047413"> </a>Compatibility 
</h4>

<p><a name="1047417"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1047418"> </a>See Also 
</h4>

<p><a name="1047425"> </a><a href="TelephonyCalls.html#1046860"><code>TelSpcAcceptCall()</code></a>, <a href="TelephonyCalls.html#1047163"><code>TelSpcGetCallerNumber()</code></a></p>

<h3 class="hbH3">
  <a name="1047428"> </a>TelSpcRetrieveHeldLine Function <a href="#1045871"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1047430"> </a>Purpose 
</h4>

<p><a name="1047431"> </a>Reconnect the voice line that is currently on hold, making it the active voice line.</p>
<h4>
  <a name="1047432"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1047433"> </a></code><h4>
  <a name="1047434"> </a>Prototype 
</h4>
<pre class="proto"><a name="1047435"></a>Err TelSpcRetrieveHeldLine(
   UInt16 iRefnum,
   TelAppID iAppId,
   UInt16 *ioTransIdP
)
</pre>
<h4>
  <a name="1047436"> </a>Parameters 
</h4>

<dl>
<dt><a name="1047437"> </a><code>&rarr;  <i><code>iRefnum</code></i></code></dt>
<dd><a name="1047438"> </a>The telephony manager library reference number.</dd>

<dt><a name="1047439"> </a><code>&rarr;  <i><code>iAppId</code></i></code></dt>
<dd><a name="1047440"> </a>The telephone application attachment identifier for your application.</dd>

<dt><a name="1047441"> </a><code>&harr;  <i><code>ioTransIdP</code></i></code></dt>
<dd><a name="1047442"> </a>Set the value of this parameter to <code>NULL</code> to cause the function to execute synchronously. </dd>

<dd><a name="1047443"> </a>If this parameter is not <code>NULL</code>, the call executes asynchronously. Upon return from this function, this points to the transaction identifier associated with the asynchronous operation.</dd>

</dl>
<h4>
  <a name="1047444"> </a>Synchronous Result
</h4>

<p><a name="1047445"> </a>Returns <code>errNone</code> if the function was successful or returns an error code if not successful.</p>
<h4>
  <a name="1047446"> </a>Asynchronous Result
</h4>

<p><a name="1047450"> </a>The following fields are updated in the <a href="TelephonyBasic.html#1056091"><code>TelEventType</code></a> event that is sent when the operation completes:</p>

<dl>
<dt><a name="1047453"> </a><code>returnCode</code></dt>
<dd><a name="1047455"> </a><code>errNone</code> upon success or an error code upon failure.</dd>

<dt><a name="1047457"> </a><code>transId</code></dt>
<dd><a name="1047459"> </a>The transaction ID of the operation.</dd>

<dt><a name="1047461"> </a><code>paramP</code></dt>
<dd><a name="1047463"> </a>A <code>NULL</code> pointer.</dd>

<dt><a name="1047465"> </a><code>functionId</code></dt>
<dd><a name="1047467"> </a><code>kTelSpcRetrieveHeldLineMessage</code></dd>

</dl>
<h4>
  <a name="1047469"> </a>Comments 
</h4>

<p><a name="1047470"> </a>Note that there can only be one line active at any given time, and there can only be one line on hold at any given time.</p>

<p><a name="1047471"> </a>Before using this function, you should verify that it is available by calling the <a href="TelephonyBasic.html#1046303"><code>TelIsSpcServiceAvailable()</code></a> macro.</p>
<h4>
  <a name="1047475"> </a>Compatibility 
</h4>

<p><a name="1047479"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1047480"> </a>See Also 
</h4>

<p><a name="1047484"> </a><a href="TelephonyCalls.html#1047235"><code>TelSpcHoldLine()</code></a></p>

<h3 class="hbH3">
  <a name="1047487"> </a>TelSpcSelectLine Function <a href="#1045871"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1047489"> </a>Purpose 
</h4>

<p><a name="1047490"> </a>Select the specified line ID as the newly active voice line.</p>
<h4>
  <a name="1047491"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1047492"> </a></code><h4>
  <a name="1047493"> </a>Prototype 
</h4>
<pre class="proto"><a name="1047494"></a>Err TelSpcSelectLine(
   UInt16 iRefnum,
   TelAppID iAppId,
   UInt8 iLineId,
   UInt16 *ioTransIdP
)
</pre>
<h4>
  <a name="1047495"> </a>Parameters 
</h4>

<dl>
<dt><a name="1047496"> </a><code>&rarr;  <i><code>iRefnum</code></i></code></dt>
<dd><a name="1047497"> </a>The telephony manager library reference number.</dd>

<dt><a name="1047498"> </a><code>&rarr;  <i><code>iAppId</code></i></code></dt>
<dd><a name="1047499"> </a>The telephone application attachment identifier for your application.</dd>

<dt><a name="1047500"> </a><code>&rarr;  <i><code>iLineId</code></i></code></dt>
<dd><a name="1047501"> </a>The ID of the voice line that you want to activate. This is the ID returned by a previous call to the <a href="TelephonyCalls.html#1046860"><code>TelSpcAcceptCall()</code></a> function.</dd>

<dt><a name="1047505"> </a><code>&harr;  <i><code>ioTransIdP</code></i></code></dt>
<dd><a name="1047506"> </a>Set the value of this parameter to <code>NULL</code> to cause the function to execute synchronously. </dd>

<dd><a name="1047507"> </a>If this parameter is not <code>NULL</code>, the call executes asynchronously. Upon return from this function, this points to the transaction identifier associated with the asynchronous operation.</dd>

</dl>
<h4>
  <a name="1047508"> </a>Synchronous Result
</h4>

<p><a name="1047509"> </a>Returns <code>errNone</code> if the function was successful or returns an error code if not successful.</p>
<h4>
  <a name="1047510"> </a>Asynchronous Result
</h4>

<p><a name="1047514"> </a>The following fields are updated in the <a href="TelephonyBasic.html#1056091"><code>TelEventType</code></a> event that is sent when the operation completes:</p>

<dl>
<dt><a name="1047517"> </a><code>returnCode</code></dt>
<dd><a name="1047519"> </a><code>errNone</code> upon success or an error code upon failure.</dd>

<dt><a name="1047521"> </a><code>transId</code></dt>
<dd><a name="1047523"> </a>The transaction ID of the operation.</dd>

<dt><a name="1047525"> </a><code>paramP</code></dt>
<dd><a name="1047527"> </a>Points to the unsigned integer value passed to this function in the <code>iLineId</code> parameter.</dd>

<dt><a name="1047529"> </a><code>functionId</code></dt>
<dd><a name="1047531"> </a><code>kTelSpcSelectLineMessage</code></dd>

</dl>
<h4>
  <a name="1047533"> </a>Comments 
</h4>

<p><a name="1047534"> </a>If a line was active previous to completion of this function, that line is put on hold. Note that there can only be one line active at any given time, and there can only be one line on hold at any given time.</p>

<p><a name="1047535"> </a>Before using this function, you should verify that it is available by calling the <a href="TelephonyBasic.html#1046303"><code>TelIsSpcServiceAvailable()</code></a> macro.</p>
<h4>
  <a name="1047539"> </a>Compatibility 
</h4>

<p><a name="1047543"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1047544"> </a>See Also 
</h4>

<p><a name="1047548"> </a><a href="TelephonyCalls.html#1047090"><code>TelSpcConference()</code></a></p>

<h3 class="hbH3">
  <a name="1047551"> </a>TelSpcSendBurstDTMF Function <a href="#1045871"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1047553"> </a>Purpose 
</h4>

<p><a name="1047554"> </a>Send a string of dual-tone, multi-frequency sounds to the network system. Note that you can only play a DTMF while a voice telephone call is active.</p>
<h4>
  <a name="1047555"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1047556"> </a></code><h4>
  <a name="1047557"> </a>Prototype 
</h4>
<pre class="proto"><a name="1047558"></a>Err TelSpcSendBurstDTMF(
   UInt16 iRefnum,
   TelAppID iAppId,
   const Char *iDTMFStringP,
   UInt16 *ioTransIdP
)
</pre>
<h4>
  <a name="1047559"> </a>Parameters 
</h4>

<dl>
<dt><a name="1047560"> </a><code>&rarr;  <i><code>iRefnum</code></i></code></dt>
<dd><a name="1047561"> </a>The telephony manager library reference number.</dd>

<dt><a name="1047562"> </a><code>&rarr;  <i><code>iAppId</code></i></code></dt>
<dd><a name="1047563"> </a>The telephone application attachment identifier for your application.</dd>

<dt><a name="1047564"> </a><code>&rarr;  <i><code>iDTMFStringP</code></i></code></dt>
<dd><a name="1047565"> </a>A null-terminated string of keytone values. Each byte of the string specifies one of the values declared under <a href="TelephonyBasic.html#1099391">"Keycode Constants."</a></dd>

<dt><a name="1047569"> </a><code>&harr;  <i><code>ioTransIdP</code></i></code></dt>
<dd><a name="1047570"> </a>Set the value of this parameter to <code>NULL</code> to cause the function to execute synchronously. </dd>

<dd><a name="1047571"> </a>If this parameter is not <code>NULL</code>, the call executes asynchronously. Upon return from this function, this points to the transaction identifier associated with the asynchronous operation.</dd>

</dl>
<h4>
  <a name="1047572"> </a>Synchronous Result
</h4>

<p><a name="1047573"> </a>Returns <code>errNone</code> if the function was successful or returns an error code if not successful.</p>
<h4>
  <a name="1047574"> </a>Asynchronous Result
</h4>

<p><a name="1047578"> </a>The following fields are updated in the <a href="TelephonyBasic.html#1056091"><code>TelEventType</code></a> event that is sent when the operation completes:</p>

<dl>
<dt><a name="1047581"> </a><code>returnCode</code></dt>
<dd><a name="1047583"> </a><code>errNone</code> upon success or an error code upon failure.</dd>

<dt><a name="1047585"> </a><code>transId</code></dt>
<dd><a name="1047587"> </a>The transaction ID of the operation.</dd>

<dt><a name="1047589"> </a><code>paramP</code></dt>
<dd><a name="1047591"> </a>Points to the string passed to this function in the <code>iDTMFStringP</code> parameter.</dd>

<dt><a name="1047593"> </a><code>functionId</code></dt>
<dd><a name="1047595"> </a><code>kTelSpcSendBurstDTMFMessage</code></dd>

</dl>

<div><hr>
  <a name="1047597"> </a> <span class="warning">WARNING! </span> When using this function asynchronously, you must ensure that the structure referenced by <code>iDTMFStringP</code> remains in memory until the asynchronous call completes.
<hr>
</div>
<h4>
  <a name="1047598"> </a>Comments 
</h4>

<p><a name="1047599"> </a>This function sends a burst string of keytones to the network. Each key tone is played for the default duration defined by the network.</p>

<p><a name="1047600"> </a>Before using this function, you should verify that it is available by calling the <a href="TelephonyBasic.html#1046303"><code>TelIsSpcServiceAvailable()</code></a> macro.</p>
<h4>
  <a name="1047604"> </a>Compatibility 
</h4>

<p><a name="1047608"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1047609"> </a>See Also 
</h4>

<p><a name="1047616"> </a><a href="TelephonyCalls.html#1047294"><code>TelSpcPlayDTMF()</code></a>, <a href="TelephonyCalls.html#1047622"><code>TelSpcStartContinuousDTMF()</code></a>, <a href="TelephonyCalls.html#1047695"><code>TelSpcStopContinuousDTMF()</code></a></p>

<h3 class="hbH3">
  <a name="1047622"> </a>TelSpcStartContinuousDTMF Function <a href="#1045871"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1047624"> </a>Purpose 
</h4>

<p><a name="1047625"> </a>Send a continuous dual-tone, multi-frequency sound to the network system. Note that you can only play a DTMF while a voice telephone call is active.</p>
<h4>
  <a name="1047626"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1047627"> </a></code><h4>
  <a name="1047628"> </a>Prototype 
</h4>
<pre class="proto"><a name="1047629"></a>Err TelSpcStartContinuousDTMF(
   UInt16 iRefnum,
   TelAppID iAppId,
   UInt8 iKeyCode,
   UInt16 *ioTransIdP
)
</pre>
<h4>
  <a name="1047630"> </a>Parameters 
</h4>

<dl>
<dt><a name="1047631"> </a><code>&rarr;  <i><code>iRefnum</code></i></code></dt>
<dd><a name="1047632"> </a>The telephony manager library reference number.</dd>

<dt><a name="1047633"> </a><code>&rarr;  <i><code>iAppId</code></i></code></dt>
<dd><a name="1047634"> </a>The telephone application attachment identifier for your application.</dd>

<dt><a name="1047635"> </a><code>&rarr;  <i><code>iKeyCode</code></i></code></dt>
<dd><a name="1047636"> </a>The keycode to send to the network. This must be one of the values declared under <a href="TelephonyBasic.html#1099391">"Keycode Constants."</a></dd>

<dt><a name="1047640"> </a><code>&harr;  <i><code>ioTransIdP</code></i></code></dt>
<dd><a name="1047641"> </a>Set the value of this parameter to <code>NULL</code> to cause the function to execute synchronously. </dd>

<dd><a name="1047642"> </a>If this parameter is not <code>NULL</code>, the call executes asynchronously. Upon return from this function, this points to the transaction identifier associated with the asynchronous operation.</dd>

</dl>
<h4>
  <a name="1047643"> </a>Synchronous Result
</h4>

<p><a name="1047644"> </a>Returns <code>errNone</code> if the function was successful or returns an error code if not successful.</p>
<h4>
  <a name="1047645"> </a>Asynchronous Result
</h4>

<p><a name="1047649"> </a>The following fields are updated in the <a href="TelephonyBasic.html#1056091"><code>TelEventType</code></a> event that is sent when the operation completes:</p>

<dl>
<dt><a name="1047652"> </a><code>returnCode</code></dt>
<dd><a name="1047654"> </a><code>errNone</code> upon success or an error code upon failure.</dd>

<dt><a name="1047656"> </a><code>transId</code></dt>
<dd><a name="1047658"> </a>The transaction ID of the operation.</dd>

<dt><a name="1047660"> </a><code>paramP</code></dt>
<dd><a name="1047662"> </a>Points to the unsigned integer value passed to this function in the <code>iKeyCode</code> parameter.</dd>

<dt><a name="1047664"> </a><code>functionId</code></dt>
<dd><a name="1047666"> </a><code>kTelSpcStartContinuousDTMFMessage</code></dd>

</dl>
<h4>
  <a name="1047668"> </a>Comments 
</h4>

<p><a name="1047669"> </a>This function sends a key tone to the network system that is played continuously until the <a href="TelephonyCalls.html#1047695"><code>TelSpcStopContinuousDTMF()</code></a> function executes.</p>

<p><a name="1047673"> </a>Before using this function, you should verify that it is available by calling the <a href="TelephonyBasic.html#1046303"><code>TelIsSpcServiceAvailable()</code></a> macro.</p>
<h4>
  <a name="1047677"> </a>Compatibility 
</h4>

<p><a name="1047681"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1047682"> </a>See Also 
</h4>

<p><a name="1047689"> </a><a href="TelephonyCalls.html#1047294"><code>TelSpcPlayDTMF()</code></a>, <a href="TelephonyCalls.html#1047551"><code>TelSpcSendBurstDTMF()</code></a>, <a href="TelephonyCalls.html#1047695"><code>TelSpcStopContinuousDTMF()</code></a></p>

<h3 class="hbH3">
  <a name="1047695"> </a>TelSpcStopContinuousDTMF Function <a href="#1045871"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1047697"> </a>Purpose 
</h4>

<p><a name="1047698"> </a>Stop the continuous playing of a tone that was started by calling the <a href="TelephonyCalls.html#1047622"><code>TelSpcStartContinuousDTMF()</code></a> function.</p>
<h4>
  <a name="1047702"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1047703"> </a></code><h4>
  <a name="1047704"> </a>Prototype 
</h4>
<pre class="proto"><a name="1047705"></a>Err TelSpcStopContinuousDTMF(
   UInt16 iRefnum,
   TelAppID iAppId,
   UInt16 *ioTransIdP
)
</pre>
<h4>
  <a name="1047706"> </a>Parameters 
</h4>

<dl>
<dt><a name="1047707"> </a><code>&rarr;  <i><code>iRefnum</code></i></code></dt>
<dd><a name="1047708"> </a>The telephony manager library reference number.</dd>

<dt><a name="1047709"> </a><code>&rarr;  <i><code>iAppId</code></i></code></dt>
<dd><a name="1047710"> </a>The telephone application attachment identifier for your application.</dd>

<dt><a name="1047711"> </a><code>&harr;  <i><code>ioTransIdP</code></i></code></dt>
<dd><a name="1047712"> </a>Set the value of this parameter to <code>NULL</code> to cause the function to execute synchronously. </dd>

<dd><a name="1047713"> </a>If this parameter is not <code>NULL</code>, the call executes asynchronously. Upon return from this function, this points to the transaction identifier associated with the asynchronous operation.</dd>

</dl>
<h4>
  <a name="1047714"> </a>Synchronous Result
</h4>

<p><a name="1047715"> </a>Returns <code>errNone</code> if the function was successful or returns an error code if not successful.</p>
<h4>
  <a name="1047716"> </a>Asynchronous Result
</h4>

<p><a name="1047720"> </a>The following fields are updated in the <a href="TelephonyBasic.html#1056091"><code>TelEventType</code></a> event that is sent when the operation completes:</p>

<dl>
<dt><a name="1047723"> </a><code>returnCode</code></dt>
<dd><a name="1047725"> </a><code>errNone</code> upon success or an error code upon failure.</dd>

<dt><a name="1047727"> </a><code>transId</code></dt>
<dd><a name="1047729"> </a>The transaction ID of the operation.</dd>

<dt><a name="1047731"> </a><code>paramP</code></dt>
<dd><a name="1047733"> </a>A <code>NULL</code> pointer.</dd>

<dt><a name="1047735"> </a><code>functionId</code></dt>
<dd><a name="1047737"> </a><code>kTelSpcStopContinuousDTMFMessage</code></dd>

</dl>
<h4>
  <a name="1047739"> </a>Comments 
</h4>

<p><a name="1047740"> </a>This function stops the continuous playing of the tone that was previously initiated by calling the <a href="TelephonyCalls.html#1047622"><code>TelSpcStartContinuousDTMF()</code></a> function.</p>

<p><a name="1047744"> </a>Before using this function, you should verify that it is available by calling the <a href="TelephonyBasic.html#1046303"><code>TelIsSpcServiceAvailable()</code></a> macro.</p>
<h4>
  <a name="1047748"> </a>Compatibility 
</h4>

<p><a name="1047752"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1047753"> </a>See Also 
</h4>

<p><a name="1047760"> </a><a href="TelephonyCalls.html#1047294"><code>TelSpcPlayDTMF()</code></a>, <a href="TelephonyCalls.html#1047551"><code>TelSpcSendBurstDTMF()</code></a>, <a href="TelephonyCalls.html#1047622"><code>TelSpcStartContinuousDTMF()</code></a></p>

<p><a name="1047764"> </a></p>
&nbsp;<br>
</div>
<!--END CONTENT-->

</td>
<td width="5">&nbsp;&nbsp;</td>
</tr>

</table>

<!-- BEGIN FOOTER -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="7" rowspan="2"><img name="index_x" src="images/shim.gif" width="7" height="33" border="0" alt=""></td>
<td align="left"><img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
<td width="10" rowspan="2"><img name="index_x" src="images/shim.gif" width="10" height="33" border="0" alt=""></td>
</tr>
<tr>
<td align="center">
<p class="footer">
Copyright © 1996-2004, PalmSource, Inc. and its affiliates.  All rights reserved. <br>
<a href="http://www.palmsource.com/contact/">Write Us</a> | <a href="http://www.palmos.com/dev/training/">Training</a> | <a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a> | <a href="Reference_Front.html" target="_blank">Legal</a></p>
<br>
<!--BEGIN BOOK NAVIGATION-->
<p class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="ReferenceTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="TelephonyNetwork.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="TelephonySMS.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ReferenceIX.html">Index</a>
</p>
</td>
</tr>
</table>
<!-- END FOOTER -->

</body>
</html>