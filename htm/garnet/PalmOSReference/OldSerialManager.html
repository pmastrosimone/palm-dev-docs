<html>
<head>
<title>(68K) Old Serial Manager | Palm OS&#174; Programmer's  API Reference</title> 
<link href="psi_devpubs.css" rel="stylesheet" type="text/css">

<!-- BEGIN META DATA -->
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META NAME="PSITEMPLATE" CONTENT="1006-007 PalmSource_HTML_2003 20041101">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks AutoMap 2003 for FrameMaker 8.0.6.2138">
<META NAME="LASTUPDATED" CONTENT="11/22/04 10:47:09">
<!-- END META DATA -->
</head>

<body bgcolor="#ffffff" text="#000000" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<a name="1013766"></a>

<!-- BEGIN TOPNAV -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td><img src="images/shim.gif" width="7" height="75" border="0" alt=""></td>
<td align="left"><table border="0" cellpadding="0" cellspacing="0" width="744">
<tr>
<td><img name="index_r2_c1" src="images/shim.gif" width="25" height="75" border="0" alt=""></td>
<td valign="top"><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_r2_c4" src="images/shim.gif" width="96" height="15" border="0" alt=""></td>
</tr>
<tr>
<td><a href="http://www.palmsource.com/"><img name="ps_logo" src="images/ps_logo.gif" width="96" height="54" border="0" alt=""></a></td>
</tr>

</table>
</td>

<td><table border="0" cellpadding="0" cellspacing="0" width="30">
<td><img name="index_x" src="images/shim.gif" width="30" height="75" border="0" alt=""></td>
</table></td>

<!--BEGIN MASTHEAD-->
<td><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
<tr>
<td>
<!--BEGIN BOOK NAVIGATION-->
<span class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="ReferenceTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="SerialManager.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="SerialLinkManager.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ReferenceIX.html">Index</a>
</span>
<!--END BOOK NAVIGATION-->
</tr>
<tr>
<td>
<!--BEGIN PAGE TITLE-->
<h2 class="PageTitle">71 &nbsp;&nbsp;
Old Serial Manager</h2></td>
<!--END PAGE TITLE-->
</tr>
<tr>
<td>
<!--BEGIN BOOK TITLE-->
<p class="BookTitle">Palm OS&#174; Programmer's  API Reference</p>
<p class="SubTitle">Palm OS&#174; 68K SDK </p>
<!--END BOOK TITLE-->
</td>
</tr>
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
</table>
</td>
<!--END MASTHEAD-->
</tr>
</table>
<img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
</tr>
</table>
<!-- END TOPNAV -->

<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" width="5"><img name="index_x" src="images/shim.gif" width="5" height="33" border="0" alt=""></td>

<!--BEGIN SIDETOC-->
<td valign="top" width="175">
<div id="sidetoc" valign="bottom">
<h1 class="SideTOC1-PartTab"><a href="PartIII.html">Part III: Communications</a> </h1>
<h1 class="SideTOC1"><a href="OldSerialManager.html">71  Old Serial Manager</a></h1>

   <h2 class="SideTOC2"><a href="#1013791">
   Serial Manager Data Structures</a></h2>

      <h3 class="SideTOC3"><a href="#1013793">
      SerCtlEnum</a></h3>

      <h3 class="SideTOC3"><a href="#1013872">
      SerSettingsType</a></h3>

   <h2 class="SideTOC2"><a href="#1013907">
   Serial Manager Functions</a></h2>

      <h3 class="SideTOC3"><a href="#1013910">
      SerClearErr</a></h3>

      <h3 class="SideTOC3"><a href="#1013935">
      SerClose</a></h3>

      <h3 class="SideTOC3"><a href="#1013970">
      SerControl</a></h3>

      <h3 class="SideTOC3"><a href="#1014009">
      SerGetSettings</a></h3>

      <h3 class="SideTOC3"><a href="#1014047">
      SerGetStatus</a></h3>

      <h3 class="SideTOC3"><a href="#1014092">
      SerOpen</a></h3>

      <h3 class="SideTOC3"><a href="#1014139">
      SerReceive</a></h3>

      <h3 class="SideTOC3"><a href="#1014181">
      SerReceive10</a></h3>

      <h3 class="SideTOC3"><a href="#1014225">
      SerReceiveCheck</a></h3>

      <h3 class="SideTOC3"><a href="#1014263">
      SerReceiveFlush</a></h3>

      <h3 class="SideTOC3"><a href="#1014284">
      SerReceiveWait</a></h3>

      <h3 class="SideTOC3"><a href="#1014330">
      SerSend</a></h3>

      <h3 class="SideTOC3"><a href="#1014375">
      SerSend10</a></h3>

      <h3 class="SideTOC3"><a href="#1014420">
      SerSendFlush</a></h3>

      <h3 class="SideTOC3"><a href="#1014445">
      SerSendWait</a></h3>

      <h3 class="SideTOC3"><a href="#1014480">
      SerSetReceiveBuffer</a></h3>

      <h3 class="SideTOC3"><a href="#1014505">
      SerSetSettings</a></h3>

</div>
</td>

<td width="5">&nbsp;&nbsp;</td>
<td width="2" background="images/index_r8_c10.gif"><img src="images/shim.gif" width="2" height="75" border="0" alt=""></td>
<td width="5">&nbsp;&nbsp;</td>

<!--END SIDETOC-->

<td valign="top">

<!--BEGIN CONTENT-->
<div id="content" valign="bottom">
<p><a name="1013769"> </a>This chapter provides reference material for the serial manager API:</p>
<ul type="disc">
  <li><a name="1013773"> </a><a href="OldSerialManager.html#1013791">Serial Manager Data Structures</a>
  <li><a name="1013777"> </a><a href="OldSerialManager.html#1013907">Serial Manager Functions</a>
</ul>

<p><a name="1013779"> </a>The header file <code>SerialMgrOld.h</code> declares the serial manager API. For more information on the serial manager, see the chapter <a href="../PalmOSCompanion2/SerialCommunication.html#1018070">"Serial Communication"</a> in the <i>Palm OS Programmer's Companion</i>, vol. II, <i>Communications</i>. </p>

<div><hr>
  <a name="1013788"> </a> <b>NOTE: </b> The API described in this chapter is obsolete if the <a href="CompatibilityApdx.html#994398">New Serial Manager Feature Set</a> is present. The API is still supported for backward compatibility; however, the Serial Manager APIs are preferred. 
<hr>
</div>

<h2 class="haH2">
  <a name="1013791"> </a>Serial Manager Data Structures <a href="#1013766"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="1013793"> </a>SerCtlEnum Enum <a href="#1013766"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1013798"> </a>To perform a control function, applications call <a href="OldSerialManager.html#1013970"><code>SerControl()</code></a>, which performs one of the control operations specified by <code>SerCtlEnum</code>, which has the following elements:</p>


<div class="tablediv"><table cellspacing="0" class="tTableNR">

  <tr valign="top">
    <th><p class="tt"><a name="1013802"> </a><b><span style="color: #000000;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">Element</span></b></p>
    </th>
    <th><p class="tt"><a name="1013804"> </a><b>Description</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1013807"> </a><code>serCtlFirstReserved</code> = 0</p>
    </td>
    <td><p class="tt"><a name="1013809"> </a>Reserve 0</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1013812"> </a><code>serCtlStartBreak</code> </p>
    </td>
    <td><p class="tt"><a name="1013814"> </a>Turn RS232 break signal on. Applications have to make sure that the break is set long enough to generate a value BREAK! </p>
<p class="tt"><a name="1013815"> </a><code>valueP = 0; valueLenP = 0</code></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1013818"> </a><code>serCtlStopBreak</code> </p>
    </td>
    <td><p class="tt"><a name="1013820"> </a>Turn RS232 break signal off: </p>
<p class="tt"><a name="1013821"> </a><code>valueP = 0; valueLenP = 0</code></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1013824"> </a><code>serCtlBreakStatus</code> </p>
    </td>
    <td><p class="tt"><a name="1013826"> </a>Get RS232 break signal status (on or off):</p>
<p class="tt"><a name="1013827"> </a><code>valueP</code> = ptr to Word for returning status (0 = off, !0 = on)</p>
<p class="tt"><a name="1013829"> </a><code>*valueLenP = sizeof(Word)</code> </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1013832"> </a><code>serCtlStartLocalLoopback</code> </p>
    </td>
    <td><p class="tt"><a name="1013834"> </a>Start local loopback test;</p>
<p class="tt"><a name="1013835"> </a><code>valueP = 0, valueLenP = 0</code></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1013838"> </a><code>serCtlStopLocalLoopback</code> </p>
    </td>
    <td><p class="tt"><a name="1013840"> </a>Stop local loopback test </p>
<p class="tt"><a name="1013841"> </a><code>valueP = 0, valueLenP = 0</code></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1013844"> </a><code>serCtlMaxBaud</code> </p>
    </td>
    <td><p class="tt"><a name="1013846"> </a><code>valueP = ptr</code> to for returned baud </p>
<p class="tt"><a name="1013847"> </a><code>*valueLenP = sizeof(DWord)</code> </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1013850"> </a><code>serCtlHandshakeThreshold</code> </p>
    </td>
    <td><p class="tt"><a name="1013852"> </a>Retrieve HW handshake threshold; this is the maximum baud rate that does not require hardware handshaking</p>
<p class="tt"><a name="1013853"> </a><code>valueP</code> = <code>ptr </code>to DWord for returned baud </p>
<p class="tt"><a name="1013854"> </a><code>*valueLenP = sizeof(DWord)</code></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1013857"> </a><code>serCtlEmuSetBlockingHook</code> </p>
    </td>
    <td><p class="tt"><a name="1013859"> </a>Set a blocking hook routine.</p>

<div><hr>
  <a name="1013860"> </a> <span class="warning">WARNING! </span> WARNING: For use with the Simulator on Mac OS only: NOT SUPPORTED ON THE PALM DEVICE. 
<hr>
</div>
<p class="tt"><a name="1013861"> </a><code>valueP = </code>ptr to SerCallbackEntryType<code> </code></p>
<p class="tt"><a name="1013862"> </a><code>*valueLenP=sizeof(SerCallbackEntryType)</code></p>
<p class="tt"><a name="1013863"> </a>Returns the old settings in the first argument.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1013866"> </a><code>serCtlLAST</code> </p>
    </td>
    <td><p class="tt"><a name="1013868"> </a>Add new address entries before this one.</p>
    </td>
  </tr>
</table>

</div>


<h3 class="hbH3">
  <a name="1013872"> </a>SerSettingsType Struct <a href="#1013766"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1013874"> </a>Purpose 
</h4>

<p><a name="1013876"> </a>The <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">SerSettingsType</span> structure defines serial port attributes; it is used by the calls <a href="OldSerialManager.html#1014009"><code>SerGetSettings()</code></a> and <a href="OldSerialManager.html#1014505"><code>SerSetSettings()</code></a>. The <code>SerSettingsPtr</code> type points to a <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">SerSettingsType</span> structure.</p>
<h4>
  <a name="1013883"> </a>Prototype 
</h4>
<pre class="proto"><a name="1013884"></a>typedef struct SerSettingsType {
  UInt32 baudRate;
  UInt32 flags;
  Int32 ctsTimeout;
  } SerSettingsType;
</pre>
<pre class="proto"><a name="1013890"></a>typedef SerSettingsType *SerSettingsPtr;
</pre>
<h4>
  <a name="1025463"> </a>Fields 
</h4>

<dl>
<dt><a name="1013894"> </a><code><code>baudRate</code> </code></dt>
<dd><a name="1013896"> </a>Baud rate</dd>

<dt><a name="1013898"> </a><code><code>flags</code> </code></dt>
<dd><a name="1013900"> </a>Miscellaneous settings</dd>

<dt><a name="1013902"> </a><code><code>ctsTimeout</code> </code></dt>
<dd><a name="1013904"> </a>Maximum number of ticks to wait for CTS to become asserted before transmitting; used only when configured with the <code>serSettingsFlagCTSAutoM</code> flag.</dd>

</dl>

<h2 class="haH2">
  <a name="1013907"> </a>Serial Manager Functions <a href="#1013766"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="1013910"> </a>SerClearErr Function <a href="#1013766"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1013912"> </a>Purpose 
</h4>

<p><a name="1013913"> </a>Reset the serial port's line error status.</p>
<h4>
  <a name="1013914"> </a>Declared In 
</h4>
<code>SerialMgrOld.h<a name="1013915"> </a></code><h4>
  <a name="1013916"> </a>Prototype 
</h4>
<pre class="proto"><a name="1013918"></a>Err SerClearErr (
   UInt16 refNum
)
</pre>
<h4>
  <a name="1013919"> </a>Parameters 
</h4>

<dl>
<dt><a name="1013920"> </a><code>&rarr;  <i><code>refNum</code></i></code></dt>
<dd><a name="1013921"> </a>The serial library reference number.</dd>

</dl>
<h4>
  <a name="1013922"> </a>Returns 
</h4>

<dl>
<dt><a name="1013923"> </a><code>0</code></dt>
<dd><a name="1013924"> </a>No error.</dd>

</dl>
<h4>
  <a name="1013925"> </a>Comments 
</h4>

<p><a name="1013926"> </a>Call <code>SerClearErr</code> only after a serial manager function (<code>SerReceive</code>, <code>SerReceiveCheck</code>, <code>SerSend</code>, etc.) returns with the error code <code>serErrLineErr</code>. </p>

<p><a name="1013928"> </a>The reason for this is that <code>SerClearErr</code> resets the serial port. So, if <code>SerClearErr</code> is called unconditionally while a byte is coming into the serial port, that byte is guaranteed to become corrupted.</p>

<p><a name="1013929"> </a>The right strategy is to always check the error code returned by a serial manager function. If it 's <code>serErrLineErr</code>, call <code>SerClearErr</code> immediately. However, don't make unsolicited calls to <code>SerClearErr</code>. </p>

<p><a name="1013932"> </a>When you get <code>serErrLineErr</code>, consider flushing the receive queue for a fraction of a second by calling <code>SerReceiveFlush</code>. <code>SerReceiveFlush</code> calls <code>SerClearErr</code> for you.</p>

<h3 class="hbH3">
  <a name="1013935"> </a>SerClose Function <a href="#1013766"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1013937"> </a>Purpose 
</h4>

<p><a name="1013938"> </a>Release the serial port previously acquired by <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">SerOpen</span>.</p>
<h4>
  <a name="1013939"> </a>Declared In 
</h4>
<code>SerialMgrOld.h<a name="1013940"> </a></code><h4>
  <a name="1013941"> </a>Prototype 
</h4>
<pre class="proto"><a name="1013942"></a>Err SerClose (
   UInt16 refNum
)
</pre>
<h4>
  <a name="1013943"> </a>Parameters 
</h4>

<dl>
<dt><a name="1013944"> </a><code>&rarr;  <i><code>refNum</code></i></code></dt>
<dd><a name="1013945"> </a>Serial library reference number.</dd>

</dl>
<h4>
  <a name="1013946"> </a>Returns 
</h4>

<dl>
<dt><a name="1013947"> </a><code>0</code></dt>
<dd><a name="1013948"> </a>No error.</dd>

<dt><a name="1013950"> </a><code>serErrNotOpen</code></dt>
<dd><a name="1013951"> </a>Port wasn't open.</dd>

<dt><a name="1013953"> </a><code>serErrStillOpen</code></dt>
<dd><a name="1013954"> </a>Port still held open by another process.</dd>

</dl>
<h4>
  <a name="1013955"> </a>Comments 
</h4>

<p><a name="1013956"> </a>Releases the serial port and shuts down serial port hardware if the open count has reached 0. Open serial ports consume more energy from the device's batteries; it's therefore essential to keep a port open only as long as necessary.</p>
<h4>
  <a name="1013957"> </a>Caveat
</h4>

<p><a name="1013961"> </a>Don't call <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">SerClose</span> unless the return value from <a href="OldSerialManager.html#1014092"><code>SerOpen()</code></a> was 0 (zero) or <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">serErrAlreadyOpen</span>.</p>
<h4>
  <a name="1013963"> </a>See Also 
</h4>

<p><a name="1013967"> </a><a href="OldSerialManager.html#1014092"><code>SerOpen()</code></a> </p>

<h3 class="hbH3">
  <a name="1013970"> </a>SerControl Function <a href="#1013766"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1013972"> </a>Purpose 
</h4>

<p><a name="1013973"> </a>Perform a control function. </p>
<h4>
  <a name="1013974"> </a>Declared In 
</h4>
<code>SerialMgrOld.h<a name="1013975"> </a></code><h4>
  <a name="1013976"> </a>Prototype 
</h4>
<pre class="proto"><a name="1013977"></a>Err SerControl (
   UInt16 refNum,
   UInt16 op,
   void *valueP,
   UInt16 *valueLenP
)
</pre>
<h4>
  <a name="1013978"> </a>Parameters 
</h4>

<dl>
<dt><a name="1013979"> </a><code>&rarr;  <i><code>refNum</code> </i></code></dt>
<dd><a name="1013980"> </a>Reference number of library.</dd>

<dt><a name="1013981"> </a><code>&rarr;  <i><code>op</code></i></code></dt>
<dd><a name="1013982"> </a>Control operation to perform (<code>SerCtlEnum</code>).</dd>

<dt><a name="1013983"> </a><code>&harr;  <i><code>valueP</code></i></code></dt>
<dd><a name="1013984"> </a>Pointer to value for operation.</dd>

<dt><a name="1013985"> </a><code>&harr;  <i><code>valueLenP</code></i></code></dt>
<dd><a name="1013986"> </a>Pointer to size of value.</dd>

</dl>
<h4>
  <a name="1013987"> </a>Returns 
</h4>

<dl>
<dt><a name="1013988"> </a><code>0</code></dt>
<dd><a name="1013989"> </a>No error.</dd>

<dt><a name="1013991"> </a><code><code>serErrBadParam</code></code></dt>
<dd><a name="1013992"> </a>Invalid parameter (unknown). </dd>

<dt><a name="1013994"> </a><code><code>serErrNotOpen</code></code></dt>
<dd><a name="1013995"> </a>Library not open.</dd>

</dl>
<h4>
  <a name="1013996"> </a>Comments 
</h4>

<p><a name="1013997"> </a>This function provides extensible control features for the serial manager. You can </p>
<ul type="disc">
  <li><a name="1013998"> </a>Turn on/off the RS232 break signal and check its status.
  <li><a name="1013999"> </a>Perform a local loopback test.
  <li><a name="1014000"> </a>Get the maximum supported baud rate.
  <li><a name="1014001"> </a>Get the hardware handshake threshold baud rate.
</ul>
<h4>
  <a name="1014002"> </a>Compatibility 
</h4>

<p><a name="1014006"> </a>Implemented only if <a href="CompatibilityApdx.html#992789">2.0 New Feature Set</a> is present.</p>

<h3 class="hbH3">
  <a name="1014009"> </a>SerGetSettings Function <a href="#1013766"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1014011"> </a>Purpose 
</h4>

<p><a name="1014015"> </a>Fill in the <a href="OldSerialManager.html#1013872"><code>SerSettingsType</code></a> structure with current serial port attributes.</p>
<h4>
  <a name="1014016"> </a>Declared In 
</h4>
<code>SerialMgrOld.h<a name="1014017"> </a></code><h4>
  <a name="1014018"> </a>Prototype 
</h4>
<pre class="proto"><a name="1014019"></a>Err SerGetSettings (
   UInt16 refNum,
   SerSettingsPtr settingsP
)
</pre>
<h4>
  <a name="1014020"> </a>Parameters 
</h4>

<dl>
<dt><a name="1014021"> </a><code>&rarr;  <i><code>refNum</code></i></code></dt>
<dd><a name="1014022"> </a>Serial library reference number.</dd>

<dt><a name="1014023"> </a><code>&harr;  <i><code>settingsP</code></i></code></dt>
<dd><a name="1014027"> </a>Pointer to <a href="OldSerialManager.html#1013872"><code>SerSettingsType</code></a> structure to be filled in.</dd>

</dl>
<h4>
  <a name="1014028"> </a>Returns 
</h4>

<dl>
<dt><a name="1014029"> </a><code>0</code></dt>
<dd><a name="1014030"> </a>No error.</dd>

<dt><a name="1014032"> </a><code>serErrNotOpen</code></dt>
<dd><a name="1014033"> </a>The port wasn't open.</dd>

</dl>
<h4>
  <a name="1014034"> </a>Comments 
</h4>

<p><a name="1014035"> </a>The information returned by this call includes the current baud rate, CTS timeout, handshaking options, and data format options.</p>

<p><a name="1014039"> </a>See the <a href="OldSerialManager.html#1013872"><code>SerSettingsType</code></a> structure for more details.</p>
<h4>
  <a name="1014040"> </a>See Also 
</h4>

<p><a name="1014044"> </a><a href="OldSerialManager.html#1014330"><code>SerSend()</code></a> </p>

<h3 class="hbH3">
  <a name="1014047"> </a>SerGetStatus Function <a href="#1013766"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1014049"> </a>Purpose 
</h4>

<p><a name="1014050"> </a>Return the pending line error status for errors that have been detected since the last time <a href="OldSerialManager.html#1013910"><code>SerClearErr()</code></a> was called.</p>
<h4>
  <a name="1014055"> </a>Declared In 
</h4>
<code>SerialMgrOld.h<a name="1014056"> </a></code><h4>
  <a name="1014057"> </a>Prototype 
</h4>
<pre class="proto"><a name="1014058"></a>UInt16 SerGetStatus (
   UInt16 refNum,
   Boolean *ctsOnP,
   Boolean *dsrOnP
)
</pre>
<h4>
  <a name="1014059"> </a>Parameters 
</h4>

<dl>
<dt><a name="1014060"> </a><code>&rarr;  <i><code>refNum</code></i></code></dt>
<dd><a name="1014061"> </a>Serial library reference number.</dd>

<dt><a name="1014062"> </a><code>&rarr;  <i><code>ctsOnP</code></i></code></dt>
<dd><a name="1014063"> </a>Pointer to location for storing a Boolean value.</dd>

<dt><a name="1014064"> </a><code>&rarr;  <i><code>dsrOnP</code></i></code></dt>
<dd><a name="1014065"> </a>Pointer to location for storing a Boolean value.</dd>

</dl>
<h4>
  <a name="1014066"> </a>Returns 
</h4>

<p><a name="1014067"> </a>Returns any combination of the following constants, bitwise OR'ed together:</p>

<dl>
<dt><a name="1014069"> </a><code><code>serLineErrorParity</code></code></dt>
<dd><a name="1014070"> </a>Parity error.</dd>

<dt><a name="1014071"> </a><code>serLineErrorHWOverrun</code></dt>
<dd><a name="1014072"> </a>Hardware overrun.</dd>

<dt><a name="1014073"> </a><code>serLineErrorFraming</code></dt>
<dd><a name="1014074"> </a>Framing error.</dd>

<dt><a name="1014075"> </a><code>serLineErrorBreak</code></dt>
<dd><a name="1014076"> </a>Break signal detected.</dd>

<dt><a name="1014077"> </a><code>serLineErrorHShake</code></dt>
<dd><a name="1014078"> </a>Line handshake error.</dd>

<dt><a name="1014079"> </a><code>serLineErrorSWOverrun</code></dt>
<dd><a name="1014080"> </a>Software overrun.</dd>

</dl>
<h4>
  <a name="1014081"> </a>Comments 
</h4>

<p><a name="1014082"> </a>When another serial manager function returns an error code of<span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"> serErrLineErr</span>, <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">SerGetStatus</span> can be used to find out the specific nature of the line error(s). </p>

<p><a name="1014084"> </a>The values returned via <code>ctsOnP</code> and <code>dsrOnP</code> are not meaningful in the present version of the software</p>
<h4>
  <a name="1014085"> </a>See Also 
</h4>

<p><a name="1014089"> </a><a href="OldSerialManager.html#1013910"><code>SerClearErr()</code></a> </p>

<h3 class="hbH3">
  <a name="1014092"> </a>SerOpen Function <a href="#1013766"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1014094"> </a>Purpose 
</h4>

<p><a name="1014095"> </a>Acquire and open a serial port with given baud rate and default settings.</p>
<h4>
  <a name="1014096"> </a>Declared In 
</h4>
<code>SerialMgrOld.h<a name="1014097"> </a></code><h4>
  <a name="1014098"> </a>Prototype 
</h4>
<pre class="proto"><a name="1014100"></a>Err SerOpen (
   UInt16 refNum,
   UInt16 port,
   UInt32 baud
)
</pre>
<h4>
  <a name="1014101"> </a>Parameters 
</h4>

<dl>
<dt><a name="1014102"> </a><code>&rarr;  <i><code>refNum</code></i></code></dt>
<dd><a name="1014103"> </a>Serial library reference number.</dd>

<dt><a name="1014104"> </a><code>&rarr;  <i><code>port</code></i></code></dt>
<dd><a name="1014105"> </a>Port number.</dd>

<dt><a name="1014106"> </a><code>&rarr;  <i><code>baud</code></i></code></dt>
<dd><a name="1014107"> </a>Baud rate.</dd>

</dl>
<h4>
  <a name="1014108"> </a>Returns 
</h4>

<dl>
<dt><a name="1014109"> </a><code>0</code></dt>
<dd><a name="1014110"> </a>No error.</dd>

<dt><a name="1014112"> </a><code>serErrAlreadyOpen</code></dt>
<dd><a name="1014113"> </a>Port was open. Enables port sharing by "friendly" clients (not recommended).</dd>

<dt><a name="1014115"> </a><code>serErrBadParam</code></dt>
<dd><a name="1014116"> </a>Invalid parameter.</dd>

<dt><a name="1014118"> </a><code>memErrNotEnoughSpace</code></dt>
<dd><a name="1014119"> </a>Insufficient memory.</dd>

</dl>
<h4>
  <a name="1014120"> </a>Comments 
</h4>

<p><a name="1014121"> </a>Acquires the serial port, powers it up, and prepares it for operation. To obtain the serial library reference number, call <a href="SystemManager.html#1076670"><code>SysLibFind()</code></a> with "Serial Library" as the library name. This reference number must be passed as a parameter to all serial manager functions. The device currently contains only one serial port with port number 0 (zero). </p>

<p><a name="1014126"> </a>The baud rate is an integral baud value (for example - 300, 1200, 2400, 9600, 19200, 38400, 57600, etc.). The Palm OS<sup>&#174;</sup> device has been tested at the standard baud rates in the range of 300 - 57600 baud. Baud rates through 1 Mbit are theoretically possible. Use CTS handshaking at baud rates above 19200 (see <a href="OldSerialManager.html#1014505"><code>SerSetSettings()</code></a>). </p>

<p><a name="1014131"> </a>An error code of 0 (zero) or <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">serErrAlreadyOpen</span> indicates that the port was successfully opened. If the port is already open when <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">SerOpen</span> is called, the port's open count is incremented and an error code of <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">serErrAlreadyOpen</span> is returned. This ability to open the serial port multiple times allows cooperating tasks to share the serial port. Other tasks must refrain from using the port if <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">serErrAlreadyOpen</span> is returned and close it by calling <a href="OldSerialManager.html#1013935"><code>SerClose()</code></a>. </p>

<h3 class="hbH3">
  <a name="1014139"> </a>SerReceive Function <a href="#1013766"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1014141"> </a>Purpose 
</h4>

<p><a name="1014142"> </a>Receives <code>size</code> bytes worth of data or returns with error if a line error or timeout is encountered.</p>
<h4>
  <a name="1014143"> </a>Declared In 
</h4>
<code>SerialMgrOld.h<a name="1014144"> </a></code><h4>
  <a name="1014145"> </a>Prototype 
</h4>
<pre class="proto"><a name="1014146"></a>UInt32 SerReceive (
   UInt16 refNum,
   void *bufP,
   UInt32 count,
   Int32 timeout,
   Err *errP
)
</pre>
<h4>
  <a name="1014147"> </a>Parameters 
</h4>

<dl>
<dt><a name="1014148"> </a><code><code>refNum</code></code></dt>
<dd><a name="1014149"> </a>Serial library reference number.</dd>

<dt><a name="1014150"> </a><code>&harr;  <i><code>bufP</code></i></code></dt>
<dd><a name="1014151"> </a>Buffer for receiving data.</dd>

<dt><a name="1014152"> </a><code>&rarr;  <i><code>count</code></i></code></dt>
<dd><a name="1014153"> </a>Number of bytes to receive.</dd>

<dt><a name="1014154"> </a><code>&rarr;  <i><code>timeout</code></i></code></dt>
<dd><a name="1014155"> </a>Interbyte timeout in ticks, 0 for none, -1 forever.</dd>

<dt><a name="1014156"> </a><code>&harr;  <i><code>errP</code></i></code></dt>
<dd><a name="1014157"> </a>For returning error code.</dd>

</dl>
<h4>
  <a name="1014158"> </a>Returns 
</h4>

<p><a name="1014159"> </a>Number of bytes received:</p>

<dl>
<dt><a name="1014160"> </a><code><code>*errP = 0</code></code></dt>
<dd><a name="1014161"> </a>No error.</dd>

<dt><a name="1014163"> </a><code><code>serErrLineErr</code></code></dt>
<dd><a name="1014164"> </a>RS232 line error.</dd>

<dt><a name="1014166"> </a><code><code>serErrTimeOut</code></code></dt>
<dd><a name="1014167"> </a>Interbyte timeout.</dd>

</dl>
<h4>
  <a name="1014168"> </a>Compatibility 
</h4>

<p><a name="1014172"> </a>Implemented only if <a href="CompatibilityApdx.html#992789">2.0 New Feature Set</a> is present.</p>

<div><hr>
  <a name="1014173"> </a> <b>NOTE: </b> The old versions of <code>SerSend</code> and <code>SerReceive</code> are still available as <code>SerSend10</code> and <code>SerReceive10</code> (not V10).
<hr>
</div>
<h4>
  <a name="1014174"> </a>See Also 
</h4>

<p><a name="1014178"> </a><a href="OldSerialManager.html#1014181"><code>SerReceive10()</code></a> </p>

<h3 class="hbH3">
  <a name="1014181"> </a>SerReceive10 Function <a href="#1013766"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1014183"> </a>Purpose 
</h4>

<p><a name="1014184"> </a>Receive a stream of bytes.</p>
<h4>
  <a name="1014185"> </a>Declared In 
</h4>
<code>SerialMgrOld.h<a name="1014186"> </a></code><h4>
  <a name="1014187"> </a>Prototype 
</h4>
<pre class="proto"><a name="1014188"></a>Err<span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"> </span>SerReceive10 (
   UInt16 refNum,
   void *bufP,
   UInt32 bytes,
   Int32 timeout
)
</pre>
<h4>
  <a name="1014189"> </a>Parameters 
</h4>

<dl>
<dt><a name="1014190"> </a><code>&rarr;  <i><code>refNum</code></i></code></dt>
<dd><a name="1014191"> </a>The serial library reference number.</dd>

<dt><a name="1014192"> </a><code>&rarr;  <i><code>bufP</code></i></code></dt>
<dd><a name="1014193"> </a>Pointer to the buffer for receiving data.</dd>

<dt><a name="1014194"> </a><code>&rarr;  <i><code>bytes</code></i></code></dt>
<dd><a name="1014195"> </a>Number of bytes desired.</dd>

<dt><a name="1014196"> </a><code>&rarr;  <i><code>timeout</code></i></code></dt>
<dd><a name="1014197"> </a>Interbyte time out in system ticks (-1 = forever).</dd>

</dl>
<h4>
  <a name="1014198"> </a>Returns 
</h4>

<dl>
<dt><a name="1014199"> </a><code>0</code></dt>
<dd><a name="1014200"> </a>No error. Requested number of bytes was received.</dd>

<dt><a name="1014202"> </a><code>serErrTimeOut</code></dt>
<dd><a name="1014203"> </a>Interbyte time out exceeded while waiting for the next byte to arrive.</dd>

<dt><a name="1014205"> </a><code>serErrLineErr</code></dt>
<dd><a name="1014209"> </a>Line error occurred (see <a href="OldSerialManager.html#1013910"><code>SerClearErr()</code></a> and <a href="OldSerialManager.html#1014047"><code>SerGetStatus()</code></a>).</dd>

</dl>
<h4>
  <a name="1014213"> </a>Comments 
</h4>

<p><a name="1014214"> </a><span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">SerReceive</span> blocks until all the requested data has been received or an error occurs. Because this call returns immediately without any data if line errors are pending, it is important to acknowledge the detection of line errors by calling <a href="OldSerialManager.html#1013910"><code>SerClearErr()</code></a>. If you just need to retrieve all or some of the bytes which are already in the receive queue, call <a href="OldSerialManager.html#1014225"><code>SerReceiveCheck()</code></a> first to get the count of bytes presently in the receive queue.</p>
<h4>
  <a name="1014221"> </a>Compatibility 
</h4>

<p><a name="1014222"> </a>This function corresponds to the 1.0 version of <code>SerReceive</code>. </p>

<h3 class="hbH3">
  <a name="1014225"> </a>SerReceiveCheck Function <a href="#1013766"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1014227"> </a>Purpose 
</h4>

<p><a name="1014228"> </a>Return the count of bytes presently in the receive queue.</p>
<h4>
  <a name="1014229"> </a>Declared In 
</h4>
<code>SerialMgrOld.h<a name="1014230"> </a></code><h4>
  <a name="1014231"> </a>Prototype 
</h4>
<pre class="proto"><a name="1014233"></a>Err SerReceiveCheck (
   UInt16 refNum,
   UInt32 *numBytesP
)
</pre>
<h4>
  <a name="1014234"> </a>Parameters 
</h4>

<dl>
<dt><a name="1014235"> </a><code>&rarr;  <i><code>refNum</code></i></code></dt>
<dd><a name="1014236"> </a>Serial library reference number.</dd>

<dt><a name="1014237"> </a><code>&harr;  <i><code>numBytesP</code></i></code></dt>
<dd><a name="1014238"> </a>Pointer to location for returning the byte count.</dd>

</dl>
<h4>
  <a name="1014239"> </a>Returns 
</h4>

<dl>
<dt><a name="1014240"> </a><code>0</code></dt>
<dd><a name="1014241"> </a>No error.</dd>

<dt><a name="1014243"> </a><code>serErrLineErr</code></dt>
<dd><a name="1014247"> </a>Line error pending (see <a href="OldSerialManager.html#1013910"><code>SerClearErr()</code></a> and <a href="OldSerialManager.html#1014047"><code>SerGetStatus()</code></a>).</dd>

</dl>
<h4>
  <a name="1014251"> </a>Comments 
</h4>

<p><a name="1014252"> </a>Because this call does not return the byte count if line errors are pending, it is important to acknowledge the detection of line errors by calling <a href="OldSerialManager.html#1013910"><code>SerClearErr()</code></a>. </p>
<h4>
  <a name="1014256"> </a>See Also 
</h4>

<p><a name="1014260"> </a><a href="OldSerialManager.html#1014284"><code>SerReceiveWait()</code></a> </p>

<h3 class="hbH3">
  <a name="1014263"> </a>SerReceiveFlush Function <a href="#1013766"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1014265"> </a>Purpose 
</h4>

<p><a name="1014266"> </a>Discard all data presently in the receive queue and flush bytes coming into the serial port. Clear the saved error status.</p>
<h4>
  <a name="1014267"> </a>Declared In 
</h4>
<code>SerialMgrOld.h<a name="1014268"> </a></code><h4>
  <a name="1014269"> </a>Prototype 
</h4>
<pre class="proto"><a name="1014271"></a>void<span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"> </span>SerReceiveFlush (
   UInt16 refNum,
   Int32 timeout
)
</pre>
<h4>
  <a name="1014272"> </a>Parameters 
</h4>

<dl>
<dt><a name="1014273"> </a><code>&rarr;  <i><code>refNum</code></i></code></dt>
<dd><a name="1014274"> </a>Serial library reference number.</dd>

<dt><a name="1014275"> </a><code>&rarr;  <i><code>timeout</code></i></code></dt>
<dd><a name="1014276"> </a>Interbyte time out in system ticks (-1 = forever).</dd>

</dl>
<h4>
  <a name="1014277"> </a>Returns 
</h4>

<p><a name="1014278"> </a>Returns nothing.</p>
<h4>
  <a name="1014279"> </a>Comments 
</h4>

<p><a name="1014281"> </a><code>SerReceiveFlush</code> blocks until a timeout occurs while waiting for the next byte to arrive.</p>

<h3 class="hbH3">
  <a name="1014284"> </a>SerReceiveWait Function <a href="#1013766"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1014286"> </a>Purpose 
</h4>

<p><a name="1014287"> </a>Wait for at least <code>bytes</code> bytes of data to accumulate in the receive queue.</p>
<h4>
  <a name="1014288"> </a>Declared In 
</h4>
<code>SerialMgrOld.h<a name="1014289"> </a></code><h4>
  <a name="1014290"> </a>Prototype 
</h4>
<pre class="proto"><a name="1014291"></a>Err SerReceiveWait (
   UInt16 refNum,
   UInt32 bytes,
   Int32 timeout
)
</pre>
<h4>
  <a name="1014292"> </a>Parameters 
</h4>

<dl>
<dt><a name="1014293"> </a><code>&rarr;  <i><code>refNum</code></i></code></dt>
<dd><a name="1014294"> </a>Serial library reference number.</dd>

<dt><a name="1014295"> </a><code>&rarr;  <i><code>bytes</code></i></code></dt>
<dd><a name="1014296"> </a>Number of bytes desired.</dd>

<dt><a name="1014297"> </a><code>&rarr;  <i><code>timeout</code></i></code></dt>
<dd><a name="1014298"> </a>Interbyte timeout in system ticks (-1 = forever).</dd>

</dl>
<h4>
  <a name="1014299"> </a>Returns 
</h4>

<dl>
<dt><a name="1014300"> </a><code>0</code></dt>
<dd><a name="1014301"> </a>No error.</dd>

<dt><a name="1014303"> </a><code>serErrTimeOut</code></dt>
<dd><a name="1014304"> </a>Interbyte timeout exceeded while waiting for next byte to arrive.</dd>

<dt><a name="1014306"> </a><code><code>serErrLineErr</code></code></dt>
<dd><a name="1014310"> </a>Line error occurred (see <a href="OldSerialManager.html#1013910"><code>SerClearErr()</code></a> and <a href="OldSerialManager.html#1014047"><code>SerGetStatus()</code></a>).</dd>

</dl>
<h4>
  <a name="1014314"> </a>Comments 
</h4>

<p><a name="1014315"> </a>This is the preferred method of waiting for serial input, since it blocks the current task and allows switching the processor into a more energy-efficient state. </p>

<p><a name="1014316"> </a><span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">SerReceiveWait</span> blocks until the desired number of bytes accumulate in the receive queue or an error occurs. The desired number of bytes must be less than the current receive queue size. The default queue size is 512 bytes. Because this call returns immediately if line errors are pending, it is important to acknowledge the detection of line errors by calling <a href="OldSerialManager.html#1013910"><code>SerClearErr()</code></a>. </p>
<h4>
  <a name="1014320"> </a>See Also 
</h4>

<p><a name="1014327"> </a><a href="OldSerialManager.html#1014225"><code>SerReceiveCheck()</code></a>, <a href="OldSerialManager.html#1014480"><code>SerSetReceiveBuffer()</code></a> </p>

<h3 class="hbH3">
  <a name="1014330"> </a>SerSend Function <a href="#1013766"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1014332"> </a>Purpose 
</h4>

<p><a name="1014333"> </a>Send one or more bytes of data over the serial port.</p>
<h4>
  <a name="1014334"> </a>Declared In 
</h4>
<code>SerialMgrOld.h<a name="1014335"> </a></code><h4>
  <a name="1014336"> </a>Prototype 
</h4>
<pre class="proto"><a name="1014338"></a>UInt32 SerSend (
   UInt16 refNum,
   void *bufP,
   UInt32 count,
   Err *errP
</pre>
<h4>
  <a name="1014339"> </a>Parameters 
</h4>

<dl>
<dt><a name="1014340"> </a><code>&rarr;  <i><code>refNum</code></i></code></dt>
<dd><a name="1014341"> </a>Serial library reference number.</dd>

<dt><a name="1014342"> </a><code>&rarr;  <i><code>bufP</code></i></code></dt>
<dd><a name="1014343"> </a>Pointer to data to send.</dd>

<dt><a name="1014344"> </a><code>&rarr;  <i><code>count</code></i></code></dt>
<dd><a name="1014345"> </a>Number of bytes to send.</dd>

<dt><a name="1014346"> </a><code>&harr;  <i><code>errP</code></i></code></dt>
<dd><a name="1014347"> </a>For returning error code.</dd>

</dl>
<h4>
  <a name="1014348"> </a>Returns 
</h4>

<p><a name="1014349"> </a>Returns the number of bytes transferred.</p>

<p><a name="1014350"> </a>Stores in <code>errP</code>:</p>

<dl>
<dt><a name="1014351"> </a><code>0</code></dt>
<dd><a name="1014352"> </a>No error.</dd>

<dt><a name="1014354"> </a><code><code>serErrTimeOut</code></code></dt>
<dd><a name="1014355"> </a>Handshake timeout.</dd>

</dl>

<p><a name="1014356"> </a>The old calls worked, but they did not return enough info when they failed. The new calls (available in Palm OS v2.0 and greater) add more parameters to solve this problem and make serial communications programming simpler. </p>

<p><a name="1014357"> </a>Don't call the new functions when running on Palm OS 1.0.</p>
<h4>
  <a name="1014358"> </a>Compatibility 
</h4>

<p><a name="1014362"> </a>Implemented only if <a href="CompatibilityApdx.html#992789">2.0 New Feature Set</a> is present.</p>

<div><hr>
  <a name="1014363"> </a> <b>NOTE: </b> The old versions of <code>SerSend</code> and <code>SerReceive</code> are still available as <code>SerSend10</code> and <code>SerReceive10</code> (not V10).
<hr>
</div>
<h4>
  <a name="1014364"> </a>See Also 
</h4>

<p><a name="1014371"> </a><a href="OldSerialManager.html#1014375"><code>SerSend10()</code></a>, <a href="OldSerialManager.html#1014445"><code>SerSendWait()</code></a></p>

<h3 class="hbH3">
  <a name="1014375"> </a>SerSend10 Function <a href="#1013766"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1014377"> </a>Purpose 
</h4>

<p><a name="1014378"> </a>Send a stream of bytes to the serial port.</p>
<h4>
  <a name="1014379"> </a>Declared In 
</h4>
<code>SerialMgrOld.h<a name="1014380"> </a></code><h4>
  <a name="1014381"> </a>Prototype 
</h4>
<pre class="proto"><a name="1014382"></a>Err SerSend10 (
   UInt16 refNum,
   void *bufP,
   UInt32 size
)
</pre>
<h4>
  <a name="1014383"> </a>Parameters 
</h4>

<dl>
<dt><a name="1014384"> </a><code>&rarr;  <i><code>refNum</code></i></code></dt>
<dd><a name="1014385"> </a>Serial library reference number.</dd>

<dt><a name="1014386"> </a><code>&rarr;  <i><code>bufP</code></i></code></dt>
<dd><a name="1014387"> </a>Pointer to the data to send.</dd>

<dt><a name="1014388"> </a><code>&rarr;  <i><code>size</code></i></code></dt>
<dd><a name="1014389"> </a>Size (in number of bytes) of the data to send.</dd>

</dl>
<h4>
  <a name="1014390"> </a>Returns 
</h4>

<dl>
<dt><a name="1014391"> </a><code>0</code></dt>
<dd><a name="1014392"> </a>No error.</dd>

<dt><a name="1014394"> </a><code><code>serErrTimeOut</code></code></dt>
<dd><a name="1014395"> </a>Handshake timeout (such as waiting for CTS to become asserted).</dd>

</dl>
<h4>
  <a name="1014396"> </a>Comments 
</h4>

<p><a name="1014397"> </a>In the present implementation, <code>S</code><span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">erSend10</span> blocks until all data is transferred to the UART or a timeout error (if CTS handshaking is enabled) occurs. Future implementations may queue up the request and return immediately, performing transmission in the background. If your software needs to detect when all data has been transmitted, see <a href="OldSerialManager.html#1014445"><code>SerSendWait</code></a>.</p>

<p><a name="1014401"> </a>This routine observes the current CTS time out setting if CTS handshaking is enabled (see <a href="OldSerialManager.html#1014009"><code>SerGetSettings()</code></a> and <a href="OldSerialManager.html#1014330"><code>SerSend()</code></a>).</p>
<h4>
  <a name="1014408"> </a>Compatibility 
</h4>

<p><a name="1014409"> </a>This function corresponds to the 1.0 version of <code>SerSend</code>.</p>
<h4>
  <a name="1014410"> </a>See Also 
</h4>

<p><a name="1014417"> </a><a href="OldSerialManager.html#1014330"><code>SerSend()</code></a>, <a href="OldSerialManager.html#1014445"><code>SerSendWait()</code></a></p>

<h3 class="hbH3">
  <a name="1014420"> </a>SerSendFlush Function <a href="#1013766"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1014422"> </a>Purpose 
</h4>

<p><a name="1014423"> </a>Discard all data presently in the transmit queue.</p>
<h4>
  <a name="1014424"> </a>Declared In 
</h4>
<code>SerialMgrOld.h<a name="1014425"> </a></code><h4>
  <a name="1014426"> </a>Prototype 
</h4>
<pre class="proto"><a name="1014427"></a>Err SerSendFlush (
   UInt16 refNum
)
</pre>
<h4>
  <a name="1014428"> </a>Parameters 
</h4>

<dl>
<dt><a name="1014429"> </a><code>&rarr;  <i><code>refNum</code></i></code></dt>
<dd><a name="1014430"> </a>Serial library reference number.</dd>

</dl>
<h4>
  <a name="1014431"> </a>Returns 
</h4>

<dl>
<dt><a name="1014432"> </a><code>0</code></dt>
<dd><a name="1014433"> </a>No error.</dd>

</dl>
<h4>
  <a name="1014434"> </a>See Also 
</h4>

<p><a name="1014441"> </a><a href="OldSerialManager.html#1014330"><code>SerSend()</code></a>, <a href="OldSerialManager.html#1014445"><code>SerSendWait()</code></a></p>

<h3 class="hbH3">
  <a name="1014445"> </a>SerSendWait Function <a href="#1013766"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1014447"> </a>Purpose 
</h4>

<p><a name="1014448"> </a>Wait until the serial transmit buffer empties.</p>
<h4>
  <a name="1014449"> </a>Declared In 
</h4>
<code>SerialMgrOld.h<a name="1014450"> </a></code><h4>
  <a name="1014451"> </a>Prototype 
</h4>
<pre class="proto"><a name="1014453"></a>Err SerSendWait (
   UInt16 refNum,
   Int32 timeout
)
</pre>
<h4>
  <a name="1014454"> </a>Parameters 
</h4>

<dl>
<dt><a name="1014455"> </a><code>&rarr;  <i><code>refNum</code></i></code></dt>
<dd><a name="1014456"> </a>Serial library reference number.</dd>

<dt><a name="1014457"> </a><code>&rarr;  <i><code>timeout</code></i></code></dt>
<dd><a name="1014458"> </a>Reserved for future enhancements. Set to (-1) for compatibility.</dd>

</dl>
<h4>
  <a name="1014459"> </a>Returns 
</h4>

<dl>
<dt><a name="1014460"> </a><code>0</code></dt>
<dd><a name="1014461"> </a>No error.</dd>

<dt><a name="1014463"> </a><code>serErrTimeOut</code></dt>
<dd><a name="1014464"> </a>Handshake timeout (such as waiting for CTS to become asserted).</dd>

</dl>
<h4>
  <a name="1014465"> </a>Comments 
</h4>

<p><a name="1014466"> </a><span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">SerSendWait</span> blocks until all data is transferred or a timeout error (if CTS handshaking is enabled) occurs. This routine observes the current CTS timeout setting if CTS handshaking is enabled (see <a href="OldSerialManager.html#1014009"><code>SerGetSettings()</code></a> and <a href="OldSerialManager.html#1014330"><code>SerSend()</code></a>).</p>
<h4>
  <a name="1014473"> </a>See Also 
</h4>

<p><a name="1014477"> </a><a href="OldSerialManager.html#1014330"><code>SerSend()</code></a></p>

<h3 class="hbH3">
  <a name="1014480"> </a>SerSetReceiveBuffer Function <a href="#1013766"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1014482"> </a>Purpose 
</h4>

<p><a name="1014483"> </a>Replace the default receive queue. To restore the original buffer, pass <code>bufSize</code> = 0.</p>
<h4>
  <a name="1014484"> </a>Declared In 
</h4>
<code>SerialMgrOld.h<a name="1014485"> </a></code><h4>
  <a name="1014486"> </a>Prototype 
</h4>
<pre class="proto"><a name="1014488"></a>Err SerSetReceiveBuffer (
   UInt16 refNum,
   void *bufP,
   UInt16 bufSize
)
</pre>
<h4>
  <a name="1014489"> </a>Parameters 
</h4>

<dl>
<dt><a name="1014490"> </a><code>&rarr;  <i><code>refNum</code></i></code></dt>
<dd><a name="1014491"> </a>Serial library reference number.</dd>

<dt><a name="1014492"> </a><code>&rarr;  <i><code>bufP</code></i></code></dt>
<dd><a name="1014493"> </a>Pointer to buffer to be used as the new receive queue.</dd>

<dt><a name="1014494"> </a><code>&rarr;  <i><code>bufSize</code></i></code></dt>
<dd><a name="1014495"> </a>Size of buffer, or 0 to restore the default receive queue.</dd>

</dl>
<h4>
  <a name="1014496"> </a>Returns 
</h4>

<p><a name="1014497"> </a>Returns 0 if successful.</p>
<h4>
  <a name="1014498"> </a>Comments 
</h4>

<p><a name="1014499"> </a>The specified buffer needs to contain 32 extra bytes for serial manager overhead (its size should be your application's requirement plus 32 bytes). The default receive queue must be restored before the serial port is closed. To restore the default receive queue, call <a href="OldSerialManager.html#1014480"><code>SerSetReceiveBuffer()</code></a> passing 0 (zero) for the buffer size. The serial manager does not free the custom receive queue.</p>

<h3 class="hbH3">
  <a name="1014505"> </a>SerSetSettings Function <a href="#1013766"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1014507"> </a>Purpose 
</h4>

<p><a name="1014508"> </a>Set the serial port settings; that is, change its attributes.</p>
<h4>
  <a name="1014509"> </a>Declared In 
</h4>
<code>SerialMgrOld.h<a name="1014510"> </a></code><h4>
  <a name="1014511"> </a>Prototype 
</h4>
<pre class="proto"><a name="1014513"></a>Err SerSetSettings (
   UInt16 refNum,
   SerSettingsPtr settingsP
)
</pre>
<h4>
  <a name="1014514"> </a>Parameters 
</h4>

<dl>
<dt><a name="1014515"> </a><code>&rarr;  <i><code>refNum</code></i></code></dt>
<dd><a name="1014516"> </a>Serial library reference number.</dd>

<dt><a name="1014517"> </a><code>&harr;  <i><code>settingsP</code></i></code></dt>
<dd><a name="1014521"> </a>Pointer to the filled in <a href="OldSerialManager.html#1013872"><code>SerSettingsType</code></a> structure.</dd>

</dl>
<h4>
  <a name="1014522"> </a>Returns 
</h4>

<dl>
<dt><a name="1014523"> </a><code>0</code></dt>
<dd><a name="1014524"> </a>No error.</dd>

<dt><a name="1014526"> </a><code>serErrNotOpen</code></dt>
<dd><a name="1014527"> </a>The port wasn't open.</dd>

<dt><a name="1014529"> </a><code>serErrBadParam</code></dt>
<dd><a name="1014530"> </a>Invalid parameter.</dd>

</dl>
<h4>
  <a name="1014531"> </a>Comments 
</h4>

<p><a name="1014532"> </a>The attributes set by this call include the current baud rate, CTS timeout, handshaking options, and data format options. See the definition of the <a href="OldSerialManager.html#1013872"><code>SerSettingsType</code></a> structure for more details.</p>

<p><a name="1014536"> </a>To do 7E1 transmission, <code>OR</code> together:</p>

<p><a name="1014537"> </a><code>serSettingsFlagBitsPerChar7 | serSettingsFlagParityOnM | serSettingsFlagParityEvenM | serSettingsFlagStopBits1</code></p>

<p><a name="1014538"> </a>If you're trying to communicate at speeds greater than 19.2 Kbps, you need to use hardware handshaking: <code>serSettingsFlagRTSAutoM</code> | <code>serSettingsFlagCTSAutoM</code>. </p>
<h4>
  <a name="1014539"> </a>See Also 
</h4>

<p><a name="1014543"> </a><a href="OldSerialManager.html#1014009"><code>SerGetSettings()</code></a></p>

<p><a name="1014544"> </a></p>
&nbsp;<br>
</div>
<!--END CONTENT-->

</td>
<td width="5">&nbsp;&nbsp;</td>
</tr>

</table>

<!-- BEGIN FOOTER -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="7" rowspan="2"><img name="index_x" src="images/shim.gif" width="7" height="33" border="0" alt=""></td>
<td align="left"><img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
<td width="10" rowspan="2"><img name="index_x" src="images/shim.gif" width="10" height="33" border="0" alt=""></td>
</tr>
<tr>
<td align="center">
<p class="footer">
Copyright © 1996-2004, PalmSource, Inc. and its affiliates.  All rights reserved. <br>
<a href="http://www.palmsource.com/contact/">Write Us</a> | <a href="http://www.palmos.com/dev/training/">Training</a> | <a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a> | <a href="Reference_Front.html" target="_blank">Legal</a></p>
<br>
<!--BEGIN BOOK NAVIGATION-->
<p class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="ReferenceTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="SerialManager.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="SerialLinkManager.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ReferenceIX.html">Index</a>
</p>
</td>
</tr>
</table>
<!-- END FOOTER -->

</body>
</html>