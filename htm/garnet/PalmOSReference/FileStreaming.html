<html>
<head>
<title>(68K) File Streaming | Palm OS&#174; Programmer's  API Reference</title> 
<link href="psi_devpubs.css" rel="stylesheet" type="text/css">

<!-- BEGIN META DATA -->
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META NAME="PSITEMPLATE" CONTENT="1006-007 PalmSource_HTML_2003 20041101">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks AutoMap 2003 for FrameMaker 8.0.6.2138">
<META NAME="LASTUPDATED" CONTENT="11/22/04 10:46:22">
<!-- END META DATA -->
</head>

<body bgcolor="#ffffff" text="#000000" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<a name="1041307"></a>

<!-- BEGIN TOPNAV -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td><img src="images/shim.gif" width="7" height="75" border="0" alt=""></td>
<td align="left"><table border="0" cellpadding="0" cellspacing="0" width="744">
<tr>
<td><img name="index_r2_c1" src="images/shim.gif" width="25" height="75" border="0" alt=""></td>
<td valign="top"><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_r2_c4" src="images/shim.gif" width="96" height="15" border="0" alt=""></td>
</tr>
<tr>
<td><a href="http://www.palmsource.com/"><img name="ps_logo" src="images/ps_logo.gif" width="96" height="54" border="0" alt=""></a></td>
</tr>

</table>
</td>

<td><table border="0" cellpadding="0" cellspacing="0" width="30">
<td><img name="index_x" src="images/shim.gif" width="30" height="75" border="0" alt=""></td>
</table></td>

<!--BEGIN MASTHEAD-->
<td><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
<tr>
<td>
<!--BEGIN BOOK NAVIGATION-->
<span class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="ReferenceTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="FeatureManager.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="FloatManager.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ReferenceIX.html">Index</a>
</span>
<!--END BOOK NAVIGATION-->
</tr>
<tr>
<td>
<!--BEGIN PAGE TITLE-->
<h2 class="PageTitle">35 &nbsp;&nbsp;
File Streaming</h2></td>
<!--END PAGE TITLE-->
</tr>
<tr>
<td>
<!--BEGIN BOOK TITLE-->
<p class="BookTitle">Palm OS&#174; Programmer's  API Reference</p>
<p class="SubTitle">Palm OS&#174; 68K SDK </p>
<!--END BOOK TITLE-->
</td>
</tr>
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
</table>
</td>
<!--END MASTHEAD-->
</tr>
</table>
<img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
</tr>
</table>
<!-- END TOPNAV -->

<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" width="5"><img name="index_x" src="images/shim.gif" width="5" height="33" border="0" alt=""></td>

<!--BEGIN SIDETOC-->
<td valign="top" width="175">
<div id="sidetoc" valign="bottom">
<h1 class="SideTOC1-PartTab"><a href="PartII.html">Part II: System Management</a> </h1>
<h1 class="SideTOC1"><a href="FileStreaming.html">35  File Streaming</a></h1>

   <h2 class="SideTOC2"><a href="#1041330">
   File Streaming Constants</a></h2>

      <h3 class="SideTOC3"><a href="#1041332">
      Primary Open Mode Constants</a></h3>

      <h3 class="SideTOC3"><a href="#1041362">
      Secondary Open Mode Constants</a></h3>

   <h2 class="SideTOC2"><a href="#1041397">
   File Streaming Functions</a></h2>

      <h3 class="SideTOC3"><a href="#1041400">
      FileClearerr</a></h3>

      <h3 class="SideTOC3"><a href="#1041431">
      FileClose</a></h3>

      <h3 class="SideTOC3"><a href="#1041454">
      FileControl</a></h3>

      <h3 class="SideTOC3"><a href="#1041683">
      FileDelete</a></h3>

      <h3 class="SideTOC3"><a href="#1041713">
      FileDmRead</a></h3>

      <h3 class="SideTOC3"><a href="#1041768">
      FileEOF</a></h3>

      <h3 class="SideTOC3"><a href="#1041808">
      FileError</a></h3>

      <h3 class="SideTOC3"><a href="#1041848">
      FileFlush</a></h3>

      <h3 class="SideTOC3"><a href="#1041874">
      FileGetLastError</a></h3>

      <h3 class="SideTOC3"><a href="#1041911">
      FileOpen</a></h3>

      <h3 class="SideTOC3"><a href="#1041963">
      FileRead</a></h3>

      <h3 class="SideTOC3"><a href="#1042017">
      FileRewind</a></h3>

      <h3 class="SideTOC3"><a href="#1042060">
      FileSeek</a></h3>

      <h3 class="SideTOC3"><a href="#1042105">
      FileTell</a></h3>

      <h3 class="SideTOC3"><a href="#1042143">
      FileTruncate</a></h3>

      <h3 class="SideTOC3"><a href="#1042173">
      FileWrite</a></h3>

   <h2 class="SideTOC2"><a href="#1042214">
   File Streaming Error Codes</a></h2>

</div>
</td>

<td width="5">&nbsp;&nbsp;</td>
<td width="2" background="images/index_r8_c10.gif"><img src="images/shim.gif" width="2" height="75" border="0" alt=""></td>
<td width="5">&nbsp;&nbsp;</td>

<!--END SIDETOC-->

<td valign="top">

<!--BEGIN CONTENT-->
<div id="content" valign="bottom">
<p><a name="1041308"> </a>This chapter provides reference material for the file streaming API.</p>
<ul type="disc">
  <li><a name="1041312"> </a><a href="FileStreaming.html#1041330">File Streaming Constants</a>
  <li><a name="1041316"> </a><a href="FileStreaming.html#1041397">File Streaming Functions</a>
  <li><a name="1041320"> </a><a href="FileStreaming.html#1042214">File Streaming Error Codes</a>
</ul>

<p><a name="1041322"> </a>The header file <code>FileStream.h</code> declares the API that this chapter describes. For more information on file streaming, see the chapter <a href="../PalmOSCompanion/FilesAndDatabases.html#1029258">"Files and Databases"</a> in the <i>Palm OS Programmer's Companion</i>, vol. I. </p>

<h2 class="haH2">
  <a name="1041330"> </a>File Streaming Constants <a href="#1041307"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="1041332"> </a>Primary Open Mode Constants <a href="#1041307"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1041334"> </a>This section lists constants passed in the <code>openMode</code> parameter to the <a href="FileStreaming.html#1041911"><code>FileOpen()</code></a> function. These constants specify the mode in which a file stream is opened. </p>

<p><a name="1041341"> </a>For each file stream, you must pass to the <a href="FileStreaming.html#1041911"><code>FileOpen()</code></a> function only one of the primary mode selectors listed.</p>

<dl>
<dt><a name="1041345"> </a><code>fileModeReadOnly </code></dt>
<dd><a name="1041347"> </a>Open for read-only access</dd>

<dt><a name="1041349"> </a><code>fileModeReadWrite </code></dt>
<dd><a name="1041351"> </a>Open/create for read/write access, discarding any previous version of stream</dd>

<dt><a name="1041353"> </a><code>fileModeUpdate </code></dt>
<dd><a name="1041355"> </a>Open/create for read/write, preserving previous version of stream if it exists</dd>

<dt><a name="1041357"> </a><code>fileModeAppend </code></dt>
<dd><a name="1041359"> </a>Open/create for read/write, always writing to the end of the stream</dd>

</dl>

<h3 class="hbH3">
  <a name="1041362"> </a>Secondary Open Mode Constants <a href="#1041307"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1041364"> </a>You can use the <code>| </code>operator (bitwise inclusive OR) to append to a primary mode selector one or more of the secondary mode selectors listed below. </p>

<dl>
<dt><a name="1041367"> </a><code>fileModeDontOverwrite </code></dt>
<dd><a name="1041369"> </a>Prevents <code>fileModeReadWrite</code> from discarding an existing stream having the same name; may only be specified together with <code>fileModeReadWrite</code></dd>

<dt><a name="1041371"> </a><code>fileModeLeaveOpen </code></dt>
<dd><a name="1041373"> </a>Leave stream open when application quits. Most applications should not use this option.</dd>

<dt><a name="1041375"> </a><code>fileModeExclusive </code></dt>
<dd><a name="1041377"> </a>No other application can open the stream until the application that opened it in this mode closes it. </dd>

<dt><a name="1041379"> </a><code>fileModeAnyTypeCreator </code></dt>
<dd><a name="1041381"> </a>Accept any type/creator when opening or replacing an existing stream. Normally, the <a href="FileStreaming.html#1041911"><code>FileOpen()</code></a> function opens only streams having the specified creator and type. Setting this option enables the <code>FileOpen</code> function to open streams having a type or creator other than those specified.</dd>

<dt><a name="1041386"> </a><code>fileModeTemporary </code></dt>
<dd><a name="1041388"> </a>Delete the stream automatically when it is closed. For more information, see Comment section of <a href="FileStreaming.html#1041911"><code>FileOpen()</code></a> function description.</dd>

</dl>

<h2 class="haH2">
  <a name="1041397"> </a>File Streaming Functions <a href="#1041307"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="1041400"> </a>FileClearerr Function <a href="#1041307"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1041402"> </a>Purpose 
</h4>

<p><a name="1041403"> </a>Clear I/O error status, end of file error status, and last error.</p>
<h4>
  <a name="1041404"> </a>Declared In 
</h4>
<code>FileStream.h<a name="1041405"> </a></code><h4>
  <a name="1041406"> </a>Prototype 
</h4>
<pre class="proto"><a name="1041407"></a>Err FileClearerr (
   FileHand stream
) 
</pre>
<h4>
  <a name="1041408"> </a>Parameters 
</h4>

<dl>
<dt><a name="1041409"> </a><code>&rarr;  <i><code>stream</code> </i></code></dt>
<dd><a name="1041410"> </a>Handle to open stream. </dd>

</dl>
<h4>
  <a name="1041411"> </a>Returns 
</h4>

<p><a name="1041412"> </a>0 if no error, or a <code>fileErr </code>code if an error occurs. See the section <a href="FileStreaming.html#1042214">"File Streaming Error Codes"</a> for more information.</p>
<h4>
  <a name="1041416"> </a>Compatibility 
</h4>

<p><a name="1041420"> </a>Implemented only if <a href="CompatibilityApdx.html#993158">3.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1041421"> </a>See Also 
</h4>

<p><a name="1041428"> </a><a href="FileStreaming.html#1041874"><code>FileGetLastError()</code></a>, <a href="FileStreaming.html#1042017"><code>FileRewind()</code></a> </p>

<h3 class="hbH3">
  <a name="1041431"> </a>FileClose Function <a href="#1041307"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1041433"> </a>Purpose 
</h4>

<p><a name="1041434"> </a>Close the file stream and destroy its handle. If the stream was opened with <code>fileModeTemporary</code>, it is deleted upon closing. </p>
<h4>
  <a name="1041435"> </a>Declared In 
</h4>
<code>FileStream.h<a name="1041436"> </a></code><h4>
  <a name="1041437"> </a>Prototype 
</h4>
<pre class="proto"><a name="1041438"></a>Err FileClose (
   FileHand stream
)
</pre>
<h4>
  <a name="1041439"> </a>Parameters 
</h4>

<dl>
<dt><a name="1041440"> </a><code>&rarr;  <i><code>stream</code> </i></code></dt>
<dd><a name="1041441"> </a>Handle to open stream. </dd>

</dl>
<h4>
  <a name="1041442"> </a>Returns 
</h4>

<p><a name="1041443"> </a>0 if no error, or a <code>fileErr </code>code if an error occurs. See the section <a href="FileStreaming.html#1042214">"File Streaming Error Codes"</a> for more information.</p>
<h4>
  <a name="1041447"> </a>Compatibility 
</h4>

<p><a name="1041451"> </a>Implemented only if <a href="CompatibilityApdx.html#993158">3.0 New Feature Set</a> is present.</p>

<h3 class="hbH3">
  <a name="1041454"> </a>FileControl Function <a href="#1041307"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1041456"> </a>Purpose 
</h4>

<p><a name="1041457"> </a>Perform the operation specified by the <code>op</code> parameter on the <code>stream</code> file stream. </p>
<h4>
  <a name="1041458"> </a>Declared In 
</h4>
<code>FileStream.h<a name="1041459"> </a></code><h4>
  <a name="1041460"> </a>Prototype 
</h4>
<pre class="proto"><a name="1041461"></a>Err FileControl (
   FileOpEnum op,
   FileHand stream,
   void *valueP,
   Int32 *valueLenP
)
</pre>
<h4>
  <a name="1041462"> </a>Parameters 
</h4>

<dl>
<dt><a name="1041463"> </a><code><code>op</code></code></dt>
<dd><a name="1041464"> </a>The operation to perform, and its associated formal parameters. See the Comments section for a list of possible values. </dd>

<dt><a name="1041465"> </a><code>&rarr;  <i><code>stream</code> </i></code></dt>
<dd><a name="1041466"> </a>Open stream handle if required for file stream operation. </dd>

<dt><a name="1041467"> </a><code>&harr;  <i><code>valueP</code> </i></code></dt>
<dd><a name="1041468"> </a>Pointer to value or buffer, as required. This parameter is defined by the selector passed as the value of the <code>op</code> parameter. For details, see the Comments section. </dd>

<dt><a name="1041469"> </a><code>&harr;  <i><code>valueLenP</code> </i></code></dt>
<dd><a name="1041470"> </a>Pointer to value or buffer, as required. This parameter is defined by the selector passed as the value of the <code>op</code> parameter. For details, see the Comments section.</dd>

</dl>
<h4>
  <a name="1041471"> </a>Returns 
</h4>

<p><a name="1041472"> </a>Returns either a value defined by the selector passed as the argument to the <code>op</code> parameter, or an error code resulting from the requested operation. For details, see the Comments section.</p>
<h4>
  <a name="1041473"> </a>Comments 
</h4>

<p><a name="1041477"> </a>Normally, you do not call the <a href="FileStreaming.html#1041454"><code>FileControl()</code></a> function yourself; it is called for you by most of the other file streaming functions and macros to perform common file streaming operations. You can call <a href="FileStreaming.html#1041454"><code>FileControl()</code></a> yourself to enable specialized read modes. </p>

<dl>
<dt><a name="1041485"> </a><code>fileOpNone </code></dt>
<dd><a name="1041487"> </a>No-op. </dd>

<dt><a name="1041489"> </a><code><code>fileOpDestructiveReadMode</code> </code></dt>
<dd><a name="1041491"> </a>Enter destructive read mode, and rewind stream to its beginning. Once in this mode, there is no turning back: stream's contents after closing (or crash) are undefined.</dd>

<dd><a name="1041495"> </a>Destructive read mode deletes blocks as data are read, thus freeing storage automatically. Once in destructive read mode, you cannot re-use the file stream&#8212;the contents of the stream are undefined after it is closed or after a crash. </dd>

<dd><a name="1041499"> </a>Writing to files opened without write access or those that are in destructive read state is not allowed; thus, you cannot call the <a href="FileStreaming.html#1042173"><code>FileWrite()</code></a>, <a href="FileStreaming.html#1042060"><code>FileSeek()</code></a>, or <a href="FileStreaming.html#1042143"><code>FileTruncate()</code></a> functions on a stream that is in destructive read mode. One exception to this rule applies to streams that were opened in "write + append" mode and then switched into destructive read state. In this case, the <a href="FileStreaming.html#1042173"><code>FileWrite()</code></a> function can append data to the stream, but it also preserves the current stream position so that subsequent reads pick up where they left off (you can think of this as a pseudo-pipe).</dd>

<dd><a name="1053876"> </a></dd>

<dd><a name="1041515"> </a>ARGUMENTS:</dd>

<dd><a name="1041516"> </a><code>stream</code> = open stream handle</dd>

<dd><a name="1041517"> </a><code>valueP</code> = <code>NULL</code></dd>

<dd><a name="1041518"> </a><code>valueLenP</code> = <code>NULL</code></dd>

<dd><a name="1053877"> </a></dd>

<dd><a name="1041522"> </a>RETURNS:</dd>

<dd><a name="1041523"> </a>zero on success; </dd>

<dd><a name="1041524"> </a><code>fileErr</code>... on error</dd>

<dt><a name="1041526"> </a><code><code>fileOpGetEOFStatus</code> </code></dt>
<dd><a name="1041528"> </a>Get end-of-file status (like C runtime's <code>feof</code>) (err = <code>fileErrEOF</code>). Indicates end of file condition. Use <a href="FileStreaming.html#1041400"><code>FileClearerr()</code></a> to clear this error status.</dd>

<dd><a name="1053662"> </a></dd>

<dd><a name="1053781"> </a>ARGUMENTS:</dd>

<dd><a name="1041536"> </a><code>stream</code> = open stream handle</dd>

<dd><a name="1041537"> </a><code>valueP</code> = <code>NULL</code></dd>

<dd><a name="1041538"> </a><code>valueLenP</code> = <code>NULL</code></dd>

<dd><a name="1041540"> </a></dd>

<dd><a name="1041542"> </a>RETURNS:</dd>

<dd><a name="1041543"> </a>zero if not end of file; </dd>

<dd><a name="1041544"> </a>non-zero if end of file</dd>

<dt><a name="1041546"> </a><code><code>fileOpGetLastError</code> </code></dt>
<dd><a name="1041548"> </a>Get error code from last operation on stream, and clear the last error code value. Doesn't change status of EOF or I/O errors &#8212;use <a href="FileStreaming.html#1041400"><code>FileClearerr()</code></a> to reset all error codes.</dd>

<dd><a name="1041553"> </a></dd>

<dd><a name="1041555"> </a>ARGUMENTS:</dd>

<dd><a name="1041556"> </a><code>stream</code> = open stream handle</dd>

<dd><a name="1041557"> </a><code>valueP</code> = <code>NULL</code></dd>

<dd><a name="1041558"> </a><code>valueLenP</code> = <code>NULL</code></dd>

<dd><a name="1041560"> </a></dd>

<dd><a name="1041562"> </a>RETURNS:</dd>

<dd><a name="1041563"> </a>Error code from last file stream operation</dd>

<dt><a name="1041565"> </a><code><code>fileOpClearError</code> </code></dt>
<dd><a name="1041567"> </a>Clear I/O and EOF error status and last error.</dd>

<dd><a name="1041569"> </a></dd>

<dd><a name="1041571"> </a>ARGUMENTS:</dd>

<dd><a name="1041572"> </a><code>stream</code> = open stream handle</dd>

<dd><a name="1041573"> </a><code>valueP</code> = <code>NULL</code></dd>

<dd><a name="1041574"> </a><code>valueLenP</code> = <code>NULL</code></dd>

<dd><a name="1041576"> </a></dd>

<dd><a name="1041578"> </a>RETURNS:</dd>

<dd><a name="1041579"> </a>zero on success; <code>fileErr</code>... on error</dd>

<dt><a name="1041581"> </a><code><code>fileOpGetIOErrorStatus</code> </code></dt>
<dd><a name="1041583"> </a>Get I/O error status (like C runtime's <code>ferror</code>). Use <a href="FileStreaming.html#1041400"><code>FileClearerr()</code></a> to clear this error status.</dd>

<dd><a name="1041588"> </a></dd>

<dd><a name="1041590"> </a>ARGUMENTS:</dd>

<dd><a name="1041591"> </a><code>stream</code> = open stream handle</dd>

<dd><a name="1041592"> </a><code>valueP</code> = <code>NULL</code></dd>

<dd><a name="1041593"> </a><code>valueLenP</code> = <code>NULL</code></dd>

<dd><a name="1041595"> </a></dd>

<dd><a name="1041597"> </a>RETURNS:</dd>

<dd><a name="1041598"> </a>zero if not I/O error; </dd>

<dd><a name="1041599"> </a>non-zero if I/O error is pending.</dd>

<dt><a name="1041601"> </a><code><code>fileOpGetCreatedStatus</code> </code></dt>
<dd><a name="1041606"> </a>Find out whether file was created by <a href="FileStreaming.html#1041911"><code>FileOpen()</code></a> function</dd>

<dd><a name="1041608"> </a></dd>

<dd><a name="1041610"> </a>ARGUMENTS:</dd>

<dd><a name="1041611"> </a><code>stream</code> = open stream handle</dd>

<dd><a name="1041612"> </a><code>valueP</code> = Pointer to Boolean </dd>

<dd><a name="1041613"> </a><code>valueLenP</code> = Pointer to <code>Int32</code> variable set to sizeof(Boolean)</dd>

<dd><a name="1041615"> </a></dd>

<dd><a name="1041617"> </a>RETURNS:</dd>

<dd><a name="1041618"> </a>zero on success; <code>fileErr</code>... on error. The Boolean variable will be set to non-zero if the file was created.</dd>

<dt><a name="1041620"> </a><code><code>fileOpGetOpenDbRef</code> </code></dt>
<dd><a name="1041622"> </a>Get the open database reference (handle) of the underlying database that implements the stream (<code>NULL</code> if none); this is needed for performing Palm OS-specific operations on the underlying database, such as changing or getting creator and type, version, backup/reset bits, and so on.</dd>

<dd><a name="1041624"> </a></dd>

<dd><a name="1041626"> </a>ARGUMENTS:</dd>

<dd><a name="1041627"> </a><code>stream</code> = open stream handle</dd>

<dd><a name="1041628"> </a><code>valueP</code> = Pointer to <code>DmOpenRef</code> variable</dd>

<dd><a name="1041629"> </a><code>valueLenP</code> = Pointer to Int32 variable set to sizeof(DmOpenRef)</dd>

<dd><a name="1041631"> </a></dd>

<dd><a name="1041633"> </a>RETURNS:</dd>

<dd><a name="1041634"> </a>zero on success; <code>fileErr</code>... on error. The <code>DmOpenRef</code> variable will be set to the file's open db reference that may be passed to Data Manager calls;</dd>

<dd><a name="1041636"> </a></dd>

<dd><a name="1041638"> </a>WARNING: Do not make any changes to the data of the underlying database -- doing so will corrupt the file stream. </dd>

<dt><a name="1041640"> </a><code><code>fileOpFlush</code> </code></dt>
<dd><a name="1041642"> </a>Flush any cached data to storage.</dd>

<dd><a name="1041644"> </a></dd>

<dd><a name="1041646"> </a>ARGUMENTS:</dd>

<dd><a name="1041647"> </a><code>stream</code> = open stream handle</dd>

<dd><a name="1041648"> </a><code>valueP</code> = <code>NULL</code></dd>

<dd><a name="1041649"> </a><code>valueLenP</code> = <code>NULL</code></dd>

<dd><a name="1041651"> </a></dd>

<dd><a name="1041653"> </a>RETURNS:</dd>

<dd><a name="1041654"> </a>zero on success; <code>fileErr</code>... on error;</dd>

</dl>


<h4>
  <a name="1041656"> </a>Compatibility 
</h4>

<p><a name="1041660"> </a>Implemented only if <a href="CompatibilityApdx.html#993158">3.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1041661"> </a>See Also 
</h4>

<p><a name="1041674"> </a><a href="FileStreaming.html#1041400"><code>FileClearerr()</code></a>, <a href="FileStreaming.html#1041768"><code>FileEOF()</code></a>, <a href="FileStreaming.html#1041808"><code>FileError()</code></a>, <a href="FileStreaming.html#1041848"><code>FileFlush()</code></a>, <a href="FileStreaming.html#1041874"><code>FileGetLastError()</code></a>, <a href="FileStreaming.html#1042017"><code>FileRewind()</code></a> </p>

<h3 class="hbH3">
  <a name="1041683"> </a>FileDelete Function <a href="#1041307"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1041685"> </a>Purpose 
</h4>

<p><a name="1041686"> </a>Deletes the specified file stream from the specified card. Only a closed stream may be passed to this function. </p>
<h4>
  <a name="1041687"> </a>Declared In 
</h4>
<code>FileStream.h<a name="1041688"> </a></code><h4>
  <a name="1041689"> </a>Prototype 
</h4>
<pre class="proto"><a name="1041690"></a>Err FileDelete (
   UInt16 cardNo,
   const Char *nameP
)
</pre>
<h4>
  <a name="1041691"> </a>Parameters 
</h4>

<dl>
<dt><a name="1041692"> </a><code><code>cardNo</code></code></dt>
<dd><a name="1041693"> </a>Card on which the file stream to delete resides. Currently, no Palm OS<sup>&#174;</sup> devices support multiple cards, so this value must be 0.</dd>

<dt><a name="1041694"> </a><code><code>nameP</code></code></dt>
<dd><a name="1041695"> </a>String that is the name of the stream to delete. </dd>

</dl>
<h4>
  <a name="1041696"> </a>Returns 
</h4>

<p><a name="1041697"> </a>0 if no error, or a <code>fileErr </code>code if an error occurs. See the section <a href="FileStreaming.html#1042214">"File Streaming Error Codes"</a> for more information.</p>
<h4>
  <a name="1041701"> </a>Compatibility 
</h4>

<p><a name="1041705"> </a>Implemented only if <a href="CompatibilityApdx.html#993158">3.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1041706"> </a>See Also 
</h4>

<p><a name="1041710"> </a><a href="FileStreaming.html#1041911"><code>FileOpen()</code></a> </p>

<h3 class="hbH3">
  <a name="1041713"> </a>FileDmRead Macro <a href="#1041307"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1041715"> </a>Purpose 
</h4>

<p><a name="1041716"> </a>Reads data from a file stream into a chunk, record, or resource residing in a database. </p>
<h4>
  <a name="1041717"> </a>Declared In 
</h4>
<code>FileStream.h<a name="1041718"> </a></code><h4>
  <a name="1041719"> </a>Prototype 
</h4>
<pre class="proto"><a name="1041720"></a>#define FileDmRead(
   stream,
   startOfDmChunkP,
   destOffset,
   objSize,
   numObj,
   errP
)
</pre>
<h4>
  <a name="1041721"> </a>Parameters 
</h4>

<dl>
<dt><a name="1041722"> </a><code>&rarr;  <i><code>stream</code> </i></code></dt>
<dd><a name="1041723"> </a>Handle to open stream. </dd>

<dt><a name="1041724"> </a><code>&rarr;  <i><code>startOfDmChunkP</code></i></code></dt>
<dd><a name="1041725"> </a>Pointer to beginning of chunk, record or resource residing in a database. </dd>

<dt><a name="1041726"> </a><code><code>destOffset</code></code></dt>
<dd><a name="1041727"> </a>Offset from <code>startOfDmChunkP</code> (base pointer) to the destination area (must be &gt;= 0). </dd>

<dt><a name="1041728"> </a><code><code>objSize</code></code></dt>
<dd><a name="1041729"> </a>Size of each stream object to read. </dd>

<dt><a name="1041730"> </a><code><code>numObj</code></code></dt>
<dd><a name="1041731"> </a>Number of stream objects to read. </dd>

<dt><a name="1041732"> </a><code>&harr;  <i><code>errP</code></i></code></dt>
<dd><a name="1041733"> </a>Pointer to variable that is to hold the error code returned by this function. Pass <code>NULL</code> to ignore. See the section <a href="FileStreaming.html#1042214">"File Streaming Error Codes"</a> for more information. </dd>

</dl>
<h4>
  <a name="1041737"> </a>Returns 
</h4>

<p><a name="1041738"> </a>The number of whole objects that were read&#8212;note that the number of objects actually read may be less than the number requested.</p>
<h4>
  <a name="1041739"> </a>Comments 
</h4>

<p><a name="1041740"> </a>When the number of objects actually read is less than the number requested, you may be able to determine the cause of this result by examining the return value of the <code>errP</code> parameter or by calling the <a href="FileStreaming.html#1041874"><code>FileGetLastError()</code></a> function. If the cause is insufficient data in the stream to satisfy the full request, the current stream position is at end-of-file and the "end of file" indicator is set. If a non-<code>NULL</code> pointer was passed as the value of the <code>errP</code> parameter when the <code>FileDmRead</code> function was called and an error was encountered, <code>*errP</code> holds a non-zero error code when the function returns. In addition, the <a href="FileStreaming.html#1041808"><code>FileError()</code></a> and <a href="FileStreaming.html#1041768"><code>FileEOF()</code></a> functions may be used to check for I/O errors.</p>
<h4>
  <a name="1041750"> </a>Compatibility 
</h4>

<p><a name="1041754"> </a>Implemented only if <a href="CompatibilityApdx.html#993158">3.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1041755"> </a>See Also 
</h4>

<p><a name="1041765"> </a><a href="FileStreaming.html#1041963"><code>FileRead()</code></a>, <a href="FileStreaming.html#1041808"><code>FileError()</code></a>, <a href="FileStreaming.html#1041768"><code>FileEOF()</code></a></p>

<h3 class="hbH3">
  <a name="1041768"> </a>FileEOF Function <a href="#1041307"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1041770"> </a>Purpose 
</h4>

<p><a name="1041771"> </a>Get end-of-file status (err = <code>fileErrEOF</code> indicates end of file condition).</p>
<h4>
  <a name="1041772"> </a>Declared In 
</h4>
<code>FileStream.h<a name="1041773"> </a></code><h4>
  <a name="1041774"> </a>Prototype 
</h4>
<pre class="proto"><a name="1041775"></a>Err FileEOF (
   FileHand stream
) 
</pre>
<h4>
  <a name="1041776"> </a>Parameters 
</h4>

<dl>
<dt><a name="1041777"> </a><code>&rarr;  <i><code>stream</code> </i></code></dt>
<dd><a name="1041778"> </a>Handle to open stream. </dd>

</dl>
<h4>
  <a name="1041779"> </a>Returns 
</h4>

<p><a name="1041782"> </a>0 if <i>not</i> end of file; non-zero if end of file. See the section <a href="FileStreaming.html#1042214">"File Streaming Error Codes"</a> for more information.</p>
<h4>
  <a name="1041784"> </a>Comments 
</h4>

<p><a name="1041785"> </a>This function's behavior is similar to that of the <code>feof</code> function provided by the C programming language runtime library.</p>

<p><a name="1041789"> </a>Use <a href="FileStreaming.html#1041400"><code>FileClearerr()</code></a> to clear the I/O error status. </p>
<h4>
  <a name="1041790"> </a>Compatibility 
</h4>

<p><a name="1041794"> </a>Implemented only if <a href="CompatibilityApdx.html#993158">3.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1041795"> </a>See Also 
</h4>

<p><a name="1041805"> </a><a href="FileStreaming.html#1041400"><code>FileClearerr()</code></a>, <a href="FileStreaming.html#1041874"><code>FileGetLastError()</code></a>, <a href="FileStreaming.html#1042017"><code>FileRewind()</code></a> </p>

<h3 class="hbH3">
  <a name="1041808"> </a>FileError Function <a href="#1041307"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1041810"> </a>Purpose 
</h4>

<p><a name="1041811"> </a>Get I/O error status.</p>
<h4>
  <a name="1041812"> </a>Declared In 
</h4>
<code>FileStream.h<a name="1041813"> </a></code><h4>
  <a name="1041814"> </a>Prototype 
</h4>
<pre class="proto"><a name="1041815"></a>Err FileError (
   FileHand stream
) 
</pre>
<h4>
  <a name="1041816"> </a>Parameters 
</h4>

<dl>
<dt><a name="1041817"> </a><code>&rarr;  <i><code>stream</code> </i></code></dt>
<dd><a name="1041818"> </a>Handle to open stream. </dd>

</dl>
<h4>
  <a name="1041819"> </a>Returns 
</h4>

<p><a name="1041820"> </a>0 if no error, and non-zero if an I/O error indicator has been set for this stream. See the section <a href="FileStreaming.html#1042214">"File Streaming Error Codes"</a> for more information.</p>
<h4>
  <a name="1041824"> </a>Comments 
</h4>

<p><a name="1041825"> </a>This function's behavior is similar to that of the C programming language's <code>ferror</code> runtime function.</p>

<p><a name="1041829"> </a>Use <a href="FileStreaming.html#1041400"><code>FileClearerr()</code></a> to clear the I/O error status. </p>
<h4>
  <a name="1041830"> </a>Compatibility 
</h4>

<p><a name="1041834"> </a>Implemented only if <a href="CompatibilityApdx.html#993158">3.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1041835"> </a>See Also 
</h4>

<p><a name="1041845"> </a><a href="FileStreaming.html#1041400"><code>FileClearerr()</code></a>, <a href="FileStreaming.html#1041874"><code>FileGetLastError()</code></a>, <a href="FileStreaming.html#1042017"><code>FileRewind()</code></a> </p>

<h3 class="hbH3">
  <a name="1041848"> </a>FileFlush Function <a href="#1041307"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1041850"> </a>Purpose 
</h4>

<p><a name="1041851"> </a>Flush cached data to storage.</p>
<h4>
  <a name="1041852"> </a>Declared In 
</h4>
<code>FileStream.h<a name="1041853"> </a></code><h4>
  <a name="1041854"> </a>Prototype 
</h4>
<pre class="proto"><a name="1041855"></a>Err FileFlush (
   FileHand stream
) 
</pre>
<h4>
  <a name="1041856"> </a>Parameters 
</h4>

<dl>
<dt><a name="1041857"> </a><code>&rarr;  <i><code>stream</code> </i></code></dt>
<dd><a name="1041858"> </a>Handle to open stream. </dd>

</dl>
<h4>
  <a name="1041859"> </a>Returns 
</h4>

<p><a name="1041860"> </a>0 if no error, or a <code>fileErr </code>code if an error occurs. See the section <a href="FileStreaming.html#1042214">"File Streaming Error Codes"</a> for more information.</p>
<h4>
  <a name="1041864"> </a>Comments 
</h4>

<p><a name="1041865"> </a>It is not always necessary to call this function explicitly&#8212;certain operations flush the contents of a stream automatically; for example, streams are flushed when they are closed. Because this function's behavior is similar to that of the <code>fflush</code> function provided by the C programming language runtime library, you only need to call it explicitly under circumstances similar to those in which you would call <code>fflush</code> explicitly. </p>
<h4>
  <a name="1041867"> </a>Compatibility 
</h4>

<p><a name="1041871"> </a>Implemented only if <a href="CompatibilityApdx.html#993158">3.0 New Feature Set</a> is present.</p>

<h3 class="hbH3">
  <a name="1041874"> </a>FileGetLastError Function <a href="#1041307"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1041876"> </a>Purpose 
</h4>

<p><a name="1041877"> </a>Get error code from last operation on file stream, and clear the last error code value (will not change end of file or I/O error status -- use <a href="FileStreaming.html#1041400"><code>FileClearerr()</code></a> to reset all error codes)</p>
<h4>
  <a name="1041881"> </a>Declared In 
</h4>
<code>FileStream.h<a name="1041882"> </a></code><h4>
  <a name="1041883"> </a>Prototype 
</h4>
<pre class="proto"><a name="1041884"></a>Err FileGetLastError (
   FileHand stream
) 
</pre>
<h4>
  <a name="1041885"> </a>Parameters 
</h4>

<dl>
<dt><a name="1041886"> </a><code>&rarr;  <i><code>stream</code> </i></code></dt>
<dd><a name="1041887"> </a>Handle to open stream. </dd>

</dl>
<h4>
  <a name="1041888"> </a>Returns 
</h4>

<p><a name="1041889"> </a>Error code returned by the last file stream operation. See the section <a href="FileStreaming.html#1042214">"File Streaming Error Codes"</a> for more information.</p>
<h4>
  <a name="1041893"> </a>Compatibility 
</h4>

<p><a name="1041897"> </a>Implemented only if <a href="CompatibilityApdx.html#993158">3.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1041898"> </a>See Also 
</h4>

<p><a name="1041908"> </a><a href="FileStreaming.html#1041400"><code>FileClearerr()</code></a>, <a href="FileStreaming.html#1041768"><code>FileEOF()</code></a>, <a href="FileStreaming.html#1041808"><code>FileError()</code></a> </p>

<h3 class="hbH3">
  <a name="1041911"> </a>FileOpen Function <a href="#1041307"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1041913"> </a>Purpose 
</h4>

<p><a name="1041914"> </a>Open existing file stream or create an open file stream for I/O in the mode specified by the <code>openMode</code> parameter. </p>
<h4>
  <a name="1041915"> </a>Declared In 
</h4>
<code>FileStream.h<a name="1041916"> </a></code><h4>
  <a name="1041917"> </a>Prototype 
</h4>
<pre class="proto"><a name="1041918"></a>FileHand FileOpen (
   UInt16 cardNo,
   const Char *nameP,
   UInt32 type,
   UInt32 creator,
   UInt32 openMode,
   Err *errP
)
</pre>
<h4>
  <a name="1041919"> </a>Parameters 
</h4>

<dl>
<dt><a name="1041920"> </a><code><code>cardNo</code></code></dt>
<dd><a name="1041921"> </a>Card on which the file stream to open resides. Currently, no Palm Powered<sup>&#8482;</sup> devices support multiple cards, so this value must be 0.</dd>

<dt><a name="1041922"> </a><code>&rarr;  <i><code>nameP</code></i></code></dt>
<dd><a name="1041923"> </a>Pointer to text string that is the name of the file stream to open or create. This value must be a valid name&#8212;no wildcards allowed, must not be <code>NULL</code>. </dd>

<dt><a name="1041924"> </a><code><code>type</code></code></dt>
<dd><a name="1041925"> </a>File type of stream to open or create. Pass <code>0</code> for wildcard, in which case <code>sysFileTFileStream</code> is used if the stream needs to be created and <code>fileModeTemporary</code> is not specified. If type is <code>0</code> and <code>fileModeTemporary</code> is specified, then <code>sysFileTTemp</code> is used for the file type of the stream this function creates.</dd>

<dt><a name="1041926"> </a><code><code>creator</code></code></dt>
<dd><a name="1041927"> </a>Creator of stream to open or create. Pass <code>0</code> for wildcard, in which case the current application's creator ID is used for the creator of the stream this function creates.</dd>

<dt><a name="1041928"> </a><code><code>openMode</code></code></dt>
<dd><a name="1041929"> </a>Mode in which to open the file stream. You must specify only one primary mode selector. Additionally, you can use the <code>| </code>operator (bitwise inclusive OR) to append one or more secondary mode selectors to the primary mode selector. See <a href="FileStreaming.html#1041332">"Primary Open Mode Constants"</a> and <a href="FileStreaming.html#1041362">"Secondary Open Mode Constants"</a> for the list of possible values. </dd>

<dt><a name="1041936"> </a><code>&harr;  <i><code>errP</code></i></code></dt>
<dd><a name="1041937"> </a>Pointer to variable that is to hold the error code returned by this function. Pass <code>NULL</code> to ignore. See the section <a href="FileStreaming.html#1042214">"File Streaming Error Codes"</a> for a list of error codes. </dd>

</dl>
<h4>
  <a name="1041941"> </a>Returns 
</h4>

<p><a name="1041942"> </a>If successful, returns a handle to an open file stream; otherwise, returns <code>0</code>. </p>

<p><a name="1041946"> </a>In some cases, on some platforms, <a href="FileStreaming.html#1041911"><code>FileOpen()</code></a> returns a non-zero value when it has failed to open a file; thus, it is always a good idea to check the <code>errP</code> parameter value to determine if an error has occurred.</p>
<h4>
  <a name="1041947"> </a>Comments 
</h4>

<p><a name="1041948"> </a>The <code>fileModeReadOnly</code>, <code>fileModeReadWrite</code>, <code>fileModeUpdate</code>, and <code>fileModeAppend</code> modes are mutually exclusive&#8212;pass only one of them to the <code>FileOpen</code> function!</p>

<p><a name="1041949"> </a>When the <code>fileModeTemporary</code> open mode is used and the file type passed to <code>FileOpen</code> is <code>0</code>, the <code>FileOpen</code> function uses <code>sysFileTTemp</code> (defined in <code>SystemMgr.rh)</code> for the file type, as recommended. In future versions of Palm OS, this configuration will enable the automatic cleanup of undeleted temporary files after a system crash. Automatic post-crash cleanup is not implemented in current versions of Palm OS.</p>

<p><a name="1041951"> </a>To open a file stream even if it has a different type and creator than specified, pass the <code>fileModeAnyTypeCreator</code> selector as a flag in the <code>openMode</code> parameter to the <a href="FileStreaming.html#1041911"><code>FileOpen()</code></a> function. </p>

<p><a name="1041955"> </a>The <code>fileModeLeaveOpen</code> mode is an esoteric option that most applications should not use. It may be useful for a library that needs to open a stream from the current application's context and keep it open even after the current application quits. By default, Palm OS automatically closes all databases that were opened in a particular application's context when that application quits. The <code>fileModeLeaveOpen</code> option overrides this default behavior.</p>
<h4>
  <a name="1041956"> </a>Compatibility 
</h4>

<p><a name="1041960"> </a>Implemented only if <a href="CompatibilityApdx.html#993158">3.0 New Feature Set</a> is present.</p>

<h3 class="hbH3">
  <a name="1041963"> </a>FileRead Macro <a href="#1041307"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1041965"> </a>Purpose 
</h4>

<p><a name="1041966"> </a>Reads data from a stream into a buffer. Do not use this macro to read data into a chunk, record or resource residing in a database&#8212;you must use the <a href="FileStreaming.html#1041713"><code>FileDmRead()</code></a> macro for such operations. </p>
<h4>
  <a name="1041970"> </a>Declared In 
</h4>
<code>FileStream.h<a name="1041971"> </a></code><h4>
  <a name="1041972"> </a>Prototype 
</h4>
<pre class="proto"><a name="1041973"></a>#define FileRead(
   stream,
   bufP,
   objSize,
   numObj,
   errP
)
</pre>
<h4>
  <a name="1041974"> </a>Parameters 
</h4>

<dl>
<dt><a name="1041975"> </a><code>&rarr;  <i><code>stream</code> </i></code></dt>
<dd><a name="1041976"> </a>Handle to open stream. </dd>

<dt><a name="1041977"> </a><code>&rarr;  <i><code>bufP</code></i></code></dt>
<dd><a name="1041978"> </a>Pointer to beginning of buffer into which data is read</dd>

<dt><a name="1041979"> </a><code><code>objSize</code></code></dt>
<dd><a name="1041980"> </a>Size of each stream object to read. </dd>

<dt><a name="1041981"> </a><code><code>numObj</code></code></dt>
<dd><a name="1041982"> </a>Number of stream objects to read. </dd>

<dt><a name="1041983"> </a><code>&harr;  <i><code>errP</code></i></code></dt>
<dd><a name="1041984"> </a>Pointer to variable that is to hold the error code returned by this function. Pass <code>NULL</code> to ignore. See the section <a href="FileStreaming.html#1042214">"File Streaming Error Codes"</a> for a list of error codes. </dd>

</dl>
<h4>
  <a name="1041988"> </a>Returns 
</h4>

<p><a name="1041989"> </a>The number of whole objects that were read&#8212;note that the number of objects actually read may be less than the number requested.</p>
<h4>
  <a name="1041990"> </a>Comments 
</h4>

<p><a name="1041991"> </a>Do not use this macro to read data into a chunk, record or resource residing in a database&#8212;you must use the <a href="FileStreaming.html#1041713"><code>FileDmRead()</code></a> macro for such operations. </p>

<p><a name="1041995"> </a>When the number of objects actually read is fewer than the number requested, you may be able to determine the cause of this result by examining the return value of the <code>errP</code> parameter or by calling the <a href="FileStreaming.html#1041874"><code>FileGetLastError()</code></a> function. If the cause is insufficient data in the stream to satisfy the full request, the current stream position is at end-of-file and the "end of file" indicator is set. If a non-<code>NULL</code> pointer was passed as the value of the <code>errP</code> parameter when the <code>FileRead</code> function was called and an error was encountered, <code>*errP</code> holds a non-zero error code when the function returns. In addition, the <a href="FileStreaming.html#1041808"><code>FileError()</code></a> and <a href="FileStreaming.html#1041768"><code>FileEOF()</code></a> functions may be used to check for I/O errors.</p>
<h4>
  <a name="1042005"> </a>Compatibility 
</h4>

<p><a name="1042009"> </a>Implemented only if <a href="CompatibilityApdx.html#993158">3.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1042010"> </a>See Also 
</h4>

<p><a name="1042014"> </a><a href="FileStreaming.html#1041713"><code>FileDmRead()</code></a> </p>

<h3 class="hbH3">
  <a name="1042017"> </a>FileRewind Function <a href="#1041307"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1042019"> </a>Purpose 
</h4>

<p><a name="1042020"> </a>Reset position marker to beginning of stream and clear all error codes.</p>
<h4>
  <a name="1042021"> </a>Declared In 
</h4>
<code>FileStream.h<a name="1042022"> </a></code><h4>
  <a name="1042023"> </a>Prototype 
</h4>
<pre class="proto"><a name="1042024"></a>Err FileRewind (
   FileHand stream
) 
</pre>
<h4>
  <a name="1042025"> </a>Parameters 
</h4>

<dl>
<dt><a name="1042026"> </a><code>&rarr;  <i><code>stream</code> </i></code></dt>
<dd><a name="1042027"> </a>Handle to open stream. </dd>

</dl>
<h4>
  <a name="1042028"> </a>Returns 
</h4>

<p><a name="1042029"> </a>0 if no error, or a <code>fileErr </code>code if an error occurs. See the section <a href="FileStreaming.html#1042214">"File Streaming Error Codes"</a> for more information. </p>
<h4>
  <a name="1042033"> </a>Compatibility 
</h4>

<p><a name="1042037"> </a>Implemented only if <a href="CompatibilityApdx.html#993158">3.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1042038"> </a>See Also 
</h4>

<p><a name="1042051"> </a><a href="FileStreaming.html#1042060"><code>FileSeek()</code></a>, <a href="FileStreaming.html#1042105"><code>FileTell()</code></a>, <a href="FileStreaming.html#1041400"><code>FileClearerr()</code></a>, <a href="FileStreaming.html#1041768"><code>FileEOF()</code></a>, <a href="FileStreaming.html#1041808"><code>FileError()</code></a>, <a href="FileStreaming.html#1041874"><code>FileGetLastError()</code></a> </p>

<h3 class="hbH3">
  <a name="1042060"> </a>FileSeek Function <a href="#1041307"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1042062"> </a>Purpose 
</h4>

<p><a name="1042063"> </a>Set current position within a file stream, extending the stream as necessary if it was opened with write access. </p>
<h4>
  <a name="1042064"> </a>Declared In 
</h4>
<code>FileStream.h<a name="1042065"> </a></code><h4>
  <a name="1042066"> </a>Prototype 
</h4>
<pre class="proto"><a name="1042067"></a>Err FileSeek (
   FileHand stream,
   Int32 offset,
   FileOriginEnum origin
) 
</pre>
<h4>
  <a name="1042068"> </a>Parameters 
</h4>

<dl>
<dt><a name="1042069"> </a><code>&rarr;  <i><code>stream</code> </i></code></dt>
<dd><a name="1042070"> </a>Handle to open stream. </dd>

<dt><a name="1042071"> </a><code><code>offset</code></code></dt>
<dd><a name="1042072"> </a>Position to set, expressed as the number of bytes from origin. This value may be positive, negative, or <code>0</code>.</dd>

<dt><a name="1042073"> </a><code><code>origin</code></code></dt>
<dd><a name="1042075"> </a>Describes the origin of the position change. Possible values are:</dd>

<dl>
<dt><a name="1042076"> </a><code><code>fileOriginBeginning</code> </code></dt>
<dd><a name="1042077"> </a>From the beginning (first data byte of file).</dd>

<dt><a name="1042078"> </a><code><code>fileOriginCurrent</code> </code></dt>
<dd><a name="1042079"> </a>From the current position.</dd>

<dt><a name="1042080"> </a><code><code>fileOriginEnd</code> </code></dt>
<dd><a name="1042081"> </a>From the end of file (one position beyond last data byte).</dd>

</dl>
</dl>
<h4>
  <a name="1042082"> </a>Returns 
</h4>

<p><a name="1042083"> </a>0 if no error, or a <code>fileErr </code>code if an error occurs. See the section <a href="FileStreaming.html#1042214">"File Streaming Error Codes"</a> for more information. </p>
<h4>
  <a name="1042087"> </a>Comments 
</h4>

<p><a name="1042088"> </a>Attempting to seek beyond end-of-file in a read-only stream results in an I/O error. </p>

<p><a name="1042089"> </a>This function's behavior is similar to that of the <code>fseek</code> function provided by the C programming language runtime library.</p>
<h4>
  <a name="1042090"> </a>Compatibility 
</h4>

<p><a name="1042094"> </a>Implemented only if <a href="CompatibilityApdx.html#993158">3.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1042095"> </a>See Also 
</h4>

<p><a name="1042102"> </a><a href="FileStreaming.html#1042017"><code>FileRewind()</code></a>, <a href="FileStreaming.html#1042105"><code>FileTell()</code></a> </p>

<h3 class="hbH3">
  <a name="1042105"> </a>FileTell Function <a href="#1041307"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1042107"> </a>Purpose 
</h4>

<p><a name="1042108"> </a>Retrieves the current position and, optionally, file size, of a stream. </p>
<h4>
  <a name="1042109"> </a>Declared In 
</h4>
<code>FileStream.h<a name="1042110"> </a></code><h4>
  <a name="1042111"> </a>Prototype 
</h4>
<pre class="proto"><a name="1042112"></a>Int32 FileTell (
   FileHand stream,
   Int32 *fileSizeP,
   Err *errP
) 
</pre>
<h4>
  <a name="1042113"> </a>Parameters 
</h4>

<dl>
<dt><a name="1042114"> </a><code>&rarr;  <i><code>stream</code> </i></code></dt>
<dd><a name="1042115"> </a>Handle to open stream. </dd>

<dt><a name="1042116"> </a><code>&harr;  <i><code>fileSizeP</code></i></code></dt>
<dd><a name="1042117"> </a>Pointer to variable that holds value describing size of stream in bytes when this function returns. Pass <code>NULL</code> to ignore. </dd>

<dt><a name="1042118"> </a><code>&harr;  <i><code>errP</code></i></code></dt>
<dd><a name="1042119"> </a>Pointer to variable that is to hold the error code returned by this function. Pass <code>NULL</code> to ignore. See the section <a href="FileStreaming.html#1042214">"File Streaming Error Codes"</a> for a list of possible error codes. </dd>

</dl>
<h4>
  <a name="1042123"> </a>Returns 
</h4>

<p><a name="1042124"> </a>If successful, returns current position, expressed as an offset in bytes from the beginning of the stream. If an error was encountered, returns <code>-1</code> as a signed long integer.</p>
<h4>
  <a name="1042125"> </a>Comments 
</h4>

<p><a name="1042126"> </a>The <code>FileTell</code> function can return the size of the input stream; as such, it provides some of the functionality of the standard C library <code>stat</code> function. Note, however, that unlike the <code>stat</code> function, <code>FileTell</code> requires that the file be open.</p>
<h4>
  <a name="1042128"> </a>Compatibility 
</h4>

<p><a name="1042132"> </a>Implemented only if <a href="CompatibilityApdx.html#993158">3.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1042133"> </a>See Also 
</h4>

<p><a name="1042140"> </a><a href="FileStreaming.html#1042017"><code>FileRewind()</code></a>, <a href="FileStreaming.html#1042060"><code>FileSeek()</code></a> </p>

<h3 class="hbH3">
  <a name="1042143"> </a>FileTruncate Function <a href="#1041307"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1042145"> </a>Purpose 
</h4>

<p><a name="1042146"> </a>Truncate the file stream to a specified size; not allowed on streams open in destructive read mode or read-only mode.</p>
<h4>
  <a name="1042147"> </a>Declared In 
</h4>
<code>FileStream.h<a name="1042148"> </a></code><h4>
  <a name="1042149"> </a>Prototype 
</h4>
<pre class="proto"><a name="1042150"></a>Err FileTruncate (
   FileHand stream,
   Int32 newSize
) 
</pre>
<h4>
  <a name="1042151"> </a>Parameters 
</h4>

<dl>
<dt><a name="1042152"> </a><code>&rarr;  <i><code>stream</code> </i></code></dt>
<dd><a name="1042153"> </a>Handle of open stream. </dd>

<dt><a name="1042154"> </a><code><code>newSize</code></code></dt>
<dd><a name="1042155"> </a>New size; must not exceed current stream size. </dd>

</dl>
<h4>
  <a name="1042156"> </a>Returns 
</h4>

<p><a name="1042157"> </a>0 if no error, or a <code>fileErr </code>code if an error occurs. See the section <a href="FileStreaming.html#1042214">"File Streaming Error Codes"</a> for a list of possible error codes. </p>
<h4>
  <a name="1042161"> </a>Compatibility 
</h4>

<p><a name="1042165"> </a>Implemented only if <a href="CompatibilityApdx.html#993158">3.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1042166"> </a>See Also 
</h4>

<p><a name="1042170"> </a><a href="FileStreaming.html#1042105"><code>FileTell()</code></a> </p>

<h3 class="hbH3">
  <a name="1042173"> </a>FileWrite Function <a href="#1041307"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1042175"> </a>Purpose 
</h4>

<p><a name="1042176"> </a>Write data to a stream. </p>
<h4>
  <a name="1042177"> </a>Declared In 
</h4>
<code>FileStream.h<a name="1042178"> </a></code><h4>
  <a name="1042179"> </a>Prototype 
</h4>
<pre class="proto"><a name="1042180"></a>Int32 FileWrite (
   FileHand stream,
   const void *dataP,
   Int32 objSize,
   Int32 numObj,
   Err *errP
) 
</pre>
<h4>
  <a name="1042181"> </a>Parameters 
</h4>

<dl>
<dt><a name="1042182"> </a><code>&rarr;  <i><code>stream</code></i></code></dt>
<dd><a name="1042183"> </a>Handle to open stream. </dd>

<dt><a name="1042184"> </a><code>&rarr;  <i><code>dataP</code></i></code></dt>
<dd><a name="1042185"> </a>Pointer to buffer holding data to write. </dd>

<dt><a name="1042186"> </a><code><code>objSize</code></code></dt>
<dd><a name="1042187"> </a>Size of each stream object to write; must be  <code>0</code>.</dd>

<dt><a name="1042188"> </a><code><code>numObj</code></code></dt>
<dd><a name="1042189"> </a>Number of stream objects to write. </dd>

<dt><a name="1042190"> </a><code>&harr;  <i><code>errP</code></i></code></dt>
<dd><a name="1042191"> </a>Optional pointer to variable that holds the error code returned by this function. Pass <code>NULL</code> to ignore. See the section <a href="FileStreaming.html#1042214">"File Streaming Error Codes"</a> for a list of possible error codes. </dd>

</dl>
<h4>
  <a name="1042195"> </a>Returns 
</h4>

<p><a name="1042196"> </a>The number of whole objects that were written&#8212;note that the number of objects actually written may be less than the number requested. Should available storage be insufficient to satisfy the entire request, as much of the requested data as possible is written to the stream, which may result in the last object in the stream being incomplete.</p>
<h4>
  <a name="1042197"> </a>Comments 
</h4>

<p><a name="1042198"> </a>Writing to files opened without write access or those that are in destructive read state is not allowed; thus, you cannot call the <a href="FileStreaming.html#1042173"><code>FileWrite()</code></a>, <a href="FileStreaming.html#1042060"><code>FileSeek()</code></a>, or <a href="FileStreaming.html#1042143"><code>FileTruncate()</code></a> functions on a stream that is in destructive read mode. One exception to this rule applies to streams that were opened in "write + append" mode and then switched into destructive read state. In this case, the <code>FileWrite</code> function can append data to the stream, but it also preserves the current stream position so that subsequent reads pick up where they left off (you can think of this as a pseudo-pipe).</p>
<h4>
  <a name="1042208"> </a>Compatibility 
</h4>

<p><a name="1042212"> </a>Implemented only if <a href="CompatibilityApdx.html#993158">3.0 New Feature Set</a> is present.</p>

<h2 class="haH2">
  <a name="1042214"> </a>File Streaming Error Codes <a href="#1041307"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1042215"> </a>This section lists all error codes returned by the file streaming functions. </p>


<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1042218"> </a><b><span style="color: #000000;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">Error Code </span></b></p>
    </th>
    <th><p class="tt"><a name="1042220"> </a><b>Value</b></p>
    </th>
    <th><p class="tt"><a name="1042222"> </a><b>Meaning</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1042224"> </a><code>fileErrMemErr </code></p>
    </td>
    <td><p class="tt"><a name="1042226"> </a>(<code>fileErrorClass</code>|1)</p>
    </td>
    <td><p class="tt"><a name="1042228"> </a>Out of memory error</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1042230"> </a><code>fileErrInvalidParam</code> </p>
    </td>
    <td><p class="tt"><a name="1042232"> </a>(<code>fileErrorClass</code>|2)</p>
    </td>
    <td><p class="tt"><a name="1042234"> </a>Invalid parameter value passed</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1042236"> </a><code>fileErrCorruptFile </code></p>
    </td>
    <td><p class="tt"><a name="1042238"> </a>(<code>fileErrorClass</code>|3)</p>
    </td>
    <td><p class="tt"><a name="1042240"> </a>Alleged stream is corrupted, invalid, or not a stream</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1042242"> </a><code>fileErrNotFound</code> </p>
    </td>
    <td><p class="tt"><a name="1042244"> </a>(<code>fileErrorClass</code>|4)</p>
    </td>
    <td><p class="tt"><a name="1042246"> </a>Couldn't find the stream</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1042248"> </a><code>fileErrTypeCreatorMismatch</code> </p>
    </td>
    <td><p class="tt"><a name="1042250"> </a>(<code>fileErrorClass</code>|5)</p>
    </td>
    <td><p class="tt"><a name="1042252"> </a>Type and/or creator not what was specified</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1042254"> </a><code>fileErrReplaceError</code> </p>
    </td>
    <td><p class="tt"><a name="1042256"> </a>(<code>fileErrorClass</code>|6)</p>
    </td>
    <td><p class="tt"><a name="1042258"> </a>Couldn't replace existing stream</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1042260"> </a><code>fileErrCreateError</code> </p>
    </td>
    <td><p class="tt"><a name="1042262"> </a>(<code>fileErrorClass</code>|7)</p>
    </td>
    <td><p class="tt"><a name="1042264"> </a>Couldn't create new stream</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1042266"> </a><code>fileErrOpenError</code> </p>
    </td>
    <td><p class="tt"><a name="1042268"> </a>(<code>fileErrorClass</code>|8)</p>
    </td>
    <td><p class="tt"><a name="1042270"> </a>Generic open error</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1042272"> </a><code>fileErrInUse</code> </p>
    </td>
    <td><p class="tt"><a name="1042274"> </a>(<code>fileErrorClass</code>|9)</p>
    </td>
    <td><p class="tt"><a name="1042276"> </a>Stream couldn't be opened or deleted because it is in use</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1042278"> </a><code>fileErrReadOnly</code> </p>
    </td>
    <td><p class="tt"><a name="1042280"> </a>(<code>fileErrorClass</code>|10)</p>
    </td>
    <td><p class="tt"><a name="1042282"> </a>Couldn't open in write mode because existing stream is read-only</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1042284"> </a><code>fileErrInvalidDescriptor</code> </p>
    </td>
    <td><p class="tt"><a name="1042286"> </a>(<code>fileErrorClass</code>|11)</p>
    </td>
    <td><p class="tt"><a name="1042288"> </a>Invalid file descriptor <code>(FileHandle)</code></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1042290"> </a><code>fileErrCloseError</code> </p>
    </td>
    <td><p class="tt"><a name="1042292"> </a>(<code>fileErrorClass</code>|12)</p>
    </td>
    <td><p class="tt"><a name="1042294"> </a>Error closing the stream</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1042296"> </a><code>fileErr</code>OutOfBounds </p>
    </td>
    <td><p class="tt"><a name="1042298"> </a>(<code>fileErrorClass</code>|13)</p>
    </td>
    <td><p class="tt"><a name="1042300"> </a>Attempted operation went out of bounds of the stream</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1042302"> </a><code>fileErrPermissionDenied</code> </p>
    </td>
    <td><p class="tt"><a name="1042304"> </a>(<code>fileErrorClass</code>|14)</p>
    </td>
    <td><p class="tt"><a name="1042306"> </a>Couldn't write to a stream open for read-only access</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1042308"> </a><code>fileErrIOError</code> </p>
    </td>
    <td><p class="tt"><a name="1042310"> </a>(<code>fileErrorClass</code>|15)</p>
    </td>
    <td><p class="tt"><a name="1042312"> </a>Generic I/O error</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1042314"> </a><code>fileErrEOF</code> </p>
    </td>
    <td><p class="tt"><a name="1042316"> </a>(<code>fileErrorClass</code>|16)</p>
    </td>
    <td><p class="tt"><a name="1042318"> </a>End-of-File error</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1042320"> </a><code>fileErrNotStream</code> </p>
    </td>
    <td><p class="tt"><a name="1042322"> </a>(<code>fileErrorClass</code>|17)</p>
    </td>
    <td><p class="tt"><a name="1042324"> </a>Attempted to open an entity that is not a stream</p>
    </td>
  </tr>
</table>

</div>


<p><a name="1042326"> </a></p>
&nbsp;<br>
</div>
<!--END CONTENT-->

</td>
<td width="5">&nbsp;&nbsp;</td>
</tr>

</table>

<!-- BEGIN FOOTER -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="7" rowspan="2"><img name="index_x" src="images/shim.gif" width="7" height="33" border="0" alt=""></td>
<td align="left"><img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
<td width="10" rowspan="2"><img name="index_x" src="images/shim.gif" width="10" height="33" border="0" alt=""></td>
</tr>
<tr>
<td align="center">
<p class="footer">
Copyright © 1996-2004, PalmSource, Inc. and its affiliates.  All rights reserved. <br>
<a href="http://www.palmsource.com/contact/">Write Us</a> | <a href="http://www.palmos.com/dev/training/">Training</a> | <a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a> | <a href="Reference_Front.html" target="_blank">Legal</a></p>
<br>
<!--BEGIN BOOK NAVIGATION-->
<p class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="ReferenceTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="FeatureManager.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="FloatManager.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ReferenceIX.html">Index</a>
</p>
</td>
</tr>
</table>
<!-- END FOOTER -->

</body>
</html>