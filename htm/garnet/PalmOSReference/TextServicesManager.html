<html>
<head>
<title>(68K) Text Services Manager | Palm OS&#174; Programmer's  API Reference</title> 
<link href="psi_devpubs.css" rel="stylesheet" type="text/css">

<!-- BEGIN META DATA -->
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META NAME="PSITEMPLATE" CONTENT="1006-007 PalmSource_HTML_2003 20041101">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks AutoMap 2003 for FrameMaker 8.0.6.2138">
<META NAME="LASTUPDATED" CONTENT="11/22/04 10:46:37">
<!-- END META DATA -->
</head>

<body bgcolor="#ffffff" text="#000000" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<a name="1095839"></a>

<!-- BEGIN TOPNAV -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td><img src="images/shim.gif" width="7" height="75" border="0" alt=""></td>
<td align="left"><table border="0" cellpadding="0" cellspacing="0" width="744">
<tr>
<td><img name="index_r2_c1" src="images/shim.gif" width="25" height="75" border="0" alt=""></td>
<td valign="top"><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_r2_c4" src="images/shim.gif" width="96" height="15" border="0" alt=""></td>
</tr>
<tr>
<td><a href="http://www.palmsource.com/"><img name="ps_logo" src="images/ps_logo.gif" width="96" height="54" border="0" alt=""></a></td>
</tr>

</table>
</td>

<td><table border="0" cellpadding="0" cellspacing="0" width="30">
<td><img name="index_x" src="images/shim.gif" width="30" height="75" border="0" alt=""></td>
</table></td>

<!--BEGIN MASTHEAD-->
<td><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
<tr>
<td>
<!--BEGIN BOOK NAVIGATION-->
<span class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="ReferenceTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="TextMgr.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="DateAndTimeManager.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ReferenceIX.html">Index</a>
</span>
<!--END BOOK NAVIGATION-->
</tr>
<tr>
<td>
<!--BEGIN PAGE TITLE-->
<h2 class="PageTitle">56 &nbsp;&nbsp;
Text Services Manager</h2></td>
<!--END PAGE TITLE-->
</tr>
<tr>
<td>
<!--BEGIN BOOK TITLE-->
<p class="BookTitle">Palm OS&#174; Programmer's  API Reference</p>
<p class="SubTitle">Palm OS&#174; 68K SDK </p>
<!--END BOOK TITLE-->
</td>
</tr>
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
</table>
</td>
<!--END MASTHEAD-->
</tr>
</table>
<img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
</tr>
</table>
<!-- END TOPNAV -->

<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" width="5"><img name="index_x" src="images/shim.gif" width="5" height="33" border="0" alt=""></td>

<!--BEGIN SIDETOC-->
<td valign="top" width="175">
<div id="sidetoc" valign="bottom">
<h1 class="SideTOC1-PartTab"><a href="PartII.html">Part II: System Management</a> </h1>
<h1 class="SideTOC1"><a href="TextServicesManager.html">56  Text Services Manager</a></h1>

   <h2 class="SideTOC2"><a href="#1095852">
   Text Services Manager Data Structures</a></h2>

      <h3 class="SideTOC3"><a href="#1095854">
      TsmFepModeType</a></h3>

   <h2 class="SideTOC2"><a href="#1095895">
   Text Services Manager Functions</a></h2>

      <h3 class="SideTOC3"><a href="#1095898">
      TsmGetFepMode</a></h3>

      <h3 class="SideTOC3"><a href="#1095928">
      TsmSetFepMode</a></h3>

</div>
</td>

<td width="5">&nbsp;&nbsp;</td>
<td width="2" background="images/index_r8_c10.gif"><img src="images/shim.gif" width="2" height="75" border="0" alt=""></td>
<td width="5">&nbsp;&nbsp;</td>

<!--END SIDETOC-->

<td valign="top">

<!--BEGIN CONTENT-->
<div id="content" valign="bottom">
<p><a name="1095842"> </a>This chapter provides information about the Text Services Manager API as declared in <code>TextServicesMgr.h</code>. The Text Services Manager provides the caller with an API for interacting with various text services, including front-end processors (FEPs), which are sometimes known as input methods. This chapter discusses the following topics:</p>
<ul type="disc">
  <li><a name="1095846"> </a><a href="TextServicesManager.html#1095852">Text Services Manager Data Structures</a>
  <li><a name="1095850"> </a><a href="TextServicesManager.html#1095895">Text Services Manager Functions</a>
</ul>

<h2 class="haH2">
  <a name="1095852"> </a>Text Services Manager Data Structures <a href="#1095839"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="1095854"> </a>TsmFepModeType Typedef <a href="#1095839"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1095856"> </a>Purpose 
</h4>

<p><a name="1095857"> </a>The <code>TsmFepModeType</code> type specifies the input modes used by the functions <a href="TextServicesManager.html#1095898"><code>TsmGetFepMode()</code></a> and <a href="TextServicesManager.html#1095928"><code>TsmSetFepMode()</code></a>.</p>
<h4>
  <a name="1095864"> </a>Prototype 
</h4>
<pre class="proto"><a name="1095865"></a>typedef UInt16 TsmFepModeType;
</pre>
<h4>
  <a name="1095866"> </a>Comments 
</h4>

<p><a name="1095867"> </a><code>TsmFepModeType</code> can be set to one of the defined modes listed in the following table.</p>


<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1095870"> </a><b><span style="color: #000000;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">Constant</span></b></p>
    </th>
    <th><p class="tt"><a name="1095872"> </a><b>Value</b></p>
    </th>
    <th><p class="tt"><a name="1095874"> </a><b>Description</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1095876"> </a><code>tsmFepModeDefault</code></p>
    </td>
    <td><p class="tt"><a name="1095878"> </a>0</p>
    </td>
    <td><p class="tt"><a name="1095880"> </a>The default input mode for the FEP. For example, with the Japanese FEP, the default mode is Hiragana.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1095882"> </a><code>tsmFepModeOff</code></p>
    </td>
    <td><p class="tt"><a name="1095884"> </a>1</p>
    </td>
    <td><p class="tt"><a name="1095886"> </a>Indicates that there is no active FEP input mode (the FEP is off).</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1095888"> </a><code>tsmFepModeCustom</code></p>
    </td>
    <td><p class="tt"><a name="1095890"> </a>128</p>
    </td>
    <td><p class="tt"><a name="1095892"> </a>A custom FEP input mode. You can have more than one custom mode; the starting value is 128. Katagana is an example of a custom input mode for the Japanese FEP. </p>
    </td>
  </tr>
</table>

</div>


<h2 class="haH2">
  <a name="1095895"> </a>Text Services Manager Functions <a href="#1095839"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="1095898"> </a>TsmGetFepMode Function <a href="#1095839"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1095900"> </a>Purpose 
</h4>

<p><a name="1095901"> </a>Return the current input mode for the active front-end processor (FEP).</p>
<h4>
  <a name="1095902"> </a>Declared In 
</h4>
<code>TextServicesMgr.h<a name="1095903"> </a></code><h4>
  <a name="1095904"> </a>Prototype 
</h4>
<pre class="proto"><a name="1095905"></a>TsmFepModeType TsmGetFepMode (
   void *nullParam
)
</pre>
<h4>
  <a name="1095906"> </a>Parameters 
</h4>

<dl>
<dt><a name="1095907"> </a><code>&rarr;  <i><code>nullParam</code></i></code></dt>
<dd><a name="1095908"> </a>An unused status pointer that must be set to <code>NULL</code>.</dd>

</dl>
<h4>
  <a name="1095909"> </a>Returns 
</h4>

<p><a name="1095910"> </a>If there is an active FEP, returns the current mode for the active FEP. If there is no active FEP, returns <code>tsmFepModeOff</code>.</p>
<h4>
  <a name="1095911"> </a>Comments 
</h4>

<p><a name="1095912"> </a>The most common use for this function is to save the current FEP mode. You could then call <a href="TextServicesManager.html#1095928"><code>TsmSetFepMode()</code></a> to set the current mode to "off" and again to restore the saved mode once the application has finished using a special text field.</p>
<h4>
  <a name="1095916"> </a>Compatibility 
</h4>

<p><a name="1095920"> </a>Implemented only if <a href="CompatibilityApdx.html#994671">3.5 New Feature Set</a> is present. In Palm OS 3.5, the <code>nullParam</code> parameter takes a non-<code>NULL</code> value, allowing the caller to maintain its own status record. In Palm OS 4.0, this parameter is unused and must be set to <code>NULL</code>. Any other value generates a non-fatal alert.</p>
<h4>
  <a name="1095921"> </a>See Also 
</h4>

<p><a name="1095925"> </a><a href="TextServicesManager.html#1095928"><code>TsmSetFepMode()</code></a></p>

<h3 class="hbH3">
  <a name="1095928"> </a>TsmSetFepMode Function <a href="#1095839"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1095930"> </a>Purpose 
</h4>

<p><a name="1095931"> </a>Set the input mode for the active front-end processor (FEP) to be the mode defined by the parameter <code>inNewMode</code>.</p>
<h4>
  <a name="1095932"> </a>Declared In 
</h4>
<code>TextServicesMgr.h<a name="1095933"> </a></code><h4>
  <a name="1095934"> </a>Prototype 
</h4>
<pre class="proto"><a name="1095935"></a>TsmFepModeType TsmSetFepMode (
   void *nullParam,
   TsmFepModeType inNewMode
)
</pre>
<h4>
  <a name="1095936"> </a>Parameters 
</h4>

<dl>
<dt><a name="1095937"> </a><code>&rarr;  <i><code>nullParam</code></i></code></dt>
<dd><a name="1095938"> </a>An unused status pointer that must be set to <code>NULL</code>.</dd>

<dt><a name="1095939"> </a><code>&rarr;  <i><code>inNewMode</code></i></code></dt>
<dd><a name="1095940"> </a>The new FEP input mode.</dd>

</dl>
<h4>
  <a name="1095941"> </a>Returns 
</h4>

<p><a name="1095942"> </a>Returns the previous input mode. If there is no active FEP, returns <code>tsmFepModeOff</code>.</p>
<h4>
  <a name="1095943"> </a>Comments 
</h4>

<p><a name="1095944"> </a>The most common use for this function is to set the FEP mode to "off" while the application is using a special text field, and then to restore the previous mode. See <a href="TextServicesManager.html#1095898"><code>TsmGetFepMode()</code></a> for more information on saving and restoring the FEP mode. </p>

<p><a name="1095948"> </a>One common reason for explicitly disabling the FEP in code is when a text field will only contain 7-bit ASCII (numeric fields automatically turn off the FEP). For example, if the application has a password field and the contents of that field will always be 7-bit ASCII, the application should turn off the FEP to help prevent the user from entering invalid characters into the field. </p>

<p><a name="1095949"> </a>Another common case occurs when the application has a numeric field, but cannot just rely on the numeric field attribute. For example, if you want the user to be able to enter the minus ("-") sign, you cannot use a numeric field because the field code prevents the user from entering this character: its not a digit or a period. In this case, you should make it a regular field and have the application screen the characters. The application should disable the FEP when such a pseudo-numeric field is active.</p>

<div><hr>
  <a name="1095950"> </a> <b>IMPORTANT: </b> A mode change is currently enqueued as a keyDown event so that the field and FEP can remain properly synchronized and so that the mode change doesn't affect any pending keyDown events. The mode change does not happen until the enqueued keyDown event is passed to <code>FrmHandleEvent</code>; if you call <a href="TextServicesManager.html#1095898"><code>TsmGetFepMode()</code></a> immediately after calling <a href="TextServicesManager.html#1095928"><code>TsmSetFepMode()</code></a>, you won't see a mode change.<br><br>There are also some current limitations with changing the mode: there must be an active form; and if there is an active field in the form, it must not be a numeric field.
<hr>
</div>
<h4>
  <a name="1095957"> </a>Compatibility 
</h4>

<p><a name="1095961"> </a>Implemented only if <a href="CompatibilityApdx.html#994671">3.5 New Feature Set</a> is present. In Palm OS 3.5, the <code>nullParam</code> parameter takes a non-<code>NULL</code> value, allowing the caller to maintain its own status record. In Palm OS 4.0, this parameter is unused and must be set to <code>NULL</code>. Any other value generates a non-fatal alert.</p>
<h4>
  <a name="1095962"> </a>See Also 
</h4>

<p><a name="1095972"> </a><a href="TextServicesManager.html#1095898"><code>TsmGetFepMode()</code></a>, <a href="SystemEventManager.html#1070953"><code>EvtEnqueueKey()</code></a>, <a href="Form.html#998041"><code>FrmHandleEvent()</code></a></p>

<p><a name="1095973"> </a></p>
&nbsp;<br>
</div>
<!--END CONTENT-->

</td>
<td width="5">&nbsp;&nbsp;</td>
</tr>

</table>

<!-- BEGIN FOOTER -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="7" rowspan="2"><img name="index_x" src="images/shim.gif" width="7" height="33" border="0" alt=""></td>
<td align="left"><img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
<td width="10" rowspan="2"><img name="index_x" src="images/shim.gif" width="10" height="33" border="0" alt=""></td>
</tr>
<tr>
<td align="center">
<p class="footer">
Copyright © 1996-2004, PalmSource, Inc. and its affiliates.  All rights reserved. <br>
<a href="http://www.palmsource.com/contact/">Write Us</a> | <a href="http://www.palmos.com/dev/training/">Training</a> | <a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a> | <a href="Reference_Front.html" target="_blank">Legal</a></p>
<br>
<!--BEGIN BOOK NAVIGATION-->
<p class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="ReferenceTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="TextMgr.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="DateAndTimeManager.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ReferenceIX.html">Index</a>
</p>
</td>
</tr>
</table>
<!-- END FOOTER -->

</body>
</html>