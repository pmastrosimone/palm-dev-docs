<html>
<head>
<title>(68K) System Manager | Palm OS&#174; Programmer's  API Reference</title> 
<link href="psi_devpubs.css" rel="stylesheet" type="text/css">

<!-- BEGIN META DATA -->
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META NAME="PSITEMPLATE" CONTENT="1006-007 PalmSource_HTML_2003 20041101">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks AutoMap 2003 for FrameMaker 8.0.6.2138">
<META NAME="LASTUPDATED" CONTENT="11/22/04 10:46:34">
<!-- END META DATA -->
</head>

<body bgcolor="#ffffff" text="#000000" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<a name="1075863"></a>

<!-- BEGIN TOPNAV -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td><img src="images/shim.gif" width="7" height="75" border="0" alt=""></td>
<td align="left"><table border="0" cellpadding="0" cellspacing="0" width="744">
<tr>
<td><img name="index_r2_c1" src="images/shim.gif" width="25" height="75" border="0" alt=""></td>
<td valign="top"><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_r2_c4" src="images/shim.gif" width="96" height="15" border="0" alt=""></td>
</tr>
<tr>
<td><a href="http://www.palmsource.com/"><img name="ps_logo" src="images/ps_logo.gif" width="96" height="54" border="0" alt=""></a></td>
</tr>

</table>
</td>

<td><table border="0" cellpadding="0" cellspacing="0" width="30">
<td><img name="index_x" src="images/shim.gif" width="30" height="75" border="0" alt=""></td>
</table></td>

<!--BEGIN MASTHEAD-->
<td><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
<tr>
<td>
<!--BEGIN BOOK NAVIGATION-->
<span class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="ReferenceTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="SystemEventManager.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="TextMgr.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ReferenceIX.html">Index</a>
</span>
<!--END BOOK NAVIGATION-->
</tr>
<tr>
<td>
<!--BEGIN PAGE TITLE-->
<h2 class="PageTitle">54 &nbsp;&nbsp;
System Manager</h2></td>
<!--END PAGE TITLE-->
</tr>
<tr>
<td>
<!--BEGIN BOOK TITLE-->
<p class="BookTitle">Palm OS&#174; Programmer's  API Reference</p>
<p class="SubTitle">Palm OS&#174; 68K SDK </p>
<!--END BOOK TITLE-->
</td>
</tr>
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
</table>
</td>
<!--END MASTHEAD-->
</tr>
</table>
<img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
</tr>
</table>
<!-- END TOPNAV -->

<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" width="5"><img name="index_x" src="images/shim.gif" width="5" height="33" border="0" alt=""></td>

<!--BEGIN SIDETOC-->
<td valign="top" width="175">
<div id="sidetoc" valign="bottom">
<h1 class="SideTOC1-PartTab"><a href="PartII.html">Part II: System Management</a> </h1>
<h1 class="SideTOC1"><a href="SystemManager.html">54  System Manager</a></h1>

   <h2 class="SideTOC2"><a href="#1075877">
   System Manager Data Structures</a></h2>

      <h3 class="SideTOC3"><a href="#1075880">
      SysDBListItemType</a></h3>

   <h2 class="SideTOC2"><a href="#1075902">
   System Functions</a></h2>

      <h3 class="SideTOC3"><a href="#1075905">
      SysAppLaunch</a></h3>

      <h3 class="SideTOC3"><a href="#1075965">
      SysBatteryInfo</a></h3>

      <h3 class="SideTOC3"><a href="#1076013">
      SysBatteryInfoV20</a></h3>

      <h3 class="SideTOC3"><a href="#1076059">
      SysBinarySearch</a></h3>

      <h3 class="SideTOC3"><a href="#1076111">
      SysBroadcastActionCode</a></h3>

      <h3 class="SideTOC3"><a href="#1076144">
      SysCopyStringResource</a></h3>

      <h3 class="SideTOC3"><a href="#1076162">
      SysCreateDataBaseList</a></h3>

      <h3 class="SideTOC3"><a href="#1076226">
      SysCreatePanelList</a></h3>

      <h3 class="SideTOC3"><a href="#1076261">
      SysCurAppDatabase</a></h3>

      <h3 class="SideTOC3"><a href="#1076288">
      SysErrString</a></h3>

      <h3 class="SideTOC3"><a href="#1076316">
      SysFormPointerArrayToStrings</a></h3>

      <h3 class="SideTOC3"><a href="#1076339">
      sysFtrNumProcessorIs68K</a></h3>

      <h3 class="SideTOC3"><a href="#1076370">
      sysFtrNumProcessorIsARM</a></h3>

      <h3 class="SideTOC3"><a href="#1076402">
      SysGetOSVersionString</a></h3>

      <h3 class="SideTOC3"><a href="#1076426">
      SysGetROMToken</a></h3>

      <h3 class="SideTOC3"><a href="#1076464">
      SysGetStackInfo</a></h3>

      <h3 class="SideTOC3"><a href="#1076486">
      SysGetTrapAddress</a></h3>

      <h3 class="SideTOC3"><a href="#1076513">
      SysGremlins</a></h3>

      <h3 class="SideTOC3"><a href="#1076542">
      SysHandleEvent</a></h3>

      <h3 class="SideTOC3"><a href="#1076571">
      SysInsertionSort</a></h3>

      <h3 class="SideTOC3"><a href="#1076616">
      SysKeyboardDialog</a></h3>

      <h3 class="SideTOC3"><a href="#1076645">
      SysKeyboardDialogV10</a></h3>

      <h3 class="SideTOC3"><a href="#1076670">
      SysLibFind</a></h3>

      <h3 class="SideTOC3"><a href="#1076694">
      SysLibInstall</a></h3>

      <h3 class="SideTOC3"><a href="#1076720">
      SysLibLoad</a></h3>

      <h3 class="SideTOC3"><a href="#1076754">
      SysLibRemove</a></h3>

      <h3 class="SideTOC3"><a href="#1076775">
      SysQSort</a></h3>

      <h3 class="SideTOC3"><a href="#1076823">
      SysRandom</a></h3>

      <h3 class="SideTOC3"><a href="#1076840">
      SysReset</a></h3>

      <h3 class="SideTOC3"><a href="#1076860">
      SysSetAutoOffTime</a></h3>

      <h3 class="SideTOC3"><a href="#1076876">
      SysSetTrapAddress</a></h3>

      <h3 class="SideTOC3"><a href="#1076907">
      SysStringByIndex</a></h3>

      <h3 class="SideTOC3"><a href="#1076935">
      SysTaskDelay</a></h3>

      <h3 class="SideTOC3"><a href="#1076960">
      SysTicksPerSecond</a></h3>

      <h3 class="SideTOC3"><a href="#1076980">
      SysUIAppSwitch</a></h3>

   <h2 class="SideTOC2"><a href="#1077027">
   Application-Defined Functions</a></h2>

      <h3 class="SideTOC3"><a href="#1077030">
      PilotMain</a></h3>

</div>
</td>

<td width="5">&nbsp;&nbsp;</td>
<td width="2" background="images/index_r8_c10.gif"><img src="images/shim.gif" width="2" height="75" border="0" alt=""></td>
<td width="5">&nbsp;&nbsp;</td>

<!--END SIDETOC-->

<td valign="top">

<!--BEGIN CONTENT-->
<div id="content" valign="bottom">
<p><a name="1075864"> </a>This chapter provides reference material for the System Manager. The System Manager API is declared in the header files <code>SystemMgr.h</code> and <code>SysUtils.h</code>. </p>

<p><a name="1075867"> </a>For more information on the System Manager, see the chapters <a href="../PalmOSCompanion/AppStartupAndStop.html#997517">"Application Startup and Stop"</a> and <a href="../PalmOSCompanion/SystemFeatures.html#1045397">"Palm System Support"</a> in the <i>Palm OS Programmer's Companion</i>, vol. I. </p>

<h2 class="haH2">
  <a name="1075877"> </a>System Manager Data Structures <a href="#1075863"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="1075880"> </a>SysDBListItemType Struct <a href="#1075863"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1075882"> </a>Purpose 
</h4>

<p><a name="1075884"> </a>The <code>SysDBListItemType</code> structure describes a single database or panel. The <a href="SystemManager.html#1076162"><code>SysCreateDataBaseList()</code></a> and <a href="SystemManager.html#1076226"><code>SysCreatePanelList()</code></a> functions each create and return an array of <code>SysDBListItemType</code> structures. </p>
<h4>
  <a name="1075891"> </a>Prototype 
</h4>
<pre class="proto"><a name="1075892"></a>typedef struct {
  Char name[dmDBNameLength];
  UInt32 creator;
  UInt32 type;
  UInt16 version;
  LocalID dbID;
  UInt16 cardNo;
  BitmapPtr iconP;
} SysDBListItemType;
</pre>

<h2 class="haH2">
  <a name="1075902"> </a>System Functions <a href="#1075863"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="1075905"> </a>SysAppLaunch Function <a href="#1075863"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1075907"> </a>Purpose 
</h4>

<p><a name="1075908"> </a>Launch a specified application as a subroutine of the caller.</p>
<h4>
  <a name="1075909"> </a>Declared In 
</h4>
<code>SystemMgr.h<a name="1075910"> </a></code><h4>
  <a name="1075911"> </a>Prototype 
</h4>
<pre class="proto"><a name="1075913"></a>Err SysAppLaunch (
   UInt16 cardNo,
   LocalID dbID,
   UInt16 launchFlags,
   UInt16 cmd,
   MemPtr cmdPBP,
   UInt32 *resultP
)
</pre>
<h4>
  <a name="1075914"> </a>Parameters 
</h4>

<dl>
<dt><a name="1075915"> </a><code>&rarr;  <i><code>cardNo</code>, <code>dbID</code></i></code></dt>
<dd><a name="1075916"> </a>The card number and ID of the resource database of the application to launch. </dd>

<dt><a name="1075917"> </a><code>&rarr;  <i><code>launchFlags</code></i></code></dt>
<dd><a name="1075918"> </a>Set to 0.</dd>

<dt><a name="1075919"> </a><code>&rarr;  <i><code>cmd</code></i></code></dt>
<dd><a name="1075920"> </a>Launch code.</dd>

<dt><a name="1075921"> </a><code>&rarr;  <i><code>cmdPBP</code></i></code></dt>
<dd><a name="1075922"> </a>Launch code parameter block.</dd>

<dt><a name="1075923"> </a><code>&larr;  <i><code>resultP</code></i></code></dt>
<dd><a name="1075927"> </a>The value returned from the application's <a href="SystemManager.html#1077030"><code>PilotMain()</code></a> routine.</dd>

</dl>
<h4>
  <a name="1075928"> </a>Returns 
</h4>

<p><a name="1075931"> </a>Returns 0 if no error, or one of <code>sysErrParamErr</code>, <code>memErrNotEnoughSpace</code>, or <code>sysErrOutOfOwnerIDs</code>.</p>
<h4>
  <a name="1075933"> </a>Comments 
</h4>

<p><a name="1075934"> </a>Applications can use <code>SysAppLaunch</code> to send a specific launch code to another application and have control return to the calling application when finished. This function in effect makes the specified application a subroutine of the caller. If you want to actually close your application and call another application, use <a href="SystemManager.html#1076980"><code>SysUIAppSwitch()</code></a> instead of this function. <code>SysUIAppSwitch</code> sends the current application an <code>appStopEvent</code> and then starts the specified application. </p>

<p><a name="1075938"> </a>Do not use this function to open the system-supplied Application Launcher application. If another application has replaced the default launcher with one of its own, this function will open the custom launcher instead of the system-supplied one. To open the system-supplied launcher reliably, enqueue a <code>keyDownEvent</code> that contains a <code>launchChr</code>, as shown in the section <a href="../PalmOSCompanion/UserInterface.html#1011190">"Application Launcher"</a> of the user interface chapter in the <i>Palm OS Programmer's Companion</i>, vol. I.</p>

<div><hr>
  <a name="1075945"> </a> <b>NOTE: </b> For important information regarding the correct use of this function, see the <a href="../PalmOSCompanion/AppStartupAndStop.html#997517">"Application Startup and Stop"</a> chapter in the <i>Palm OS Programmer's Companion</i>, vol. I.
<hr>
</div>
<h4>
  <a name="1075952"> </a>See Also 
</h4>

<p><a name="1075959"> </a><a href="SystemManager.html#1076111"><code>SysBroadcastActionCode()</code></a>, <a href="SystemManager.html#1076980"><code>SysUIAppSwitch()</code></a>, <a href="SystemManager.html#1076261"><code>SysCurAppDatabase()</code></a> </p>

<h3 class="hbH3">
  <a name="1075965"> </a>SysBatteryInfo Function <a href="#1075863"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1075967"> </a>Purpose 
</h4>

<p><a name="1075968"> </a>Retrieve settings for the batteries. Set <code>set</code> to <code>false</code> to retrieve battery settings. (Applications should <i>not</i> change any of the settings).</p>

<div><hr>
  <a name="1075969"> </a> <span class="warning">WARNING! </span> Use this function only to <i>retrieve</i> settings!
<hr>
</div>
<h4>
  <a name="1075970"> </a>Declared In 
</h4>
<code>SystemMgr.h<a name="1075971"> </a></code><h4>
  <a name="1075972"> </a>Prototype 
</h4>
<pre class="proto"><a name="1075973"></a>UInt16 SysBatteryInfo (
   Boolean set,
   UInt16 *warnThresholdP,
   UInt16 *criticalThresholdP,
   Int16 *maxTicksP,
   SysBatteryKind *kindP,
   Boolean *pluggedIn,
   UInt8 *percentP
)
</pre>
<h4>
  <a name="1075974"> </a>Parameters 
</h4>

<dl>
<dt><a name="1075975"> </a><code><code>set</code></code></dt>
<dd><a name="1075976"> </a>If <code>false</code>, parameters with non-<code>NULL</code> pointers are retrieved. Never set this parameter to <code>true</code>.</dd>

<dt><a name="1075977"> </a><code><code>warnThresholdP</code></code></dt>
<dd><a name="1075980"> </a>Pointer to battery voltage warning threshold in volts*100, or <code>NULL</code>.</dd>

<dt><a name="1075981"> </a><code><code>criticalThresholdP</code></code></dt>
<dd><a name="1075982"> </a>Pointer to the battery voltage critical threshold in volts*100, or <code>NULL</code>.</dd>

<dt><a name="1075983"> </a><code><code>maxTicksP</code></code></dt>
<dd><a name="1075985"> </a>Pointer to the battery timeout, or <code>NULL</code>.</dd>

<dt><a name="1075986"> </a><code><code>kindP</code></code></dt>
<dd><a name="1075987"> </a>Pointer to the battery kind, or <code>NULL</code>.</dd>

<dt><a name="1075988"> </a><code><code>pluggedIn</code></code></dt>
<dd><a name="1075989"> </a>Pointer to <code>pluggedIn</code> return value, or <code>NULL</code>.</dd>

<dt><a name="1075990"> </a><code><code>percentP</code></code></dt>
<dd><a name="1075991"> </a>Percentage of power remaining in the battery. </dd>

</dl>
<h4>
  <a name="1075992"> </a>Returns 
</h4>

<p><a name="1075993"> </a>Returns the current battery voltage in volts*100.</p>
<h4>
  <a name="1075994"> </a>Comments 
</h4>

<p><a name="1075995"> </a>Call this function to make sure an upcoming activity won't be interrupted by a low battery warning.</p>

<p><a name="1075996"> </a><code>warnThresholdP</code> and <code>maxTicksP</code> are the battery-warning voltage threshold and time out. If the battery voltage falls below the threshold, or the timeout expires, a <code>lowBatteryChr</code> key event is put on the queue. Normally, applications call <a href="SystemManager.html#1076542"><code>SysHandleEvent()</code></a> which calls <code>SysBatteryDialog</code> in response to this event. </p>

<p><a name="1076000"> </a><code>criticalThresholdP</code> is the battery voltage threshold. If battery voltage falls below this level, the system turns itself off without warning and doesn't turn on until battery voltage is above it again. </p>
<h4>
  <a name="1076001"> </a>Compatibility 
</h4>

<p><a name="1076002"> </a>This function was revised for Palm OS<sup>&#174;</sup> 3.0. In Palm OS 3.0, the <code>percentP</code> parameter was added. This enhancement is implemented only if <a href="CompatibilityApdx.html#993158">3.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1076006"> </a>See Also 
</h4>

<p><a name="1076010"> </a><a href="SystemManager.html#1076013"><code>SysBatteryInfoV20()</code></a><code> </code></p>

<h3 class="hbH3">
  <a name="1076013"> </a>SysBatteryInfoV20 Function <a href="#1075863"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1076015"> </a>Purpose 
</h4>

<p><a name="1076016"> </a>Retrieve settings for the batteries. Set to <code>false</code> to retrieve battery settings. (Applications should <i>not</i> change any of the settings).</p>

<div><hr>
  <a name="1076017"> </a> <span class="warning">WARNING! </span> Use this function only to <i>retrieve</i> settings!
<hr>
</div>
<h4>
  <a name="1076018"> </a>Declared In 
</h4>
<code>SystemMgr.h<a name="1076019"> </a></code><h4>
  <a name="1076020"> </a>Prototype 
</h4>
<pre class="proto"><a name="1076021"></a>UInt16 SysBatteryInfoV20 (
   Boolean set,
   UInt16 *warnThresholdP,
   UInt16 *criticalThresholdP,
   Int16 *maxTicksP,
   SysBatteryKind *kindP,
   Boolean *pluggedIn
)
</pre>
<h4>
  <a name="1076022"> </a>Parameters 
</h4>

<dl>
<dt><a name="1076023"> </a><code><code>set</code></code></dt>
<dd><a name="1076024"> </a>If <code>false</code>, parameters with non-<code>NULL</code> pointers are retrieved. Never set this parameter to <code>true</code>.</dd>

<dt><a name="1076025"> </a><code><code>warnThresholdP</code></code></dt>
<dd><a name="1076028"> </a>Pointer to battery voltage warning threshold in volts*100, or <code>NULL</code>.</dd>

<dt><a name="1076029"> </a><code><code>criticalThresholdP</code></code></dt>
<dd><a name="1076030"> </a>Pointer to the battery voltage critical threshold in volts*100, or <code>NULL</code>.</dd>

<dt><a name="1076031"> </a><code><code>maxTicksP</code></code></dt>
<dd><a name="1076033"> </a>Pointer to the battery timeout, or <code>NULL</code>.</dd>

<dt><a name="1076034"> </a><code><code>kindP</code></code></dt>
<dd><a name="1076035"> </a>Pointer to the battery kind, or <code>NULL</code>.</dd>

<dt><a name="1076036"> </a><code><code>pluggedIn</code></code></dt>
<dd><a name="1076037"> </a>Pointer to <code>pluggedIn</code> return value, or <code>NULL</code>.</dd>

</dl>
<h4>
  <a name="1076038"> </a>Returns 
</h4>

<p><a name="1076039"> </a>Returns the current battery voltage in volts*100.</p>
<h4>
  <a name="1076040"> </a>Comments 
</h4>

<p><a name="1076041"> </a>Call this function to make sure an upcoming activity won't be interrupted by a low battery warning.</p>

<p><a name="1076042"> </a><code>warnThresholdP</code> and <code>maxTicksP</code> are the battery-warning voltage threshold and time out. If the battery voltage falls below the threshold, or the timeout expires, a <code>lowBatteryChr</code> key event is put on the queue. Normally, applications call <a href="SystemManager.html#1076542"><code>SysHandleEvent()</code></a> which calls <code>SysBatteryDialog</code> in response to this event. </p>

<p><a name="1076046"> </a><code>criticalThresholdP</code> is the battery voltage threshold. If battery voltage falls below this level, the system turns itself off without warning and doesn't turn on until battery voltage is above it again. </p>
<h4>
  <a name="1076047"> </a>Compatibility 
</h4>

<p><a name="1076048"> </a>This function corresponds to the Palm OS 2.0 version of <code>SysBatteryInfo</code>. Implemented only if <a href="CompatibilityApdx.html#993158">3.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1076052"> </a>See Also 
</h4>

<p><a name="1076056"> </a><a href="SystemManager.html#1075965"><code>SysBatteryInfo()</code></a><code> </code></p>

<h3 class="hbH3">
  <a name="1076059"> </a>SysBinarySearch Function <a href="#1075863"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1076061"> </a>Purpose 
</h4>

<p><a name="1076062"> </a>Search elements in a sorted array for the specified data according to the specified comparison function. </p>
<h4>
  <a name="1076063"> </a>Declared In 
</h4>
<code>SysUtils.h<a name="1076064"> </a></code><h4>
  <a name="1076065"> </a>Prototype 
</h4>
<pre class="proto"><a name="1076066"></a>Boolean SysBinarySearch (
   void const *baseP,
   UInt16 numOfElements,
   Int16 width,
   SearchFuncPtr searchF,
   void const *searchData,
   Int32 other,
   Int32 *position,
   Boolean findFirst
)
</pre>
<h4>
  <a name="1076067"> </a>Parameters 
</h4>

<dl>
<dt><a name="1076068"> </a><code><code>baseP</code></code></dt>
<dd><a name="1076069"> </a>Base pointer to an array of elements</dd>

<dt><a name="1076070"> </a><code><code>numOfElements</code></code></dt>
<dd><a name="1076071"> </a>Number of elements to search. Must be greater than 0.</dd>

<dt><a name="1076072"> </a><code><code>width</code></code></dt>
<dd><a name="1076073"> </a>Width of each array element.</dd>

<dt><a name="1076074"> </a><code><code>searchF</code></code></dt>
<dd><a name="1076075"> </a>Search function. </dd>

<dt><a name="1076076"> </a><code><code>searchData</code></code></dt>
<dd><a name="1076077"> </a>Data to search for. This data is passed to the <code>searchF</code> function.</dd>

<dt><a name="1076078"> </a><code><code>other</code></code></dt>
<dd><a name="1076079"> </a>Data to be passed as the third parameter (the <code>other</code> parameter) to the comparison function.</dd>

<dt><a name="1076080"> </a><code><code>position</code></code></dt>
<dd><a name="1076081"> </a>Pointer to the position result.</dd>

<dt><a name="1076082"> </a><code><code>findFirst</code></code></dt>
<dd><a name="1076083"> </a>If set to <code>true</code>, the first matching element is returned. Use this parameter if the array contains duplicate entries to ensure that the first such entry will be the one returned.</dd>

</dl>
<h4>
  <a name="1076084"> </a>Returns 
</h4>

<p><a name="1076085"> </a>Returns <code>true</code> if an exact match was found. In this case, <code>position</code> points to the element number where the data was found. </p>

<p><a name="1076086"> </a>Returns <code>false</code> if an exact match was not found. If <code>false</code> is returned, <code>position</code> points to the element number where the data should be inserted if it was to be added to the array in sorted order.</p>
<h4>
  <a name="1076087"> </a>Comments 
</h4>

<p><a name="1076088"> </a>The array must be sorted in ascending order prior to the search. Use <a href="SystemManager.html#1076571"><code>SysInsertionSort()</code></a> or <a href="SystemManager.html#1076775"><code>SysQSort()</code></a> to sort the array.</p>

<p><a name="1076095"> </a>The search starts at element 0 and ends at element (<code>numOfElements</code> - 1). </p>

<p><a name="1076096"> </a>The search function's (<code>searchF</code>) prototype is:</p>
<pre class="sl">Int16 _searchF (void const *searchData,
void const *arrayData, Int32 other);</pre>

<p><a name="1076099"> </a>The first parameter is the data for which to search, the second parameter is a pointer to an element in the array, and the third parameter is any other necessary data. </p>

<p><a name="1076100"> </a>The function returns:</p>
<ul type="disc">
  <li><a name="1076101"> </a>&gt; 0 if the search data is greater than the element
  <li><a name="1076102"> </a>&lt; 0 if the search data is less than the element
  <li><a name="1076103"> </a>0 if the search data is the same as the element
</ul>
<h4>
  <a name="1076104"> </a>Compatibility 
</h4>

<p><a name="1076108"> </a>Implemented only if <a href="CompatibilityApdx.html#992789">2.0 New Feature Set</a> is present. Prior to Palm OS Garnet version 5.3SC, the <code class="par">numOfElements</code> parameter was declared to be an <code>Int16</code>, limiting the number of elements to be searched to 32,767.</p>

<h3 class="hbH3">
  <a name="1076111"> </a>SysBroadcastActionCode Function <a href="#1075863"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1076113"> </a>Purpose 
</h4>

<p><a name="1076114"> </a>Send the specified action code (launch code) and parameter block to the latest version of every UI application.</p>
<h4>
  <a name="1076116"> </a>Declared In 
</h4>
<code>SystemMgr.h<a name="1076117"> </a></code><h4>
  <a name="1076118"> </a>Prototype 
</h4>
<pre class="proto"><a name="1076120"></a>Err SysBroadcastActionCode (
   UInt16 cmd,
   MemPtr cmdPBP
)
</pre>
<h4>
  <a name="1076121"> </a>Parameters 
</h4>

<dl>
<dt><a name="1076122"> </a><code><code>cmd</code></code></dt>
<dd><a name="1076123"> </a>Action code to send.</dd>

<dt><a name="1076124"> </a><code><code>cmdPBP</code></code></dt>
<dd><a name="1076125"> </a>Action code parameter block to send.</dd>

</dl>
<h4>
  <a name="1076126"> </a>Returns 
</h4>

<p><a name="1076127"> </a>Returns 0 if no error, or one of the following errors: <code>sysErrParamErr</code>, <code>memErrNotEnoughSpace</code>, or <code>sysErrOutOfOwnerIDs</code>.</p>
<h4>
  <a name="1076131"> </a>See Also 
</h4>

<p><a name="1076138"> </a><a href="SystemManager.html#1075905"><code>SysAppLaunch()</code></a>, <a href="../PalmOSCompanion/AppStartupAndStop.html#997517">Chapter 2, "Application Startup and Stop."</a> of the <i>Palm OS Programmer's Companion</i>, vol. I </p>

<h3 class="hbH3">
  <a name="1076144"> </a>SysCopyStringResource Function <a href="#1075863"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1076146"> </a>Purpose 
</h4>

<p><a name="1076147"> </a>Copy a resource string to a passed string.</p>
<h4>
  <a name="1076148"> </a>Declared In 
</h4>
<code>SysUtils.h<a name="1076149"> </a></code><h4>
  <a name="1076150"> </a>Prototype 
</h4>
<pre class="proto"><a name="1076152"></a>void SysCopyStringResource (
   Char *string,
   Int16 theID
)
</pre>
<h4>
  <a name="1076153"> </a>Parameters 
</h4>

<dl>
<dt><a name="1076154"> </a><code><code>string</code></code></dt>
<dd><a name="1076155"> </a>String to copy the resource string to.</dd>

<dt><a name="1076156"> </a><code><code>theID</code></code></dt>
<dd><a name="1076157"> </a>Resource string ID.</dd>

</dl>
<h4>
  <a name="1076158"> </a>Returns 
</h4>

<p><a name="1076159"> </a>Stores a copy of the resource string in <code>string</code>.</p>

<h3 class="hbH3">
  <a name="1076162"> </a>SysCreateDataBaseList Function <a href="#1075863"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1076164"> </a>Purpose 
</h4>

<p><a name="1076165"> </a>Generate a list of databases found on the memory cards matching a specific type and return the result. If <code>lookupName</code> is <code>true</code> then a name in a <code>tAIN</code> resource is used instead of the database's name and the list is sorted. Only the last version of a database is returned. Databases with multiple versions are listed only once.</p>
<h4>
  <a name="1076166"> </a>Declared In 
</h4>
<code>SystemMgr.h<a name="1076167"> </a></code><h4>
  <a name="1076168"> </a>Prototype 
</h4>
<pre class="proto"><a name="1076170"></a>Boolean SysCreateDataBaseList (
   UInt32 type,
   UInt32 creator,
   UInt16 *dbCount,
   MemHandle *dbIDs,
   Boolean lookupName
)
</pre>
<h4>
  <a name="1076171"> </a>Parameters 
</h4>

<dl>
<dt><a name="1076172"> </a><code><code>type</code></code></dt>
<dd><a name="1076173"> </a>The type of database to find. Use <code>0</code> to find all databases.</dd>

<dt><a name="1076174"> </a><code><code>creator</code></code></dt>
<dd><a name="1076175"> </a>The creator ID of the database to find. Use <code>0</code> to find any creator ID.</dd>

<dt><a name="1076176"> </a><code><code>dbCount</code></code></dt>
<dd><a name="1076177"> </a>A pointer to an integer value that is updated by this function to the number of matching databases.</dd>

<dt><a name="1076178"> </a><code><code>dbIDs</code></code></dt>
<dd><a name="1076179"> </a>A pointer to a handle that gets allocated to contain the database list. Upon return, this references an array of <a href="SystemManager.html#1075880"><code>SysDBListItemType</code></a> structures. See the Comments section below for more information.</dd>

<dt><a name="1076183"> </a><code><code>lookupName</code></code></dt>
<dd><a name="1076184"> </a>If <code>true</code>, <code>SysCreateDatabaseList</code> uses <code>tAIN</code> names and sorts the list.</dd>

</dl>
<h4>
  <a name="1076185"> </a>Returns 
</h4>

<p><a name="1076186"> </a>Returns <code>false</code> if no databases were found, and <code>true</code> if any databases were found. The value of <code>dbCount</code> is updated to reflect the number of databases that were found. If at least one database is found, <code>dbIDs</code> is updated to reference a array of <a href="SystemManager.html#1075880"><code>SysDBListItemType</code></a> structures; this array contains <code>dbCount</code> items.</p>
<h4>
  <a name="1076191"> </a>Comments 
</h4>

<p><a name="1076192"> </a>This function creates a list of unique databases, where unique is defined as having a different type and creator ID. Two or more databases with the same type and creator ID are counted as one. Thus, you cannot use <code>SysCreateDataBaseList</code> to build a list of databases that share a common type and creator. There are two exceptions to this rule, however. If <code>type</code> is 0 or if <code>creator</code> is not 0, the code that removes "non-unique" databases isn't run. It also isn't run if the type is <code>sysFileTpqa</code>, since web-clipping databases all have the same type and creator ID.</p>

<p><a name="1076193"> </a>If this function returns <code>true</code> and the value of <code>dbCount</code> is greater then 0, than you can iterate through the list of database items, as shown in <a href="SystemManager.html#1076198">Listing 54.1</a></p>
<p class="CCodeCaption">
  <a name="1076198"> </a><b>Listing 54.1&nbsp;&nbsp;Using the SysCreateDatabaseList function</b>
</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
SysDBListItemType          *dbListIDsP;<a name="1076199"> </a>
MemHandle                  dbListIDsH;<a name="1076200"> </a>
UInt16                     dbCount = 0;<a name="1076201"> </a>
Boolean                    status;<a name="1076202"> </a>
UInt16                     counter;<a name="1076203"> </a>
SysDBListItemType          theItem;<a name="1076204"> </a>
 <a name="1076205"> </a>
status = SysCreateDatabaseList(sysFileTpqa, 0, 
                               &amp;dbCount, &amp;dbListIDsH, false);<a name="1076206"> </a>
 <a name="1076207"> </a>
if (status == true &amp;&amp; dbCount &gt; 0)<a name="1076208"> </a>
   {<a name="1076209"> </a>
   dbListIDsP = MemHandleLock (dbListIDsH);<a name="1076210"> </a>
   for (counter = 0; counter &lt; dbCount; counter++)<a name="1076211"> </a>
      if StrCompare(dbListIDsP[counter].name,
                                              "MINE") == 0<a name="1076212"> </a>
      // we found my database<a name="1076213"> </a>
   ...<a name="1076214"> </a>
...<a name="1076215"> </a>
   MemPtrFree (dbListIDsP);<a name="1076216"> </a>
   }<a name="1076217"> </a>
</pre><div class="CodeRule"><hr></div>


<div><hr>
  <a name="1076218"> </a> <b>NOTE: </b> It is your responsibility to free the memory allocated by this function for the list of databases.
<hr>
</div>
<h4>
  <a name="1076219"> </a>Compatibility 
</h4>

<p><a name="1076223"> </a>Implemented only if <a href="CompatibilityApdx.html#992789">2.0 New Feature Set</a> is present.</p>

<h3 class="hbH3">
  <a name="1076226"> </a>SysCreatePanelList Function <a href="#1075863"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1076228"> </a>Purpose 
</h4>

<p><a name="1076230"> </a>Generate a list of panels found on the memory cards and return the result. Multiple versions of a panel are listed once.</p>
<h4>
  <a name="1076231"> </a>Declared In 
</h4>
<code>SystemMgr.h<a name="1076232"> </a></code><h4>
  <a name="1076233"> </a>Prototype 
</h4>
<pre class="proto"><a name="1076235"></a>Boolean SysCreatePanelList (
   UInt16 *panelCount,
   MemHandle *panelIDs
)
</pre>
<h4>
  <a name="1076236"> </a>Parameters 
</h4>

<dl>
<dt><a name="1076237"> </a><code><code>panelCount</code></code></dt>
<dd><a name="1076238"> </a>Pointer to set to the number of panels.</dd>

<dt><a name="1076239"> </a><code><code>panelIDs</code></code></dt>
<dd><a name="1076240"> </a>A pointer to a handle that gets allocated to contain the panel list. Upon return, this references an array of <a href="SystemManager.html#1075880"><code>SysDBListItemType</code></a> structures. </dd>

</dl>
<h4>
  <a name="1076244"> </a>Returns 
</h4>

<p><a name="1076245"> </a>Returns <code>false</code> if no panels were found, and <code>true</code> if any panels were found. The value of <code>panelCount</code> is updated to reflect the number of panels that were found. If at least one panel is found, <code>panelIDs</code> is updated to reference a array of <a href="SystemManager.html#1075880"><code>SysDBListItemType</code></a> structures; this array contains <code>panelCount</code> items.</p>
<h4>
  <a name="1076249"> </a>Comments 
</h4>

<p><a name="1076250"> </a>If this function returns <code>true</code> and the value of <code>panelCount</code> is greater than 0, than you can iterate through the list of panel items, as shown in <a href="SystemManager.html#1076198">Listing 54.1</a>. It is your responsibility to free the memory allocated for the panel list.</p>
<h4>
  <a name="1076254"> </a>Compatibility 
</h4>

<p><a name="1076258"> </a>Implemented only if <a href="CompatibilityApdx.html#992789">2.0 New Feature Set</a> is present.</p>

<h3 class="hbH3">
  <a name="1076261"> </a>SysCurAppDatabase Function <a href="#1075863"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1076263"> </a>Purpose 
</h4>

<p><a name="1076264"> </a>Return the card number and database ID of the current application's resource database.</p>
<h4>
  <a name="1076266"> </a>Declared In 
</h4>
<code>SystemMgr.h<a name="1076267"> </a></code><h4>
  <a name="1076268"> </a>Prototype 
</h4>
<pre class="proto"><a name="1076270"></a>Err SysCurAppDatabase (
   UInt16 *cardNoP,
   LocalID *dbIDP
)
</pre>
<h4>
  <a name="1076271"> </a>Parameters 
</h4>

<dl>
<dt><a name="1076272"> </a><code><code>cardNoP</code></code></dt>
<dd><a name="1076273"> </a>Pointer to the card number; 0 or 1.</dd>

<dt><a name="1076274"> </a><code><code>dbIDP</code></code></dt>
<dd><a name="1076275"> </a>Pointer to the database ID.</dd>

</dl>
<h4>
  <a name="1076276"> </a>Returns 
</h4>

<p><a name="1076277"> </a>Returns 0 if no error, or <code>SysErrParamErr </code>if an error occurs.</p>
<h4>
  <a name="1076278"> </a>See Also 
</h4>

<p><a name="1076285"> </a><a href="SystemManager.html#1075905"><code>SysAppLaunch()</code></a>, <a href="SystemManager.html#1076980"><code>SysUIAppSwitch()</code></a></p>

<h3 class="hbH3">
  <a name="1076288"> </a>SysErrString Function <a href="#1075863"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1076290"> </a>Purpose 
</h4>

<p><a name="1076291"> </a>Returns text to describe an error number. This routine looks up the textual description of a system error number in the appropriate List resource and creates a string that can be used to display that error. </p>

<p><a name="1076292"> </a>The actual string will be of the form: "&lt;error message&gt; (XXXX)" where XXXX is the hexadecimal error number. </p>

<p><a name="1076293"> </a>This routine looks for a resource of type 'tstl' and resource ID of (err&gt;&gt;8). It then grabs the string at index (err &amp; 0x00FF) out of that resource. </p>

<p><a name="1076294"> </a>The first string in the resource is called index #1 by Constructor, NOT #0. For example, an error code of 0x0101 will fetch the first string in the resource. </p>
<h4>
  <a name="1076295"> </a>Declared In 
</h4>
<code>SysUtils.h<a name="1076296"> </a></code><h4>
  <a name="1076297"> </a>Prototype 
</h4>
<pre class="proto"><a name="1076299"></a>Char *SysErrString (
   Err err,
   Char *strP,
   UInt16 maxLen
)
</pre>
<h4>
  <a name="1076300"> </a>Parameters 
</h4>

<dl>
<dt><a name="1076301"> </a><code><code>err</code> </code></dt>
<dd><a name="1076302"> </a>Error number</dd>

<dt><a name="1076303"> </a><code><code>strP</code> </code></dt>
<dd><a name="1076304"> </a>Pointer to space to form the string</dd>

<dt><a name="1076305"> </a><code><code>maxLen</code></code></dt>
<dd><a name="1076306"> </a>Size of <code>strP</code> buffer.</dd>

</dl>
<h4>
  <a name="1076307"> </a>Returns 
</h4>

<p><a name="1076308"> </a>Stores the error number string. </p>
<h4>
  <a name="1076309"> </a>Compatibility 
</h4>

<p><a name="1076313"> </a>Implemented only if <a href="CompatibilityApdx.html#992789">2.0 New Feature Set</a> is present.</p>

<h3 class="hbH3">
  <a name="1076316"> </a>SysFormPointerArrayToStrings Function <a href="#1075863"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1076318"> </a>Purpose 
</h4>

<p><a name="1076319"> </a>Form an array of pointers to strings in a block. Useful for setting the items of a list.</p>
<h4>
  <a name="1076320"> </a>Declared In 
</h4>
<code>SysUtils.h<a name="1076321"> </a></code><h4>
  <a name="1076322"> </a>Prototype 
</h4>
<pre class="proto"><a name="1076324"></a>MemHandle SysFormPointerArrayToStrings (
   Char *c,
   Int16 stringCount
)
</pre>
<h4>
  <a name="1076325"> </a>Parameters 
</h4>

<dl>
<dt><a name="1076326"> </a><code><code>c</code></code></dt>
<dd><a name="1076327"> </a>Pointer to packed block of strings, each terminated by a null character.</dd>

<dt><a name="1076328"> </a><code><code>stringCount</code></code></dt>
<dd><a name="1076329"> </a>Count of strings in block.</dd>

</dl>
<h4>
  <a name="1076330"> </a>Returns 
</h4>

<p><a name="1076331"> </a>Unlocked handle to allocated array of pointers to the strings in the passed block. The returned array points to the strings in the passed packed block. Note that you'll need to free the returned handle when you no longer need it.</p>
<h4>
  <a name="1076333"> </a>See Also 
</h4>

<p><a name="1076337"> </a><a href="List.html#996454"><code>LstSetListChoices()</code></a></p>

<h3 class="hbH3">
  <a name="1076339"> </a>sysFtrNumProcessorIs68K Macro <a href="#1075863"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1076341"> </a>Purpose 
</h4>

<p><a name="1076342"> </a>Determines whether or not the underlying processor is part of the 68K family.</p>
<h4>
  <a name="1076343"> </a>Declared In 
</h4>
<code>SystemMgr.h<a name="1076344"> </a></code><h4>
  <a name="1076345"> </a>Prototype 
</h4>
<pre class="proto"><a name="1076346"></a>#define sysFtrNumProcessorIs68K(
   x
)
</pre>
<h4>
  <a name="1076347"> </a>Parameters 
</h4>

<dl>
<dt><a name="1076348"> </a><code>&rarr;  <i><code>x</code></i></code></dt>
<dd><a name="1076352"> </a>Processor type obtained from a call to <a href="FeatureManager.html#1036943"><code>FtrGet()</code></a>.</dd>

</dl>
<h4>
  <a name="1076353"> </a>Returns 
</h4>

<p><a name="1076354"> </a>Returns <code>true</code> if the underlying processor is a 68K, <code>false</code> otherwise.</p>
<h4>
  <a name="1076355"> </a>Comments 
</h4>

<p><a name="1076356"> </a>This macro is typically used in conjunction with <a href="MiscSys.html#1038379"><code>PceNativeCall()</code></a>.</p>
<h4>
  <a name="1076360"> </a>Example 
</h4>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
UInt32 processorType;<a name="1076361"> </a>
<a name="1076362"> </a>
FtrGet(sysFileCSystem, sysFtrNumProcessorID, &amp;processorType);<a name="1076363"> </a>
if (sysFtrNumProcessorIs68K(processorType)){<a name="1076364"> </a>
    // processor is 68K<a name="1076365"> </a>
} else {<a name="1076366"> </a>
    // processor is not 68K<a name="1076367"> </a>
}<a name="1076368"> </a>
</pre><div class="CodeRule"><hr></div>


<h3 class="hbH3">
  <a name="1076370"> </a>sysFtrNumProcessorIsARM Macro <a href="#1075863"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1076372"> </a>Purpose 
</h4>

<p><a name="1076373"> </a>Determines whether or not the underlying processor is part of the ARM family.</p>
<h4>
  <a name="1076374"> </a>Declared In 
</h4>
<code>SystemMgr.h<a name="1076375"> </a></code><h4>
  <a name="1076376"> </a>Prototype 
</h4>
<pre class="proto"><a name="1076377"></a>#define sysFtrNumProcessorIsARM(
   x
)
</pre>
<h4>
  <a name="1076378"> </a>Parameters 
</h4>

<dl>
<dt><a name="1076379"> </a><code>&rarr;  <i><code>x</code></i></code></dt>
<dd><a name="1076383"> </a>Processor type obtained from a call to <a href="FeatureManager.html#1036943"><code>FtrGet()</code></a>.</dd>

</dl>
<h4>
  <a name="1076384"> </a>Returns 
</h4>

<p><a name="1076385"> </a>Returns <code>true</code> if the underlying processor is an ARM core, <code>false</code> otherwise.</p>
<h4>
  <a name="1076386"> </a>Comments 
</h4>

<p><a name="1076387"> </a>This macro is typically used in conjunction with <a href="MiscSys.html#1038379"><code>PceNativeCall()</code></a>.</p>
<h4>
  <a name="1076391"> </a>Example 
</h4>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
UInt32 processorType;<a name="1076392"> </a>
<a name="1076393"> </a>
FtrGet(sysFileCSystem, sysFtrNumProcessorID, &amp;processorType);<a name="1076394"> </a>
if (sysFtrNumProcessorIsARM(processorType)){<a name="1076395"> </a>
    // processor is ARM<a name="1076396"> </a>
} else {<a name="1076397"> </a>
    // processor is not ARM<a name="1076398"> </a>
}<a name="1076399"> </a>
</pre><div class="CodeRule"><hr></div>


<h3 class="hbH3">
  <a name="1076402"> </a>SysGetOSVersionString Function <a href="#1075863"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1076404"> </a>Purpose 
</h4>

<p><a name="1076405"> </a>Return the version number of the Palm<sup>&#8482;</sup> operating system.</p>
<h4>
  <a name="1076406"> </a>Declared In 
</h4>
<code>SystemMgr.h<a name="1076407"> </a></code><h4>
  <a name="1076408"> </a>Prototype 
</h4>
<pre class="proto"><a name="1076409"></a>Char *SysGetOSVersionString()
</pre>
<h4>
  <a name="1076410"> </a>Parameters 
</h4>

<dl>
<dt><a name="1076411"> </a><code>None.</code></dt>
</dl>
<h4>
  <a name="1076412"> </a>Returns 
</h4>

<p><a name="1076413"> </a>Returns a string such as "v. 3.0." </p>
<h4>
  <a name="1076414"> </a>Comments 
</h4>

<p><a name="1076418"> </a>You must free the returned string using the <a href="MemoryManager.html#1017137"><code>MemPtrFree()</code></a> function. </p>
<h4>
  <a name="1076419"> </a>Compatibility 
</h4>

<p><a name="1076423"> </a>Implemented only if <a href="CompatibilityApdx.html#993158">3.0 New Feature Set</a> is present.</p>

<h3 class="hbH3">
  <a name="1076426"> </a>SysGetROMToken Function <a href="#1075863"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1076428"> </a>Purpose 
</h4>

<p><a name="1076429"> </a>Return from ROM a value specified by token.</p>
<h4>
  <a name="1076430"> </a>Declared In 
</h4>
<code>SystemMgr.h<a name="1076431"> </a></code><h4>
  <a name="1076432"> </a>Prototype 
</h4>
<pre class="proto"><a name="1076433"></a>Err SysGetROMToken (
   UInt16 cardNo,
   UInt32 token,
   UInt8 **dataP,
   UInt16 *sizeP
)
</pre>
<h4>
  <a name="1076434"> </a>Parameters 
</h4>

<dl>
<dt><a name="1076435"> </a><code>&rarr;  <i><code>cardNo</code></i></code></dt>
<dd><a name="1076436"> </a>The card on which the ROM to be queried resides. Currently, no Palm hardware provides multiple cards, so this value must be 0.</dd>

<dt><a name="1076437"> </a><code>&rarr;  <i><code>token</code></i></code></dt>
<dd><a name="1076438"> </a>The value to retrieve, as specified by one of the following tokens: </dd>

<dl>
<dt><a name="1076439"> </a><code><code>sysROMTokenSnum</code></code></dt>
<dd><a name="1076440"> </a>The serial number of the ROM, expressed as a text string with no null terminator.</dd>

</dl>
<dt><a name="1076441"> </a><code>&larr;  <i><code>dataP</code></i></code></dt>
<dd><a name="1076442"> </a>Pointer to a text buffer that holds the requested value when the function returns. </dd>

<dt><a name="1076443"> </a><code>&larr;  <i><code>sizeP</code></i></code></dt>
<dd><a name="1076444"> </a>The number of bytes in the <code>dataP</code> buffer.</dd>

</dl>
<h4>
  <a name="1076445"> </a>Returns 
</h4>

<p><a name="1076446"> </a>Returns the requested value if no error, or an error code if an error occurs. If this function returns an error, or if the returned pointer to the buffer is <code>NULL</code>, or if the first byte of the text buffer is <code>0xFF</code>, then no serial number is available.</p>
<h4>
  <a name="1076447"> </a>Comments 
</h4>

<p><a name="1076448"> </a>The serial number is shown to the user in the Application Launcher, along with a checksum digit you can use to validate input when your users read the ID from their device and type it in or tell it to someone else.</p>
<h4>
  <a name="1076449"> </a>Compatibility 
</h4>

<p><a name="1076453"> </a>Implemented only if <a href="CompatibilityApdx.html#993158">3.0 New Feature Set</a> is present. Serial numbers are available only on flash ROM-based units.</p>
<h4>
  <a name="1076454"> </a>See Also 
</h4>

<p><a name="1076460"> </a><a href="../PalmOSCompanion/SystemFeatures.html#1046593">"Retrieving the ROM Serial Number"</a> section in the <i>Palm OS Programmer's Companion</i>, vol. I shows how to retrieve the ROM serial number and calculate its associated checksum. </p>

<h3 class="hbH3">
  <a name="1076464"> </a>SysGetStackInfo Function <a href="#1075863"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1076466"> </a>Purpose 
</h4>

<p><a name="1076467"> </a>Return the start and end of the current thread's stack.</p>
<h4>
  <a name="1076468"> </a>Declared In 
</h4>
<code>SystemMgr.h<a name="1076469"> </a></code><h4>
  <a name="1076470"> </a>Prototype 
</h4>
<pre class="proto"><a name="1076471"></a>Boolean SysGetStackInfo (
   MemPtr *startPP,
   MemPtr *endPP
)
</pre>
<h4>
  <a name="1076472"> </a>Parameters 
</h4>

<dl>
<dt><a name="1076473"> </a><code><code>startPP</code></code></dt>
<dd><a name="1076474"> </a>Upon return, points to the start of the stack.</dd>

<dt><a name="1076475"> </a><code><code>endPP</code></code></dt>
<dd><a name="1076476"> </a>Upon return, points to the end of the stack.</dd>

</dl>
<h4>
  <a name="1076477"> </a>Returns 
</h4>

<p><a name="1076478"> </a>Returns <code>true</code> if the stack has not overflowed, that is, the value of the stack overflow address has not been changed. Returns <code>false</code> if the stack overflow value has been overwritten, meaning that a stack overflow has occurred.</p>
<h4>
  <a name="1076479"> </a>Compatibility 
</h4>

<p><a name="1076483"> </a>Implemented only if <a href="CompatibilityApdx.html#993158">3.0 New Feature Set</a> is present.</p>

<h3 class="hbH3">
  <a name="1076486"> </a>SysGetTrapAddress Function <a href="#1075863"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1076488"> </a>Purpose 
</h4>

<p><a name="1076489"> </a>Return the address of a function given its system trap. </p>
<h4>
  <a name="1076490"> </a>Declared In 
</h4>
<code>SystemMgr.h<a name="1076491"> </a></code><h4>
  <a name="1076492"> </a>Prototype 
</h4>
<pre class="proto"><a name="1076493"></a>void *SysGetTrapAddress (
   UInt16 trapNum
)
</pre>
<h4>
  <a name="1076494"> </a>Parameters 
</h4>

<dl>
<dt><a name="1076495"> </a><code>&rarr;  <i><code>trapNum</code></i></code></dt>
<dd><a name="1076497"> </a>One of the routine selectors defined in <code>SysTraps.h</code> (<code>sysTrap...</code>) or <code>CoreTraps.h</code> on Palm OS version 3.5 and higher. </dd>

</dl>
<h4>
  <a name="1076500"> </a>Returns 
</h4>

<p><a name="1076501"> </a>Returns the address of the corresponding function. Returns the address of the <code>sysTrapSysUnimplemented</code> routine if an invalid routine selector is passed; compare the results of this function to <code>SysGetTrapAddress(sysTrapSysUnimplemented)</code> if you need to check for an invalid routine selector.</p>
<h4>
  <a name="1076502"> </a>Comments 
</h4>

<p><a name="1076503"> </a>Use this function for performance reasons. You can then use the address it returns to call the function without having to go through the trap dispatch table. This function is mostly useful for optimizing the performance of functions called in a tight loop. </p>

<p><a name="1076504"> </a>The Palm OS trap dispatch mechanism allows the trap table entries to be modified at any time, either as the result of a system update or a hack. For this reason, it's important to call this function <i>immediately</i> <i>before</i> entering the tight loop. If the trap address changes in between when you call <code>SysGetTrapAddress</code> and you use the address, the wrong function will be called. </p>
<h4>
  <a name="1076505"> </a>Compatibility 
</h4>

<p><a name="1076506"> </a>On Palm OS 3.0 and earlier, this function contains a bug that causes it to return a garbage value if an invalid routine selector is passed. To prevent this bug from affecting your application, use <code>SysGlueGetTrapAddress</code> in the PalmOSGlue library instead of calling this function directly. For more information, see <a href="PalmOSGlueLib.html#1030875">Chapter 80, "PalmOSGlue Library."</a></p>

<h3 class="hbH3">
  <a name="1076513"> </a>SysGremlins Function <a href="#1075863"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1076515"> </a>Purpose 
</h4>

<p><a name="1076516"> </a>Query the Gremlins facility. You pass a selector for a function and parameters for that function. Gremlins performs the function call and returns the result. </p>
<h4>
  <a name="1076517"> </a>Declared In 
</h4>
<code>SysUtils.h<a name="1076518"> </a></code><h4>
  <a name="1076519"> </a>Prototype 
</h4>
<pre class="proto"><a name="1076520"></a>UInt32 SysGremlins (
   GremlinFunctionType selector,
   GremlinParamsType *params
)
</pre>
<h4>
  <a name="1076521"> </a>Parameters 
</h4>

<dl>
<dt><a name="1076522"> </a><code><code>selector</code></code></dt>
<dd><a name="1076523"> </a>The selector for a function to pass to Gremlins.</dd>

<dt><a name="1076524"> </a><code><code>params</code></code></dt>
<dd><a name="1076525"> </a>Pointer to a parameter block used to pass parameters to the function specified by <code>selector</code>.</dd>

</dl>
<h4>
  <a name="1076526"> </a>Returns 
</h4>

<p><a name="1076527"> </a>Returns the result of the function performed in Gremlins. </p>
<h4>
  <a name="1076528"> </a>Comments 
</h4>

<p><a name="1076529"> </a>Currently, only one selector is defined, <code>GremlinIsOn</code>, which takes no parameters. <code>GremlinIsOn</code> returns 0 if Gremlins is not running, non-zero if it is running. </p>

<p><a name="1076530"> </a>Currently, non-zero values are returned only from the version of Gremlins in the Palm OS emulator. The Gremlins running in the Simulator on a Macintosh and over the serial line via the Palm Debugger return zero for <code>GremlinIsOn</code>.</p>

<p><a name="1076531"> </a>Use this function if you need to alter the application's behavior when Gremlins is running. For example, the debug 3.0 ROM refuses to bring up the digitizer panel when Gremlins is running under the emulator.</p>
<h4>
  <a name="1076532"> </a>Compatibility 
</h4>

<p><a name="1076536"> </a>Implemented only if <a href="CompatibilityApdx.html#993158">3.0 New Feature Set</a> is present.</p>

<p><a name="1076537"> </a>In Palm OS 3.2 and later, <code>SysGremlins</code> is replaced by the functions defined in the file <code>HostControl.h</code>. Specifically, the one selector supported by <code>SysGremlins</code> is replaced with the function <code>HostGremlinIsRunning</code>. For backward compatibility, <code>SysGremlins</code> is mapped to <code>HostGremlinIsRunning</code>. </p>

<h3 class="hbH3">
  <a name="1076542"> </a>SysHandleEvent Function <a href="#1075863"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1076544"> </a>Purpose 
</h4>

<p><a name="1076545"> </a>Handle defaults for system events such as hard and soft key presses. </p>
<h4>
  <a name="1076546"> </a>Declared In 
</h4>
<code>SystemMgr.h<a name="1076547"> </a></code><h4>
  <a name="1076548"> </a>Prototype 
</h4>
<pre class="proto"><a name="1076550"></a>Boolean SysHandleEvent (
   EventPtr eventP
)
</pre>
<h4>
  <a name="1076551"> </a>Parameters 
</h4>

<dl>
<dt><a name="1076552"> </a><code><code>eventP</code></code></dt>
<dd><a name="1076553"> </a>Pointer to an event.</dd>

</dl>
<h4>
  <a name="1076554"> </a>Returns 
</h4>

<p><a name="1076555"> </a>Returns <code>true</code> if the system handled the event.</p>
<h4>
  <a name="1076556"> </a>Comments 
</h4>

<p><a name="1076557"> </a>Applications should call this routine immediately after calling <a href="SystemEventManager.html#1071061"><code>EvtGetEvent()</code></a> unless they want to override the default system behavior. However, overriding the default system behavior is almost never appropriate for an application. </p>
<h4>
  <a name="1076561"> </a>See Also 
</h4>

<p><a name="1076568"> </a><a href="SystemEventManager.html#1071341"><code>EvtProcessSoftKeyStroke()</code></a>, <a href="KeyManager.html#1012700"><code>KeyRates()</code></a> </p>

<h3 class="hbH3">
  <a name="1076571"> </a>SysInsertionSort Function <a href="#1075863"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1076573"> </a>Purpose 
</h4>

<p><a name="1076574"> </a>Sort elements in an array according to the passed comparison function. </p>
<h4>
  <a name="1076575"> </a>Declared In 
</h4>
<code>SysUtils.h<a name="1076576"> </a></code><h4>
  <a name="1076577"> </a>Prototype 
</h4>
<pre class="proto"><a name="1076579"></a>void SysInsertionSort (
   void *baseP,
   UInt16 numOfElements,
   Int16 width,
   CmpFuncPtr comparF,
   Int32 other
)
</pre>
<h4>
  <a name="1076580"> </a>Parameters 
</h4>

<dl>
<dt><a name="1076581"> </a><code><code>baseP</code></code></dt>
<dd><a name="1076582"> </a>Base pointer to an array of elements.</dd>

<dt><a name="1076583"> </a><code><code>numOfElements</code></code></dt>
<dd><a name="1076584"> </a>Number of elements to sort (must be at least 2). </dd>

<dt><a name="1076585"> </a><code><code>width</code></code></dt>
<dd><a name="1076586"> </a>Width of an element.</dd>

<dt><a name="1076587"> </a><code><code>comparF</code></code></dt>
<dd><a name="1076588"> </a>Comparison function. See Comments, below.</dd>

<dt><a name="1076589"> </a><code><code>other</code></code></dt>
<dd><a name="1076590"> </a>Other data passed to the comparison function.</dd>

</dl>
<h4>
  <a name="1076591"> </a>Returns 
</h4>

<p><a name="1076592"> </a>Returns nothing.</p>
<h4>
  <a name="1076593"> </a>Comments 
</h4>

<p><a name="1076594"> </a>Only elements which are out of order move. Moved elements are moved to the end of the range of equal elements. If a large amount of elements are being sorted, try to use the quick sort (see <a href="SystemManager.html#1076775"><code>SysQSort()</code></a>).</p>

<p><a name="1076599"> </a>This is the insertion sort algorithm: Starting with the second element, each element is compared to the preceding element. Each element not greater than the last is inserted into sorted position within those already sorted. A binary search for the insertion point is performed. A moved element is inserted after any other equal elements.</p>

<p><a name="1076600"> </a>In order to use <code>SysInsertionSort</code> you must write a comparison function with the following prototype:</p>
<pre class="sl">Int16 comparF (void *p1, void *p2, Int32 other)</pre>

<p><a name="1076602"> </a>Your comparison function must return zero if <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">p1</span> equals <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">p2</span>, a positive integer value if <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">p1</span> is greater than <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">p2</span>, and a negative integer value if <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">p1</span> is less than <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">p2</span>. Note that the value of the parameter named <code>other</code> is passed through from the <code>SysInsertionSort</code> call and can be used to control the behavior of the <code>comparF</code> function if appropriate for your application.</p>
<h4>
  <a name="1076603"> </a>Compatibility 
</h4>

<p><a name="1076604"> </a>The Palm OS 2.0 comparison function (<code>comparF</code>) has this prototype:</p>
<pre class="sl">Int comparF (VoidPtr, VoidPtr, Long other);</pre>

<p><a name="1076606"> </a>The Palm OS 1.0 comparison function (<code>comparF</code>) has this prototype: </p>
<pre class="sl">Int comparF (BytePtr A, BytePtr B, Long other);</pre>

<p><a name="1076608"> </a>Prior to Palm OS Garnet version 5.3SC, the <code class="par">numOfElements</code> parameter was declared to be an <code>Int16</code>, limiting the number of elements to be sorted to 32,767.</p>
<h4>
  <a name="1076609"> </a>See Also 
</h4>

<p><a name="1076613"> </a><a href="SystemManager.html#1076775"><code>SysQSort()</code></a><code> </code></p>

<h3 class="hbH3">
  <a name="1076616"> </a>SysKeyboardDialog Function <a href="#1075863"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1076618"> </a>Purpose 
</h4>

<p><a name="1076619"> </a>Pop up the system keyboard if there is a field object with the focus. The field object's text chunk is edited directly.</p>
<h4>
  <a name="1076620"> </a>Declared In 
</h4>
<code>Keyboard.h<a name="1076621"> </a></code><h4>
  <a name="1076622"> </a>Prototype 
</h4>
<pre class="proto"><a name="1076624"></a>void SysKeyboardDialog (
   KeyboardType kbd
)
</pre>
<h4>
  <a name="1076625"> </a>Parameters 
</h4>

<dl>
<dt><a name="1076626"> </a><code><code>kbd</code></code></dt>
<dd><a name="1076627"> </a>The keyboard type. See <code>Keyboard.h</code>.</dd>

</dl>
<h4>
  <a name="1076628"> </a>Returns 
</h4>

<p><a name="1076629"> </a>Returns nothing. Changes the field's text chunk.</p>
<h4>
  <a name="1076630"> </a>Compatibility 
</h4>

<p><a name="1076634"> </a>Implemented only if <a href="CompatibilityApdx.html#992789">2.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1076635"> </a>See Also 
</h4>

<p><a name="1076642"> </a><a href="SystemManager.html#1076645"><code>SysKeyboardDialogV10()</code></a>, <a href="Form.html#998943"><code>FrmSetFocus()</code></a> </p>

<h3 class="hbH3">
  <a name="1076645"> </a>SysKeyboardDialogV10 Function <a href="#1075863"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1076647"> </a>Purpose 
</h4>

<p><a name="1076648"> </a>Pop up the system keyboard if there is a field object with the focus. The field object's text chunk is edited directly.</p>
<h4>
  <a name="1076649"> </a>Declared In 
</h4>
<code>Keyboard.h<a name="1076650"> </a></code><h4>
  <a name="1076651"> </a>Prototype 
</h4>
<pre class="proto"><a name="1076653"></a>void SysKeyboardDialogV10 ()
</pre>
<h4>
  <a name="1076654"> </a>Parameters 
</h4>

<dl>
<dt><a name="1076655"> </a><code>None.</code></dt>
</dl>
<h4>
  <a name="1076656"> </a>Returns 
</h4>

<p><a name="1076657"> </a>Returns nothing. The field's text chunk is changed.</p>
<h4>
  <a name="1076658"> </a>Compatibility 
</h4>

<p><a name="1076659"> </a>Corresponds to the 1.0 implementation of <code>SysKeyboardDialog</code>.</p>
<h4>
  <a name="1076660"> </a>See Also 
</h4>

<p><a name="1076667"> </a><a href="SystemManager.html#1076616"><code>SysKeyboardDialog()</code></a>, <a href="Form.html#998943"><code>FrmSetFocus()</code></a> </p>

<h3 class="hbH3">
  <a name="1076670"> </a>SysLibFind Function <a href="#1075863"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1076672"> </a>Purpose 
</h4>

<p><a name="1076673"> </a>Return a reference number for a library that is already loaded, given its name.</p>
<h4>
  <a name="1076674"> </a>Declared In 
</h4>
<code>SystemMgr.h<a name="1076675"> </a></code><h4>
  <a name="1076676"> </a>Prototype 
</h4>
<pre class="proto"><a name="1076678"></a>Err SysLibFind (
   const Char *nameP,
   UInt16 *refNumP
)
</pre>
<h4>
  <a name="1076679"> </a>Parameters 
</h4>

<dl>
<dt><a name="1076680"> </a><code><code>nameP</code></code></dt>
<dd><a name="1076681"> </a>Pointer to the name of a loaded library.</dd>

<dt><a name="1076682"> </a><code><code>refNumP</code></code></dt>
<dd><a name="1076683"> </a>Pointer to a variable for returning the library reference number (on failure, this variable is undefined)</dd>

</dl>
<h4>
  <a name="1076684"> </a>Returns 
</h4>

<p><a name="1076686"> </a>0 if no error; otherwise: <code>sysErrLibNotFound</code> (if the library is not yet loaded), or another error returned from the library's install entry point.</p>
<h4>
  <a name="1076687"> </a>Comments 
</h4>

<p><a name="1076688"> </a>Most built-in libraries (NetLib, serial, IR) are preloaded automatically when the system is reset. Third-party libraries must be loaded before this call can succeed (use <a href="SystemManager.html#1076720"><code>SysLibLoad()</code></a>). You can check if a library is already loaded by calling <code>SysLibFind</code> and checking for a 0 error return value (it will return a non-zero value if the library is not loaded).</p>

<h3 class="hbH3">
  <a name="1076694"> </a>SysLibInstall Function <a href="#1075863"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1076696"> </a>Purpose 
</h4>

<p><a name="1076697"> </a>Installs a library into the Library table and calls the library's install entry point.</p>
<h4>
  <a name="1076698"> </a>Declared In 
</h4>
<code>SystemMgr.h<a name="1076699"> </a></code><h4>
  <a name="1076700"> </a>Prototype 
</h4>
<pre class="proto"><a name="1076701"></a>Err SysLibInstall (
   SysLibEntryProcPtr libraryP,
   UInt16 *refNumP
)
</pre>
<h4>
  <a name="1076702"> </a>Parameters 
</h4>

<dl>
<dt><a name="1076703"> </a><code>&rarr;  <i>libraryP</i></code></dt>
<dd><a name="1076704"> </a>Pointer to the library being installed.</dd>

<dt><a name="1076705"> </a><code>&larr;  <i>refNumP</i></code></dt>
<dd><a name="1076706"> </a>Pointer to the variable in which the installed library reference number is stored upon return.</dd>

</dl>
<h4>
  <a name="1076707"> </a>Returns 
</h4>

<p><a name="1076708"> </a>Returns 0 if no error, <code>memErrNotEnoughSpace</code> if an error occurs while allocating memory in the library table, or, if an error is returned by the call to the library's install entry point, that error is returned and the reference number is set to <code>sysInvalidRefNum</code>.</p>
<h4>
  <a name="1076709"> </a>Comments 
</h4>

<p><a name="1076710"> </a>This routine is largely used by the Palm OS, but can also be called by applications that need to install their own libraries.</p>
<h4>
  <a name="1076711"> </a>Compatibility 
</h4>

<p><a name="1076715"> </a>Implemented only if <a href="CompatibilityApdx.html#992789">2.0 New Feature Set</a> is present.</p>

<h3 class="hbH3">
  <a name="1076720"> </a>SysLibLoad Function <a href="#1075863"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1076722"> </a>Purpose 
</h4>

<p><a name="1076723"> </a>Load a library given its database creator and type. </p>
<h4>
  <a name="1076724"> </a>Declared In 
</h4>
<code>SystemMgr.h<a name="1076725"> </a></code><h4>
  <a name="1076726"> </a>Prototype 
</h4>
<pre class="proto"><a name="1076728"></a>Err SysLibLoad (
   UInt32 libType,
   UInt32 libCreator,
   UInt16 *refNumP
)
</pre>
<h4>
  <a name="1076729"> </a>Parameters 
</h4>

<dl>
<dt><a name="1076730"> </a><code><code>libType</code></code></dt>
<dd><a name="1076731"> </a>Type of library database.</dd>

<dt><a name="1076732"> </a><code><code>libCreator</code></code></dt>
<dd><a name="1076733"> </a>Creator of library database.</dd>

<dt><a name="1076734"> </a><code><code>refNumP</code></code></dt>
<dd><a name="1076735"> </a>Pointer to variable for returning the library reference number (on failure, <code>sysInvalidRefNum</code> is returned in this variable)</dd>

</dl>
<h4>
  <a name="1076736"> </a>Returns 
</h4>

<p><a name="1076738"> </a>0 if no error; otherwise: <code>sysErrLibNotFound</code>, <code>sysErrNoFreeRAM</code>, <code>sysErrNoFreeLibSlots</code>, or other error returned from the library's install entry point.</p>
<h4>
  <a name="1076741"> </a>Comments 
</h4>

<p><a name="1076743"> </a>When an application no longer needs a library that it <i>successfully</i> loaded via <code>SysLibLoad</code>, it is responsible for unloading the library by calling <a href="SystemManager.html#1076754"><code>SysLibRemove()</code></a> and passing it the library reference number returned by <code>SysLibLoad</code>. More information is available in the white paper on shared libraries, which you can find on the Palm developer support web site.</p>
<h4>
  <a name="1076747"> </a>Compatibility 
</h4>

<p><a name="1076751"> </a>Implemented only if <a href="CompatibilityApdx.html#992789">2.0 New Feature Set</a> is present.</p>

<h3 class="hbH3">
  <a name="1076754"> </a>SysLibRemove Function <a href="#1075863"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1076756"> </a>Purpose 
</h4>

<p><a name="1076760"> </a>Unload a library previously loaded with <a href="SystemManager.html#1076720"><code>SysLibLoad()</code></a>.</p>
<h4>
  <a name="1076761"> </a>Declared In 
</h4>
<code>SystemMgr.h<a name="1076762"> </a></code><h4>
  <a name="1076763"> </a>Prototype 
</h4>
<pre class="proto"><a name="1076764"></a>Err SysLibRemove (
   UInt16 refNum
)
</pre>
<h4>
  <a name="1076765"> </a>Parameters 
</h4>

<dl>
<dt><a name="1076766"> </a><code>&rarr;  <i><code>refNum</code></i></code></dt>
<dd><a name="1076767"> </a>The library reference number.</dd>

</dl>
<h4>
  <a name="1076768"> </a>Returns 
</h4>

<p><a name="1076770"> </a>0 if no error; otherwise <code>sysErrParamErr</code> if the <code>refNum</code> is not a valid library reference number.</p>
<h4>
  <a name="1076771"> </a>Comments 
</h4>

<p><a name="1076772"> </a><code>SysLibRemove</code> releases the dynamic memory allocated to the shared library's dispatch table, resources, and global variables. </p>

<h3 class="hbH3">
  <a name="1076775"> </a>SysQSort Function <a href="#1075863"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1076777"> </a>Purpose 
</h4>

<p><a name="1076778"> </a>Sort elements in an array according to the supplied comparison function. </p>
<h4>
  <a name="1076779"> </a>Declared In 
</h4>
<code>SysUtils.h<a name="1076780"> </a></code><h4>
  <a name="1076781"> </a>Prototype 
</h4>
<pre class="proto"><a name="1076783"></a>void SysQSort (
   void *baseP,
   UInt16 numOfElements,
   Int16 width,
   CmpFuncPtr comparF,
   Int32 other
)
</pre>
<h4>
  <a name="1076784"> </a>Parameters 
</h4>

<dl>
<dt><a name="1076785"> </a><code><code>baseP</code></code></dt>
<dd><a name="1076786"> </a>Base pointer to an array of elements.</dd>

<dt><a name="1076787"> </a><code><code>numOfElements</code></code></dt>
<dd><a name="1076788"> </a>Number of elements to sort (must be at least 2). </dd>

<dt><a name="1076789"> </a><code><code>width</code></code></dt>
<dd><a name="1076790"> </a>Width of an element.</dd>

<dt><a name="1076791"> </a><code><code>comparF</code></code></dt>
<dd><a name="1076792"> </a>Comparison function. See Comments, below.</dd>

<dt><a name="1076793"> </a><code><code>other</code></code></dt>
<dd><a name="1076794"> </a>Other data passed to the comparison function.</dd>

</dl>
<h4>
  <a name="1076795"> </a>Returns 
</h4>

<p><a name="1076796"> </a>Returns nothing.</p>
<h4>
  <a name="1076797"> </a>Comments 
</h4>

<p><a name="1076798"> </a>Equal records can be in any position relative to each other because a quick sort tends to scramble the ordering of records. As a result, calling <code>SysQSort</code> multiple times can result in a different order if the records are not completely unique. If you don't want this behavior, use the insertion sort instead (see <a href="SystemManager.html#1076571"><code>SysInsertionSort()</code></a>).</p>

<p><a name="1076802"> </a>To pick the pivot point, the quick sort algorithm picks the middle of three records picked from around the middle of all records. That way, the algorithm can take advantage of partially sorted data. </p>

<p><a name="1076803"> </a>These optimizations are built in:</p>
<ul type="disc">
  <li><a name="1076804"> </a>The routine contains its own stack to limit uncontrolled recursion. When the stack is full, an insertion sort is used because it doesn't require more stack space. 
  <li><a name="1076805"> </a>An insertion sort is also used when the number of records is low. This avoids the overhead of a quick sort which is noticeable for small numbers of records. 
  <li><a name="1076806"> </a>If the records seem mostly sorted, an insertion sort is performed to move only those few records that need to be moved.
</ul>

<p><a name="1076807"> </a>In order to use <code>SysQSort</code> you must write a comparison function with the following prototype:</p>
<pre class="sl">Int16 comparF (void *p1, void *p2, Int32 other)</pre>

<p><a name="1076809"> </a>Your comparison function must return zero if <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">p1</span> equals <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">p2</span>, a positive integer value if <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">p1</span> is greater than <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">p2</span>, and a negative integer value if <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">p1</span> is less than <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">p2</span>. Note that the value of the parameter named <code>other</code> is passed through from the <code>SysQSort</code> call and can be used to control the behavior of the <code>comparF</code> function if appropriate for your application.</p>
<h4>
  <a name="1076810"> </a>Compatibility 
</h4>

<p><a name="1076811"> </a>The Palm OS 2.0 comparison function (<code>comparF</code>) has this prototype:</p>
<pre class="sl">Int comparF (VoidPtr, VoidPtr, Long other);</pre>

<p><a name="1076813"> </a>The Palm OS 1.0 comparison function (<code>comparF</code>) has this prototype: </p>
<pre class="sl">Int comparF (BytePtr A, BytePtr B, Long other);</pre>

<p><a name="1076815"> </a>Prior to Palm OS Garnet version 5.3SC the <code class="par">numOfElements</code> parameter was declared to be an <code>Int16</code>, limiting the number of elements to be sorted to 32,767.</p>
<h4>
  <a name="1076816"> </a>See Also 
</h4>

<p><a name="1076820"> </a><a href="SystemManager.html#1076571"><code>SysInsertionSort()</code></a> </p>

<h3 class="hbH3">
  <a name="1076823"> </a>SysRandom Function <a href="#1075863"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1076825"> </a>Purpose 
</h4>

<p><a name="1076827"> </a>Return a random number anywhere from 0 to <code>sysRandomMax</code>.</p>
<h4>
  <a name="1076828"> </a>Declared In 
</h4>
<code>SysUtils.h<a name="1076829"> </a></code><h4>
  <a name="1076830"> </a>Prototype 
</h4>
<pre class="proto"><a name="1076832"></a>Int16 SysRandom (
   Int32 newSeed
)
</pre>
<h4>
  <a name="1076833"> </a>Parameters 
</h4>

<dl>
<dt><a name="1076834"> </a><code><code>newSeed</code></code></dt>
<dd><a name="1076835"> </a>New seed value, or 0 to use existing seed.</dd>

</dl>
<h4>
  <a name="1076836"> </a>Returns 
</h4>

<p><a name="1076837"> </a>Returns a random number.</p>

<h3 class="hbH3">
  <a name="1076840"> </a>SysReset Function <a href="#1075863"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1076842"> </a>Purpose 
</h4>

<p><a name="1076844"> </a>Perform a soft reset and reinitialize the globals and the dynamic memory heap.</p>
<h4>
  <a name="1076845"> </a>Declared In 
</h4>
<code>SystemMgr.h<a name="1076846"> </a></code><h4>
  <a name="1076847"> </a>Prototype 
</h4>
<pre class="proto"><a name="1076849"></a>void SysReset (
   void
)
</pre>
<h4>
  <a name="1076850"> </a>Parameters 
</h4>

<dl>
<dt><a name="1076851"> </a><code>None.</code></dt>
</dl>
<h4>
  <a name="1076852"> </a>Returns 
</h4>

<p><a name="1076853"> </a>No return value.</p>
<h4>
  <a name="1076854"> </a>Comments 
</h4>

<p><a name="1076855"> </a>This routine resets the system, reinitializes the globals area and all system managers, and reinitializes the dynamic heap. All database information is preserved. This routine is called when the user presses the hidden reset switch on the device. </p>

<p><a name="1076856"> </a>When running an application using the simulator, this routine looks for two data files that represent the memory of card 0 and card 1. If these are found, the Palm OS memory image is created using them. If they are not found, they are created.</p>

<p><a name="1076857"> </a>When running an application on the device, this routine simply looks for the memory cards at fixed locations.</p>

<h3 class="hbH3">
  <a name="1076860"> </a>SysSetAutoOffTime Function <a href="#1075863"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1076862"> </a>Purpose 
</h4>

<p><a name="1076863"> </a>Set the time out value in seconds for auto-power-off. Zero means never power off.</p>
<h4>
  <a name="1076864"> </a>Declared In 
</h4>
<code>SystemMgr.h<a name="1076865"> </a></code><h4>
  <a name="1076866"> </a>Prototype 
</h4>
<pre class="proto"><a name="1076868"></a>UInt16 SysSetAutoOffTime (
   UInt16 seconds
)
</pre>
<h4>
  <a name="1076869"> </a>Parameters 
</h4>

<dl>
<dt><a name="1076870"> </a><code><code>seconds</code></code></dt>
<dd><a name="1076871"> </a>Time out in seconds, or 0 for no time out.</dd>

</dl>
<h4>
  <a name="1076872"> </a>Returns 
</h4>

<p><a name="1076873"> </a>Returns previous value of time out in seconds.</p>

<h3 class="hbH3">
  <a name="1076876"> </a>SysSetTrapAddress Function <a href="#1075863"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1076878"> </a>Purpose 
</h4>

<p><a name="1076879"> </a>Set the address of the function corresponding to a system trap. </p>
<h4>
  <a name="1076880"> </a>Declared In 
</h4>
<code>SystemMgr.h<a name="1076881"> </a></code><h4>
  <a name="1076882"> </a>Prototype 
</h4>
<pre class="proto"><a name="1076883"></a>Err SysSetTrapAddress (
   UInt16 trapNum,
   void *procP
)
</pre>
<h4>
  <a name="1076884"> </a>Parameters 
</h4>

<dl>
<dt><a name="1076885"> </a><code>&rarr;  <i><code>trapNum</code></i></code></dt>
<dd><a name="1076887"> </a>One of the routine selectors defined in <code>SysTraps.h</code> (<code>sysTrap...</code>) or <code>CoreTraps.h</code> on Palm OS version 3.5 and higher.</dd>

<dt><a name="1076890"> </a><code>&rarr;  <i><code>procP</code></i></code></dt>
<dd><a name="1076891"> </a>Pointer to a function that the trap identified by <code>trapNum</code> is to point to. </dd>

</dl>
<h4>
  <a name="1076892"> </a>Returns 
</h4>

<p><a name="1076893"> </a>Returns 0 if no error, or <code>SysErrParamErr</code> if <code>trapNum</code> is greater than the number of traps in the trap table.</p>
<h4>
  <a name="1076894"> </a>Comments 
</h4>

<p><a name="1076895"> </a>This function is useful for patching a system trap, in combination with <a href="SystemManager.html#1076486"><code>SysGetTrapAddress()</code></a>. To patch a system trap in your application, first call <code>SysGetTrapAddress</code> to get the trap address and then save this value somewhere. Next use <code>SysSetTrapAddress</code> to set the trap address to point to your function. Before your application exits, remove the patch by calling <code>SysSetTrapAddress</code> and passing in the original trap address you saved.</p>

<div><hr>
  <a name="1076899"> </a> <span class="warning">WARNING! </span> If your application patches a system trap using this function, you <i>must</i> remove the patch before your application exits. Do <i>not</i> use this mechanism to permanently patch system traps as it may cause unpredictable results for the system and other applications.
<hr>
</div>
<h4>
  <a name="1076900"> </a>Compatibility 
</h4>

<p><a name="1076904"> </a>If either <a href="CompatibilityApdx.html#997336">5.0 New Feature Set</a> or <a href="CompatibilityApdx.html#1029305">Palm OS Cobalt Feature Set</a> is present this function is unimplemented.</p>

<h3 class="hbH3">
  <a name="1076907"> </a>SysStringByIndex Function <a href="#1075863"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1076909"> </a>Purpose 
</h4>

<p><a name="1076910"> </a>Copy a string out of a string list resource by index. String list resources are of type <code>'tSTL'</code> and contain a list of strings and a prefix string. </p>

<p><a name="1076911"> </a>ResEdit always displays the items in the list as starting at 1, not 0. Consider this when creating your string list.</p>
<h4>
  <a name="1076912"> </a>Declared In 
</h4>
<code>SysUtils.h<a name="1076913"> </a></code><h4>
  <a name="1076914"> </a>Prototype 
</h4>
<pre class="proto"><a name="1076916"></a>Char *SysStringByIndex (
   UInt16 resID,
   UInt16 index,
   Char *strP,
   UInt16 maxLen
)
</pre>
<h4>
  <a name="1076917"> </a>Parameters 
</h4>

<dl>
<dt><a name="1076918"> </a><code><code>resID</code></code></dt>
<dd><a name="1076919"> </a>Resource ID of the string list.</dd>

<dt><a name="1076920"> </a><code><code>index</code></code></dt>
<dd><a name="1076921"> </a>String to get out of the list.</dd>

<dt><a name="1076922"> </a><code><code>strP</code> </code></dt>
<dd><a name="1076923"> </a>Pointer to space to form the string.</dd>

<dt><a name="1076924"> </a><code><code>maxLen</code></code></dt>
<dd><a name="1076925"> </a>Size of <code>strP</code> buffer.</dd>

</dl>
<h4>
  <a name="1076926"> </a>Returns 
</h4>

<p><a name="1076927"> </a>Returns a pointer to the copied string. The string returned from this call will be the prefix string appended with the designated index string. Indices are 0-based; index 0 is the first string in the resource. </p>
<h4>
  <a name="1076928"> </a>Compatibility 
</h4>

<p><a name="1076932"> </a>Implemented only if <a href="CompatibilityApdx.html#992789">2.0 New Feature Set</a> is present.</p>

<h3 class="hbH3">
  <a name="1076935"> </a>SysTaskDelay Function <a href="#1075863"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1076937"> </a>Purpose 
</h4>

<p><a name="1076939"> </a>Put the processor into doze mode for the specified number of ticks.</p>
<h4>
  <a name="1076940"> </a>Declared In 
</h4>
<code>SystemMgr.h<a name="1076941"> </a></code><h4>
  <a name="1076942"> </a>Prototype 
</h4>
<pre class="proto"><a name="1076944"></a>Err SysTaskDelay (
   Int32 delay
)
</pre>
<h4>
  <a name="1076945"> </a>Parameters 
</h4>

<dl>
<dt><a name="1076946"> </a><code><code>delay</code></code></dt>
<dd><a name="1076950"> </a>Number of ticks to wait (see <a href="SystemManager.html#1076960"><code>SysTicksPerSecond()</code></a>)</dd>

</dl>
<h4>
  <a name="1076951"> </a>Returns 
</h4>

<p><a name="1076952"> </a>Returns 0 if no error.</p>
<h4>
  <a name="1076953"> </a>See Also 
</h4>

<p><a name="1076957"> </a><a href="SystemEventManager.html#1071061"><code>EvtGetEvent()</code></a></p>

<h3 class="hbH3">
  <a name="1076960"> </a>SysTicksPerSecond Function <a href="#1075863"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1076962"> </a>Purpose 
</h4>

<p><a name="1076963"> </a>Return the number of ticks per second. This routine allows applications to be tolerant of changes to the ticks per second rate in the system. </p>
<h4>
  <a name="1076964"> </a>Declared In 
</h4>
<code>SystemMgr.h<a name="1076965"> </a></code><h4>
  <a name="1076966"> </a>Prototype 
</h4>
<pre class="proto"><a name="1076968"></a>UInt16 SysTicksPerSecond (
   void
)
</pre>
<h4>
  <a name="1076969"> </a>Parameters 
</h4>

<dl>
<dt><a name="1076970"> </a><code>None</code></dt>
</dl>
<h4>
  <a name="1076971"> </a>Returns 
</h4>

<p><a name="1076972"> </a>Returns the number of ticks per second.</p>
<h4>
  <a name="1076973"> </a>Compatibility 
</h4>

<p><a name="1076977"> </a>Implemented only if <a href="CompatibilityApdx.html#992789">2.0 New Feature Set</a> is present.</p>

<h3 class="hbH3">
  <a name="1076980"> </a>SysUIAppSwitch Function <a href="#1075863"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1076982"> </a>Purpose 
</h4>

<p><a name="1076983"> </a>Try to make the current UI application quit and then launch the UI application specified by card number and database ID.</p>
<h4>
  <a name="1076984"> </a>Declared In 
</h4>
<code>SystemMgr.h<a name="1076985"> </a></code><h4>
  <a name="1076986"> </a>Prototype 
</h4>
<pre class="proto"><a name="1076988"></a>Err SysUIAppSwitch (
   UInt16 cardNo,
   LocalID dbID,
   UInt16 cmd,
   MemPtr cmdPBP
)
</pre>
<h4>
  <a name="1076989"> </a>Parameters 
</h4>

<dl>
<dt><a name="1076990"> </a><code>&rarr;  <i><code>cardNo</code></i></code></dt>
<dd><a name="1076991"> </a>Card number for the new application; currently only card 0 is valid.</dd>

<dt><a name="1076992"> </a><code>&rarr;  <i><code>dbID</code></i></code></dt>
<dd><a name="1076993"> </a>ID of the new application's resource database.</dd>

<dt><a name="1076994"> </a><code>&rarr;  <i><code>cmd</code></i></code></dt>
<dd><a name="1076995"> </a>Action code (launch code). </dd>

<dt><a name="1076996"> </a><code>&rarr;  <i><code>cmdPBP</code></i></code></dt>
<dd><a name="1076997"> </a>Action code (launch code) parameter block.</dd>

</dl>
<h4>
  <a name="1076998"> </a>Returns 
</h4>

<p><a name="1076999"> </a>Returns 0 if no error.</p>

<p><a name="1077000"> </a>May display a fatal error message if the <code>cardNo</code> parameter is invalid. On debug ROMs, displays a fatal error message if there is no currently running application. </p>
<h4>
  <a name="1077001"> </a>Comments 
</h4>

<p><a name="1077002"> </a>Do not use this function to open the system-supplied Application Launcher application. If a third-party launch is installed, you'll likely want to launch that one instead. To do this, enqueue a <code>keyDownEvent</code> that contains a <code>launchChr</code>, as shown in the section <a href="../PalmOSCompanion/UserInterface.html#1011190">"Application Launcher"</a> of the user interface chapter in the <i>Palm OS Programmer's Companion</i>, vol. I. This will run whatever is run whenever you tap on the Applications icon.</p>

<p><a name="1077009"> </a>If you are passing a parameter block (the <code>cmdPBP</code> parameter), you must set the owner of the parameter block chunk to the operating system. To do this, and for more information, see <a href="MemoryManager.html#1017249"><code>MemPtrSetOwner()</code></a>. If the parameter block structure contains references by pointer or handle to any other chunks, you also must set the owner of those chunks by using <a href="MemoryManager.html#1016553"><code>MemHandleSetOwner()</code></a> or <code>MemPtrSetOwner()</code> as appropriate. If you set the owner of this parameter block properly, the system maintains the parameter block and frees it when the second application quits. If you don't set the owner of the parameter block, the system frees the parameter block as soon as the calling application quits, causing unpredictable results. </p>
<h4>
  <a name="1077016"> </a>See Also 
</h4>

<p><a name="1077023"> </a><a href="SystemManager.html#1075905"><code>SysAppLaunch()</code></a>, <a href="../PalmOSCompanion/AppStartupAndStop.html#997517">Chapter 2, "Application Startup and Stop,"</a> in the <i>Palm OS Programmer's Companion</i>, vol. I.</p>

<h2 class="haH2">
  <a name="1077027"> </a>Application-Defined Functions <a href="#1075863"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="1077030"> </a>PilotMain Function <a href="#1075863"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1077032"> </a>Purpose 
</h4>

<p><a name="1077033"> </a>The entry point for all Palm OS applications, this function's sole purpose is to receive and respond to launch codes.</p>
<h4>
  <a name="1077034"> </a>Declared In 
</h4>
<code>SystemMgr.h<a name="1077035"> </a></code><h4>
  <a name="1077036"> </a>Prototype 
</h4>
<pre class="proto"><a name="1077037"></a>UInt32 PilotMain(
   UInt16 cmd,
   void *cmdPBP,
   UInt16 launchFlags
)
</pre>
<h4>
  <a name="1077038"> </a>Parameters 
</h4>

<dl>
<dt><a name="1077039"> </a><code>&rarr;  <i><code>cmd</code></i></code></dt>
<dd><a name="1077040"> </a>The launch code to which your application is to respond. See <a href="AppLaunchCodes.html#1011221">Chapter 1, "Application Launch Codes,"</a> for a list of predefined launch codes. You may create additional launch codes; see <a href="../PalmOSCompanion/AppStartupAndStop.html#997886">"Creating Your Own Launch Codes"</a> of the <i>Palm OS Programmer's Companion</i>, vol. I.</dd>

<dt><a name="1077050"> </a><code>&rarr;  <i><code>cmdPBP</code></i></code></dt>
<dd><a name="1077051"> </a>A pointer to a structure containing any launch-command-specific parameters, or <code>NULL</code> if the launch code has none. See the description of each launch code for a description of the parameter structure that accompanies it, if any.</dd>

<dt><a name="1077052"> </a><code>&rarr;  <i><code>launchFlags</code></i></code></dt>
<dd><a name="1077053"> </a>Flags that indicate whether your application's global variables are available, whether your application is now the active application, whether it already was the active application, and so on. See <a href="AppLaunchCodes.html#1012458">"Launch Flags"</a> for a list of launch flags.</dd>

</dl>
<h4>
  <a name="1077057"> </a>Returns 
</h4>

<p><a name="1077058"> </a>Return <code>errNone</code> if your application processed the launch code successfully, or an appropriate error code if there was a problem. When another application invokes your application using <a href="SystemManager.html#1075905"><code>SysAppLaunch()</code></a>, this value is returned to the caller.</p>
<h4>
  <a name="1077062"> </a>Comments 
</h4>

<p><a name="1077066"> </a>See <a href="../PalmOSCompanion/AppStartupAndStop.html#997517">Chapter 2, "Application Startup and Stop,"</a> of the <i>Palm OS Programmer's Companion</i>, vol. I for a discussion on how applications receive and handle launch codes, with examples.</p>

<p><a name="1077070"> </a></p>
&nbsp;<br>
</div>
<!--END CONTENT-->

</td>
<td width="5">&nbsp;&nbsp;</td>
</tr>

</table>

<!-- BEGIN FOOTER -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="7" rowspan="2"><img name="index_x" src="images/shim.gif" width="7" height="33" border="0" alt=""></td>
<td align="left"><img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
<td width="10" rowspan="2"><img name="index_x" src="images/shim.gif" width="10" height="33" border="0" alt=""></td>
</tr>
<tr>
<td align="center">
<p class="footer">
Copyright © 1996-2004, PalmSource, Inc. and its affiliates.  All rights reserved. <br>
<a href="http://www.palmsource.com/contact/">Write Us</a> | <a href="http://www.palmos.com/dev/training/">Training</a> | <a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a> | <a href="Reference_Front.html" target="_blank">Legal</a></p>
<br>
<!--BEGIN BOOK NAVIGATION-->
<p class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="ReferenceTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="SystemEventManager.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="TextMgr.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ReferenceIX.html">Index</a>
</p>
</td>
</tr>
</table>
<!-- END FOOTER -->

</body>
</html>