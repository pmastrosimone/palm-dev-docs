<html>
<head>
<title>(68K) Telephony SMS | Palm OS&#174; Programmer's  API Reference</title> 
<link href="psi_devpubs.css" rel="stylesheet" type="text/css">

<!-- BEGIN META DATA -->
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META NAME="PSITEMPLATE" CONTENT="1006-007 PalmSource_HTML_2003 20041101">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks AutoMap 2003 for FrameMaker 8.0.6.2138">
<META NAME="LASTUPDATED" CONTENT="11/22/04 10:47:23">
<!-- END META DATA -->
</head>

<body bgcolor="#ffffff" text="#000000" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<a name="1056053"></a>

<!-- BEGIN TOPNAV -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td><img src="images/shim.gif" width="7" height="75" border="0" alt=""></td>
<td align="left"><table border="0" cellpadding="0" cellspacing="0" width="744">
<tr>
<td><img name="index_r2_c1" src="images/shim.gif" width="25" height="75" border="0" alt=""></td>
<td valign="top"><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_r2_c4" src="images/shim.gif" width="96" height="15" border="0" alt=""></td>
</tr>
<tr>
<td><a href="http://www.palmsource.com/"><img name="ps_logo" src="images/ps_logo.gif" width="96" height="54" border="0" alt=""></a></td>
</tr>

</table>
</td>

<td><table border="0" cellpadding="0" cellspacing="0" width="30">
<td><img name="index_x" src="images/shim.gif" width="30" height="75" border="0" alt=""></td>
</table></td>

<!--BEGIN MASTHEAD-->
<td><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
<tr>
<td>
<!--BEGIN BOOK NAVIGATION-->
<span class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="ReferenceTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="TelephonyCalls.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="TelephonyPhonebook.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ReferenceIX.html">Index</a>
</span>
<!--END BOOK NAVIGATION-->
</tr>
<tr>
<td>
<!--BEGIN PAGE TITLE-->
<h2 class="PageTitle">77 &nbsp;&nbsp;
Telephony SMS</h2></td>
<!--END PAGE TITLE-->
</tr>
<tr>
<td>
<!--BEGIN BOOK TITLE-->
<p class="BookTitle">Palm OS&#174; Programmer's  API Reference</p>
<p class="SubTitle">Palm OS&#174; 68K SDK </p>
<!--END BOOK TITLE-->
</td>
</tr>
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
</table>
</td>
<!--END MASTHEAD-->
</tr>
</table>
<img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
</tr>
</table>
<!-- END TOPNAV -->

<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" width="5"><img name="index_x" src="images/shim.gif" width="5" height="33" border="0" alt=""></td>

<!--BEGIN SIDETOC-->
<td valign="top" width="175">
<div id="sidetoc" valign="bottom">
<h1 class="SideTOC1-PartTab"><a href="PartIII.html">Part III: Communications</a> </h1>
<h1 class="SideTOC1"><a href="TelephonySMS.html">77  Telephony SMS</a></h1>

   <h2 class="SideTOC2"><a href="#1056080">
   Telephony SMS Data Structures</a></h2>

      <h3 class="SideTOC3"><a href="#1099302">
      TelSmsDateTimeType</a></h3>

      <h3 class="SideTOC3"><a href="#1099321">
      TelSmsDeleteMessageType</a></h3>

      <h3 class="SideTOC3"><a href="#1099345">
      TelSmsDeliveryAdvancedCDMAType</a></h3>

      <h3 class="SideTOC3"><a href="#1099392">
      TelSmsDeliveryAdvancedGSMType</a></h3>

      <h3 class="SideTOC3"><a href="#1099419">
      TelSmsDeliveryAdvancedTDMAType</a></h3>

      <h3 class="SideTOC3"><a href="#1099464">
      TelSmsDeliveryMessageType</a></h3>

      <h3 class="SideTOC3"><a href="#1099549">
      TelSmsExtensionType</a></h3>

      <h3 class="SideTOC3"><a href="#1099590">
      TelSmsGetAvailableStorageType</a></h3>

      <h3 class="SideTOC3"><a href="#1099611">
      TelSmsGetMessageCountType</a></h3>

      <h3 class="SideTOC3"><a href="#1099637">
      TelSmsManualAckType</a></h3>

      <h3 class="SideTOC3"><a href="#1099670">
      TelSmsMultiPartExtensionType</a></h3>

      <h3 class="SideTOC3"><a href="#1099695">
      TelSmsNbsExtensionType</a></h3>

      <h3 class="SideTOC3"><a href="#1099713">
      TelSmsReadMessagesType</a></h3>

      <h3 class="SideTOC3"><a href="#1099737">
      TelSmsReadReportsType</a></h3>

      <h3 class="SideTOC3"><a href="#1099762">
      TelSmsReadSubmittedMessagesType</a></h3>

      <h3 class="SideTOC3"><a href="#1099785">
      TelSmsReportType</a></h3>

      <h3 class="SideTOC3"><a href="#1099831">
      TelSmsSendMessageType</a></h3>

      <h3 class="SideTOC3"><a href="#1099849">
      TelSmsSubmitAdvancedCDMAType</a></h3>

      <h3 class="SideTOC3"><a href="#1099886">
      TelSmsSubmitAdvancedGSMType</a></h3>

      <h3 class="SideTOC3"><a href="#1099913">
      TelSmsSubmitAdvancedTDMAType</a></h3>

      <h3 class="SideTOC3"><a href="#1099927">
      TelSmsSubmitMessageType</a></h3>

      <h3 class="SideTOC3"><a href="#1099998">
      TelSmsSubmittedMessageType</a></h3>

      <h3 class="SideTOC3"><a href="#1100018">
      TelSmsUserExtensionType</a></h3>

   <h2 class="SideTOC2"><a href="#1057582">
   Telephony SMS Constants</a></h2>

      <h3 class="SideTOC3"><a href="#1090618">
      SMS Extension Type Constants</a></h3>

      <h3 class="SideTOC3"><a href="#1057620">
      SMS Message Type Constants</a></h3>

      <h3 class="SideTOC3"><a href="#1089874">
      SMS Message Transport Protocol Constants</a></h3>

      <h3 class="SideTOC3"><a href="#1090723">
      SMS Storage ID Constants</a></h3>

      <h3 class="SideTOC3"><a href="#1057753">
      SMS Data Coding Scheme Constants</a></h3>

      <h3 class="SideTOC3"><a href="#1091377">
      SMS Message Urgency Constants</a></h3>

      <h3 class="SideTOC3"><a href="#1090675">
      SMS Message Privacy Constants</a></h3>

      <h3 class="SideTOC3"><a href="#1101807">
      SMS Message Types</a></h3>

      <h3 class="SideTOC3"><a href="#1102982">
      SMS Delivery Status Reports</a></h3>

      <h3 class="SideTOC3"><a href="#1103068">
      SMS Report Types</a></h3>

   <h2 class="SideTOC2"><a href="#1057870">
   Telephony SMS Functions</a></h2>

      <h3 class="SideTOC3"><a href="#1057874">
      TelSmsDeleteMessage</a></h3>

      <h3 class="SideTOC3"><a href="#1057939">
      TelSmsGetAvailableStorage</a></h3>

      <h3 class="SideTOC3"><a href="#1058010">
      TelSmsGetDataMaxSize</a></h3>

      <h3 class="SideTOC3"><a href="#1058075">
      TelSmsGetMessageCount</a></h3>

      <h3 class="SideTOC3"><a href="#1058147">
      TelSmsGetSelectedStorage</a></h3>

      <h3 class="SideTOC3"><a href="#1058212">
      TelSmsGetUniquePartId</a></h3>

      <h3 class="SideTOC3"><a href="#1058274">
      TelSmsReadMessage</a></h3>

      <h3 class="SideTOC3"><a href="#1058370">
      TelSmsReadMessages</a></h3>

      <h3 class="SideTOC3"><a href="#1058451">
      TelSmsReadReport</a></h3>

      <h3 class="SideTOC3"><a href="#1058531">
      TelSmsReadReports</a></h3>

      <h3 class="SideTOC3"><a href="#1058614">
      TelSmsReadSubmittedMessage</a></h3>

      <h3 class="SideTOC3"><a href="#1058691">
      TelSmsReadSubmittedMessages</a></h3>

      <h3 class="SideTOC3"><a href="#1058774">
      TelSmsSelectStorage</a></h3>

      <h3 class="SideTOC3"><a href="#1058840">
      TelSmsSendManualAcknowledge</a></h3>

      <h3 class="SideTOC3"><a href="#1058903">
      TelSmsSendMessage</a></h3>

</div>
</td>

<td width="5">&nbsp;&nbsp;</td>
<td width="2" background="images/index_r8_c10.gif"><img src="images/shim.gif" width="2" height="75" border="0" alt=""></td>
<td width="5">&nbsp;&nbsp;</td>

<!--END SIDETOC-->

<td valign="top">

<!--BEGIN CONTENT-->
<div id="content" valign="bottom">
<p><a name="1056054"> </a>This chapter describes the telephony SMS service set of the telephony API.</p>

<p><a name="1056055"> </a>For more information about the telephony manager basic services and the different service sets, see <a href="TelephonyBasic.html#1044083">Chapter 73, "Telephony Basic Services."</a></p>

<p><a name="1056059"> </a>This chapter describes:</p>
<ul type="disc">
  <li><a name="1056063"> </a><a href="TelephonySMS.html#1056080">Telephony SMS Data Structures</a>
  <li><a name="1056067"> </a><a href="TelephonySMS.html#1057582">Telephony SMS Constants</a>
  <li><a name="1056071"> </a><a href="TelephonySMS.html#1057870">Telephony SMS Functions</a>
</ul>

<p><a name="1056072"> </a>For more information about using the telephony manager, see <a href="../PalmOSCompanion2/TelephonyMgr.html#1034776">Chapter 10, "Telephony Manager,"</a> in <i>Palm OS Programmer's Companion</i>, vol. II, <i>Communications</i>.</p>

<h2 class="haH2">
  <a name="1056080"> </a>Telephony SMS Data Structures <a href="#1056053"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1056081"> </a>This section describes the data structures used with the SMS service set of the telephony API.</p>

<h3 class="hbH3">
  <a name="1099302"> </a>TelSmsDateTimeType Struct <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1099304"> </a>Purpose 
</h4>

<p><a name="1099305"> </a>Several of the other data structures used with the Telephony SMS functions include an <code>TelSmsDateTimeType</code> structure to store a date and time value.</p>
<h4>
  <a name="1099306"> </a>Declared In 
</h4>
<code>TelephonyMgrTypes.h<a name="1099307"> </a></code><h4>
  <a name="1099308"> </a>Prototype 
</h4>
<pre class="proto"><a name="1099309"></a>typedef struct _TelSmsDateTimeType {
   Boolean absolute;
   UInt32 dateTime;
} TelSmsDateTimeType
</pre>
<h4>
  <a name="1099310"> </a>Fields 
</h4>

<dl>
<dt><a name="1099311"> </a><code>&rarr; <code>absolute</code></code></dt>
<dd><a name="1099312"> </a>If <code>true</code>, the <code>dateTime</code> value is an absolute time value specified as the number of seconds since 1/1/1904. This is the format returned by the <a href="DateAndTimeManager.html#1098520"><code>TimGetSeconds()</code></a> function. If <code>false</code>, the <code>dateTime</code> value is relative to the current date and time.</dd>

<dt><a name="1099313"> </a><code>&rarr; <code>dateTime</code></code></dt>
<dd><a name="1099314"> </a>The date and time value. </dd>

</dl>

<h3 class="hbH3">
  <a name="1099321"> </a>TelSmsDeleteMessageType Struct <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1099323"> </a>Purpose 
</h4>

<p><a name="1099327"> </a>The <a href="TelephonySMS.html#1057874"><code>TelSmsDeleteMessage()</code></a> function uses a <code>TelSmsDeleteMessageType</code> structure to specify the message to be deleted.</p>
<h4>
  <a name="1099328"> </a>Declared In 
</h4>
<code>TelephonyMgrTypes.h<a name="1099329"> </a></code><h4>
  <a name="1099330"> </a>Prototype 
</h4>
<pre class="proto"><a name="1099331"></a>typedef struct _TelSmsDeleteMessageType {
   UInt8 messageType;
   UInt16 index;
} TelSmsDeleteMessageType
</pre>
<h4>
  <a name="1099332"> </a>Fields 
</h4>

<dl>
<dt><a name="1099333"> </a><code>&rarr; <code>messageType</code></code></dt>
<dd><a name="1099336"> </a>The message type. This is one of the <a href="TelephonySMS.html#1057620">SMS Message Type Constants</a>.</dd>

<dt><a name="1099338"> </a><code>&rarr; <code>index</code></code></dt>
<dd><a name="1099339"> </a>The index of the SMS message in the phone's storage that is to be deleted. Note that the message is deleted from the storage area selected by a call to the <a href="TelephonySMS.html#1058774"><code>TelSmsSelectStorage()</code></a> function. </dd>

<dd><a name="1099343"> </a>Note that the index is zero-based.</dd>

</dl>

<h3 class="hbH3">
  <a name="1099345"> </a>TelSmsDeliveryAdvancedCDMAType Struct <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1099347"> </a>Purpose 
</h4>

<p><a name="1099351"> </a>The <a href="TelephonySMS.html#1099464"><code>TelSmsDeliveryMessageType</code></a> structure includes a <code>TelSmsDeliveryAdvancedCDMAType</code> structure for CDMA messages.</p>
<h4>
  <a name="1099352"> </a>Declared In 
</h4>
<code>TelephonyMgrTypes.h<a name="1099353"> </a></code><h4>
  <a name="1099354"> </a>Prototype 
</h4>
<pre class="proto"><a name="1099355"></a>typedef struct _TelSmsDeliveryAdvancedCDMAType {
   UInt8 messageType;
   TelSmsDateTimeType validityPeriod;
   UInt8 priority;
   UInt8 privacy;
   Boolean alertOnDeliveryRequest;
   Boolean manualAckRequest;
   UInt8 voiceMessageNumber;
   UInt8 callbackNumberSize;
   Char *callbackNumberAddress;
   UInt8 languageIndicator;
} TelSmsDeliveryAdvancedCDMAType
</pre>
<h4>
  <a name="1099356"> </a>Fields 
</h4>

<dl>
<dt><a name="1099357"> </a><code><code>messageType</code></code></dt>
<dd><a name="1099360"> </a>The type of the message. This must be one of the <a href="TelephonySMS.html#1057620">SMS Message Type Constants</a>.</dd>

<dt><a name="1099362"> </a><code><code>validityPeriod</code></code></dt>
<dd><a name="1099366"> </a>An <a href="TelephonySMS.html#1099302"><code>TelSmsDateTimeType</code></a> structure that specifies the amount of time for which the message is valid.</dd>

<dt><a name="1099367"> </a><code><code>priority</code></code></dt>
<dd><a name="1099370"> </a>The message priority. This must be one of the <a href="TelephonySMS.html#1091377">SMS Message Urgency Constants</a>.</dd>

<dt><a name="1099372"> </a><code><code>privacy</code></code></dt>
<dd><a name="1099375"> </a>The privacy type of the message. This must be one of the <a href="TelephonySMS.html#1090675">SMS Message Privacy Constants</a>.</dd>

<dt><a name="1099377"> </a><code><code>alertOnDeliveryRequest</code></code></dt>
<dd><a name="1099378"> </a><code>true</code> if the user is to be alerted upon delivery of this message, and <code>false</code> if not.</dd>

<dt><a name="1099379"> </a><code><code>manualAckRequest</code></code></dt>
<dd><a name="1099380"> </a><code>true</code> if a reply is requested from the user, and <code>false</code> if not.</dd>

<dt><a name="1099381"> </a><code><code>voiceMessageNumber</code></code></dt>
<dd><a name="1099382"> </a>The index of a new message in the in box. </dd>

<dt><a name="1099383"> </a><code><code>callbackNumberSize</code></code></dt>
<dd><a name="1099384"> </a>When the structure is used as an input parameter, this is the allocated size, in bytes, of the <code>callbackNumberAddress</code> string.</dd>

<dd><a name="1099385"> </a>Upon return, this is the actual size of the string, including the null terminator character. If the buffer is too small to contain the entire retrieved string, this field is assigned the entire length of the string, and the function using this structure generates a <code>telErrBufferSize</code> error.</dd>

<dt><a name="1099386"> </a><code><code>callbackNumberAddress</code></code></dt>
<dd><a name="1099387"> </a>A buffer into which the callback number address string is stored.</dd>

<dd><a name="1099388"> </a>Note that if this buffer is too small to contain the entire retrieved string, the end of the string is truncated (and ends with the null terminator character) and the function using this structure generates a <code>telErrBufferSize</code> error.</dd>

<dt><a name="1099389"> </a><code><code>languageIndicator</code></code></dt>
<dd><a name="1099390"> </a>Reserved. </dd>

</dl>

<h3 class="hbH3">
  <a name="1099392"> </a>TelSmsDeliveryAdvancedGSMType Struct <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1099394"> </a>Purpose 
</h4>

<p><a name="1099398"> </a>The <a href="TelephonySMS.html#1099464"><code>TelSmsDeliveryMessageType</code></a> structure includes a <code>TelSmsDeliveryAdvancedGSMType</code> structure for GSM messages.</p>
<h4>
  <a name="1099399"> </a>Declared In 
</h4>
<code>TelephonyMgrTypes.h<a name="1099400"> </a></code><h4>
  <a name="1099401"> </a>Prototype 
</h4>
<pre class="proto"><a name="1099402"></a>typedef struct _TelSmsDeliveryAdvancedGSMType {
   UInt16 protocolId;
   Boolean replyPath;
   Char *serviceCenterNumber;
   UInt8 serviceCenterNumberSize;
} TelSmsDeliveryAdvancedGSMType
</pre>
<h4>
  <a name="1099403"> </a>Fields 
</h4>

<dl>
<dt><a name="1099404"> </a><code>&larr; <code>protocolId</code></code></dt>
<dd><a name="1099407"> </a>The protocol used for this message. This is one of the <a href="TelephonySMS.html#1089874">SMS Message Transport Protocol Constants</a>. </dd>

<dt><a name="1099409"> </a><code>&larr; <code>replyPath</code></code></dt>
<dd><a name="1099410"> </a>If this value is set, then you use the <code>serviceCenterNumber</code> to reply to this message.</dd>

<dd><a name="1103104"> </a>If this value is not set, you use the default service center provided by your network operator.</dd>

<dt><a name="1103105"> </a><code>&harr; <code>serviceCenterNumber</code></code></dt>
<dd><a name="1103106"> </a>A buffer into which the service center number string is stored.</dd>

<dd><a name="1099414"> </a>Note that if this buffer is too small to contain the entire retrieved string, the end of the string is truncated (and ends with the null terminator character) and the function using this structure generates a <code>telErrBufferSize</code> error.</dd>

<dt><a name="1099415"> </a><code>&harr; <code>serviceCenterNumberSize</code></code></dt>
<dd><a name="1099416"> </a>When the structure is used as an input parameter, this is the allocated size, in bytes, of the <code>serviceCenterNumber</code> string.</dd>

<dd><a name="1099417"> </a>Upon return, this is the actual size of the string, including the null terminator character. If the buffer is too small to contain the entire retrieved string, this field is assigned the entire length of the string, and the function using this structure generates a <code>telErrBufferSize</code> error.</dd>

</dl>

<h3 class="hbH3">
  <a name="1099419"> </a>TelSmsDeliveryAdvancedTDMAType Struct <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1099421"> </a>Purpose 
</h4>

<p><a name="1099425"> </a>The <a href="TelephonySMS.html#1099464"><code>TelSmsDeliveryMessageType</code></a> structure includes a <code>TelSmsDeliveryAdvancedTDMAType</code> structure for TDMA messages.</p>
<h4>
  <a name="1099426"> </a>Declared In 
</h4>
<code>TelephonyMgrTypes.h<a name="1099427"> </a></code><h4>
  <a name="1099428"> </a>Prototype 
</h4>
<pre class="proto"><a name="1099429"></a>typedef struct _TelSmsDeliveryAdvancedTDMAType {
   UInt8 messageType;
   TelSmsDateTimeType validityPeriod;
   UInt8 priority;
   UInt8 privacy;
   Boolean manualAckRequest;
   Boolean alertOnDeliveryRequest;
   UInt8 voiceMessageNumber;
   UInt8 callbackNumberSize;
   Char *callbackNumberAddress;
} TelSmsDeliveryAdvancedTDMAType
</pre>
<h4>
  <a name="1099430"> </a>Fields 
</h4>

<dl>
<dt><a name="1099431"> </a><code><code>messageType</code></code></dt>
<dd><a name="1099434"> </a>The type of the message. This must be one of the <a href="TelephonySMS.html#1057620">SMS Message Type Constants</a>.</dd>

<dt><a name="1099436"> </a><code><code>validityPeriod</code></code></dt>
<dd><a name="1099440"> </a>An <a href="TelephonySMS.html#1099302"><code>TelSmsDateTimeType</code></a> structure that specifies the amount of time for which the message is valid.</dd>

<dt><a name="1099441"> </a><code><code>priority</code></code></dt>
<dd><a name="1099444"> </a>The message priority. This must be one of the <a href="TelephonySMS.html#1091377">SMS Message Urgency Constants</a>.</dd>

<dt><a name="1099446"> </a><code><code>privacy</code></code></dt>
<dd><a name="1099449"> </a>The privacy type of the message. This must be one of the <a href="TelephonySMS.html#1090675">SMS Message Privacy Constants</a>.</dd>

<dt><a name="1099451"> </a><code><code>alertOnDeliveryRequest</code></code></dt>
<dd><a name="1099452"> </a><code>true</code> if the user is to be alerted upon delivery of this message, and <code>false</code> if not.</dd>

<dt><a name="1099453"> </a><code><code>manualAckRequest</code></code></dt>
<dd><a name="1099454"> </a><code>true</code> if a reply is requested from the user, and <code>false</code> if not.</dd>

<dt><a name="1099455"> </a><code><code>voiceMessageNumber</code></code></dt>
<dd><a name="1103093"> </a>The index of the message in the in box. </dd>

<dt><a name="1099457"> </a><code><code>callbackNumberSize</code></code></dt>
<dd><a name="1099458"> </a>When the structure is used as an input parameter, this is the allocated size, in bytes, of the <code>callbackNumberAddress</code> string.</dd>

<dd><a name="1099459"> </a>Upon return, this is the actual size of the string, including the null terminator character. If the buffer is too small to contain the entire retrieved string, this field is assigned the entire length of the string, and the function using this structure generates a <code>telErrBufferSize</code> error.</dd>

<dt><a name="1099460"> </a><code><code>callbackNumberAddress</code></code></dt>
<dd><a name="1099461"> </a>A buffer into which the callback telephone number address string is stored.</dd>

<dd><a name="1099462"> </a>Note that if this buffer is too small to contain the entire retrieved string, the end of the string is truncated (and ends with the null terminator character) and the function using this structure generates a <code>telErrBufferSize</code> error.</dd>

</dl>

<h3 class="hbH3">
  <a name="1099464"> </a>TelSmsDeliveryMessageType Struct <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1099466"> </a>Purpose 
</h4>

<p><a name="1099470"> </a>The <a href="TelephonySMS.html#1058274"><code>TelSmsReadMessage()</code></a> function uses a <code>TelSmsDeliveryMessageType</code> structure to retrieve information about a delivered message.</p>
<h4>
  <a name="1099471"> </a>Declared In 
</h4>
<code>TelephonyMgrTypes.h<a name="1099472"> </a></code><h4>
  <a name="1099473"> </a>Prototype 
</h4>
<pre class="proto"><a name="1099474"></a>typedef struct _TelSmsDeliveryMessageType {
   UInt16 version;
   UInt16 index;
   UInt32 messageIdentifier;
   TelSmsDateTimeType timeStamp;
   UInt16 dataSize;
   UInt8 *data;
   UInt8 dataCodingScheme;
   UInt8 originatingAddressSize;
   Char *originatingAddress;
   Boolean otherToReceive;
   Boolean reportDeliveryIndicator;
   UInt8 standardType;
   union {
      TelSmsDeliveryAdvancedGSMType advancedGSM;
      TelSmsDeliveryAdvancedCDMAType advancedCDMA;
      TelSmsDeliveryAdvancedTDMAType advancedTDMA;
   } advancedParams;
   UInt8 extensionsCount;
   TelSmsExtensionType *extensionsP;
} TelSmsDeliveryMessageType
</pre>
<h4>
  <a name="1099475"> </a>Fields 
</h4>

<dl>
<dt><a name="1099476"> </a><code>&rarr; <code>version</code></code></dt>
<dd><a name="1099477"> </a>The version of the SMS API associated with this message.</dd>

<dt><a name="1099478"> </a><code>&harr; <code>index</code></code></dt>
<dd><a name="1099479"> </a>Upon return, the SMS index of the message on the phone. This is a 0-based index.</dd>

<dd><a name="1099480"> </a>This value is used for input only when calling the <a href="TelephonySMS.html#1058274"><code>TelSmsReadMessage()</code></a> function to read one SMS at a time.</dd>

<dt><a name="1099484"> </a><code>&larr; <code>messageIdentifier</code></code></dt>
<dd><a name="1099485"> </a>The message identifier.</dd>

<dt><a name="1099486"> </a><code>&larr; <code>timeStamp</code></code></dt>
<dd><a name="1099490"> </a>The message time stamp. This is a <a href="TelephonySMS.html#1099302"><code>TelSmsDateTimeType</code></a> structure.</dd>

<dt><a name="1099491"> </a><code>&harr; <code>dataSize</code></code></dt>
<dd><a name="1099492"> </a>The size of the <code>data</code> buffer.</dd>

<dd><a name="1099493"> </a>When the structure is used as an input parameter, this is the allocated size of the <code>data</code> buffer. </dd>

<dd><a name="1099494"> </a>Upon return, this is the actual size of the message data. If the buffer is too small to contain the entire message, this field is assigned the entire length of the message, and the function using this structure generates a <code>telErrBufferSize</code> error.</dd>

<dt><a name="1099495"> </a><code>&harr; <code>data</code></code></dt>
<dd><a name="1099496"> </a>A buffer into which the retrieved data is stored.</dd>

<dd><a name="1099497"> </a>Note that if this buffer is too small to contain the entire retrieved message, the end of the message is truncated and the function using this structure generates a <code>telErrBufferSize</code> error.</dd>

<dt><a name="1099498"> </a><code>&larr; <code>dataCodingScheme</code></code></dt>
<dd><a name="1099501"> </a>The coding scheme used for the data. This is one of the <a href="TelephonySMS.html#1057753">SMS Data Coding Scheme Constants</a>.</dd>

<dt><a name="1099503"> </a><code>&harr; <code>originatingAddressSize</code></code></dt>
<dd><a name="1099504"> </a>The size of the <code>originatingAddress </code>buffer.</dd>

<dd><a name="1099505"> </a>When the structure is used as an input parameter, this is the allocated size of the <code>originatingAddress</code> buffer. </dd>

<dd><a name="1099506"> </a>Upon return, this is the actual size of the string, including the null terminator character. If the buffer is too small to contain the entire retrieved string, this field is assigned the entire length of the string, and the function using this structure generates a <code>telErrBufferSize</code> error.</dd>

<dt><a name="1099507"> </a><code>&harr; <code>originatingAddress</code></code></dt>
<dd><a name="1099508"> </a>A buffer into which the originating address string is stored.</dd>

<dd><a name="1099509"> </a>Note that if this buffer is too small to contain the entire string, the end of the string is truncated (and ends with the null terminator character) and the function using this structure generates a <code>telErrBufferSize</code> error.</dd>

<dt><a name="1099510"> </a><code>&larr; <code>otherToReceive</code></code></dt>
<dd><a name="1099511"> </a>Indicates whether there are more messages waiting to be received from the service center to the mobile device.</dd>

<dt><a name="1099512"> </a><code>&larr; <code>reportDeliveryIndicator</code></code></dt>
<dd><a name="1099513"> </a>If <code>true</code>, indicates that the originating user has asked the network to send a delivery report.</dd>

<dt><a name="1099514"> </a><code>&larr; <code>standardType</code></code></dt>
<dd><a name="1099515"> </a>Indicates which field of the <code>advancedParams</code> union contains the message information. This is one of the <a href="TelephonyNetwork.html#1049614">Network Type Constants</a> described in <a href="TelephonyNetwork.html#1041431">Chapter 75, "Telephony Network."</a></dd>

<dd><a name="1099522"> </a>If this value is <code>kTelNwkCDMA</code>, then the <code>advancedParams</code> union contains a <a href="TelephonySMS.html#1099345"><code>TelSmsDeliveryAdvancedCDMAType</code></a> structure, and similarly for the other values.</dd>

<dt><a name="1099526"> </a><code><code>advancedParams</code></code></dt>
<dd><a name="1099527"> </a>Advanced message information for GSM, CDMA, or TDMA messages. This is one of the following structure types: </dd>

<dd><a name="1099531"> </a><a href="TelephonySMS.html#1099392"><code>TelSmsDeliveryAdvancedGSMType</code></a></dd>

<dd><a name="1099535"> </a><a href="TelephonySMS.html#1099345"><code>TelSmsDeliveryAdvancedCDMAType</code></a></dd>

<dd><a name="1099539"> </a><a href="TelephonySMS.html#1099419"><code>TelSmsDeliveryAdvancedTDMAType</code></a></dd>

<dt><a name="1099540"> </a><code>&harr; <code>extensionsCount</code></code></dt>
<dd><a name="1099541"> </a>On input, this is the number of extension structures allocated for this message. You must allocate at least one structure to specify the multipart information.</dd>

<dd><a name="1099542"> </a>Upon return, this is the number of extensions in the SMS header. If the SMS header contains more extensions than you have allocated, the available extension structures are filled, and this function generates a <code>telErrBufferSize</code> error.</dd>

<dt><a name="1099543"> </a><code>&harr; <code>extensionsP</code></code></dt>
<dd><a name="1099547"> </a>A pointer to an array of <a href="TelephonySMS.html#1099549"><code>TelSmsExtensionType</code></a> structures that you have allocated for this message. You must allocate this array before using this structure.</dd>

</dl>

<h3 class="hbH3">
  <a name="1099549"> </a>TelSmsExtensionType Struct <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1099551"> </a>Purpose 
</h4>

<p><a name="1099552"> </a>The <code>TelSmsExtensionType</code> structure specifies multipart information about a message.</p>
<h4>
  <a name="1099553"> </a>Declared In 
</h4>
<code>TelephonyMgrTypes.h<a name="1099554"> </a></code><h4>
  <a name="1099555"> </a>Prototype 
</h4>
<pre class="proto"><a name="1099556"></a>typedef struct _TelSmsExtensionType {
   UInt8 extensionTypeId;
   union {
      TelSmsMultiPartExtensionType mp;
      TelSmsNbsExtensionType nbs;
      TelSmsUserExtensionType user;
   } extension;
} TelSmsExtensionType
</pre>
<h4>
  <a name="1099557"> </a>Fields 
</h4>

<dl>
<dt><a name="1099558"> </a><code>&harr; <code>extensionTypeId</code></code></dt>
<dd><a name="1099559"> </a>Identifies the type of SMS extension structure found in the <code>extension</code> union. This is one of the <a href="TelephonySMS.html#1090618">SMS Extension Type Constants</a>.</dd>

<dd><a name="1099563"> </a>If the value of this field is <code>kTelSmsMultipartExtensionTypeId</code>, then the extension union contains a <a href="TelephonySMS.html#1099670"><code>TelSmsMultiPartExtensionType</code></a> structure. </dd>

<dd><a name="1099567"> </a>If the value of this field is <code>kTelSmsNbsExtensionTypeId</code> or <code>kTelSmsNbs2ExtensionTypeId</code>, then the union contains a <a href="TelephonySMS.html#1099695"><code>TelSmsNbsExtensionType</code></a> structure. The difference between these two is that <code>kTelSmsNbs2ExtensionTypeId</code> indicates that the port value is a long instead of a short.</dd>

<dd><a name="1099571"> </a>If this field contains any other value, then the union contains a <a href="TelephonySMS.html#1100018"><code>TelSmsUserExtensionType</code></a> structure.</dd>

<dt><a name="1099575"> </a><code>&larr; <code>extension</code></code></dt>
<dd><a name="1099576"> </a>The extension information, which is one of the following structure types:</dd>

<dd><a name="1099580"> </a><a href="TelephonySMS.html#1099670"><code>TelSmsMultiPartExtensionType</code></a></dd>

<dd><a name="1099584"> </a><a href="TelephonySMS.html#1099695"><code>TelSmsNbsExtensionType</code></a></dd>

<dd><a name="1099588"> </a><a href="TelephonySMS.html#1100018"><code>TelSmsUserExtensionType</code></a></dd>

</dl>

<h3 class="hbH3">
  <a name="1099590"> </a>TelSmsGetAvailableStorageType Struct <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1099592"> </a>Purpose 
</h4>

<p><a name="1099596"> </a>The <a href="TelephonySMS.html#1057939"><code>TelSmsGetAvailableStorage()</code></a> function uses a <code>TelSmsGetAvailableStorageType</code> structure to retrieve information about the storage available on the phone.</p>
<h4>
  <a name="1099597"> </a>Declared In 
</h4>
<code>TelephonyMgrTypes.h<a name="1099598"> </a></code><h4>
  <a name="1099599"> </a>Prototype 
</h4>
<pre class="proto"><a name="1099600"></a>typedef struct _TelSmsGetAvailableStorageType {
   UInt16 count;
   UInt8 *storagesP;
} TelSmsGetAvailableStorageType
</pre>
<h4>
  <a name="1099601"> </a>Fields 
</h4>

<dl>
<dt><a name="1099602"> </a><code>&harr; <code>count</code></code></dt>
<dd><a name="1099603"> </a>The size of the <code>storagesP</code> buffer.</dd>

<dd><a name="1099604"> </a>When the structure is used as an input parameter, this is the allocated number of values in the buffer. Upon return, this is the total number of storage areas in the phone.</dd>

<dt><a name="1099605"> </a><code>&larr; <code>storagesP</code></code></dt>
<dd><a name="1099606"> </a>A buffer into which the retrieved storage IDs are stored. Each value stored into the buffer is one of the <a href="TelephonySMS.html#1090723">SMS Storage ID Constants</a>.</dd>

</dl>

<h3 class="hbH3">
  <a name="1099611"> </a>TelSmsGetMessageCountType Struct <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1099613"> </a>Purpose 
</h4>

<p><a name="1099617"> </a>The <a href="TelephonySMS.html#1058075"><code>TelSmsGetMessageCount()</code></a> function uses a <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">TelSmsGetMessageCountType</span> structure to retrieve information about messages in the currently selected storage.</p>
<h4>
  <a name="1099618"> </a>Declared In 
</h4>
<code>TelephonyMgrTypes.h<a name="1099619"> </a></code><h4>
  <a name="1099620"> </a>Prototype 
</h4>
<pre class="proto"><a name="1099621"></a>typedef struct _TelSmsGetMessageCountType {
   UInt8 messageType;
   UInt16 slots;
   UInt16 count;
} TelSmsGetMessageCountType
</pre>
<h4>
  <a name="1099622"> </a>Fields 
</h4>

<dl>
<dt><a name="1099623"> </a><code>&rarr; <code>messageType</code></code></dt>
<dd><a name="1099624"> </a>The type of message for which you want to retrieve the count. This must be one of the <a href="TelephonySMS.html#1057620">SMS Message Type Constants</a>.</dd>

<dd><a name="1099628"> </a>You must fill this in on input to the <a href="TelephonySMS.html#1058075"><code>TelSmsGetMessageCount()</code></a> function. </dd>

<dt><a name="1099632"> </a><code>&larr; <code>slots</code></code></dt>
<dd><a name="1099633"> </a>The total number of message slots available in the currently selected storage area (for all message types).</dd>

<dt><a name="1099634"> </a><code>&larr; <code>count</code></code></dt>
<dd><a name="1099635"> </a>The number of filled slots for the specified <code>messageType</code> in the currently selected storage area.</dd>

</dl>

<h3 class="hbH3">
  <a name="1099637"> </a>TelSmsManualAckType Struct <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1099639"> </a>Purpose 
</h4>

<p><a name="1099643"> </a>The <a href="TelephonySMS.html#1058840"><code>TelSmsSendManualAcknowledge()</code></a> function uses a <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">TelSmsManualAckType</span> structure to specify the information used to send a message acknowledgment.</p>
<h4>
  <a name="1099644"> </a>Declared In 
</h4>
<code>TelephonyMgrTypes.h<a name="1099645"> </a></code><h4>
  <a name="1099646"> </a>Prototype 
</h4>
<pre class="proto"><a name="1099647"></a>typedef struct _TelSmsManualAckType {
   UInt16 version;
   Char *destinationAddress;
   UInt32 messagesId;
   UInt16 dataSize;
   UInt8 *data;
   UInt8 dataCodingScheme;
   UInt8 responseCode;
} TelSmsManualAckType
</pre>
<h4>
  <a name="1099648"> </a>Fields 
</h4>

<dl>
<dt><a name="1099649"> </a><code><code>version</code></code></dt>
<dd><a name="1099650"> </a>The version of the SMS API used for this acknowledgment.</dd>

<dt><a name="1099651"> </a><code><code>destinationAddress</code></code></dt>
<dd><a name="1099652"> </a>The destination address. For GSM, the length of this address is 12 bytes. For CDMA, the length is up to 128 bytes.</dd>

<dt><a name="1099653"> </a><code><code>messageId</code></code></dt>
<dd><a name="1099654"> </a>Upon return, the ID of the acknowledgment.</dd>

<dt><a name="1099655"> </a><code><code>dataSize</code></code></dt>
<dd><a name="1099656"> </a>The size of the <code>data</code> buffer.</dd>

<dd><a name="1099657"> </a>When the structure is used as an input parameter, this is the allocated size of the <code>data</code> buffer. </dd>

<dd><a name="1099658"> </a>Upon return, this is the actual size of the data. If the buffer is too small to contain all of the data, this field is assigned the entire length of the data, and the function using this structure generates a <code>telErrBufferSize</code> error.</dd>

<dt><a name="1099659"> </a><code><code>data</code></code></dt>
<dd><a name="1099660"> </a>A buffer into which the retrieved data is stored.</dd>

<dd><a name="1099661"> </a>Note that if this buffer is too small to contain the all of the retrieved data, the data is truncated and the function using this structure generates a <code>telErrBufferSize</code> error.</dd>

<dt><a name="1099662"> </a><code><code>dataCodingScheme</code></code></dt>
<dd><a name="1099663"> </a>The coding scheme used for the data. This must be one of the <a href="TelephonySMS.html#1057753">SMS Data Coding Scheme Constants</a>.</dd>

<dt><a name="1099667"> </a><code><code>responseCode</code></code></dt>
<dd><a name="1099668"> </a>The response code. The value of this field depends on the network being used.</dd>

</dl>

<h3 class="hbH3">
  <a name="1099670"> </a>TelSmsMultiPartExtensionType Struct <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1099672"> </a>Purpose 
</h4>

<p><a name="1099676"> </a>The <a href="TelephonySMS.html#1099549"><code>TelSmsExtensionType</code></a> structure uses a <code>TelSmsMultiPartExtensionType</code> structure to describe information about a multipart message.</p>
<h4>
  <a name="1099677"> </a>Declared In 
</h4>
<code>TelephonyMgrTypes.h<a name="1099678"> </a></code><h4>
  <a name="1099679"> </a>Prototype 
</h4>
<pre class="proto"><a name="1099680"></a>typedef struct _TelSmsMultiPartExtensionType {
   UInt16 bytesSent;
   UInt16 partCurrent, partCount, partId;
} TelSmsMultiPartExtensionType
</pre>
<h4>
  <a name="1099681"> </a>Fields 
</h4>

<dl>
<dt><a name="1099682"> </a><code>&harr; <code>bytesSent</code></code></dt>
<dd><a name="1099683"> </a>On input, set this value to 0.</dd>

<dd><a name="1099684"> </a>Upon return, this is the current count of message bytes that have been sent.</dd>

<dt><a name="1099685"> </a><code>&harr; <code>partCurrent</code></code></dt>
<dd><a name="1099686"> </a>On input, set this value to 0.</dd>

<dd><a name="1099687"> </a>Upon return, this is the part number of the current message part.</dd>

<dt><a name="1099688"> </a><code>&harr; <code>partCount</code></code></dt>
<dd><a name="1099689"> </a>On input, set this value to 0.</dd>

<dd><a name="1099690"> </a>Upon return, this is the number of message parts required to send the data.</dd>

<dt><a name="1099691"> </a><code>&harr; <code>partId</code></code></dt>
<dd><a name="1099692"> </a>The ID of the current SMS message. This ID is unique and is the same for all parts of the message. This information is required to reassemble a multi-part SMS.</dd>

<dd><a name="1099693"> </a>On input, set this value to 0.</dd>

</dl>

<h3 class="hbH3">
  <a name="1099695"> </a>TelSmsNbsExtensionType Struct <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1099697"> </a>Purpose 
</h4>

<p><a name="1099701"> </a>The <a href="TelephonySMS.html#1099549"><code>TelSmsExtensionType</code></a> structure uses a <code>TelSmsNbsExtensionType</code> structure to describe information about a Narrow Band Sockets (NBS) message.</p>
<h4>
  <a name="1099702"> </a>Declared In 
</h4>
<code>TelephonyMgrTypes.h<a name="1099703"> </a></code><h4>
  <a name="1099704"> </a>Prototype 
</h4>
<pre class="proto"><a name="1099705"></a>typedef struct _TelSmsNbsExtensionType {
   UInt16 destPort, srcPort;
} TelSmsNbsExtensionType
</pre>
<h4>
  <a name="1099706"> </a>Fields 
</h4>

<dl>
<dt><a name="1099707"> </a><code>&harr; <code>destPort</code></code></dt>
<dd><a name="1099708"> </a>When the structure is used for input, this is the NBS port number used to encode the data.</dd>

<dd><a name="1099709"> </a>Upon return, this is the NBS port number that was used for the data.</dd>

<dt><a name="1099710"> </a><code>&harr; <code>srcPort</code></code></dt>
<dd><a name="1099711"> </a>This is currently the same as the <code>destPort</code>.</dd>

</dl>

<h3 class="hbH3">
  <a name="1099713"> </a>TelSmsReadMessagesType Struct <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1099715"> </a>Purpose 
</h4>

<p><a name="1099719"> </a>The <a href="TelephonySMS.html#1058370"><code>TelSmsReadMessages()</code></a> function uses a <code>TelSmsReadMessagesType</code> structure to retrieve messages from the currently selected storage area.</p>
<h4>
  <a name="1099720"> </a>Declared In 
</h4>
<code>TelephonyMgrTypes.h<a name="1099721"> </a></code><h4>
  <a name="1099722"> </a>Prototype 
</h4>
<pre class="proto"><a name="1099723"></a>typedef struct _TelSmsReadMessagesType {
   UInt16 first;
   UInt16 count;
   TelSmsDeliveryMessageType *messagesP;
} TelSmsReadMessagesType
</pre>
<h4>
  <a name="1099724"> </a>Fields 
</h4>

<dl>
<dt><a name="1099725"> </a><code>&rarr; <code>first</code></code></dt>
<dd><a name="1099726"> </a>The index of the first message to retrieve. Message indexes are zero-based.</dd>

<dt><a name="1099727"> </a><code>&harr; <code>count</code></code></dt>
<dd><a name="1099728"> </a>The size of the <code>messagesP</code> buffer.</dd>

<dd><a name="1099729"> </a>When the structure is used as an input parameter, this is the allocated number of pointers in the <code>messagesP</code> buffer. </dd>

<dd><a name="1099730"> </a>Upon return, this is the number of messages that could be retrieved. If the <code>messagesP</code> buffer is too small to contain all of the messages, this field is assigned the entire count, and the function using this structure generates a <code>telErrBufferSize</code> error.</dd>

<dt><a name="1099731"> </a><code>&harr; <code>messagesP</code></code></dt>
<dd><a name="1099735"> </a>An array of pointers to <a href="TelephonySMS.html#1099464"><code>TelSmsDeliveryMessageType</code></a> structures, each of which is filled in with a retrieved message, if available.</dd>

</dl>

<h3 class="hbH3">
  <a name="1099737"> </a>TelSmsReadReportsType Struct <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1099739"> </a>Purpose 
</h4>

<p><a name="1099743"> </a>The <a href="TelephonySMS.html#1058531"><code>TelSmsReadReports()</code></a> function uses a <code>TelSmsReadReportsType</code> structure to retrieve reports from the currently selected storage area.</p>
<h4>
  <a name="1099744"> </a>Declared In 
</h4>
<code>TelephonyMgrTypes.h<a name="1099745"> </a></code><h4>
  <a name="1099746"> </a>Prototype 
</h4>
<pre class="proto"><a name="1099747"></a>typedef struct _TelSmsReadReportsType {
   UInt16 first;
   UInt16 count;
   TelSmsReportType *reportsP;
} TelSmsReadReportsType
</pre>
<h4>
  <a name="1099748"> </a>Fields 
</h4>

<dl>
<dt><a name="1099749"> </a><code>&rarr; <code>first</code></code></dt>
<dd><a name="1099750"> </a>The index of the first report to retrieve. Report indexes are zero-based.</dd>

<dt><a name="1099751"> </a><code>&harr; <code>count</code></code></dt>
<dd><a name="1099752"> </a>The size of the <code>reportsP</code> buffer.</dd>

<dd><a name="1099753"> </a>When the structure is used as an input parameter, this is the allocated number of pointers in the <code>reportsP</code> buffer.</dd>

<dd><a name="1099754"> </a>Upon return, this is the actual number of reports that could be read. If the buffer is too small to contain all of the reports, this field is assigned the entire count, and the function using this structure generates a <code>telErrBufferSize</code> error.</dd>

<dt><a name="1099755"> </a><code>&harr; <code>reportsP</code></code></dt>
<dd><a name="1099759"> </a>An array of pointers to <a href="TelephonySMS.html#1099785"><code>TelSmsReportType</code></a> structures, each of which is filled in with a retrieved message, if available.</dd>

<dd><a name="1099760"> </a>Note that if this buffer is too small to contain all of the retrieved reports, the function using this structure generates a <code>telErrBufferSize</code> error.</dd>

</dl>

<h3 class="hbH3">
  <a name="1099762"> </a>TelSmsReadSubmittedMessagesType Struct <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1099764"> </a>Purpose 
</h4>

<p><a name="1099768"> </a>The <a href="TelephonySMS.html#1058691"><code>TelSmsReadSubmittedMessages()</code></a> function uses a <code>TelSmsReadSubmittedMessagesType</code> structure to retrieve submitted messages from the currently selected storage area.</p>
<h4>
  <a name="1099769"> </a>Declared In 
</h4>
<code>TelephonyMgrTypes.h<a name="1099770"> </a></code><h4>
  <a name="1099771"> </a>Prototype 
</h4>
<pre class="proto"><a name="1099772"></a>typedef struct _TelSmsReadSubmittedMessagesType {
   UInt16 first;
   UInt16 count;
   TelSmsSubmittedMessageType *submittedsP;
} TelSmsReadSubmittedMessagesType
</pre>
<h4>
  <a name="1099773"> </a>Fields 
</h4>

<dl>
<dt><a name="1099774"> </a><code>&rarr; <code>first</code></code></dt>
<dd><a name="1099775"> </a>The index of the first message to retrieve. Message indexes are zero-based.</dd>

<dt><a name="1099776"> </a><code>&harr; <code>count</code></code></dt>
<dd><a name="1099777"> </a>The size of the <code>submittedsP</code> buffer.</dd>

<dd><a name="1099778"> </a>When the structure is used as an input parameter, this is the allocated number of pointers in the <code>submittedsP</code> buffer. Upon return, this is the number of messages that were actually read.</dd>

<dt><a name="1099779"> </a><code>&harr; <code>submittedsP</code></code></dt>
<dd><a name="1099783"> </a>An array of pointers to <a href="TelephonySMS.html#1099998"><code>TelSmsSubmittedMessageType</code></a> structures, each of which is filled in with a retrieved message, if available.</dd>

</dl>

<h3 class="hbH3">
  <a name="1099785"> </a>TelSmsReportType Struct <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1099787"> </a>Purpose 
</h4>

<p><a name="1099791"> </a>The <a href="TelephonySMS.html#1058451"><code>TelSmsReadReport()</code></a> function uses a <code>TelSmsReportType</code> structure to retrieve a report from the report storage area.</p>
<h4>
  <a name="1099792"> </a>Declared In 
</h4>
<code>TelephonyMgrTypes.h<a name="1099793"> </a></code><h4>
  <a name="1099794"> </a>Prototype 
</h4>
<pre class="proto"><a name="1099795"></a>typedef struct _TelSmsReportType {
   UInt16 version;
   UInt16 index;
   UInt8 reportType;
   UInt32 messageId;
   UInt16 dataSize;
   UInt8 *data;
   UInt8 dataCodingScheme;
   Char *originatingAddress;
   UInt8 originatingAddressSize;
   UInt8 report;
   TelSmsDateTimeType timeStamp;
} TelSmsReportType
</pre>
<h4>
  <a name="1099796"> </a>Fields 
</h4>

<dl>
<dt><a name="1099797"> </a><code>&rarr; <code>version</code></code></dt>
<dd><a name="1099798"> </a>The version of the SMS API. The current version number is <code>kTelSmsAPIVersion</code>. </dd>

<dt><a name="1099799"> </a><code>&larr; <code>index</code></code></dt>
<dd><a name="1099800"> </a>The index of the report in the phone storage area.</dd>

<dt><a name="1099801"> </a><code>&larr; <code>reportType</code></code></dt>
<dd><a name="1099802"> </a>The delivery report type. This is one of the <a href="TelephonySMS.html#1103068">SMS Report Types</a>. </dd>

<dt><a name="1099803"> </a><code>&larr; <code>messageId</code></code></dt>
<dd><a name="1099804"> </a>The message ID.</dd>

<dt><a name="1099805"> </a><code>&harr; <code>dataSize</code></code></dt>
<dd><a name="1099806"> </a>The size of the <code>data</code> buffer.</dd>

<dd><a name="1099807"> </a>When the structure is used as an input parameter, this is the allocated size of the <code>data</code> buffer. </dd>

<dd><a name="1099808"> </a>Upon return, this is the actual size of the data. If the buffer is too small to contain all of the data, this field is assigned the entire length of the data, and the function using this structure generates a <code>telErrBufferSize</code> error.</dd>

<dt><a name="1099809"> </a><code>&harr; <code>data</code></code></dt>
<dd><a name="1099810"> </a>A buffer into which the retrieved data is stored.</dd>

<dd><a name="1099811"> </a>Note that if this buffer is too small to contain the all of the retrieved data, the data is truncated and the function using this structure generates a <code>telErrBufferSize</code> error.</dd>

<dt><a name="1099812"> </a><code>&larr; <code>dataCodingScheme</code></code></dt>
<dd><a name="1099813"> </a>The encoding scheme used for the report data. This is one of the <a href="TelephonySMS.html#1057753">SMS Data Coding Scheme Constants</a>.</dd>

<dt><a name="1099817"> </a><code>&harr; <code>originatingAddress</code></code></dt>
<dd><a name="1099818"> </a>A buffer into which the originating address is stored.</dd>

<dd><a name="1099819"> </a>Note that if this buffer is too small to contain the entire retrieved string, the string is truncated (and ends with the null terminator character) and the function using this structure generates a <code>telErrBuffrSize</code> error.</dd>

<dt><a name="1099820"> </a><code>&harr; <code>originatingAddressSize</code></code></dt>
<dd><a name="1099821"> </a>The size of the <code>originatingAddress</code> buffer.</dd>

<dd><a name="1099822"> </a>Upon return, this is the actual size of the string, including the null terminator character. If the buffer is too small to contain the entire retrieved string, this field is assigned the entire length of the string, and the function using this structure generates a <code>telErrBufferSize</code> error.</dd>

<dt><a name="1099823"> </a><code>&larr; <code>report</code></code></dt>
<dd><a name="1099824"> </a>The ID of the delivery confirmation report associated with the message. This is one of the <a href="TelephonySMS.html#1102982">SMS Delivery Status Reports</a> constants. </dd>

<dt><a name="1099825"> </a><code>&larr; <code>timeStamp</code></code></dt>
<dd><a name="1099829"> </a>An <a href="TelephonySMS.html#1099302"><code>TelSmsDateTimeType</code></a> structure that stores the time at which the message corresponding to the report was received.</dd>

</dl>

<h3 class="hbH3">
  <a name="1099831"> </a>TelSmsSendMessageType Struct <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1099833"> </a>Purpose 
</h4>

<p><a name="1099834"> </a>The <a href="TelephonySMS.html#1058903"><code>TelSmsSendMessage()</code></a> function uses this structure to send an SMS message. </p>
<h4>
  <a name="1099835"> </a>Declared In 
</h4>
<code>TelephonyMgrTypes.h<a name="1099836"> </a></code><h4>
  <a name="1099837"> </a>Prototype 
</h4>
<pre class="proto"><a name="1099838"></a>typedef struct _TelSmsSendMessageType {
   UInt32 messageId;
   TelSmsSubmitMessageType message;
} TelSmsSendMessageType
</pre>
<h4>
  <a name="1099839"> </a>Fields 
</h4>

<dl>
<dt><a name="1099840"> </a><code>&larr; <code>messageId</code></code></dt>
<dd><a name="1099841"> </a>The SMS ID that was assigned by the telephone to the outgoing message. </dd>

<dd><a name="1099842"> </a>For a multi-part message, each part has its own message ID.</dd>

<dt><a name="1099843"> </a><code>&rarr; <code>message</code></code></dt>
<dd><a name="1099847"> </a>A structure of type <a href="TelephonySMS.html#1099927"><code>TelSmsSubmitMessageType</code></a> that contains the message data and parameters.</dd>

</dl>

<h3 class="hbH3">
  <a name="1099849"> </a>TelSmsSubmitAdvancedCDMAType Struct <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1099851"> </a>Purpose 
</h4>

<p><a name="1099855"> </a>The <a href="TelephonySMS.html#1099927"><code>TelSmsSubmitMessageType</code></a> structure includes a <code>TelSmsSubmitAdvancedCDMAType</code> structure for CDMA messages.</p>
<h4>
  <a name="1099856"> </a>Declared In 
</h4>
<code>TelephonyMgrTypes.h<a name="1099857"> </a></code><h4>
  <a name="1099858"> </a>Prototype 
</h4>
<pre class="proto"><a name="1099859"></a>typedef struct _TelSmsSubmitAdvancedCDMAType {
   Boolean manualAckRequest;
   UInt8 messageType;
   TelSmsDateTimeType deferredDate;
   UInt8 priority;
   UInt8 privacy;
   Boolean alertOnDeliveryRequest;
   Char *callbackNumber;
   UInt8 callbackNumberSize;
} TelSmsSubmitAdvancedCDMAType
</pre>
<h4>
  <a name="1099860"> </a>Fields 
</h4>

<dl>
<dt><a name="1099861"> </a><code><code>manualAckRequest</code></code></dt>
<dd><a name="1099862"> </a><code>true</code> if a reply is requested from the user, and <code>false</code> if not.</dd>

<dt><a name="1099863"> </a><code><code>messageType</code></code></dt>
<dd><a name="1099866"> </a>The type of the message. This must be one of the <a href="TelephonySMS.html#1057620">SMS Message Type Constants</a>.</dd>

<dt><a name="1099868"> </a><code><code>deferredDate</code></code></dt>
<dd><a name="1099869"> </a>A date and time at which the message should be delivered. See <a href="TelephonySMS.html#1099302"><code>TelSmsDateTimeType</code></a>. </dd>

<dt><a name="1099870"> </a><code><code>priority</code></code></dt>
<dd><a name="1099871"> </a>The message priority. This must be one of the <a href="TelephonySMS.html#1091377">SMS Message Urgency Constants</a>.</dd>

<dt><a name="1099872"> </a><code><code>privacy</code></code></dt>
<dd><a name="1099875"> </a>The privacy type of the message. This must be one of the <a href="TelephonySMS.html#1090675">SMS Message Privacy Constants</a>.</dd>

<dt><a name="1099877"> </a><code><code>alertOnDeliveryRequest</code></code></dt>
<dd><a name="1099878"> </a><code>true</code> if the user is to be alerted upon delivery of this message, and <code>false</code> if not.</dd>

<dt><a name="1099879"> </a><code><code>callbackNumber</code></code></dt>
<dd><a name="1099880"> </a>A buffer into which the retrieved callback telephone number string is stored.</dd>

<dd><a name="1099881"> </a>Note that if this buffer is too small to contain the entire retrieved string, the string is truncated (and ends with the null terminator character) and the function using this structure generates a <code>telErrBufferSize</code> error.</dd>

<dt><a name="1099882"> </a><code><code>callbackNumberSize</code></code></dt>
<dd><a name="1099883"> </a>When the structure is used as an input parameter, this is the allocated size, in bytes, of the <code>callbackNumber</code> string. </dd>

<dd><a name="1099884"> </a>Upon return, this is the actual size of the string, including the null terminator character. If the buffer is too small to contain the entire retrieved string, this field is assigned the entire length of the string, and the function using this structure generates a <code>telErrBufferSize</code> error.</dd>

</dl>

<h3 class="hbH3">
  <a name="1099886"> </a>TelSmsSubmitAdvancedGSMType Struct <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1099888"> </a>Purpose 
</h4>

<p><a name="1099892"> </a>The <a href="TelephonySMS.html#1099927"><code>TelSmsSubmitMessageType</code></a> structure includes a <code>TelSmsSubmitAdvancedGSMType</code> structure for GSM messages.</p>
<h4>
  <a name="1099893"> </a>Declared In 
</h4>
<code>TelephonyMgrTypes.h<a name="1099894"> </a></code><h4>
  <a name="1099895"> </a>Prototype 
</h4>
<pre class="proto"><a name="1099896"></a>typedef struct _TelSmsSubmitAdvancedGSMType {
   UInt16 protocolId;
   Boolean rejectDuplicatedRequest;
   Boolean replyPath;
   Char *serviceCenterNumber;
   UInt8 serviceCenterNumberSize;
} TelSmsSubmitAdvancedGSMType
</pre>
<h4>
  <a name="1099897"> </a>Fields 
</h4>

<dl>
<dt><a name="1099898"> </a><code>&rarr; <code>protocolId</code></code></dt>
<dd><a name="1107529"> </a>The protocol used for this message. This is one of the <a href="TelephonySMS.html#1089874">SMS Message Transport Protocol Constants</a>. </dd>

<dt><a name="1099902"> </a><code>&rarr; <code>rejectDuplicatedRequest</code></code></dt>
<dd><a name="1099903"> </a>A Boolean value that specifies if the service center should accept a submit message for a submit message that is still held in the service center when that message has the same identifier and destination address as a previously submitted message from the same originating address.</dd>

<dt><a name="1099904"> </a><code>&rarr; <code>replyPath</code></code></dt>
<dd><a name="1099905"> </a><code>true</code> if the next two parameters are set. <code>false</code> otherwise. </dd>

<dt><a name="1099908"> </a><code>&rarr; <code>serviceCenterNumber</code></code></dt>
<dd><a name="1099909"> </a>A buffer containing the SMS center number string. Replies to the originating message should go through this service center. Normally, you should set this to <code>NULL</code>. </dd>

<dt><a name="1099910"> </a><code>&rarr; <code>serviceCenterNumberSize</code></code></dt>
<dd><a name="1099911"> </a>The allocated size, in bytes, of the <code>serviceCenterNumber</code> string. Normally, the string is <code>NULL</code> and its size is 0. </dd>

</dl>

<h3 class="hbH3">
  <a name="1099913"> </a>TelSmsSubmitAdvancedTDMAType Typedef <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1099915"> </a>Purpose 
</h4>

<p><a name="1099919"> </a>The <a href="TelephonySMS.html#1099927"><code>TelSmsSubmitMessageType</code></a> structure includes a <code>TelSmsSubmitAdvancedTDMAType</code> structure for TDMA messages.</p>
<h4>
  <a name="1099920"> </a>Declared In 
</h4>
<code>TelephonyMgrTypes.h<a name="1099921"> </a></code><h4>
  <a name="1099922"> </a>Prototype 
</h4>
<pre class="proto"><a name="1099923"></a>typedef TelSmsSubmitAdvancedCDMAType 
TelSmsSubmitAdvancedTDMAType
</pre>

<h3 class="hbH3">
  <a name="1099927"> </a>TelSmsSubmitMessageType Struct <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1099929"> </a>Purpose 
</h4>

<p><a name="1099936"> </a>The <a href="TelephonySMS.html#1058531"><code>TelSmsReadReports()</code></a> and <a href="TelephonySMS.html#1099831"><code>TelSmsSendMessageType</code></a> structures use a <code>TelSmsSubmitMessageType</code> structure to stored reports retrieved from the currently selected storage area.</p>
<h4>
  <a name="1099937"> </a>Declared In 
</h4>
<code>TelephonyMgrTypes.h<a name="1099938"> </a></code><h4>
  <a name="1099939"> </a>Prototype 
</h4>
<pre class="proto"><a name="1099940"></a>typedef struct _TelSmsSubmitMessageType {
   UInt16 version;
   Boolean networkDeliveryRequest;
   Char *destinationAddress;
   UInt8 destinationAddressSize;
   UInt16 dataSize;
   UInt8 *data;
   UInt8 dataCodingScheme;
   TelSmsDateTimeType validityPeriod;
   UInt8 standardType;
   union {
      TelSmsSubmitAdvancedGSMType advancedGSM;
      TelSmsSubmitAdvancedCDMAType advancedCDMA;
      TelSmsSubmitAdvancedTDMAType advancedTDMA;
   } advancedParams;
   UInt8 extensionsCount;
   TelSmsExtensionType *extensionsP;
} TelSmsSubmitMessageType
</pre>
<h4>
  <a name="1099941"> </a>Fields 
</h4>

<dl>
<dt><a name="1099942"> </a><code>&rarr; <code>version</code></code></dt>
<dd><a name="1099943"> </a>The version of the SMS API associated with this message. The constant <code>kTelSmsAPIVersion</code> gives the current version number. </dd>

<dt><a name="1099944"> </a><code>&rarr; <code>networkDeliveryRequest</code></code></dt>
<dd><a name="1099945"> </a>If this value is <code>true</code>, an acknowledgement is required.</dd>

<dt><a name="1099946"> </a><code>&harr; <code>destinationAddress</code></code></dt>
<dd><a name="1099947"> </a>A buffer that contains the phone number of the message recipient.</dd>

<dt><a name="1099948"> </a><code>&harr; <code>destinationAddressSize</code></code></dt>
<dd><a name="1099949"> </a>The size of the destination address string.</dd>

<dt><a name="1099950"> </a><code>&harr; <code>dataSize</code></code></dt>
<dd><a name="1099951"> </a>The size of the <code>data</code> buffer.</dd>

<dt><a name="1099952"> </a><code>&harr; <code>data</code></code></dt>
<dd><a name="1099953"> </a>A buffer into which the retrieved message data is stored. Note that \0 is a meaningful character in the SMS character set and does not imply the end of the string. </dd>

<dt><a name="1099954"> </a><code>&rarr; <code>dataCodingScheme</code></code></dt>
<dd><a name="1099957"> </a>The coding scheme used for the data. This is one of the <a href="TelephonySMS.html#1057753">SMS Data Coding Scheme Constants</a>.</dd>

<dt><a name="1099959"> </a><code>&rarr; <code>validityPeriod</code></code></dt>
<dd><a name="1099963"> </a>An <a href="TelephonySMS.html#1099302"><code>TelSmsDateTimeType</code></a> structure that specifies the amount of time for which the message is valid.</dd>

<dt><a name="1099964"> </a><code>&rarr; <code>standardType</code></code></dt>
<dd><a name="1099965"> </a>Indicates which field of the <code>advancedParams</code> union contains the message information. This must be one of the <a href="TelephonyNetwork.html#1049614">Network Type Constants</a> described in <a href="TelephonyNetwork.html#1041431">Chapter 75, "Telephony Network."</a></dd>

<dd><a name="1099972"> </a>If this value is <code>kTelNwkCDMA</code>, then the <code>advancedParams</code> union contains a <a href="TelephonySMS.html#1099345"><code>TelSmsDeliveryAdvancedCDMAType</code></a> structure, and similarly for the other values.</dd>

<dt><a name="1099976"> </a><code>&rarr; <code>advancedParams</code></code></dt>
<dd><a name="1099977"> </a>Advanced message information for GSM, CDMA, or TDMA messages. This is a pointer to one of the following structure types: </dd>

<dd><a name="1107504"> </a><a href="TelephonySMS.html#1099886"><code>TelSmsSubmitAdvancedGSMType</code></a></dd>

<dd><a name="1099981"> </a><a href="TelephonySMS.html#1099849"><code>TelSmsSubmitAdvancedCDMAType</code></a></dd>

<dd><a name="1099989"> </a><a href="TelephonySMS.html#1099913"><code>TelSmsSubmitAdvancedTDMAType</code></a></dd>

<dt><a name="1099990"> </a><code>&harr; <code>extensionsCount</code></code></dt>
<dd><a name="1099991"> </a>The number of extension structures allocated for this message. You must allocate at least one structure to specify the multipart information.</dd>

<dt><a name="1099992"> </a><code>&harr; <code>extensionsP</code></code></dt>
<dd><a name="1099996"> </a>A pointer to an array of <a href="TelephonySMS.html#1099549"><code>TelSmsExtensionType</code></a> structures that you have allocated for this message.</dd>

</dl>

<h3 class="hbH3">
  <a name="1099998"> </a>TelSmsSubmittedMessageType Struct <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1100000"> </a>Purpose 
</h4>

<p><a name="1100004"> </a>The <a href="TelephonySMS.html#1058614"><code>TelSmsReadSubmittedMessage()</code></a> function uses a <code>TelSmsSubmittedMessageType</code> structure to retrieve reports from the currently selected storage area.</p>
<h4>
  <a name="1100005"> </a>Declared In 
</h4>
<code>TelephonyMgrTypes.h<a name="1100006"> </a></code><h4>
  <a name="1100007"> </a>Prototype 
</h4>
<pre class="proto"><a name="1100008"></a>typedef struct _TelSmsSubmittedMessageType {
   UInt16 index;
   TelSmsSubmitMessageType message;
} TelSmsSubmittedMessageType
</pre>
<h4>
  <a name="1100009"> </a>Fields 
</h4>

<dl>
<dt><a name="1100010"> </a><code>&rarr; <code>index</code></code></dt>
<dd><a name="1100011"> </a>The index of the message on the phone.</dd>

<dt><a name="1100012"> </a><code>&larr; <code>message</code></code></dt>
<dd><a name="1100016"> </a>A <a href="TelephonySMS.html#1099927"><code>TelSmsSubmitMessageType</code></a> structure that represents the message.</dd>

</dl>

<h3 class="hbH3">
  <a name="1100018"> </a>TelSmsUserExtensionType Struct <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1100020"> </a>Purpose 
</h4>

<p><a name="1100024"> </a>The <a href="TelephonySMS.html#1099549"><code>TelSmsExtensionType</code></a> structure uses a <code>TelSmsUserExtensionType</code> structure to describe a user-defined extended message header.</p>
<h4>
  <a name="1100025"> </a>Declared In 
</h4>
<code>TelephonyMgrTypes.h<a name="1100026"> </a></code><h4>
  <a name="1100027"> </a>Prototype 
</h4>
<pre class="proto"><a name="1100028"></a>typedef struct _TelSmsUserExtensionType {
   UInt8 *extHeader;
   UInt8 extHeaderSize;
} TelSmsUserExtensionType
</pre>
<h4>
  <a name="1100029"> </a>Fields 
</h4>

<dl>
<dt><a name="1100030"> </a><code>&harr; <code>extHeader</code></code></dt>
<dd><a name="1100031"> </a>On input, this field must be set to 0.</dd>

<dd><a name="1100032"> </a>Upon return, this is a pointer to the user-defined header content.</dd>

<dt><a name="1100033"> </a><code>&harr; <code>extHeaderSize</code></code></dt>
<dd><a name="1100034"> </a>On input, this field must be set to 0.</dd>

<dd><a name="1100035"> </a>Upon return, this is the size of the user-defined header content.</dd>

</dl>

<h2 class="haH2">
  <a name="1057582"> </a>Telephony SMS Constants <a href="#1056053"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1057583"> </a>This section describes the constants used with the SMS service set of the telephony API.</p>

<h3 class="hbH3">
  <a name="1090618"> </a>SMS Extension Type Constants <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1090619"> </a>Purpose 
</h4>

<p><a name="1090620"> </a>The SMS extension type constants describe the type of extension used to represent part of a message. You can use one of the types listed here or define your own. </p>
<h4>
  <a name="1090621"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1090622"> </a></code><h4>
  <a name="1090623"> </a>Constants 
</h4>

<dl>
<dt><a name="1090624"> </a><code>#define kTelSmsMultiPartExtensionTypeId 0x00</code></dt>
<dd><a name="1090625"> </a>A multipart short message.</dd>

<dt><a name="1090626"> </a><code>#define kTelSmsNbs2ExtensionTypeId 0x05</code></dt>
<dd><a name="1090627"> </a>An NBS message with long port number value.</dd>

<dt><a name="1090628"> </a><code>#define kTelSmsNbsExtensionTypeId 0x04</code></dt>
<dd><a name="1090629"> </a>An NBS message with short port number value.</dd>

</dl>

<h3 class="hbH3">
  <a name="1057620"> </a>SMS Message Type Constants <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1090511"> </a>Purpose 
</h4>

<p><a name="1057621"> </a>The SMS message type constants describe the delivery type of a message. </p>
<h4>
  <a name="1090538"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1090587"> </a></code>
<dl>
<dt><a name="1090406"> </a><code><code>#define kTelSmsMessageTypeDelivered 0</code></code></dt>
<dd><a name="1090408"> </a>A delivered message.</dd>

<dt><a name="1090410"> </a><code><code>#define kTelSmsMessageTypeReport 1</code></code></dt>
<dd><a name="1090412"> </a>A report message.</dd>

<dt><a name="1090414"> </a><code><code>#define kTelSmsMessageTypeSubmitted 2</code></code></dt>
<dd><a name="1090416"> </a>A submitted message.</dd>

<dt><a name="1090418"> </a><code><code>#define kTelSmsMessageTypeManualAck 3</code></code></dt>
<dd><a name="1090420"> </a>A manual acknowledgement message.</dd>

<dt><a name="1090422"> </a><code><code>#define kTelSmsMessageAllTypes </code>4</code></dt>
<dd><a name="1090424"> </a>All messages.</dd>

</dl>

<h3 class="hbH3">
  <a name="1089874"> </a>SMS Message Transport Protocol Constants <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1089875"> </a>Purpose 
</h4>

<p><a name="1089876"> </a>The SMS message transport protocol constants describe the protocol used to deliver a message. </p>
<h4>
  <a name="1089877"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1089878"> </a></code><h4>
  <a name="1089879"> </a>Constants 
</h4>

<dl>
<dt><a name="1089880"> </a><code><code>#define kTelSmsDefaultProtocol 0</code></code></dt>
<dd><a name="1089881"> </a>The default message transport protocol.</dd>

<dt><a name="1089882"> </a><code><code>#define kTelSmsFaxProtocol 1</code></code></dt>
<dd><a name="1089883"> </a>A FAX message.</dd>

<dt><a name="1089884"> </a><code><code>#define kTelSmsX400Protocol 2</code></code></dt>
<dd><a name="1089885"> </a>An X.400 message.</dd>

<dt><a name="1089886"> </a><code><code>#define kTelSmsPagingProtocol 3</code></code></dt>
<dd><a name="1089887"> </a>A paged message.</dd>

<dt><a name="1089888"> </a><code><code>#define kTelSmsEmailProtocol 4</code></code></dt>
<dd><a name="1089889"> </a>An email message.</dd>

<dt><a name="1089890"> </a><code><code>#define kTelSmsErmesProtocol 5</code></code></dt>
<dd><a name="1089891"> </a>An Ermes message.</dd>

<dt><a name="1089892"> </a><code><code>#define kTelSmsVoiceProtocol 6</code></code></dt>
<dd><a name="1089893"> </a>A voice message.</dd>

</dl>

<h3 class="hbH3">
  <a name="1090723"> </a>SMS Storage ID Constants <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1090724"> </a>Purpose 
</h4>

<p><a name="1090725"> </a>The SMS storage ID constants describe the storage location of a message. </p>
<h4>
  <a name="1090726"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1090727"> </a></code><h4>
  <a name="1090728"> </a>Constants 
</h4>

<dl>
<dt><a name="1090729"> </a><code>#define kTelSmsStorageSIM 0</code></dt>
<dd><a name="1090730"> </a>Stored in the SIM.</dd>

<dt><a name="1090731"> </a><code>#define kTelSmsStoragePhone 1</code></dt>
<dd><a name="1090732"> </a>Stored in the phone.</dd>

<dt><a name="1090733"> </a><code>#define kTelSmsStorageAdaptor 2</code></dt>
<dd><a name="1090734"> </a>Stored in the telephone adaptor.</dd>

<dt><a name="1090735"> </a><code>#define kTelSmsStorageFirstOem 3</code></dt>
<dd><a name="1090736"> </a>Storage managed by the OEM.</dd>

<dd><a name="1090737"> </a>This constant specifies the first OEM storage area. You can specify additional OEM storage areas by incrementing this value. For example, to specify the third OEM storage area, use <code>kTelSmsStorageFirstOem+2</code>.</dd>

</dl>

<h3 class="hbH3">
  <a name="1057753"> </a>SMS Data Coding Scheme Constants <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1088162"> </a>Purpose 
</h4>

<p><a name="1057754"> </a>The SMS data coding scheme constants describe the encoding used for SMS data. </p>
<h4>
  <a name="1088178"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1088179"> </a></code>
<dl>
<dt><a name="1087072"> </a><code><code>#define kTelSms8BitsEncoding 0</code></code></dt>
<dd><a name="1087074"> </a>8-bit encoding.</dd>

<dt><a name="1087076"> </a><code><code>#define kTelSmsBitsASCIIEncoding 1</code></code></dt>
<dd><a name="1087078"> </a>ANSI X3.4 encoding.</dd>

<dt><a name="1087080"> </a><code><code>#define kTelSmsIA5Encoding 2</code></code></dt>
<dd><a name="1087082"> </a>CCITT T.50 encoding.</dd>

<dt><a name="1087084"> </a><code><code>#define kTelSmsIS91Encoding 3</code></code></dt>
<dd><a name="1087086"> </a>TIA/EIA/IS-91 section 3.7.1 encoding.</dd>

<dt><a name="1087088"> </a><code><code>#define kTelSmsUCS2Encoding 4</code></code></dt>
<dd><a name="1087090"> </a>UCS2 encoding; used with GSM only.</dd>

<dt><a name="1087092"> </a><code><code>#define kTelSmsDefaultGSMEncoding 5</code></code></dt>
<dd><a name="1087094"> </a>Default encoding for GSM only.</dd>

</dl>

<h3 class="hbH3">
  <a name="1091377"> </a>SMS Message Urgency Constants <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1091378"> </a>Purpose 
</h4>

<p><a name="1091379"> </a>The SMS message urgency constants describe the priority level of a message in a <a href="TelephonySMS.html#1099345"><code>TelSmsDeliveryAdvancedCDMAType</code></a> or <a href="TelephonySMS.html#1099419"><code>TelSmsDeliveryAdvancedTDMAType</code></a> structure. </p>
<h4>
  <a name="1091386"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1091387"> </a></code><h4>
  <a name="1091388"> </a>Constants 
</h4>

<dl>
<dt><a name="1091389"> </a><code>#define kTelSmsUrgencyNormal 0</code></dt>
<dd><a name="1091390"> </a>Normal urgency.</dd>

<dt><a name="1091391"> </a><code>#define kTelSmsUrgencyUrgent 1</code></dt>
<dd><a name="1091392"> </a>An urgent message.</dd>

<dt><a name="1091393"> </a><code>#define kTelSmsUrgencyEmergency 2</code></dt>
<dd><a name="1091394"> </a>An emergency message.</dd>

</dl>

<h3 class="hbH3">
  <a name="1090675"> </a>SMS Message Privacy Constants <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1090676"> </a>Purpose 
</h4>

<p><a name="1090677"> </a>The SMS message privacy constants describe the privacy type of a message in a CDMA or TDMA advanced parameters. </p>
<h4>
  <a name="1090678"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1090679"> </a></code><h4>
  <a name="1090680"> </a>Constants 
</h4>

<dl>
<dt><a name="1090681"> </a><code>#define kTelSmsPrivacyNotRestricted 0</code></dt>
<dd><a name="1090682"> </a>Privacy level 0.</dd>

<dt><a name="1090683"> </a><code>#define kTelSmsPrivacyRestricted 1</code></dt>
<dd><a name="1090684"> </a>Privacy level 1.</dd>

<dt><a name="1090685"> </a><code>#define kTelSmsPrivacyConfidential 2</code></dt>
<dd><a name="1090686"> </a>Privacy level 2.</dd>

<dt><a name="1090687"> </a><code>#define kTelSmsPrivacySecret 3</code></dt>
<dd><a name="1090688"> </a>Privacy level 3.</dd>

</dl>

<h3 class="hbH3">
  <a name="1101807"> </a>SMS Message Types <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1101808"> </a>Purpose 
</h4>

<p><a name="1101809"> </a></p>
<h4>
  <a name="1101810"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1101811"> </a></code><h4>
  <a name="1101812"> </a>Constants 
</h4>

<dl>
<dt><a name="1101813"> </a><code>#define kTelSmsCMTMessageType 0</code></dt>
<dd><a name="1101814"> </a>Cellular Messaging Teleservice (CMT) message. </dd>

<dt><a name="1101815"> </a><code>#define kTelSmsCPTMessageType 1</code></dt>
<dd><a name="1101816"> </a>Cellular Paging Teleservice (CPT) message type. </dd>

<dt><a name="1101817"> </a><code>#define kTelSmsVMNMessageType 2</code></dt>
<dd><a name="1101818"> </a>Voice Mail Notification (VMN) message type. </dd>

</dl>

<h3 class="hbH3">
  <a name="1102982"> </a>SMS Delivery Status Reports <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1101820"> </a>Purpose 
</h4>

<p><a name="1102974"> </a>Delivery status report codes used in the <code>report</code> field of the <a href="TelephonySMS.html#1099785"><code>TelSmsReportType</code></a> structure.</p>
<h4>
  <a name="1101822"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1101823"> </a></code><h4>
  <a name="1101824"> </a>Constants 
</h4>

<dl>
<dt><a name="1102923"> </a><code>#define kTelSmsDSRSuccess 0</code></dt>
<dd><a name="1102958"> </a>Success.</dd>

<dt><a name="1102925"> </a><code>#define kTelSmsDSRMessageReplaced 1</code></dt>
<dd><a name="1102962"> </a>Message replaced.</dd>

<dt><a name="1101829"> </a><code>#define kTelSmsDSRMessageForwarded 2</code></dt>
<dd><a name="1102966"> </a>Message forwarded.</dd>

<dt><a name="1101831"> </a><code>#define kTelSmsDSRTempCongestion 3</code></dt>
<dd><a name="1102970"> </a>Temporarily not delivered due to congestion.</dd>

<dt><a name="1101833"> </a><code>#define kTelSmsDSRTempSMEBusy 4</code></dt>
<dd><a name="1102986"> </a>Temporarily not delivered due to the mobile phone being busy.</dd>

<dt><a name="1101835"> </a><code>#define kTelSmsDSRTempServiceRejected 5</code></dt>
<dd><a name="1103006"> </a>Temporarily not delivered because the service rejected the message.</dd>

<dt><a name="1101837"> </a><code>#define kTelSmsDSRTempServiceUnavailable 6</code></dt>
<dd><a name="1103010"> </a>Temporarily not delivered due to the service being unavailable.</dd>

<dt><a name="1101839"> </a><code>#define kTelSmsDSRTempSMEError 7</code></dt>
<dd><a name="1103014"> </a>Temporarily not delivered due to an error in the mobile phone.</dd>

<dt><a name="1101841"> </a><code>#define kTelSmsDSRTempOther 8</code></dt>
<dd><a name="1103018"> </a>Temporarily not delivered due to some other cause.</dd>

<dt><a name="1101843"> </a><code>#define kTelSmsDSRPermRPError 9</code></dt>
<dd><a name="1103022"> </a>Delivery failed due to a reply path error.</dd>

<dt><a name="1101845"> </a><code>#define kTelSmsDSRPermBadDestination 10</code></dt>
<dd><a name="1103026"> </a>Delivery failed due to a bad destination address.</dd>

<dt><a name="1101847"> </a><code>#define kTelSmsDSRPermUnobtainable 11</code></dt>
<dd><a name="1103030"> </a>Delivery failed due to an error.</dd>

<dt><a name="1101849"> </a><code>#define kTelSmsDSRPermServiceUnavailable 12</code></dt>
<dd><a name="1103034"> </a>Delivery failed due to service unavailability.</dd>

<dt><a name="1101851"> </a><code>#define kTelSmsDSRPermInternetworkError 13</code></dt>
<dd><a name="1103038"> </a>Delivery failed due to an networking error.</dd>

<dt><a name="1101853"> </a><code>#define kTelSmsDSRPermValidityExpired 14</code></dt>
<dd><a name="1103042"> </a>Delivery failed due to its validity expiring.</dd>

<dt><a name="1101855"> </a><code>#define kTelSmsDSRPermDeletedByOrigSME 15</code></dt>
<dd><a name="1103046"> </a>Delivery failed due to the message being deleted by the originating mobile phone.</dd>

<dt><a name="1101857"> </a><code>#define kTelSmsDSRPermDeleteByAdm 16</code></dt>
<dd><a name="1103050"> </a>Delivery failed due to the message being deleted. </dd>

<dt><a name="1101859"> </a><code>#define kTelSmsDSRPermSMNotExist 17</code></dt>
<dd><a name="1103054"> </a>Delivery failed.</dd>

<dt><a name="1101861"> </a><code>#define kTelSmsDSRPermOther 18</code></dt>
<dd><a name="1103058"> </a>Delivery failed due to some other cause.</dd>

</dl>

<h3 class="hbH3">
  <a name="1103068"> </a>SMS Report Types <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1101864"> </a>Purpose 
</h4>

<p><a name="1103072"> </a>Report types used in the <code>reportType</code> field of the <a href="TelephonySMS.html#1099785"><code>TelSmsReportType</code></a> structure.</p>
<h4>
  <a name="1101866"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1101867"> </a></code><h4>
  <a name="1101868"> </a>Constants 
</h4>

<dl>
<dt><a name="1101869"> </a><code>#define kTelSmsStatusReportDeliveryType 0</code></dt>
<dd><a name="1103063"> </a>Status report or delivery acknowledgement.</dd>

<dt><a name="1101871"> </a><code>#define kTelSmsManualAckDeliveryType 1</code></dt>
<dd><a name="1103079"> </a>Manual delivery acknowledgement.</dd>

</dl>

<h2 class="haH2">
  <a name="1057870"> </a>Telephony SMS Functions <a href="#1056053"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1057871"> </a>This section describes the functions used with the SMS service set of the telephony API.</p>

<h3 class="hbH3">
  <a name="1057874"> </a>TelSmsDeleteMessage Function <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1057876"> </a>Purpose 
</h4>

<p><a name="1057877"> </a>Delete an SMS report, delivered message, or submitted message.</p>
<h4>
  <a name="1057878"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1057879"> </a></code><h4>
  <a name="1057880"> </a>Prototype 
</h4>
<pre class="proto"><a name="1057881"></a>Err TelSmsDeleteMessage(
   UInt16 iRefnum,
   TelAppID iAppId,
   TelSmsDeleteMessageType *ioParamP,
   UInt16 *ioTransIdP
)
</pre>
<h4>
  <a name="1057882"> </a>Parameters 
</h4>

<dl>
<dt><a name="1057883"> </a><code>&rarr;  <i><code>iRefnum</code></i></code></dt>
<dd><a name="1057884"> </a>The telephony manager library reference number.</dd>

<dt><a name="1057885"> </a><code>&rarr;  <i><code>iAppId</code></i></code></dt>
<dd><a name="1057886"> </a>The telephone application attachment identifier for your application.</dd>

<dt><a name="1057887"> </a><code>&harr;  <i><code>ioParamP</code></i></code></dt>
<dd><a name="1057888"> </a>A pointer to a <a href="TelephonySMS.html#1099321"><code>TelSmsDeleteMessageType</code></a> structure that specifies the index and type of the message to delete.</dd>

<dt><a name="1057889"> </a><code>&harr;  <i><code>ioTransIdP</code></i></code></dt>
<dd><a name="1057890"> </a>Set the value of this parameter to <code>NULL</code> to cause the function to execute synchronously. </dd>

<dd><a name="1057891"> </a>If this parameter is not <code>NULL</code>, the call executes asynchronously. Upon return from this function, this points to the transaction identifier associated with the asynchronous operation.</dd>

</dl>
<h4>
  <a name="1057892"> </a>Synchronous Result
</h4>

<p><a name="1057893"> </a>Returns <code>errNone</code> if the function was successful or returns an error code if not successful.</p>
<h4>
  <a name="1057894"> </a>Asynchronous Result
</h4>

<p><a name="1057898"> </a>The following fields are updated in the <a href="TelephonyBasic.html#1056091"><code>TelEventType</code></a> event that is sent when the operation completes:</p>

<dl>
<dt><a name="1057901"> </a><code>returnCode</code></dt>
<dd><a name="1057903"> </a><code>errNone</code> upon success or an error code upon failure.</dd>

<dt><a name="1057905"> </a><code>transId</code></dt>
<dd><a name="1057907"> </a>The transaction ID of the operation.</dd>

<dt><a name="1057909"> </a><code>paramP</code></dt>
<dd><a name="1057911"> </a>Points to the <a href="TelephonySMS.html#1099321"><code>TelSmsDeleteMessageType</code></a> structure passed to this function in the <code>ioParamP</code> parameter.</dd>

<dt><a name="1057913"> </a><code>functionId</code></dt>
<dd><a name="1057915"> </a><code>kTelSmsDeleteMessageMessage</code></dd>

</dl>

<div><hr>
  <a name="1057917"> </a> <span class="warning">WARNING! </span> When using this function asynchronously, you must ensure that the structure referenced by <code>ioParamP</code> remains in memory until the asynchronous call completes.
<hr>
</div>
<h4>
  <a name="1057918"> </a>Comments 
</h4>

<p><a name="1057919"> </a>If the deleted message has been delivered, the deletion is performed in the current storage, which you can set with the <a href="TelephonySMS.html#1058774"><code>TelSmsSelectStorage()</code></a> function.</p>

<p><a name="1057923"> </a>Before using this function, you should verify that it is available by calling the <a href="TelephonyBasic.html#1046188"><code>TelIsSmsServiceAvailable()</code></a> macro.</p>
<h4>
  <a name="1057927"> </a>Compatibility 
</h4>

<p><a name="1057931"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1057932"> </a>See Also 
</h4>

<p><a name="1057936"> </a><a href="TelephonySMS.html#1058774"><code>TelSmsSelectStorage()</code></a></p>

<h3 class="hbH3">
  <a name="1057939"> </a>TelSmsGetAvailableStorage Function <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1057941"> </a>Purpose 
</h4>

<p><a name="1057942"> </a>Retrieve the list of all available storage on the phone.</p>
<h4>
  <a name="1057943"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1057944"> </a></code><h4>
  <a name="1057945"> </a>Prototype 
</h4>
<pre class="proto"><a name="1057946"></a>Err TelSmsGetAvailableStorage(
   UInt16 iRefnum,
   TelAppID iAppId,
   TelSmsGetAvailableStorageType *ioParamP,
   UInt16 *ioTransIdP
)
</pre>
<h4>
  <a name="1057947"> </a>Parameters 
</h4>

<dl>
<dt><a name="1057948"> </a><code>&rarr;  <i><code>iRefnum</code></i></code></dt>
<dd><a name="1057949"> </a>The telephony manager library reference number.</dd>

<dt><a name="1057950"> </a><code>&rarr;  <i><code>iAppId</code></i></code></dt>
<dd><a name="1057951"> </a>The telephone application attachment identifier for your application.</dd>

<dt><a name="1057952"> </a><code>&harr;  <i><code>ioParamP</code></i></code></dt>
<dd><a name="1057956"> </a>A pointer to a <a href="TelephonySMS.html#1099590"><code>TelSmsGetAvailableStorageType</code></a> structure that is filled in with information about the storage areas available on the phone.</dd>

<dt><a name="1057957"> </a><code>&harr;  <i><code>ioTransIdP</code></i></code></dt>
<dd><a name="1057958"> </a>Set the value of this parameter to <code>NULL</code> to cause the function to execute synchronously. </dd>

<dd><a name="1057959"> </a>If this parameter is not <code>NULL</code>, the call executes asynchronously. Upon return from this function, this points to the transaction identifier associated with the asynchronous operation.</dd>

</dl>
<h4>
  <a name="1057960"> </a>Synchronous Result
</h4>

<p><a name="1057961"> </a>Returns <code>errNone</code> if the function was successful or returns an error code if not successful.</p>
<h4>
  <a name="1057962"> </a>Asynchronous Result
</h4>

<p><a name="1057966"> </a>The following fields are updated in the <a href="TelephonyBasic.html#1056091"><code>TelEventType</code></a> event that is sent when the operation completes:</p>

<dl>
<dt><a name="1057969"> </a><code>returnCode</code></dt>
<dd><a name="1057971"> </a><code>errNone</code> upon success or an error code upon failure.</dd>

<dt><a name="1057973"> </a><code>transId</code></dt>
<dd><a name="1057975"> </a>The transaction ID of the operation.</dd>

<dt><a name="1057977"> </a><code>paramP</code></dt>
<dd><a name="1057979"> </a>Points to the <a href="TelephonySMS.html#1099590"><code>TelSmsGetAvailableStorageType</code></a> structure passed to this function in the <code>ioParamP</code> parameter.</dd>

<dt><a name="1057984"> </a><code>functionId</code></dt>
<dd><a name="1057986"> </a><code>kTelSmsGetAvailableStorageMessage</code></dd>

</dl>

<div><hr>
  <a name="1057988"> </a> <span class="warning">WARNING! </span> When using this function asynchronously, you must ensure that the structure referenced by <code>ioParamP</code> remains in memory until the asynchronous call completes.
<hr>
</div>
<h4>
  <a name="1057989"> </a>Comments 
</h4>

<p><a name="1057990"> </a>The count of storage areas available on the phone is stored into the <code>count</code> field of the <a href="TelephonySMS.html#1099590"><code>TelSmsGetAvailableStorageType</code></a> structure referenced by <code>ioParamP</code>, and the storage ID of each available room is stored into the buffer referenced by the <code>storagesP</code> field. If the <code>storagesP</code> buffer is too small to contain all of the storage IDs, the buffer is truncated and this function returns the <code>telErrBufferSize</code> error. The <code>count</code> field of the structure is always updated to contain the total number of available storage areas on the phone.</p>

<p><a name="1057994"> </a>Before using this function, you should verify that it is available by calling the <a href="TelephonyBasic.html#1046188"><code>TelIsSmsServiceAvailable()</code></a> macro.</p>
<h4>
  <a name="1057998"> </a>Compatibility 
</h4>

<p><a name="1058002"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1058003"> </a>See Also 
</h4>

<p><a name="1058007"> </a><a href="TelephonySMS.html#1058774"><code>TelSmsSelectStorage()</code></a></p>

<h3 class="hbH3">
  <a name="1058010"> </a>TelSmsGetDataMaxSize Function <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1058012"> </a>Purpose 
</h4>

<p><a name="1058013"> </a>Returns the maximum length, in bytes, of a message on the current network. </p>
<h4>
  <a name="1058014"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1058015"> </a></code><h4>
  <a name="1058016"> </a>Prototype 
</h4>
<pre class="proto"><a name="1058017"></a>Err TelSmsGetDataMaxSize(
   UInt16 iRefnum,
   TelAppID iAppId,
   UInt16 *oSizeP,
   UInt16 *ioTransIdP
)
</pre>
<h4>
  <a name="1058018"> </a>Parameters 
</h4>

<dl>
<dt><a name="1058019"> </a><code>&rarr;  <i><code>iRefnum</code></i></code></dt>
<dd><a name="1058020"> </a>The telephony manager library reference number.</dd>

<dt><a name="1058021"> </a><code>&rarr;  <i><code>iAppId</code></i></code></dt>
<dd><a name="1058022"> </a>The telephone application attachment identifier for your application.</dd>

<dt><a name="1058023"> </a><code>&larr;  <i><code>oSizeP</code></i></code></dt>
<dd><a name="1058024"> </a>A pointer to an unsigned integer value that is updated with the maximum length of an SMS message on the current network.</dd>

<dt><a name="1058025"> </a><code>&harr;  <i><code>ioTransIdP</code></i></code></dt>
<dd><a name="1058026"> </a>Set the value of this parameter to <code>NULL</code> to cause the function to execute synchronously. </dd>

<dd><a name="1058027"> </a>If this parameter is not <code>NULL</code>, the call executes asynchronously. Upon return from this function, this points to the transaction identifier associated with the asynchronous operation.</dd>

</dl>
<h4>
  <a name="1058028"> </a>Synchronous Result
</h4>

<p><a name="1058029"> </a>Returns <code>errNone</code> if the function was successful or returns an error code if not successful.</p>
<h4>
  <a name="1058030"> </a>Asynchronous Result
</h4>

<p><a name="1058034"> </a>The following fields are updated in the <a href="TelephonyBasic.html#1056091"><code>TelEventType</code></a> event that is sent when the operation completes:</p>

<dl>
<dt><a name="1058037"> </a><code>returnCode</code></dt>
<dd><a name="1058039"> </a><code>errNone</code> upon success or an error code upon failure.</dd>

<dt><a name="1058041"> </a><code>transId</code></dt>
<dd><a name="1058043"> </a>The transaction ID of the operation.</dd>

<dt><a name="1058045"> </a><code>paramP</code></dt>
<dd><a name="1058047"> </a>Points to the unsigned integer value passed to this function in the <code>oSizeP</code> parameter.</dd>

<dt><a name="1058049"> </a><code>functionId</code></dt>
<dd><a name="1058051"> </a><code>kTelSmsGetDataMaxSizeMessage</code></dd>

</dl>

<div><hr>
  <a name="1058053"> </a> <span class="warning">WARNING! </span> When using this function asynchronously, you must ensure that the value referenced by <code>oSizeP</code> remains in memory until the asynchronous call completes.
<hr>
</div>
<h4>
  <a name="1058054"> </a>Comments 
</h4>

<p><a name="1058055"> </a>You can use this function to determine the maximum size you need to allocate to read a message.</p>

<p><a name="1058056"> </a>Before using this function, you should verify that it is available by calling the <a href="TelephonyBasic.html#1046188"><code>TelIsSmsServiceAvailable()</code></a> macro.</p>
<h4>
  <a name="1058060"> </a>Compatibility 
</h4>

<p><a name="1058064"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1058065"> </a>See Also 
</h4>

<p><a name="1058072"> </a><a href="TelephonySMS.html#1058274"><code>TelSmsReadMessage()</code></a>, <a href="TelephonySMS.html#1058370"><code>TelSmsReadMessages()</code></a></p>

<h3 class="hbH3">
  <a name="1058075"> </a>TelSmsGetMessageCount Function <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1058077"> </a>Purpose 
</h4>

<p><a name="1058078"> </a>Retrieve the total number of message slots, and the number of filled slots for the specified message type. </p>
<h4>
  <a name="1058079"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1058080"> </a></code><h4>
  <a name="1058081"> </a>Prototype 
</h4>
<pre class="proto"><a name="1058082"></a>Err TelSmsGetMessageCount(
   UInt16 iRefnum,
   TelAppID iAppId,
   TelSmsGetMessageCountType *ioParamP,
   UInt16 *ioTransIdP
)
</pre>
<h4>
  <a name="1058083"> </a>Parameters 
</h4>

<dl>
<dt><a name="1058084"> </a><code>&rarr;  <i><code>iRefnum</code></i></code></dt>
<dd><a name="1058085"> </a>The telephony manager library reference number.</dd>

<dt><a name="1058086"> </a><code>&rarr;  <i><code>iAppId</code></i></code></dt>
<dd><a name="1058087"> </a>The telephone application attachment identifier for your application.</dd>

<dt><a name="1058088"> </a><code>&harr;  <i><code>ioParamP</code></i></code></dt>
<dd><a name="1058092"> </a>A pointer to a <a href="TelephonySMS.html#1099611"><code>TelSmsGetMessageCountType</code></a> structure that specifies the message type and is filled in with the count information.</dd>

<dt><a name="1058093"> </a><code>&harr;  <i><code>ioTransIdP</code></i></code></dt>
<dd><a name="1058094"> </a>Set the value of this parameter to <code>NULL</code> to cause the function to execute synchronously. </dd>

<dd><a name="1058095"> </a>If this parameter is not <code>NULL</code>, the call executes asynchronously. Upon return from this function, this points to the transaction identifier associated with the asynchronous operation.</dd>

</dl>
<h4>
  <a name="1058096"> </a>Synchronous Result
</h4>

<p><a name="1058097"> </a>Returns <code>errNone</code> if the function was successful or returns an error code if not successful.</p>
<h4>
  <a name="1058098"> </a>Asynchronous Result
</h4>

<p><a name="1058102"> </a>The following fields are updated in the <a href="TelephonyBasic.html#1056091"><code>TelEventType</code></a> event that is sent when the operation completes:</p>

<dl>
<dt><a name="1058105"> </a><code>returnCode</code></dt>
<dd><a name="1058107"> </a><code>errNone</code> upon success or an error code upon failure.</dd>

<dt><a name="1058109"> </a><code>transId</code></dt>
<dd><a name="1058111"> </a>The transaction ID of the operation.</dd>

<dt><a name="1058113"> </a><code>paramP</code></dt>
<dd><a name="1058118"> </a>Points to the <a href="TelephonySMS.html#1099611"><code>TelSmsGetMessageCountType</code></a> structure passed to this function in the i<code>oParamP</code> parameter.</dd>

<dt><a name="1058120"> </a><code>functionId</code></dt>
<dd><a name="1058122"> </a><code>kTelSmsGetMessageCountMessage</code></dd>

</dl>

<div><hr>
  <a name="1058124"> </a> <span class="warning">WARNING! </span> When using this function asynchronously, you must ensure that the structure referenced by <code>ioParamP</code> remains in memory until the asynchronous call completes.
<hr>
</div>
<h4>
  <a name="1058125"> </a>Comments 
</h4>

<p><a name="1058126"> </a>The currently selected storage area pertains only to delivered messages; other message types are stored on the phone, but not in a specific storage area. If you specify delivered messages, this function retrieves information about the messages in the currently selected SMS storage area on the phone. If you specify a different message type, this function retrieves information about the messages in the phone.</p>

<p><a name="1058129"> </a>You specify the message type by assigning one of the <a href="TelephonySMS.html#1057620">SMS Message Type Constants</a> to the <code>messageType</code> field of the <code>TelSmsGetMessageCountType</code> structure before calling this function.</p>

<p><a name="1058131"> </a>Before using this function, you should verify that it is available by calling the <a href="TelephonyBasic.html#1046188"><code>TelIsSmsServiceAvailable()</code></a> macro.</p>
<h4>
  <a name="1058135"> </a>Compatibility 
</h4>

<p><a name="1058139"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1058140"> </a>See Also 
</h4>

<p><a name="1058144"> </a><a href="TelephonySMS.html#1058774"><code>TelSmsSelectStorage()</code></a></p>

<h3 class="hbH3">
  <a name="1058147"> </a>TelSmsGetSelectedStorage Function <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1058149"> </a>Purpose 
</h4>

<p><a name="1058150"> </a>Retrieve the ID of the currently selected storage area on the phone. </p>
<h4>
  <a name="1058151"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1058152"> </a></code><h4>
  <a name="1058153"> </a>Prototype 
</h4>
<pre class="proto"><a name="1058154"></a>Err TelSmsGetSelectedStorage(
   UInt16 iRefnum,
   TelAppID iAppId,
   UInt8 *oStorageIdP,
   UInt16 *ioTransIdP
)
</pre>
<h4>
  <a name="1058155"> </a>Parameters 
</h4>

<dl>
<dt><a name="1058156"> </a><code>&rarr;  <i><code>iRefnum</code></i></code></dt>
<dd><a name="1058157"> </a>The telephony manager library reference number.</dd>

<dt><a name="1058158"> </a><code>&rarr;  <i><code>iAppId</code></i></code></dt>
<dd><a name="1058159"> </a>The telephone application attachment identifier for your application.</dd>

<dt><a name="1058160"> </a><code>&larr;  <i><code>oStorageIdP</code></i></code></dt>
<dd><a name="1058161"> </a>A pointer to an unsigned byte value that is assigned the ID of the currently selected storage area on the phone. The assigned ID value is one of the <a href="TelephonySMS.html#1090723">SMS Storage ID Constants</a>.</dd>

<dt><a name="1058165"> </a><code>&harr;  <i><code>ioTransIdP</code></i></code></dt>
<dd><a name="1058166"> </a>Set the value of this parameter to <code>NULL</code> to cause the function to execute synchronously. </dd>

<dd><a name="1058167"> </a>If this parameter is not <code>NULL</code>, the call executes asynchronously. Upon return from this function, this points to the transaction identifier associated with the asynchronous operation.</dd>

</dl>
<h4>
  <a name="1058168"> </a>Synchronous Result
</h4>

<p><a name="1058169"> </a>Returns <code>errNone</code> if the function was successful or returns an error code if not successful.</p>
<h4>
  <a name="1058170"> </a>Asynchronous Result
</h4>

<p><a name="1058174"> </a>The following fields are updated in the <a href="TelephonyBasic.html#1056091"><code>TelEventType</code></a> event that is sent when the operation completes:</p>

<dl>
<dt><a name="1058177"> </a><code>returnCode</code></dt>
<dd><a name="1058179"> </a><code>errNone</code> upon success or an error code upon failure.</dd>

<dt><a name="1058181"> </a><code>transId</code></dt>
<dd><a name="1058183"> </a>The transaction ID of the operation.</dd>

<dt><a name="1058185"> </a><code>paramP</code></dt>
<dd><a name="1058187"> </a>Points to the unsigned integer value passed to this function in the <code>oStorageIdP</code> parameter.</dd>

<dt><a name="1058189"> </a><code>functionId</code></dt>
<dd><a name="1058191"> </a><code>kTelSmsGetSelectedStorageMessage</code></dd>

</dl>

<div><hr>
  <a name="1058193"> </a> <span class="warning">WARNING! </span> When using this function asynchronously, you must ensure that the value referenced by <code>oStorageIdP</code> remains in memory until the asynchronous call completes.
<hr>
</div>
<h4>
  <a name="1058194"> </a>Comments 
</h4>

<p><a name="1058195"> </a>The currently selected storage area pertains only to delivered messages; other message types are stored on the phone, but not in a specific storage area.</p>

<p><a name="1058196"> </a>Before using this function, you should verify that it is available by calling the <a href="TelephonyBasic.html#1046188"><code>TelIsSmsServiceAvailable()</code></a> macro.</p>
<h4>
  <a name="1058200"> </a>Compatibility 
</h4>

<p><a name="1058204"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1058205"> </a>See Also 
</h4>

<p><a name="1058209"> </a><a href="TelephonySMS.html#1058774"><code>TelSmsSelectStorage()</code></a></p>

<h3 class="hbH3">
  <a name="1058212"> </a>TelSmsGetUniquePartId Function <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1058214"> </a>Purpose 
</h4>

<p><a name="1058215"> </a>Return a unique part identifier to assign to the <code>partId</code> field of a submit message. </p>
<h4>
  <a name="1058216"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1058217"> </a></code><h4>
  <a name="1058218"> </a>Prototype 
</h4>
<pre class="proto"><a name="1058219"></a>Err TelSmsGetUniquePartId(
   UInt16 iRefnum,
   TelAppID iAppId,
   UInt16 *oUniqueIdP,
   UInt16 *ioTransIdP
)
</pre>
<h4>
  <a name="1058220"> </a>Parameters 
</h4>

<dl>
<dt><a name="1058221"> </a><code>&rarr;  <i><code>iRefnum</code></i></code></dt>
<dd><a name="1058222"> </a>The telephony manager library reference number.</dd>

<dt><a name="1058223"> </a><code>&rarr;  <i><code>iAppId</code></i></code></dt>
<dd><a name="1058224"> </a>The telephone application attachment identifier for your application.</dd>

<dt><a name="1058225"> </a><code>&larr;  <i><code>oUniqueIdP</code></i></code></dt>
<dd><a name="1058226"> </a>A pointer to a unsigned integer value. Upon return, this is the unique part ID value.</dd>

<dt><a name="1058227"> </a><code>&harr;  <i><code>ioTransIdP</code></i></code></dt>
<dd><a name="1058228"> </a>Set the value of this parameter to <code>NULL</code> to cause the function to execute synchronously. </dd>

<dd><a name="1058229"> </a>If this parameter is not <code>NULL</code>, the call executes asynchronously. Upon return from this function, this points to the transaction identifier associated with the asynchronous operation.</dd>

</dl>
<h4>
  <a name="1058230"> </a>Synchronous Result
</h4>

<p><a name="1058231"> </a>Returns <code>errNone</code> if the function was successful or returns an error code if not successful.</p>
<h4>
  <a name="1058232"> </a>Asynchronous Result
</h4>

<p><a name="1058236"> </a>The following fields are updated in the <a href="TelephonyBasic.html#1056091"><code>TelEventType</code></a> event that is sent when the operation completes:</p>

<dl>
<dt><a name="1058239"> </a><code>returnCode</code></dt>
<dd><a name="1058241"> </a><code>errNone</code> upon success or an error code upon failure.</dd>

<dt><a name="1058243"> </a><code>transId</code></dt>
<dd><a name="1058245"> </a>The transaction ID of the operation.</dd>

<dt><a name="1058247"> </a><code>paramP</code></dt>
<dd><a name="1058249"> </a>Points to the unsigned integer value passed to this function in the <code>oUniqueIdP</code> parameter.</dd>

<dt><a name="1058251"> </a><code>functionId</code></dt>
<dd><a name="1058253"> </a><code>kTelUrqSmsGetUniquePartIdMessage</code></dd>

</dl>

<div><hr>
  <a name="1058255"> </a> <span class="warning">WARNING! </span> When using this function asynchronously, you must ensure that the value referenced by <code>oUniquePartIdP</code> remains in memory until the asynchronous call completes.
<hr>
</div>
<h4>
  <a name="1058256"> </a>Comments 
</h4>

<p><a name="1058257"> </a>This function corresponds to the <code>kTelUrqSmsGetUniquePartIdMessage</code> value.</p>

<p><a name="1058258"> </a>Before using this function, you should verify that it is available by calling the <a href="TelephonyBasic.html#1046188"><code>TelIsSmsServiceAvailable()</code></a> macro.</p>
<h4>
  <a name="1058262"> </a>Compatibility 
</h4>

<p><a name="1058266"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1058267"> </a>See Also 
</h4>

<p><a name="1058271"> </a><a href="TelephonySMS.html#1058903"><code>TelSmsSendMessage()</code></a></p>

<h3 class="hbH3">
  <a name="1058274"> </a>TelSmsReadMessage Function <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1058276"> </a>Purpose 
</h4>

<p><a name="1058277"> </a>Retrieve a delivered message from the currently selected storage area.</p>
<h4>
  <a name="1058278"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1058279"> </a></code><h4>
  <a name="1058280"> </a>Prototype 
</h4>
<pre class="proto"><a name="1058281"></a>Err TelSmsReadMessage(
   UInt16 iRefnum,
   TelAppID iAppId,
   TelSmsDeliveryMessageType *ioMessageP,
   UInt16 *ioTransIdP
)
</pre>
<h4>
  <a name="1058282"> </a>Parameters 
</h4>

<dl>
<dt><a name="1058283"> </a><code>&rarr;  <i><code>iRefnum</code></i></code></dt>
<dd><a name="1058284"> </a>The telephony manager library reference number.</dd>

<dt><a name="1058285"> </a><code>&rarr;  <i><code>iAppId</code></i></code></dt>
<dd><a name="1058286"> </a>The telephone application attachment identifier for your application.</dd>

<dt><a name="1058287"> </a><code>&harr;  <i><code>ioMessageP</code></i></code></dt>
<dd><a name="1058291"> </a>A pointer to a <a href="TelephonySMS.html#1099464"><code>TelSmsDeliveryMessageType</code></a> structure that is filled in with the message.</dd>

<dd><a name="1058292"> </a>On input, the <code>index</code> field of this structure contains the index of the message that you want retrieved. Message indexes are zero-based.</dd>

<dd><a name="1058293"> </a>On input, the <code>extensionsCount</code> field specifies the number of extensions allocated in the <code>extensionsP</code> array. You must allocate at least one multi-part extension, even for a single-part message.</dd>

<dd><a name="1058294"> </a>On input, the <code>dataSize</code> field specifies the allocated size of the <code>data</code> buffer, and the <code>originatingAddressSize</code> field specifies the allocated size of the <code>originatingAddress</code> string. Upon return, each size field specifies the complete size of the data that was stored into the buffer, even if the data had to be truncated to fit.</dd>

<dt><a name="1058295"> </a><code>&harr;  <i><code>ioTransIdP</code></i></code></dt>
<dd><a name="1058296"> </a>Set the value of this parameter to <code>NULL</code> to cause the function to execute synchronously. </dd>

<dd><a name="1058297"> </a>If this parameter is not <code>NULL</code>, the call executes asynchronously. Upon return from this function, this points to the transaction identifier associated with the asynchronous operation.</dd>

</dl>
<h4>
  <a name="1058298"> </a>Synchronous Result
</h4>

<p><a name="1058299"> </a>Returns <code>errNone</code> if the function was successful or returns an error code if not successful.</p>
<h4>
  <a name="1058300"> </a>Asynchronous Result
</h4>

<p><a name="1058304"> </a>The following fields are updated in the <a href="TelephonyBasic.html#1056091"><code>TelEventType</code></a> event that is sent when the operation completes:</p>

<dl>
<dt><a name="1058307"> </a><code>returnCode</code></dt>
<dd><a name="1058309"> </a><code>errNone</code> upon success or an error code upon failure.</dd>

<dt><a name="1058311"> </a><code>transId</code></dt>
<dd><a name="1058313"> </a>The transaction ID of the operation.</dd>

<dt><a name="1058315"> </a><code>paramP</code></dt>
<dd><a name="1058320"> </a>Points to the <a href="TelephonySMS.html#1099464"><code>TelSmsDeliveryMessageType</code></a> structure passed to this function in the <code>ioMessageP</code> parameter.</dd>

<dt><a name="1058322"> </a><code>functionId</code></dt>
<dd><a name="1058324"> </a><code>kTelSmsReadMessageMessage</code></dd>

</dl>

<div><hr>
  <a name="1058326"> </a> <span class="warning">WARNING! </span> When using this function asynchronously, you must ensure that the structure referenced by <code>ioMessageP</code> remains in memory until the asynchronous call completes.
<hr>
</div>
<h4>
  <a name="1058327"> </a>Comments 
</h4>

<p><a name="1058328"> </a>The message data is stored into the <code>data</code> field of the <a href="TelephonySMS.html#1099464"><code>TelSmsDeliveryMessageType</code></a> structure referenced by <code>ioMessageP</code>. If the complete message data is too large to fit into the allocated size of the <code>data</code> field, the message data is truncated and this function returns the <code>telErrBufferSize</code> error. The <code>dataSize</code> field of the structure is always updated to contain the actual size, in bytes, of the message data.</p>

<p><a name="1058332"> </a>The originating address string is stored into the <code>originatingData </code>field of the <a href="TelephonySMS.html#1099464"><code>TelSmsDeliveryMessageType</code></a> structure referenced by <code>ioMessageP</code>. If the complete string is too large to fit into the allocated size of the <code>originatingData</code> field, the string is truncated (and ends with the null terminator character) and this function returns the <code>telErrBufferSize</code> error. The <code>originatingAddressSize</code> field of the structure is always updated to contain the actual size of the string.</p>

<p><a name="1058336"> </a>Before calling this function, you need to allocate a number of fields and structures in and related to the <code>TelSmsDeliveryMessage</code> structure:</p>
<ul type="disc">
  <li><a name="1058337"> </a>Allocate each address field with a size of at least <code>kTelMaxPhoneNumberLen + 1</code>.
   <p><a name="1058338"> </a>For example, for a GSM message, you must allocate the <code>originatingAddress</code> and <code>serviceCenterNumber</code> fields in the <a href="TelephonySMS.html#1099392"><code>TelSmsDeliveryAdvancedGSMType</code></a> structure in the <code>TelSmsDeliveryMessage</code> structure.</p>
  <li><a name="1058342"> </a>Allocate the message field data to have the maximum size of a message on the current network. You can determine this value by calling the <a href="TelephonySMS.html#1058010"><code>TelSmsGetDataMaxSize()</code></a> function.
  <li><a name="1058349"> </a>Allocate at least one <a href="TelephonySMS.html#1099549"><code>TelSmsExtensionType</code></a> structure in the <code>TelSmsDeliveryMessage</code> structure. You must have at least one extension structure, even if your message has only a single part. If you do not allocate enough extensions for the message, <a href="TelephonySMS.html#1058274"><code>TelSmsReadMessage()</code></a> returns an error. Palm recommends allocating between 3 and 5 extensions for a message.
  <li><a name="1058353"> </a>You should not allocate a pointer for user extension data. If you receive user extension data, the user extension pointer will reference a block in the message data. Do not deallocate the user extension data when you release the structure.
</ul>

<p><a name="1058354"> </a>Before using this function, you should verify that it is available by calling the <a href="TelephonyBasic.html#1046188"><code>TelIsSmsServiceAvailable()</code></a> macro.</p>
<h4>
  <a name="1058358"> </a>Compatibility 
</h4>

<p><a name="1058362"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1058363"> </a>See Also 
</h4>

<p><a name="1058367"> </a><a href="TelephonySMS.html#1058774"><code>TelSmsSelectStorage()</code></a></p>

<h3 class="hbH3">
  <a name="1058370"> </a>TelSmsReadMessages Function <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1058372"> </a>Purpose 
</h4>

<p><a name="1058373"> </a>Retrieve a range of delivered messages from the currently selected storage area.</p>
<h4>
  <a name="1058374"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1058375"> </a></code><h4>
  <a name="1058376"> </a>Prototype 
</h4>
<pre class="proto"><a name="1058377"></a>Err TelSmsReadMessages(
   UInt16 iRefnum,
   TelAppID iAppId,
   TelSmsReadMessagesType *ioParamP,
   UInt16 *ioTransIdP
)
</pre>
<h4>
  <a name="1058378"> </a>Parameters 
</h4>

<dl>
<dt><a name="1058379"> </a><code>&rarr;  <i><code>iRefnum</code></i></code></dt>
<dd><a name="1058380"> </a>The telephony manager library reference number.</dd>

<dt><a name="1058381"> </a><code>&rarr;  <i><code>iAppId</code></i></code></dt>
<dd><a name="1058382"> </a>The telephone application attachment identifier for your application.</dd>

<dt><a name="1058383"> </a><code>&harr;  <i><code>ioParamP</code></i></code></dt>
<dd><a name="1058387"> </a>A pointer to a <a href="TelephonySMS.html#1099713"><code>TelSmsReadMessagesType</code></a> structure. </dd>

<dd><a name="1058388"> </a>On input, the <code>first</code> field of this structure specifies the index of the first message to retrieve. Message indexes are zero-based. </dd>

<dd><a name="1058389"> </a>On input the <code>count</code> field of this structure specifies the allocated size of the <code>messagesP</code> buffer. Upon return, the <code>count</code> field specifies the actual number of messages that were available, even if that many could not fit into the buffer.</dd>

<dd><a name="1058390"> </a>The <code>messagesP</code> buffer must contain pointers to <a href="TelephonySMS.html#1099464"><code>TelSmsDeliveryMessageType</code></a> structures that have been allocated. Each of these structures must be initialized as described for the <a href="TelephonySMS.html#1058274"><code>TelSmsReadMessage()</code></a> function.</dd>

<dt><a name="1058397"> </a><code>&harr;  <i><code>ioTransIdP</code></i></code></dt>
<dd><a name="1058398"> </a>Set the value of this parameter to <code>NULL</code> to cause the function to execute synchronously. </dd>

<dd><a name="1058399"> </a>If this parameter is not <code>NULL</code>, the call executes asynchronously. Upon return from this function, this points to the transaction identifier associated with the asynchronous operation.</dd>

</dl>
<h4>
  <a name="1058400"> </a>Synchronous Result
</h4>

<p><a name="1058401"> </a>Returns <code>errNone</code> if the function was successful or returns an error code if not successful.</p>
<h4>
  <a name="1058402"> </a>Asynchronous Result
</h4>

<p><a name="1058406"> </a>The following fields are updated in the <a href="TelephonyBasic.html#1056091"><code>TelEventType</code></a> event that is sent when the operation completes:</p>

<dl>
<dt><a name="1058409"> </a><code>returnCode</code></dt>
<dd><a name="1058411"> </a><code>errNone</code> upon success or an error code upon failure.</dd>

<dt><a name="1058413"> </a><code>transId</code></dt>
<dd><a name="1058415"> </a>The transaction ID of the operation.</dd>

<dt><a name="1058417"> </a><code>paramP</code></dt>
<dd><a name="1058422"> </a>Points to the <a href="TelephonySMS.html#1099713"><code>TelSmsReadMessagesType</code></a> structure passed to this function in the <code>ioParamP</code> parameter.</dd>

<dt><a name="1058424"> </a><code>functionId</code></dt>
<dd><a name="1058426"> </a><code>kTelSmsReadMessagesMessage</code></dd>

</dl>

<div><hr>
  <a name="1058428"> </a> <span class="warning">WARNING! </span> When using this function asynchronously, you must ensure that the structure referenced by <code>ioParamP</code> and all of the structures referenced by it remain in memory until the asynchronous call completes.
<hr>
</div>
<h4>
  <a name="1058429"> </a>Comments 
</h4>

<p><a name="1058430"> </a>If the message data or originating address string data for any of the retrieved messages is larger than the allocated size of its corresponding buffer, the data is truncated into the buffer, and this function returns the <code>telErrBufferSize</code> error. </p>

<p><a name="1058431"> </a>For more information about using this function and allocating structures for its use, see the Comments description for the <a href="TelephonySMS.html#1058274"><code>TelSmsReadMessage()</code></a> function.</p>

<p><a name="1058435"> </a>Before using this function, you should verify that it is available by calling the <a href="TelephonyBasic.html#1046188"><code>TelIsSmsServiceAvailable()</code></a> macro.</p>
<h4>
  <a name="1058439"> </a>Compatibility 
</h4>

<p><a name="1058443"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1058444"> </a>See Also 
</h4>

<p><a name="1058448"> </a><a href="TelephonySMS.html#1058774"><code>TelSmsSelectStorage()</code></a></p>

<h3 class="hbH3">
  <a name="1058451"> </a>TelSmsReadReport Function <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1058453"> </a>Purpose 
</h4>

<p><a name="1058454"> </a>Read a report from the currently selected storage area.</p>
<h4>
  <a name="1058455"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1058456"> </a></code><h4>
  <a name="1058457"> </a>Prototype 
</h4>
<pre class="proto"><a name="1058458"></a>Err TelSmsReadReport(
   UInt16 iRefnum,
   TelAppID iAppId,
   TelSmsReportType *ioReportP,
   UInt16 *ioTransIdP
)
</pre>
<h4>
  <a name="1058459"> </a>Parameters 
</h4>

<dl>
<dt><a name="1058460"> </a><code>&rarr;  <i><code>iRefnum</code></i></code></dt>
<dd><a name="1058461"> </a>The telephony manager library reference number.</dd>

<dt><a name="1058462"> </a><code>&rarr;  <i><code>iAppId</code></i></code></dt>
<dd><a name="1058463"> </a>The telephone application attachment identifier for your application.</dd>

<dt><a name="1058464"> </a><code>&harr;  <i><code>ioReportP</code></i></code></dt>
<dd><a name="1058468"> </a>A pointer to a <a href="TelephonySMS.html#1099785"><code>TelSmsReportType</code></a> structure.</dd>

<dd><a name="1058469"> </a>On input the <code>index</code> field of this structure contains the index of the message that you want retrieved. Message indexes are zero-based.</dd>

<dd><a name="1058470"> </a>On input, the <code>dataSize</code> field specifies the allocated size of the <code>data</code> buffer, and the <code>originatingAddressSize</code> field specifies the allocated size of the <code>originatingAddress</code> string. Upon return, each size field specifies the complete size of the data that was stored into the buffer, even the data had to be truncated to fit.</dd>

<dt><a name="1058471"> </a><code>&harr;  <i><code>ioTransIdP</code></i></code></dt>
<dd><a name="1058472"> </a>Set the value of this parameter to <code>NULL</code> to cause the function to execute synchronously. </dd>

<dd><a name="1058473"> </a>If this parameter is not <code>NULL</code>, the call executes asynchronously. Upon return from this function, this points to the transaction identifier associated with the asynchronous operation.</dd>

</dl>
<h4>
  <a name="1058474"> </a>Synchronous Result
</h4>

<p><a name="1058475"> </a>Returns <code>errNone</code> if the function was successful or returns an error code if not successful.</p>
<h4>
  <a name="1058476"> </a>Asynchronous Result
</h4>

<p><a name="1058480"> </a>The following fields are updated in the <a href="TelephonyBasic.html#1056091"><code>TelEventType</code></a> event that is sent when the operation completes:</p>

<dl>
<dt><a name="1058483"> </a><code>returnCode</code></dt>
<dd><a name="1058485"> </a><code>errNone</code> upon success or an error code upon failure.</dd>

<dt><a name="1058487"> </a><code>transId</code></dt>
<dd><a name="1058489"> </a>The transaction ID of the operation.</dd>

<dt><a name="1058491"> </a><code>paramP</code></dt>
<dd><a name="1058496"> </a>Points to the <a href="TelephonySMS.html#1099785"><code>TelSmsReportType</code></a> structure passed to this function in the <code>ioReportP</code> parameter.</dd>

<dt><a name="1058498"> </a><code>functionId</code></dt>
<dd><a name="1058500"> </a><code>kTelSmsReadReportMessage</code></dd>

</dl>

<div><hr>
  <a name="1058502"> </a> <span class="warning">WARNING! </span> When using this function asynchronously, you must ensure that the structure referenced by <code>iEntryP</code> remains in memory until the asynchronous call completes.
<hr>
</div>
<h4>
  <a name="1058503"> </a>Comments 
</h4>

<p><a name="1058504"> </a>The report data is stored into the <code>data</code> field of the <a href="TelephonySMS.html#1099785"><code>TelSmsReportType</code></a> structure referenced by <code>ioReportP</code>. If the complete message data is too large to fit into the allocated size of the <code>data</code> field, the report data is truncated and this function returns the <code>telErrBufferSize</code> error. The <code>dataSize</code> field of the structure is always updated to contain the actual size, in bytes, of the report data.</p>

<p><a name="1058508"> </a>The originating address string is stored into the <code>originatingData </code>field of the <a href="TelephonySMS.html#1099785"><code>TelSmsReportType</code></a> structure referenced by <code>ioReportP</code>. If the complete string is too large to fit into the allocated size of the <code>originatingData</code> field, the string is truncated (and ends with the null terminator character) and this function returns the <code>telErrBufferSize</code> error. The <code>originatingAddressSize</code> field of the structure is always updated to contain the actual size of the string.</p>

<p><a name="1058512"> </a>Before using this function, you should verify that it is available by calling the <a href="TelephonyBasic.html#1046188"><code>TelIsSmsServiceAvailable()</code></a> macro.</p>
<h4>
  <a name="1058516"> </a>Compatibility 
</h4>

<p><a name="1058520"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1058521"> </a>See Also 
</h4>

<p><a name="1058528"> </a><a href="TelephonySMS.html#1058774"><code>TelSmsSelectStorage()</code></a>, <a href="TelephonySMS.html#1058903"><code>TelSmsSendMessage()</code></a></p>

<h3 class="hbH3">
  <a name="1058531"> </a>TelSmsReadReports Function <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1058533"> </a>Purpose 
</h4>

<p><a name="1058534"> </a>Retrieve a range of reports from the currently selected storage.</p>
<h4>
  <a name="1058535"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1058536"> </a></code><h4>
  <a name="1058537"> </a>Prototype 
</h4>
<pre class="proto"><a name="1058538"></a>Err TelSmsReadReports(
   UInt16 iRefnum,
   TelAppID iAppId,
   TelSmsReadReportsType *ioParamP,
   UInt16 *ioTransIdP
)
</pre>
<h4>
  <a name="1058539"> </a>Parameters 
</h4>

<dl>
<dt><a name="1058540"> </a><code>&rarr;  <i><code>iRefnum</code></i></code></dt>
<dd><a name="1058541"> </a>The telephony manager library reference number.</dd>

<dt><a name="1058542"> </a><code>&rarr;  <i><code>iAppId</code></i></code></dt>
<dd><a name="1058543"> </a>The telephone application attachment identifier for your application.</dd>

<dt><a name="1058544"> </a><code>&harr;  <i><code>ioParamP</code></i></code></dt>
<dd><a name="1058548"> </a>A pointer to a <a href="TelephonySMS.html#1099737"><code>TelSmsReadReportsType</code></a> structure. </dd>

<dd><a name="1058549"> </a>On input, the <code>first</code> field of this structure specifies the index of the first report to retrieve. Report indexes are zero-based. </dd>

<dd><a name="1058550"> </a>On input the <code>count</code> field of this structure specifies the allocated size of the <code>reportsP</code> buffer. Upon return, the <code>count</code> field specifies the actual number of reports that were available, even if that many could not fit into the buffer.</dd>

<dd><a name="1058551"> </a>The <code>reportsP</code> buffer must contain pointers to <a href="TelephonySMS.html#1099785"><code>TelSmsReportType</code></a> structures that have been allocated. Each of these structures must be initialized as described for the <a href="TelephonySMS.html#1058451"><code>TelSmsReadReport()</code></a> function.</dd>

<dt><a name="1058558"> </a><code>&harr;  <i><code>ioTransIdP</code></i></code></dt>
<dd><a name="1058559"> </a>Set the value of this parameter to <code>NULL</code> to cause the function to execute synchronously. </dd>

<dd><a name="1058560"> </a>If this parameter is not <code>NULL</code>, the call executes asynchronously. Upon return from this function, this points to the transaction identifier associated with the asynchronous operation.</dd>

</dl>
<h4>
  <a name="1058561"> </a>Synchronous Result
</h4>

<p><a name="1058562"> </a>Returns <code>errNone</code> if the function was successful or returns an error code if not successful.</p>
<h4>
  <a name="1058563"> </a>Asynchronous Result
</h4>

<p><a name="1058567"> </a>The following fields are updated in the <a href="TelephonyBasic.html#1056091"><code>TelEventType</code></a> event that is sent when the operation completes:</p>

<dl>
<dt><a name="1058570"> </a><code>returnCode</code></dt>
<dd><a name="1058572"> </a><code>errNone</code> upon success or an error code upon failure.</dd>

<dt><a name="1058574"> </a><code>transId</code></dt>
<dd><a name="1058576"> </a>The transaction ID of the operation.</dd>

<dt><a name="1058578"> </a><code>paramP</code></dt>
<dd><a name="1058583"> </a>Points to the <a href="TelephonySMS.html#1099737"><code>TelSmsReadReportsType</code></a> structure passed to this function in the <code>ioParamP</code> parameter.</dd>

<dt><a name="1058585"> </a><code>functionId</code></dt>
<dd><a name="1058587"> </a><code>kTelSmsReadReportsMessage</code></dd>

</dl>

<div><hr>
  <a name="1058589"> </a> <span class="warning">WARNING! </span> When using this function asynchronously, you must ensure that the structure referenced by <code>ioParamP</code> and all of the structured referenced by it remain in memory until the asynchronous call completes.
<hr>
</div>
<h4>
  <a name="1058590"> </a>Comments 
</h4>

<p><a name="1058591"> </a>If the report data or originating address string data for any of the retrieved messages is larger than the allocated size of its corresponding buffer, the data is truncated into the buffer, and this function returns the <code>telErrBufferSize</code> error. For more information, see the Comments description for the <a href="TelephonySMS.html#1058451"><code>TelSmsReadReport()</code></a> function.</p>

<p><a name="1058595"> </a>Before using this function, you should verify that it is available by calling the <a href="TelephonyBasic.html#1046188"><code>TelIsSmsServiceAvailable()</code></a> macro.</p>
<h4>
  <a name="1058599"> </a>Compatibility 
</h4>

<p><a name="1058603"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1058604"> </a>See Also 
</h4>

<p><a name="1058611"> </a><a href="TelephonySMS.html#1058774"><code>TelSmsSelectStorage()</code></a>, <a href="TelephonySMS.html#1058903"><code>TelSmsSendMessage()</code></a></p>

<h3 class="hbH3">
  <a name="1058614"> </a>TelSmsReadSubmittedMessage Function <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1058616"> </a>Purpose 
</h4>

<p><a name="1058617"> </a>Read a previously submitted message that was kept on the phone after being sent.</p>
<h4>
  <a name="1058618"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1058619"> </a></code><h4>
  <a name="1058620"> </a>Prototype 
</h4>
<pre class="proto"><a name="1058621"></a>Err TelSmsReadSubmittedMessage(
   UInt16 iRefnum,
   TelAppID iAppId,
   TelSmsSubmittedMessageType *ioMessageP,
   UInt16 *ioTransIdP
)
</pre>
<h4>
  <a name="1058622"> </a>Parameters 
</h4>

<dl>
<dt><a name="1058623"> </a><code>&rarr;  <i><code>iRefnum</code></i></code></dt>
<dd><a name="1058624"> </a>The telephony manager library reference number.</dd>

<dt><a name="1058625"> </a><code>&rarr;  <i><code>iAppId</code></i></code></dt>
<dd><a name="1058626"> </a>The telephone application attachment identifier for your application.</dd>

<dt><a name="1058627"> </a><code>&harr;  <i><code>ioMessageP</code></i></code></dt>
<dd><a name="1058631"> </a>A pointer to a <a href="TelephonySMS.html#1099927"><code>TelSmsSubmitMessageType</code></a> structure that is filled in with the message.</dd>

<dd><a name="1058632"> </a>On input, the <code>index</code> field contains the index of the message that you want retrieved. Message indexes are zero-based.</dd>

<dd><a name="1058633"> </a>Upon return, the <code>message</code> field structure is filled in with the message information. You must initialize the buffer size fields of this structure prior to calling this function, including the <code>dataSize</code>, <code>callbackNumberSize</code>, <code>serviceCenterNumberSize</code>, and <code>destinationAddressSize</code> fields. Each of these fields is initialized with the allocated size of its corresponding buffer.</dd>

<dt><a name="1058634"> </a><code>&harr;  <i><code>ioTransIdP</code></i></code></dt>
<dd><a name="1058635"> </a>Set the value of this parameter to <code>NULL</code> to cause the function to execute synchronously. </dd>

<dd><a name="1058636"> </a>If this parameter is not <code>NULL</code>, the call executes asynchronously. Upon return from this function, this points to the transaction identifier associated with the asynchronous operation.</dd>

</dl>
<h4>
  <a name="1058637"> </a>Synchronous Result
</h4>

<p><a name="1058638"> </a>Returns <code>errNone</code> if the function was successful or returns an error code if not successful.</p>
<h4>
  <a name="1058639"> </a>Asynchronous Result
</h4>

<p><a name="1058643"> </a>The following fields are updated in the <a href="TelephonyBasic.html#1056091"><code>TelEventType</code></a> event that is sent when the operation completes:</p>

<dl>
<dt><a name="1058646"> </a><code>returnCode</code></dt>
<dd><a name="1058648"> </a><code>errNone</code> upon success or an error code upon failure.</dd>

<dt><a name="1058650"> </a><code>transId</code></dt>
<dd><a name="1058652"> </a>The transaction ID of the operation.</dd>

<dt><a name="1058654"> </a><code>paramP</code></dt>
<dd><a name="1058659"> </a>Points to the <a href="TelephonySMS.html#1099927"><code>TelSmsSubmitMessageType</code></a> structure passed to this function in the <code>ioMessageP</code> parameter.</dd>

<dt><a name="1058661"> </a><code>functionId</code></dt>
<dd><a name="1058663"> </a><code>kTelSmsReadSubmittedMessageMessage</code></dd>

</dl>

<div><hr>
  <a name="1058665"> </a> <span class="warning">WARNING! </span> When using this function asynchronously, you must ensure that the structure referenced by <code>iEntryP</code> remains in memory until the asynchronous call completes.
<hr>
</div>
<h4>
  <a name="1058666"> </a>Comments 
</h4>

<p><a name="1058667"> </a>The message data is stored into the <code>data</code> field of the <a href="TelephonySMS.html#1099927"><code>TelSmsSubmitMessageType</code></a> structure referenced by <code>ioMessageP</code>. If the complete message data is too large to fit into the allocated size of the <code>data</code> field, the end of the message data is truncated and this function returns the <code>telErrBufferSize</code> error. The <code>dataSize</code> field of the structure is always updated to contain the actual size, in bytes, of the message data.</p>

<p><a name="1058671"> </a>The same strategy applies to the <code>callbackNumber</code> buffer and <code>callbackNumberSize</code> fields, the <code>destinationAddress</code> buffer and <code>destinationAddressSize</code> fields, and the <code>serviceCenterNumber</code> buffer and <code>serviceCenterNumberSize</code> fields. If the size of the data for any of the buffer fields exceeds the allocated length of the buffer, the end of the data is truncated and this function returns the <code>telErrBufferSize</code> error. Each of the size fields is always updated to contain the complete size of the data intended for the buffer.</p>

<p><a name="1058672"> </a>Before using this function, you should verify that it is available by calling the <a href="TelephonyBasic.html#1046188"><code>TelIsSmsServiceAvailable()</code></a> macro.</p>
<h4>
  <a name="1058676"> </a>Compatibility 
</h4>

<p><a name="1058680"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1058681"> </a>See Also 
</h4>

<p><a name="1058688"> </a><a href="TelephonySMS.html#1058774"><code>TelSmsSelectStorage()</code></a>, <a href="TelephonySMS.html#1058903"><code>TelSmsSendMessage()</code></a></p>

<h3 class="hbH3">
  <a name="1058691"> </a>TelSmsReadSubmittedMessages Function <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1058693"> </a>Purpose 
</h4>

<p><a name="1058694"> </a>Retrieve a range of submitted messages from the currently selected storage area.</p>
<h4>
  <a name="1058695"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1058696"> </a></code><h4>
  <a name="1058697"> </a>Prototype 
</h4>
<pre class="proto"><a name="1058698"></a>Err TelSmsReadSubmittedMessages(
   UInt16 iRefnum,
   TelAppID iAppId,
   TelSmsReadSubmittedMessagesType *ioParamP,
   UInt16 *ioTransIdP
)
</pre>
<h4>
  <a name="1058699"> </a>Parameters 
</h4>

<dl>
<dt><a name="1058700"> </a><code>&rarr;  <i><code>iRefnum</code></i></code></dt>
<dd><a name="1058701"> </a>The telephony manager library reference number.</dd>

<dt><a name="1058702"> </a><code>&rarr;  <i><code>iAppId</code></i></code></dt>
<dd><a name="1058703"> </a>The telephone application attachment identifier for your application.</dd>

<dt><a name="1058704"> </a><code>&harr;  <i><code>ioParamP</code></i></code></dt>
<dd><a name="1058708"> </a>A pointer to a <a href="TelephonySMS.html#1099713"><code>TelSmsReadMessagesType</code></a> structure. </dd>

<dd><a name="1058709"> </a>On input, the <code>first</code> field of this structure specifies the index of the first message to retrieve. Message indexes are zero-based. </dd>

<dd><a name="1058710"> </a>On input, the <code>count</code> field of this structure specifies the allocated size of the <code>submittedsP</code> buffer. Upon return, the <code>count</code> field specifies the actual number of messages that were available, even if that many could not fit into the buffer.</dd>

<dd><a name="1058711"> </a>The <code>submittedsP</code> buffer must contain pointers to <a href="TelephonySMS.html#1099998"><code>TelSmsSubmittedMessageType</code></a> structures that have been allocated. Each of these structures must be initialized as described for the <a href="TelephonySMS.html#1058614"><code>TelSmsReadSubmittedMessage()</code></a> function.</dd>

<dt><a name="1058718"> </a><code>&harr;  <i><code>ioTransIdP</code></i></code></dt>
<dd><a name="1058719"> </a>Set the value of this parameter to <code>NULL</code> to cause the function to execute synchronously. </dd>

<dd><a name="1058720"> </a>If this parameter is not <code>NULL</code>, the call executes asynchronously. Upon return from this function, this points to the transaction identifier associated with the asynchronous operation.</dd>

</dl>
<h4>
  <a name="1058721"> </a>Synchronous Result
</h4>

<p><a name="1058722"> </a>Returns <code>errNone</code> if the function was successful or returns an error code if not successful.</p>
<h4>
  <a name="1058723"> </a>Asynchronous Result
</h4>

<p><a name="1058727"> </a>The following fields are updated in the <a href="TelephonyBasic.html#1056091"><code>TelEventType</code></a> event that is sent when the operation completes:</p>

<dl>
<dt><a name="1058730"> </a><code>returnCode</code></dt>
<dd><a name="1058732"> </a><code>errNone</code> upon success or an error code upon failure.</dd>

<dt><a name="1058734"> </a><code>transId</code></dt>
<dd><a name="1058736"> </a>The transaction ID of the operation.</dd>

<dt><a name="1058738"> </a><code>paramP</code></dt>
<dd><a name="1058740"> </a>Points to the <a href="TelephonySMS.html#1099762"><code>TelSmsReadSubmittedMessagesType</code></a> structure passed to this function in the <code>ioParamP</code> parameter.</dd>

<dt><a name="1058745"> </a><code>functionId</code></dt>
<dd><a name="1058747"> </a><code>kTelSmsReadSubmittedMessagesMessage</code></dd>

</dl>

<div><hr>
  <a name="1058749"> </a> <span class="warning">WARNING! </span> When using this function asynchronously, you must ensure that the structure referenced by <code>ioParamP</code> and all of the structured referenced by it remain in memory until the asynchronous call completes.
<hr>
</div>
<h4>
  <a name="1058750"> </a>Comments 
</h4>

<p><a name="1058751"> </a>If the message data or any of the other variable-length data for any of the retrieved messages is larger than the allocated size of its corresponding buffer, the end of the data is truncated, and this function returns the <code>telErrBufferSize</code> error. For more information, see the Comments description for the <a href="TelephonySMS.html#1058614"><code>TelSmsReadSubmittedMessage()</code></a> function.</p>

<p><a name="1058755"> </a>Before using this function, you should verify that it is available by calling the <a href="TelephonyBasic.html#1046188"><code>TelIsSmsServiceAvailable()</code></a> macro.</p>
<h4>
  <a name="1058759"> </a>Compatibility 
</h4>

<p><a name="1058763"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1058764"> </a>See Also 
</h4>

<p><a name="1058771"> </a><a href="TelephonySMS.html#1058774"><code>TelSmsSelectStorage()</code></a>, <a href="TelephonySMS.html#1058903"><code>TelSmsSendMessage()</code></a></p>

<h3 class="hbH3">
  <a name="1058774"> </a>TelSmsSelectStorage Function <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1058776"> </a>Purpose 
</h4>

<p><a name="1058777"> </a>Select a storage area on the phone as the current storage area.</p>
<h4>
  <a name="1058778"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1058779"> </a></code><h4>
  <a name="1058780"> </a>Prototype 
</h4>
<pre class="proto"><a name="1058781"></a>Err TelSmsSelectStorage(
   UInt16 iRefnum,
   TelAppID iAppId,
   UInt8 ioStorageId,
   UInt16 *ioTransIdP
)
</pre>
<h4>
  <a name="1058782"> </a>Parameters 
</h4>

<dl>
<dt><a name="1058783"> </a><code>&rarr;  <i><code>iRefnum</code></i></code></dt>
<dd><a name="1058784"> </a>The telephony manager library reference number.</dd>

<dt><a name="1058785"> </a><code>&rarr;  <i><code>iAppId</code></i></code></dt>
<dd><a name="1058786"> </a>The telephone application attachment identifier for your application.</dd>

<dt><a name="1058787"> </a><code>&rarr;  <i><code>ioStorageId</code></i></code></dt>
<dd><a name="1058790"> </a>The ID of the storage area. This must be one of the <a href="TelephonySMS.html#1090723">SMS Storage ID Constants</a>.</dd>

<dt><a name="1058792"> </a><code>&harr;  <i><code>ioTransIdP</code></i></code></dt>
<dd><a name="1058793"> </a>Set the value of this parameter to <code>NULL</code> to cause the function to execute synchronously. </dd>

<dd><a name="1058794"> </a>If this parameter is not <code>NULL</code>, the call executes asynchronously. Upon return from this function, this points to the transaction identifier associated with the asynchronous operation.</dd>

</dl>
<h4>
  <a name="1058795"> </a>Synchronous Result
</h4>

<p><a name="1058796"> </a>Returns <code>errNone</code> if the function was successful or returns an error code if not successful.</p>
<h4>
  <a name="1058797"> </a>Asynchronous Result
</h4>

<p><a name="1058801"> </a>The following fields are updated in the <a href="TelephonyBasic.html#1056091"><code>TelEventType</code></a> event that is sent when the operation completes:</p>

<dl>
<dt><a name="1058804"> </a><code>returnCode</code></dt>
<dd><a name="1058806"> </a><code>errNone</code> upon success or an error code upon failure.</dd>

<dt><a name="1058808"> </a><code>transId</code></dt>
<dd><a name="1058810"> </a>The transaction ID of the operation.</dd>

<dt><a name="1058812"> </a><code>paramP</code></dt>
<dd><a name="1058814"> </a>Points to the unsigned integer value passed to this function in the <code>ioStorageId</code> parameter.</dd>

<dt><a name="1058816"> </a><code>functionId</code></dt>
<dd><a name="1058818"> </a><code>kTelSmsSelectStorageMessage</code></dd>

</dl>
<h4>
  <a name="1058820"> </a>Comments 
</h4>

<p><a name="1058821"> </a>Before using this function, you should verify that it is available by calling the <a href="TelephonyBasic.html#1046188"><code>TelIsSmsServiceAvailable()</code></a> macro.</p>
<h4>
  <a name="1058825"> </a>Compatibility 
</h4>

<p><a name="1058829"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1058830"> </a>See Also 
</h4>

<p><a name="1058836"> </a><a href="TelephonySMS.html#1057939"><code>TelSmsGetAvailableStorage()</code></a>, <a href="TelephonySMS.html#1058147"><code>TelSmsGetSelectedStorage()</code></a></p>

<h3 class="hbH3">
  <a name="1058840"> </a>TelSmsSendManualAcknowledge Function <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1058842"> </a>Purpose 
</h4>

<p><a name="1058843"> </a>Send a manual acknowledgment of a previously received message. Note that this function is not supported on GSM networks.</p>
<h4>
  <a name="1058844"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1058845"> </a></code><h4>
  <a name="1058846"> </a>Prototype 
</h4>
<pre class="proto"><a name="1058847"></a>Err TelSmsSendManualAcknowledge(
   UInt16 iRefnum,
   TelAppID iAppId,
   TelSmsManualAckType *ioAckP,
   UInt16 *ioTransIdP
)
</pre>
<h4>
  <a name="1058848"> </a>Parameters 
</h4>

<dl>
<dt><a name="1058849"> </a><code>&rarr;  <i><code>iRefnum</code></i></code></dt>
<dd><a name="1058850"> </a>The telephony manager library reference number.</dd>

<dt><a name="1058851"> </a><code>&rarr;  <i><code>iAppId</code></i></code></dt>
<dd><a name="1058852"> </a>The telephone application attachment identifier for your application.</dd>

<dt><a name="1058853"> </a><code>&harr;  <i><code>ioAckP</code></i></code></dt>
<dd><a name="1058857"> </a>A pointer to a structure of type <a href="TelephonySMS.html#1099637"><code>TelSmsManualAckType</code></a>. The fields of this structure specify information about the message being acknowledged.</dd>

<dd><a name="1058858"> </a>Upon return, the <code>messageId</code> field is filled in with the ID of the acknowledgment.</dd>

<dt><a name="1058859"> </a><code>&harr;  <i><code>ioTransIdP</code></i></code></dt>
<dd><a name="1058860"> </a>Set the value of this parameter to <code>NULL</code> to cause the function to execute synchronously. </dd>

<dd><a name="1058861"> </a>If this parameter is not <code>NULL</code>, the call executes asynchronously. Upon return from this function, this points to the transaction identifier associated with the asynchronous operation.</dd>

</dl>
<h4>
  <a name="1058862"> </a>Synchronous Result
</h4>

<p><a name="1058863"> </a>Returns <code>errNone</code> if the function was successful or returns an error code if not successful.</p>
<h4>
  <a name="1058864"> </a>Asynchronous Result
</h4>

<p><a name="1058868"> </a>The following fields are updated in the <a href="TelephonyBasic.html#1056091"><code>TelEventType</code></a> event that is sent when the operation completes:</p>

<dl>
<dt><a name="1058871"> </a><code>returnCode</code></dt>
<dd><a name="1058873"> </a><code>errNone</code> upon success or an error code upon failure.</dd>

<dt><a name="1058875"> </a><code>transId</code></dt>
<dd><a name="1058877"> </a>The transaction ID of the operation.</dd>

<dt><a name="1058879"> </a><code>paramP</code></dt>
<dd><a name="1058884"> </a>Points to the <a href="TelephonySMS.html#1099637"><code>TelSmsManualAckType</code></a> structure passed to this function in the <code>ioAckP</code> parameter.</dd>

<dt><a name="1058886"> </a><code>functionId</code></dt>
<dd><a name="1058888"> </a><code>kTelSmsSendManualAcknowledgeMessage</code></dd>

</dl>

<div><hr>
  <a name="1058890"> </a> <span class="warning">WARNING! </span> When using this function asynchronously, you must ensure that the structure referenced by <code>iEntryP</code> remains in memory until the asynchronous call completes.
<hr>
</div>
<h4>
  <a name="1058891"> </a>Comments 
</h4>

<p><a name="1058892"> </a>Before using this function, you should verify that it is available by calling the <a href="TelephonyBasic.html#1046188"><code>TelIsSmsServiceAvailable()</code></a> macro.</p>
<h4>
  <a name="1058896"> </a>Compatibility 
</h4>

<p><a name="1058900"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>

<h3 class="hbH3">
  <a name="1058903"> </a>TelSmsSendMessage Function <a href="#1056053"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1058905"> </a>Purpose 
</h4>

<p><a name="1058906"> </a>Send an SMS message.</p>
<h4>
  <a name="1058907"> </a>Declared In 
</h4>
<code>TelephonyMgr.h<a name="1058908"> </a></code><h4>
  <a name="1058909"> </a>Prototype 
</h4>
<pre class="proto"><a name="1058910"></a>Err TelSmsSendMessage(
   UInt16 iRefnum,
   TelAppID iAppId,
   TelSmsSendMessageType *ioMessageP,
   UInt16 *ioTransIdP
)
</pre>
<h4>
  <a name="1058911"> </a>Parameters 
</h4>

<dl>
<dt><a name="1058912"> </a><code>&rarr;  <i><code>iRefnum</code></i></code></dt>
<dd><a name="1058913"> </a>The telephony manager library reference number.</dd>

<dt><a name="1058914"> </a><code>&rarr;  <i><code>iAppId</code></i></code></dt>
<dd><a name="1058915"> </a>The telephone application attachment identifier for your application.</dd>

<dt><a name="1058916"> </a><code>&harr;  <i><code>ioMessageP</code></i></code></dt>
<dd><a name="1058920"> </a>A pointer to a structure of type <a href="TelephonySMS.html#1099831"><code>TelSmsSendMessageType</code></a>. </dd>

<dd><a name="1058921"> </a>On input, the <code>message</code> field of this structure contains a <a href="TelephonySMS.html#1099927"><code>TelSmsSubmitMessageType</code></a> with the message to send. You must also allocate and zero at least one <a href="TelephonySMS.html#1099549"><code>TelSmsExtensionType</code></a> structure for the multi-part information.</dd>

<dd><a name="1058928"> </a>On output, the <code>messageId</code> field of this structure is filled in with the ID that was assigned to the sent message.</dd>

<dt><a name="1058929"> </a><code>&harr;  <i><code>ioTransIdP</code></i></code></dt>
<dd><a name="1058930"> </a>Set the value of this parameter to <code>NULL</code> to cause the function to execute synchronously. </dd>

<dd><a name="1058931"> </a>If this parameter is not <code>NULL</code>, the call executes asynchronously. Upon return from this function, this points to the transaction identifier associated with the asynchronous operation.</dd>

</dl>
<h4>
  <a name="1058932"> </a>Synchronous Result
</h4>

<p><a name="1058933"> </a>Returns <code>errNone</code> if the function was successful or returns an error code if not successful.</p>
<h4>
  <a name="1058934"> </a>Asynchronous Result
</h4>

<p><a name="1058938"> </a>The following fields are updated in the <a href="TelephonyBasic.html#1056091"><code>TelEventType</code></a> event that is sent when the operation completes:</p>

<dl>
<dt><a name="1058941"> </a><code>returnCode</code></dt>
<dd><a name="1058943"> </a><code>errNone</code> upon success or an error code upon failure.</dd>

<dt><a name="1058945"> </a><code>transId</code></dt>
<dd><a name="1058947"> </a>The transaction ID of the operation.</dd>

<dt><a name="1058949"> </a><code>paramP</code></dt>
<dd><a name="1058954"> </a>Points to the <a href="TelephonySMS.html#1099831"><code>TelSmsSendMessageType</code></a> structure passed to this function in the <code>ioMessageP</code> parameter.</dd>

<dt><a name="1058956"> </a><code>functionId</code></dt>
<dd><a name="1058958"> </a><code>kTelSmsSendMessageMessage</code></dd>

</dl>

<div><hr>
  <a name="1058960"> </a> <span class="warning">WARNING! </span> When using this function asynchronously, you must ensure that the structure referenced by <code>ioMessageP</code> remains in memory until the asynchronous call completes.
<hr>
</div>
<h4>
  <a name="1058961"> </a>Comments 
</h4>

<p><a name="1058965"> </a>You need to make multiple calls to the <a href="TelephonySMS.html#1058903"><code>TelSmsSendMessage()</code></a> function to send your message:</p>
<ul type="disc">
  <li><a name="1058966"> </a>The first call to <code>TelSmsSendMessage</code> does not actually send the message. It computes the number of parts and fills in the multi-part extension structures in the <code>TelSmsSendMessageType</code> structure. Note that you must allocate at least one extension structure, even for single-part messages.
  <li><a name="1058967"> </a>Subsequent calls to <code>TelSmsSendMessage</code> actually send the data.
  <li><a name="1058968"> </a>To send an entire message, you need to call <code>TelSmsSendMessage</code> in a loop. Terminate the loop when an error occurs, or when the <code>byteSend</code> field of the first <a href="TelephonySMS.html#1099549"><code>TelSmsExtensionType</code></a> structure has the same value as the <code>dataSize</code> field of the <a href="TelephonySMS.html#1099831"><code>TelSmsSendMessageType</code></a> structure that represents the message. For example:

<div class="CodeRule"><hr></div><pre class="CodeBlock">
while (!TelSmsSendMessage(...) &amp;&amp;<a name="1058975"> </a>
        msg.extensionP[0].extension.mp.byteSend != dataSend);<a name="1058976"> </a>
</pre><div class="CodeRule"><hr></div>

</ul>

<p><a name="1058977"> </a>Before using this function, you should verify that it is available by calling the <a href="TelephonyBasic.html#1046188"><code>TelIsSmsServiceAvailable()</code></a> macro.</p>
<h4>
  <a name="1058981"> </a>Compatibility 
</h4>

<p><a name="1058985"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
<h4>
  <a name="1058986"> </a>See Also 
</h4>

<p><a name="1058993"> </a><a href="TelephonySMS.html#1058774"><code>TelSmsSelectStorage()</code></a>, <a href="TelephonyConfig.html#1037880"><code>TelCfgSetSmsCenter()</code></a></p>

<p><a name="1058994"> </a></p>
&nbsp;<br>
</div>
<!--END CONTENT-->

</td>
<td width="5">&nbsp;&nbsp;</td>
</tr>

</table>

<!-- BEGIN FOOTER -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="7" rowspan="2"><img name="index_x" src="images/shim.gif" width="7" height="33" border="0" alt=""></td>
<td align="left"><img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
<td width="10" rowspan="2"><img name="index_x" src="images/shim.gif" width="10" height="33" border="0" alt=""></td>
</tr>
<tr>
<td align="center">
<p class="footer">
Copyright © 1996-2004, PalmSource, Inc. and its affiliates.  All rights reserved. <br>
<a href="http://www.palmsource.com/contact/">Write Us</a> | <a href="http://www.palmos.com/dev/training/">Training</a> | <a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a> | <a href="Reference_Front.html" target="_blank">Legal</a></p>
<br>
<!--BEGIN BOOK NAVIGATION-->
<p class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="ReferenceTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="TelephonyCalls.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="TelephonyPhonebook.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ReferenceIX.html">Index</a>
</p>
</td>
</tr>
</table>
<!-- END FOOTER -->

</body>
</html>