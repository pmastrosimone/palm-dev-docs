<html>
<head>
<title>(68K) Lists | Palm OS&#174; Programmer's  API Reference</title> 
<link href="psi_devpubs.css" rel="stylesheet" type="text/css">

<!-- BEGIN META DATA -->
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META NAME="PSITEMPLATE" CONTENT="1006-007 PalmSource_HTML_2003 20041101">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks AutoMap 2003 for FrameMaker 8.0.6.2138">
<META NAME="LASTUPDATED" CONTENT="11/22/04 10:46:07">
<!-- END META DATA -->
</head>

<body bgcolor="#ffffff" text="#000000" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<a name="995794"></a>

<!-- BEGIN TOPNAV -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td><img src="images/shim.gif" width="7" height="75" border="0" alt=""></td>
<td align="left"><table border="0" cellpadding="0" cellspacing="0" width="744">
<tr>
<td><img name="index_r2_c1" src="images/shim.gif" width="25" height="75" border="0" alt=""></td>
<td valign="top"><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_r2_c4" src="images/shim.gif" width="96" height="15" border="0" alt=""></td>
</tr>
<tr>
<td><a href="http://www.palmsource.com/"><img name="ps_logo" src="images/ps_logo.gif" width="96" height="54" border="0" alt=""></a></td>
</tr>

</table>
</td>

<td><table border="0" cellpadding="0" cellspacing="0" width="30">
<td><img name="index_x" src="images/shim.gif" width="30" height="75" border="0" alt=""></td>
</table></td>

<!--BEGIN MASTHEAD-->
<td><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
<tr>
<td>
<!--BEGIN BOOK NAVIGATION-->
<span class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="ReferenceTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="InsertionPoint.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="Menu.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ReferenceIX.html">Index</a>
</span>
<!--END BOOK NAVIGATION-->
</tr>
<tr>
<td>
<!--BEGIN PAGE TITLE-->
<h2 class="PageTitle">14 &nbsp;&nbsp;
Lists</h2></td>
<!--END PAGE TITLE-->
</tr>
<tr>
<td>
<!--BEGIN BOOK TITLE-->
<p class="BookTitle">Palm OS&#174; Programmer's  API Reference</p>
<p class="SubTitle">Palm OS&#174; 68K SDK </p>
<!--END BOOK TITLE-->
</td>
</tr>
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
</table>
</td>
<!--END MASTHEAD-->
</tr>
</table>
<img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
</tr>
</table>
<!-- END TOPNAV -->

<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" width="5"><img name="index_x" src="images/shim.gif" width="5" height="33" border="0" alt=""></td>

<!--BEGIN SIDETOC-->
<td valign="top" width="175">
<div id="sidetoc" valign="bottom">
<h1 class="SideTOC1-PartTab"><a href="PartI.html">Part I: User Interface</a> </h1>
<h1 class="SideTOC1"><a href="List.html">14  Lists</a></h1>

   <h2 class="SideTOC2"><a href="#995840">
   List Data Structures</a></h2>

      <h3 class="SideTOC3"><a href="#995843">
      ListAttrType</a></h3>

      <h3 class="SideTOC3"><a href="#995900">
      ListType</a></h3>

   <h2 class="SideTOC2"><a href="#996029">
   List Resources</a></h2>

   <h2 class="SideTOC2"><a href="#996033">
   List Functions</a></h2>

      <h3 class="SideTOC3"><a href="#996036">
      LstDrawList</a></h3>

      <h3 class="SideTOC3"><a href="#996072">
      LstEraseList</a></h3>

      <h3 class="SideTOC3"><a href="#996100">
      LstGetNumberOfItems</a></h3>

      <h3 class="SideTOC3"><a href="#1007161">
      LstGetSelection</a></h3>

      <h3 class="SideTOC3"><a href="#996156">
      LstGetSelectionText</a></h3>

      <h3 class="SideTOC3"><a href="#996186">
      LstGetTopItem</a></h3>

      <h3 class="SideTOC3"><a href="#996214">
      LstGetVisibleItems</a></h3>

      <h3 class="SideTOC3"><a href="#996234">
      LstHandleEvent</a></h3>

      <h3 class="SideTOC3"><a href="#996268">
      LstMakeItemVisible</a></h3>

      <h3 class="SideTOC3"><a href="#996307">
      LstNewList</a></h3>

      <h3 class="SideTOC3"><a href="#996350">
      LstPopupList</a></h3>

      <h3 class="SideTOC3"><a href="#996373">
      LstScrollList</a></h3>

      <h3 class="SideTOC3"><a href="#996397">
      LstSetDrawFunction</a></h3>

      <h3 class="SideTOC3"><a href="#996430">
      LstSetHeight</a></h3>

      <h3 class="SideTOC3"><a href="#996454">
      LstSetListChoices</a></h3>

      <h3 class="SideTOC3"><a href="#996506">
      LstSetPosition</a></h3>

      <h3 class="SideTOC3"><a href="#996532">
      LstSetSelection</a></h3>

      <h3 class="SideTOC3"><a href="#996559">
      LstSetTopItem</a></h3>

   <h2 class="SideTOC2"><a href="#996599">
   Application-Defined Function</a></h2>

      <h3 class="SideTOC3"><a href="#996610">
      ListDrawDataFuncType</a></h3>

</div>
</td>

<td width="5">&nbsp;&nbsp;</td>
<td width="2" background="images/index_r8_c10.gif"><img src="images/shim.gif" width="2" height="75" border="0" alt=""></td>
<td width="5">&nbsp;&nbsp;</td>

<!--END SIDETOC-->

<td valign="top">

<!--BEGIN CONTENT-->
<div id="content" valign="bottom">
<p><a name="995814"> </a>This chapter provides information about list objects by discussing these topics: </p>
<ul type="disc">
  <li><a name="995818"> </a><a href="List.html#995840">List Data Structures</a>
  <li><a name="995822"> </a><a href="List.html#996029">List Resources</a>
  <li><a name="995826"> </a><a href="List.html#996033">List Functions</a>
  <li><a name="995830"> </a><a href="List.html#996599">Application-Defined Function</a>
</ul>

<p><a name="995832"> </a>The header file <code>List.h</code> declares the API that this chapter describes. For more information on lists, see the section <a href="../PalmOSCompanion/UserInterface.html#1009837">"Lists"</a> in the <i>Palm OS Programmer's Companion</i>, vol. I. </p>

<h2 class="haH2">
  <a name="995840"> </a>List Data Structures <a href="#995794"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="995843"> </a>ListAttrType Struct <a href="#995794"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="995845"> </a>Purpose 
</h4>

<p><a name="995847"> </a>The <code>ListAttrType</code> bit field defines the visible characteristics of the list. </p>
<h4>
  <a name="995848"> </a>Prototype 
</h4>
<pre class="proto"><a name="995849"></a>typedef struct {
  UInt16 usable:1;
  UInt16 enabled:1;
  UInt16 visible:1;
  UInt16 poppedUp:1;
  UInt16 hasScrollBar:1.
  UInt16 search:1;
  UInt16 reserved:2;
} ListAttrType;
</pre>
<h4>
  <a name="1006436"> </a>Fields 
</h4>

<dl>
<dt><a name="995861"> </a><code><code>usable</code> </code></dt>
<dd><a name="995863"> </a>Set to make the list usable.</dd>

<dd><a name="995865"> </a>If not set, the list is not considered part of the current interface of the application, and does not appear on screen.</dd>

<dt><a name="995867"> </a><code><code>enabled</code> </code></dt>
<dd><a name="995869"> </a>Not used.</dd>

<dt><a name="995871"> </a><code><code>visible</code> </code></dt>
<dd><a name="995873"> </a>Set when the list object is drawn, and cleared when the list object is erased.</dd>

<dd><a name="995875"> </a>This attribute is set and cleared internally.</dd>

<dt><a name="995877"> </a><code><code>poppedUp</code> </code></dt>
<dd><a name="995879"> </a>Set to indicate that the choices are displayed in a popup window.</dd>

<dd><a name="995881"> </a>This attribute is set and cleared internally.</dd>

<dt><a name="995883"> </a><code><code>hasScrollBar</code> </code></dt>
<dd><a name="995885"> </a>Set to indicate that the list has a scroll bar.</dd>

<dt><a name="995887"> </a><code><code>search</code> </code></dt>
<dd><a name="995889"> </a>Set to enable incremental search. If incremental search is enabled, when the list is displayed the user can navigate the list by entering up to five characters. The list will scroll to present the first list item that matches the entered characters. This feature only works for popup lists, and only works if the list is sorted and the list items are available to the List Manager (that is, you don't pass <code>NULL</code> to <a href="List.html#996454"><code>LstSetListChoices()</code></a>).</dd>

<dt><a name="995894"> </a><code><code>reserved</code> </code></dt>
<dd><a name="995896"> </a>Reserved for system use. </dd>

</dl>

<h3 class="hbH3">
  <a name="995900"> </a>ListType Struct <a href="#995794"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="995902"> </a>Purpose 
</h4>

<p><a name="995904"> </a>The <code>ListType</code> structure is defined below.</p>

<div><hr>
  <a name="995905"> </a> <span class="warning">WARNING! </span> PalmSource, Inc. does not support or provide backward compatibility for the <code>ListType</code> structure. Never access its structure members directly, or your code may break in future versions. Use the information below for debugging purposes only.
<hr>
</div>
<h4>
  <a name="995906"> </a>Prototype 
</h4>
<pre class="proto"><a name="995907"></a>typedef struct {
  UInt16 id;
  RectangleType bounds;
  ListAttrType attr;
  Char **itemsText;
  Int16 numItems;
  Int16 currentItem;
  Int16 topItem;
  FontID font;
  UInt8 reserved;
  WinHandle popupWin;
  ListDrawDataFuncPtr drawItemCallback;
} ListType;
</pre>
<h4>
  <a name="1006468"> </a>Fields 
</h4>

<dl>
<dt><a name="995924"> </a><code>id </code></dt>
<dd><a name="995926"> </a>The ID value, specified by the application developer. This ID value is part of the event data of <a href="EventRef.html#997307"><code>lstEnterEvent</code></a> and <a href="EventRef.html#997382"><code>lstSelectEvent</code></a>.</dd>

<dt><a name="995934"> </a><code>bounds </code></dt>
<dd><a name="995936"> </a>The bounds of the list, relative to the window. For example, to access the bounds of an object in a form whose ID is kObjectID:</dd>

<dd><a name="995937"> </a><code>{</code></dd>

<dd><a name="995938"> </a><code>RectangleType rect;</code></dd>

<dd><a name="995939"> </a><code>FormPtr formP = FrmGetActiveForm();</code></dd>

<dd><a name="995940"> </a></dd>

<dd><a name="995941"> </a><code>FrmGetObjectBounds(formP,<br>FrmGetObjectIndex(formP, kObjectID),<br>&amp;rect);</code></dd>

<dd><a name="995942"> </a><code>}</code></dd>

<dt><a name="995944"> </a><code>attr </code></dt>
<dd><a name="995949"> </a>The list attributes. See <a href="List.html#995843"><code>ListAttrType</code></a>.</dd>

<dt><a name="995951"> </a><code><code>itemsText</code></code></dt>
<dd><a name="995953"> </a>A pointer to an array of pointers to the text of the choices. Access with <a href="List.html#996156"><code>LstGetSelectionText()</code></a>.</dd>

<dd><a name="995957"> </a>For example, to access the string specified by <code>itemNum</code> in the list whose ID is <code>kChoiceList</code> use the following:</dd>

<dd><a name="995958"> </a><code>{</code></dd>

<dd><a name="995959"> </a><code>Char *string;</code></dd>

<dd><a name="995960"> </a><code>Int16 itemNum;</code></dd>

<dd><a name="995961"> </a><code>...</code></dd>

<dd><a name="995962"> </a><code>string = LstGetSelectionText(GetObjectPtr(kChoicesList), itemNum);</code></dd>

<dd><a name="995963"> </a><code>}</code></dd>

<dd><a name="995964"> </a></dd>

<dd><a name="995965"> </a>where <code>GetObjectPtr</code> is the following:</dd>

<dd><a name="995966"> </a></dd>

<dd><a name="995967"> </a><code>static void *GetObjectPtr(UInt16 rsrcID){</code></dd>

<dd><a name="995968"> </a><code>FormPtr formP;</code></dd>

<dd><a name="995969"> </a></dd>

<dd><a name="995970"> </a><code>formP = FrmGetActiveForm();</code></dd>

<dd><a name="995971"> </a><code>return FrmGetObjectPtr(formP, FrmGetObjectIndex(formP, rsrcID));</code></dd>

<dd><a name="995972"> </a><code>}</code></dd>

<dd><a name="995973"> </a>If you use a callback routine to draw the list items, note that the <code>itemsText</code> pointer you supply to <a href="List.html#996454"><code>LstSetListChoices()</code></a> is passed to your callback routine. See the comments under <a href="List.html#996610"><code>ListDrawDataFuncType()</code></a> for tips on using <code>itemsText</code> with a callback routine.</dd>

<dt><a name="995981"> </a><code>numItems </code></dt>
<dd><a name="995983"> </a>The number of choices in the list. Access with <a href="List.html#996100"><code>LstGetNumberOfItems()</code></a>.</dd>

<dt><a name="995988"> </a><code>currentItem </code></dt>
<dd><a name="995990"> </a>The currently-selected list choice (0 = first choice). Access with <a href="List.html#1007161"><code>LstGetSelection()</code></a>.</dd>

<dt><a name="995995"> </a><code>topItem </code></dt>
<dd><a name="995997"> </a>The first choice displayed in the list. Set this field with <a href="List.html#996559"><code>LstSetTopItem()</code></a>.</dd>

<dt><a name="996002"> </a><code>font </code></dt>
<dd><a name="996004"> </a>The ID of the font used to draw all list text strings.</dd>

<dt><a name="996006"> </a><code><code>reserved</code></code></dt>
<dd><a name="996008"> </a>Reserved for future use.</dd>

<dt><a name="996010"> </a><code><code>popupWin</code> </code></dt>
<dd><a name="996012"> </a>The handle of the window created when a list is displayed by calling <a href="List.html#996350"><code>LstPopupList()</code></a>.</dd>

<dt><a name="996018"> </a><code><code>drawItemCallback</code></code></dt>
<dd><a name="996020"> </a>Function used to draw an item in the list. If <code>NULL</code>, the default drawing routine is used instead. Set this field with <a href="List.html#996397"><code>LstSetDrawFunction()</code></a>. See <a href="List.html#996599">Application-Defined Function</a>.</dd>

</dl>

<h2 class="haH2">
  <a name="996029"> </a>List Resources <a href="#995794"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="996030"> </a>The List Resource (tLST), and Popup Trigger Resource (tPUT) are used together to represent an active list. See <i>Palm OS User Interface Guidelines</i> for more information.</p>

<h2 class="haH2">
  <a name="996033"> </a>List Functions <a href="#995794"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="996036"> </a>LstDrawList Function <a href="#995794"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="996038"> </a>Purpose 
</h4>

<p><a name="996039"> </a>Sets the visible attribute of the list object to <code>true</code>, and draws the list object if it is usable.</p>
<h4>
  <a name="996040"> </a>Declared In 
</h4>
<code>List.h<a name="996041"> </a></code><h4>
  <a name="996042"> </a>Prototype 
</h4>
<pre class="proto"><a name="996043"></a>void LstDrawList (
   ListType *listP
)
</pre>
<h4>
  <a name="996044"> </a>Parameters 
</h4>

<dl>
<dt><a name="996045"> </a><code>&rarr;  <i>listP</i></code></dt>
<dd><a name="996050"> </a>Pointer to a list object (<a href="List.html#995900">ListType</a>).</dd>

</dl>
<h4>
  <a name="996051"> </a>Returns 
</h4>

<p><a name="996052"> </a>Returns nothing.</p>
<h4>
  <a name="996053"> </a>Comments 
</h4>

<p><a name="996054"> </a>If there are more choices than can be displayed, this function ensures that the current selection is visible. The current selection is highlighted. Note that this function does not ensure the current selection is visible; if you need to do this, call the <a href="List.html#996268"><code>LstMakeItemVisible()</code></a> function.</p>

<p><a name="996058"> </a>If the list is disabled, it's drawn grayed-out (strongly discouraged). If it's empty, nothing is drawn. If it's not usable, nothing is drawn.</p>
<h4>
  <a name="996059"> </a>See Also 
</h4>

<p><a name="996069"> </a><a href="Form.html#997879"><code>FrmGetObjectPtr()</code></a>, <a href="List.html#996350"><code>LstPopupList()</code></a>, <a href="List.html#996072"><code>LstEraseList()</code></a> </p>

<h3 class="hbH3">
  <a name="996072"> </a>LstEraseList Function <a href="#995794"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="996074"> </a>Purpose 
</h4>

<p><a name="996075"> </a>Erase a list object.</p>
<h4>
  <a name="996076"> </a>Declared In 
</h4>
<code>List.h<a name="996077"> </a></code><h4>
  <a name="996078"> </a>Prototype 
</h4>
<pre class="proto"><a name="996079"></a>void LstEraseList (
   ListType *listP
)
</pre>
<h4>
  <a name="996080"> </a>Parameters 
</h4>

<dl>
<dt><a name="996081"> </a><code>&rarr;  <i>listP</i></code></dt>
<dd><a name="996085"> </a>Pointer to a list object (<a href="List.html#995900">ListType</a>).</dd>

</dl>
<h4>
  <a name="996086"> </a>Returns 
</h4>

<p><a name="996087"> </a>Returns nothing.</p>
<h4>
  <a name="996088"> </a>Comments 
</h4>

<p><a name="996089"> </a>The <code>visible</code> attribute is set to <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">false</span> by this function.</p>
<h4>
  <a name="996090"> </a>See Also 
</h4>

<p><a name="996097"> </a><a href="Form.html#997879"><code>FrmGetObjectPtr()</code></a>, <a href="List.html#996036"><code>LstDrawList()</code></a> </p>

<h3 class="hbH3">
  <a name="996100"> </a>LstGetNumberOfItems Function <a href="#995794"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="996102"> </a>Purpose 
</h4>

<p><a name="996103"> </a>Return the number of items in a list.</p>
<h4>
  <a name="996104"> </a>Declared In 
</h4>
<code>List.h<a name="996105"> </a></code><h4>
  <a name="996106"> </a>Prototype 
</h4>
<pre class="proto"><a name="996107"></a>Int16 LstGetNumberOfItems (
   const ListType *listP
)
</pre>
<h4>
  <a name="996108"> </a>Parameters 
</h4>

<dl>
<dt><a name="996109"> </a><code>&rarr;  <i>listP</i></code></dt>
<dd><a name="996113"> </a>Pointer to a list object (<a href="List.html#995900">ListType</a>).</dd>

</dl>
<h4>
  <a name="996114"> </a>Returns 
</h4>

<p><a name="996115"> </a>Returns the number of items in a list.</p>
<h4>
  <a name="1007151"> </a>See Also 
</h4>

<p><a name="1007158"> </a><a href="Form.html#997879"><code>FrmGetObjectPtr()</code></a>, <a href="List.html#996454"><code>LstSetListChoices()</code></a> </p>

<h3 class="hbH3">
  <a name="1007161"> </a>LstGetSelection Function <a href="#995794"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="996128"> </a>Purpose 
</h4>

<p><a name="996129"> </a>Return the currently selected choice in the list. </p>
<h4>
  <a name="996130"> </a>Declared In 
</h4>
<code>List.h<a name="996131"> </a></code><h4>
  <a name="996132"> </a>Prototype 
</h4>
<pre class="proto"><a name="996133"></a>Int16 LstGetSelection (
   const ListType *listP
)
</pre>
<h4>
  <a name="996134"> </a>Parameters 
</h4>

<dl>
<dt><a name="996135"> </a><code>&rarr;  <i>listP</i></code></dt>
<dd><a name="996136"> </a>Pointer to a list object.</dd>

</dl>
<h4>
  <a name="996137"> </a>Returns 
</h4>

<p><a name="996138"> </a>Returns the item number of the current list choice. The list choices are numbered sequentially, starting with 0; Returns <code>noListSelection</code> if none of the items are selected.</p>
<h4>
  <a name="996140"> </a>See Also 
</h4>

<p><a name="996147"> </a><a href="Form.html#997879"><code>FrmGetObjectPtr()</code></a>, <a href="List.html#996454"><code>LstSetListChoices()</code></a>, <a href="List.html#996532"><code>LstSetSelection()</code></a>, <a href="List.html#996156"><code>LstGetSelectionText()</code></a> </p>

<h3 class="hbH3">
  <a name="996156"> </a>LstGetSelectionText Function <a href="#995794"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="996158"> </a>Purpose 
</h4>

<p><a name="996159"> </a>Return a pointer to the text of the specified item in the list, or <code>NULL</code> if no such item exists.</p>
<h4>
  <a name="996160"> </a>Declared In 
</h4>
<code>List.h<a name="996161"> </a></code><h4>
  <a name="996162"> </a>Prototype 
</h4>
<pre class="proto"><a name="996163"></a>Char *LstGetSelectionText (
   const ListType *listP,
   Int16 itemNum
)
</pre>
<h4>
  <a name="996164"> </a>Parameters 
</h4>

<dl>
<dt><a name="996165"> </a><code>&rarr;  <i>listP</i></code></dt>
<dd><a name="996166"> </a>Pointer to a list object. </dd>

<dt><a name="996167"> </a><code>&rarr;  <i>itemNum</i></code></dt>
<dd><a name="996168"> </a>Item to select (0 = first item in list).</dd>

</dl>
<h4>
  <a name="996169"> </a>Returns 
</h4>

<p><a name="996170"> </a>Returns a pointer to the text of the current selection, or <code>NULL</code> if out of bounds.</p>
<h4>
  <a name="996171"> </a>Comments 
</h4>

<p><a name="996175"> </a>This is a pointer within <a href="List.html#995900">ListType</a>, not a copy. This function is only usable if you supplied an array of strings and a count to <a href="List.html#996454"><code>LstSetListChoices()</code></a>; if your application uses a callback function that dynamically generates the list text, this function returns <code>NULL</code>.</p>
<h4>
  <a name="996179"> </a>See Also 
</h4>

<p><a name="996183"> </a><a href="Form.html#997879"><code>FrmGetObjectPtr()</code></a></p>

<h3 class="hbH3">
  <a name="996186"> </a>LstGetTopItem Function <a href="#995794"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="996188"> </a>Purpose 
</h4>

<p><a name="996189"> </a>Returns the topmost visible item.</p>
<h4>
  <a name="996190"> </a>Declared In 
</h4>
<code>List.h<a name="996191"> </a></code><h4>
  <a name="996192"> </a>Prototype 
</h4>
<pre class="proto"><a name="996193"></a>Int16 LstGetTopItem (
   const ListType *listP
)
</pre>
<h4>
  <a name="996194"> </a>Parameters 
</h4>

<dl>
<dt><a name="996195"> </a><code>&rarr;  <i>listP</i></code></dt>
<dd><a name="996196"> </a>Pointer to a list object. </dd>

</dl>
<h4>
  <a name="996197"> </a>Returns 
</h4>

<p><a name="996198"> </a>Returns the item number of the top item visible.</p>
<h4>
  <a name="996199"> </a>Compatibility 
</h4>

<p><a name="996203"> </a>Implemented only if <a href="CompatibilityApdx.html#995256">4.0 New Feature Set</a> is present.</p>
<h4>
  <a name="996204"> </a>See Also 
</h4>

<p><a name="996211"> </a><a href="List.html#1007161"><code>LstGetSelection()</code></a>, <a href="List.html#996559"><code>LstSetTopItem()</code></a></p>

<h3 class="hbH3">
  <a name="996214"> </a>LstGetVisibleItems Function <a href="#995794"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="996216"> </a>Purpose 
</h4>

<p><a name="996217"> </a>Return the number of visible items.</p>
<h4>
  <a name="996218"> </a>Declared In 
</h4>
<code>List.h<a name="996219"> </a></code><h4>
  <a name="996220"> </a>Prototype 
</h4>
<pre class="proto"><a name="996221"></a>Int16 LstGetVisibleItems (
   const ListType *listP
)
</pre>
<h4>
  <a name="996222"> </a>Parameters 
</h4>

<dl>
<dt><a name="996223"> </a><code>&rarr;  <i><code>listP</code></i></code></dt>
<dd><a name="996224"> </a>Pointer to a list object.</dd>

</dl>
<h4>
  <a name="996225"> </a>Returns 
</h4>

<p><a name="996226"> </a>The number of items visible.</p>
<h4>
  <a name="996227"> </a>Compatibility 
</h4>

<p><a name="996231"> </a>Implemented only if <a href="CompatibilityApdx.html#992789">2.0 New Feature Set</a> is present.</p>

<h3 class="hbH3">
  <a name="996234"> </a>LstHandleEvent Function <a href="#995794"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="996236"> </a>Purpose 
</h4>

<p><a name="996237"> </a>Handle event in the specified list; the list object must have its <code>usable</code> and <code>visible</code> attribute set to <code>true</code>.This routine handles two type of events, <a href="EventRef.html#997559"><code>penDownEvent</code></a> and <a href="EventRef.html#997307"><code>lstEnterEvent</code></a>; see Comments.</p>
<h4>
  <a name="996246"> </a>Declared In 
</h4>
<code>List.h<a name="996247"> </a></code><h4>
  <a name="996248"> </a>Prototype 
</h4>
<pre class="proto"><a name="996249"></a>Boolean LstHandleEvent (
   ListType *listP,
   const EventType *eventP
)
</pre>
<h4>
  <a name="996250"> </a>Parameters 
</h4>

<dl>
<dt><a name="996251"> </a><code>&rarr;  <i>listP</i></code></dt>
<dd><a name="996255"> </a>Pointer to a list object (<a href="List.html#995900">ListType</a>).</dd>

<dt><a name="996256"> </a><code>&rarr;  <i>eventP</i></code></dt>
<dd><a name="996257"> </a>Pointer to an EventType structure.</dd>

</dl>
<h4>
  <a name="996258"> </a>Returns 
</h4>

<p><a name="996259"> </a>Return <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">true</span> if the event was handled. The following cases will result in a return value of <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">true</span>:</p>
<ul type="disc">
  <li><a name="996260"> </a>A <code>penDownEvent</code> within the bounds of the list
  <li><a name="996261"> </a>A <code>lstEnterEvent</code> with a list ID value that matches the list ID in the list data structure
</ul>
<h4>
  <a name="996262"> </a>Comments 
</h4>

<p><a name="996263"> </a>When this routine receives a <code>penDownEvent</code>, it checks if the pen position is within the bounds of the list object. If it is, this routine tracks the pen until the pen comes up. If the pen comes up within the bounds of the list, a <code>lstEnterEvent</code> is added to the event queue, and the routine is exited.</p>

<p><a name="996264"> </a>When this routine receives a <code>lstEnterEvent</code>, it checks that the list ID in the event record matches the ID of the specified list. If there is a match, this routine creates and displays a popup window containing the list's choices and the routine is exited.</p>

<p><a name="996265"> </a>If a <code>penDownEvent</code> is received while the list's popup window is displayed and the pen position is outside the bounds of the popup window, the window is dismissed. If the pen position is within the bounds of the window, this routine tracks the pen until it comes up. If the pen comes up outside the list object, a <code>lstEnterEvent</code> is added to the event queue.</p>

<h3 class="hbH3">
  <a name="996268"> </a>LstMakeItemVisible Function <a href="#995794"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="996270"> </a>Purpose 
</h4>

<p><a name="996271"> </a>Make an item visible, preferably at the top. If the item is already visible, make no changes.</p>
<h4>
  <a name="996272"> </a>Declared In 
</h4>
<code>List.h<a name="996273"> </a></code><h4>
  <a name="996274"> </a>Prototype 
</h4>
<pre class="proto"><a name="996275"></a>void LstMakeItemVisible (
   ListType *listP,
   Int16 itemNum
)
</pre>
<h4>
  <a name="996276"> </a>Parameters 
</h4>

<dl>
<dt><a name="996277"> </a><code>&rarr;  <i>listP</i></code></dt>
<dd><a name="996281"> </a>Pointer to a list object (<a href="List.html#995900">ListType</a>).</dd>

<dt><a name="996282"> </a><code>&rarr;  <i>itemNum</i></code></dt>
<dd><a name="996283"> </a>Item to select (0 = first item in list).</dd>

</dl>
<h4>
  <a name="996284"> </a>Returns 
</h4>

<p><a name="996285"> </a>Returns nothing.</p>
<h4>
  <a name="996286"> </a>Comments 
</h4>

<p><a name="996290"> </a>Does <i>not</i> visually update the list. You must call <a href="List.html#996036"><code>LstDrawList()</code></a> to update it. </p>
<h4>
  <a name="996291"> </a>See Also 
</h4>

<p><a name="996298"> </a><a href="Form.html#997879"><code>FrmGetObjectPtr()</code></a>, <a href="List.html#996532"><code>LstSetSelection()</code></a>, <a href="List.html#996559"><code>LstSetTopItem()</code></a>, <a href="List.html#996036"><code>LstDrawList()</code></a> </p>

<h3 class="hbH3">
  <a name="996307"> </a>LstNewList Function <a href="#995794"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="996309"> </a>Purpose 
</h4>

<p><a name="996310"> </a>Create a new list object dynamically and install it in the specified form. This function can be used to create a new popup trigger and its associated list.</p>
<h4>
  <a name="996311"> </a>Declared In 
</h4>
<code>List.h<a name="996312"> </a></code><h4>
  <a name="996313"> </a>Prototype 
</h4>
<pre class="proto"><a name="996314"></a>Err LstNewList (
   void **formPP,
   UInt16 id,
   Coord x,
   Coord y,
   Coord width,
   Coord height,
   FontID font,
   Int16 visibleItems,
   Int16 triggerId
)
</pre>
<h4>
  <a name="996315"> </a>Parameters 
</h4>

<dl>
<dt><a name="996316"> </a><code>&harr;  <i>formPP</i></code></dt>
<dd><a name="996317"> </a>Pointer to the pointer to the form in which the new list is installed. This value is not a handle; that is, the old <code>formPP</code> value is not necessarily valid after this function returns. In subsequent calls, always use the new <code>formPP</code> value returned by this function.</dd>

<dt><a name="996318"> </a><code>&rarr;  <i>id</i></code></dt>
<dd><a name="996319"> </a>Symbolic ID of the list, specified by the developer. By convention, this ID should match the resource ID (not mandatory).</dd>

<dt><a name="996320"> </a><code>&rarr;  <i>x</i></code></dt>
<dd><a name="996321"> </a>Horizontal coordinate of the upper-left corner of the list's boundaries, relative to the window in which it appears. </dd>

<dt><a name="996322"> </a><code>&rarr;  <i>y</i></code></dt>
<dd><a name="996323"> </a>Vertical coordinate of the upper-left corner of the list's boundaries, relative to the window in which it appears.</dd>

<dt><a name="996324"> </a><code>&rarr;  <i>width</i></code></dt>
<dd><a name="996325"> </a>Width of the list, expressed in pixels. Valid values are 1 &#8211; 160.</dd>

<dt><a name="996326"> </a><code>&rarr;  <i>height</i></code></dt>
<dd><a name="996327"> </a>Height of the list, expressed in pixels.Valid values are 1 &#8211; 160.</dd>

<dt><a name="996328"> </a><code>&rarr;  <i>visibleItems</i></code></dt>
<dd><a name="996329"> </a>Number of list items that can be viewed together. </dd>

<dt><a name="996330"> </a><code>&rarr;  <i>triggerId</i></code></dt>
<dd><a name="996331"> </a>Symbolic ID of the popup trigger associated with the new list (this ID is specified by the developer). A nonzero value for <code>triggerID</code> causes this function to create both the list and its associated popup trigger. If the list isn't a popup list, pass 0 for <code>triggerId</code>.</dd>

</dl>
<h4>
  <a name="996332"> </a>Returns 
</h4>

<p><a name="996333"> </a>Returns 0 if no error. </p>
<h4>
  <a name="996335"> </a>Compatibility 
</h4>

<p><a name="996339"> </a>Implemented only if <a href="CompatibilityApdx.html#993158">3.0 New Feature Set</a> is present.</p>
<h4>
  <a name="996340"> </a>See Also 
</h4>

<p><a name="996347"> </a><a href="List.html#996036"><code>LstDrawList()</code></a>, <a href="Form.html#998633"><code>FrmRemoveObject()</code></a> </p>

<h3 class="hbH3">
  <a name="996350"> </a>LstPopupList Function <a href="#995794"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="996352"> </a>Purpose 
</h4>

<p><a name="996354"> </a>Display a modal window that contains the items in the list.</p>
<h4>
  <a name="996355"> </a>Declared In 
</h4>
<code>List.h<a name="996356"> </a></code><h4>
  <a name="996357"> </a>Prototype 
</h4>
<pre class="proto"><a name="996358"></a>Int16 LstPopupList (
   ListType *listP
)
</pre>
<h4>
  <a name="996359"> </a>Parameters 
</h4>

<dl>
<dt><a name="996360"> </a><code>&rarr;  <i>listP</i></code></dt>
<dd><a name="996361"> </a>Pointer to a list object.</dd>

</dl>
<h4>
  <a name="996362"> </a>Returns 
</h4>

<p><a name="996363"> </a>Returns the list item selected, or -1 if no item was selected.</p>
<h4>
  <a name="996364"> </a>Comments 
</h4>

<p><a name="996365"> </a>Saves the previously active window. Creates and deletes the new popup window.</p>
<h4>
  <a name="996366"> </a>See Also 
</h4>

<p><a name="996370"> </a><a href="Form.html#997879"><code>FrmGetObjectPtr()</code></a></p>

<h3 class="hbH3">
  <a name="996373"> </a>LstScrollList Function <a href="#995794"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="996375"> </a>Purpose 
</h4>

<p><a name="996376"> </a>Scroll the list up or down a number of times.</p>
<h4>
  <a name="996377"> </a>Declared In 
</h4>
<code>List.h<a name="996378"> </a></code><h4>
  <a name="996379"> </a>Prototype 
</h4>
<pre class="proto"><a name="996380"></a>Boolean LstScrollList (
   ListType *listP,
   WinDirectionType direction,
   Int16 itemCount
)
</pre>
<h4>
  <a name="996381"> </a>Parameters 
</h4>

<dl>
<dt><a name="996382"> </a><code>&rarr;  <i><code>listP</code></i></code></dt>
<dd><a name="996383"> </a>Pointer to a list object.</dd>

<dt><a name="996384"> </a><code>&rarr;  <i><code>direction</code></i></code></dt>
<dd><a name="996385"> </a>Direction to scroll.</dd>

<dt><a name="996386"> </a><code>&rarr;  <i><code>itemCount</code></i></code></dt>
<dd><a name="996387"> </a>Items to scroll in direction.</dd>

</dl>
<h4>
  <a name="996388"> </a>Returns 
</h4>

<p><a name="996389"> </a>Returns <code>true</code> when the list is actually scrolled, <code>false</code> otherwise. May return <code>false</code> if a scroll past the end of the list is requested.</p>
<h4>
  <a name="996390"> </a>Compatibility 
</h4>

<p><a name="996394"> </a>Implemented only if <a href="CompatibilityApdx.html#992789">2.0 New Feature Set</a> is present.</p>

<h3 class="hbH3">
  <a name="996397"> </a>LstSetDrawFunction Function <a href="#995794"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="996399"> </a>Purpose 
</h4>

<p><a name="996400"> </a>Set a callback function to draw each item instead of drawing the item's text string.</p>
<h4>
  <a name="996401"> </a>Declared In 
</h4>
<code>List.h<a name="996402"> </a></code><h4>
  <a name="996403"> </a>Prototype 
</h4>
<pre class="proto"><a name="996404"></a>void LstSetDrawFunction (
   ListType *listP,
   ListDrawDataFuncPtr func
)
</pre>
<h4>
  <a name="996405"> </a>Parameters 
</h4>

<dl>
<dt><a name="996406"> </a><code>&rarr;  <i>listP</i></code></dt>
<dd><a name="996407"> </a>Pointer to a list object.</dd>

<dt><a name="996408"> </a><code>&rarr;  <i>func</i></code></dt>
<dd><a name="996409"> </a>Pointer to a function that draws items.</dd>

</dl>
<h4>
  <a name="996410"> </a>Returns 
</h4>

<p><a name="996411"> </a>Returns nothing.</p>
<h4>
  <a name="996412"> </a>Comments 
</h4>

<p><a name="996413"> </a>This function also adjusts <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">topItem</span> to prevent a shrunken list from being scrolled down too far. Use this function for custom draw functionality. </p>
<h4>
  <a name="996414"> </a>See Also 
</h4>

<p><a name="996421"> </a><a href="Form.html#997879"><code>FrmGetObjectPtr()</code></a>, <a href="PalmOSGlueLib.html#1032024"><code>LstGlueGetDrawFunction()</code></a>, <a href="List.html#996454"><code>LstSetListChoices()</code></a>, <a href="List.html#996610"><code>ListDrawDataFuncType()</code></a> </p>

<h3 class="hbH3">
  <a name="996430"> </a>LstSetHeight Function <a href="#995794"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="996432"> </a>Purpose 
</h4>

<p><a name="996433"> </a>Set the number of items visible in a list.</p>
<h4>
  <a name="996434"> </a>Declared In 
</h4>
<code>List.h<a name="996435"> </a></code><h4>
  <a name="996436"> </a>Prototype 
</h4>
<pre class="proto"><a name="996437"></a>void LstSetHeight (
   ListType *listP,
   Int16 visibleItems
)
</pre>
<h4>
  <a name="996438"> </a>Parameters 
</h4>

<dl>
<dt><a name="996439"> </a><code>&rarr;  <i>listP</i></code></dt>
<dd><a name="996440"> </a>Pointer to a list object.</dd>

<dt><a name="996441"> </a><code>&rarr;  <i>visibleItems</i></code></dt>
<dd><a name="996442"> </a>Number of choices visible at once.</dd>

</dl>
<h4>
  <a name="996443"> </a>Returns 
</h4>

<p><a name="996444"> </a>Returns nothing.</p>
<h4>
  <a name="996445"> </a>Comments 
</h4>

<p><a name="996446"> </a>This function doesn't redraw the list if it's already visible.</p>
<h4>
  <a name="996447"> </a>See Also 
</h4>

<p><a name="996451"> </a><a href="Form.html#997879"><code>FrmGetObjectPtr()</code></a></p>

<h3 class="hbH3">
  <a name="996454"> </a>LstSetListChoices Function <a href="#995794"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="996456"> </a>Purpose 
</h4>

<p><a name="996457"> </a>Set the items of a list to the array of text string pointers passed to this function. This functions erases the old list items.</p>
<h4>
  <a name="996458"> </a>Declared In 
</h4>
<code>List.h<a name="996459"> </a></code><h4>
  <a name="996460"> </a>Prototype 
</h4>
<pre class="proto"><a name="996461"></a>void LstSetListChoices (
   ListType *listP,
   Char **itemsText,
   Int16 numItems
)
</pre>
<h4>
  <a name="996462"> </a>Parameters 
</h4>

<dl>
<dt><a name="996463"> </a><code>&rarr;  <i>listP</i></code></dt>
<dd><a name="996464"> </a>Pointer to a list object.</dd>

<dt><a name="996465"> </a><code>&rarr;  <i>itemsText</i></code></dt>
<dd><a name="996466"> </a>Pointer to an array of text strings. See <a href="SystemManager.html#1076316"><code>SysFormPointerArrayToStrings()</code></a> for one way to create this array of strings.</dd>

<dt><a name="996470"> </a><code>&rarr;  <i>numItems</i></code></dt>
<dd><a name="996471"> </a>Number of choices in the list.</dd>

</dl>
<h4>
  <a name="996472"> </a>Returns 
</h4>

<p><a name="996473"> </a>Returns nothing.</p>
<h4>
  <a name="996474"> </a>Comments 
</h4>

<p><a name="996475"> </a>You need to call the <code>LstDrawList</code> function to update the list if it is displayed when you call this function. </p>

<div><hr>
  <a name="996476"> </a> <b>NOTE: </b> This function does not copy the strings in the <code>itemsText</code> array, which means that you need to ensure that the array is not moved or deallocated until after you are done with the list.
<hr>
</div>

<p><a name="996477"> </a>If you use a callback routine to draw the items in your list, the <code>itemsText</code> pointer is simply passed to that callback routine and is not otherwise used by the List Manager code. See the comments under <a href="List.html#996610"><code>ListDrawDataFuncType()</code></a> for tips on using the <code>itemsText</code> parameter with a callback routine.</p>
<h4>
  <a name="996481"> </a>See Also 
</h4>

<p><a name="996488"> </a><a href="Form.html#997879"><code>FrmGetObjectPtr()</code></a>, <a href="PalmOSGlueLib.html#1032064"><code>LstGlueGetItemsText()</code></a>, <a href="List.html#996532"><code>LstSetSelection()</code></a>, <a href="List.html#996559"><code>LstSetTopItem()</code></a>, <a href="List.html#996036"><code>LstDrawList()</code></a>, <a href="List.html#996430"><code>LstSetHeight()</code></a>, <a href="List.html#996397"><code>LstSetDrawFunction()</code></a> </p>

<h3 class="hbH3">
  <a name="996506"> </a>LstSetPosition Function <a href="#995794"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="996508"> </a>Purpose 
</h4>

<p><a name="996509"> </a>Set the position of a list.</p>
<h4>
  <a name="996510"> </a>Declared In 
</h4>
<code>List.h<a name="996511"> </a></code><h4>
  <a name="996512"> </a>Prototype 
</h4>
<pre class="proto"><a name="996513"></a>void LstSetPosition (
   ListType *listP,
   Coord x,
   Coord y
)
</pre>
<h4>
  <a name="996514"> </a>Parameters 
</h4>

<dl>
<dt><a name="996515"> </a><code>&rarr;  <i>listP</i></code></dt>
<dd><a name="996516"> </a>Pointer to a list object</dd>

<dt><a name="996517"> </a><code>&rarr;  <i>x</i></code></dt>
<dd><a name="996518"> </a>Left bound.</dd>

<dt><a name="996519"> </a><code>&rarr;  <i>y</i></code></dt>
<dd><a name="996520"> </a>Top bound.</dd>

</dl>
<h4>
  <a name="996521"> </a>Returns 
</h4>

<p><a name="996522"> </a>Returns nothing.</p>
<h4>
  <a name="996523"> </a>Comments 
</h4>

<p><a name="996524"> </a>The list is not redrawn. Don't call this function when the list is visible.</p>
<h4>
  <a name="996525"> </a>See Also 
</h4>

<p><a name="996529"> </a><a href="Form.html#997879"><code>FrmGetObjectPtr()</code></a></p>

<h3 class="hbH3">
  <a name="996532"> </a>LstSetSelection Function <a href="#995794"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="996534"> </a>Purpose 
</h4>

<p><a name="996535"> </a>Set the selection for a list.</p>
<h4>
  <a name="996536"> </a>Declared In 
</h4>
<code>List.h<a name="996537"> </a></code><h4>
  <a name="996538"> </a>Prototype 
</h4>
<pre class="proto"><a name="996539"></a>void LstSetSelection (
   ListType *listP,
   Int16 itemNum
)
</pre>
<h4>
  <a name="996540"> </a>Parameters 
</h4>

<dl>
<dt><a name="996541"> </a><code>&rarr;  <i>listP</i></code></dt>
<dd><a name="996542"> </a>Pointer to a list object.</dd>

<dt><a name="996543"> </a><code>&rarr;  <i>itemNum</i></code></dt>
<dd><a name="996544"> </a>Item to select (0 = first item in list, <code>noListSelection</code> = none).</dd>

</dl>
<h4>
  <a name="996545"> </a>Returns 
</h4>

<p><a name="996546"> </a>Returns nothing.</p>
<h4>
  <a name="996547"> </a>Comments 
</h4>

<p><a name="996548"> </a>The old selection, if any, is unselected. If the list is visible, the selected item is visually updated. The list is scrolled to the selection, if necessary, as long as the list object is both visible and usable.</p>
<h4>
  <a name="996549"> </a>See Also 
</h4>

<p><a name="996556"> </a><a href="Form.html#997879"><code>FrmGetObjectPtr()</code></a> , <a href="List.html#996559"><code>LstSetTopItem()</code></a></p>

<h3 class="hbH3">
  <a name="996559"> </a>LstSetTopItem Function <a href="#995794"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="996561"> </a>Purpose 
</h4>

<p><a name="996562"> </a>Set the item visible. The item cannot become the top item if it's on the last page.</p>
<h4>
  <a name="996563"> </a>Declared In 
</h4>
<code>List.h<a name="996564"> </a></code><h4>
  <a name="996565"> </a>Prototype 
</h4>
<pre class="proto"><a name="996566"></a>void LstSetTopItem (
   ListType *listP,
   Int16 itemNum
)
</pre>
<h4>
  <a name="996567"> </a>Parameters 
</h4>

<dl>
<dt><a name="996568"> </a><code>&rarr;  <i>listP</i></code></dt>
<dd><a name="996569"> </a>Pointer to a list object.</dd>

<dt><a name="996570"> </a><code>&rarr;  <i>itemNum</i></code></dt>
<dd><a name="996571"> </a>Item to select (0 = first item in list). This must be a valid item number.</dd>

</dl>
<h4>
  <a name="996572"> </a>Returns 
</h4>

<p><a name="996573"> </a>Returns nothing.</p>
<h4>
  <a name="996574"> </a>Comments 
</h4>

<p><a name="996575"> </a>Does <i>not</i> update the display.</p>

<div><hr>
  <a name="996576"> </a> <b>NOTE: </b> The value you specify for itemNum must be in the range <code>0</code> to max-number-of-items. 
<hr>
</div>
<h4>
  <a name="996577"> </a>See Also 
</h4>

<p><a name="996581"> </a><a href="Form.html#997879"><code>FrmGetObjectPtr()</code></a>, <code>LstGlueGetTopItem</code>, <a href="List.html#996532"><code>LstSetSelection()</code></a>, <a href="List.html#996186"><code>LstGetTopItem()</code></a>, <a href="List.html#996268"><code>LstMakeItemVisible()</code></a>, <a href="List.html#996036"><code>LstDrawList()</code></a>, <a href="List.html#996072"><code>LstEraseList()</code></a></p>

<h2 class="haH2">
  <a name="996599"> </a>Application-Defined Function <a href="#995794"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="996601"> </a>If you need to perform special drawing for items in the list, call <a href="List.html#996397"><code>LstSetDrawFunction()</code></a> to set the list drawing callback function. The <a href="List.html#996610"><code>ListDrawDataFuncType()</code></a> section documents the prototype for the callback function you provide for drawing list items.</p>

<h3 class="hbH3">
  <a name="996610"> </a>ListDrawDataFuncType Function <a href="#995794"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="996612"> </a>Purpose 
</h4>

<p><a name="996613"> </a>Callback function that you provide for drawing items in a list. This function is called whenever the Palm OS needs to draw an element in the list. Your callback function declaration must match the prototype shown here.</p>
<h4>
  <a name="996614"> </a>Declared In 
</h4>
<code>List.h<a name="996615"> </a></code><h4>
  <a name="996616"> </a>Prototype 
</h4>
<pre class="proto"><a name="996617"></a>void ListDrawDataFuncType(
   Int16 itemNum,
   RectangleType *bounds,
   Char **itemsText
)
</pre>
<h4>
  <a name="996618"> </a>Parameters 
</h4>

<dl>
<dt><a name="996619"> </a><code>&rarr;  <i><code>itemNum</code></i></code></dt>
<dd><a name="996620"> </a>The number of the item to draw.</dd>

<dt><a name="996621"> </a><code>&rarr;  <i><code>bounds</code></i></code></dt>
<dd><a name="996622"> </a>The bounds of the list, relative to the window.</dd>

<dt><a name="996623"> </a><code>&rarr;  <i><code>itemsText</code></i></code></dt>
<dd><a name="996624"> </a>A pointer to an array of pointers to the text of the list items. This is the pointer that you supplied when calling <a href="List.html#996454"><code>LstSetListChoices()</code></a>.</dd>

</dl>
<h4>
  <a name="996628"> </a>Returns 
</h4>

<p><a name="996629"> </a>Returns nothing.</p>
<h4>
  <a name="996630"> </a>Comments 
</h4>

<p><a name="996634"> </a>You can call <a href="List.html#996397"><code>LstSetDrawFunction()</code></a> to register your callback function for the list, which means that your function will be called to draw the list items, rather than using the built-in draw functionality, which displays each item's text string.</p>

<p><a name="996635"> </a>Your callback function is called whenever an item in the list needs to be drawn. When it is called, the value of the <code>itemNum</code> parameter specifies which item the function is to draw. The <code>itemsText</code> parameter, which is what was supplied to <code>LstSetListChoices</code>, doesn't actually need to point to a list of strings: you can pass <code>NULL</code>, or you can pass a pointer to anything that will be useful to your drawing function. Note, however, that if you pass anything other than a pointer to a list of strings when you call <code>LstSetListChoices,</code> you must ensure that <a href="List.html#996156"><code>LstGetSelectionText()</code></a> is never called since it assumes that this pointer indicates an array of text items. In particular, if your list is associated with a pop-up trigger you must handle the <code>popSelectEvent</code> yourself before <a href="Form.html#998041"><code>FrmHandleEvent()</code></a> gets a chance at it since <code>FrmHandleEvent</code> calls <code>LstGetSelectionText</code>.</p>

<div><hr>
  <a name="996642"> </a> <span class="warning">WARNING! </span> If the list is a popup list, the form that owns the list is not active while the list is in a window. This means that you cannot call the <a href="Form.html#997390"><code>FrmGetActiveForm()</code></a> function. Instead, use itemsText pointer to access any information that you need for drawing. If you must access the form, use the <a href="Form.html#997597"><code>FrmGetFormPtr()</code></a> function.
<hr>
</div>

<p><a name="996649"> </a>Note that the list object manages which colors are used to draw the items and how to draw selected versus unselected items. In almost all circumstances, your drawing function does not have to be concerned with these details. </p>

<p><a name="996650"> </a>However, if you do need to determine if the item is selected, you can rely on the fact that the system has set the pen color to one of two colors prior to calling your draw function:</p>
<ul type="disc">
  <li><a name="996651"> </a>If the item is selected, the foreground color is <code>UIObjectSelectedForeground</code>.
  <li><a name="996652"> </a>If the item is not selected, the foreground color is <code>UIObjectForeground</code>.
</ul>

<p><a name="996653"> </a>You can determine the foreground color that is in effect for the list item by calling the <a href="Window.html#1016542"><code>WinSetForeColor()</code></a> function, which returns the previous value of the foreground color. Remember to call <code>WinSetForeColor</code> again to reset the foreground color to what it was. For example:</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
itemColor = WinSetForeColor(myColor)<a name="996657"> </a>
WinSetForeColor(itemColor)<a name="996658"> </a>
selectColor = UiColorGetTableEntryIndex(
                   UIObjectSelectedForeground)<a name="996659"> </a>
if itemColor == selectColor<a name="996660"> </a>
...<a name="996661"> </a>
</pre><div class="CodeRule"><hr></div>

<h4>
  <a name="996662"> </a>See Also 
</h4>

<p><a name="996669"> </a><a href="List.html#996397"><code>LstSetDrawFunction()</code></a>, <a href="UIColor.html#996015"><code>UIColorGetTableEntryIndex()</code></a>, <a href="Window.html#1016542"><code>WinSetForeColor()</code></a></p>

<p><a name="996673"> </a></p>
&nbsp;<br>
</div>
<!--END CONTENT-->

</td>
<td width="5">&nbsp;&nbsp;</td>
</tr>

</table>

<!-- BEGIN FOOTER -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="7" rowspan="2"><img name="index_x" src="images/shim.gif" width="7" height="33" border="0" alt=""></td>
<td align="left"><img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
<td width="10" rowspan="2"><img name="index_x" src="images/shim.gif" width="10" height="33" border="0" alt=""></td>
</tr>
<tr>
<td align="center">
<p class="footer">
Copyright © 1996-2004, PalmSource, Inc. and its affiliates.  All rights reserved. <br>
<a href="http://www.palmsource.com/contact/">Write Us</a> | <a href="http://www.palmos.com/dev/training/">Training</a> | <a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a> | <a href="Reference_Front.html" target="_blank">Legal</a></p>
<br>
<!--BEGIN BOOK NAVIGATION-->
<p class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="ReferenceTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="InsertionPoint.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="Menu.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ReferenceIX.html">Index</a>
</p>
</td>
</tr>
</table>
<!-- END FOOTER -->

</body>
</html>