<html>
<head>
<title>(68K) Files and Databases | Palm OS&#174; Programmer's Companion</title> 
<link href="psi_devpubs.css" rel="stylesheet" type="text/css">

<!-- BEGIN META DATA -->
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META NAME="PSITEMPLATE" CONTENT="1006-007 PalmSource_HTML_2003 20041101">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks AutoMap 2003 for FrameMaker 8.0.6.2138">
<META NAME="LASTUPDATED" CONTENT="11/22/04 10:43:13">
<!-- END META DATA -->
</head>

<body bgcolor="#ffffff" text="#000000" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<a name="1029258"></a>

<!-- BEGIN TOPNAV -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td><img src="images/shim.gif" width="7" height="75" border="0" alt=""></td>
<td align="left"><table border="0" cellpadding="0" cellspacing="0" width="744">
<tr>
<td><img name="index_r2_c1" src="images/shim.gif" width="25" height="75" border="0" alt=""></td>
<td valign="top"><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_r2_c4" src="images/shim.gif" width="96" height="15" border="0" alt=""></td>
</tr>
<tr>
<td><a href="http://www.palmsource.com/"><img name="ps_logo" src="images/ps_logo.gif" width="96" height="54" border="0" alt=""></a></td>
</tr>

</table>
</td>

<td><table border="0" cellpadding="0" cellspacing="0" width="30">
<td><img name="index_x" src="images/shim.gif" width="30" height="75" border="0" alt=""></td>
</table></td>

<!--BEGIN MASTHEAD-->
<td><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
<tr>
<td>
<!--BEGIN BOOK NAVIGATION-->
<span class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="CompanionTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="Memory.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ExpAndVFSConcepts.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="CompanionIX.html">Index</a>
</span>
<!--END BOOK NAVIGATION-->
</tr>
<tr>
<td>
<!--BEGIN PAGE TITLE-->
<h2 class="PageTitle">6 &nbsp;&nbsp;
Files and Databases</h2></td>
<!--END PAGE TITLE-->
</tr>
<tr>
<td>
<!--BEGIN BOOK TITLE-->
<p class="BookTitle">Palm OS&#174; Programmer's Companion</p>
<p class="SubTitle">Volume I </p>
<!--END BOOK TITLE-->
</td>
</tr>
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
</table>
</td>
<!--END MASTHEAD-->
</tr>
</table>
<img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
</tr>
</table>
<!-- END TOPNAV -->

<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" width="5"><img name="index_x" src="images/shim.gif" width="5" height="33" border="0" alt=""></td>

<!--BEGIN SIDETOC-->
<td valign="top" width="175">
<div id="sidetoc" valign="bottom">
<h1 class="SideTOC1"><a href="FilesAndDatabases.html">6  Files and Databases</a></h1>

   <h2 class="SideTOC2"><a href="#1029277">
   The Data Manager</a></h2>

      <h3 class="SideTOC3"><a href="#1029297">
      Records and Databases</a></h3>

      <h3 class="SideTOC3"><a href="#1029311">
      Structure of a Database Header</a></h3>

      <h3 class="SideTOC3"><a href="#1029377">
      Using the Data Manager</a></h3>

      <h3 class="SideTOC3"><a href="#1032439">
      Automatic Database Backup and Restore</a></h3>

      <h3 class="SideTOC3"><a href="#1029495">
      Data Manager Tips</a></h3>

   <h2 class="SideTOC2"><a href="#1029528">
   The Resource Manager</a></h2>

      <h3 class="SideTOC3"><a href="#1029550">
      Structure of a Resource Database Header</a></h3>

      <h3 class="SideTOC3"><a href="#1029562">
      Using the Resource Manager</a></h3>

   <h2 class="SideTOC2"><a href="#1029653">
   File Streaming Application Program Interface</a></h2>

      <h3 class="SideTOC3"><a href="#1029657">
      Using the File Streaming API</a></h3>

   <h2 class="SideTOC2"><a href="#1029700">
   Summary of Files and Databases</a></h2>

</div>
</td>

<td width="5">&nbsp;&nbsp;</td>
<td width="2" background="images/index_r8_c10.gif"><img src="images/shim.gif" width="2" height="75" border="0" alt=""></td>
<td width="5">&nbsp;&nbsp;</td>

<!--END SIDETOC-->

<td valign="top">

<!--BEGIN CONTENT-->
<div id="content" valign="bottom">
<p><a name="1029259"> </a>This chapter describes how to work with databases using Palm OS<sup>&#174;</sup> managers. </p>
<ul type="disc">
  <li><a name="1029263"> </a><a href="FilesAndDatabases.html#1029277">The Data Manager</a> manages user data, which is stored in databases for convenient access.
  <li><a name="1029267"> </a><a href="FilesAndDatabases.html#1029528">The Resource Manager</a> can be used by applications to conveniently retrieve and save chunks of data. It's similar to the Data Manager, but has the added capability of tagging each chunk with a unique resource type and ID. These tagged data chunks, called resources, are stored in resource databases. Resources are typically used to store the application's user interface elements, such as images, fonts, or dialog layouts. 
  <li><a name="1029271"> </a><a href="FilesAndDatabases.html#1029653">File Streaming Application Program Interface</a> can be used by applications to handle large blocks of data. 
</ul>

<div><hr>
  <a name="1029272"> </a> <b>IMPORTANT: </b> To access data or resources on secondary storage (such as expansion cards), you use a different set of APIs. See <a href="ExpAndVFSConcepts.html#1031615">Chapter 7, "Expansion,"</a> for more information. 
<hr>
</div>

<h2 class="haH2">
  <a name="1029277"> </a>The Data Manager <a href="#1029258"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1029279"> </a>A traditional file system first reads all or a portion of a file into a memory buffer from disk, using and/or updating the information in the memory buffer, and then writes the updated memory buffer back to disk. Because Palm Powered<sup>&#8482;</sup> handhelds have limited amounts of dynamic RAM and use nonvolatile RAM instead of disk storage, a traditional file system is not optimal for storing and retrieving Palm OS user data. </p>

<p><a name="1029280"> </a>Palm OS accesses and updates all information in place. This works well because it reduces dynamic memory requirements and eliminates the overhead of transferring the data to and from another memory buffer involved in a file system. </p>

<p><a name="1029281"> </a>As a further enhancement, data in the Palm Powered handheld is broken down into multiple, finite-size <b>records</b> that can be left scattered throughout the memory space; thus, adding, deleting, or resizing a record does not require moving other records around in memory. Each record in a database is in fact a Memory Manager chunk. The Data Manager uses Memory Manager functions to allocate, delete, and resize database records.</p>

<p><a name="1029283"> </a>This section explains how to use the Data Manager by discussing these topics: </p>
<ul type="disc">
  <li><a name="1029287"> </a><a href="FilesAndDatabases.html#1029297">Records and Databases</a>
  <li><a name="1029291"> </a><a href="FilesAndDatabases.html#1029311">Structure of a Database Header</a>
  <li><a name="1029295"> </a><a href="FilesAndDatabases.html#1029377">Using the Data Manager</a>
</ul>
<h3 class="hbH3">
  <a name="1029297"> </a>Records and Databases <a href="#1029258"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1029298"> </a>Databases organize related records; every record belongs to one and only one database. A database may be a collection of all address book entries, all datebook entries, and so on. A Palm OS application can create, delete, open, and close databases as necessary, just as a traditional file system can create, delete, open, and close a traditional file. There is no restriction on where the records for a particular database reside as long as they all reside on the same memory card. The records from one database can be interspersed with the records from one or more other databases in memory.</p>

<p><a name="1029300"> </a>Storing data by database fits nicely with the Palm OS Memory Manager design. All heaps except for the dynamic heap(s) are nonvolatile, so database records can be stored in any heap except the dynamic heap(s) (see <a href="Memory.html#1026065">"Heap Overview"</a> in the <a href="Memory.html#1025850">"Memory"</a> chapter). Because records can be stored anywhere on the memory card, databases can be distributed over multiple discontiguous areas of physical RAM.</p>

<h4 class="hcH4">
  <a name="1029307"> </a>Accessing Data With Local IDs
</h4>

<p><a name="1029308"> </a>A database maintains a list of all records that belong to it by storing the local ID of each record in the database header. Because local IDs are used, the memory card can be placed into any memory slot of a Palm Powered handheld. An application finds a particular record in a database by index. When an application requests a particular record, the Data Manager fetches the local ID of the record from the database header by index, converts the local ID to a handle using the card number that contains the database header, and returns the handle to the record.</p>
<h3 class="hbH3">
  <a name="1029311"> </a>Structure of a Database Header <a href="#1029258"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1029312"> </a>A database header consists of some basic database information and a list of records in the database. Each record entry in the header has the local ID of the record, 8 attribute bits, and a 3-byte unique ID for the record. </p>

<p><a name="1029314"> </a>This section provides information about database headers, discussing these topics:</p>
<ul type="disc">
  <li><a name="1029318"> </a><a href="FilesAndDatabases.html#1029325">Database Header Fields</a> 
  <li><a name="1029322"> </a><a href="FilesAndDatabases.html#1029365">Structure of a Record Entry in a Database Header</a> 
</ul>

<div><hr>
  <a name="1029323"> </a> <b>IMPORTANT: </b> Expect the database header structure to change in the future. Use the API to work with database structures.
<hr>
</div>

<h4 class="hcH4">
  <a name="1029325"> </a>Database Header Fields
</h4>

<p><a name="1029327"> </a>The database header has the following fields: </p>
<ul type="disc">
  <li><a name="1029328"> </a>The <code>name</code> field holds the name of the database. 
  <li><a name="1029329"> </a>The <code>attributes</code> field has flags for the database. 
  <li><a name="1029330"> </a>The <code>version</code> field holds an application-specific version number for that database. 
  <li><a name="1029331"> </a>The <code>modificationNumber</code> is incremented every time a record in the database is deleted, added, or modified. Thus applications can quickly determine if a shared database has been modified by another process. 
  <li><a name="1029332"> </a>The <code>appInfoID</code> is an optional field that an application can use to store application-specific information about the database. For example, it might be used to store user display preferences for a particular database. 
  <li><a name="1029333"> </a>The <code>sortInfoID</code> is another optional field an application can use for storing the local ID of a sort table for the database. 
  <li><a name="1029334"> </a>The <code>type</code> and <code>creator</code> fields are each 4 bytes and hold the database type and creator. The system uses these fields to distinguish application databases from data databases and to associate data databases with the appropriate application. 
  <li><a name="1029335"> </a>The <code>numRecords</code> field holds the number of record entries stored in the database header itself. If all the record entries cannot fit in the header, then <code>nextRecordList</code> has the local ID of a <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">recordList</span> that contains the next set of records. 
   <p><a name="1029336"> </a>Each record entry stored in a record list has three fields and is 8 bytes in length. Each entry has the local ID of the record which takes up 4 bytes: 1 byte of attributes and a 3-byte unique ID for the record. The <code>attribute</code> field, shown in <a href="FilesAndDatabases.html#1029341">Figure 6.1</a>, is 8 bits long and contains 4 flags and a 4-bit category number. The category number is used to place records into user-defined categories like "business" or "personal." </p>
</ul>

<p class="FFigureCaption">
  <a name="1029341"> </a><b>Figure 6.1&nbsp;&nbsp;Record Attributes</b>
</p>
<div align="left"><img src="images/FandD1.gif" border="0" hspace="0" vspace="0">
</div>

<h4 class="hcH4">
  <a name="1029365"> </a>Structure of a Record Entry in a Database Header
</h4>

<p><a name="1029366"> </a>Each record entry has the local ID of the record, 8 attribute bits, and a 3-byte unique ID for the record. </p>
<ul type="disc">
  <li><a name="1029367"> </a>Local IDs make the database slot-independent. Since all records for a database reside on the same memory card as the header, the handle of any record in the database can be quickly calculated. When an application requests a specific record from a database, the Data Manager returns a handle to the record that it determines from the stored local ID.
   <p><a name="1029368"> </a>A special situation occurs with ROM-based databases. Because ROM-based heaps use nonmovable chunks exclusively, the local IDs to records in a ROM-based database are local IDs of pointers, not handles. So, when an application opens a ROM-based database, the Data Manager allocates and initializes a fake handle for each record and returns the appropriate fake handle when the application requests a record. Because of this, applications can use handles to access both RAM- and ROM-based database records.</p>
  <li><a name="1029369"> </a>The unique ID must be unique for each record within a database. It remains the same for a particular record no matter how many times the record is modified. It is used during synchronization with the desktop to track records on the Palm Powered handheld with the same records on the desktop system.
</ul>

<p><a name="1029370"> </a>When the user deletes or archives a record on Palm OS: </p>
<ul type="disc">
  <li><a name="1029371"> </a>The <code>delete</code> bit is set in the <code>attributes</code> flags, but its entry in the database header remains until the next synchronization with the PC. 
  <li><a name="1029372"> </a>The <code>dirty</code> bit is set whenever a record is updated.
  <li><a name="1029373"> </a>The <code>busy</code> bit is set when an application currently has a record locked for reading or writing.
  <li><a name="1029374"> </a>The <code>secret</code> bit is set for records that should not be displayed before the user password has been entered on the handheld.
</ul>

<p><a name="1029375"> </a>When a user "deletes" a record on the Palm Powered handheld, the record's data chunk is freed, the local ID stored in the record entry is set to 0, and the <code>delete</code> bit is set in the attributes. When the user archives a record, the deleted bit is also set but the chunk is not freed and the local ID is preserved. This way, the next time the user synchronizes with the desktop system, the desktop can quickly determine which records to delete (since their record entries are still around on the Palm Powered handheld). In the case of archived records, the desktop can save the record data on the PC before it permanently removes the record entry and data from the Palm Powered handheld. For deleted records, the PC just has to delete the same record from the PC before permanently removing the record entry from the Palm Powered handheld.</p>
<h3 class="hbH3">
  <a name="1029377"> </a>Using the Data Manager <a href="#1029258"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1029379"> </a>Using the Data Manager is similar to using a traditional file manager, except that the data is broken down into multiple records instead of being stored in one contiguous chunk. To create or delete a database, call <a href="../PalmOSReference/DataAndResourceManager.html#1008861"><code>DmCreateDatabase</code></a> and <a href="../PalmOSReference/DataAndResourceManager.html#1009196"><code>DmDeleteDatabase</code></a>.</p>

<p><a name="1029388"> </a>Each memory card is akin to a disk drive and can contain multiple databases. To open a database for reading or writing, you must first get the database ID, which is simply the local ID of the database header. Calling <a href="../PalmOSReference/DataAndResourceManager.html#1009460"><code>DmFindDatabase</code></a> searches a particular memory card for a database by name and returns the local ID of the database header. Alternatively, calling <a href="../PalmOSReference/DataAndResourceManager.html#1009742"><code>DmGetDatabase</code></a> returns the database ID for each database on a card by index. </p>

<p><a name="1029397"> </a>After determining the database ID, you can open the database for read-only or read/write access. When you open a database, the system locks down the database header and returns a reference to a database access structure, which tracks information about the open database and caches certain information for optimum performance. The database access structure is a relatively small structure (less than 100 bytes) allocated in the dynamic heap that is disposed of when the database is closed.</p>

<p><a name="1029406"> </a>Call <a href="../PalmOSReference/DataAndResourceManager.html#1008974"><code>DmDatabaseInfo</code></a>, <a href="../PalmOSReference/DataAndResourceManager.html#1011529"><code>DmSetDatabaseInfo</code></a>, and <a href="../PalmOSReference/DataAndResourceManager.html#1009109"><code>DmDatabaseSize</code></a> to query or set information about a database, such as its name, size, creation and modification dates, attributes, type, and creator. </p>

<p><a name="1029423"> </a>Call <a href="../PalmOSReference/DataAndResourceManager.html#1010008"><code>DmGetRecord</code></a>, <a href="../PalmOSReference/DataAndResourceManager.html#1010935"><code>DmQueryRecord</code></a>, and <a href="../PalmOSReference/DataAndResourceManager.html#1011051"><code>DmReleaseRecord</code></a> when viewing or updating a database. </p>
<ul type="disc">
  <li><a name="1029428"> </a><a href="../PalmOSReference/DataAndResourceManager.html#1010008"><code>DmGetRecord</code></a> takes a record index as a parameter, marks the record busy, and returns a handle to the record. If a record is already busy when <a href="../PalmOSReference/DataAndResourceManager.html#1010008"><code>DmGetRecord</code></a> is called, an error is returned. 
  <li><a name="1029435"> </a><a href="../PalmOSReference/DataAndResourceManager.html#1010935"><code>DmQueryRecord</code></a> is faster if the application only needs to view the record; it doesn't check or set the busy bit, so it's not necessary to call <code>DmReleaseRecord</code> when finished viewing the record. 
  <li><a name="1029439"> </a><a href="../PalmOSReference/DataAndResourceManager.html#1011051"><code>DmReleaseRecord</code></a> clears the <code>busy</code> bit, and updates the modification number of the database and marks the record dirty if the <code>dirty</code> parameter is true.
</ul>

<p><a name="1029440"> </a>To resize a record to grow or shrink its contents, call <a href="../PalmOSReference/DataAndResourceManager.html#1011281"><code>DmResizeRecord</code></a>. This routine automatically reallocates the record in another heap of the same card if the current heap does not have enough space for it. Note that if the Data Manager needs to move the record into another heap to resize it, the handle to the record changes. <a href="../PalmOSReference/DataAndResourceManager.html#1011281"><code>DmResizeRecord</code></a> returns the new handle to the record.</p>

<p><a name="1029451"> </a>To add a new record to a database, call <a href="../PalmOSReference/DataAndResourceManager.html#1010335"><code>DmNewRecord</code></a>. This routine can insert the new record at any index position, append it to the end, or replace an existing record by index. It returns a handle to the new record. </p>

<p><a name="1029452"> </a>There are three methods for removing a record: <code>DmRemoveRecord</code>, <code>DmDeleteRecord</code>, and <code>DmArchiveRecord.</code></p>
<ul type="disc">
  <li><a name="1029456"> </a><a href="../PalmOSReference/DataAndResourceManager.html#1011116"><code>DmRemoveRecord</code></a> removes the record's entry from the database header and disposes of the record data. 
  <li><a name="1029460"> </a><a href="../PalmOSReference/DataAndResourceManager.html#1009291"><code>DmDeleteRecord</code></a> also disposes of the record data, but instead of removing the record's entry from the database header, it sets the deleted bit in the record entry attributes field and clears the local chunk ID. 
  <li><a name="1029464"> </a><a href="../PalmOSReference/DataAndResourceManager.html#1008608"><code>DmArchiveRecord</code></a> does not dispose of the record's data; it just sets the deleted bit in the record entry. 
</ul>

<p><a name="1029465"> </a>Both <code>DmDeleteRecord</code> and <code>DmArchiveRecord</code> are useful for synchronizing information with a desktop PC. Since the unique ID of the deleted or archived record is still kept in the database header, the desktop PC can perform the necessary operations on its own copy of the database before permanently removing the record from the Palm OS database.</p>

<p><a name="1029472"> </a>Call <a href="../PalmOSReference/DataAndResourceManager.html#1011009"><code>DmRecordInfo</code></a> and <a href="../PalmOSReference/DataAndResourceManager.html#1011610"><code>DmSetRecordInfo</code></a> to retrieve or set the record information stored in the database header, such as the attributes, unique ID, and local ID of the record. Typically, these routines are used to set or retrieve the category of a record, which is stored in the lower four bits of the record's attribute field (see <a href="FilesAndDatabases.html#1029477">Listing 6.1</a>).</p>
<p class="CCodeCaption">
  <a name="1029477"> </a><b>Listing 6.1&nbsp;&nbsp;Determining the category for a record</b>
</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
UInt16 category;<a name="1029478"> </a>
<a name="1029479"> </a>
DmRecordInfo (MyDB, CurrentRecord, &amp;attr, NULL, NULL);   <a name="1029480"> </a>
category = attr &amp; dmRecAttrCategoryMask;<a name="1029481"> </a>
//category now contains the index of the category to which <a name="1029482"> </a>
// CurrentRecord belongs. <a name="1029483"> </a>
</pre><div class="CodeRule"><hr></div>


<p><a name="1029484"> </a>To move records from one index to another or from one database to another, call <a href="../PalmOSReference/DataAndResourceManager.html#1010264"><code>DmMoveRecord</code></a>, <a href="../PalmOSReference/DataAndResourceManager.html#1008665"><code>DmAttachRecord</code></a>, and <a href="../PalmOSReference/DataAndResourceManager.html#1009348"><code>DmDetachRecord</code></a>. <code>DmDetachRecord</code> removes a record entry from the database header and returns the record handle. Given the handle of a new record, <code>DmAttachRecord</code> inserts or appends that new record to a database or replaces an existing record with the new record. <code>DmMoveRecord</code> is an optimized way to move a record from one index to another in the same database.</p>

<div><hr>
  <a name="1032362"> </a> <b>NOTE: </b> On Palm OS Cobalt, the PIM application databases are "schema" databases. For compatibility purposes, when accessing any of the PIM application databases on Palm OS Cobalt many Data Manager calls are intercepted by PACE in an attempt to make it appear that the PIM application databases are classic Palm databases. For a complete discussion of the issues and the solution employed by Palm OS Cobalt, see <a href="../PalmOSReference/CompatibilityApdx.html#1031310">"Accessing the PIM Application Databases."</a>
<hr>
</div>
<h3 class="hbH3">
  <a name="1032439"> </a>Automatic Database Backup and Restore <a href="#1029258"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1032440"> </a>Various versions of Palm OS can be configured by a licensee to back up the contents of the RAM storage heaps to some sort of non-volatile NAND flash.  In the event that the RAM storage heaps are corrupted or are lost for some reason, the storage heaps can then be restored to their saved state. This provides an additional level of data reliability beyond what's already provided by HotSync. Devices without backup batteries may take advantage of this backup and restore capability to prevent data loss between power on/off sessions.</p>

<p><a name="1032441"> </a>For security, the backup is performed to a private internal VFS volume that can only be accessed by the Data Manager, only for purposes of backup and restore.</p>

<p><a name="1032442"> </a>Backup is triggered on a limited set of events:</p>
<ul type="disc">
  <li><a name="1032443"> </a>Database close. Any time that a database is closed, the database is backed up to the non-volatile store. 
  <li><a name="1032444"> </a>Database create. Upon creation, the database is backed up. This takes care of installed databases that are never modified and thus not otherwise backed up. 
  <li><a name="1032448"> </a>A successful call to <a href="../PalmOSReference/DataAndResourceManager.html#1011529"><code>DmSetDatabaseInfo()</code></a>. Whenever a call to <code>DmSetDatabaseInfo()</code> succeeds, the database information is backed up to the non-volatile store. 
  <li><a name="1032449"> </a>Device sleep. Whenever the device goes to sleep as a result of the normal system sleep functionality, the Data Manager iterates through all open databases and backs them up to the non-volatile store. This takes care of those databases that are opened by an application and not closed until the application exits, and those databases that are opened by background threads that are running when the system goes to sleep.
  <li><a name="1032450"> </a>An explicit call to <a href="../PalmOSReference/DataAndResourceManager.html#1053148"><code>DmSyncDatabase()</code></a>. 
</ul>

<p><a name="1032454"> </a>Every time the device resets with an indication that the contents of RAM may have been lost, the backup volume is restored to RAM. Before restoring the backup contents, a consistency check is performed on the backup and an attempt is made to fix any inconsistencies. Databases are only restored under these circumstances; developers cannot trigger a database restore programmatically.  </p>

<p><a name="1032598"> </a>In order to determine whether or not a given device has this capability, check for the presence of the <code>sysFtrNumDmAutoBackup</code> feature.</p>
<h3 class="hbH3">
  <a name="1029495"> </a>Data Manager Tips <a href="#1029258"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1029496"> </a>Working properly with databases makes your application run faster and synchronize without problems. Follow these suggestions: </p>
<ul type="disc">
  <li><a name="1029497"> </a>Database names can be up to 31 characters in length, and on the handheld can be composed of any valid ASCII characters. Conduits&#8212;in particular, the backup conduit&#8212;impose additional limitations, however. The following characters are replaced with an underscore ("_") when the database is transferred to the desktop by the backup conduit:
   <p><a name="1029498"> </a><code>* + , . / : ; &lt; = &gt; ? [ ] | \ ^ "</code></p>
   <p><a name="1029499"> </a>As well, the backup conduit stores databases in case-insensitive format, so you should avoid filenames that depend on case for distinction.</p>
   <p><a name="1029500"> </a>By convention, filename extensions are not used on the handheld. Instead, database types are used to identify databases as members of a certain type or class. Note that when the backup conduit transfers a file to the desktop, it automatically appends a <code>.pdb</code> or <code>.prc</code> extension, as appropriate, to the database filename. This extension is removed when the file is transferred back to the handheld.</p>
  <li><a name="1029505"> </a>When the user deletes a record, call <a href="../PalmOSReference/DataAndResourceManager.html#1009291"><code>DmDeleteRecord</code></a> to remove all data from the record, not <a href="../PalmOSReference/DataAndResourceManager.html#1011116"><code>DmRemoveRecord</code></a> to remove the record itself. That way, the desktop application can retrieve the information that the record is deleted the next time there is a HotSync. 
   <p><a name="1029510"> </a><span style="color: #000000;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">Note</span>: If your application doesn't have an associated conduit, call <code>DmRemoveRecord</code> to completely remove the record.</p>
  <li><a name="1029512"> </a>Keep data in database records compact. To avoid performance problems, Palm OS databases are not compressed, but all data are tightly packed. This pays off for storage and during HotSync operations. 
  <li><a name="1029513"> </a>All records in a database should be of the same type and format. This is not a requirement, but is highly recommended to avoid processing overhead. 
  <li><a name="1029514"> </a>Be sure your application modifies the flags in the database header appropriately when the user deletes or otherwise modifies information. This flag modification is only required if you're synchronizing with the Palm PIM applications.
  <li><a name="1029516"> </a>Don't display deleted records. 
  <li><a name="1029521"> </a>Call <a href="../PalmOSReference/DataAndResourceManager.html#1011529"><code>DmSetDatabaseInfo</code></a> when creating a database to assign a version number to your application. Databases default to version 0 if the version isn't explicitly set. 
  <li><a name="1029526"> </a>Call <a href="../PalmOSReference/DataAndResourceManager.html#1008974"><code>DmDatabaseInfo</code></a> to check the database version at application start-up.
</ul>

<h2 class="haH2">
  <a name="1029528"> </a>The Resource Manager <a href="#1029258"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1029530"> </a>Applications can use the Resource Manager much like the Data Manager to retrieve and save chunks of data conveniently. The Resource Manager has the added capability of tagging each chunk of data with a unique resource type and resource ID. These tagged data chunks, called <b>resources</b>, are stored in resource databases. Resource databases are almost identical in structure to normal databases except for a slight amount of increased storage overhead per resource record (two extra bytes). In fact, the Resource Manager is nothing more than a subset of routines in the Data Manager that are broken out here for conceptual reasons only.</p>

<p><a name="1029534"> </a>Resources are typically used to store the user interface elements of an application, such as images, fonts, dialog layouts, and so forth. Part of building an application involves creating these resources and merging them with the actual executable code. In the Palm OS environment, an application is, in fact, simply a resource database with the executable code stored as one or more code resources and the graphics elements and other miscellaneous data stored in the same database as other resource types.</p>

<p><a name="1029535"> </a>Applications may also find the Resource Manager useful for storing and retrieving application preferences, saved window positions, state information, and so forth. These preferences settings can be stored in a separate resource database. </p>

<p><a name="1029536"> </a>This section explains how to work with the Resource Manager and discusses these topics: </p>
<ul type="disc">
  <li><a name="1029540"> </a><a href="FilesAndDatabases.html#1029550">Structure of a Resource Database Header</a>
  <li><a name="1029544"> </a><a href="FilesAndDatabases.html#1029562">Using the Resource Manager</a>
  <li><a name="1029548"> </a><a href="FilesAndDatabases.html#1029972">Resource Manager Functions</a>
</ul>
<h3 class="hbH3">
  <a name="1029550"> </a>Structure of a Resource Database Header <a href="#1029258"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1029552"> </a>A resource database header consists of some general database information followed by a list of resources in the database. The first portion of the header is identical in structure to a normal database header. Resource database headers are distinguished from normal database headers by the <code>dmHdrAttrResDB</code> bit in the <code>attributes</code> field. </p>

<div><hr>
  <a name="1029553"> </a> <b>IMPORTANT: </b> Expect the resource database header structure to change in the future. Use the API to work with resource database structures.
<hr>
</div>
<ul type="disc">
  <li><a name="1029554"> </a>The <code>name</code> field holds the name of the resource database. 
  <li><a name="1029555"> </a>The <code>attributes</code> field has flags for the database and always has the <code>dmHdrAttrResDB</code> bit set. 
  <li><a name="1029556"> </a>The <code>modificationNumber</code> is incremented every time a resource in the database is deleted, added, or modified. Thus, applications can quickly determine if a shared resource database has been modified by another process.
  <li><a name="1029557"> </a>The <code>appInfoID</code> and <code>sortInfoID</code> fields are not normally needed for a resource database but are included to match the structure of a regular database. An application may optionally use these fields for its own purposes. 
  <li><a name="1029558"> </a>The <code>type</code> and <code>creator</code> fields hold 4-byte signatures of the database <code>type</code> and <code>creator</code> as defined by the application that created the database.
  <li><a name="1029559"> </a>The <code>numResources</code> field holds the number of resource info entries that are stored in the header itself. In most cases, this is the total number of resources. If all the resource info entries cannot fit in the header, however, then <code>nextResourceList</code> has the <code>chunkID</code> of a <code>resourceList</code> that contains the next set of resource info entries.
</ul>

<p><a name="1029560"> </a>Each 10-byte resource info entry in the header has the resource type, the resource ID, and the local ID of the Memory Manager chunk that contains the resource data. </p>
<h3 class="hbH3">
  <a name="1029562"> </a>Using the Resource Manager <a href="#1029258"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1029564"> </a>You can create, delete, open, and close resource databases with the routines used to create normal record-based databases (see <a href="FilesAndDatabases.html#1029377">Using the Data Manager</a>). This includes all database-level (not record-level) routines in the Data Manager such as <a href="../PalmOSReference/DataAndResourceManager.html#1008861"><code>DmCreateDatabase</code></a>, <a href="../PalmOSReference/DataAndResourceManager.html#1009196"><code>DmDeleteDatabase</code></a>, <a href="../PalmOSReference/DataAndResourceManager.html#1008974"><code>DmDatabaseInfo</code></a>, and so on. </p>

<p><a name="1029583"> </a>When you create a new database using <a href="../PalmOSReference/DataAndResourceManager.html#1008861"><code>DmCreateDatabase</code></a>, the type of database created (record or resource) depends on the value of the <code>resDB</code> parameter. If set, a resource database is created and the <code>dmHdrAttrResDB</code> bit is set in the <code>attributes</code> field of the database header. Given a database header ID, an application can determine which type of database it is by calling <a href="../PalmOSReference/DataAndResourceManager.html#1008974"><code>DmDatabaseInfo</code></a> and examining the <code>dmHdrAttrResDB</code> bit in the returned <code>attributes</code> field.</p>

<p><a name="1029587"> </a>Once a resource database has been opened, an application can read and manipulate its resources by using the resource-based access routines of the Resource Manager. Generally, applications use the <a href="../PalmOSReference/DataAndResourceManager.html#1010054"><code>DmGetResource</code></a> and <a href="../PalmOSReference/DataAndResourceManager.html#1011087"><code>DmReleaseResource</code></a> routines.</p>

<p><a name="1029598"> </a><a href="../PalmOSReference/DataAndResourceManager.html#1010054"><code>DmGetResource</code></a> returns a handle to a resource, given the type and ID. This routine searches all open resource databases for a resource of the given type and ID, and returns a handle to it. The search starts with the most recently opened database. To search only the most recently opened resource database for a resource instead of all open resource databases, call <a href="../PalmOSReference/DataAndResourceManager.html#1010139"><code>DmGet1Resource</code></a>. </p>

<p><a name="1029605"> </a><a href="../PalmOSReference/DataAndResourceManager.html#1011087"><code>DmReleaseResource</code></a> should be called as soon as an application finishes reading or writing the resource data. To resize a resource, call <a href="../PalmOSReference/DataAndResourceManager.html#1011307"><code>DmResizeResource</code></a>, which accepts a handle to a resource and reallocates the resource in another heap of the same card if necessary. It returns the handle of the resource, which might have been changed if the resource had to be moved to another heap to be resized.</p>

<p><a name="1029609"> </a>The remaining Resource Manager routines are usually not required for most applications. These include functions to get and set resource attributes, move resources from one database to another, get resources by index, and create new resources. Most of these functions reference resources by index to optimize performance. When referencing a resource by index, the <code>DmOpenRef </code>of the open resource database that the resource belongs to must also be specified. Call <a href="../PalmOSReference/DataAndResourceManager.html#1011408"><code>DmSearchResource</code></a> to find a resource by type and ID or by pointer by searching in all open resource databases.</p>

<p><a name="1029613"> </a>To get the <code>DmOpenRef</code> of the topmost open resource database, call <a href="../PalmOSReference/DataAndResourceManager.html#1010445"><code>DmNextOpenResDatabase</code></a> and pass <code>NULL</code> as the current <code>DmOpenRef</code>. To find out the <code>DmOpenRef</code> of each successive database, call <code>DmNextOpenResDatabase</code> repeatedly with each successive <code>DmOpenRef</code>.</p>

<p><a name="1029617"> </a>Given the access pointer of a specific open resource database, <a href="../PalmOSReference/DataAndResourceManager.html#1009528"><code>DmFindResource</code></a> can be used to return the index of a resource, given its type and ID. <a href="../PalmOSReference/DataAndResourceManager.html#1009580"><code>DmFindResourceType</code></a> can be used to get the index of every resource of a given type. To get a resource handle by index, call <a href="../PalmOSReference/DataAndResourceManager.html#1010093"><code>DmGetResourceIndex</code></a>.</p>

<p><a name="1029627"> </a>To determine how many resources are in a given database, call <a href="../PalmOSReference/DataAndResourceManager.html#1010587"><code>DmNumResources</code></a>. To get and set attributes of a resource including its type and ID, call <a href="../PalmOSReference/DataAndResourceManager.html#1011331"><code>DmResourceInfo</code></a> and <a href="../PalmOSReference/DataAndResourceManager.html#1011668"><code>DmSetResourceInfo</code></a>. To attach an existing data chunk to a resource database as a new resource, call <a href="../PalmOSReference/DataAndResourceManager.html#1008739"><code>DmAttachResource</code></a>. To detach a resource from a database, call <a href="../PalmOSReference/DataAndResourceManager.html#1009409"><code>DmDetachResource</code></a>.</p>

<p><a name="1029648"> </a>To create a new resource, call <a href="../PalmOSReference/DataAndResourceManager.html#1010379"><code>DmNewResource</code></a> and pass the desired size, type, and ID of the new resource. To delete a resource, call <a href="../PalmOSReference/DataAndResourceManager.html#1011171"><code>DmRemoveResource</code></a>. Removing a resource disposes of its data chunk and removes its entry from the database header.</p>

<h2 class="haH2">
  <a name="1029653"> </a>File Streaming Application Program Interface <a href="#1029258"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1029654"> </a>The file streaming functions in Palm OS 3.0 and later let you work with large blocks of data. File streams can be arbitrarily large&#8212;they are not subject to the 64 KB maximum size limit imposed by the Memory Manager on allocated objects. File streams can be used for permanent data storage; in Palm OS 3.0, their underlying implementation is a Palm OS database. You can read, write, seek to a specified offset, truncate, and do everything else you'd expect to do with a desktop-style file. </p>

<p><a name="1029655"> </a>Other than backup/restore, Palm OS does not provide direct HotSync support for file streams, and none is planned at this time. </p>

<p><a name="1029656"> </a>The use of double-buffering imposes a performance penalty on file streams that may make them unsuitable for certain applications. Record-intensive applications tend to obtain better performance from the Data Manager.</p>
<h3 class="hbH3">
  <a name="1029657"> </a>Using the File Streaming API <a href="#1029258"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1029658"> </a>The File Streaming API is derived from the C programming language's <code>&lt;stdio.h&gt;</code> interface. Any C book that explains the <code>&lt;stdio.h&gt;</code> interface should serve as a suitable introduction to the concepts underlying the Palm OS File Streaming API. This section provides only a brief overview of the most commonly used file streaming functions. </p>

<p><a name="1029665"> </a>The <a href="../PalmOSReference/FileStreaming.html#1041911"><code>FileOpen</code></a> function opens a file, and the <a href="../PalmOSReference/FileStreaming.html#1041963"><code>FileRead</code></a> function reads it. The semantics of <a href="../PalmOSReference/FileStreaming.html#1041963"><code>FileRead</code></a> and <a href="../PalmOSReference/FileStreaming.html#1042173"><code>FileWrite</code></a> are just like their <code>&lt;stdio.h&gt;</code> equivalents, the <code>fread</code> and <code>fwrite</code> functions. The other <code>&lt;stdio.h&gt;</code> routines have obvious analogs in the File Streaming API as well.</p>

<p><a name="1029672"> </a>For example,</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
theStream =
FileOpen(cardId,"KillerAppDataFile",
            'KILR', 'KILD', fileModeReadOnly,
             &amp;err); <a name="1029673"> </a>
</pre><div class="CodeRule"><hr></div>


<p><a name="1029674"> </a>As on a desktop, the filename is the unique item. The creator ID and file type are for informational purposes and your code may require that an opened file have the correct type and creator.</p>

<p><a name="1029678"> </a>Normally, the <a href="../PalmOSReference/FileStreaming.html#1041911"><code>FileOpen</code></a> function returns an error when it attempts to open or replace an existing stream having a type and creator that do not match those specified. To suppress this error, pass the <code>fileModeAnyTypeCreator </code>selector as a flag in the <code>openMode</code> parameter to the <a href="../PalmOSReference/FileStreaming.html#1041911"><code>FileOpen</code></a> function. </p>

<p><a name="1029685"> </a>To read data, use the <a href="../PalmOSReference/FileStreaming.html#1041963"><code>FileRead</code></a> function as in the following example: </p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
FileRead(theStream, &amp;buf, objSize, numObjs,
         &amp;err); <a name="1029686"> </a>
</pre><div class="CodeRule"><hr></div>


<p><a name="1029687"> </a>To free the memory used to store stream data as the data is read, you can use the <a href="../PalmOSReference/FileStreaming.html#1041454"><code>FileControl</code></a> function to switch the stream to destructive read mode. This mode is useful for manipulating temporary data; for example, destructive read mode would be ideal for adding the objects in a large data stream to a database when sufficient memory for duplicating the entire file stream is not available. You can switch a stream to destructive read mode by passing the <code>fileOpDestructiveReadMode</code> selector as the value of the <code>op</code> parameter to the <a href="../PalmOSReference/FileStreaming.html#1041454"><code>FileControl</code></a> function. </p>

<p><a name="1029697"> </a>The <a href="../PalmOSReference/FileStreaming.html#1041713"><code>FileDmRead</code></a> function can read data directly into a Data Manager chunk for immediate addition to a Palm OS database.</p>

<h2 class="haH2">
  <a name="1029700"> </a>Summary of Files and Databases <a href="#1029258"><span class="nav">^TOP^</span></a>
</h2>



<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1029703"> </a><b><span style="color: #000000;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">Data Manager Functions</span></b></p>
    </th>
    <th><p class="tt"><a name="1029705"> </a><b></b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1029707"> </a><b>Creating Databases</b></p>
    </td>
    <td><p class="tt"><a name="1029709"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1029714"> </a><a href="../PalmOSReference/DataAndResourceManager.html#1008861">DmCreateDatabase</a></p>
    </td>
    <td><p class="tt"><a name="1029719"> </a><a href="../PalmOSReference/DataAndResourceManager.html#1008948">DmCreateDatabaseFromImage</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><p class="tt"><a name="1029721"> </a><b>Opening and Closing Databases</b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1029728"> </a><a href="../PalmOSReference/DataAndResourceManager.html#1010606">DmOpenDatabase</a><br><a href="../PalmOSReference/DataAndResourceManager.html#1009055">DmDatabaseProtect</a></p>
    </td>
    <td><p class="tt"><a name="1029736"> </a><a href="../PalmOSReference/DataAndResourceManager.html#1008802">DmCloseDatabase</a><br><a href="../PalmOSReference/DataAndResourceManager.html#1010696">DmOpenDatabaseByTypeCreator</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1029741"> </a><b>Creating Records</b></p>
    </td>
    <td><p class="tt"><a name="1029743"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1029748"> </a><a href="../PalmOSReference/DataAndResourceManager.html#1010311">DmNewHandle</a></p>
    </td>
    <td><p class="tt"><a name="1029753"> </a><a href="../PalmOSReference/DataAndResourceManager.html#1010335">DmNewRecord</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><p class="tt"><a name="1029755"> </a><b>Accessing Records</b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1029762"> </a><a href="../PalmOSReference/DataAndResourceManager.html#1010008">DmGetRecord</a><br><a href="../PalmOSReference/DataAndResourceManager.html#1009493">DmFindRecordByID</a></p>
    </td>
    <td><p class="tt"><a name="1029770"> </a><a href="../PalmOSReference/DataAndResourceManager.html#1010935">DmQueryRecord</a><br><a href="../PalmOSReference/DataAndResourceManager.html#1011378">DmSearchRecord</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1029775"> </a><b>Adding Records</b></p>
    </td>
    <td><p class="tt"><a name="1029777"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1029782"> </a><a href="../PalmOSReference/DataAndResourceManager.html#1008665">DmAttachRecord</a></p>
    </td>
    <td><p class="tt"><a name="1029784"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1029786"> </a><b>Unlocking Records</b></p>
    </td>
    <td><p class="tt"><a name="1029788"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1029793"> </a><a href="../PalmOSReference/DataAndResourceManager.html#1011051">DmReleaseRecord</a></p>
    </td>
    <td><p class="tt"><a name="1029795"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1029797"> </a><b>Changing Records</b></p>
    </td>
    <td><p class="tt"><a name="1029799"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1029804"> </a><a href="../PalmOSReference/DataAndResourceManager.html#1010264">DmMoveRecord</a><br><a href="../PalmOSReference/DataAndResourceManager.html#1011500">DmSet</a><br><a href="../PalmOSReference/DataAndResourceManager.html#1052867">DmWrite</a></p>
    </td>
    <td><p class="tt"><a name="1029815"> </a><a href="../PalmOSReference/DataAndResourceManager.html#1011281">DmResizeRecord</a><br><a href="../PalmOSReference/DataAndResourceManager.html#1011701">DmStrCopy</a><br><a href="../PalmOSReference/DataAndResourceManager.html#1011763">DmWriteCheck</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1029823"> </a><b>Deleting Records</b></p>
    </td>
    <td><p class="tt"><a name="1029825"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1029830"> </a><a href="../PalmOSReference/DataAndResourceManager.html#1008608">DmArchiveRecord</a><br><a href="../PalmOSReference/DataAndResourceManager.html#1009291">DmDeleteRecord</a><br><a href="../PalmOSReference/DataAndResourceManager.html#1011116">DmRemoveRecord</a></p>
    </td>
    <td><p class="tt"><a name="1029841"> </a><a href="../PalmOSReference/DataAndResourceManager.html#1009196">DmDeleteDatabase</a><br><a href="../PalmOSReference/DataAndResourceManager.html#1009348">DmDetachRecord</a><br><a href="../PalmOSReference/DataAndResourceManager.html#1011227">DmRemoveSecretRecords</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1029849"> </a><b>Sorting</b></p>
    </td>
    <td><p class="tt"><a name="1029851"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1029856"> </a><a href="../PalmOSReference/DataAndResourceManager.html#1010176">DmInsertionSort</a><br><a href="../PalmOSReference/DataAndResourceManager.html#1009628">DmFindSortPosition</a></p>
    </td>
    <td><p class="tt"><a name="1029864"> </a><a href="../PalmOSReference/DataAndResourceManager.html#1009676">DmFindSortPositionV10</a><br><a href="../PalmOSReference/DataAndResourceManager.html#1010961">DmQuickSort</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1029869"> </a><b>Categories</b></p>
    </td>
    <td><p class="tt"><a name="1029871"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1029876"> </a><a href="../PalmOSReference/DataAndResourceManager.html#1010217">DmMoveCategory</a><br><a href="../PalmOSReference/DataAndResourceManager.html#1009150">DmDeleteCategory</a><br><a href="../PalmOSReference/DataAndResourceManager.html#1010883">DmQueryNextInCategory</a></p>
    </td>
    <td><p class="tt"><a name="1029887"> </a><a href="../PalmOSReference/DataAndResourceManager.html#1010539">DmNumRecordsInCategory</a><br><a href="../PalmOSReference/DataAndResourceManager.html#1010840">DmPositionInCategory</a><br><a href="../PalmOSReference/DataAndResourceManager.html#1011450">DmSeekRecordInCategory</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1029895"> </a><b>Locating Databases</b></p>
    </td>
    <td><p class="tt"><a name="1029897"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1029902"> </a><a href="../PalmOSReference/DataAndResourceManager.html#1009460">DmFindDatabase</a><br><a href="../PalmOSReference/DataAndResourceManager.html#1009742">DmGetDatabase</a><br><a href="../PalmOSReference/DataAndResourceManager.html#1010419">DmNextOpenDatabase</a></p>
    </td>
    <td><p class="tt"><a name="1029913"> </a><a href="../PalmOSReference/DataAndResourceManager.html#1009928">DmGetNextDatabaseByTypeCreator</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1029915"> </a><b>Database Information</b></p>
    </td>
    <td><p class="tt"><a name="1029917"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1029922"> </a><a href="../PalmOSReference/DataAndResourceManager.html#1008974">DmDatabaseInfo</a><br><a href="../PalmOSReference/DataAndResourceManager.html#1011009">DmRecordInfo</a><br><a href="../PalmOSReference/DataAndResourceManager.html#1010749">DmOpenDatabaseInfo</a><br><a href="../PalmOSReference/DataAndResourceManager.html#1010477">DmNumDatabases</a></p>
    </td>
    <td><p class="tt"><a name="1029936"> </a><a href="../PalmOSReference/DataAndResourceManager.html#1011529">DmSetDatabaseInfo</a><br><a href="../PalmOSReference/DataAndResourceManager.html#1011610">DmSetRecordInfo</a><br><a href="../PalmOSReference/DataAndResourceManager.html#1009109">DmDatabaseSize</a><br><a href="../PalmOSReference/DataAndResourceManager.html#1010506">DmNumRecords</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1029947"> </a><b>Application Information</b></p>
    </td>
    <td><p class="tt"><a name="1029949"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1029954"> </a><a href="../PalmOSReference/DataAndResourceManager.html#1009718">DmGetAppInfoID</a></p>
    </td>
    <td><p class="tt"><a name="1029956"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1029958"> </a><b>Error Handling</b></p>
    </td>
    <td><p class="tt"><a name="1029960"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1029965"> </a><a href="../PalmOSReference/DataAndResourceManager.html#1009808">DmGetLastErr</a></p>
    </td>
    <td><p class="tt"><a name="1029967"> </a></p>
    </td>
  </tr>
</table>

</div>



<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1029972"> </a><b>Resource Manager Functions</b></p>
    </th>
    <th><p class="tt"><a name="1029974"> </a><b></b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1029979"> </a><a href="../PalmOSReference/DataAndResourceManager.html#1010783">DmOpenDBNoOverlay</a><br><a href="../PalmOSReference/DataAndResourceManager.html#1010379">DmNewResource</a><br><a href="../PalmOSReference/DataAndResourceManager.html#1011087">DmReleaseResource</a><br><a href="../PalmOSReference/DataAndResourceManager.html#1009409">DmDetachResource</a><br><a href="../PalmOSReference/DataAndResourceManager.html#1011408">DmSearchResource</a><br><a href="../PalmOSReference/DataAndResourceManager.html#1009580">DmFindResourceType</a><br><a href="../PalmOSReference/DataAndResourceManager.html#1010054">DmGetResource</a><br><a href="../PalmOSReference/DataAndResourceManager.html#1010587">DmNumResources</a><br><a href="../PalmOSReference/DataAndResourceManager.html#1011331">DmResourceInfo</a></p>
    </td>
    <td><p class="tt"><a name="1030008"> </a><a href="../PalmOSReference/DataAndResourceManager.html#1008739">DmAttachResource</a><br><a href="../PalmOSReference/DataAndResourceManager.html#1011171">DmRemoveResource</a><br><a href="../PalmOSReference/DataAndResourceManager.html#1010093">DmGetResourceIndex</a><br><a href="../PalmOSReference/DataAndResourceManager.html#1009528">DmFindResource</a><br><a href="../PalmOSReference/DataAndResourceManager.html#1010139">DmGet1Resource</a><br><a href="../PalmOSReference/DataAndResourceManager.html#1010445">DmNextOpenResDatabase</a><br><a href="../PalmOSReference/DataAndResourceManager.html#1011307">DmResizeResource</a><br><a href="../PalmOSReference/DataAndResourceManager.html#1011668">DmSetResourceInfo</a></p>
    </td>
  </tr>
</table>

</div>



<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th colspan="2" rowspan="1"><p class="tt"><a name="1030034"> </a><b>File Streaming Function Summary</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1030038"> </a><b>Opening and Closing</b></p>
    </td>
    <td><p class="tt"><a name="1030040"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1030045"> </a><a href="../PalmOSReference/FileStreaming.html#1041911">FileOpen</a><br><a href="../PalmOSReference/FileStreaming.html#1042060">FileSeek</a></p>
    </td>
    <td><p class="tt"><a name="1030053"> </a><a href="../PalmOSReference/FileStreaming.html#1041431">FileClose</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1030055"> </a><b>Reading Files</b></p>
    </td>
    <td><p class="tt"><a name="1030057"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1030062"> </a><a href="../PalmOSReference/FileStreaming.html#1041963">FileRead</a><br><a href="../PalmOSReference/FileStreaming.html#1042017">FileRewind</a></p>
    </td>
    <td><p class="tt"><a name="1030070"> </a><a href="../PalmOSReference/FileStreaming.html#1041713">FileDmRead</a><br><a href="../PalmOSReference/FileStreaming.html#1041454">FileControl</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1030075"> </a><b>Writing to Files</b></p>
    </td>
    <td><p class="tt"><a name="1030077"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1030082"> </a><a href="../PalmOSReference/FileStreaming.html#1042173">FileWrite</a></p>
    </td>
    <td><p class="tt"><a name="1030087"> </a><a href="../PalmOSReference/FileStreaming.html#1042143">FileTruncate</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1030089"> </a><b>File Information</b></p>
    </td>
    <td><p class="tt"><a name="1030091"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1030096"> </a><a href="../PalmOSReference/FileStreaming.html#1041768">FileEOF</a></p>
    </td>
    <td><p class="tt"><a name="1030101"> </a><a href="../PalmOSReference/FileStreaming.html#1042105">FileTell</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1030103"> </a><b>Deleting Files</b></p>
    </td>
    <td><p class="tt"><a name="1030105"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1030110"> </a><a href="../PalmOSReference/FileStreaming.html#1041683">FileDelete</a></p>
    </td>
    <td><p class="tt"><a name="1030115"> </a><a href="../PalmOSReference/FileStreaming.html#1041848">FileFlush</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1030117"> </a><b>Error Handling</b></p>
    </td>
    <td><p class="tt"><a name="1030119"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1030124"> </a><a href="../PalmOSReference/FileStreaming.html#1041808">FileError</a><br><a href="../PalmOSReference/FileStreaming.html#1041400">FileClearerr</a></p>
    </td>
    <td><p class="tt"><a name="1030132"> </a><a href="../PalmOSReference/FileStreaming.html#1041874">FileGetLastError</a><br></p>
    </td>
  </tr>
</table>

</div>


<p><a name="1030135"> </a></p>
&nbsp;<br>
</div>
<!--END CONTENT-->

</td>
<td width="5">&nbsp;&nbsp;</td>
</tr>

</table>

<!-- BEGIN FOOTER -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="7" rowspan="2"><img name="index_x" src="images/shim.gif" width="7" height="33" border="0" alt=""></td>
<td align="left"><img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
<td width="10" rowspan="2"><img name="index_x" src="images/shim.gif" width="10" height="33" border="0" alt=""></td>
</tr>
<tr>
<td align="center">
<p class="footer">
Copyright © 1996-2004, PalmSource, Inc. and its affiliates.  All rights reserved. <br>
<a href="http://www.palmsource.com/contact/">Write Us</a> | <a href="http://www.palmos.com/dev/training/">Training</a> | <a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a> | <a href="Companion_Front.html" target="_blank">Legal</a></p>
<br>
<!--BEGIN BOOK NAVIGATION-->
<p class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="CompanionTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="Memory.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ExpAndVFSConcepts.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="CompanionIX.html">Index</a>
</p>
</td>
</tr>
</table>
<!-- END FOOTER -->

</body>
</html>