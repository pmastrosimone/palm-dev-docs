<html>
<head>
<title>(68K) User Interface | Palm OS&#174; Programmer's Companion</title> 
<link href="psi_devpubs.css" rel="stylesheet" type="text/css">

<!-- BEGIN META DATA -->
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META NAME="PSITEMPLATE" CONTENT="1006-007 PalmSource_HTML_2003 20041101">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks AutoMap 2003 for FrameMaker 8.0.6.2138">
<META NAME="LASTUPDATED" CONTENT="11/22/04 10:43:08">
<!-- END META DATA -->
</head>

<body bgcolor="#ffffff" text="#000000" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<a name="1007614"></a>

<!-- BEGIN TOPNAV -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td><img src="images/shim.gif" width="7" height="75" border="0" alt=""></td>
<td align="left"><table border="0" cellpadding="0" cellspacing="0" width="744">
<tr>
<td><img name="index_r2_c1" src="images/shim.gif" width="25" height="75" border="0" alt=""></td>
<td valign="top"><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_r2_c4" src="images/shim.gif" width="96" height="15" border="0" alt=""></td>
</tr>
<tr>
<td><a href="http://www.palmsource.com/"><img name="ps_logo" src="images/ps_logo.gif" width="96" height="54" border="0" alt=""></a></td>
</tr>

</table>
</td>

<td><table border="0" cellpadding="0" cellspacing="0" width="30">
<td><img name="index_x" src="images/shim.gif" width="30" height="75" border="0" alt=""></td>
</table></td>

<!--BEGIN MASTHEAD-->
<td><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
<tr>
<td>
<!--BEGIN BOOK NAVIGATION-->
<span class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="CompanionTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="EventLoop.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="Memory.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="CompanionIX.html">Index</a>
</span>
<!--END BOOK NAVIGATION-->
</tr>
<tr>
<td>
<!--BEGIN PAGE TITLE-->
<h2 class="PageTitle">4 &nbsp;&nbsp;
User Interface</h2></td>
<!--END PAGE TITLE-->
</tr>
<tr>
<td>
<!--BEGIN BOOK TITLE-->
<p class="BookTitle">Palm OS&#174; Programmer's Companion</p>
<p class="SubTitle">Volume I </p>
<!--END BOOK TITLE-->
</td>
</tr>
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
</table>
</td>
<!--END MASTHEAD-->
</tr>
</table>
<img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
</tr>
</table>
<!-- END TOPNAV -->

<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" width="5"><img name="index_x" src="images/shim.gif" width="5" height="33" border="0" alt=""></td>

<!--BEGIN SIDETOC-->
<td valign="top" width="175">
<div id="sidetoc" valign="bottom">
<h1 class="SideTOC1"><a href="UserInterface.html">4  User Interface</a></h1>

   <h2 class="SideTOC2"><a href="#1007730">
   Palm OS Resource Summary</a></h2>

   <h2 class="SideTOC2"><a href="#1007970">
   Drawing on the Palm Powered Handheld</a></h2>

      <h3 class="SideTOC3"><a href="#1008020">
      The Draw State</a></h3>

      <h3 class="SideTOC3"><a href="#1008039">
      Drawing Functions</a></h3>

      <h3 class="SideTOC3"><a href="#1008086">
      High-Density Displays</a></h3>

   <h2 class="SideTOC2"><a href="#1008320">
   Forms, Windows, and Dialogs</a></h2>

      <h3 class="SideTOC3"><a href="#1008370">
      Alert Dialogs</a></h3>

      <h3 class="SideTOC3"><a href="#1008406">
      Progress Dialogs</a></h3>

      <h3 class="SideTOC3"><a href="#1008453">
      The Keyboard Dialog</a></h3>

      <h3 class="SideTOC3"><a href="#1008572">
      Offscreen Windows</a></h3>

   <h2 class="SideTOC2"><a href="#1008599">
   Controls</a></h2>

      <h3 class="SideTOC3"><a href="#1008607">
      Buttons</a></h3>

      <h3 class="SideTOC3"><a href="#1008690">
      Pop-Up Trigger</a></h3>

      <h3 class="SideTOC3"><a href="#1008794">
      Selector Trigger</a></h3>

      <h3 class="SideTOC3"><a href="#1008877">
      Repeating Button</a></h3>

      <h3 class="SideTOC3"><a href="#1008963">
      Push Buttons</a></h3>

      <h3 class="SideTOC3"><a href="#1009033">
      Check Boxes</a></h3>

      <h3 class="SideTOC3"><a href="#1009117">
      Sliders and Feedback Sliders</a></h3>

   <h2 class="SideTOC2"><a href="#1009337">
   Fields</a></h2>

   <h2 class="SideTOC2"><a href="#1009521">
   Menus</a></h2>

      <h3 class="SideTOC3"><a href="#1009635">
      Checking Menu Visibility</a></h3>

      <h3 class="SideTOC3"><a href="#1009664">
      Dynamic Menus</a></h3>

      <h3 class="SideTOC3"><a href="#1009694">
      Menu Shortcuts</a></h3>

   <h2 class="SideTOC2"><a href="#1009810">
   Tables</a></h2>

      <h3 class="SideTOC3"><a href="#1009822">
      Table Event</a></h3>

   <h2 class="SideTOC2"><a href="#1009837">
   Lists</a></h2>

      <h3 class="SideTOC3"><a href="#1009958">
      Using Lists in Place of Tables</a></h3>

   <h2 class="SideTOC2"><a href="#1010013">
   Categories</a></h2>

      <h3 class="SideTOC3"><a href="#1010050">
      Initializing Categories in a Database</a></h3>

      <h3 class="SideTOC3"><a href="#1010137">
      Initializing the Category Pop-up Trigger</a></h3>

      <h3 class="SideTOC3"><a href="#1010178">
      Managing a Category Pop-up List </a></h3>

   <h2 class="SideTOC2"><a href="#1010236">
   Bitmaps</a></h2>

      <h3 class="SideTOC3"><a href="#1010246">
      Versions of Bitmap Support</a></h3>

      <h3 class="SideTOC3"><a href="#1010332">
      Bitmap Families</a></h3>

      <h3 class="SideTOC3"><a href="#1010544">
      Drawing a Bitmap</a></h3>

      <h3 class="SideTOC3"><a href="#1010584">
      Color Tables and Bitmaps</a></h3>

   <h2 class="SideTOC2"><a href="#1010592">
   Labels</a></h2>

   <h2 class="SideTOC2"><a href="#1010606">
   Scroll Bars</a></h2>

   <h2 class="SideTOC2"><a href="#1010684">
   Custom UI Objects (Gadgets)</a></h2>

   <h2 class="SideTOC2"><a href="#1010795">
   Dynamic UI</a></h2>

      <h3 class="SideTOC3"><a href="#1010845">
      Dynamic User Interface Functions</a></h3>

   <h2 class="SideTOC2"><a href="#1010899">
   Color and Grayscale Support</a></h2>

      <h3 class="SideTOC3"><a href="#1010909">
      Indexed Versus Direct Color Display</a></h3>

      <h3 class="SideTOC3"><a href="#1010915">
      Color Table</a></h3>

      <h3 class="SideTOC3"><a href="#1010950">
      UI Color List</a></h3>

      <h3 class="SideTOC3"><a href="#1011040">
      Direct Color Functions</a></h3>

      <h3 class="SideTOC3"><a href="#1011077">
      Pixel Reading and Writing</a></h3>

      <h3 class="SideTOC3"><a href="#1011139">
      Direct Color Bitmaps</a></h3>

   <h2 class="SideTOC2"><a href="#1011185">
   Insertion Point</a></h2>

   <h2 class="SideTOC2"><a href="#1011190">
   Application Launcher </a></h2>

      <h3 class="SideTOC3"><a href="#1011193">
      Icons in the Launcher</a></h3>

      <h3 class="SideTOC3"><a href="#1011208">
      Application Version String</a></h3>

      <h3 class="SideTOC3"><a href="#1011213">
      The Default Application Category</a></h3>

      <h3 class="SideTOC3"><a href="#1011260">
      Opening the Launcher Programmatically</a></h3>

   <h2 class="SideTOC2"><a href="#1011301">
   Summary of User Interface API</a></h2>

</div>
</td>

<td width="5">&nbsp;&nbsp;</td>
<td width="2" background="images/index_r8_c10.gif"><img src="images/shim.gif" width="2" height="75" border="0" alt=""></td>
<td width="5">&nbsp;&nbsp;</td>

<!--END SIDETOC-->

<td valign="top">

<!--BEGIN CONTENT-->
<div id="content" valign="bottom">
<p><a name="1007656"> </a>This chapter describes the user interface (UI) elements that you can use in your application. To create a user interface element, you create a resource that defines what that element looks like and where it is displayed. You interact with the element programmatically as a UI object. A Palm OS<sup>&#174;</sup> UI object is a C structure that is linked with one or more items on the screen. Note that Palm UI objects are just structures, not the more elaborate objects found in some systems. This is useful because in general a C structure is more compact than these other objects.</p>

<p><a name="1007657"> </a>This chapter introduces each of the user interface objects. It also describes Palm system managers that aid in working with the user interface. The chapter covers:</p>
<ul type="disc">
  <li><a name="1007661"> </a><a href="UserInterface.html#1007730">Palm OS Resource Summary</a>
  <li><a name="1007665"> </a><a href="UserInterface.html#1007970">Drawing on the Palm Powered Handheld</a>
  <li><a name="1007669"> </a><a href="UserInterface.html#1008320">Forms, Windows, and Dialogs</a>
  <li><a name="1007673"> </a><a href="UserInterface.html#1008599">Controls</a>
  <li><a name="1007677"> </a><a href="UserInterface.html#1009337">Fields</a>
  <li><a name="1007681"> </a><a href="UserInterface.html#1009521">Menus</a>
  <li><a name="1007685"> </a><a href="UserInterface.html#1009810">Tables</a>
  <li><a name="1007689"> </a><a href="UserInterface.html#1009837">Lists</a>
  <li><a name="1007693"> </a><a href="UserInterface.html#1010013">Categories</a>
  <li><a name="1007697"> </a><a href="UserInterface.html#1010236">Bitmaps</a>
  <li><a name="1007701"> </a><a href="UserInterface.html#1010592">Labels</a>
  <li><a name="1007705"> </a><a href="UserInterface.html#1010606">Scroll Bars</a>
  <li><a name="1007709"> </a><a href="UserInterface.html#1010684">Custom UI Objects (Gadgets)</a>
  <li><a name="1007713"> </a><a href="UserInterface.html#1010795">Dynamic UI</a>
  <li><a name="1007717"> </a><a href="UserInterface.html#1010899">Color and Grayscale Support</a>
  <li><a name="1007721"> </a><a href="UserInterface.html#1011185">Insertion Point</a>
  <li><a name="1007725"> </a><a href="UserInterface.html#1011190">Application Launcher</a>
</ul>

<p><a name="1007726"> </a>For guidelines on designing a user interface, see the book <i>Palm OS User Interface Guidelines</i>.</p>

<div><hr>
  <a name="1007727"> </a> <b>TIP: </b> The Palm OS web site contains recipes for writing code to work with the various user interface objects. See the following URL: <a href=" http://www.palmos.com/dev/support/docs/recipes">http://www.palmos.com/dev/support/docs/recipes</a> 
<hr>
</div>

<h2 class="haH2">
  <a name="1007730"> </a>Palm OS Resource Summary <a href="#1007614"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1007731"> </a>The Palm OS development environment provides a set of resource templates that application developers use to implement the buttons, dialogs, and other UI elements. <a href="UserInterface.html#1007744">Table 4.1</a> maps user interface elements to resources. The ResEdit name is included for developers using that tool. It is not relevant for users of Constructor for Palm OS.</p>

<p><a name="1007735"> </a>All resources are discussed in detail in the book <i>Palm OS User Interface Guidelines</i>. In addition, specific design recommendations are provided for some of the elements. </p>



<p class="caption"><a name="1007744"> </a><b>Table 4.1&nbsp;&nbsp;UI resource summary </b></p>
<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1007750"> </a><b>UI Element and Functionality</b></p>
    </th>
    <th><p class="tt"><a name="1007752"> </a><b>Example</b></p>
    </th>
    <th><p class="tt"><a name="1007754"> </a><b>Resource(s)</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007756"> </a>Alert&#8212;</p>
<p class="tt"><a name="1007757"> </a>Display a warning, error, or confirmation message</p>
    </td>
    <td><p class="tt"><a name="1007762"> </a><div align="left"><img src="images/alert.gif" border="0" hspace="0" vspace="0">
</div></p>
    </td>
    <td><p class="tt"><a name="1007764"> </a>Alert (Talt)</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007766"> </a>Application icon&#8212;</p>
<p class="tt"><a name="1007767"> </a>Icon to display in Launcher</p>
    </td>
    <td><p class="tt"><a name="1007772"> </a><img src="images/Icon.gif" border="0" hspace="0" vspace="0">
</p>
    </td>
    <td><p class="tt"><a name="1007774"> </a>Application icon (tAIB)</p>
<p class="tt"><a name="1007775"> </a>Application icon family (taif)</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007777"> </a>Bitmap&#8212;</p>
<p class="tt"><a name="1007778"> </a>Display a bitmap</p>
    </td>
    <td><p class="tt"><a name="1007783"> </a><img src="images/FormBitmap.gif" border="0" hspace="0" vspace="0">
</p>
    </td>
    <td><p class="tt"><a name="1007785"> </a>Form bitmap (tFBM)</p>
<p class="tt"><a name="1007786"> </a>Bitmap (Tbmp)</p>
<p class="tt"><a name="1007787"> </a>Bitmap family (tbmf)</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007789"> </a>Command button&#8212;</p>
<p class="tt"><a name="1007790"> </a>Execute command</p>
    </td>
    <td><p class="tt"><a name="1007795"> </a><img src="images/CmdButton.gif" border="0" hspace="0" vspace="0">
</p>
    </td>
    <td><p class="tt"><a name="1007798"> </a>Button (tBTN)</p>
<p class="tt"><a name="1007799"> </a>Graphic button (tgbn)</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007801"> </a>Check box&#8212;</p>
<p class="tt"><a name="1007802"> </a>Toggle on or off</p>
    </td>
    <td><p class="tt"><a name="1007807"> </a><img src="images/checkbox.gif" border="0" hspace="0" vspace="0">
</p>
    </td>
    <td><p class="tt"><a name="1007810"> </a>Checkbox (tCBX)</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007812"> </a>Form&#8212;</p>
<p class="tt"><a name="1007813"> </a>Window that displays other UI objects</p>
    </td>
    <td><p class="tt"><a name="1007818"> </a><div align="left"><img src="images/FormAddressMain.gif" border="0" hspace="0" vspace="0">
</div></p>
    </td>
    <td><p class="tt"><a name="1007820"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007822"> </a>Gadget&#8212;</p>
<p class="tt"><a name="1007823"> </a>Custom control</p>
    </td>
    <td><p class="tt"><a name="1007828"> </a><div align="left"><img src="images/Gadget.gif" border="0" hspace="0" vspace="0">
</div></p>
    </td>
    <td><p class="tt"><a name="1007830"> </a>Gadget (tGDT)</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007832"> </a>Shift Indicator&#8212;</p>
<p class="tt"><a name="1007833"> </a>Display shift status</p>
    </td>
    <td><p class="tt"><a name="1007838"> </a> <div align="left"><img src="images/GSI.gif" border="0" hspace="0" vspace="0">
</div></p>
    </td>
    <td><p class="tt"><a name="1007840"> </a>Shift Indicator (tGSI)</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007842"> </a>Label&#8212;</p>
<p class="tt"><a name="1007843"> </a>Display noneditable text</p>
    </td>
    <td><p class="tt"><a name="1007848"> </a><img src="images/Label.gif" border="0" hspace="0" vspace="0">
</p>
    </td>
    <td><p class="tt"><a name="1007850"> </a>Label (tLBL)</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007852"> </a>List&#8212;</p>
<p class="tt"><a name="1007853"> </a>Display a series of items</p>
    </td>
    <td><p class="tt"><a name="1033995"> </a><div align="left"><img src="images/List.gif" border="0" hspace="0" vspace="0">
</div></p>
    </td>
    <td><p class="tt"><a name="1007860"> </a>List (tLST)</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007862"> </a>Menu&#8212;</p>
<p class="tt"><a name="1007863"> </a>Execute commands </p>
    </td>
    <td><p class="tt"><a name="1007868"> </a><div align="left"><img src="images/MenuBar.gif" border="0" hspace="0" vspace="0">
</div></p>
    </td>
    <td><p class="tt"><a name="1007871"> </a>Menu Bar (MBAR)</p>
<p class="tt"><a name="1007873"> </a>Menu (MENU)</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007875"> </a>Pop-up list&#8212;</p>
<p class="tt"><a name="1007876"> </a>Choose a setting from a list </p>
    </td>
    <td><p class="tt"><a name="1007882"> </a><div align="left"><img src="images/listsmallnomenu2.gif" border="0" hspace="0" vspace="0">
</div></p>
    </td>
    <td><p class="tt"><a name="1007885"> </a>Pop-up trigger (tPUT)</p>
<p class="tt"><a name="1007887"> </a>Pop-up list (tPUL)</p>
<p class="tt"><a name="1007889"> </a>List (tLST)</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007891"> </a>Push button&#8212;</p>
<p class="tt"><a name="1007892"> </a>Select a value</p>
    </td>
    <td><p class="tt"><a name="1007897"> </a><div align="left"><img src="images/PushButtons2.gif" border="0" hspace="0" vspace="0">
</div></p>
    </td>
    <td><p class="tt"><a name="1007900"> </a>Push button (tPBN)</p>
<p class="tt"><a name="1007901"> </a>Graphic push button (tgpb)</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007903"> </a>Repeating button &#8212;</p>
<p class="tt"><a name="1007904"> </a>Increment/decrement values or scroll</p>
    </td>
    <td><p class="tt"><a name="1007909"> </a><div align="left"><img src="images/RepeatButton.gif" border="0" hspace="0" vspace="0">
</div></p>
    </td>
    <td><p class="tt"><a name="1007912"> </a>Repeating button (tREP)</p>
<p class="tt"><a name="1007913"> </a>Graphic repeating button (tgrb)</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007915"> </a>Scroll bar&#8212;</p>
<p class="tt"><a name="1007916"> </a>Scroll fields or tables</p>
    </td>
    <td><p class="tt"><a name="1007921"> </a><div align="left"><img src="images/Scrollbar2.gif" border="0" hspace="0" vspace="0">
</div></p>
    </td>
    <td><p class="tt"><a name="1007923"> </a>Scroll bar (tSCL)</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007925"> </a>Selector trigger &#8212;</p>
<p class="tt"><a name="1007926"> </a>Invoke dialog that changes text of the control</p>
    </td>
    <td><p class="tt"><a name="1007931"> </a><div align="left"><img src="images/selector.gif" border="0" hspace="0" vspace="0">
</div></p>
<p class="tt"><a name="1007932"> </a></p>
    </td>
    <td><p class="tt"><a name="1007935"> </a>Selector trigger (tSLT)</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007937"> </a>Slider&#8212;</p>
<p class="tt"><a name="1007938"> </a>Adjust a setting</p>
    </td>
    <td><p class="tt"><a name="1007943"> </a><div align="left"><img src="images/Slider.gif" border="0" hspace="0" vspace="0">
</div></p>
    </td>
    <td><p class="tt"><a name="1007945"> </a>Slider (tsld)</p>
<p class="tt"><a name="1007946"> </a>Feedback slider (tslf)</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007948"> </a>Table&#8212;</p>
<p class="tt"><a name="1007949"> </a>Display columns of data</p>
    </td>
    <td><p class="tt"><a name="1007954"> </a><div align="left"><img src="images/Table.gif" border="0" hspace="0" vspace="0">
</div></p>
    </td>
    <td><p class="tt"><a name="1007956"> </a>Table (tTBL)</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007958"> </a>Text field&#8212;</p>
<p class="tt"><a name="1007959"> </a>Display text (single or multiple lines)</p>
    </td>
    <td><p class="tt"><a name="1007964"> </a><div align="left"><img src="images/Field2.gif" border="0" hspace="0" vspace="0">
</div></p>
    </td>
    <td><p class="tt"><a name="1007967"> </a>Field (tFLD)</p>
    </td>
  </tr>
</table>

</div>


<h2 class="haH2">
  <a name="1007970"> </a>Drawing on the Palm Powered Handheld <a href="#1007614"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1007972"> </a>The first Palm Powered<sup>&#8482;</sup> handhelds had an LCD screen of 160x160 pixels. Since then, handhelds with screens resolutions of 320x320 and 320x240 pixels have been introduced. The built-in LCD controller maps a portion of system memory to the LCD. The capabilities of the controller depend on the particular handheld, but be aware that hardware may still limit the actual displayable depths. Given that, <a href="UserInterface.html#1007982">Table 4.2</a> lists the screen bit depths that the Palm OS supports.</p>

<p class="caption"><a name="1007982"> </a><b>Table 4.2&nbsp;&nbsp;Supported bit depths </b></p>
<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1007986"> </a><b>Palm OS Version </b></p>
    </th>
    <th><p class="tt"><a name="1007988"> </a><b>Supported Resolutions</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007990"> </a>1.0</p>
    </td>
    <td><p class="tt"><a name="1007992"> </a>1 bit/pixel</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007994"> </a>2.0</p>
    </td>
    <td><p class="tt"><a name="1007996"> </a>1 bit/pixel</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007998"> </a>3.0</p>
    </td>
    <td><p class="tt"><a name="1008000"> </a>1 or 2 bits/pixel</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008002"> </a>3.3</p>
    </td>
    <td><p class="tt"><a name="1008004"> </a>1, 2, or 4 bits/pixel</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008006"> </a>3.5 </p>
    </td>
    <td><p class="tt"><a name="1008008"> </a>1, 2, 4 or 8 bits/pixel</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008010"> </a>4.x, 5.x</p>
    </td>
    <td><p class="tt"><a name="1008012"> </a>1, 2, 4, 8, or 16 bits/pixel</p>
<p class="tt"><a name="1008016"> </a>(See <a href="UserInterface.html#1010899">"Color and Grayscale Support"</a> for more information.)</p>
    </td>
  </tr>
</table>

</div>


<p><a name="1008018"> </a>Usually, the Form Manager handles all necessary drawing and redrawing to the screen when it receives certain events. (In Palm OS, a <b>form</b> is analogous to a window in a desktop application, and a <b>window</b> is an abstract drawing region.) You don't have to explicitly call drawing routines. However, if you're performing animation or if you have any custom user interface objects (known as gadgets), you might need to use the drawing functions provided by the Window Manager. </p>

<p><a name="1008019"> </a>The Window Manager defines a window object and provides functions for drawing to windows. A window is a drawing region that is either onscreen or offscreen. The window's data structure contains a bitmap that contains the actual data displayed in the window. Windows add clipping regions over the top of bitmaps. </p>
<h3 class="hbH3">
  <a name="1008020"> </a>The Draw State <a href="#1007614"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1008021"> </a>The Window Manager also defines a draw state: pen color, pattern, graphics state, and so on. The draw state is handled differently depending on the operating system version. </p>

<p><a name="1008023"> </a>On pre-3.5 versions of Palm OS, the system maintains several individual global variables that each track an element of the draw state. If you want to change some aspect of the draw state, you use a <code>WinSet</code>... function (such as <a href="../PalmOSReference/Window.html#1016917"><code>WinSetUnderlineMode</code></a>). Each <code>WinSet</code>... function returns the old value. It's your responsibility to save the old value returned by the function and to restore the variable's value when you are finished by calling the function again. Using such routines can be inconvenient because it means using application stack space to track system state. Further, if a caller forgets to restore the value, the entire look and feel of the handheld may be altered.</p>

<p><a name="1008027"> </a>Palm OS 3.5 and later has two improvements to make tracking changes to the draw state easier. First, it groups the drawing-related global variables and treats them as a single unit. This draw state is the Palm OS implementation of a <b>pen</b>. It contains the current transfer (or draw) mode, pattern mode and pattern data for <code>WinFill</code>... routines, and foreground and background colors. It also contains text-related drawing information: the font ID, the font pointer, the underline mode, and the text color. (Palm OS does not currently support other common pen-like concepts such as line width, pen shape, or corner join.) Only one draw state exists in the system. </p>

<p><a name="1008029"> </a>Second, Palm OS 3.5 can track changes to the draw state by storing states on a stack. Your application no longer needs to use its own stack for pieces of the draw state. Instead, use <a href="../PalmOSReference/Window.html#1015604"><code>WinPushDrawState</code></a> to push a copy of the current draw state on the top of the stack. Then use the existing <code>WinSet...</code> functions to make your changes. When you've finished your drawing and want to restore the draw state, call <a href="../PalmOSReference/Window.html#1015578"><code>WinPopDrawState</code></a>. </p>

<p><a name="1008038"> </a>The new drawing state stack allows for additional debugging help. If an application exits without popping sufficiently or it pops too much, this is detected and flagged on debug ROMs. When switching applications, the system pops to a default state on application exit, guaranteeing a consistent draw state when a new application is launched.</p>
<h3 class="hbH3">
  <a name="1008039"> </a>Drawing Functions <a href="#1007614"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1008040"> </a>The Window Manager can draw rectangles, lines, characters, bitmaps, and (starting in version 3.5) pixels. The Window Manager supports five flavors of most calls, as described in <a href="UserInterface.html#1008050">Table 4.3</a>.</p>

<p class="caption"><a name="1008050"> </a><b>Table 4.3&nbsp;&nbsp;Window Manager drawing operations </b></p>
<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1008054"> </a><b>Mode</b></p>
    </th>
    <th><p class="tt"><a name="1008056"> </a><b>Operation</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008058"> </a>Draw</p>
    </td>
    <td><p class="tt"><a name="1008060"> </a>Render object outline only, using current foreground color and pattern. For a bitmap, draws the bitmap.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008062"> </a>Fill</p>
    </td>
    <td><p class="tt"><a name="1008064"> </a>Render object internals only, using current foreground color and pattern.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008066"> </a>Erase</p>
    </td>
    <td><p class="tt"><a name="1008068"> </a>Erase object outline and internals to window background color.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008070"> </a>Invert</p>
    </td>
    <td><p class="tt"><a name="1008072"> </a>Swap foreground and background colors within region defined by object.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008074"> </a>Paint</p>
    </td>
    <td><p class="tt"><a name="1008076"> </a>Supported only in version 3.5 and higher. Render object using all of the current draw state: transfer mode, foreground and background colors, pattern, font, text color, and underline mode. </p>
    </td>
  </tr>
</table>

</div>


<p><a name="1008079"> </a>The drawing functions always draw to the current draw window. This window may be either an onscreen window or an offscreen window. Use <a href="../PalmOSReference/Window.html#1016515"><code>WinSetDrawWindow</code></a> to set the draw window before calling these functions. </p>
<h3 class="hbH3">
  <a name="1008086"> </a>High-Density Displays <a href="#1007614"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1008087"> </a>The screens on most Palm Powered handhelds are 160 pixels wide and 160 pixels high. Prior to the <a href="../PalmOSReference/CompatibilityApdx.html#996955">High-Density Display Feature Set</a>, the operating system provided little support for other screen sizes. The High-Density Display feature set adds support for 320 by 320, or <b>double-density</b>, displays, and the <a href="../PalmOSReference/CompatibilityApdx.html#997148">1.5x Display Feature Set</a> adds additional support for 320 by 240<a href="#1008096"><sup>1</sup></a>, or <b>1.5x</b>, high-density displays. This support is designed so that a Palm Powered handheld with a double-density screen runs, unaltered, nearly all applications designed for a single-density (160 by 160) screen.</p>

<h4 class="hcH4">
  <a name="1008098"> </a>Display Density
</h4>

<p><a name="1008099"> </a>The density of a display refers to the ratio of the screen's width and height, in number of pixels, to the width and height of a standard 160 by 160 pixel screen. The screen's density has no relation to the screen's physical size; given the form factor of the typical Palm Powered handheld, screens tend to be roughly the same size regardless of the display density.</p>

<p><a name="1008100"> </a>A double-density screen packs twice as many pixels in each dimension into the same physical space as a single-density screen. Regardless of the screen density, graphic primitives have the same footprint, taking up the same percentage of screen space. The Address Book application, for example, shows 11 lines of text on both single- and double-density screens. The text looks better on the double-density screen, however, because the blitter uses double-density font data when drawing the text, and each character is composed of more pixels.</p>

<div><hr>
  <a name="1008102"> </a> <b>NOTE: </b> The High-Density Display feature set is designed to allow screen sizes of various densities. The Palm OS Garnet blitter, however, only supports single-, 1.5-, and double-density displays.
<hr>
</div>

<p><a name="1008103"> </a>When writing applications for Palm OS handhelds, you generally can stop thinking in terms of pixels and start thinking in terms of screen coordinates. The operating system takes care of mapping coordinates to physical pixels, and drawing functions now work in terms of coordinates. So, for example, if you draw a line of text using one of the built-in fonts, that line of text is 12 standard coordinates high. Depending on the display density, that text might be 12 pixels high, 24 pixels high (on a double-density display), or even some other multiple of 12. </p>

<h4 class="hcH4">
  <a name="1008105"> </a>Terminology
</h4>

<p><a name="1008106"> </a>A clear understanding of the following terms is essential to understanding the concepts introduced by the High-Density Display feature set.</p>

<dl>
<dt><a name="1008107"> </a>default density</dt>
<dd><a name="1038794"> </a>A pixel layout with one pixel per standard coordinate.</dd>

<dt><a name="1008108"> </a>high density</dt>
<dd><a name="1038806"> </a>A pixel layout that uses more pixels per standard coordinate than a low-density layout.</dd>

<dt><a name="1008109"> </a>low density</dt>
<dd><a name="1038816"> </a>Equivalent to default density; one pixel per standard coordinate.</dd>

<dt><a name="1008110"> </a>native coordinate system</dt>
<dd><a name="1038826"> </a>A coordinate system based on the density of the draw window; when drawing to the screen, this matches the density of physical screen pixels. For offscreen windows, the native coordinates are based on the density of the offscreen bitmap rather than the physical screen.</dd>

<dt><a name="1008111"> </a>standard coordinate system</dt>
<dd><a name="1038836"> </a>The coordinate system used by most handhelds that don't have the High-Density Display feature set installed. On a single density screen, there is one screen pixel per standard coordinate. On a high-density screen, there is more than one screen pixel per standard coordinate.</dd>

</dl>

<h4 class="hcH4">
  <a name="1008112"> </a>Implementation
</h4>

<p><a name="1008113"> </a>Applications running on Palm OS default to the standard coordinate system, even if the handheld has a high-density screen. When creating forms, you continue to use the standard coordinate system for form dimensions and for the placement of UI widgets.</p>

<p><a name="1008114"> </a>In Palm OS, every drawing operation uses a draw state. Added to this draw state by the High-Density Display feature set is a scaling factor, which is used by the Window Manager to transform coordinates passed as arguments to the drawing functions (such as <a href="../PalmOSReference/Window.html#1013620"><code>WinDrawLine</code></a>, <a href="../PalmOSReference/Window.html#1013039"><code>WinCopyRectangle</code></a>, and <a href="../PalmOSReference/Window.html#1015274"><code>WinPaintPixel</code></a>) into native coordinates. This scaling factor is a ratio of the active coordinates to native coordinates.</p>

<p><a name="1008124"> </a>Drawing is a function of the Window Manager, which initializes the graphic state and then calls the blitter&#8212;the low-level code that draws lines and rectangles and places all primitives at the appropriate location on the screen. The Window Manager converts coordinates passed as drawing function arguments from the window's coordinate system to the native coordinate system used by the blitter. Because the blitter needs integer coordinates, most of the <code>WinScale...</code> and <code>WinUnscale...</code> functions have a <code>ceiling</code> parameter that lets you control whether the integer results are obtained by truncation or rounding<a href="#1038244"><sup>2</sup></a>. <a href="../PalmOSReference/Window.html#1015823"><code>WinScaleRectangle</code></a> and <a href="../PalmOSReference/Window.html#1017021"><code>WinUnscaleRectangle</code></a> are the exceptions to this rule: the calculated extent is always rounded up if either the extent or the top left coordinate has a fractional part after scaling.</p>

<p><a name="1008134"> </a>Using <a href="../PalmOSReference/Window.html#1074566"><code>WinSetCoordinateSystem</code></a>, an application can define the coordinate system used by its calls to the drawing functions. On a handheld with a high-density screen, this allows applications to draw using either the standard coordinate system or the native coordinate system. Note that the <code>bounds</code> and <code>clippingBounds</code> fields in the <a href="../PalmOSReference/Window.html#1012667"><code>WindowType</code></a> data structure are always stored using native coordinates. The various functions that access these fields convert the native coordinates to the coordinate system being used by the window.</p>

<p><a name="1008138"> </a>Which coordinate system a window uses affects the placement and dimensions of graphic primitives. It does not affect bitmap contents, however. You can create bitmaps that contain either low- or high-density bitmap data; the bitmap's density is recorded in the <a href="../PalmOSReference/Bitmap.html#997981"><code>BitmapTypeV3</code></a> data structure. The Window Manager uses the window's coordinate system to determine where to place the top left corner of the bitmap on the screen, while the blitter uses the bitmap structure's <code>density</code> field to determine if it needs to stretch or shrink the bitmap data as it blits.</p>

<p><a name="1008142"> </a>As an example, suppose you have an application that draws a low-density bitmap containing data 30 pixels wide and 70 pixels high on a Palm Powered handheld with a double-density screen. Using the standard coordinate system, the application instructs the Window Manager to place the bitmap at window coordinates (10,20). The Window Manager converts (10,20) to native coordinates and instructs the blitter to draw the bitmap at native coordinates (20,40). Recognizing that the bitmap is low density, the blitter pixel-doubles the source data as it is blitted. The result is that on the double-density screen, the bitmap is displayed with 60 pixels per row and contains 140 rows.</p>

<p><a name="1008143"> </a>Regardless of the coordinate system used for the placement and dimensions of graphic primitives, no new functions are needed to take advantage of high-density fonts. High-density fonts are used by default when drawing text in a high-density window.</p>

<div><hr>
  <a name="1008144"> </a> <b>NOTE: </b> Scaling of fonts and bitmaps can be disabled on high-density handhelds running more recent versions of the Palm OS, allowing applications to display more of a large graphic or to display more text at one time. For details, see the documentation for <a href="../PalmOSReference/Window.html#1016731"><code>WinSetScalingMode</code></a> in the <i>Palm OS Programmer's API Reference</i>.
<hr>
</div>

<p><a name="1008151"> </a>When working with 1.5x displays, how scaling is performed has implications for how you write your applications. The Window Manager uses fixed-point arithmetic to convert standard coordinates to native coordinates. Standard coordinates are scaled using the "ceiling" function, which causes values to be scaled as follows when working with a 1.5x display:</p>


<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1008154"> </a><b>Standard</b></p>
    </th>
    <th><p class="tt"><a name="1008156"> </a><b>Native</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008158"> </a>1</p>
    </td>
    <td><p class="tt"><a name="1008160"> </a>2</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008162"> </a>2</p>
    </td>
    <td><p class="tt"><a name="1008164"> </a>3</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008166"> </a>3</p>
    </td>
    <td><p class="tt"><a name="1008168"> </a>5</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008170"> </a>4</p>
    </td>
    <td><p class="tt"><a name="1008172"> </a>6</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008174"> </a>5</p>
    </td>
    <td><p class="tt"><a name="1008176"> </a>8</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008178"> </a>6</p>
    </td>
    <td><p class="tt"><a name="1008180"> </a>9</p>
    </td>
  </tr>
</table>

</div>


<p><a name="1008182"> </a>If an application uses standard coordinates, but also wants a group of lines, pixels, or bitmaps to be evenly spaced, then the coordinates should be separated by an even number of standard pixels. For example, the sequence of standard coordinates separated by 3 pixels {1, 4, 7, 10, ...} is scaled to the uneven sequence {2, 6, 11, 15, ...}, with successive members separated by either 4 or 5 native pixels. In contrast, the sequence of standard coordinates separated by 2 pixels {1, 3, 5, 7, ...} is scaled to the sequence {2, 5, 8, 11, ...}, whose members are consistently separated by 3 native pixels.</p>

<div><hr>
  <a name="1038520"> </a> <b>NOTE: </b> The scaling algorithm used on Palm OS Cobalt is slightly different; see footnote <a href="UserInterface.html#1038244">2.</a> for details.
<hr>
</div>

<p><a name="1008183"> </a>Rectangles are scaled using a different algorithm that ensures consistency for both the origin and the extent of each side, so that a rectangle that is scaled and then unscaled is equal to the original rectangle.</p>

<p><a name="1008184"> </a>When using standard coordinates for frames, the Window Manager uses the "floor" function. This causes values to be scaled as follows when working with a 1.5x display:</p>


<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1008187"> </a><b>Standard</b></p>
    </th>
    <th><p class="tt"><a name="1008189"> </a><b>Native</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008191"> </a>1</p>
    </td>
    <td><p class="tt"><a name="1008193"> </a>1</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008195"> </a>2</p>
    </td>
    <td><p class="tt"><a name="1008197"> </a>3</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008199"> </a>3</p>
    </td>
    <td><p class="tt"><a name="1008201"> </a>4</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008203"> </a>4</p>
    </td>
    <td><p class="tt"><a name="1008205"> </a>6</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008207"> </a>5</p>
    </td>
    <td><p class="tt"><a name="1008209"> </a>7</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008211"> </a>6</p>
    </td>
    <td><p class="tt"><a name="1008213"> </a>9</p>
    </td>
  </tr>
</table>

</div>


<p><a name="1008215"> </a>The floor function is also used to scale the frame's width.</p>

<p><a name="1008216"> </a>Push buttons and graphic buttons are user interface controls that are composed of rectangles that share a frame edge. To avoid rounding inconsistencies on 1.5x displays, the buttons' topLeft.x should be placed on an even standard coordinate, and the buttons' width should be odd standard coordinates for horizontally arranged buttons, and the buttons' height should be odd standard coordinates for vertically arranged buttons. This avoids the uneven appearance of every other button frame lying alongside rather than on top of its neighbor's frame. Both rules should be applied for a push button grid, where columns and rows of push buttons share more than one common edge. </p>

<p><a name="1008217"> </a>When a low-density bitmap is blitted to a 1.5x destination bitmap, the blitter doubles every other pixel in each row, and doubles every other row. Note that applications must always include low-density bitmaps: the blitter doesn't scale 1.5x to double-density, and vice-versa.</p>

<div><hr>
  <a name="1008218"> </a> <span class="warning">WARNING! </span> The blitter's behavior when attempting to draw double-density data (text or bitmap) to a 1.5x destination, or attempting to draw 1.5x data to a double-density destination, is undefined. Drawing low-density font or bitmap data to a high-density destination (either 1.5 or double density), however, works as expected.
<hr>
</div>

<p><a name="1008219"> </a>If your application must present the highest-quality bitmaps, it should incorporate bitmap families with members for all supported densities. If quality is less important than application size, you may wish to include only a subset of the supported densities (but at a minimum you must include low-density versions).</p>

<p><a name="1008220"> </a>Avoid algorithms that capture high-density screen data to a low density offscreen window, and then restore the offscreen window to the screen. This results in a loss of data when scaling down, and a further distortion when scaling back up. Instead, allocate the offscreen window using <a href="../PalmOSReference/Window.html#1013152"><code>WinCreateOffscreenWindow</code></a> with the <code>nativeFormat</code> argument. This allocates a bitmap for the offscreen window that matches the density of the screen.</p>

<p><a name="1008224"> </a>Because fonts are drawn as bitmaps, the rules that apply to bitmaps apply to application-defined fonts as well.</p>

<h4 class="hcH4">
  <a name="1008225"> </a>Maintaining Compatibility
</h4>

<p><a name="1008229"> </a>The <a href="../PalmOSReference/CompatibilityApdx.html#996955">High-Density Display Feature Set</a> is designed to ensure the greatest degree of compatibility with applications that weren't written using the High-Density Display feature set. When running in low-density mode on a handheld with a high-density screen, the window's <code>scale</code> attribute is set to the ratio of the handheld's screen density to the default density. This causes the Window Manager to scale the low-density coordinates used to position graphic primitives into high-density ones used by the blitter. Because low-density mode is the default on all Palm Powered handhelds, applications not designed for high-density screens behave as expected on handhelds with screens of both low and high-density.</p>

<p><a name="1008230"> </a>Offscreen windows are allocated by default with low-density bitmaps, so direct manipulation of offscreen bitmaps by applications unaware of the High-Density Displays feature set works consistently on handhelds with either low- or high-density screens.</p>

<p><a name="1008231"> </a>On the other hand, applications that employ the High-Density Display feature set need to include both low-density and high-density bitmaps in order to function consistently on handhelds that don't have high-density displays.</p>

<p><a name="1008232"> </a>Some Sony CLIE'&#8482; handhelds have a double-density screen but don't have the High-Density Display feature set. The High-Density Display feature set recognizes bitmaps created for these handhelds and properly displays them as double-density bitmaps.</p>

<p><a name="1008233"> </a>The one area of incompatibility involves applications that directly access the handheld's screen. <i>Applications not designed for a high-density screen that directly access the screen give unexpected results when accessing a high-density screen.</i> For example, if such an application directly manipulates the screen pixels, expecting a 160 by 160 screen, modifying pixel 161 on a double-density screen modifies a pixel in the middle of the first row, not the first pixel on the second row. As well, <i>if the handheld's processor is ARM-based, improper drawing can also result due to differences in endianness between ARM-based platforms and those based upon a 68k-family processor.</i></p>

<h4 class="hcH4">
  <a name="1008235"> </a>Text
</h4>

<p><a name="1008236"> </a>Palm-powered handhelds contain system fonts that match the density of the screen. By default, text is always drawn at the best possible density, even for applications unaware of a handheld's high-density capability. The high-density font metrics match those of the low-density system fonts.</p>

<p><a name="1008237"> </a>Because the system fonts match the screen density, the blitter does not need to perform scaling when blitting text to the screen. If an application running on a handheld with a high-density screen allocates a low-density offscreen window, however, and there are no low-density fonts available, the blitter shrinks the high-density font bitmaps. This results in poor quality text when the offscreen bitmap is subsequently transferred, and pixel-doubled, to a high-density display. If a low-density font is available, the blitter substitutes a low-density font when drawing text to the window in an attempt to produce the best possible aesthetic result.</p>

<p><a name="1008238"> </a>The blitter uses the following selection algorithm when selecting the font, from high to low priority:</p>
<ol type="1">
  <li value="1"><a name="1008239"> </a>Select the font with the correct density.
  <li value="2"><a name="1008240"> </a>Select the font whose density is one-half of the correct density.
  <li value="3"><a name="1008241"> </a>Select the font with the closest density, with a tie going to the lower-density font.
</ol>

<p><a name="1008242"> </a>This behavior can be overridden to allow your application to display more text at one time; <a href="../PalmOSReference/Window.html#1016731"><code>WinSetScalingMode</code></a> can force the blitter to use the low-density font, unscaled, for subsequent text drawing. Note that this only works on handhelds with high-density displays running a recent version of Palm OS that supports the <code>WinSetScalingMode</code> function.</p>

<p><a name="1008246"> </a>The Font Manager uses the <code>stdToActiveScale</code> field in the offscreen window's draw state to transform the font metrics. To draw text using high-density coordinates, set the high-density coordinate system by calling <a href="../PalmOSReference/Window.html#1074566"><code>WinSetCoordinateSystem</code></a> before using the Font Manager functions to position text or extract font metrics.</p>

<p><a name="1008250"> </a>The blitter by default aligns glyphs on standard coordinates. This behavior works fine with single- and double-density displays, but can cause the spacing between characters to look uneven on "one and a half density" (1.5x) displays. This is because on a 1.5x display, the blitter must add "padding"&#8212;extra white space&#8212;between some glyphs to align them on standard coordinates. You can override this standard behavior with <code>WinSetScalingMode</code>: it allows you to draw text without padding pixels between glyphs, resulting in more consistent kerning for text. Note, however, that while this unpadded mode provides the best looking text, it requires the application to use the high-density coordinate system.</p>

<p><a name="1008251"> </a>On a high-density screen, underline mode is always drawn using a high-density pattern.</p>

<p><a name="1008252"> </a>For an in-depth discussion on working with text in the user interface, see <a href="Text.html#1036996">Chapter 8, "Text."</a> It contains an in-depth a discussion on selecting, using, and creating fonts; see <a href="Text.html#1037531">"Fonts."</a></p>

<h4 class="hcH4">
  <a name="1008259"> </a>Lines and Rectangles
</h4>

<p><a name="1008260"> </a>When drawing lines and rectangles with the standard coordinate system on a double-density screen, the primitives are drawn with improved resolution. This behavior prevents an inconsistent appearance when drawing to and from offscreen windows, and prevents unintended overlap and unintended gaps between primitives.</p>

<p><a name="1008261"> </a>As with other primitives, the Window Manager performs the conversion to the destination coordinate system before calling the blitter. This converts line coordinates as well as a rectangle's <code>topLeft</code> and <code>extent</code> fields.</p>

<p><a name="1008265"> </a>The diagram on the left in <a href="UserInterface.html#1008272">Figure 4.1</a> results from drawing a diagonal line from (2,1) to (6,3) in the screen's standard coordinate system. The diagram on the right shows the same line drawn in the screen's native coordinate system with the following code:</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
WinPushDrawState();<a name="1008266"> </a>
oldScale = WinSetCoordinateSystem(kCoordinatesNative);<a name="1008267"> </a>
WinDrawLine(2, 1, 6, 3);  // x1, y1, x2, y2<a name="1008268"> </a>
WinPopDrawState();<a name="1008269"> </a>
</pre><div class="CodeRule"><hr></div>


<div><hr>
  <a name="1008270"> </a> <b>NOTE: </b> In these illustrations, the top-left grid coordinate is the screen origin (0,0) on a double-density screen. 
<hr>
</div>

<p class="FFigureCaption">
  <a name="1008272"> </a><b>Figure 4.1&nbsp;&nbsp;A diagonal line drawn using the standard coordinate system (left) and the native coordinate system (right)</b>
</p>
<div align="left"><img src="images/HighResAndLowResLine.gif" border="0" hspace="0" vspace="0">
</div>

<p><a name="1008277"> </a>The result of drawing a rectangle with a <code>topLeft</code> of (1,1) and an <code>extent</code> of (4,4) when using the standard and native coordinate systems on a double-density screen is shown in <a href="UserInterface.html#1008282">Figure 4.2</a>.</p>

<p class="FFigureCaption">
  <a name="1008282"> </a><b>Figure 4.2&nbsp;&nbsp;A rectangle drawn using the standard coordinate system (left) and the native coordinate system (right)</b>
</p>
<div align="left"><img src="images/RectLarge2.gif" border="0" hspace="0" vspace="0">
</div>

<p><a name="1008289"> </a>A rounded rectangle would be pixel-doubled in a similar fashion when drawn using the standard coordinate system on a double-density screen. In double-density mode, the rounded corners are drawn in the native double-density coordinates, resulting in more detailed corners.</p>

<h4 class="hcH4">
  <a name="1008290"> </a>Patterns
</h4>

<p><a name="1008291"> </a>In prior versions of the Palm OS, patterns are 8 by 8 bits, and are 1 bit deep. To support high-density patterns, a new Window Manager function, <a href="../PalmOSReference/Window.html#1015494"><code>WinPaintTiledBitmap</code></a>, gives applications the ability to fill a rectangle with an arbitrary pattern defined in a bitmap argument.</p>

<p><a name="1008295"> </a>Patterns are expanded to the destination bit depth by the blitter when drawing patterned lines and filled rectangles. The blitter uses the density fields in the pattern's source bitmap and the destination bitmap so that the pattern is drawn using the appropriate density. This makes it possible for an application to define both low-density and high-density patterns.</p>

<p><a name="1008299"> </a>To supplement the standard <a href="../PalmOSReference/Window.html#1012462"><code>PatternType</code></a> <code>grayPattern</code>, the High-Density Display feature set defines two additional gray patterns: <code>lightGrayPattern</code> and <code>darkGrayPattern</code>. These patterns are shown in <a href="UserInterface.html#1008307">Figure 4.3</a> and <a href="UserInterface.html#1008313">Figure 4.4</a>, respectively.</p>

<p class="FFigureCaption">
  <a name="1008307"> </a><b>Figure 4.3&nbsp;&nbsp;lightGrayPattern</b>
</p>
<div align="left"><img src="images/LightGrayPattern.gif" border="0" hspace="0" vspace="0">
</div>

<p class="FFigureCaption">
  <a name="1008313"> </a><b>Figure 4.4&nbsp;&nbsp;darkGrayPattern</b>
</p>
<div align="left"><img src="images/DarkGrayPattern.gif" border="0" hspace="0" vspace="0">
</div>

<p><a name="1008318"> </a>These three standard gray patterns are always drawn by the blitter using the screen density, improving the appearance of gray fills. Custom 8 by 8 patterns, however, are stretched as appropriate by the blitter based on the ratio of the destination density and <code>kDensityLow</code>.</p>

<h2 class="haH2">
  <a name="1008320"> </a>Forms, Windows, and Dialogs <a href="#1007614"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1008327"> </a>A form is the GUI area for each view of your application. For example the Address Book offers an Address List view, Address Edit view, and so on. Each application has to have one form, and most applications have more than one. To actually create the view, you have to add other UI elements to the form; either by dragging them onto the form from the catalog or by providing their ID as the value of some of the form's fields. </p>

<p><a name="1008331"> </a><a href="UserInterface.html#1008333">Figure 4.5</a> shows an example of a form. Typical forms are as large as the screen, as shown here. Other forms are modal dialogs, which are shorter than the screen but just as wide. </p>

<p class="FFigureCaption">
  <a name="1008333"> </a><b>Figure 4.5&nbsp;&nbsp;Form</b>
</p>
<div align="left"><img src="images/List.gif" border="0" hspace="0" vspace="0">
</div>

<p><a name="1008339"> </a>A window defines a drawing region. This region may be on the display or in a memory buffer (an off-screen window). Off-screen windows are useful for saving and restoring regions of the display that are obscured by other UI objects. All forms are windows, but not all windows are forms. </p>

<p><a name="1008341"> </a>The window object is the portion of the form object that determines how the form's window looks and behaves. A window object contains viewing coordinates of the window and clipping bounds.</p>

<p><a name="1008347"> </a>When a form is opened, a <a href="../PalmOSReference/EventRef.html#996834"><code>frmOpenEvent</code></a> is triggered and the form's ID is stored. A <a href="../PalmOSReference/EventRef.html#997992"><code>winExitEvent</code></a> is triggered whenever a form is closed, and a <a href="../PalmOSReference/EventRef.html#1026487"><code>winEnterEvent</code></a> is triggered whenever a form is drawn.</p>

<p><a name="1008356"> </a>The following sections describe special types of forms: </p>
<ul type="disc">
  <li><a name="1008360"> </a><a href="UserInterface.html#1008370">Alert Dialogs</a>
  <li><a name="1008364"> </a><a href="UserInterface.html#1008406">Progress Dialogs</a>
  <li><a name="1008368"> </a><a href="UserInterface.html#1008453">The Keyboard Dialog</a>
</ul>
<h3 class="hbH3">
  <a name="1008370"> </a>Alert Dialogs <a href="#1007614"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1008374"> </a>If you want to display an alert dialog (see <a href="UserInterface.html#1008387">Figure 4.6</a>) or prompt the user for a response to a question, use the alert manager. The alert manager defines the following functions: </p>
<ul type="disc">
  <li><a name="1008380"> </a><a href="../PalmOSReference/Form.html#996965"><code>FrmAlert</code></a> 
  <li><a name="1008385"> </a><a href="../PalmOSReference/Form.html#997090"><code>FrmCustomAlert</code></a> 
</ul>

<p class="FFigureCaption">
  <a name="1008387"> </a><b>Figure 4.6&nbsp;&nbsp;Alert dialog</b>
</p>
<div align="left"><img src="images/alert.gif" border="0" hspace="0" vspace="0">
</div>

<p><a name="1008392"> </a>Given a resource ID that defines an alert, the alert manager creates and displays a modal dialog box. When the user taps one of the buttons in the dialog, the alert manager disposes of the dialog box and returns to the caller the item number of the button the user tapped.</p>

<p><a name="1008394"> </a>There are four types of system-defined alerts: </p>
<ul type="disc">
  <li><a name="1008395"> </a>Question
  <li><a name="1008396"> </a>Warning
  <li><a name="1008397"> </a>Notification
  <li><a name="1008398"> </a>Error
</ul>

<p><a name="1008399"> </a>The alert type determines which icon is drawn in the alert window and which sound plays when the alert is displayed. </p>

<p><a name="1008400"> </a>When the alert manager is invoked, it's passed an alert resource that contains the following information:</p>
<ul type="disc">
  <li><a name="1008401"> </a>The rectangle that specifies the size and position of the alert window
  <li><a name="1008402"> </a>The alert type (question, warning, notification, or error)
  <li><a name="1008403"> </a>The null-terminated text string; that is, the message the alert displays
  <li><a name="1008404"> </a>The text labels for one or more buttons
</ul>
<h3 class="hbH3">
  <a name="1008406"> </a>Progress Dialogs <a href="#1007614"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1008408"> </a>If your application performs a lengthy process, such as data transfer during a communications session, consider displaying a progress dialog to inform the user of the status of the process. The Progress Manager provides the mechanism to display progress dialogs. </p>

<p><a name="1008414"> </a>You display a progress dialog by calling <a href="../PalmOSReference/ProgressManager.html#995878"><code>PrgStartDialog</code></a>. Then, as your process progresses, you call <a href="../PalmOSReference/ProgressManager.html#996014"><code>PrgUpdateDialog</code></a> to update the dialog with new information for the user. In your event loop you call <a href="../PalmOSReference/ProgressManager.html#995817"><code>PrgHandleEvent</code></a> to handle the progress dialog update events queued by <code>PrgUpdateDialog</code>. The <code>PrgHandleEvent</code> function makes a callback to a <code>textCallback</code> function that you supply to get the latest progress information.</p>

<p><a name="1008423"> </a>Note that whatever operation you are doing that is the lengthy process, you do the work inside your normal event loop, not in the callback function. That is, you call <a href="../PalmOSReference/SystemEventManager.html#1071061"><code>EvtGetEvent</code></a> and do work when you get a <a href="../PalmOSReference/EventRef.html#997548"><code>nilEvent</code></a>. Each time you get a <code>nilEvent</code>, do a chunk of work, but be sure to continue to call <code>EvtGetEvent</code> frequently (like every half second), so that pen taps and other events get noticed quickly enough.</p>

<p><a name="1008432"> </a>The dialog can display a few lines of text that are automatically centered and formatted. You can also specify an icon that identifies the operation in progress. The dialog has one optional button that can be a cancel or an OK button. The type of the button is automatically controlled by the Progress Manager and depends on the current progress state (no error, error, or user canceled operation).</p>

<h4 class="hcH4">
  <a name="1008434"> </a>Progress textCallback Function
</h4>

<p><a name="1008435"> </a>When you want to update the progress dialog with new information, you call the function <code>PrgUpdateDialog</code>. To get the current progress information to display in the progress dialog, <code>PrgHandleEvent</code> makes a callback to a function, <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">textCallback</span>, that you supplied in your call to <a href="../PalmOSReference/ProgressManager.html#995878"><code>PrgStartDialog</code></a>.</p>

<p><a name="1008440"> </a>The system passes the <code>textCallback</code> function one parameter, a pointer to a <code>PrgCallbackData</code> structure. To learn what type of information is passed in this structure, see the chapter <a href="../PalmOSReference/ProgressManager.html#995795">"Progress Manager"</a> in the <i>Palm OS Programmer's API Reference</i>. </p>

<p><a name="1008447"> </a>Your <code>textCallback</code> function should return a Boolean. Return <code>true</code> if the progress dialog should be updated using the values you specified in the <code>PrgCallbackData</code> structure. If you specify <code>false</code>, the dialog is still updated, but with default status messages. (Returning <code>false</code> is not recommended.)</p>

<p><a name="1008448"> </a>In the <code>textCallback</code> function, you should set the value of the <code>textP</code> buffer to the string you want to display in the progress dialog when it is updated. You can use the value in the <code>stage</code> field to look up a message in a string resource. You also might want to append the text in the <code>message</code> field to your base string. Typically, the <code>message</code> field would contain more dynamic information that depends on a user selection, such as a phone number, device name, or network identifier, etc.</p>

<p><a name="1008449"> </a>For example, the <code>PrgUpdateDialog</code> function might have been called with a <code>stage</code> of 1 and a <code>messageP</code> parameter value of a phone number string, "555-1212". Based on the stage, you might find the string "Dialing" in a string resource, and append the phone number, to form the final text "Dialing 555-1212" that you place in the text buffer <code>textP</code>.</p>

<p><a name="1008450"> </a>Keeping the static strings corresponding to various stages in a resource makes it easier to localize your application. More dynamic information can be passed in via the <code>messageP</code> parameter to <code>PrgUpdateDialog</code>.</p>

<div><hr>
  <a name="1008451"> </a> <b>NOTE: </b> The <code>textCallback</code> function is called only if the parameters passed to <code>PrgUpdateDialog</code> have changed from the last time it was called. If <code>PrgUpdateDialog</code> is called twice with exactly the same parameters, the <code>textCallback</code> function is called only once. 
<hr>
</div>
<h3 class="hbH3">
  <a name="1008453"> </a>The Keyboard Dialog <a href="#1007614"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1008454"> </a>The keyboard dialog is an onscreen keyboard on which the user taps to input information into a text field. When the insertion point is in a text field, the user can open the onscreen keyboard by tapping on the silk-screen letters ("abc" or "123") in the lower corners of the input area. The keyboard dialog appears:</p>

<p class="FFigureCaption">
  <a name="1008455"> </a><b>Figure 4.7&nbsp;&nbsp;The Keyboard Dialog<div align="left"><img src="images/KeyboardDialog3.gif" border="0" hspace="0" vspace="0">
</div></b>
</p>


<p><a name="1008477"> </a>The keyboard dialog's text field contains the full text of the original field, with the insertion point in the same position as in the original field. Users can start inserting and deleting characters immediately, or they can scroll up or down and then insert and delete. When one of the software keys is tapped, the corresponding character is inserted in the text field of the keyboard dialog.</p>

<p><a name="1008478"> </a>As the user taps, the keyboard dialog code captures pen events, maps them to characters, and posts <code>keyDownEvents</code>. The text field in the keyboard dialog handles each <a href="../PalmOSReference/EventRef.html#997089"><code>keyDownEvent</code></a>, displaying the character onscreen and inserting it into the memory chunk associated with the field. Since the keyboard dialog has its own event loop, you cannot handle the key events yourself. If you need to capture the key events, you should consider creating a custom version of the onscreen keyboard dialog, as outlined in <a href="UserInterface.html#1008547">"Creating a Custom Keyboard Layout."</a></p>

<p><a name="1008485"> </a>The keyboard code edits the text string of the original field in-place. Each field has a text handle that points to the memory chunk containing the text string for the field. When the keyboard dialog is opened, the association between the text handle and the original field is removed. The text handle is then assigned to the text field of the keyboard dialog and edited according to user input. When the keyboard dialog is closed, the text handle is reassigned to the original field. </p>

<p><a name="1008489"> </a>For details on how <a href="../PalmOSReference/Field.html#997059"><code>FldHandleEvent</code></a> manipulates the memory chunk that holds a field's text string, see <a href="../PalmOSReference/Field.html#995796">Chapter 9, "Fields,"</a> in the <i>Palm OS Programmer's API Reference</i>. Read about the <a href="../PalmOSReference/Field.html#996869"><code>FldGetTextHandle</code></a> and <a href="../PalmOSReference/Field.html#997853"><code>FldSetText</code></a> functions. </p>

<h4 class="hcH4">
  <a name="1008502"> </a>Opening the Keyboard Dialog Programmatically
</h4>

<p><a name="1008503"> </a>In most applications, the keyboard dialog appears only when explicitly opened by the user. There are occasions, however, when you may wish to force the user to input characters via the onscreen keyboard. For example, the service activation application shipped with all Palm VIIs displays the keyboard dialog automatically. Palm made this choice because the activation application must be usable by completely new Palm users, who may not know how to write Graffiti<sup>&#174;</sup> or Graffiti<sup>&#174;</sup> 2 or open the keyboard dialog themselves. Other reasons for imposing the keyboard dialog include accurate input of passwords or account numbers.</p>

<p><a name="1008504"> </a>To display the keyboard dialog programmatically, use one of the following functions:</p>
<ul type="disc">
  <li><a name="1008508"> </a><a href="../PalmOSReference/SystemManager.html#1076616"><code>SysKeyboardDialog</code></a>
  <li><a name="1008512"> </a><a href="../PalmOSReference/SystemManager.html#1076645"><code>SysKeyboardDialogV10</code></a>
</ul>

<p><a name="1008513"> </a>Normally, use <code>SysKeyboardDialog</code> only. <code>SysKeyboardDialogV10</code> is for compatibility with Palm OS 1.0.</p>

<p><a name="1008514"> </a>See <code>Keyboard.h</code> for the function prototypes and the <code>KeyboardType</code> they use. Note that the rest of the functions listed in <code>Keyboard.h</code> are for system use only and do not form part of the Palm OS API.</p>

<h4 class="hcH4">
  <a name="1008515"> </a>Keyboard Layouts
</h4>

<p><a name="1008516"> </a>The keyboard dialog has three views, one for each of the pre-defined layouts: the English alphabet, numerals and punctuation, and Latin characters with diacritic marks. The default is the English alphabet. To display a particular layout, call the <code>SysKeyboardDialog</code> function and pass it one of the following constants, which are defined in an enumeration named <code>KeyboardType</code>:</p>

<p class="caption"><a name="1008522"> </a><b>Table 4.4&nbsp;&nbsp;Constants defined in KeyboardType  </b></p>
<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1008526"> </a><b>Constant</b></p>
    </th>
    <th><p class="tt"><a name="1008528"> </a><b>Character Set</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008530"> </a><code>kbdAlpha</code> </p>
    </td>
    <td><p class="tt"><a name="1008532"> </a>The English language character set.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008534"> </a><code>kbdNumbersAndPunc</code> </p>
    </td>
    <td><p class="tt"><a name="1008536"> </a>A set containing numbers and some advanced punctuation.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008538"> </a><code>kbdAccent</code> </p>
    </td>
    <td><p class="tt"><a name="1008540"> </a>The International character set, made up of Latin characters with diacritic marks.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008542"> </a><code>kbdDefault</code> </p>
    </td>
    <td><p class="tt"><a name="1008544"> </a>The value of <code>kbdDefault</code> is the same as <code>kdbAlpha</code> and cannot be changed.</p>
    </td>
  </tr>
</table>

</div>


<h4 class="hcH4">
  <a name="1008547"> </a>Creating a Custom Keyboard Layout
</h4>

<p><a name="1008548"> </a>You cannot add an extra keyboard layout or modify an existing one. You can, however, create your own keyboard dialog module that implements the functionality outlined below. </p>

<p><a name="1008552"> </a>First, your application should intercept the <a href="../PalmOSReference/EventRef.html#997089"><code>keyDownEvent</code></a> generated when the user taps the "abc" or "123" letters in the input area. Create a custom keyboard dialog loader routine to handle it. Your keyboard code should then do the following: </p>
<ul type="disc">
  <li><a name="1008553"> </a>Get the text handle of the original field and save it in a variable. Use <a href="../PalmOSReference/Field.html#996869"><code>FldGetTextHandle</code></a>.
  <li><a name="1008557"> </a>Remove the association between the text handle and the original field. Use <a href="../PalmOSReference/Field.html#997937"><code>FldSetTextHandle</code></a> or <a href="../PalmOSReference/Field.html#997853"><code>FldSetText</code></a>, passing <code>NULL</code> as the second argument.
  <li><a name="1008564"> </a>Assign the text handle to the text field of the keyboard dialog.
  <li><a name="1008565"> </a>Define a Keyboard event handler that:
  <ul type="disc">
    <li><a name="1008566"> </a>captures pen events in your onscreen keyboard region, which may be a bitmap of a keyboard or may consist of individual push buttons,
    <li><a name="1008567"> </a>maps pen events to characters, 
    <li><a name="1008568"> </a>creates <code>keyDownEvents</code> and posts them to the event queue so that the dialog's text field can automatically handle them and insert them in its text chunk. 
  </ul>
  <li><a name="1008569"> </a>When the dialog is closed, remove the association between the text handle and keyboard's field, and then re-assign the text handle to the original text field.
</ul>

<p><a name="1008570"> </a>Finally, if you wish more than one layout, your custom keyboard dialog must contain a button to open each layout.</p>
<h3 class="hbH3">
  <a name="1008572"> </a>Offscreen Windows <a href="#1007614"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1008573"> </a>Offscreen windows are generally used for one of two reasons: to do offscreen drawing (for double-buffering, smooth animations, or to reduce flicker) or so that the application can capture or import graphics.</p>

<p><a name="1008577"> </a><a href="../PalmOSReference/Window.html#1013152"><code>WinCreateOffscreenWindow</code></a> allocates a bitmap for the offscreen window. Unless you specify a format of <code>nativeFormat</code>, the offscreen window's bitmap is always low density. This allows applications that expect low-density bitmaps, and that directly manipulate bitmap data, to still function as expected. If you call <code>WinCreateOffscreenWindow</code> and specify a format of <code>nativeFormat</code>, <i>do not access the data in the offscreen window's bitmap directly</i>: the format of bitmaps created by Palm OS can change from release to release, from device to device, and may even differ on a single device depending on the screen depth or compatibility mode.</p>

<p><a name="1008578"> </a>Functions that return window dimensions&#8212;such as <a href="../PalmOSReference/Window.html#1015990"><code>WinScreenMode</code></a>, <a href="../PalmOSReference/Window.html#1014219"><code>WinGetBounds</code></a>, and <a href="../PalmOSReference/Window.html#1014391"><code>WinGetDrawWindowBounds</code></a>&#8212;use the window's scaling factor to return coordinates in terms of the active coordinate system. This ensures that the window has the expected dimensions and that graphic primitives have coordinates expected by the application.</p>

<p><a name="1008591"> </a><a href="../PalmOSReference/Window.html#1013088"><code>WinCreateBitmapWindow</code></a> gives you the ability to allocate a high-density bitmap for an offscreen window. Use <a href="../PalmOSReference/Bitmap.html#998480"><code>BmpCreate</code></a> and <a href="../PalmOSReference/Bitmap.html#999069"><code>BmpSetDensity</code></a> to allocate a high-density bitmap, then associate it with a window by calling <code>WinCreateBitmapWindow</code>.</p>

<h2 class="haH2">
  <a name="1008599"> </a>Controls <a href="#1007614"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1008600"> </a>Control objects allow for user interaction when you add them to the forms in your application. Events in control objects are handled by <a href="../PalmOSReference/Control.html#996530"><code>CtlHandleEvent</code></a>. There are several types of control objects, which are all described in this section.</p>

<div><hr>
  <a name="1008606"> </a> <b>NOTE: </b> Palm OS 3.5 and later support graphical controls for all control types other than check box. Graphical controls behave the same as their non-graphical counterparts, but they display a bitmap instead of a text label. On releases prior to Palm OS 3.5, you can create a graphical control by setting the text label to the empty string and placing the control on top of a bitmap. 
<hr>
</div>
<h3 class="hbH3">
  <a name="1008607"> </a>Buttons <a href="#1007614"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1008611"> </a>Buttons (see <a href="UserInterface.html#1008620">Figure 4.8</a>) display a text or graphic label in a box. The default style for a button is a text string centered within a rounded rectangle. Buttons have rounded corners unless a rectangular frame is specified. A button without a frame inverts a rectangular region when pressed.</p>

<p><a name="1008614"> </a>When the user taps a button with the pen, the button highlights until the user releases the pen or drags it outside the bounds of the button.</p>

<p><a name="1008618"> </a><a href="UserInterface.html#1008631">Table 4.5</a> shows the system events generated when the user interacts with the button and <code>CtlHandleEvent</code>'s response to the events. </p>

<p class="FFigureCaption">
  <a name="1008620"> </a><b>Figure 4.8&nbsp;&nbsp;Buttons</b>
</p>
<div align="left"><img src="images/buttons.gif" border="0" hspace="0" vspace="0">
</div>

<p class="caption"><a name="1008631"> </a><b>Table 4.5&nbsp;&nbsp;Event flow for buttons </b></p>
<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1008637"> </a><b>User Action</b></p>
    </th>
    <th><p class="tt"><a name="1008639"> </a><b>System Response</b></p>
    </th>
    <th><p class="tt"><a name="1008641"> </a><b>CtlHandleEvent Response</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008643"> </a>Pen goes down on a button.</p>
    </td>
    <td><p class="tt"><a name="1008649"> </a><a href="../PalmOSReference/EventRef.html#997559"><code>penDownEvent</code></a> with the x and y coordinates stored in <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>. </p>
    </td>
    <td><p class="tt"><a name="1008651"> </a>Adds the <code>ctlEnterEvent</code> to the event queue. </p>
<p class="tt"><a name="1008652"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008654"> </a></p>
    </td>
    <td><p class="tt"><a name="1008660"> </a><a href="../PalmOSReference/EventRef.html#996240"><code>ctlEnterEvent</code></a> with button's ID number. </p>
    </td>
    <td><p class="tt"><a name="1008662"> </a>Inverts the button's display.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008664"> </a>Pen is lifted from button.</p>
    </td>
    <td><p class="tt"><a name="1008670"> </a><a href="../PalmOSReference/EventRef.html#997610"><code>penUpEvent</code></a> with the x and y coordinates stored in <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>.</p>
    </td>
    <td><p class="tt"><a name="1008675"> </a>Adds the <a href="../PalmOSReference/EventRef.html#996366"><code>ctlSelectEvent</code></a> to the event queue. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008677"> </a>Pen is lifted outside button.</p>
    </td>
    <td><p class="tt"><a name="1008683"> </a><a href="../PalmOSReference/EventRef.html#997610"><code>penUpEvent</code></a> with the x and y coordinates stored in <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>.</p>
    </td>
    <td><p class="tt"><a name="1008688"> </a>Adds the <a href="../PalmOSReference/EventRef.html#996274"><code>ctlExitEvent</code></a> to the event queue. </p>
    </td>
  </tr>
</table>

</div>

<h3 class="hbH3">
  <a name="1008690"> </a>Pop-Up Trigger <a href="#1007614"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1008695"> </a>A pop-up trigger (see <a href="UserInterface.html#1008704">Figure 4.9</a>) displays a text label and a graphic element (always on the left) that signifies the control initiates a pop-up list. If the text label changes, the width of the control expands or contracts to the width of the new label plus the graphic element. </p>

<p><a name="1008699"> </a><a href="UserInterface.html#1008715">Table 4.6</a> shows the system events generated when the user interacts with the pop-up trigger and <code>CtlHandleEvent</code>'s response to the events. Because pop-up triggers are used to display list objects, also see the section <a href="UserInterface.html#1009837">"Lists"</a> in this chapter. </p>

<p class="FFigureCaption">
  <a name="1008704"> </a><b>Figure 4.9&nbsp;&nbsp;Pop-up trigger</b>
</p>
<div align="left"><img src="images/popup.gif" border="0" hspace="0" vspace="0">
</div>

<p class="caption"><a name="1008715"> </a><b>Table 4.6&nbsp;&nbsp;Event flow for pop-up triggers </b></p>
<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1008721"> </a><b>User Action</b></p>
    </th>
    <th><p class="tt"><a name="1008723"> </a><b>System Response</b></p>
    </th>
    <th><p class="tt"><a name="1008725"> </a><b>CtlHandleEvent Response</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008727"> </a>Pen goes down on the pop-up trigger.</p>
    </td>
    <td><p class="tt"><a name="1008733"> </a><a href="../PalmOSReference/EventRef.html#997559"><code>penDownEvent</code></a> with the x and y coordinates stored in <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>. </p>
    </td>
    <td><p class="tt"><a name="1008735"> </a>Adds the <code>ctlEnterEvent</code> to the event queue. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008737"> </a></p>
    </td>
    <td><p class="tt"><a name="1008743"> </a><a href="../PalmOSReference/EventRef.html#996240"><code>ctlEnterEvent</code></a> with pop-up trigger's ID number. </p>
    </td>
    <td><p class="tt"><a name="1008745"> </a>Inverts the trigger's display.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008747"> </a>Pen is lifted from button.</p>
    </td>
    <td><p class="tt"><a name="1008753"> </a><a href="../PalmOSReference/EventRef.html#997610"><code>penUpEvent</code></a> with the x and y coordinates stored in <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>.</p>
    </td>
    <td><p class="tt"><a name="1008755"> </a>Adds the <code>ctlSelectEvent</code> to the event queue. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008757"> </a></p>
    </td>
    <td><p class="tt"><a name="1008763"> </a><a href="../PalmOSReference/EventRef.html#996366"><code>ctlSelectEvent</code></a> with pop-up trigger's ID number. </p>
    </td>
    <td><p class="tt"><a name="1008769"> </a>Adds a <a href="../PalmOSReference/EventRef.html#1026487"><code>winEnterEvent</code></a> for the list object's window to the event queue. Control passes to <a href="../PalmOSReference/Form.html#998041"><code>FrmHandleEvent</code></a>, which displays the list and adds a <a href="../PalmOSReference/EventRef.html#997651"><code>popSelectEvent</code></a> to the event queue. Control then passes to <a href="../PalmOSReference/List.html#996234"><code>LstHandleEvent</code></a>. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008780"> </a>Pen is lifted outside button.</p>
    </td>
    <td><p class="tt"><a name="1008786"> </a><a href="../PalmOSReference/EventRef.html#997610"><code>penUpEvent</code></a> with the x and y coordinates stored in <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>.</p>
    </td>
    <td><p class="tt"><a name="1008791"> </a>Adds the <a href="../PalmOSReference/EventRef.html#996274"><code>ctlExitEvent</code></a> to the event queue. </p>
    </td>
  </tr>
</table>

</div>


<div><hr>
  <a name="1008793"> </a> <b>TIP: </b> To create a pop-up list in Constructor for Palm OS, add a pop-up trigger to your form, then add a list at the same coordinates, uncheck the usable check box in the list resource settings, and then set the List ID in the pop-up trigger to match the ID of the list resource. 
<hr>
</div>
<h3 class="hbH3">
  <a name="1008794"> </a>Selector Trigger <a href="#1007614"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1008799"> </a>A selector trigger (see <a href="UserInterface.html#1008805">Figure 4.10</a>) displays a text label surrounded by a gray rectangular frame. If the text label changes, the width of the control expands or contracts to the width of the new label.</p>

<p><a name="1008803"> </a><a href="UserInterface.html#1008816">Table 4.7</a> shows the system events generated when the user interacts with the selector trigger and <code>CtlHandleEvent</code>'s response to the events. </p>

<p class="FFigureCaption">
  <a name="1008805"> </a><b>Figure 4.10&nbsp;&nbsp;Selector trigger</b>
</p>
<div align="left"><img src="images/selector.gif" border="0" hspace="0" vspace="0">
</div>

<p class="caption"><a name="1008816"> </a><b>Table 4.7&nbsp;&nbsp;Event flow for selector triggers </b></p>
<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1008822"> </a><b>User Action</b></p>
    </th>
    <th><p class="tt"><a name="1008824"> </a><b>System Response</b></p>
    </th>
    <th><p class="tt"><a name="1008826"> </a><b>CtlHandleEvent Response</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008828"> </a>Pen goes down on a selector trigger.</p>
    </td>
    <td><p class="tt"><a name="1008834"> </a><a href="../PalmOSReference/EventRef.html#997559"><code>penDownEvent</code></a> with the x and y coordinates stored in <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>. </p>
    </td>
    <td><p class="tt"><a name="1008836"> </a>Adds the <code>ctlEnterEvent</code> to the event queue. </p>
<p class="tt"><a name="1008837"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008839"> </a></p>
    </td>
    <td><p class="tt"><a name="1008845"> </a><a href="../PalmOSReference/EventRef.html#996240"><code>ctlEnterEvent</code></a> with selector trigger's ID number. </p>
    </td>
    <td><p class="tt"><a name="1008847"> </a>Inverts the button's display.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008849"> </a>Pen is lifted from the selector trigger.</p>
    </td>
    <td><p class="tt"><a name="1008855"> </a><a href="../PalmOSReference/EventRef.html#997610"><code>penUpEvent</code></a> with the x and y coordinates stored in <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>.</p>
    </td>
    <td><p class="tt"><a name="1008857"> </a>Adds the <code>ctlSelectEvent</code> to the event queue. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008859"> </a></p>
    </td>
    <td><p class="tt"><a name="1008865"> </a><a href="../PalmOSReference/EventRef.html#996366"><code>ctlSelectEvent</code></a> with selector trigger's ID number. </p>
    </td>
    <td><p class="tt"><a name="1008871"> </a>Adds a <a href="../PalmOSReference/EventRef.html#996834"><code>frmOpenEvent</code></a> followed by a <a href="../PalmOSReference/EventRef.html#997992"><code>winExitEvent</code></a> to the event queue. Control is passed to the form object. </p>
    </td>
  </tr>
</table>

</div>

<h3 class="hbH3">
  <a name="1008877"> </a>Repeating Button <a href="#1007614"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1008879"> </a>A repeat control looks like a button. In contrast to buttons, however, users can repeatedly select repeat controls if they don't lift the pen when the control has been selected. The object is selected repeatedly until the pen is lifted.</p>

<p><a name="1008883"> </a><a href="UserInterface.html#1008890">Table 4.8</a> shows the system events generated when the user interacts with the repeating button and <code>CtlHandleEvent</code>'s response to the events. </p>

<p class="caption"><a name="1008890"> </a><b>Table 4.8&nbsp;&nbsp;Event flow for repeating buttons </b></p>
<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1008896"> </a><b>User Action</b></p>
    </th>
    <th><p class="tt"><a name="1008898"> </a><b>System Response</b></p>
    </th>
    <th><p class="tt"><a name="1008900"> </a><b>CtlHandleEvent Response</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008902"> </a>Pen goes down on a repeating button.</p>
    </td>
    <td><p class="tt"><a name="1008908"> </a><a href="../PalmOSReference/EventRef.html#997559"><code>penDownEvent</code></a> with the x and y coordinates stored in <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>. </p>
    </td>
    <td><p class="tt"><a name="1008910"> </a>Adds the <code>ctlEnterEvent</code> to the event queue. </p>
<p class="tt"><a name="1008911"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008913"> </a></p>
    </td>
    <td><p class="tt"><a name="1008919"> </a><a href="../PalmOSReference/EventRef.html#996240"><code>ctlEnterEvent</code></a> with button's ID number. </p>
    </td>
    <td><p class="tt"><a name="1008921"> </a>Adds the <code>ctlRepeatEvent</code> to the event queue. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008923"> </a>Pen remains on repeating button. </p>
    </td>
    <td><p class="tt"><a name="1008929"> </a><a href="../PalmOSReference/EventRef.html#996314"><code>ctlRepeatEvent</code></a> </p>
    </td>
    <td><p class="tt"><a name="1008931"> </a>Tracks the pen for a period of time, then sends another <code>ctlRepeatEvent</code> if the pen is still within the bounds of the control. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008933"> </a>Pen is dragged off the repeating button.</p>
    </td>
    <td><p class="tt"><a name="1008935"> </a></p>
    </td>
    <td><p class="tt"><a name="1008937"> </a>No <code>ctlRepeatEvent</code> occurs. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008939"> </a>Pen is dragged back onto the button. </p>
    </td>
    <td><p class="tt"><a name="1008945"> </a><a href="../PalmOSReference/EventRef.html#996314"><code>ctlRepeatEvent</code></a></p>
    </td>
    <td><p class="tt"><a name="1008947"> </a>See above. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008949"> </a>Pen is lifted from button.</p>
    </td>
    <td><p class="tt"><a name="1008955"> </a><a href="../PalmOSReference/EventRef.html#997610"><code>penUpEvent</code></a> with the x and y coordinates stored in <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>.</p>
    </td>
    <td><p class="tt"><a name="1008961"> </a>Adds the <a href="../PalmOSReference/EventRef.html#996274"><code>ctlExitEvent</code></a> to the event queue. </p>
    </td>
  </tr>
</table>

</div>

<h3 class="hbH3">
  <a name="1008963"> </a>Push Buttons <a href="#1007614"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1008967"> </a>Push buttons (see <a href="UserInterface.html#1008974">Figure 4.11</a>) look like buttons, but the frame always has square corners. Touching a push button with the pen inverts the bounds. If the pen is released within the bounds, the button remains inverted. </p>

<p><a name="1008972"> </a><a href="UserInterface.html#1008986">Table 4.9</a> shows the system events generated when the user interacts with the push button and <code>CtlHandleEvent</code>'s response to the events. </p>

<p class="FFigureCaption">
  <a name="1008974"> </a><b>Figure 4.11&nbsp;&nbsp;Push buttons</b>
</p>
<div align="left"><img src="images/pushbuttons.gif" border="0" hspace="0" vspace="0">
</div>.

<p class="caption"><a name="1008986"> </a><b>Table 4.9&nbsp;&nbsp;Event flow for push buttons </b></p>
<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1008992"> </a><b>User Action</b></p>
    </th>
    <th><p class="tt"><a name="1008994"> </a><b>System Response</b></p>
    </th>
    <th><p class="tt"><a name="1008996"> </a><b>CtlHandleEvent Response</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1008998"> </a>Pen goes down on a push button.</p>
    </td>
    <td><p class="tt"><a name="1009004"> </a><a href="../PalmOSReference/EventRef.html#997559"><code>penDownEvent</code></a> with the x and y coordinates stored in <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>. </p>
    </td>
    <td><p class="tt"><a name="1009006"> </a>Adds the <code>ctlEnterEvent</code> to the event queue. </p>
<p class="tt"><a name="1009007"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009009"> </a></p>
    </td>
    <td><p class="tt"><a name="1009015"> </a><a href="../PalmOSReference/EventRef.html#996240"><code>ctlEnterEvent</code></a> with push button's ID number. </p>
    </td>
    <td><p class="tt"><a name="1009017"> </a>If push button is grouped and highlighted, no change. If push button is ungrouped and highlighted, it becomes unhighlighted. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009019"> </a>Pen is lifted from push button.</p>
    </td>
    <td><p class="tt"><a name="1009025"> </a><a href="../PalmOSReference/EventRef.html#997610"><code>penUpEvent</code></a> with the x and y coordinates stored in <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>.</p>
    </td>
    <td><p class="tt"><a name="1009031"> </a>Adds the <a href="../PalmOSReference/EventRef.html#996366"><code>ctlSelectEvent</code></a> to the event queue. </p>
    </td>
  </tr>
</table>

</div>

<h3 class="hbH3">
  <a name="1009033"> </a>Check Boxes <a href="#1007614"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1009037"> </a>Check boxes (see <a href="UserInterface.html#1009044">Figure 4.12</a>) display a setting, either on (checked) or off (unchecked). Touching a check box with the pen toggles the setting. The check box appears as a square, which contains a check mark if the check box's setting is on. A check box can have a text label attached to it; selecting the label also toggles the check box.</p>

<p><a name="1009042"> </a><a href="UserInterface.html#1009055">Table 4.10</a> shows the system events generated when the user interacts with the check box and <code>CtlHandleEvent</code>'s response to the events. </p>

<p class="FFigureCaption">
  <a name="1009044"> </a><b>Figure 4.12&nbsp;&nbsp;Check boxes</b>
</p>
<div align="left"><img src="images/checkbox.gif" border="0" hspace="0" vspace="0">
</div>

<p class="caption"><a name="1009055"> </a><b>Table 4.10&nbsp;&nbsp;Event flow for check boxes </b></p>
<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1009061"> </a><b>User Action</b></p>
    </th>
    <th><p class="tt"><a name="1009063"> </a><b>Event Generated</b></p>
    </th>
    <th><p class="tt"><a name="1009065"> </a><b>CtlHandleEvent Response</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009067"> </a>Pen goes down on check box.</p>
    </td>
    <td><p class="tt"><a name="1009073"> </a><a href="../PalmOSReference/EventRef.html#997559"><code>penDownEvent</code></a> with the x and y coordinates stored in <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>. </p>
    </td>
    <td><p class="tt"><a name="1009075"> </a>Adds the <code>ctlEnterEvent</code> to the event queue. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009077"> </a></p>
    </td>
    <td><p class="tt"><a name="1009083"> </a><a href="../PalmOSReference/EventRef.html#996240"><code>ctlEnterEvent</code></a> with check box's ID number. </p>
    </td>
    <td><p class="tt"><a name="1009085"> </a>Tracks the pen until the user lifts it. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009087"> </a>Pen is lifted from check box.</p>
    </td>
    <td><p class="tt"><a name="1009093"> </a><a href="../PalmOSReference/EventRef.html#997610"><code>penUpEvent</code></a> with the x and y coordinates stored in <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>.</p>
    </td>
    <td><ul type="disc">
  <li><a name="1009095"> </a>If the check box is unchecked, a check appears. 
  <li><a name="1009096"> </a>If the check box is already checked and is grouped, there is no change in appearance.
  <li><a name="1009097"> </a>If the check box is already checked and is ungrouped, the check disappears. 
</ul>

<p><a name="1009102"> </a>Adds the <a href="../PalmOSReference/EventRef.html#996366"><code>ctlSelectEvent</code></a> to the event queue. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009104"> </a>Pen is lifted outside box.</p>
    </td>
    <td><p class="tt"><a name="1009110"> </a><a href="../PalmOSReference/EventRef.html#997610"><code>penUpEvent</code></a> with the x and y coordinates stored in <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>.</p>
    </td>
    <td><p class="tt"><a name="1009115"> </a>Adds the <a href="../PalmOSReference/EventRef.html#996274"><code>ctlExitEvent</code></a> to the event queue. </p>
    </td>
  </tr>
</table>

</div>

<h3 class="hbH3">
  <a name="1009117"> </a>Sliders and Feedback Sliders <a href="#1007614"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1009121"> </a>Starting in Palm OS 3.5, slider controls (see <a href="UserInterface.html#1009124">Figure 4.13</a>) are supported. Sliders represent a value that falls within a particular range. For example, a slider might represent a value that can be between 0 and 10. </p>

<p class="FFigureCaption">
  <a name="1009124"> </a><b>Figure 4.13&nbsp;&nbsp;Slider </b>
</p>
<div align="left"><img src="images/Slider.gif" border="0" hspace="0" vspace="0">
</div>

<p><a name="1009129"> </a>There are four attributes that are unique to slider controls:</p>
<ul type="disc">
  <li><a name="1009130"> </a>The minimum value the slider can represent
  <li><a name="1009131"> </a>The maximum value the slider can represent 
  <li><a name="1009132"> </a>The current value 
  <li><a name="1009133"> </a>The page jump value, or the amount by which the value is increased or decreased when the user clicks to the left or right of the slider thumb 
</ul>

<p><a name="1009135"> </a>Palm OS supports two types of sliders: regular slider and feedback slider. Sliders and feedback sliders look alike but behave differently. Specifically, a regular slider control does not send events while the user is dragging its thumb. A feedback slider control sends an event each time the thumb moves one pixel, whether the pen has been lifted or not. </p>

<p><a name="1009139"> </a><a href="UserInterface.html#1009146">Table 4.11</a> shows the system events generated when the user interfaces with a slider and how <code>CtlHandleEvent</code> responds to the events. </p>

<p class="caption"><a name="1009146"> </a><b>Table 4.11&nbsp;&nbsp;Event flow for sliders </b></p>
<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1009152"> </a><b>User Action</b></p>
    </th>
    <th><p class="tt"><a name="1009154"> </a><b>System Response</b></p>
    </th>
    <th><p class="tt"><a name="1009156"> </a><b>CtlHandleEvent Response</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009158"> </a>Pen tap on slider's background. </p>
    </td>
    <td><p class="tt"><a name="1009164"> </a><a href="../PalmOSReference/EventRef.html#997559"><code>penDownEvent</code></a> with the x and y coordinates stored in <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>. </p>
    </td>
    <td><p class="tt"><a name="1009166"> </a>Adds the <code>ctlEnterEvent</code> to the event queue. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009168"> </a></p>
    </td>
    <td><p class="tt"><a name="1009173"> </a><a href="../PalmOSReference/EventRef.html#996240"><code>ctlEnterEvent</code></a> with slider's ID number. </p>
    </td>
    <td><p class="tt"><a name="1009175"> </a>Adds or subtracts the slider's page jump value from its current value, and adds a <a href="../PalmOSReference/EventRef.html#996366"><code>ctlSelectEvent</code></a> with the new value to the event queue. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009180"> </a>Pen goes down on the slider's thumb.</p>
    </td>
    <td><p class="tt"><a name="1009186"> </a><a href="../PalmOSReference/EventRef.html#997559"><code>penDownEvent</code></a> with the x and y coordinates stored in <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>. </p>
    </td>
    <td><p class="tt"><a name="1009188"> </a>Adds the <code>ctlEnterEvent</code> to the event queue. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009190"> </a></p>
    </td>
    <td><p class="tt"><a name="1009193"> </a><code>ctlEnterEvent</code> with slider's ID number. </p>
    </td>
    <td><p class="tt"><a name="1009195"> </a>Tracks the pen. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009197"> </a>Pen drags slider's thumb to the left or right. </p>
    </td>
    <td><p class="tt"><a name="1009199"> </a></p>
    </td>
    <td><p class="tt"><a name="1009201"> </a>Continues tracking the pen. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009203"> </a>Pen is lifted from slider.</p>
    </td>
    <td><p class="tt"><a name="1009209"> </a><a href="../PalmOSReference/EventRef.html#997610"><code>penUpEvent</code></a> with the x and y coordinates stored in <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>.</p>
    </td>
    <td><p class="tt"><a name="1009211"> </a>Adds the <code>ctlSelectEvent</code> with the slider's ID number and new value if the coordinates are within the bounds of the slider. </p>

<p><a name="1009215"> </a>Adds the <a href="../PalmOSReference/EventRef.html#996274"><code>ctlExitEvent</code></a> if the coordinates are outside of the slider's bounds. </p>
    </td>
  </tr>
</table>

</div>


<p><a name="1009220"> </a><a href="UserInterface.html#1009227">Table 4.12</a> shows the system events generated when the user interacts with a feedback slider and <code>CtlHandleEvent</code>'s response to the events. </p>

<p class="caption"><a name="1009227"> </a><b>Table 4.12&nbsp;&nbsp;Event flow for feedback sliders </b></p>
<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1009233"> </a><b>User Action</b></p>
    </th>
    <th><p class="tt"><a name="1009235"> </a><b>System Response</b></p>
    </th>
    <th><p class="tt"><a name="1009237"> </a><b>CtlHandleEvent Response</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009239"> </a>Pen tap on slider's background. </p>
    </td>
    <td><p class="tt"><a name="1009245"> </a><a href="../PalmOSReference/EventRef.html#997559"><code>penDownEvent</code></a> with the x and y coordinates stored in <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>. </p>
    </td>
    <td><p class="tt"><a name="1009247"> </a>Adds the <code>ctlEnterEvent</code> to the event queue. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009249"> </a></p>
    </td>
    <td><p class="tt"><a name="1009254"> </a><a href="../PalmOSReference/EventRef.html#996240"><code>ctlEnterEvent</code></a> with slider's ID number. </p>
    </td>
    <td><p class="tt"><a name="1009256"> </a>Adds or subtracts the slider's page jump value from its current value and then sends a <code>ctlRepeatEvent</code> with the slider's new value. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009258"> </a></p>
    </td>
    <td><p class="tt"><a name="1009263"> </a><a href="../PalmOSReference/EventRef.html#996314"><code>ctlRepeatEvent</code></a> </p>
    </td>
    <td><p class="tt"><a name="1009265"> </a>Adds or subtracts the slider's page jump value from its current value repeatedly until the thumb reaches the pen position or the slider's minimum or maximum. Then sends a <a href="../PalmOSReference/EventRef.html#996366"><code>ctlSelectEvent</code></a> with slider's ID number and new value. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009271"> </a>Pen goes down on the slider's thumb.</p>
    </td>
    <td><p class="tt"><a name="1009277"> </a><a href="../PalmOSReference/EventRef.html#997559"><code>penDownEvent</code></a> with the x and y coordinates stored in <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>. </p>
    </td>
    <td><p class="tt"><a name="1009279"> </a>Adds the <code>ctlEnterEvent</code> to the event queue. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009281"> </a></p>
    </td>
    <td><p class="tt"><a name="1009284"> </a><code>ctlEnterEvent</code> with slider's ID number. </p>
    </td>
    <td><p class="tt"><a name="1009286"> </a>Tracks the pen and updates the display. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009288"> </a>Pen drags slider's thumb to the left or right. </p>
    </td>
    <td><p class="tt"><a name="1009294"> </a><a href="../PalmOSReference/EventRef.html#996314"><code>ctlRepeatEvent</code></a> with slider's ID number and new value. </p>
    </td>
    <td><p class="tt"><a name="1009296"> </a>Tracks the pen. Each time pen moves to the left or right, sends another <code>ctlRepeatEvent</code> if the pen is still within the bounds of the control. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009298"> </a>Pen is dragged off the slider vertically.</p>
    </td>
    <td><p class="tt"><a name="1009300"> </a></p>
    </td>
    <td><p class="tt"><a name="1009302"> </a><code>ctlRepeatEvent</code> with the slider's ID number and old value. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009304"> </a>Pen is dragged back onto the slider. </p>
    </td>
    <td><p class="tt"><a name="1009306"> </a></p>
    </td>
    <td><p class="tt"><a name="1009308"> </a><code>ctlRepeatEvent</code> with the slider's ID number and new value. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009310"> </a>Pen is lifted from slider.</p>
    </td>
    <td><p class="tt"><a name="1009316"> </a><a href="../PalmOSReference/EventRef.html#997610"><code>penUpEvent</code></a> with the x and y coordinates stored in <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>.</p>
    </td>
    <td><p class="tt"><a name="1009322"> </a>Adds the <a href="../PalmOSReference/EventRef.html#996274"><code>ctlExitEvent</code></a> to the event queue. </p>
    </td>
  </tr>
</table>

</div>


<p><a name="1009325"> </a>Sliders are drawn using two bitmaps: one for the slider background, and the other for the thumb. You may use the default bitmaps to draw sliders, or you may specify your own bitmaps when you create the slider. </p>

<p><a name="1009326"> </a>The background bitmap you provide can be smaller than the slider's bounding rectangle. This allows you to provide one bitmap for sliders of several different sizes. If the background bitmap isn't as tall as the slider's bounding rectangle, it's vertically centered in the rectangle. If the bitmap isn't as wide as the slider's bounding rectangle, the bitmap is drawn twice. First, it's drawn left-justified in the left half of the bounding rectangle and clipped to exactly half of the rectangle's width. Then, it's drawn right-justified in the right half of the bounding rectangle and clipped to exactly half of the rectangle's width. (See <a href="UserInterface.html#1009331">Figure 4.14</a>.) Note that this means that the bitmap you provide must be at least half the width of the bounding rectangle. </p>

<p class="FFigureCaption">
  <a name="1009331"> </a><b>Figure 4.14&nbsp;&nbsp;Drawing a slider background<div align="left"><img src="images/SliderDrawing.gif" border="0" hspace="0" vspace="0">
</div></b>
</p>


<h2 class="haH2">
  <a name="1009337"> </a>Fields <a href="#1007614"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1009348"> </a>A field object displays one or more lines of text. <a href="UserInterface.html#1009350">Figure 4.15</a> is an underlined, left-justified field containing data.</p>

<p class="FFigureCaption">
  <a name="1009350"> </a><b>Figure 4.15&nbsp;&nbsp;Field</b>
</p>
<div align="left"><img src="images/field.gif" border="0" hspace="0" vspace="0">
</div>

<p><a name="1009355"> </a>The field object supports these features:</p>
<ul type="disc">
  <li><a name="1009356"> </a>Proportional fonts (only one font per field)
  <li><a name="1009357"> </a>Drag-selection
  <li><a name="1009358"> </a>Scrolling for multiline fields
  <li><a name="1009359"> </a>Cut, copy, and paste
  <li><a name="1009360"> </a>Left and right text justification
  <li><a name="1009361"> </a>Tab stops
  <li><a name="1009362"> </a>Editable/noneditable attribute
  <li><a name="1009363"> </a>Expandable field height (the height of the field expands as more text is entered)
  <li><a name="1009364"> </a>Underlined text (each line of the field is underlined)
  <li><a name="1009365"> </a>Maximum character limit (the field stops accepting characters when the maximum is reached)
  <li><a name="1009366"> </a>Special keys (Graffiti and Graffiti 2 strokes) to support cut, copy, and paste
  <li><a name="1009367"> </a>Insertion point positioning with pen (the insertion point is positioned by touching the pen between characters)
  <li><a name="1009368"> </a>Scroll bars
</ul>

<p><a name="1009369"> </a>The field object does <i>not</i> support overstrike input mode; horizontal scrolling; numeric formatting; or special keys for page up, page down, left word, right word, home, end, left margin, right margin, and backspace. On Palm OS versions earlier than 3.5, the field object also does not support word selection. Starting in version 3.5, double-tapping a word selects that word, and triple-tapping selects the entire line. </p>

<div><hr>
  <a name="1009371"> </a> <b>NOTE: </b> Field objects can handle line feeds&#8212;\0A&#8212;but not carriage returns&#8212;\0D. PalmRez translates any carriage returns it finds in any Palm OS resources into line feeds, but doesn't touch static data. 
<hr>
</div>

<p><a name="1009380"> </a>Events in field objects are handled by <a href="../PalmOSReference/Field.html#997059"><code>FldHandleEvent</code></a>. <a href="UserInterface.html#1009388">Table 4.13</a> provides an overview of how <code>FldHandleEvent</code> deals with the different events</p>

<p class="caption"><a name="1009388"> </a><b>Table 4.13&nbsp;&nbsp;Event flow for fields </b></p>
<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1009394"> </a><b>User Action</b></p>
    </th>
    <th><p class="tt"><a name="1009396"> </a><b>Event Generated</b></p>
    </th>
    <th><p class="tt"><a name="1009398"> </a><b>FldHandleEvent Response</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009400"> </a>Pen goes down on a field.</p>
    </td>
    <td><p class="tt"><a name="1009406"> </a><a href="../PalmOSReference/EventRef.html#997559"><code>penDownEvent</code></a> with the x and y coordinates stored in <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>. </p>
    </td>
    <td><p class="tt"><a name="1009408"> </a>Adds the <code>fldEnterEvent</code> to the event queue. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009410"> </a></p>
    </td>
    <td><p class="tt"><a name="1009416"> </a><a href="../PalmOSReference/EventRef.html#996489"><code>fldEnterEvent</code></a> with the field's ID number.</p>
    </td>
    <td><p class="tt"><a name="1009418"> </a>Sets the insertion point position to the position of the pen and tracks the pen until it is released. Drag-selection and drag-scrolling are supported.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009420"> </a></p>
    </td>
    <td><p class="tt"><a name="1009422"> </a></p>
    </td>
    <td><p class="tt"><a name="1009424"> </a>Starting in Palm OS 3.5, double-tapping in a field selects the word at that location, and triple-tapping selects the line. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009426"> </a>Pen is lifted.</p>
    </td>
    <td><p class="tt"><a name="1009432"> </a><a href="../PalmOSReference/EventRef.html#997610"><code>penUpEvent</code></a> with the x and y coordinates. </p>
    </td>
    <td><p class="tt"><a name="1009434"> </a>Nothing happens; a field remains selected until another field is selected or the form that contains the field is closed.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009436"> </a>Enters characters into selected field. </p>
    </td>
    <td><p class="tt"><a name="1009442"> </a><a href="../PalmOSReference/EventRef.html#997089"><code>keyDownEvent</code></a> with character value in <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>.</p>
    </td>
    <td><p class="tt"><a name="1009444"> </a>Character added to field's text string. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009447"> </a>Presses up arrow key</p>
    </td>
    <td><p class="tt"><a name="1009453"> </a><a href="../PalmOSReference/EventRef.html#997089"><code>keyDownEvent</code></a></p>
    </td>
    <td><p class="tt"><a name="1009455"> </a>Moves insertion point up a line.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009458"> </a>Presses down arrow</p>
    </td>
    <td><p class="tt"><a name="1009464"> </a><a href="../PalmOSReference/EventRef.html#997089"><code>keyDownEvent</code></a></p>
    </td>
    <td><p class="tt"><a name="1009466"> </a>Moves insertion point down a line; the insertion point doesn't move beyond the last line that contains text.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009469"> </a>Presses left arrow</p>
    </td>
    <td><p class="tt"><a name="1009475"> </a><a href="../PalmOSReference/EventRef.html#997089"><code>keyDownEvent</code></a></p>
    </td>
    <td><p class="tt"><a name="1009477"> </a>Moves insertion point one character position to the left. When the left margin is reached, move to the end of the previous line.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009480"> </a>Presses right arrow</p>
    </td>
    <td><p class="tt"><a name="1009486"> </a><a href="../PalmOSReference/EventRef.html#997089"><code>keyDownEvent</code></a></p>
    </td>
    <td><p class="tt"><a name="1009488"> </a>Moves insertion point one character position to the right. When the right margin is reached, move to the start of the next line.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009490"> </a>Cut command</p>
    </td>
    <td><p class="tt"><a name="1009496"> </a><a href="../PalmOSReference/EventRef.html#997089"><code>keyDownEvent</code></a></p>
    </td>
    <td><p class="tt"><a name="1009498"> </a>Cuts the current selection to the text clipboard.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009500"> </a>Copy command</p>
    </td>
    <td><p class="tt"><a name="1009506"> </a><a href="../PalmOSReference/EventRef.html#997089"><code>keyDownEvent</code></a></p>
    </td>
    <td><p class="tt"><a name="1009508"> </a>Copies the current selection to the text clipboard.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009510"> </a>Paste command</p>
    </td>
    <td><p class="tt"><a name="1009516"> </a><a href="../PalmOSReference/EventRef.html#997089"><code>keyDownEvent</code></a></p>
    </td>
    <td><p class="tt"><a name="1009518"> </a>Inserts clipboard text into the field at insertion point.</p>
    </td>
  </tr>
</table>

</div>


<h2 class="haH2">
  <a name="1009521"> </a>Menus <a href="#1007614"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1009524"> </a>A menu bar is displayed whenever the user taps a menu icon. Starting in Palm OS 3.5, the menu bar is also displayed when the user taps in a form's titlebar. The menu bar, a horizontal list of menu titles, appears at the top of the screen in its own window, above all application windows. Pressing a menu title highlights the title and "pulls down" the menu below the title (see <a href="UserInterface.html#1036223">Figure 4.16</a>). </p>

<p class="FFigureCaption">
  <a name="1036223"> </a><b>Figure 4.16&nbsp;&nbsp;Menu<div align="left"><img src="images/EditMenu.gif" border="0" hspace="0" vspace="0">
</div></b>
</p>


<p><a name="1036228"> </a>User actions have the following effect on a menu:</p>


<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1009552"> </a><b>When...</b></p>
    </th>
    <th><p class="tt"><a name="1009554"> </a><b>Then...</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009556"> </a>User drags the pen through the menu</p>
    </td>
    <td><p class="tt"><a name="1009558"> </a>Command under the pen is highlighted</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009560"> </a>Pen is released over a menu item</p>
    </td>
    <td><p class="tt"><a name="1009562"> </a>That item is selected and the menu bar and menu disappear</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009564"> </a>Pen is released outside both the menu bar and the menu</p>
    </td>
    <td><p class="tt"><a name="1009566"> </a>Both menu and menu bar disappear and no selection is made</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009568"> </a>Pen is released in a menu title (Palm OS 3.5 and later only)</p>
    </td>
    <td><p class="tt"><a name="1009570"> </a>Menu bar and Menu remain displayed until a selection is made from the menu. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009572"> </a>Pen is tapped outside menu and menu bar</p>
    </td>
    <td><p class="tt"><a name="1009574"> </a>Both menu and menu bar are dismissed</p>
    </td>
  </tr>
</table>

</div>


<p><a name="1009576"> </a>A menu has the following features:</p>
<ul type="disc">
  <li><a name="1009577"> </a>Item separators, which are lines to group menu items.
  <li><a name="1009578"> </a>Menu shortcuts; the shortcut labels are right justified in menu items.
  <li><a name="1009579"> </a>A menu remembers its last selection; the next time a menu is displayed the prior selection appears highlighted.
  <li><a name="1009581"> </a>The bits behind the menu bar and the menus are saved and restored by the menu routines.
  <li><a name="1009582"> </a>When the menu is visible, the insertion point is turned off.
</ul>

<p><a name="1009590"> </a>Menu events are handled by <a href="../PalmOSReference/Menu.html#996804"><code>MenuHandleEvent</code></a>. <a href="UserInterface.html#1009597">Table 4.14</a> describes how user actions get translated into events and what <code>MenuHandleEvent</code> does in response. </p>

<p class="caption"><a name="1009597"> </a><b>Table 4.14&nbsp;&nbsp;Event flow for menus </b></p>
<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1009603"> </a><b>User Action</b></p>
    </th>
    <th><p class="tt"><a name="1009605"> </a><b>Event Generated</b></p>
    </th>
    <th><p class="tt"><a name="1009607"> </a><b>MenuHandleEvent Response</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009609"> </a>Pen enters menu bar.</p>
    </td>
    <td><p class="tt"><a name="1009615"> </a><a href="../PalmOSReference/EventRef.html#1026487"><code>winEnterEvent</code></a> identifying menu's window. </p>
    </td>
    <td><p class="tt"><a name="1009617"> </a>Tracks the pen.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009619"> </a>User selects a menu item. </p>
    </td>
    <td><p class="tt"><a name="1009625"> </a><a href="../PalmOSReference/EventRef.html#997610"><code>penUpEvent</code></a> with the x and y coordinates. </p>
    </td>
    <td><p class="tt"><a name="1009631"> </a>Adds a <a href="../PalmOSReference/EventRef.html#997469"><code>menuEvent</code></a> with the item's ID to the event queue. </p>
    </td>
  </tr>
</table>

</div>

<h3 class="hbH3">
  <a name="1009635"> </a>Checking Menu Visibility <a href="#1007614"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1009636"> </a>When the operating system draws a menu, the menu's window becomes the active drawing window. The operating system generates a <a href="../PalmOSReference/EventRef.html#997992"><code>winExitEvent</code></a> for the previous active drawing window and a <a href="../PalmOSReference/EventRef.html#1026487"><code>winEnterEvent</code></a> for the menu's window. When the menu is erased, the system generates a <code>winExitEvent</code> for the menu's window and a <code>winEnterEvent</code> for the window that was active before the menu was drawn. </p>

<p><a name="1009645"> </a>It's common to want to check if the menu is visible in applications that perform custom drawing to a window. Such applications want to make sure that they don't draw on top of the menu. The recommended way to do this is to stop drawing when you receive a <code>winExitEvent</code> matching your drawing window and resume drawing when you receive the corresponding <code>winEnterEvent</code>. For example, the following code is excerpted from the Reptoids example application's main event loop:</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
EvtGetEvent (&amp;event, TimeUntillNextPeriod());<a name="1009646"> </a>
 <a name="1009647"> </a>
if (event.eType == winExitEvent) {<a name="1009648"> </a>
  if (event.data.winExit.exitWindow == <a name="1009649"> </a>
    (WinHandle) FrmGetFormPtr(MainView)) {<a name="1009650"> </a>
      // stop drawing. <a name="1009651"> </a>
  }<a name="1009652"> </a>
}<a name="1009653"> </a>
 <a name="1009654"> </a>
else if (event.eType == winEnterEvent) {<a name="1009655"> </a>
  if (event.data.winEnter.enterWindow == <a name="1009656"> </a>
    (WinHandle) FrmGetFormPtr(MainView) &amp;&amp;<a name="1009657"> </a>
    event.data.winEnter.enterWindow == <a name="1009658"> </a>
    (WinHandle) FrmGetFirstForm ()) {<a name="1009659"> </a>
      // start drawing<a name="1009660"> </a>
  }<a name="1009661"> </a>
}<a name="1009662"> </a>
</pre><div class="CodeRule"><hr></div>


<p><a name="1009663"> </a>Note that this technique is not specific to menus&#8212;your application should stop drawing if any window obscures your drawing window, and it will do so if you check for <code>winEnterEvent</code> and <code>winExitEvent</code>. </p>
<h3 class="hbH3">
  <a name="1009664"> </a>Dynamic Menus <a href="#1007614"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1009666"> </a>In releases of Palm OS prior to release 3.5, the menu was loaded from a menu resource (created with Constructor or some other tool) and could not be modified in code. Starting in Palm OS 3.5, you can add, hide, or unhide menu items while the menu resource is being loaded. </p>

<p><a name="1009671"> </a>A <a href="../PalmOSReference/EventRef.html#997494"><code>menuOpenEvent</code></a> is sent when the menu resource is loaded. (Note that this event is new in version 3.5. Previous releases do not use it.) In response to this event, you can call <a href="../PalmOSReference/Menu.html#996382"><code>MenuAddItem</code></a> to add a menu item to one of the pull-down menus, <a href="../PalmOSReference/Menu.html#996882"><code>MenuHideItem</code></a> to hide a menu item, or <a href="../PalmOSReference/Menu.html#997014"><code>MenuShowItem</code></a> to display a menu item. </p>

<p><a name="1009684"> </a>You might receive <code>menuOpenEvent</code> several times during an application session. The menu resource is loaded each time the menu is made the active menu. A menu becomes active the first time the user either requests that the menu be displayed or enters the command keystroke on the current form. That menu remains active as long as the form with which it is associated is active. A menu loses its active status under these conditions:</p>
<ul type="disc">
  <li><a name="1009689"> </a>When <a href="../PalmOSReference/Form.html#999064"><code>FrmSetMenu</code></a> is called to change the active menu on the form. 
  <li><a name="1009690"> </a>When a new form, even a modal form or alert panel, becomes active.
</ul>

<p><a name="1009691"> </a>Suppose a user selects your application's About item from the Options menu then clicks the OK button to return to the main form. When the About dialog is displayed, it becomes the active form, which causes the main form's menu state to be erased. This menu state is not restored when the main form becomes active again. The next time the user requests the menu, the menu resource is reloaded, and a new <code>menuOpenEvent</code> is queued. </p>

<p><a name="1009692"> </a>You should only make changes to a menu the first time it is loaded after a form becomes active. You should not add, hide, or show items based on user context. Such practice is discouraged in the Palm OS user interface guidelines.</p>
<h3 class="hbH3">
  <a name="1009694"> </a>Menu Shortcuts <a href="#1007614"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1009696"> </a>As an alternative to selecting a menu command through the user interface, users can instead enter a menu shortcut. This support is present in all versions of the Palm OS, but it was extended in Palm OS 3.5. </p>

<p><a name="1009697"> </a>On all versions of Palm OS, the user can enter a Graffiti or Graffiti 2 command keystroke followed by another character. If the next character matches one of the shortcut characters for an item on the active menu, a <a href="../PalmOSReference/EventRef.html#997469"><code>menuEvent</code></a> with that menu item is generated. To support this behavior, you simply specify a shortcut character when you create a menu item resource. The default behavior of Palm OS handles this shortcut appropriately. </p>

<div><hr>
  <a name="1009705"> </a> <b>NOTE: </b> If the <a href="../PalmOSReference/CompatibilityApdx.html#1027145">Graffiti 2 Feature Set</a> is present, avoid using a multi-stroke character as a keyboard shortcut if its first stroke matches the stroke of another letter (such as the letter "l" or the space character). 
<hr>
</div>

<p><a name="1009706"> </a>Starting in Palm OS 3.5, drawing the command stroke displays the command toolbar (see <a href="UserInterface.html#1009712">Figure 4.17</a>). This toolbar is the width of the screen. (Previous versions of Palm OS simply display the string "Command:" in the lower-left portion of the screen.) The command toolbar displays a status message on the left and buttons on the right. After drawing the command stroke, the user has the choice of writing a character or of tapping one of the buttons on the command toolbar. Both of these actions cause the status message to be briefly displayed and (in most cases) a <code>menuEvent</code> to be added to the event queue. </p>

<p class="FFigureCaption">
  <a name="1009712"> </a><b>Figure 4.17&nbsp;&nbsp;Command toolbar</b>
</p>
<div align="left"><img src="images/Toolbar.gif" border="0" hspace="0" vspace="0">
</div>

<p><a name="1009717"> </a>The buttons displayed on the toolbar depend on the user context. If the focus is in an editable field, the Field Manager displays buttons for cut, copy, and paste on the command toolbar. If there is an action to undo, the field manager also displays a button for undo. </p>

<p><a name="1009718"> </a>The active application may also add its own buttons to the toolbar. To do so, respond to the <a href="../PalmOSReference/EventRef.html#997429"><code>menuCmdBarOpenEvent</code></a> and use <a href="../PalmOSReference/Menu.html#996443"><code>MenuCmdBarAddButton</code></a> to add the button. <a href="UserInterface.html#1009731">Listing 4.1</a> shows some code from the Memo application that adds to the command toolbar a button that displays the security dialog and then prevents the field manager from adding other buttons. </p>
<p class="CCodeCaption">
  <a name="1009731"> </a><b>Listing 4.1&nbsp;&nbsp;Responding to menuCmdBarOpenEvent</b>
</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
else if (event-&gt;eType == menuCmdBarOpenEvent) {<a name="1009732"> </a>
 <a name="1009733"> </a>
   MenuCmdBarAddButton(menuCmdBarOnLeft, <a name="1009734"> </a>
      BarSecureBitmap, menuCmdBarResultMenuItem, <a name="1009735"> </a>
      ListOptionsSecurityCmd, 0);<a name="1009736"> </a>
 <a name="1009737"> </a>
   // Tell the field package to not add buttons <a name="1009738"> </a>
   // automatically; we've done it all ourselves.<a name="1009739"> </a>
   event-&gt;data.menuCmdBarOpen.preventFieldButtons = <a name="1009740"> </a>
      true;<a name="1009741"> </a>
 <a name="1009742"> </a>
   // Don't set handled to true; this event must <a name="1009743"> </a>
   // fall through to the system.<a name="1009744"> </a>
}<a name="1009745"> </a>
</pre><div class="CodeRule"><hr></div>


<p><a name="1009746"> </a>The system contains bitmaps that represent such commands as beaming and deleting records. If your application performs any of these actions, it should use the system bitmap. <a href="UserInterface.html#1009756">Table 4.15</a> shows the system bitmaps and the commands they represent. If you use any of these, you should use them in the order shown, from right to left. That is, <code>BarDeleteBitmap</code> should always be the rightmost of these bitmaps, and <code>BarInfoBitmap</code> should always be the leftmost. </p>

<p class="caption"><a name="1009756"> </a><b>Table 4.15&nbsp;&nbsp;System command toolbar bitmaps </b></p>
<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1009760"> </a><b>Bitmap</b></p>
    </th>
    <th><p class="tt"><a name="1009762"> </a><b>Command</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009765"> </a><code>BarDeleteBitmap</code> </p>
    </td>
    <td><p class="tt"><a name="1009767"> </a>Delete record. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009770"> </a><code>BarPasteBitmap</code> </p>
    </td>
    <td><p class="tt"><a name="1009772"> </a>Paste clipboard contents at insertion point. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009775"> </a><code>BarCopyBitmap</code> </p>
    </td>
    <td><p class="tt"><a name="1009777"> </a>Copy selection. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009780"> </a><code>BarCutBitmap</code> </p>
    </td>
    <td><p class="tt"><a name="1009782"> </a>Cut selection. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009785"> </a><code>BarUndoBitmap</code> </p>
    </td>
    <td><p class="tt"><a name="1009787"> </a>Undo previous action. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009790"> </a><code>BarSecureBitmap</code> </p>
    </td>
    <td><p class="tt"><a name="1009792"> </a>Show Security dialog. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009795"> </a><code>BarBeamBitmap</code> </p>
    </td>
    <td><p class="tt"><a name="1009797"> </a>Beam current record. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009800"> </a><code>BarInfoBitmap</code> </p>
    </td>
    <td><p class="tt"><a name="1009802"> </a>Show Info dialog (Launcher). </p>
    </td>
  </tr>
</table>

</div>


<p><a name="1009804"> </a>You should limit the buttons displayed on the command toolbar to 4 or 5. There are two reasons to limit the number of buttons. You must leave room for the status message to be displayed before the action is performed. Also, consider that the toolbar is displayed only briefly. Users must be able to instantly understand the meaning of each of the buttons on the toolbar. If there are too many buttons, it reduces the chance that users can find what they need. </p>

<p><a name="1009805"> </a>Note that the field manager already potentially displays 4 buttons by itself. If you want to suppress this behavior and display your own buttons when a field has focus, set the <code>preventFieldButtons</code> flag of the <code>menuCmdBarOpenEvent</code> to <code>true</code> as is shown in <a href="UserInterface.html#1009731">Listing 4.1</a>. </p>

<h2 class="haH2">
  <a name="1009810"> </a>Tables <a href="#1007614"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1009815"> </a>Tables support multi-column displays. Examples are: </p>
<ul type="disc">
  <li><a name="1009816"> </a>the List view of the ToDo application
  <li><a name="1009817"> </a>the Day view in the Datebook 
</ul>

<p><a name="1009818"> </a>The table object is used to organize several types of UI objects. The number of rows and the number of columns must be specified for each table object. A UI object can be placed inside a cell of a table. Tables often consist of rows or columns of the same object. For example, a table might have one column of labels and another column of fields. Tables can only be scrolled vertically. Tables can't include bitmaps.</p>

<p><a name="1009819"> </a>A problem may arise if non-text elements are used in the table. For example, assume you have a table with two columns. In the first column is an icon that displays information, the second column is a text column. The table only allows users to select elements in the first column that are as high as one row of text. If the icon is larger, only a narrow strip at the top of the column can be selected. </p>
<h3 class="hbH3">
  <a name="1009822"> </a>Table Event <a href="#1007614"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1009827"> </a>The table object generates the event <a href="../PalmOSReference/EventRef.html#997902"><code>tblSelectEvent</code></a>. This event contains:</p>
<ul type="disc">
  <li><a name="1009828"> </a>The table's ID number 
  <li><a name="1009829"> </a>The row of the selected table 
  <li><a name="1009830"> </a>The column of the selected table 
</ul>

<p><a name="1009835"> </a>When <a href="../PalmOSReference/EventRef.html#997902"><code>tblSelectEvent</code></a> is sent to a table, the table generates an event to handle any possible events within the item's UI object.</p>

<h2 class="haH2">
  <a name="1009837"> </a>Lists <a href="#1007614"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1009839"> </a>The list object appears as a vertical list of choices in a box. The current selection of the list is inverted. </p>

<p class="FFigureCaption">
  <a name="1009840"> </a><b>Figure 4.18&nbsp;&nbsp;List<div align="left"><img src="images/List2.gif" border="0" hspace="0" vspace="0">
</div></b>
</p>


<p><a name="1009846"> </a>A list is meant for static data. Users can choose from a predetermined number of items. Examples include: </p>
<ul type="disc">
  <li><a name="1009847"> </a>the time list in the time edit window of the datebook 
  <li><a name="1009851"> </a>the Category pop-up list (see <a href="UserInterface.html#1010013">"Categories"</a> in this chapter)
</ul>

<p><a name="1009852"> </a>If there are more choices than can be displayed, the system draws small arrows (scroll indicators) in the right margin next to the first and last visible choice. When the pen comes down and up on a scroll indicator, the list is scrolled. When the user scrolls down, the last visible item becomes the first visible item if there are enough items to fill the list. If not, the list is scrolled so that the last item of the list appears at the bottom of the list. The reverse is true for scrolling up. Scrolling doesn't change the current selection.</p>

<p><a name="1009853"> </a>Bringing the pen down on a list item unhighlights the current selection and highlights the item under the pen. Dragging the pen through the list highlights the item under the pen. Dragging the pen above or below the list causes the list to scroll if it contains more choices than are visible.</p>

<p><a name="1009854"> </a>When the pen is released over an item, that item becomes the current selection. When the pen is dragged outside the list, the item that was highlighted before the <a href="../PalmOSReference/EventRef.html#997559"><code>penDownEvent</code></a> is highlighted again if it's visible. If it's not, no item is highlighted.</p>

<p><a name="1009859"> </a>An application can use a list in two ways: </p>
<ul type="disc">
  <li><a name="1009860"> </a>Initialize a structure with all data for all entries in the list and let the list manage its own data. 
  <li><a name="1009861"> </a>Provide list drawing functions but don't keep any data in memory. The list picks up the data as it's drawing. 
   <p><a name="1009862"> </a>Not keeping data in memory avoids unacceptable memory overhead if the list is large and the contents of the list depends on choices made by the user. An example would be a time conversion application that provides a list of clock times for a number of cities based on a city the user selects. Note that only lists can pick up the display information on the fly like this; tables cannot.</p>
</ul>

<p><a name="1009870"> </a>The <a href="../PalmOSReference/List.html#996234"><code>LstHandleEvent</code></a> function handles list events. <a href="UserInterface.html#1009877">Table 4.16</a> provides an overview of how <code>LstHandleEvent</code> deals with the different events.</p>

<p class="caption"><a name="1009877"> </a><b>Table 4.16&nbsp;&nbsp;Event flow for lists </b></p>
<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1009883"> </a><b>User Action</b></p>
    </th>
    <th><p class="tt"><a name="1009885"> </a><b>System Response</b></p>
    </th>
    <th><p class="tt"><a name="1009887"> </a><b>LstHandleEvent Response</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009889"> </a>Pen goes down on pop-up trigger button.</p>
    </td>
    <td><p class="tt"><a name="1009895"> </a><a href="../PalmOSReference/EventRef.html#1026487"><code>winEnterEvent</code></a> identifying list's window. </p>
    </td>
    <td><p class="tt"><a name="1009897"> </a>Adds the <code>lstEnterEvent</code> to the event queue. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009899"> </a></p>
    </td>
    <td><p class="tt"><a name="1009905"> </a><a href="../PalmOSReference/EventRef.html#997307"><code>lstEnterEvent</code></a> with list's ID number and selected item. </p>
    </td>
    <td><p class="tt"><a name="1009907"> </a>Tracks the pen.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009909"> </a>Pen goes down on a list box.</p>
    </td>
    <td><p class="tt"><a name="1009915"> </a><a href="../PalmOSReference/EventRef.html#997559"><code>penDownEvent</code></a> with the x and y coordinates stored in <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>. </p>
    </td>
    <td><p class="tt"><a name="1009917"> </a>Highlights the selection underneath the pen. </p>
<p class="tt"><a name="1009918"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009920"> </a>Pen is lifted from the list box.</p>
    </td>
    <td><p class="tt"><a name="1009926"> </a><a href="../PalmOSReference/EventRef.html#997610"><code>penUpEvent</code></a> with the x and y coordinates stored in <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>.</p>
    </td>
    <td><p class="tt"><a name="1009928"> </a>Adds the <code>lstSelectEvent</code> to the event queue. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009930"> </a></p>
    </td>
    <td><p class="tt"><a name="1009936"> </a><a href="../PalmOSReference/EventRef.html#997382"><code>lstSelectEvent</code></a> with list's ID number and number of selected item. </p>
    </td>
    <td><p class="tt"><a name="1009938"> </a>Stores the new selection. If the list is associated with a pop-up trigger, adds a <a href="../PalmOSReference/EventRef.html#997651"><code>popSelectEvent</code></a> to the event queue. with the pop-up trigger ID, the pop-up list ID, and the item number selected in <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>. Control passes to <code>FrmHandleEvent</code>. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009944"> </a>Pen is lifted outside the list box.</p>
    </td>
    <td><p class="tt"><a name="1009950"> </a><a href="../PalmOSReference/EventRef.html#997610"><code>penUpEvent</code></a> with the x and y coordinates stored in <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>.</p>
    </td>
    <td><p class="tt"><a name="1009956"> </a>Adds <a href="../PalmOSReference/EventRef.html#997992"><code>winExitEvent</code></a> to event queue. </p>
    </td>
  </tr>
</table>

</div>

<h3 class="hbH3">
  <a name="1009958"> </a>Using Lists in Place of Tables <a href="#1007614"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1009959"> </a>Lists really consist of single-column rows of text, but it is possible to imitate a multi-column display if you provide a custom list drawing function. Many programmers choose to use list objects instead of tables for multi-column displays because lists are generally easier to program than tables are. Doing so is acceptable, but it is somewhat problematic because the list object always displays a rectangular border around the list. If you choose to use lists to display multi-column data that would normally be displayed in a table, you must suppress the drawing of the list border. The safest way to do so is to set the draw window's clipping rectangle to the bounds of the list before drawing the list, as shown in <a href="UserInterface.html#1009964">Listing 4.2</a>. See the <i>Palm OS User Interface Guidelines</i> for more information. </p>
<p class="CCodeCaption">
  <a name="1009964"> </a><b>Listing 4.2&nbsp;&nbsp;Suppressing the list border</b>
</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
void DrawFormWithNoListBorder(FormType *frmP,
UInt16 listIndex)<a name="1009965"> </a>
{<a name="1009966"> </a>
   RectangleType *clip;<a name="1009967"> </a>
   RectangleType *newClip;<a name="1009968"> </a>
   ListType *listP = FrmGetObjectPtr(frmP, listIndex);<a name="1009969"> </a>
<a name="1009970"> </a>
   // Hide the list object and then draw the rest of the <a name="1009971"> </a>
   // form. <a name="1009972"> </a>
   FrmHideObject(frmP, listIndex);<a name="1009973"> </a>
   FrmDrawForm (frmP);<a name="1009974"> </a>
<a name="1009975"> </a>
   // Set the clipping rectangle to the list boundaries and <a name="1009976"> </a>
   // draw the list. This suppreses the list border.<a name="1009977"> </a>
   WinGetClip(&amp;clip);<a name="1009978"> </a>
   FrmGetObjectBounds(frmP, listIndex, &amp;newClip);<a name="1009979"> </a>
   WinSetClip(&amp;newClip);<a name="1009980"> </a>
   LstSetSelection(listP, noListSelection);<a name="1009981"> </a>
   FrmShowObject(frmP, listIndex);<a name="1009982"> </a>
<a name="1009983"> </a>
   // Reset the clipping rectangle. <a name="1009984"> </a>
   WinSetClip(&amp;clip);<a name="1009985"> </a>
}<a name="1009986"> </a>
<a name="1009987"> </a>
Boolean MyFormHandleEvent(EventPtr eventP)<a name="1009988"> </a>
{<a name="1009989"> </a>
   Boolean handled = false;<a name="1009990"> </a>
   FormType *frmP;<a name="1009991"> </a>
   UInt16 listIndex;<a name="1009992"> </a>
<a name="1009993"> </a>
   switch (eventP-&gt;eType) {<a name="1009994"> </a>
      case frmOpenEvent:<a name="1009995"> </a>
         frmP = FrmGetActiveForm();<a name="1009996"> </a>
         listIndex = FrmGetObjectIndex(frmP, MyListRscID);<a name="1009997"> </a>
         // initialize form here.<a name="1009998"> </a>
         DrawFormWithNoListBorder(frmP, listIndex);<a name="1009999"> </a>
         handled = true;<a name="1010000"> </a>
         break;<a name="1010001"> </a>
      case frmUpdateEvent:<a name="1010002"> </a>
         frmP = FrmGetActiveForm();<a name="1010003"> </a>
         listIndex = FrmGetObjectIndex(frmP, MyListRscID);<a name="1010004"> </a>
         DrawFormWithNoListBorder(frmP, listIndex);<a name="1010005"> </a>
         handled = true;<a name="1010006"> </a>
         break;<a name="1010007"> </a>
      ...<a name="1010008"> </a>
   }<a name="1010009"> </a>
}<a name="1010010"> </a>
</pre><div class="CodeRule"><hr></div>


<h2 class="haH2">
  <a name="1010013"> </a>Categories <a href="#1007614"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1010014"> </a>Categories allow you to group records logically into manageable lists. In the user interface, categories typically appear in a pop-up list in a form's titlebar and in dialogs that allow you to edit a single database record. </p>

<p><a name="1010015"> </a>You create a category pop-up list the same way you create any other pop-up list: create the list resource, create the pop-up trigger control resource with a width of 0, and set the trigger's list ID to be the ID of the list. You manage the category pop-up list using the category API described in the chapter <a href="../PalmOSReference/Category.html#995796">"Categories"</a> of the <i>Palm OS Programmer's API Reference</i>. </p>

<p><a name="1010022"> </a>For the most part, you can handle a category pop-up list using only these calls: </p>
<ul type="disc">
  <li><a name="1010026"> </a>Call <a href="../PalmOSReference/Category.html#996305"><code>CategoryInitialize</code></a> when you create a new database as described in <a href="UserInterface.html#1010050">"Initializing Categories in a Database"</a> below). 
  <li><a name="1010033"> </a>Call <a href="../PalmOSReference/Category.html#996479"><code>CategorySetTriggerLabel</code></a> to set the category pop-up trigger's label when the form is opened (as described in <a href="UserInterface.html#1010137">"Initializing the Category Pop-up Trigger"</a>). 
  <li><a name="1010040"> </a>Call <a href="../PalmOSReference/Category.html#996343"><code>CategorySelect</code></a> when the user selects the category pop-up trigger (as described in <a href="UserInterface.html#1010178">"Managing a Category Pop-up List"</a>).
</ul>

<p><a name="1010044"> </a>You typically don't need to use the other functions declared in <code>Category.h</code> unless you want more control over what happens when the user selects the category trigger. </p>

<p><a name="1010045"> </a>This section focuses on the user interface aspects of categories. For information on how categories are stored and how to manage categories in a database, read <a href="FilesAndDatabases.html#1029258">Chapter 6, "Files and Databases."</a> </p>
<h3 class="hbH3">
  <a name="1010050"> </a>Initializing Categories in a Database <a href="#1007614"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1010051"> </a>Before you can use the category API calls, you must set up the database appropriately. The category functions expect to find information at a certain location. If the information is not there, the functions will fail. </p>

<p><a name="1010056"> </a>Category information is stored in the <a href="../PalmOSReference/Category.html#995835"><code>AppInfoType</code></a> structure within the database's application info block. As described in the chapter titled <a href="FilesAndDatabases.html#1029258">"Files and Databases"</a> in this book, the application info block may contain any information that your database needs. If you want to use the category API, the first field in the application info block must be an <code>AppInfoType</code> structure. </p>

<p><a name="1010060"> </a>The <code>AppInfoType</code> structure maps category names to category indexes and category unique IDs. Category names are displayed in the user interface. Category indexes are used to associate a database record with a category. That is, the database record's attribute word contains the index of the category to which the record belongs. Category unique IDs are used when synchronizing the database with the desktop computer. </p>

<p><a name="1010061"> </a>To initialize the <code>AppInfoType</code> structure, you call <a href="../PalmOSReference/Category.html#996305"><code>CategoryInitialize</code></a>, passing a string list resource containing category names. This function creates as many category indexes and unique IDs as are necessary. You only need to make this call when the database is first created or when you newly assign the application info block to the database. </p>

<p><a name="1010067"> </a>The string list resource is an <code>appInfoStringsRsc</code> (<code>'tAIS'</code>) resource. It contains predefined categories that new users see when they start the application for the first time. Note that the call to <code>CategoryInitialize</code> is the only place where you use an <code>appInfoStringsRsc</code>. Follow these guidelines when creating the resource: </p>
<ul type="disc">
  <li><a name="1010068"> </a>Place any categories that you don't want the user to be able to change at the beginning of the list. For example, it's common to have at least one uneditable category named Unfiled, so it should be the first item in the list. 
  <li><a name="1010069"> </a>The string list must have 16 entries. Typically, you don't want to predefine 16 categories. You might define one or two and leave the remaining entries blank. The unused slots should have 0 length. 
  <li><a name="1010070"> </a>Keep in mind that there is a limit of 16 categories. That includes both the predefined categories and the categories your users will create. 
  <li><a name="1010071"> </a>Each category name has a maximum length defined by the <code>dmCategoryLength</code> constant (currently, 16 bytes).
  <li><a name="1010073"> </a>Don't include strings for "All" or "Edit Categories." While these two items often appear in category lists, they are not categories, and they are treated differently by the category functions. 
</ul>

<p><a name="1010077"> </a><a href="UserInterface.html#1010081">Listing 4.3</a> shows an example function that creates and initializes a database with an application info block. Notice that because the application info block is stored with the database, you allocate memory for it using <code>DmNewHandle</code>, not with <code>MemHandleNew</code>. </p>
<p class="CCodeCaption">
  <a name="1010081"> </a><b>Listing 4.3&nbsp;&nbsp;Creating a database with an app info block</b>
</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
typedef struct {<a name="1010082"> </a>
   AppInfoType appInfo;<a name="1010083"> </a>
   UInt16 myCustomAppInfo;<a name="1010084"> </a>
} MyAppInfoType;<a name="1010085"> </a>
 <a name="1010086"> </a>
Err CreateAndOpenDatabase(DmOpenRef *dbPP, UInt16 mode)<a name="1010087"> </a>
{<a name="1010088"> </a>
   Err error = errNone;<a name="1010089"> </a>
   DmOpenRef dbP;<a name="1010090"> </a>
   UInt16 cardNo;<a name="1010091"> </a>
   MemHandle h;<a name="1010092"> </a>
   LocalID dbID;<a name="1010093"> </a>
   LocalID appInfoID;<a name="1010094"> </a>
   MyAppInfoType *appInfoP;<a name="1010095"> </a>
 <a name="1010096"> </a>
   // Create the database. <a name="1010097"> </a>
   error = DmCreateDatabase (0, MyDBName, MyDBCreator, MyDBType, <a name="1010098"> </a>
      false);<a name="1010099"> </a>
   if (error) return error;<a name="1010100"> </a>
 <a name="1010101"> </a>
   // Open the database. <a name="1010102"> </a>
   dbP = DmOpenDatabaseByTypeCreator(MyDBType, MyDBCreator, <a name="1010103"> </a>
      mode);<a name="1010104"> </a>
   if (!dbP) return (dmErrCantOpen);<a name="1010105"> </a>
 <a name="1010106"> </a>
   // Get database local ID and card number. We need these to <a name="1010107"> </a>
   // initialize app info block.<a name="1010108"> </a>
   if (DmOpenDatabaseInfo(dbP, &amp;dbID, NULL, NULL, &amp;cardNo, NULL))<a name="1010109"> </a>
      return dmErrInvalidParam;<a name="1010110"> </a>
 <a name="1010111"> </a>
   // Allocate app info in storage heap. <a name="1010112"> </a>
   h = DmNewHandle(dbP, sizeof(MyAppInfoType));<a name="1010113"> </a>
   if (!h) return dmErrMemError;<a name="1010114"> </a>
 <a name="1010115"> </a>
   // Associate app info with database. <a name="1010116"> </a>
   appInfoID = MemHandleToLocalID (h);<a name="1010117"> </a>
   DmSetDatabaseInfo(cardNo, dbID, NULL, NULL, NULL, NULL, NULL, <a name="1010118"> </a>
      NULL, NULL, &amp;appInfoID, NULL, NULL, NULL);<a name="1010119"> </a>
 <a name="1010120"> </a>
   // Initialize app info block to 0. <a name="1010121"> </a>
   appInfoP = MemHandleLock(h);<a name="1010122"> </a>
   DmSet(appInfoP, 0, sizeof(MyAppInfoType), 0); <a name="1010123"> </a>
 <a name="1010124"> </a>
   // Initialize the categories.<a name="1010125"> </a>
   CategoryInitialize ((AppInfoPtr) appInfoP, <a name="1010126"> </a>
      MyLocalizedAppInfoStr);<a name="1010127"> </a>
 <a name="1010128"> </a>
   // Unlock the app info block.<a name="1010129"> </a>
   MemPtrUnlock(appInfoP);<a name="1010130"> </a>
 <a name="1010131"> </a>
   // Set the output parameter and return. <a name="1010132"> </a>
   *dbPP = dbP;<a name="1010133"> </a>
   return error;<a name="1010134"> </a>
}<a name="1010135"> </a>
</pre><div class="CodeRule"><hr></div>

<h3 class="hbH3">
  <a name="1010137"> </a>Initializing the Category Pop-up Trigger <a href="#1007614"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1010138"> </a>When a form is opened, you need to set the text that the category pop-up trigger should display. To do this, use <a href="../PalmOSReference/Category.html#996240"><code>CategoryGetName</code></a> to look up the name in the <code>AppInfoType</code> structure and then use <a href="../PalmOSReference/Category.html#996479"><code>CategorySetTriggerLabel</code></a> to set the pop-up trigger. </p>

<p><a name="1010147"> </a>For the main form of the application, it's common to store the index of the previously selected category in a preference and restore it when the application starts up again. </p>

<p><a name="1010148"> </a>Forms that display information from a single record should show that record's category in the pop-up list. Each database record stores the index of its category in its attribute word. You can retrieve the record attribute using <a href="../PalmOSReference/DataAndResourceManager.html#1011009"><code>DmRecordInfo</code></a> and then AND it with the mask <code>dmRecAttrCategoryMask</code> to obtain the category index. </p>

<p><a name="1010157"> </a><a href="UserInterface.html#1010159">Listing 4.4</a> shows how to set the trigger label to match the category for a particular database record. </p>
<p class="CCodeCaption">
  <a name="1010159"> </a><b>Listing 4.4&nbsp;&nbsp;Setting the category trigger label </b>
</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
   UInt16 attr, category;<a name="1010160"> </a>
   Char categoryName [dmCategoryLength];<a name="1010161"> </a>
   ControlType *ctl;<a name="1010162"> </a>
 <a name="1010163"> </a>
   // If current category is All, we need to look <a name="1010164"> </a>
   // up category.<a name="1010165"> </a>
   if (CurrentCategory == dmAllCategories) {<a name="1010166"> </a>
      DmRecordInfo (AddrDB, CurrentRecord, &amp;attr, <a name="1010167"> </a>
         NULL, NULL);   <a name="1010168"> </a>
      category = attr &amp; dmRecAttrCategoryMask;<a name="1010169"> </a>
   } else <a name="1010170"> </a>
      category = CurrentCategory;<a name="1010171"> </a>
   CategoryGetName (AddrDB, category, <a name="1010172"> </a>
      categoryName);<a name="1010173"> </a>
   ctl = FrmGetObjectPtr(frm, <a name="1010174"> </a>
      FrmGetObjectIndex(frm, objectID));<a name="1010175"> </a>
   CategorySetTriggerLabel (ctl, categoryName);<a name="1010176"> </a>
</pre><div class="CodeRule"><hr></div>

<h3 class="hbH3">
  <a name="1010178"> </a>Managing a Category Pop-up List  <a href="#1007614"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1010179"> </a>When the user taps the category pop-up trigger, call <a href="../PalmOSReference/Category.html#996343"><code>CategorySelect</code></a>. That is, call <code>CategorySelect</code> in response to a <a href="../PalmOSReference/EventRef.html#996366"><code>ctlSelectEvent</code></a> when the ID stored in the event matches the ID of the category's trigger. The <code>CategorySelect</code> function displays the pop-up list, manages the user selection, displays the Edit Categories modal dialog as necessary, and sets the pop-up trigger label to the item the user selected. </p>

<h4 class="hcH4">
  <a name="1010187"> </a>Calling CategorySelect
</h4>

<p><a name="1010188"> </a>The following is a typical call to <code>CategorySelect</code>: </p>
<p class="CCodeCaption">
  <a name="1010189"> </a><b>Listing 4.5&nbsp;&nbsp;Calling CategorySelect </b>
</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
categoryEdited = CategorySelect (AddrDB, frm, <a name="1010190"> </a>
  ListCategoryTrigger, ListCategoryList, true, &amp;category, <a name="1010191"> </a>
  CategoryName, 1, categoryDefaultEditCategoryString);<a name="1010192"> </a>
</pre><div class="CodeRule"><hr></div>


<p><a name="1010193"> </a>This example uses the following as parameters: </p>
<ul type="disc">
  <li><a name="1010194"> </a><code>AddrDB</code> is the database with the categories to be displayed. 
  <li><a name="1010195"> </a><code>frm</code>, <code>ListCategoryTrigger</code>, and <code>ListCategoryList</code> identify the form, pop-up trigger resource, and list resource. 
  <li><a name="1010196"> </a><code>true</code> indicates that the list should contain an "All" item. The "All" item should appear only in forms that display multiple records. It should not appear in forms that display a single record because selecting it would have no meaning. 
  <li><a name="1010197"> </a><code>category</code> and <code>CategoryName</code> are pointers to the index and name of the currently selected category. When you call this function, these two parameters should specify the category currently displayed in the pop-up trigger. Unfiled is the default. 
  <li><a name="1010198"> </a>The number 1 is the number of uneditable categories. <code>CategorySelect</code> needs this information when the user chooses the Edit Categories list item. Categories that the user cannot edit should not appear in the Edit Categories dialog. 
   <p><a name="1010199"> </a>Because uneditable categories are assumed to be at the beginning of the category list, passing 1 for this parameter means that <code>CategorySelect</code> does not allow the user to edit the category at index 0. </p>
  <li><a name="1010200"> </a><code>categoryDefaultEditCategoryString</code> is a constant that means include an Edit Categories item in the list and use the default string for its name ("Edit Categories" on US English ROMs). 
   <p><a name="1010201"> </a>To use a different name (for example, if you don't have enough room for the default name), pass the ID of a string resource containing the desired name. </p>
   <p><a name="1010202"> </a>In some cases, you might not want to include the Edit Categories item. If so, pass the constant <code>categoryHideEditCategory</code>. </p>
</ul>

<div><hr>
  <a name="1010204"> </a> <b>NOTE: </b> The <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">categoryDefaultEditCategoryString</span> and <code>categoryHideEditCategory</code> constants are only defined if <a href="../PalmOSReference/CompatibilityApdx.html#994671">3.5 New Feature Set</a> is present. See the <a href="../PalmOSReference/Category.html#996343"><code>CategorySelect</code></a> function description in the <i>Palm OS Programmer's API Reference</i> for further compatibility information. 
<hr>
</div>

<h4 class="hcH4">
  <a name="1010214"> </a>Interpreting the Return Value
</h4>

<p><a name="1010215"> </a>The <code>CategorySelect</code> return value is somewhat tricky: <code>CategorySelect</code> returns <code>true</code> if the user edited the category list, <code>false</code> otherwise. That is, if the user chose the Edit Categories item and added, deleted, or changed category names, the function returns <code>true</code>. If the user never selects Edit Categories, the function returns <code>false</code>. In most cases, a user simply selects a different category from the existing list without editing categories. In such cases, <code>CategorySelect</code> returns <code>false</code>. </p>

<p><a name="1010216"> </a>This means you should not rely solely on the return value to see if you need to take action. Instead, you should store the value that you passed for the category index and compare it to the index that <code>CategorySelect</code> passes back. For example: </p>
<p class="CCodeCaption">
  <a name="1010217"> </a><b>Listing 4.6&nbsp;&nbsp;CategorySelect return value</b>
</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
Int16 category;<a name="1010218"> </a>
Boolean categoryEdited;<a name="1010219"> </a>
 <a name="1010220"> </a>
category = CurrentCategory;<a name="1010221"> </a>
 <a name="1010222"> </a>
categoryEdited = CategorySelect (AddrDB, frm, <a name="1010223"> </a>
  ListCategoryTrigger, ListCategoryList, true, &amp;category,<a name="1010224"> </a>
  CategoryName, 1, categoryDefaultEditCategoryString);<a name="1010225"> </a>
 <a name="1010226"> </a>
if ( categoryEdited || (category != CurrentCategory)) {<a name="1010227"> </a>
  /* user changed category selection or edited category list. <a name="1010228"> </a>
     Do something. */<a name="1010229"> </a>
}<a name="1010230"> </a>
</pre><div class="CodeRule"><hr></div>


<p><a name="1010231"> </a>If the user has selected a different category, you probably want to do one of two things: </p>
<ul type="disc">
  <li><a name="1010232"> </a>Update the display so that only records in that category are displayed. See the function <code>ListViewUpdateRecords</code> in the Address Book example application for sample code. 
  <li><a name="1010233"> </a>Change the current record's category from the previous category to the newly selected category. See the function <code>EditViewSelectCategory</code> in the Address Book example application for sample code. 
</ul>

<p><a name="1010234"> </a>Note that the <code>CategorySelect</code> function handles the results of the Edit Categories dialog for you. It adds, deletes, and renames items in the database's <code>AppInfoType</code> structure. If the user deletes a category that contains records, it moves those records to the Unfiled category. If the user changes the name of an existing category to the name of another existing category, it prompts the user and, if confirmed, moves the records from the old category to the new category. Therefore, you never have to worry about managing the category list after a call to <code>CategorySelect</code>. </p>

<h2 class="haH2">
  <a name="1010236"> </a>Bitmaps <a href="#1007614"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1010238"> </a>A bitmap is a graphic displayed by Palm OS. There are several ways to create a bitmap resource in Constructor: </p>
<ul type="disc">
  <li><a name="1010239"> </a>If you simply want to display a bitmap at a fixed location on a form, drag a Form Bitmap object to the form. Assign a resource ID in the Bitmap ID field, and you can then create a bitmap resource. The bitmap resource is a <code>'Tbmp'</code> resource, and the Form Bitmap object that contains it is a <code>'tFBM'</code> resource.
  <li><a name="1010243"> </a>If you want to create a bitmap for some other purpose (for example, to use in animation or to display a gadget), create either a Bitmap resource or a Bitmap Family resource in the main project window. In this case, Constructor creates a <code>'tbmf' </code>resource, and the PalmRez post linker converts it and its associated PICTs to a <code>'Tbmp'</code> resource. (Constructor creates PICT format images on both the Macintosh and Microsoft Windows operating systems.)
</ul>
<h3 class="hbH3">
  <a name="1010246"> </a>Versions of Bitmap Support <a href="#1007614"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1010247"> </a>There are four different bitmap encodings:</p>
<ul type="disc">
  <li><a name="1010248"> </a>Version 0 encoding is supported by all Palm OS releases. 
  <li><a name="1010249"> </a>Version 1 encoding is supported on Palm OS 3.0 and later. PalmRez creates version 1 bitmaps unless you've explicitly specified a transparency index or a compression type when creating the bitmap in Constructor. 
  <li><a name="1010250"> </a>Version 2 encoding is supported on Palm OS 3.5 and later. This encoding supports transparency indices and RLE compression. 
   <p><a name="1010251"> </a>With a version 2 bitmap, you can specify one index value as a transparent color at creation time. The transparency index is an alternative to masking. The system does not draw bits that have the transparency index value. </p>
   <p><a name="1010254"> </a>When a bitmap with a transparency index is rendered at a depth other than the one at which it was created, the transparent color is first translated to the corresponding depth color, and the resulting color is named transparent. This may result in a group of colors becoming transparent. </p>
  <li><a name="1010255"> </a>Version 3 encoding is supported on Palm OS Garnet and handhelds running the <a href="../PalmOSReference/CompatibilityApdx.html#996955">High-Density Display Feature Set</a>, and adds support for displays of varying densities.
</ul>

<h4 class="hcH4">
  <a name="1010259"> </a>High-Density Bitmaps
</h4>

<p><a name="1010263"> </a>The <a href="../PalmOSReference/Bitmap.html#997981"><code>BitmapTypeV3</code></a> data structure contains a 16-bit density field. For the screen bitmap, this field represents the screen density. An enumerated list representing density is defined in <code>Bitmap.h</code>:</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
typedef enum {<a name="1010264"> </a>
	kDensityLow = 72,<a name="1010265"> </a>
	kDensityOneAndAHalf = 108,<a name="1010266"> </a>
	kDensityDouble = 144,<a name="1010267"> </a>
	kDensityTriple = 216,<a name="1010268"> </a>
	kDensityQuadruple = 288<a name="1010269"> </a>
} DensityType;<a name="1010270"> </a>
</pre><div class="CodeRule"><hr></div>


<p><a name="1010271"> </a>The <code>kDensityLow</code> value of 72 is arbitrary. Although this value doesn't necessarily represent pixels per inch, it is useful to think of it that way.</p>

<div><hr>
  <a name="1010272"> </a> <b>IMPORTANT: </b> Not all densities listed in the <code>DensityType</code> enum are supported by this version of the High-Density Display feature set. For this release, only <code>kDensityLow</code> and <code>kDensityDouble</code> are supported.
<hr>
</div>

<p><a name="1010273"> </a>Palm OS 4.0 was released with a version 2 <code>BitmapType</code> structure. The density field is defined only on <code>BitmapType</code> structures with a version greater than 2. If a given bitmap structure is version 2 or less, the operating system assumes that the bitmap contains low-density data.</p>

<p><a name="1010274"> </a>The blitter uses the density field in the source and destination bitmaps to determine an appropriate scaling factor. Because default density bitmaps must be scaled for high-density displays, some handhelds with high-density screens may use graphic accelerators. Nevertheless, the software blitter incorporates pixel-scaling logic for when the destination is an offscreen window.</p>

<p><a name="1010275"> </a>When scaling down from a density of <code>kDensityDouble</code> to <code>kDensityLow</code>, the software shrinks the bitmap data. The result is almost always a poorer quality image when compared with a bitmap originally generated with a density of <code>kDensityLow</code>.</p>

<p><a name="1010276"> </a>The following examples demonstrate the above concepts.</p>
<ul type="disc">
  <li><a name="1010277"> </a><b>An application draws a low-density bitmap to a double-density screen.</b>
   <p><a name="1010278"> </a>The source data is a 16 by 16 bitmap. The application calls</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
WinDrawBitmap(bitmapP, 31, 23);<a name="1010279"> </a>
</pre><div class="CodeRule"><hr></div>

   <p><a name="1010280"> </a>with the intention of placing the bitmap on the screen beginning at screen coordinate (31, 23), assuming the standard 160 by 160 coordinate system.</p>
   <p><a name="1010281"> </a>Since Palm OS by default uses the standard coordinate system and since the handheld has a double-density screen, the draw window's draw state contains a scale field value of 2.0. <code>WinDrawBitmap</code> transforms (31, 23) to high-density coordinates by multiplying (31, 23) by the scale field, and then calls the blitter with coordinates (62, 46).</p>
   <p><a name="1010282"> </a>The blitter receives the screen coordinates (62, 46) along with the low-density bitmap. The blitter recognizes the bitmap as low density, based upon the version of its <a href="../PalmOSReference/Bitmap.html#997619"><code>BitmapType</code></a> structure, and pixel-doubles the source data when blitting to the double-density screen.</p>
   <p><a name="1010286"> </a>The following illustration shows the source data on the left, with low-density window coordinates for the top-left and bottom-right corners. The illustration on the right shows the result as displayed on the screen, with top-left coordinates scaled by the Window Manager and bitmap data pixel-doubled by the blitter.</p>
</ul>

<p class="FFigureCaption">
  <a name="1010287"> </a><b>Figure 4.19&nbsp;&nbsp;Low-density bitmap on a double-density screen</b>
</p>
<div align="left"><img src="images/Checkmarks.gif" border="0" hspace="0" vspace="0">
</div>
<ul type="disc">
  <li><a name="1010292"> </a><b>A new application draws a double-density bitmap to a double-density screen.</b>
   <p><a name="1010293"> </a>The source data is a 32 by 32 double-density bitmap. Recognizing that the bitmap is being drawn to a double-density screen, the application uses the new functions to establish the double-density coordinate system, and calls <code>WinDrawBitmap</code> with high-density coordinates:</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
WinPushDrawState();<a name="1010294"> </a>
oldScale =
WinSetCoordinateSystem(kCoordinatesNative);<a name="1010295"> </a>
WinDrawBitmap(bitmapP, 61, 45);<a name="1010296"> </a>
WinPopDrawState();<a name="1010297"> </a>
</pre><div class="CodeRule"><hr></div>

</ul>

<p class="FFigureCaption">
  <a name="1010298"> </a><b>Figure 4.20&nbsp;&nbsp;Double-density bitmap on a double-density screen</b>
</p>
<div align="left"><img src="images/OneCheckmark.gif" border="0" hspace="0" vspace="0">
</div>
   <p><a name="1010303"> </a>The double-density coordinates (61, 45) allow the application to position the bitmap more precisely on the screen; these coordinates are equivalent to coordinates (30.5, 22.5) in the standard coordinate system.</p>
   <p><a name="1010304"> </a>Since the window's native coordinate system is active, the Window Manager leaves the double-density coordinates (61, 45) unchanged. The blitter receives these coordinates along with the double-density source bitmap. Because the screen bitmap has the same density, the blitter copies the source data to the screen unchanged.</p>
   <p><a name="1010308"> </a>Note that the point of calling <a href="../PalmOSReference/Window.html#1074566"><code>WinSetCoordinateSystem</code></a> is not to have the OS draw the double-density bitmap, but to place the top-left corner of the bitmap at a double-density coordinate. If the application does not need the precision of double-density coordinates, the application can simply call <code>WinDrawBitmap</code>:</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
WinDrawBitmap(bitmapP, x, y);<a name="1010309"> </a>
</pre><div class="CodeRule"><hr></div>

   <p><a name="1010310"> </a>and pass standard coordinates for <code>x</code> and <code>y</code>. The Window Manager transforms (<code>x</code>, <code>y</code>) to the screen coordinate system, and the blitter draws the double-density bitmap at that location.</p>
   <p><a name="1010311"> </a>If standard coordinates are acceptable, and if the application's bitmap family contains both low-density and double-density bitmaps, <code>WinDrawBitmap</code> selects the appropriate bitmap from the bitmap family based on the destination window's density; no additional logic is needed in the application. By providing both double-density and low-density bitmaps in a bitmap family, applications can display images properly on handhelds with various screen densities without separate code paths.</p>
   <p><a name="1010315"> </a>See <a href="UserInterface.html#1010419">"High-Density Bitmap Families"</a> for a more complete description of bitmap families.</p>
<ul type="disc">
  <li><a name="1010316"> </a><b>A new application draws a double-density bitmap to a low-density screen.</b>
   <p><a name="1010317"> </a>If an application includes only high-density bitmaps, the blitter needs to shrink them when drawing them to the screen. The application can determine the screen density like this:</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
UInt32 density;<a name="1010318"> </a>
<a name="1010319"> </a>
err = WinScreenGetAttribute(winScreenDensity, &amp;density);<a name="1010320"> </a>
</pre><div class="CodeRule"><hr></div>

   <p><a name="1010321"> </a>Understanding that the destination is low density, the application calls <code>WinDrawBitmap</code> using the standard coordinate system:</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
WinDrawBitmap(bitmapP, 31, 23);<a name="1010322"> </a>
</pre><div class="CodeRule"><hr></div>

   <p><a name="1010323"> </a>Because the destination window is low density, and because the passed coordinates are standard coordinates, the Window Manager does not scale the passed coordinates. The blitter, however, recognizes that the source bitmap has a density of <code>kDensityDouble</code> and shrinks the data to one-half the original size when blitting it to the low-density screen.</p>
</ul>

<p class="FFigureCaption">
  <a name="1010324"> </a><b>Figure 4.21&nbsp;&nbsp;Double-density bitmap on a low-density screen</b>
</p>
<div align="left"><img src="images/HighToLow.gif" border="0" hspace="0" vspace="0">
</div>
   <p><a name="1010329"> </a>The result, shown above on the right, is poor. Because of this, for an application to look good on both low and high-density screens it should include both low and high-density bitmaps.</p>
   <p><a name="1010330"> </a>Note that although the blitter included with the High-Density Display feature set can expand or shrink a bitmap as necessary, on handhelds without this feature set if an application contains a bitmap family with only high-density bitmaps, nothing is drawn.</p>
<h3 class="hbH3">
  <a name="1010332"> </a>Bitmap Families <a href="#1007614"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1010333"> </a>A <code>'Tbmp'</code> resource defines either a single bitmap or a bitmap family. A <b>bitmap family</b> is a group of bitmaps, each containing the same drawing but at a different pixel depth (see <a href="UserInterface.html#1010345">Figure 4.22</a>). When requested to draw a bitmap family, the operating system chooses the version of the bitmap with the pixel depth equal to the display. If such a bitmap doesn't exist, the bitmap with the pixel depth closest to but less than the display depth is chosen. If there are no bitmaps less than the display depth, then the bitmap with the pixel depth closest to the display depth is used. </p>

<p><a name="1010339"> </a>Programmatically, a bitmap or bitmap family is represented by a <a href="../PalmOSReference/Bitmap.html#997619"><code>BitmapType</code></a> structure. This structure is simply a header. It is followed by the bitmap data in the same memory block. Bitmaps in Palm OS 3.0 and higher are also allowed to have their own color tables. When a bitmap has its own color table, it is stored between the bitmap header and the bitmap data. </p>

<p class="FFigureCaption">
  <a name="1010345"> </a><b>Figure 4.22&nbsp;&nbsp;Single-density bitmap family</b>
</p>
<div align="left"><img src="images/TypeHeader.gif" border="0" hspace="0" vspace="0">
</div>

<h4 class="hcH4">
  <a name="1010419"> </a>High-Density Bitmap Families
</h4>

<p><a name="1010420"> </a>Bitmap families represent a single image across a variety of Palm handhelds with screens of different bit depths. Prior to the <a href="../PalmOSReference/CompatibilityApdx.html#996955">High-Density Display Feature Set</a>, a bitmap family is a null-terminated linked list of bitmaps ordered from low to high bit depth. <a href="../PalmOSReference/Window.html#1013322"><code>WinDrawBitmap</code></a> iterated through the linked list and selected the bitmap with the greatest bit depth less than or equal to the draw window's bit depth.</p>

<p><a name="1010427"> </a>Although bitmap families are still represented using a null-terminated linked list of bitmaps, the algorithm used to select the appropriate bitmap for a given situation changes with the High-Density Display feature set. There are two reasons for this change. First, when the draw window is 8-bit, it is better to select a 16-bit image over a grayscale image. Second, density must now be taken into account when selecting a bitmap.</p>

<p><a name="1010428"> </a>The algorithm that is used in the High-Density Display feature set depends upon the density of the draw window. If the draw window is low density, low-density bitmaps are always favored over double-density bitmaps, regardless of source bitmap depth. If the draw window is double density, however, the color domain match (color vs. grayscale) is favored over a double-density bitmap with a color domain mismatch. The following algorithm is used on a handheld with a double-density screen:</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
If draw window is low density {<a name="1010429"> </a>
    Favor low-density over double-density<a name="1010430"> </a>
    If draw window is color {<a name="1010431"> </a>
        Favor color bitmap<a name="1010432"> </a>
    } else {<a name="1010433"> </a>
        Favor grayscale, picking greatest depth<a name="1010434"> </a>
          less than or equal to draw window's<a name="1010435"> </a>
          depth<a name="1010436"> </a>
    }<a name="1010437"> </a>
} else {<a name="1010438"> </a>
        If draw window is color {<a name="1010439"> </a>
            Favor color<a name="1010440"> </a>
        } else {<a name="1010441"> </a>
            Favor grayscale<a name="1010442"> </a>
        }<a name="1010443"> </a>
    }<a name="1010444"> </a>
}<a name="1010445"> </a>
</pre><div class="CodeRule"><hr></div>


<p><a name="1010446"> </a>The following table provides the results of applying this double-density algorithm. The two left columns represent the draw window's depth and density. The third column lists the bitmap selection preferences, ordered from best to worst (a 'd' in this third column indicates double-density).</p>

<p class="caption"><a name="1010452"> </a><b>Table 4.17&nbsp;&nbsp;Double-density algorithm results </b></p>
<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th colspan="2" rowspan="1"><p class="tt"><a name="1010458"> </a><b>Draw Window </b></p>
    </th>
    <th colspan="1" rowspan="2"><p class="tt"><a name="1010462"> </a><b>Bitmap selection preferences</b></p>
    </th>
  </tr>
  <tr valign="top">
    <th><p class="tt"><a name="1010464"> </a><b>Depth</b></p>
    </th>
    <th><p class="tt"><a name="1010466"> </a><b>Density</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1010470"> </a>1</p>
    </td>
    <td><p class="tt"><a name="1010472"> </a>Single</p>
    </td>
    <td><p class="tt"><a name="1010474"> </a>1, 2, 4, 8, 16</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1010476"> </a>2</p>
    </td>
    <td><p class="tt"><a name="1010478"> </a>Single</p>
    </td>
    <td><p class="tt"><a name="1010480"> </a>2, 1, 4, 8, 16</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1010482"> </a>4</p>
    </td>
    <td><p class="tt"><a name="1010484"> </a>Single</p>
    </td>
    <td><p class="tt"><a name="1010486"> </a>4, 2, 1, 8, 16</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1010488"> </a>8</p>
    </td>
    <td><p class="tt"><a name="1010490"> </a>Single</p>
    </td>
    <td><p class="tt"><a name="1010492"> </a>8, 16, 4, 2, 1</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1010494"> </a>16</p>
    </td>
    <td><p class="tt"><a name="1010496"> </a>Single</p>
    </td>
    <td><p class="tt"><a name="1010498"> </a>16, 8, 4, 2, 1</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1010500"> </a>1</p>
    </td>
    <td><p class="tt"><a name="1010502"> </a>Double</p>
    </td>
    <td><p class="tt"><a name="1010504"> </a>1d, 2d, 4d, 1, 2, 4, 8d, 16d, 8, 16</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1010506"> </a>2</p>
    </td>
    <td><p class="tt"><a name="1010508"> </a>Double</p>
    </td>
    <td><p class="tt"><a name="1010510"> </a>2d, 1d, 4d, 2, 1, 4, 8d, 16d, 8, 16</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1010512"> </a>4</p>
    </td>
    <td><p class="tt"><a name="1010514"> </a>Double</p>
    </td>
    <td><p class="tt"><a name="1010516"> </a>4d, 2d, 1d, 4, 2, 1, 8d, 16d, 8, 16</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1010518"> </a>8</p>
    </td>
    <td><p class="tt"><a name="1010520"> </a>Double</p>
    </td>
    <td><p class="tt"><a name="1010522"> </a>8d, 16d, 8, 16, 4d, 2d, 1d, 4, 2, 1</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1010524"> </a>16</p>
    </td>
    <td><p class="tt"><a name="1010526"> </a>Double</p>
    </td>
    <td><p class="tt"><a name="1010528"> </a>16d, 8d, 16, 8, 4d, 2d, 1d, 4, 2, 1</p>
    </td>
  </tr>
</table>

</div>


<p><a name="1010530"> </a>Bitmaps in a bitmap family are grouped by density. For backward compatibility, the linked list of default density bitmaps occur first, and remain ordered from low to high bit depths. If the family contains high-density bitmaps, the high-density bitmaps follow the low-density bitmaps, again ordered from low to high bit depths. If the family contains multiple densities, then the density sets are ordered from low to high density.</p>

<div><hr>
  <a name="1010531"> </a> <b>IMPORTANT: </b> A bitmap family used for a graphic button, slider, or form bitmap must include at least one low-density version of the image in the bitmap family. This restriction doesn't apply to bitmaps used for custom gadgets: if your application will only run on handhelds with high-density displays, you don't need to have any low-density images in your custom gadget bitmap families.
<hr>
</div>

<p><a name="1010532"> </a>Handhelds that don't have the High-Density Display feature set don't display high-density bitmaps. They do, however, display any low-density bitmaps in applications that contain both low and high-density bitmaps. This is because the older versions of the OS don't attempt to follow the linked list of bitmaps in a bitmap family as it crosses over from low-density to high-density bitmaps. This is accomplished by inserting a dummy version 1 bitmap structure between the low-density and high-density bitmaps within a bitmap family. The dummy bitmap contains no bitmap data, no color table, and an invalid bit depth. By setting the bit depth of the dummy bitmap to 0xFF, the logic in older versions of the OS that traverse the linked list of bitmaps stops at the appropriate place in the list.</p>

<p><a name="1010533"> </a>The High-Density Display feature set recognizes that the dummy bitmap is followed by high-density bitmaps and continues the traversal, skipping over the dummy bitmap. Note that the dummy bitmap is only present if there are one or more high-density bitmaps, and is always present if there are any high-density bitmaps. The dummy bitmap is the first bitmap if there are high-density bitmaps but no low-density bitmaps.</p>

<p><a name="1010537"> </a><a href="UserInterface.html#1010539">Figure 4.23</a> illustrates the process of traversing the bitmaps in a bitmap family. The dotted line indicates a step that is taken only in handhelds running the High-Density Display feature set.</p>

<p class="FFigureCaption">
  <a name="1010539"> </a><b>Figure 4.23&nbsp;&nbsp;Linked list of bitmaps in a bitmap family</b>
</p>
<div align="left"><img src="images/Flowchart.gif" border="0" hspace="0" vspace="0">
</div>
<h3 class="hbH3">
  <a name="1010544"> </a>Drawing a Bitmap <a href="#1007614"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1010545"> </a>If you use a Form Bitmap object, your bitmap is drawn when the form is drawn. No extra coding is required on your part. </p>

<p><a name="1010546"> </a>If you're not using a Form Bitmap object, to draw the bitmap you obtain it from the resource database and then call either <a href="../PalmOSReference/Window.html#1013322"><code>WinDrawBitmap</code></a> or <a href="../PalmOSReference/Window.html#1015004"><code>WinPaintBitmap</code></a>. (The form manager code uses <code>WinDrawBitmap</code> to draw Form Bitmap objects.) If passed a bitmap family, these two functions draw the bitmap that has the depth equal to the current draw window depth or the closest depth that is less than the current draw window depth if available, or the closest depth greater than the current draw depth if not.</p>
<p class="CCodeCaption">
  <a name="1010555"> </a><b>Listing 4.7&nbsp;&nbsp;Drawing a bitmap</b>
</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
MemHandle resH = DmGetResource (bitmapRsc, rscID);<a name="1010556"> </a>
BitmapType *bitmap = MemHandleLock (resH);<a name="1010557"> </a>
WinPaintBitmap(bitmap, 0, 0);<a name="1010558"> </a>
</pre><div class="CodeRule"><hr></div>


<p><a name="1010559"> </a>If you want to modify a bitmap, starting in Palm OS 3.5 you can create the bitmap programmatically with <a href="../PalmOSReference/Bitmap.html#998480"><code>BmpCreate</code></a>, create an offscreen window wrapper around the bitmap using <a href="../PalmOSReference/Window.html#1013088"><code>WinCreateBitmapWindow</code></a>, set the active window to the new bitmap window, and use the window drawing functions to draw to the bitmap: </p>
<p class="CCodeCaption">
  <a name="1010568"> </a><b>Listing 4.8&nbsp;&nbsp;Programmatically creating a bitmap</b>
</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
BitmapType *bmpP;<a name="1010569"> </a>
WinHandle win;<a name="1010570"> </a>
Err error;<a name="1010571"> </a>
 <a name="1010572"> </a>
bmpP = BmpCreate(10, 10, 8, NULL, &amp;error);<a name="1010573"> </a>
if (bmpP) {<a name="1010574"> </a>
  win = WinCreateBitmapWindow(bmpP, &amp;error);<a name="1010575"> </a>
  if (win) {<a name="1010576"> </a>
    WinSetDrawWindow(win);<a name="1010577"> </a>
    WinDrawLines(win, ...);<a name="1010578"> </a>
    /* etc */<a name="1010579"> </a>
  }<a name="1010580"> </a>
}<a name="1010581"> </a>
</pre><div class="CodeRule"><hr></div>


<p><a name="1010582"> </a>Note that <code>BmpCreate</code> always creates a version 2 bitmap </p>

<p><a name="1010583"> </a>To learn how to modify a bitmap in releases prior to Palm OS 3.5, download the Signatures example application from the Knowledge Base on the Palm OS Developer website. </p>
<h3 class="hbH3">
  <a name="1010584"> </a>Color Tables and Bitmaps <a href="#1007614"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1010585"> </a>As mentioned previously, bitmaps can have their own color tables attached to them. A bitmap might have a custom color table if it requires a palette that differs from the default system palettes. If a bitmap has its own color table, the system must create a conversion table to convert the color table of the current draw window before it can draw the bitmap. This conversion is a drain on performance, so using custom color tables with bitmaps is not recommended if performance is critical. </p>

<p><a name="1010586"> </a>As an alternative, if your bitmap needs a custom palette, use the <a href="../PalmOSReference/Window.html#1015523"><code>WinPalette</code></a> function to change the system palette that is currently in use, then draw your bitmap. After the bitmap is no longer visible, use <code>WinPalette</code> again to set the system palette back to its previous state. </p>

<h2 class="haH2">
  <a name="1010592"> </a>Labels <a href="#1007614"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1010595"> </a>You can create a label in a form by creating a label resource. </p>

<p><a name="1010597"> </a>The label resource displays noneditable text or labels on a form (dialog or full-screen). It's used, for example, to have text appear to the left of a checkbox instead of the right. </p>

<p><a name="1010598"> </a>You don't interact with a label as a programmatic entity; however, you can use Form API to create new labels or to change labels dynamically. See the <a href="UserInterface.html#1011301">"Summary of User Interface API"</a><a href="UserInterface.html#1011301"></a> at the end of this chapter.</p>

<h2 class="haH2">
  <a name="1010606"> </a>Scroll Bars <a href="#1007614"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1010613"> </a>Palm OS 2.0 and later provides vertical scroll bar support. As a result, you can attach scroll bars to fields, tables, or lists, and the system sends the appropriate events when the end user interacts with the scroll bar (see <a href="UserInterface.html#1010618">Figure 4.24</a>). </p>

<p class="FFigureCaption">
  <a name="1010618"> </a><b>Figure 4.24&nbsp;&nbsp;Scroll bar</b>
</p>
<div align="left"><img src="images/scrollbar1.gif" border="0" hspace="0" vspace="0">
</div>

<p><a name="1010626"> </a>Here's what you have to do to include a scroll bar in your user interface: </p>
<ol type="1">
  <li value="1"><a name="1010627"> </a>Create a scroll bar (tSCL) UI resource. 
   <p><a name="1010628"> </a>Provide the ID and the bounds for the scroll bar rectangle. The height has to match the object you want to attach it to. The width should be 7.</p>
  <li value="2"><a name="1010629"> </a>Provide a minimum and maximum value as well as a page size. 
  <li><a name="1010630"> </a>Minimum is usually 0.
  <li><a name="1010631"> </a>Maximum is usually 0 and set programmatically.
  <li><a name="1010632"> </a>The page size determines how many lines the scroll bar moves when the text scrolls. 
  <li value="3"><a name="1010633"> </a>Make the scroll bar part of the form.
   <p><a name="1010634"> </a>When you compile your application, the system creates the appropriate scroll bar UI object. (See the chapter <a href="../PalmOSReference/Scrollbar.html#995795">"Scroll Bars"</a> in the <i>Palm OS Programmer's API Reference</i> for more information on the scroll bar UI object.)</p>
</ol>

<p><a name="1010641"> </a>There are two ways in which the scroll bar and the user interface object that it's attached to need to interact: </p>
<ul type="disc">
  <li><a name="1010642"> </a>When the user adds or removes text, the scroll bar needs to know about the change in size. 
   <p><a name="1010643"> </a>To get this functionality, set the <code>hasScrollbar</code> attribute of the field, table, or list. (For tables, you must set this programmatically with the function <a href="../PalmOSReference/Table.html#997399"><code>TblHasScrollBar</code></a>.)</p>
   <p><a name="1010647"> </a>If <code>hasScrollbar</code> is set for a field, you'll receive a <a href="../PalmOSReference/EventRef.html#996458"><code>fldChangedEvent</code></a> whenever the field's size changes. Your application should handle these events by computing new values for the scroll bar's minimum, maximum, and current position and then use <a href="../PalmOSReference/Scrollbar.html#996133"><code>SclSetScrollBar</code></a> to update it. </p>
   <p><a name="1010655"> </a>If <code>hasScrollbar</code> is set for a table, you should keep track of when the table's size changes. Whenever it does, you should compute new values for the scroll bar's minimum, maximum, and current position and then use <code>SclSetScrollBar</code> to update it. </p>
   <p><a name="1010656"> </a>Lists are intended for static data, so you typically don't have to worry about the size of a list changing. </p>
   <p><a name="1010657"> </a>You should also call <code>SclSetScrollBar</code> when the form is initialized to set the current position of the scroll bar. </p>
  <li><a name="1010658"> </a>When the user moves the scroll bar, the text needs to move accordingly. This can either happen dynamically (as the user moves the scroll bar) or statically (after the user has released the scroll bar). 
   <p><a name="1010659"> </a>The system sends the following scroll bar events:</p>
  <ul type="disc">
    <li><a name="1010664"> </a><a href="../PalmOSReference/EventRef.html#997703"><code>sclEnterEvent</code></a> is sent when a <code>penDownEvent</code> occurs within the bounds of the scroll bar. 
    <li><a name="1010669"> </a><a href="../PalmOSReference/EventRef.html#997769"><code>sclRepeatEvent</code></a> is sent when the user drags the scroll bar. 
    <li><a name="1010674"> </a><a href="../PalmOSReference/EventRef.html#997730"><code>sclExitEvent</code></a> is sent when the user lifts the pen. This event is sent regardless of previous <code>sclRepeatEvent</code>s. 
   <p><a name="1010675"> </a>Applications that want to support immediate-mode scrolling (that is, scrolling happens as the user drags the pen) need to watch for occurrences of <code>sclRepeatEvent</code>. In response to this event, call the scrolling function associated with the UI object (<a href="../PalmOSReference/Field.html#997425"><code>FldScrollField</code></a>, <a href="../PalmOSReference/List.html#996373"><code>LstScrollList</code></a>, or your own scrolling function in the case of tables).</p>
   <p><a name="1010682"> </a>Applications that don't support immediate-mode scrolling should ignore occurrences of <code>sclRepeatEvent</code> and wait only for the <code>sclExitEvent</code>. </p>
  </ul>
</ul>

<h2 class="haH2">
  <a name="1010684"> </a>Custom UI Objects (Gadgets) <a href="#1007614"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1010686"> </a>A gadget resource lets you implement a custom UI object. The gadget resource contains basic information about the custom gadget, which is useful to the gadget writer for drawing and processing user input.</p>

<p><a name="1010687"> </a>You interact with gadgets programmatically using the Form API. See the <a href="UserInterface.html#1011301">"Summary of User Interface API"</a><a href="UserInterface.html#1011301"></a> at the end of this chapter. </p>

<p><a name="1010694"> </a>A gadget is best thought of as simply a reserved rectangle at a set location on the form. You must provide all drawing and event handling code. There is no default behavior for a gadget. </p>

<p><a name="1010695"> </a>Starting in Palm OS 3.5, you can create an extended gadget. An extended gadget is simply a gadget with a callback routine (<a href="../PalmOSReference/Form.html#999425"><code>FormGadgetHandlerType</code></a>) that provides drawing and event handling code for the gadget. Use <a href="../PalmOSReference/Form.html#999019"><code>FrmSetGadgetHandler</code></a> to set the callback function. (A pointer to the gadget is passed to the callback, so you can use the same function for multiple gadgets.) When the form receives certain requests to draw itself, delete itself, or to hide or show a gadget object, the form manager calls the gadget handler function you provide. When the form receives events intended for the gadget, it passes those to the gadget handler function as well. </p>

<p><a name="1010704"> </a>In versions prior to 3.5, gadgets do not have a callback function. Instead, you must write code to draw the gadget and respond to pen down events in the form's event handler. <a href="UserInterface.html#1010712">Listing 4.9</a> shows the event handler for the main form in the Rock Music sample application. This code makes calls to draw the gadget in response to a <code>frmOpenEvent</code> or <code>frmUpdateEvent</code>, and if there is a <code>penDownEvent</code> within the bounds of the gadget, it calls a function to handle that event as well. <a href="UserInterface.html#1010750">Listing 4.10</a> shows how a gadget handler function might be written for Rock Music. </p>
<p class="CCodeCaption">
  <a name="1010712"> </a><b>Listing 4.9&nbsp;&nbsp;Pre-Palm OS 3.5 gadget example</b>
</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
Boolean MainViewHandleEvent(EventPtr event)<a name="1010713"> </a>
{<a name="1010714"> </a>
   Boolean handled = false;<a name="1010715"> </a>
   Word objIndex;<a name="1010716"> </a>
   FormPtr frm;<a name="1010717"> </a>
   RectangleType r;<a name="1010718"> </a>
 <a name="1010719"> </a>
   switch (event-&gt;eType) {<a name="1010720"> </a>
      case frmOpenEvent:<a name="1010721"> </a>
         MainViewInit();<a name="1010722"> </a>
         frm = FrmGetActiveForm ();<a name="1010723"> </a>
         FrmDrawForm (frm);<a name="1010724"> </a>
         DrawGadget();<a name="1010725"> </a>
         handled = true;<a name="1010726"> </a>
         break;<a name="1010727"> </a>
      <a name="1010728"> </a>
      case frmUpdateEvent:<a name="1010729"> </a>
         frm = FrmGetActiveForm ();<a name="1010730"> </a>
         FrmDrawForm (frm);<a name="1010731"> </a>
         DrawGadget();<a name="1010732"> </a>
         handled = true;<a name="1010733"> </a>
         break;<a name="1010734"> </a>
         <a name="1010735"> </a>
      case penDownEvent:<a name="1010736"> </a>
         frm = FrmGetActiveForm ();<a name="1010737"> </a>
         objIndex = FrmGetObjectIndex (frm, <a name="1010738"> </a>
            RockMusicMainInputGadget);<a name="1010739"> </a>
         FrmGetObjectBounds (frm, objIndex, &amp;r);<a name="1010740"> </a>
         if (RctPtInRectangle (event-&gt;screenX, <a name="1010741"> </a>
            event-&gt;screenY, &amp;r)) {<a name="1010742"> </a>
            GadgetTapped ();<a name="1010743"> </a>
            handled=true;<a name="1010744"> </a>
         }<a name="1010745"> </a>
         break;<a name="1010746"> </a>
      ...<a name="1010747"> </a>
   }<a name="1010748"> </a>
</pre><div class="CodeRule"><hr></div>

<p class="CCodeCaption">
  <a name="1010750"> </a><b>Listing 4.10&nbsp;&nbsp;Palm OS 3.5 gadget example</b>
</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
Boolean GadgetHandler (struct FormGadgetType *gadgetP,
UInt16 cmd, void *paramP)<a name="1010751"> </a>
{<a name="1010752"> </a>
   Boolean handled = false;<a name="1010753"> </a>
 <a name="1010754"> </a>
   switch (cmd) {<a name="1010755"> </a>
      case formGadgetDrawCmd:<a name="1010757"> </a>
      //Sent to active gadgets any time form is <a name="1010758"> </a>
      //drawn or redrawn.<a name="1010759"> </a>
         DrawGadget();<a name="1010760"> </a>
         gadgetP-&gt;attr.visible = true;<a name="1010761"> </a>
         handled = true;<a name="1010762"> </a>
         break;<a name="1010763"> </a>
      <a name="1010764"> </a>
      case formGadgetHandleEventCmd:<a name="1010766"> </a>
      //Sent when form receives a gadget event. <a name="1010767"> </a>
      //paramP points to EventType structure. <a name="1010768"> </a>
         if (paramP-&gt;eType == frmGadgetEnterEvent) {<a name="1010770"> </a>
         // penDown in gadget's bounds. <a name="1010771"> </a>
            GadgetTapped ();<a name="1010772"> </a>
            handled = true;<a name="1010773"> </a>
         }<a name="1010774"> </a>
         if (paramP-&gt;eType == frmGadgetMiscEvent) {<a name="1010776"> </a>
            //This event is sent by your application<a name="1010777"> </a>
            //when it needs to send info to the gadget<a name="1010778"> </a>
         }<a name="1010779"> </a>
         break;<a name="1010780"> </a>
      case formGadgetDeleteCmd: <a name="1010782"> </a>
         //Perform any cleanup prior to deletion.<a name="1010783"> </a>
         break;<a name="1010784"> </a>
      case formGadgetEraseCmd: <a name="1010786"> </a>
      //FrmHideObject takes care of this if you <a name="1010787"> </a>
      //return false. <a name="1010788"> </a>
         handled = false;<a name="1010789"> </a>
         break;<a name="1010790"> </a>
   }<a name="1010791"> </a>
   return handled;<a name="1010792"> </a>
}<a name="1010793"> </a>
</pre><div class="CodeRule"><hr></div>


<h2 class="haH2">
  <a name="1010795"> </a>Dynamic UI <a href="#1007614"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1010796"> </a>Palm OS 3.0 and higher provide functions that can be used to create forms and form elements at runtime. Most applications will never need to change any user interface elements at runtime&#8212;the built-in applications don't do so, and the Palm user interface guidelines discourage it. The preferred method of having UI objects appear as needed is to create the objects in Constructor and set their usable attributes to false. Then use <a href="../PalmOSReference/Form.html#999211"><code>FrmShowObject</code></a> and <a href="../PalmOSReference/Form.html#998311"><code>FrmHideObject</code></a> to make the object appear and disappear as needed. </p>

<p><a name="1010803"> </a>Some applications, such as forms packages, must create their displays at runtime&#8212;it is for applications such as these that the Dynamic UI API is provided. If you're not absolutely sure that you need to change your UI dynamically, don't do it&#8212;unexpected changes to an application's interface are likely to confuse or frustrate the end user. </p>

<p><a name="1010808"> </a>You can use the <a href="../PalmOSReference/Form.html#998420"><code>FrmNewForm</code></a> function to create new forms dynamically. Palm's UI guidelines encourage you to keep modal dialogs at the bottom of the screen, using the entire screen width. This isn't enforced by the routine, but is strongly encouraged in order to maintain a look and feel that is consistent with the built-in applications.</p>

<p><a name="1010821"> </a>The <a href="../PalmOSReference/Form.html#998540"><code>FrmNewLabel</code></a>, <a href="../PalmOSReference/Form.html#998387"><code>FrmNewBitmap</code></a>, <a href="../PalmOSReference/Form.html#998469"><code>FrmNewGadget</code></a>, <a href="../PalmOSReference/List.html#996307"><code>LstNewList</code></a>, <a href="../PalmOSReference/Field.html#997208"><code>FldNewField</code></a> and <a href="../PalmOSReference/Control.html#996630"><code>CtlNewControl</code></a> functions can be used to create new objects on forms. </p>

<p><a name="1010834"> </a>It is fine to add new items to an active form, but doing so is very likely to move the form structure in memory; therefore, any pointers to the form or to controls on the form might change. Make sure to update any variables or pointers that you are using so that they refer to the form's new memory location, which is returned when you create the object.</p>

<p><a name="1010839"> </a>The <a href="../PalmOSReference/Form.html#998633"><code>FrmRemoveObject</code></a> function removes an object from a form. This function doesn't free memory referenced by the object (if any) but it does shrink the form chunk. For best efficiency when removing items from forms, remove items in order of decreasing index values, beginning with the item having the highest index value. When removing items from a form, you need to be mindful of the same concerns as when adding items: the form pointer and pointers to controls on the form may change as a result of any call that moves the form structure in memory.</p>

<p><a name="1010840"> </a>When creating forms dynamically, or just to make your application more robust, use the <a href="../PalmOSReference/Form.html#999311"><code>FrmValidatePtr</code></a> function to ensure that your form pointer is valid and the form it points to is valid. This routine can catch lots of bugs for you&#8212;use it!</p>
<h3 class="hbH3">
  <a name="1010845"> </a>Dynamic User Interface Functions <a href="#1007614"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1010846"> </a>The following API can be used to create forms dynamically:</p>
<ul type="disc">
  <li><a name="1010850"> </a><a href="../PalmOSReference/Control.html#996630"><code>CtlNewControl</code></a> 
  <li><a name="1010854"> </a><a href="../PalmOSReference/Control.html#997065"><code>CtlValidatePointer</code></a> 
  <li><a name="1010858"> </a><a href="../PalmOSReference/Field.html#997208"><code>FldNewField</code></a> 
  <li><a name="1010862"> </a><a href="../PalmOSReference/Form.html#998387"><code>FrmNewBitmap</code></a> 
  <li><a name="1010866"> </a><a href="../PalmOSReference/Form.html#998420"><code>FrmNewForm</code></a> 
  <li><a name="1010870"> </a><a href="../PalmOSReference/Form.html#998469"><code>FrmNewGadget</code></a> 
  <li><a name="1010874"> </a><a href="../PalmOSReference/Form.html#998540"><code>FrmNewLabel</code></a> 
  <li><a name="1010878"> </a><a href="../PalmOSReference/Form.html#998633"><code>FrmRemoveObject</code></a> 
  <li><a name="1010882"> </a><a href="../PalmOSReference/Form.html#999311"><code>FrmValidatePtr</code></a> 
  <li><a name="1010886"> </a><a href="../PalmOSReference/List.html#996307"><code>LstNewList</code></a> 
  <li><a name="1010890"> </a><a href="../PalmOSReference/Window.html#1017055"><code>WinValidateHandle</code></a> 
  <li><a name="1010897"> </a><a href="../PalmOSReference/Form.html#998506"><code>FrmNewGsi</code></a> (available only if <a href="../PalmOSReference/CompatibilityApdx.html#994671">3.5 New Feature Set</a> is present)
</ul>

<h2 class="haH2">
  <a name="1010899"> </a>Color and Grayscale Support <a href="#1007614"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1010900"> </a>Starting in Palm OS version 3.5, the operating system supports system palettes of 1, 2, 4, or 8 bits-per-pixel, as follows: </p>
<ul type="disc">
  <li><a name="1010902"> </a>1-bit: white (0) and black (1) 
  <li><a name="1010903"> </a>2-bit: white (0), light gray (1), dark gray (2), and black (3) 
  <li><a name="1010904"> </a>4-bit: 16 shades of gray, from white (0) to black (0xF) 
  <li><a name="1010905"> </a>8-bit: 216 color "Web-safe" palette, which includes all combinations of red, green, and blue at these levels: 0x00, 0x33, 0x66, 0x99, 0xCC, and 0xFF. Also, it includes all 16 gray shades at these levels: 0x00, 0x11, 0x22, ... 0xFF. Finally, it includes these extra named HTML colors: 0xC0C0C0 (silver), 0x808080 (gray), 0x800000 (maroon), 0x800080 (purple), 0x008000 (green), and 0x008080 (teal). The remaining 24 entries (indexes 0xE7 through 0xFE) are unspecified and filled with black. These entries may be defined by an application. 
</ul>

<p><a name="1010906"> </a>Generalized support for color tables in all bit depths is included, with performance degrading if the color tables are not standard. </p>

<p><a name="1010907"> </a>Starting in Palm OS version 4.0, the operating system supports 16-bit color. However, support is not provided to allow the UI layer of the OS to utilize 16-bit color mode. Buttons, controls, and other gadgets continue to be displayed with a color bit depth of no more than 8-bits.</p>
<h3 class="hbH3">
  <a name="1010909"> </a>Indexed Versus Direct Color Display <a href="#1007614"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1010910"> </a>Displays that support 1, 2, 4, or 8 bits per pixel rely on a color lookup table in the display hardware in order to map pixel values into colors. The only colors that can be displayed on the screen at any given time are those that are found in the display's color lookup table.</p>

<p><a name="1010912"> </a>Direct color displays on the other hand, do not rely on a color lookup table because the value stored into each pixel location specifies the amount of red, green, and blue components directly. For example, a 16-bit direct color display could have 5 bits of each pixel assigned as the red component, 6 bits as the green component, and 5 bits as the blue component. With this type of display, the application is no longer limited to drawing with a color that is in the color lookup table.</p>

<p><a name="1010913"> </a>The color indexed mode for setting the foreground, background, and text colors used previous to Palm OS release 4.0 continues to work even with direct color displays because the system uses a translation table for mapping color index values into direct colors.</p>

<p><a name="1010914"> </a>When the screen is a direct color display, the color lookup table for the screen is present only for compatibility with the indexed mode color calls. The lookup table has no effect on the display hardware, since the hardware derives the color from the red, green, and blue bits stored in each pixel location of the frame buffer.</p>
<h3 class="hbH3">
  <a name="1010915"> </a>Color Table <a href="#1007614"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1010916"> </a>The system color table is stored in a <code>'tclt'</code> resource (symbolically named <code>colorTableRsc</code>). The color table is a count of the number of entries, followed by an array of <a href="../PalmOSReference/Bitmap.html#998266"><code>RGBColorType</code></a> colors. An <code>RGBColorType</code> struct holds 8 bits each of red, green, and blue plus an "extra" byte to hold an index value. </p>

<p><a name="1010922"> </a>A color's index is used in different ways by different software layers. When querying for a color or doing color fitting, the index holds the index of the closest match to the RGB value in the reference color table. When setting a color in a color table, the index can specify which slot the color should occupy. In some routines, the index is ignored. </p>

<p><a name="1010923"> </a>Generally, the drawing routines and the operating system use indexed colors rather than RGB. Indexed colors are used for performance reasons; it allows the RGB-to-index translation to be skipped for most drawing operations. </p>

<p><a name="1010924"> </a>Care should be taken not to confuse a full color table (which includes the count) with an array of RGB color values. Some routines operate on entire color tables, others operate on lists of color entries.</p>

<h4 class="hcH4">
  <a name="1010925"> </a>Color Translation Table
</h4>

<p><a name="1010926"> </a>When rendering requires a translation from one depth to another, a color translation table is used. For example, suppose you are trying to display an 8-bit color bitmap image on a 2-bit display. Palm OS must translate the color bitmap to a grayscale bitmap in order to display it. To do so, it creates the translation table by stepping through each element of the source color table (the 8-bit bitmap) and finding the best fit for the RGB value in the destination color table (which has exactly 4 values). This table is generated once and is reused for all drawing operations until it is no longer valid. </p>

<p><a name="1010928"> </a>Palm OS uses one of two algorithms to build the translation table: </p>
<ul type="disc">
  <li><a name="1010929"> </a>Luminosity fitting if the destination color table is grayscale. 
  <li><a name="1010930"> </a>Shortest distance in the RGB space if the destination color table is color. 
</ul>

<p><a name="1010931"> </a>Although shortest distance RGB fitting does not always produce the best perceptual match, it is fast, and it works well for the available palettes on Palm OS. </p>

<h4 class="hcH4">
  <a name="1010932"> </a>Color Table Management
</h4>

<p><a name="1010933"> </a>If you want to change the color table used by the current draw window, you can do so with the <a href="../PalmOSReference/Window.html#1015523"><code>WinPalette</code></a> function. If the current draw window is onscreen, the palette for the display hardware is also changed. For more information see the <code>WinPalette</code> function description in the <i>Palm OS Programmer's API Reference</i>. </p>

<p><a name="1010941"> </a>If your application needs to know which RGB color corresponds to which index color in the current palette, it can do so with the function calls <a href="../PalmOSReference/Window.html#1015682"><code>WinRGBToIndex</code></a> and <a href="../PalmOSReference/Window.html#1014715"><code>WinIndexToRGB</code></a>. When calling <code>WinRGBToIndex</code>, an exact match may not be available. That is, you may be calling <code>WinRGBToIndex</code> with an RGB value that is not in the palette and thus does not have an index. If there is no exact RGB match, the best-fit algorithm currently in place is used to determine the index value. For <code>WinIndexToRGB</code>, the RGB value returned is always the exact match. (An error is displayed on debug ROMs if the index is out of range.)</p>
<h3 class="hbH3">
  <a name="1010950"> </a>UI Color List <a href="#1007614"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1010951"> </a>The system builds a UI color list in addition to the system color table. The UI color list contains the colors used by the various user interface elements. Each UI color is represented by a symbolic color constant. See <a href="UserInterface.html#1010966">Table 4.18</a> for a list of colors used. </p>

<p><a name="1010955"> </a>Each bit depth has its own list of UI colors, allowing for a different color scheme in monochrome, grayscale, and color modes. This is important because even with a default monochrome look and feel, highlighted field text is black-on-yellow in color and white-on-black in other modes. </p>

<p><a name="1010956"> </a>To obtain the color list, the system first tries to load it from the synchronized preferences database using the value <code>sysResIDPrefUIColorTableBase</code> plus the current screen depth. The use of a preference allows for the possibility that individual users could customize the look using a third party "personality" or "themes" editor. If the preference is not defined, it loads the default color table from the system color table resource  plus the current screen depth. </p>

<p><a name="1010959"> </a>Using a list allows easy variation of the colors of UI elements to either personalize the overall color scheme of a given Palm Powered handheld or to adjust it within an application. Defining these as color classes ensures that the user interface elements are consistent with each other. </p>

<p class="caption"><a name="1010966"> </a><b>Table 4.18&nbsp;&nbsp;UI objects and colors </b></p>
<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1010970"> </a><b>UI Object</b></p>
    </th>
    <th><p class="tt"><a name="1010972"> </a><b>Symbolic Colors Used</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1010974"> </a>Forms</p>
    </td>
    <td><p class="tt"><a name="1010976"> </a><code>UIFormFrame</code>, <code>UIFormFill</code> </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1010978"> </a>Modal dialogs </p>
    </td>
    <td><p class="tt"><a name="1010980"> </a><code>UIDialogFrame</code>, <code>UIDialogFill</code> </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1010982"> </a>Alert dialogs </p>
    </td>
    <td><p class="tt"><a name="1010984"> </a><code>UIAlertFrame</code>, <code>UIAlertFill</code> </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1010986"> </a>Buttons (push button, repeating button, check boxes, and selector triggers)</p>
    </td>
    <td><p class="tt"><a name="1010988"> </a><code>UIObjectFrame</code>, <code>UIObjectFill</code>, <code>UIObjectForeground</code>, <code>UIObjectSelectedFill</code>, <code>UIObjectSelectedForeground</code> </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1010990"> </a>Fields</p>
    </td>
    <td><p class="tt"><a name="1010992"> </a><code>UIFieldBackground</code>, <code>UIFieldText</code>, <code>UIFieldTextLines</code>, <code>UIFieldTextHighlightBackground</code>, <code>UIFieldTextHighlightForeground</code> </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1010994"> </a>Menus</p>
    </td>
    <td><p class="tt"><a name="1010996"> </a><code>UIMenuFrame</code>, <code>UIMenuFill</code>, <code>UIMenuForeground</code>, <code>UIMenuSelectedFill</code>, <code>UIMenuSelectedForeground</code> </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1010998"> </a>Tables</p>
    </td>
    <td><p class="tt"><a name="1011000"> </a>Uses <code>UIFieldBackground</code> for the background, other colors controlled by the object in the table cell. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011002"> </a>Lists and pop-up triggers</p>
    </td>
    <td><p class="tt"><a name="1011004"> </a><code>UIObjectFrame</code>, <code>UIObjectFill</code>, <code>UIObjectForeground</code>, <code>UIObjectSelectedFill</code>, <code>UIObjectSelectedForeground</code> </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011006"> </a>Labels</p>
    </td>
    <td><p class="tt"><a name="1011008"> </a>Labels on a control and noneditable fields use <code>UIObjectForeground</code>, and text written to a form using <code>WinDrawChars</code> or <code>WinPaintChars</code> use the current text setting in the draw state. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011010"> </a>Scroll bars</p>
    </td>
    <td><p class="tt"><a name="1011012"> </a><code>UIObjectFill</code>, <code>UIObjectForeground</code>, <code>UIObjectSelectedFill</code>, <code>UIObjectSelectedForeground</code> </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011014"> </a>Insertion point</p>
    </td>
    <td><p class="tt"><a name="1011016"> </a><code>UIFieldCaret</code> </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011018"> </a>Front-end processor (currently only used on Japanese systems)</p>
    </td>
    <td><p class="tt"><a name="1011020"> </a><code>UIFieldFepRawText</code>, <code>UIFieldFepRawBackground</code>, <code>UIFieldFepConvertedText</code>, <code>UIFieldFepConvertedBackground</code>, <code>UIFieldFepUnderline</code> </p>
    </td>
  </tr>
</table>

</div>


<p><a name="1011022"> </a>Should your application need to change the colors used by the UI color list, it can do so with <a href="../PalmOSReference/UIColor.html#996107"><code>UIColorSetTableEntry</code></a>. If you need to retrieve a color used, it can do so with <a href="../PalmOSReference/UIColor.html#996015"><code>UIColorGetTableEntryIndex</code></a> or <a href="../PalmOSReference/UIColor.html#996069"><code>UIColorGetTableEntryRGB</code></a>. </p>

<p><a name="1011035"> </a>If you change the UI color list, your changes are in effect only while your application is active. The UI color list is reset as soon as control switches to another application. When control switches back to your application, you'll have to call <a href="../PalmOSReference/UIColor.html#996107"><code>UIColorSetTableEntry</code></a> again. </p>
<h3 class="hbH3">
  <a name="1011040"> </a>Direct Color Functions <a href="#1007614"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1011041"> </a>The direct color function calls are more generic than their indexed forms and can be used with both indexed (1, 2, 4, or 8 bit) or direct 16-bit color displays. The system automatically looks up the color index value of the closest color if necessary.</p>

<p><a name="1011046"> </a>The direct color functions are: <a href="../PalmOSReference/Window.html#1016587"><code>WinSetForeColorRGB</code></a>, <a href="../PalmOSReference/Window.html#1016329"><code>WinSetBackColorRGB</code></a>, <a href="../PalmOSReference/Window.html#1016861"><code>WinSetTextColorRGB</code></a>, and <a href="../PalmOSReference/Window.html#1014583"><code>WinGetPixelRGB</code></a>.</p>

<p><a name="1011059"> </a>Because these calls are only available on systems with the direct color enhancements present, applications should generally stick to using the indexed form of these calls: <a href="../PalmOSReference/Window.html#1016542"><code>WinSetForeColor</code></a>, <a href="../PalmOSReference/Window.html#1016284"><code>WinSetBackColor</code></a>, <a href="../PalmOSReference/Window.html#1016815"><code>WinSetTextColor</code></a>, and <a href="../PalmOSReference/Window.html#1014552"><code>WinGetPixel</code></a> unless they need finer control over the choice and dynamic range of colors.</p>
<h3 class="hbH3">
  <a name="1011077"> </a>Pixel Reading and Writing <a href="#1007614"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1011082"> </a>The Palm OS 3.5 API call for reading a pixel value, <a href="../PalmOSReference/Window.html#1014552"><code>WinGetPixel</code></a>, is designed to return a color index value. When this call is performed on a direct color display, it must first get the actual pixel value (a 16 or 24 bit direct color value). The system then looks up the closest color from the system's virtual 8-bit color lookup table, and returns the index of the closest color from that table. This mode of operation ensures compatibility for applications that take the return value from <code>WinGetPixel</code> and use it as an indexed color to <a href="../PalmOSReference/Window.html#1016542"><code>WinSetForeColor</code></a>, <a href="../PalmOSReference/Window.html#1016284"><code>WinSetBackColor</code></a>, and <a href="../PalmOSReference/Window.html#1016815"><code>WinSetTextColor</code></a>.</p>

<p><a name="1011095"> </a>Applications that need to copy pixels exactly from one location to another on direct color displays should use <a href="../PalmOSReference/Window.html#1014583"><code>WinGetPixelRGB</code></a> instead of <a href="../PalmOSReference/Window.html#1014552"><code>WinGetPixel</code></a>. If you use <a href="../PalmOSReference/Window.html#1014552"><code>WinGetPixel</code></a> on a direct color display, it can result in a loss of color because of the closest-match color table lookup operation that <a href="../PalmOSReference/Window.html#1014552"><code>WinGetPixel</code></a> performs.</p>

<p><a name="1011115"> </a><a href="../PalmOSReference/Window.html#1014583"><code>WinGetPixelRGB</code></a> returns the pixel as an <a href="../PalmOSReference/Bitmap.html#998266"><code>RGBColorType</code></a> with a full 8 bits each of red, green, and blue, assuring no loss of color resolution. This call is more generic than the <a href="../PalmOSReference/Window.html#1014552"><code>WinGetPixel</code></a> call and can be used with both indexed (1, 2, 4, or 8 bit) or direct color modes. The system automatically looks up the RGB components of indexed color pixels as necessary.</p>

<p><a name="1011125"> </a>The pixel setting API calls (<a href="../PalmOSReference/Window.html#1015274"><code>WinPaintPixel</code></a>, <a href="../PalmOSReference/Window.html#1013670"><code>WinDrawPixel</code></a>, and so on) all rely on using the current foreground and background colors and do not require new forms for the direct color mode. An application can simply pass in the return <a href="../PalmOSReference/Bitmap.html#998266"><code>RGBColorType</code></a> from <a href="../PalmOSReference/Window.html#1014583"><code>WinGetPixelRGB</code></a> to <a href="../PalmOSReference/Window.html#1016587"><code>WinSetForeColorRGB</code></a> and then call <a href="../PalmOSReference/Window.html#1013670"><code>WinDrawPixel</code></a> in order to copy a direct color pixel.</p>
<h3 class="hbH3">
  <a name="1011139"> </a>Direct Color Bitmaps <a href="#1007614"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1011140"> </a>In Palm OS release 4.0 the Window Manager supports16 bits per pixel direct color bitmaps, as well as the previously supported 1, 2, 4, and 8 bit indexed color bitmaps. A direct color bitmap is indicated by the new <code>directColor</code> bit in the <a href="../PalmOSReference/Bitmap.html#997516"><code>BitmapFlagsType</code></a> bit-field of the <a href="../PalmOSReference/Bitmap.html#997619"><code>BitmapType</code></a> data structure. In addition to this flag, a direct color bitmap must also include the <a href="../PalmOSReference/Bitmap.html#997472"><code>BitmapDirectInfoType</code></a> fields: <code>redBits</code>, <code>greenBits</code>, <code>blueBits</code>, <code>reserved</code>, and <code>transparentColor</code>.</p>

<p><a name="1011156"> </a>The <code>redBits</code>, <code>greenBits</code>, and <code>blueBits</code> fields indicate the number of bits in each pixel for each color component. The current implementation only supports 16 bits per pixel, with 5 bits of red, 6 bits of green, and 5 bits of blue:</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
R R R R  R G G G  G G G B  B B B B<a name="1011157"> </a>
MSB                           LSB<a name="1011158"> </a>
</pre><div class="CodeRule"><hr></div>


<p><a name="1011160"> </a>The <code>transparentColor</code> field contains the red, green, and blue components of the transparent color of the bitmap. For direct color bitmaps, this field is used instead of the <code>transparentIndex</code> field to designate the transparent color value of the bitmap, because the <code>transparentIndex</code> field is only 8 bits wide and can only represent an indexed color. The <code>transparentColor</code> field, like the <code>transparentIndex</code> field, is ignored unless the <code>hasTransparency</code> bit is set in the bitmap's flags field.</p>

<p><a name="1011163"> </a>With Palm OS 4.0, a 16-bit direct color bitmap can always be rendered, regardless of the actual screen depth. The 16-bit color functions automatically perform the necessary bit depth conversion to render the bitmap into whatever depth the destination is in. </p>

<p><a name="1011164"> </a>Bitmap resources can be built to contain multiple depth images in the same bitmap resource, one image for each possible depth. A potential incompatibility could arise if an application includes only a direct color version of a bitmap. Therefore, applications need to either check that version 4.0 of Palm OS is present before drawing a direct color bitmap, or they must always include a 1, 2, 4, or 8 bit per pixel image of the bitmap in the bitmap resource along with the direct color version.</p>

<h4 class="hcH4">
  <a name="1011165"> </a>Special Drawing Modes
</h4>

<p><a name="1011170"> </a>The special drawing modes of <code>winErase</code>, <code>winMask</code>, <code>winInvert</code>, and <code>winOverlay</code> introduce a complication when it comes to direct color models. These drawing modes were originally designed for use with monochrome bitmaps where black is designated by 1 bits and white is designated by 0 bits. With these color assignments, these various modes can be described as: </p>
<ul type="disc">
  <li><a name="1011172"> </a><code>WinErase</code> becomes an AND operation (black pixels in the source leave the destination alone whereas white pixels in the source make the destination white). 
  <li><a name="1011173"> </a><code>WinMask</code> becomes an AND NOT operation (black pixels in the source make the destination white whereas white pixels leave the destination alone) 
  <li><a name="1011174"> </a><code>WinInvert</code> becomes an XOR operation (black pixels in the source invert the destination whereas white pixels leave the destination alone) 
  <li><a name="1011175"> </a><code>WinOverlay</code> becomes an OR operation (black pixels in the source make the destination black, white pixels in the source leave the destination alone)
</ul>

<p><a name="1011176"> </a>In a direct color bitmap, black is designated by all 0s and white is designated by all 1s. Because of this, if all the drawing modes were implemented as logical operations in the same way as they are for indexed color modes, the desired effect would not be achieved.</p>

<p><a name="1011177"> </a>The assumption made by direct color functions is that the desired effect is more important to the caller than the actual logical operation that is performed. Thus, the various drawing modes, when drawing to a direct color bitmap, become:</p>
<ul type="disc">
  <li><a name="1011178"> </a><code>WinErase</code> becomes an OR operation (black pixels in the source leave the destination alone whereas white pixels in the source make the destination white). 
  <li><a name="1011179"> </a><code>WinMask</code> becomes an OR NOT operation (black pixels in the source make the destination white whereas white pixels leave the destination alone) 
  <li><a name="1011180"> </a><code>WinInvert</code> becomes an XOR NOT operation (black pixels in the source invert the destination whereas white pixels leave the destination alone) 
  <li><a name="1011181"> </a><code>WinOverlay</code> becomes an AND operation (black pixels in the source make the destination black, white pixels in the source leave the destination alone)
</ul>

<p><a name="1011182"> </a>As long as the source and destination bitmaps contain only black and white colors, the new interpretations of the drawing modes in direct color modes produce the same effects as they would have with an indexed color mode. </p>

<p><a name="1011183"> </a>With non-black and white pixels however, an application may get unexpected results from these drawing modes if they assume that the direct color function calls perform the same logical operation in direct color mode as they do in indexed color mode.</p>

<h2 class="haH2">
  <a name="1011185"> </a>Insertion Point <a href="#1007614"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1011187"> </a>The insertion point is a blinking indicator that shows where text is inserted when users write characters in the input area or paste clipboard text.</p>

<p><a name="1011188"> </a>In general, an application doesn't need to be concerned with the insertion point; the Palm OS UI manages the insertion point.</p>

<h2 class="haH2">
  <a name="1011190"> </a>Application Launcher  <a href="#1007614"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1011191"> </a>The Application Launcher is the screen from which most applications are launched. Users navigate to the Launcher by tapping the Applications icon in the input area. They then launch a specific application by tappings its icon. </p>

<p><a name="1011192"> </a>To integrate well with the Application Launcher, you must provide application icons and a version string as described in the following sections. In rare cases, you may need to provide a default application category as well. </p>
<h3 class="hbH3">
  <a name="1011193"> </a>Icons in the Launcher <a href="#1007614"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1011194"> </a>Applications installed on the Palm Powered handheld (resource databases of type <code>'appl'</code>) appear in the Application Launcher automatically. Specifically, the Launcher displays an application icon and an application name. </p>

<p><a name="1011195"> </a>Your application needs to have two icons:</p>
<ul type="disc">
  <li><a name="1011196"> </a>A large icon of type <code>tAIB</code>, with an ID of 1000. For compatibility with Palm OS 2.0, this icon should be 22 x 32 pixels; for all other Palm OS versions, you can make this icon 22 x 22 pixels.
  <li><a name="1011197"> </a>A smaller icon, also of type <code>tAIB</code>, with an ID of 1001. This icon should be 15 x 9 pixels.
</ul>

<div><hr>
  <a name="1011198"> </a> <b>NOTE: </b> The Constructor program supplied with Palm OS SDK versions 3.5 and later allows you to create an Application Icon Family. You should not use the App Icon or Multi-bit Icon resources if the Application Icon Family is available.
<hr>
</div>

<p><a name="1011200"> </a>The application name is defined in two ways: </p>
<ul type="disc">
  <li><a name="1011201"> </a>The application name (required) is used by HotSync application, the About box, the Memory display, and the database header. 
  <li><a name="1011203"> </a>The application icon name (optional) is a string resource in the application's resource file. It is used by the Launcher screen and in the Button Assignment preferences panel (available in OS versions 2.0 and later). You assign the name using Constructor.
   <p><a name="1011204"> </a>The application icon name is technically optional, but if you want the name to appear with the icon in the Launcher's main view, you must supply it. </p>
   <p><a name="1011205"> </a><b>Note:</b> If you use an application icon name, make it short!</p>
  <li><a name="1011206"> </a>Together with the application name, each application displays a application icon in the launcher. 
</ul>
<h3 class="hbH3">
  <a name="1011208"> </a>Application Version String <a href="#1007614"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1011209"> </a>The Launcher displays a version string from each application's <code>tver</code> resource, ID <code>1000</code>. This short string (usually 3 to 7 characters) is displayed in the Info dialog.</p>

<p><a name="1011210"> </a>A version string should have the format:</p>

<p><a name="1011211"> </a><i>major</i>.<i>minor</i>.[<i>stage</i>.<i>change</i>]</p>

<p><a name="1011212"> </a>where <i>major</i> is the major version number, <i>minor</i> is a minor version number, <i>stage</i> is a letter denoting a development stage (a for alpha b for beta or d for developer release) and <i>change</i> is the build number. Remove the <i>stage</i> and <i>change</i> numbers for the final release. </p>
<h3 class="hbH3">
  <a name="1011213"> </a>The Default Application Category <a href="#1007614"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1011214"> </a>Launcher divides applications into categories starting in Palm OS 3.5. You can store an application's category in a <code>'taic'</code> resource (symbolically named <code>defaultCategoryRscType</code>) with the ID 1000 in the PRC file. Starting in Palm OS 3.5, the Launcher application installs your application into the specified category. In Constructor, you can specify the <code>'taic'</code> resource by providing a value for the Default App Category field in the main window.</p>

<p><a name="1011216"> </a>Most applications should <i>not</i> specify a <code>'taic'</code> resource. By default, Launcher installs applications in the Unfiled category, and each user chooses where to file the application. </p>

<p><a name="1011217"> </a>Only specify a <code>'taic'</code> resource in these instances: </p>
<ul type="disc">
  <li><a name="1011218"> </a>Your application is intended for consumers and clearly belongs to one of the Launcher predefined categories (see <a href="UserInterface.html#1011231">Table 4.19</a>). 
   <p><a name="1011222"> </a>Always specify the Launcher predefined categories in US English in ASCII characters. Launcher provides the appropriate translations for localized ROMs. </p>
  <li><a name="1011223"> </a>Your application is intended for a vertical market or you've created a suite of custom applications that work together to provide a complete custom solution. 
   <p><a name="1011224"> </a>In this case, you might define a <code>'taic'</code> resource with a custom category name. Launcher creates the category if it doesn't already exist in the Launcher database. When you're not identifying one of Launcher's predefined categories, you may identify the category in any language. </p>
</ul>

<p class="caption"><a name="1011231"> </a><b>Table 4.19&nbsp;&nbsp;Launcher predefined categories </b></p>
<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1011235"> </a><b>Default Launcher Category</b></p>
    </th>
    <th><p class="tt"><a name="1011237"> </a><b>Description</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011239"> </a>Games</p>
    </td>
    <td><p class="tt"><a name="1011241"> </a>Any game. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011243"> </a>Main</p>
    </td>
    <td><p class="tt"><a name="1011245"> </a>Applications that would be used on a daily basis, such as Date Book or Address Book.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011247"> </a>System</p>
    </td>
    <td><p class="tt"><a name="1011249"> </a>Applications that control how the system behaves, such as the Preferences, HotSync, and Security. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011251"> </a>Utilities</p>
    </td>
    <td><p class="tt"><a name="1011253"> </a>Applications that help the user with system management. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011255"> </a>Unfiled</p>
    </td>
    <td><p class="tt"><a name="1011257"> </a>The default category. </p>
    </td>
  </tr>
</table>

</div>


<p><a name="1011259"> </a>Do not treat the default application category as something analogous to the Microsoft Windows Start menu category. On a Palm Powered handheld, the user is limited to 16 categories including Unfiled. Obviously, that limit would be quickly reached if each application defines its own category. Only assign a default category where it is a clear benefit to your users. </p>
<h3 class="hbH3">
  <a name="1011260"> </a>Opening the Launcher Programmatically <a href="#1007614"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1011261"> </a>Situations in which you need to open the Application Launcher programmatically are rare, but the system does provide an API for doing so. To activate the Launcher from within your application, enqueue a <a href="../PalmOSReference/EventRef.html#997089"><code>keyDownEvent</code></a> that contains a <code>launchChr</code>, as shown in <a href="UserInterface.html#1011280">Listing 4.11</a>.</p>

<div><hr>
  <a name="1011273"> </a> <span class="warning">WARNING! </span> Do not use the <a href="../PalmOSReference/SystemManager.html#1076980"><code>SysUIAppSwitch</code></a> or <a href="../PalmOSReference/SystemManager.html#1075905"><code>SysAppLaunch</code></a> functions to open the Application Launcher application. 
<hr>
</div>
<p class="CCodeCaption">
  <a name="1011280"> </a><b>Listing 4.11&nbsp;&nbsp;Opening the Launcher</b>
</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
EventType newEvent;<a name="1011281"> </a>
<a name="1011282"> </a>
MemSet(&amp;newEvent, sizeof(newEvent), 0);<a name="1011283"> </a>
newEvent.eType = keyDownEvent;<a name="1011284"> </a>
newEvent.data.keyDown.chr = launchChr;<a name="1011285"> </a>
newEvent.data.keyDown.modifiers = commandKeyMask;<a name="1011286"> </a>
EvtAddEventToQueue (&amp;newEvent);<a name="1011287"> </a>
</pre><div class="CodeRule"><hr></div>


<p><a name="1011288"> </a>Note that this technique will run whatever is run whenever you tap on the Applications icon. For information on launching other applications programmatically, see <a href="AppStartupAndStop.html#997824">"Launching Applications Programmatically"</a> in the chapter <a href="AppStartupAndStop.html#997517">"Application Startup and Stop."</a></p>

<div><hr>
  <a name="1011295"> </a> <b>NOTE: </b> Versions of Palm OS prior to 3.0 implemented the Launcher as a pop-up. The <a href="../PalmOSReference/SystemDialogs.html#995803"><code>SysAppLauncherDialog</code></a> function, which provides the API to the old pop-up launcher, is still present in Palm OS for compatibility purposes, but it has not been updated and, in most cases, should not be used.
<hr>
</div>

<h2 class="haH2">
  <a name="1011301"> </a>Summary of User Interface API <a href="#1007614"><span class="nav">^TOP^</span></a>
</h2>



<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1011304"> </a><b>Progress Manager Functions</b></p>
    </th>
    <th><p class="tt"><a name="1011306"> </a><b></b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011311"> </a><a href="../PalmOSReference/ProgressManager.html#995817">PrgHandleEvent</a><br><a href="../PalmOSReference/ProgressManager.html#995973">PrgStopDialog</a><br><a href="../PalmOSReference/ProgressManager.html#996068">PrgUserCancel</a></p>
    </td>
    <td><p class="tt"><a name="1011322"> </a><a href="../PalmOSReference/ProgressManager.html#995878">PrgStartDialog</a><br><a href="../PalmOSReference/ProgressManager.html#996014">PrgUpdateDialog</a></p>
    </td>
  </tr>
</table>

</div>



<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1011329"> </a><b>Form Functions</b></p>
    </th>
    <th><p class="tt"><a name="1011331"> </a><b></b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011333"> </a><b>Initialization</b></p>
    </td>
    <td><p class="tt"><a name="1011335"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011340"> </a><a href="../PalmOSReference/Form.html#998351">FrmInitForm</a></p>
    </td>
    <td><p class="tt"><a name="1011342"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011344"> </a><b>Event Handling</b></p>
    </td>
    <td><p class="tt"><a name="1011346"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011351"> </a><a href="../PalmOSReference/Form.html#998914">FrmSetEventHandler</a><br><a href="../PalmOSReference/Form.html#998041">FrmHandleEvent</a></p>
    </td>
    <td><p class="tt"><a name="1011359"> </a><a href="../PalmOSReference/Form.html#1098450">FrmDispatchEvent</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011361"> </a><b>Displaying a Form</b></p>
    </td>
    <td><p class="tt"><a name="1011363"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011368"> </a><a href="../PalmOSReference/Form.html#998001">FrmGotoForm</a><br><a href="../PalmOSReference/Form.html#997288">FrmDrawForm</a><br><a href="../PalmOSReference/Form.html#998787">FrmSetActiveForm</a></p>
    </td>
    <td><p class="tt"><a name="1011379"> </a><a href="../PalmOSReference/Form.html#998603">FrmPopupForm</a><br><a href="../PalmOSReference/Form.html#998420">FrmNewForm</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><p class="tt"><a name="1011384"> </a><b>Displaying a Modal Dialog</b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011391"> </a><a href="../PalmOSReference/Form.html#997090">FrmCustomAlert</a><br><a href="../PalmOSReference/Form.html#997124">FrmCustomResponseAlert</a><br><a href="../PalmOSReference/Form.html#996965">FrmAlert</a><br><a href="../PalmOSReference/Form.html#997249">FrmDoDialog</a></p>
    </td>
    <td><p class="tt"><a name="1011405"> </a><a href="../PalmOSReference/Form.html#998294">FrmHelp</a><br><a href="../PalmOSReference/Form.html#998737">FrmSaveActiveState</a><br><a href="../PalmOSReference/Form.html#998684">FrmRestoreActiveState</a><br><a href="../PalmOSReference/Form.html#998506">FrmNewGsi</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011416"> </a><b>Updating the Display</b></p>
    </td>
    <td><p class="tt"><a name="1011418"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011423"> </a><a href="../PalmOSReference/Form.html#999250">FrmUpdateForm</a><br><a href="../PalmOSReference/Form.html#999211">FrmShowObject</a><br><a href="../PalmOSReference/Form.html#998633">FrmRemoveObject</a></p>
    </td>
    <td><p class="tt"><a name="1011434"> </a><a href="../PalmOSReference/Form.html#998711">FrmReturnToForm</a><br><a href="../PalmOSReference/Form.html#998311">FrmHideObject</a><br><a href="../PalmOSReference/Form.html#999280">FrmUpdateScrollers</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><p class="tt"><a name="1011442"> </a><b>Form Attributes</b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011449"> </a><a href="../PalmOSReference/Form.html#999337">FrmVisible</a></p>
    </td>
    <td><p class="tt"><a name="1011454"> </a><a href="../PalmOSReference/Form.html#998764">FrmSaveAllForms</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><p class="tt"><a name="1011456"> </a><b>Accessing a Form Programmatically</b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011463"> </a><a href="../PalmOSReference/Form.html#997390">FrmGetActiveForm</a><br><a href="../PalmOSReference/Form.html#1085408">FrmGetFirstForm</a><br><a href="../PalmOSReference/Form.html#997597">FrmGetFormPtr</a><br><a href="../PalmOSReference/Form.html#999311">FrmValidatePtr</a></p>
    </td>
    <td><p class="tt"><a name="1011477"> </a><a href="../PalmOSReference/Form.html#997418">FrmGetActiveFormID</a><br><a href="../PalmOSReference/Form.html#997574">FrmGetFormId</a><br><a href="../PalmOSReference/Form.html#997980">FrmGetWindowHandle</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><p class="tt"><a name="1011485"> </a><b>Accessing Objects Within a Form</b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011492"> </a><a href="../PalmOSReference/Form.html#997524">FrmGetFocus</a><br><a href="../PalmOSReference/Form.html#997736">FrmGetObjectId</a><br><a href="../PalmOSReference/Form.html#997907">FrmGetObjectType</a><br><a href="../PalmOSReference/Form.html#997879">FrmGetObjectPtr</a></p>
    </td>
    <td><p class="tt"><a name="1011506"> </a><a href="../PalmOSReference/Form.html#998943">FrmSetFocus</a><br><a href="../PalmOSReference/Form.html#997765">FrmGetObjectIndex</a><br><a href="../PalmOSReference/Form.html#997846">FrmGetObjectPosition</a><br><a href="../PalmOSReference/Form.html#997677">FrmGetNumberOfObjects</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><p class="tt"><a name="1011517"> </a><b>Title and Menu </b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011524"> </a><a href="../PalmOSReference/Form.html#997059">FrmCopyTitle</a><br><a href="../PalmOSReference/Form.html#998578">FrmPointInTitle</a><br><a href="../PalmOSReference/Form.html#999064">FrmSetMenu</a></p>
    </td>
    <td><p class="tt"><a name="1011535"> </a><a href="../PalmOSReference/Form.html#997933">FrmGetTitle</a><br><a href="../PalmOSReference/Form.html#999175">FrmSetTitle</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011540"> </a><b>Labels</b></p>
    </td>
    <td><p class="tt"><a name="1011542"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011547"> </a><a href="../PalmOSReference/Form.html#997022">FrmCopyLabel</a><br><a href="../PalmOSReference/Form.html#997650">FrmGetLabel</a></p>
    </td>
    <td><p class="tt"><a name="1011555"> </a><a href="../PalmOSReference/Form.html#998825">FrmSetCategoryLabel</a><br><a href="../PalmOSReference/Form.html#998540">FrmNewLabel</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><p class="tt"><a name="1011560"> </a><b>Controls</b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011567"> </a><a href="../PalmOSReference/Form.html#997476">FrmGetControlValue</a><br><a href="../PalmOSReference/Form.html#997438">FrmGetControlGroupSelection</a></p>
    </td>
    <td><p class="tt"><a name="1011575"> </a><a href="../PalmOSReference/Form.html#998882">FrmSetControlValue</a><br><a href="../PalmOSReference/Form.html#998852">FrmSetControlGroupSelection</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011580"> </a><b>Gadgets</b></p>
    </td>
    <td><p class="tt"><a name="1011582"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011587"> </a><a href="../PalmOSReference/Form.html#997617">FrmGetGadgetData</a><br><a href="../PalmOSReference/Form.html#998469">FrmNewGadget</a></p>
    </td>
    <td><p class="tt"><a name="1011595"> </a><a href="../PalmOSReference/Form.html#998981">FrmSetGadgetData</a><br><a href="../PalmOSReference/Form.html#999019">FrmSetGadgetHandler</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011600"> </a><b>Bitmaps</b></p>
    </td>
    <td><p class="tt"><a name="1011602"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011607"> </a><a href="../PalmOSReference/Form.html#998387">FrmNewBitmap</a> </p>
    </td>
    <td><p class="tt"><a name="1011609"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><p class="tt"><a name="1011611"> </a><b>Coordinates and Boundaries</b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011618"> </a><a href="../PalmOSReference/Form.html#997703">FrmGetObjectBounds</a><br><a href="../PalmOSReference/Form.html#999140">FrmSetObjectPosition</a></p>
    </td>
    <td><p class="tt"><a name="1011626"> </a><a href="../PalmOSReference/Form.html#999108">FrmSetObjectBounds</a><br><a href="../PalmOSReference/Form.html#997554">FrmGetFormBounds</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><p class="tt"><a name="1011631"> </a><b>Removing a Form From the Display</b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011638"> </a><a href="../PalmOSReference/Form.html#996994">FrmCloseAllForms</a></p>
    </td>
    <td><p class="tt"><a name="1011643"> </a><a href="../PalmOSReference/Form.html#997340">FrmEraseForm</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><p class="tt"><a name="1011645"> </a><b>Releasing a Form's Memory</b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011652"> </a><a href="../PalmOSReference/Form.html#997177">FrmDeleteForm</a></p>
    </td>
    <td><p class="tt"><a name="1011654"> </a></p>
    </td>
  </tr>
</table>

</div>



<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1011658"> </a><b>Window Functions</b></p>
    </th>
    <th><p class="tt"><a name="1011660"> </a><b></b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011662"> </a><b>Initialization</b></p>
    </td>
    <td><p class="tt"><a name="1011664"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011669"> </a><a href="../PalmOSReference/Window.html#1013215">WinCreateWindow</a></p>
    </td>
    <td><p class="tt"><a name="1011671"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011673"> </a><b>Making a Window Active</b></p>
    </td>
    <td><p class="tt"><a name="1011675"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td>
<p><a name="1011680"> </a><a href="../PalmOSReference/Window.html#1016249">WinSetActiveWindow</a></p>
    </td>
    <td>
<p><a name="1011685"> </a><a href="../PalmOSReference/Window.html#1016515">WinSetDrawWindow</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><p class="tt"><a name="1011687"> </a><b>Accessing a Window Programmatically</b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011694"> </a><a href="../PalmOSReference/Window.html#1014168">WinGetActiveWindow</a><br><a href="../PalmOSReference/Window.html#1014337">WinGetDisplayWindow</a><br><a href="../PalmOSReference/Window.html#1017055">WinValidateHandle</a></p>
    </td>
    <td>
<p><a name="1011705"> </a><a href="../PalmOSReference/Window.html#1014365">WinGetDrawWindow</a><br><a href="../PalmOSReference/Window.html#1014416">WinGetFirstWindow</a><br></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011710"> </a><b>Offscreen Windows</b></p>
    </td>
    <td><p class="tt"><a name="1011712"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011717"> </a><a href="../PalmOSReference/Window.html#1015652">WinRestoreBits</a><br><a href="../PalmOSReference/Window.html#1013152">WinCreateOffscreenWindow</a></p>
    </td>
    <td><p class="tt"><a name="1011725"> </a><a href="../PalmOSReference/Window.html#1015725">WinSaveBit</a></p>
<p class="tt"><a name="1011729"> </a><a href="../PalmOSReference/Window.html#1013088">WinCreateBitmapWindow</a> </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011731"> </a><b>Displaying Characters</b></p>
    </td>
    <td><p class="tt"><a name="1011733"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011738"> </a><a href="../PalmOSReference/Window.html#1013360">WinDrawChar</a><br><a href="../PalmOSReference/Window.html#1014749">WinInvertChars</a><br><a href="../PalmOSReference/Window.html#1013790">WinDrawTruncChars</a></p>
<p class="tt"><a name="1011748"> </a><a href="../PalmOSReference/Window.html#1015054">WinPaintChar</a></p>
    </td>
    <td><p class="tt"><a name="1011753"> </a><a href="../PalmOSReference/Window.html#1013424">WinDrawChars</a><br><a href="../PalmOSReference/Window.html#1013566">WinDrawInvertedChars</a><br><a href="../PalmOSReference/Window.html#1013856">WinEraseChars</a><br><a href="../PalmOSReference/Window.html#1015108">WinPaintChars</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011764"> </a><b>Bitmaps</b></p>
    </td>
    <td><p class="tt"><a name="1011766"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011771"> </a><a href="../PalmOSReference/Window.html#1013322">WinDrawBitmap</a><br><a href="../PalmOSReference/Window.html#1015004">WinPaintBitmap</a></p>
    </td>
    <td><p class="tt"><a name="1011779"> </a><a href="../PalmOSReference/Window.html#1014197">WinGetBitmap</a><br></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011781"> </a><b>Lines</b></p>
    </td>
    <td><p class="tt"><a name="1011783"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011788"> </a><a href="../PalmOSReference/Window.html#1013620">WinDrawLine</a><br><a href="../PalmOSReference/Window.html#1014083">WinFillLine</a><br><a href="../PalmOSReference/Window.html#1013906">WinEraseLine</a><br><a href="../PalmOSReference/Window.html#1015223">WinPaintLines</a></p>
    </td>
    <td><p class="tt"><a name="1011802"> </a><a href="../PalmOSReference/Window.html#1013482">WinDrawGrayLine</a><br><a href="../PalmOSReference/Window.html#1014810">WinInvertLine</a></p>
<p class="tt"><a name="1011809"> </a><a href="../PalmOSReference/Window.html#1015171">WinPaintLine</a><br></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011811"> </a><b>Rectangles</b></p>
    </td>
    <td><p class="tt"><a name="1011813"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011818"> </a><a href="../PalmOSReference/Window.html#1013707">WinDrawRectangle</a><br><a href="../PalmOSReference/Window.html#1014895">WinInvertRectangle</a><br><a href="../PalmOSReference/Window.html#1014130">WinFillRectangle</a><br><a href="../PalmOSReference/Window.html#1013985">WinEraseRectangle</a><br><a href="../PalmOSReference/Window.html#1013526">WinDrawGrayRectangleFrame</a><br><a href="../PalmOSReference/Window.html#1015358">WinPaintRectangle</a></p>
    </td>
    <td><p class="tt"><a name="1011838"> </a><a href="../PalmOSReference/Window.html#1013039">WinCopyRectangle</a><br><a href="../PalmOSReference/Window.html#1013745">WinDrawRectangleFrame</a><br><a href="../PalmOSReference/Window.html#1014933">WinInvertRectangleFrame</a><br><a href="../PalmOSReference/Window.html#1016223">WinScrollRectangle</a><br><a href="../PalmOSReference/Window.html#1014019">WinEraseRectangleFrame</a><br><a href="../PalmOSReference/Window.html#1015401">WinPaintRectangleFrame</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011855"> </a><b>Pixels</b></p>
    </td>
    <td><p class="tt"><a name="1011857"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011862"> </a><a href="../PalmOSReference/Window.html#1013670">WinDrawPixel</a><br><a href="../PalmOSReference/Window.html#1013948">WinErasePixel</a><br><a href="../PalmOSReference/Window.html#1014552">WinGetPixel</a></p>
    </td>
    <td><p class="tt"><a name="1011873"> </a><a href="../PalmOSReference/Window.html#1014855">WinInvertPixel</a><br><a href="../PalmOSReference/Window.html#1015274">WinPaintPixel</a><br><a href="../PalmOSReference/Window.html#1015316">WinPaintPixels</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011881"> </a><b>Clipping Rectangle</b></p>
    </td>
    <td><p class="tt"><a name="1011883"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011888"> </a><a href="../PalmOSReference/Window.html#1014266">WinGetClip</a><br><a href="../PalmOSReference/Window.html#1015632">WinResetClip</a></p>
    </td>
    <td><p class="tt"><a name="1011896"> </a><a href="../PalmOSReference/Window.html#1016415">WinSetClip</a><br><a href="../PalmOSReference/Window.html#1012997">WinClipRectangle</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><p class="tt"><a name="1011901"> </a><b>Setting the Drawing State</b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011908"> </a><a href="../PalmOSReference/Window.html#1015578">WinPopDrawState</a><br><a href="../PalmOSReference/Window.html#1014974">WinModal</a><br><a href="../PalmOSReference/Window.html#1016643">WinSetPattern</a><br><a href="../PalmOSReference/Window.html#1014513">WinGetPatternType</a><br><a href="../PalmOSReference/Window.html#1016284">WinSetBackColor</a><br><a href="../PalmOSReference/Window.html#1016683">WinSetPatternType</a></p>
    </td>
    <td><p class="tt"><a name="1011928"> </a><a href="../PalmOSReference/Window.html#1015604">WinPushDrawState</a><br><a href="../PalmOSReference/Window.html#1014471">WinGetPattern</a><br><a href="../PalmOSReference/Window.html#1016917">WinSetUnderlineMode</a><br><a href="../PalmOSReference/Window.html#1075295">WinSetDrawMode</a><br><a href="../PalmOSReference/Window.html#1016542">WinSetForeColor</a><br><a href="../PalmOSReference/Window.html#1016815">WinSetTextColor</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><p class="tt"><a name="1011945"> </a><b>Coordinates and Boundaries</b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011952"> </a><a href="../PalmOSReference/Window.html#1013298">WinDisplayToWindowPt</a><br><a href="../PalmOSReference/Window.html#1014319">WinGetDisplayExtent</a><br><a href="../PalmOSReference/Window.html#1016385">WinSetBounds</a><br><a href="../PalmOSReference/Window.html#1014438">WinGetFramesRectangle</a></p>
    </td>
    <td><p class="tt"><a name="1011966"> </a><a href="../PalmOSReference/Window.html#1017085">WinWindowToDisplayPt</a><br><a href="../PalmOSReference/Window.html#1014666">WinGetWindowExtent</a><br><a href="../PalmOSReference/Window.html#1014219">WinGetBounds</a><br><a href="../PalmOSReference/Window.html#1014692">WinGetWindowFrameRect</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011977"> </a><b>Working with the Screen</b></p>
    </td>
    <td><p class="tt"><a name="1011979"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1011984"> </a><a href="../PalmOSReference/Window.html#1015990">WinScreenMode</a></p>
<p class="tt"><a name="1011988"> </a><a href="../PalmOSReference/Window.html#1016195">WinScreenUnlock</a></p>
    </td>
    <td><p class="tt"><a name="1011993"> </a><a href="../PalmOSReference/Window.html#1015956">WinScreenLock</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><p class="tt"><a name="1011995"> </a><b>Removing a Window From the Display</b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012002"> </a><a href="../PalmOSReference/Window.html#1014057">WinEraseWindow</a></p>
    </td>
    <td><p class="tt"><a name="1012004"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><p class="tt"><a name="1012006"> </a><b>Releasing a Window's Memory</b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012013"> </a><a href="../PalmOSReference/Window.html#1013268">WinDeleteWindow</a></p>
    </td>
    <td><p class="tt"><a name="1012015"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012017"> </a><b>Working with Colors</b></p>
    </td>
    <td><p class="tt"><a name="1012019"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012024"> </a><a href="../PalmOSReference/Window.html#1014715">WinIndexToRGB</a><br><a href="../PalmOSReference/Window.html#1015682">WinRGBToIndex</a></p>
    </td>
    <td><p class="tt"><a name="1012032"> </a><a href="../PalmOSReference/Window.html#1015523">WinPalette</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012037"> </a><a href="../PalmOSReference/Window.html#1014583">WinGetPixelRGB</a><br><a href="../PalmOSReference/Window.html#1016284">WinSetBackColor</a><br><a href="../PalmOSReference/Window.html#1016542">WinSetForeColor</a><br><a href="../PalmOSReference/Window.html#1016815">WinSetTextColor</a></p>
    </td>
    <td><p class="tt"><a name="1012051"> </a><a href="../PalmOSReference/Window.html#1016587">WinSetForeColorRGB</a><br><a href="../PalmOSReference/Window.html#1016329">WinSetBackColorRGB</a><br><a href="../PalmOSReference/Window.html#1016861">WinSetTextColorRGB</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012059"> </a><b>High-Density Displays</b></p>
    </td>
    <td><p class="tt"><a name="1012061"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012066"> </a><a href="../PalmOSReference/Window.html#1014287">WinGetCoordinateSystem</a></p>
<p class="tt"><a name="1012070"> </a><a href="../PalmOSReference/Window.html#1014635">WinGetSupportedDensity</a></p>
<p class="tt"><a name="1012074"> </a><a href="../PalmOSReference/Window.html#1015454">WinPaintRoundedRectangleFrame</a></p>
<p class="tt"><a name="1012078"> </a><a href="../PalmOSReference/Window.html#1015494">WinPaintTiledBitmap</a></p>
<p class="tt"><a name="1012082"> </a><a href="../PalmOSReference/Window.html#1015751">WinScaleCoord</a></p>
<p class="tt"><a name="1012086"> </a><a href="../PalmOSReference/Window.html#1015787">WinScalePoint</a></p>
    </td>
    <td><p class="tt"><a name="1012091"> </a><a href="../PalmOSReference/Window.html#1015823">WinScaleRectangle</a></p>
<p class="tt"><a name="1012095"> </a><a href="../PalmOSReference/Window.html#1015858">WinScreenGetAttribute</a></p>
<p class="tt"><a name="1012099"> </a><a href="../PalmOSReference/Window.html#1074566">WinSetCoordinateSystem</a></p>
<p class="tt"><a name="1012103"> </a><a href="../PalmOSReference/Window.html#1016949">WinUnscaleCoord</a></p>
<p class="tt"><a name="1012107"> </a><a href="../PalmOSReference/Window.html#1016985">WinUnscalePoint</a></p>
<p class="tt"><a name="1012111"> </a><a href="../PalmOSReference/Window.html#1017021">WinUnscaleRectangle</a></p>
    </td>
  </tr>
</table>

</div>



<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1012115"> </a><b>Control Functions</b></p>
    </th>
    <th><p class="tt"><a name="1012117"> </a><b></b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012119"> </a><b>Displaying a Control</b></p>
    </td>
    <td><p class="tt"><a name="1012121"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012126"> </a><a href="../PalmOSReference/Control.html#997028">CtlShowControl</a><br><a href="../PalmOSReference/Control.html#996949">CtlSetUsable</a></p>
<p class="tt"><a name="1012133"> </a><a href="../PalmOSReference/Control.html#996690">CtlNewGraphicControl</a> </p>
    </td>
    <td><p class="tt"><a name="1012138"> </a><a href="../PalmOSReference/Control.html#996339">CtlDrawControl</a><br><a href="../PalmOSReference/Control.html#996630">CtlNewControl</a></p>
<p class="tt"><a name="1012145"> </a><a href="../PalmOSReference/Control.html#996750">CtlNewSliderControl</a> </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012147"> </a><b>Control's Value</b></p>
    </td>
    <td><p class="tt"><a name="1012149"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012154"> </a><a href="../PalmOSReference/Control.html#996494">CtlGetValue</a></p>
<p class="tt"><a name="1012158"> </a><a href="../PalmOSReference/Control.html#996453">CtlGetSliderValues</a> </p>
    </td>
    <td><p class="tt"><a name="1012163"> </a><a href="../PalmOSReference/Control.html#996983">CtlSetValue</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012165"> </a><b>Label</b></p>
    </td>
    <td><p class="tt"><a name="1012167"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012172"> </a><a href="../PalmOSReference/Control.html#996875">CtlSetLabel</a></p>
    </td>
    <td><p class="tt"><a name="1012177"> </a><a href="../PalmOSReference/Control.html#996428">CtlGetLabel</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><p class="tt"><a name="1012179"> </a><b>Enabling/Disabling</b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012186"> </a><a href="../PalmOSReference/Control.html#996814">CtlSetEnabled</a><br><a href="../PalmOSReference/Control.html#996573">CtlHideControl</a></p>
    </td>
    <td><p class="tt"><a name="1012194"> </a><a href="../PalmOSReference/Control.html#996376">CtlEnabled</a><br><a href="../PalmOSReference/Control.html#996402">CtlEraseControl</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012199"> </a><b>Event Handling</b></p>
    </td>
    <td><p class="tt"><a name="1012201"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012206"> </a><a href="../PalmOSReference/Control.html#996530">CtlHandleEvent</a></p>
    </td>
    <td><p class="tt"><a name="1012208"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012210"> </a><b>Setting up controls </b></p>
    </td>
    <td><p class="tt"><a name="1012212"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012217"> </a><a href="../PalmOSReference/Control.html#996453">CtlGetSliderValues</a> <br><a href="../PalmOSReference/Control.html#996841">CtlSetGraphics</a> </p>
    </td>
    <td><p class="tt"><a name="1012225"> </a><a href="../PalmOSReference/Control.html#996905">CtlSetSliderValues</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012227"> </a><b>Debugging </b></p>
    </td>
    <td><p class="tt"><a name="1012229"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012234"> </a><a href="../PalmOSReference/Control.html#996607">CtlHitControl</a></p>
    </td>
    <td><p class="tt"><a name="1012239"> </a><a href="../PalmOSReference/Control.html#997065">CtlValidatePointer</a></p>
    </td>
  </tr>
</table>

</div>



<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1012243"> </a><b>Field Functions</b></p>
    </th>
    <th><p class="tt"><a name="1012245"> </a><b></b></p>
    </th>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><p class="tt"><a name="1012247"> </a><b>Obtaining User Input </b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012254"> </a><a href="../PalmOSReference/Field.html#996963">FldGetTextPtr</a><br><a href="../PalmOSReference/Field.html#997604">FldSetDirty</a><br><a href="../PalmOSReference/Field.html#996816">FldGetSelection</a></p>
    </td>
    <td><p class="tt"><a name="1012265"> </a><a href="../PalmOSReference/Field.html#996869">FldGetTextHandle</a><br><a href="../PalmOSReference/Field.html#996459">FldDirty</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012270"> </a><b>Updating the Display</b></p>
    </td>
    <td><p class="tt"><a name="1012272"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012277"> </a><a href="../PalmOSReference/Field.html#996492">FldDrawField</a><br><a href="../PalmOSReference/Field.html#997823">FldSetSelection</a><br><a href="../PalmOSReference/Field.html#997317">FldRecalculateField</a></p>
    </td>
    <td><p class="tt"><a name="1012288"> </a><a href="../PalmOSReference/Field.html#997172">FldMakeFullyVisible</a><br><a href="../PalmOSReference/Field.html#997565">FldSetBounds</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012293"> </a><b>Displaying Text </b></p>
    </td>
    <td><p class="tt"><a name="1012295"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012300"> </a><a href="../PalmOSReference/Field.html#997995">FldSetTextPtr</a></p>
    </td>
    <td><p class="tt"><a name="1012302"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012304"> </a><b>Editing Text</b></p>
    </td>
    <td><p class="tt"><a name="1012306"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012311"> </a><a href="../PalmOSReference/Field.html#997853">FldSetText</a><br><a href="../PalmOSReference/Field.html#997123">FldInsert</a><br><a href="../PalmOSReference/Field.html#996520">FldEraseField</a></p>
    </td>
    <td><p class="tt"><a name="1012322"> </a><a href="../PalmOSReference/Field.html#997937">FldSetTextHandle</a><br><a href="../PalmOSReference/Field.html#996416">FldDelete</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012327"> </a><b>Cut/Copy/Paste</b></p>
    </td>
    <td><p class="tt"><a name="1012329"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012334"> </a><a href="../PalmOSReference/Field.html#996352">FldCopy</a><br><a href="../PalmOSReference/Field.html#997275">FldPaste</a></p>
    </td>
    <td><p class="tt"><a name="1012342"> </a><a href="../PalmOSReference/Field.html#996382">FldCut</a><br><a href="../PalmOSReference/Field.html#998079">FldUndo</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012347"> </a><b>Scrolling</b></p>
    </td>
    <td><p class="tt"><a name="1012349"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012354"> </a><a href="../PalmOSReference/Field.html#997425">FldScrollField</a><br><a href="../PalmOSReference/Field.html#997784">FldSetScrollPosition</a><br><a href="../PalmOSReference/Field.html#996996">FldGetVisibleLines</a><br><a href="../PalmOSReference/Field.html#996711">FldGetNumberOfBlankLines</a></p>
    </td>
    <td><p class="tt"><a name="1012368"> </a><a href="../PalmOSReference/Field.html#997399">FldScrollable</a><br><a href="../PalmOSReference/Field.html#996737">FldGetScrollPosition</a><br><a href="../PalmOSReference/Field.html#996763">FldGetScrollValues</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><p class="tt"><a name="1012376"> </a><b>Field Attributes</b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012383"> </a><a href="../PalmOSReference/Field.html#996579">FldGetAttributes</a><br><a href="../PalmOSReference/Field.html#996637">FldGetFont</a><br><a href="../PalmOSReference/Field.html#996687">FldGetMaxChars</a><br><a href="../PalmOSReference/Field.html#997525">FldSetAttributes</a></p>
    </td>
    <td><p class="tt"><a name="1012397"> </a><a href="../PalmOSReference/Field.html#997637">FldSetFont</a><br><a href="../PalmOSReference/Field.html#997732">FldSetMaxChars</a><br><a href="../PalmOSReference/Field.html#997760">FldSetMaxVisibleLines</a><br><a href="../PalmOSReference/Field.html#996607">FldGetBounds</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><p class="tt"><a name="1012408"> </a><b>Text Attributes</b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012415"> </a><a href="../PalmOSReference/Field.html#996290">FldCalcFieldHeight</a><br><a href="../PalmOSReference/Field.html#996846">FldGetTextAllocatedSize</a><br><a href="../PalmOSReference/Field.html#997907">FldSetTextAllocatedSize</a></p>
    </td>
    <td><p class="tt"><a name="1012426"> </a><a href="../PalmOSReference/Field.html#996920">FldGetTextHeight</a><br><a href="../PalmOSReference/Field.html#996945">FldGetTextLength</a><br><a href="../PalmOSReference/Field.html#998111">FldWordWrap</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><p class="tt"><a name="1012434"> </a><b>Working With the Insertion Point</b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012441"> </a><a href="../PalmOSReference/Field.html#996662">FldGetInsPtPosition</a><br><a href="../PalmOSReference/Field.html#997666">FldSetInsertionPoint</a></p>
    </td>
    <td><p class="tt"><a name="1012449"> </a><a href="../PalmOSReference/Field.html#997702">FldSetInsPtPosition</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012451"> </a><b>Releasing Memory </b></p>
    </td>
    <td><p class="tt"><a name="1012453"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012458"> </a><a href="../PalmOSReference/Field.html#996322">FldCompactText</a></p>
    </td>
    <td><p class="tt"><a name="1012463"> </a><a href="../PalmOSReference/Field.html#996554">FldFreeMemory</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012465"> </a><b>Event Handling</b></p>
    </td>
    <td><p class="tt"><a name="1012467"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012472"> </a><a href="../PalmOSReference/Field.html#997059">FldHandleEvent</a><br><a href="../PalmOSReference/Field.html#997500">FldSendHeightChangeNotification</a></p>
    </td>
    <td><p class="tt"><a name="1012480"> </a><a href="../PalmOSReference/Field.html#997479">FldSendChangeNotification</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012482"> </a><b>Dynamic UI</b></p>
    </td>
    <td><p class="tt"><a name="1012484"> </a> </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012489"> </a><a href="../PalmOSReference/Field.html#997208">FldNewField</a></p>
    </td>
    <td><p class="tt"><a name="1012491"> </a></p>
    </td>
  </tr>
</table>

</div>



<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1012495"> </a><b>Menu Functions</b></p>
    </th>
    <th><p class="tt"><a name="1012497"> </a><b></b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012502"> </a><a href="../PalmOSReference/Menu.html#996662">MenuDispose</a><br><a href="../PalmOSReference/Menu.html#996734">MenuEraseStatus</a><br><a href="../PalmOSReference/Menu.html#996804">MenuHandleEvent</a><br><a href="../PalmOSReference/Menu.html#996958">MenuSetActiveMenu</a></p>
<p class="tt"><a name="1012515"> </a><a href="../PalmOSReference/Menu.html#996382">MenuAddItem</a></p>
<p class="tt"><a name="1012519"> </a><a href="../PalmOSReference/Menu.html#996577">MenuCmdBarDisplay</a><br><a href="../PalmOSReference/Menu.html#996882">MenuHideItem</a></p>
    </td>
    <td><p class="tt"><a name="1012527"> </a><a href="../PalmOSReference/Menu.html#996693">MenuDrawMenu</a><br><a href="../PalmOSReference/Menu.html#996921">MenuInit</a><br><a href="../PalmOSReference/Menu.html#996765">MenuGetActiveMenu</a><br><a href="../PalmOSReference/Menu.html#996985">MenuSetActiveMenuRscID</a></p>
<p class="tt"><a name="1012540"> </a><a href="../PalmOSReference/Menu.html#996443">MenuCmdBarAddButton</a><br><a href="../PalmOSReference/Menu.html#996610">MenuCmdBarGetButtonData</a><br><a href="../PalmOSReference/Menu.html#997014">MenuShowItem</a></p>
    </td>
  </tr>
</table>

</div>



<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1012550"> </a><b>Table Functions</b></p>
    </th>
    <th><p class="tt"><a name="1012552"> </a><b></b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012554"> </a><b>Drawing Tables</b></p>
    </td>
    <td><p class="tt"><a name="1012556"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012561"> </a><a href="../PalmOSReference/Table.html#996579">TblDrawTable</a><br><a href="../PalmOSReference/Table.html#998274">TblSetLoadDataProcedure</a></p>
    </td>
    <td><p class="tt"><a name="1012569"> </a><a href="../PalmOSReference/Table.html#998060">TblSetCustomDrawProcedure</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012571"> </a><b>Updating the Display</b></p>
    </td>
    <td><p class="tt"><a name="1012573"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012578"> </a><a href="../PalmOSReference/Table.html#997553">TblRedrawTable</a><br><a href="../PalmOSReference/Table.html#997610">TblReleaseFocus</a><br><a href="../PalmOSReference/Table.html#997646">TblRemoveRow</a><br><a href="../PalmOSReference/Table.html#997519">TblMarkTableInvalid</a><br><a href="../PalmOSReference/Table.html#998637">TblUnhighlightSelection</a></p>
    </td>
    <td><p class="tt"><a name="1012595"> </a><a href="../PalmOSReference/Table.html#997266">TblGrabFocus</a><br><a href="../PalmOSReference/Table.html#998637">TblUnhighlightSelection</a><br><a href="../PalmOSReference/Table.html#997473">TblMarkRowInvalid</a><br><a href="../PalmOSReference/Table.html#997822">TblSelectItem</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012606"> </a><b>Retrieving Data </b></p>
    </td>
    <td><p class="tt"><a name="1012608"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012613"> </a><a href="../PalmOSReference/Table.html#996991">TblGetItemPtr</a><br><a href="../PalmOSReference/Table.html#996710">TblFindRowData</a><br><a href="../PalmOSReference/Table.html#997206">TblGetSelection</a><br><a href="../PalmOSReference/Table.html#998560">TblSetSaveDataProcedure</a></p>
    </td>
    <td><p class="tt"><a name="1012627"> </a><a href="../PalmOSReference/Table.html#997111">TblGetRowData</a><br><a href="../PalmOSReference/Table.html#996956">TblGetItemInt</a><br><a href="../PalmOSReference/Table.html#996869">TblGetCurrentField</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012635"> </a><b>Displaying Data</b></p>
    </td>
    <td><p class="tt"><a name="1012637"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012642"> </a><a href="../PalmOSReference/Table.html#998139">TblSetItemInt</a><br><a href="../PalmOSReference/Table.html#998178">TblSetItemPtr</a><br><a href="../PalmOSReference/Table.html#998310">TblSetRowData</a></p>
    </td>
    <td><p class="tt"><a name="1012653"> </a><a href="../PalmOSReference/Table.html#998216">TblSetItemStyle</a><br><a href="../PalmOSReference/Table.html#998372">TblSetRowID</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012658"> </a><b>Retrieving a Row</b></p>
    </td>
    <td><p class="tt"><a name="1012660"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012665"> </a><a href="../PalmOSReference/Table.html#996748">TblFindRowID</a></p>
    </td>
    <td><p class="tt"><a name="1012670"> </a><a href="../PalmOSReference/Table.html#997171">TblGetRowID</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><p class="tt"><a name="1012672"> </a><b>Table Information</b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012679"> </a><a href="../PalmOSReference/Table.html#996644">TblEditing</a><br><a href="../PalmOSReference/Table.html#996895">TblGetItemBounds</a><br><a href="../PalmOSReference/Table.html#997091">TblGetNumberOfRows</a><br><a href="../PalmOSReference/Table.html#997399">TblHasScrollBar</a></p>
    </td>
    <td><p class="tt"><a name="1012693"> </a><a href="../PalmOSReference/Table.html#996781">TblGetBounds</a><br><a href="../PalmOSReference/Table.html#997029">TblGetLastUsableRow</a><br><a href="../PalmOSReference/Table.html#997860">TblSetBounds</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012701"> </a><b>Row Information</b></p>
    </td>
    <td><p class="tt"><a name="1012703"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012708"> </a><a href="../PalmOSReference/Table.html#997143">TblGetRowHeight</a><br><a href="../PalmOSReference/Table.html#997761">TblRowSelectable</a><br><a href="../PalmOSReference/Table.html#997788">TblRowUsable</a><br><a href="../PalmOSReference/Table.html#998498">TblSetRowStaticHeight</a></p>
    </td>
    <td><p class="tt"><a name="1012722"> </a><a href="../PalmOSReference/Table.html#998341">TblSetRowHeight</a><br><a href="../PalmOSReference/Table.html#998462">TblSetRowSelectable</a><br><a href="../PalmOSReference/Table.html#998528">TblSetRowUsable</a><br><a href="../PalmOSReference/Table.html#997686">TblRowInvalid</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012733"> </a><b>Masked Records</b></p>
    </td>
    <td><p class="tt"><a name="1012735"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012740"> </a><a href="../PalmOSReference/Table.html#997719">TblRowMasked</a><br><a href="../PalmOSReference/Table.html#997920">TblSetColumnMasked</a></p>
    </td>
    <td><p class="tt"><a name="1012748"> </a><a href="../PalmOSReference/Table.html#998406">TblSetRowMasked</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012750"> </a><b>Column Information</b></p>
    </td>
    <td><p class="tt"><a name="1012752"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012757"> </a><a href="../PalmOSReference/Table.html#996806">TblGetColumnSpacing</a><br><a href="../PalmOSReference/Table.html#996838">TblGetColumnWidth</a><br><a href="../PalmOSReference/Table.html#997996">TblSetColumnUsable</a></p>
    </td>
    <td><p class="tt"><a name="1012768"> </a><a href="../PalmOSReference/Table.html#997965">TblSetColumnSpacing</a><br><a href="../PalmOSReference/Table.html#998029">TblSetColumnWidth</a><br><a href="../PalmOSReference/Table.html#997885">TblSetColumnEditIndicator</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><p class="tt"><a name="1012776"> </a><b>Removing a Table From the Display</b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012783"> </a><a href="../PalmOSReference/Table.html#996679">TblEraseTable</a></p>
    </td>
    <td><p class="tt"><a name="1012785"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012787"> </a><b>Event Handling</b></p>
    </td>
    <td><p class="tt"><a name="1012789"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012794"> </a><a href="../PalmOSReference/Table.html#997334">TblHandleEvent</a></p>
    </td>
    <td><p class="tt"><a name="1012796"> </a></p>
    </td>
  </tr>
</table>

</div>



<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1012800"> </a><b>Private Record Functions</b></p>
    </th>
    <th><p class="tt"><a name="1012802"> </a><b></b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012807"> </a><a href="../PalmOSReference/PrivateRecords.html#995840">SecSelectViewStatus</a> </p>
    </td>
    <td><p class="tt"><a name="1012812"> </a><a href="../PalmOSReference/PrivateRecords.html#995874">SecVerifyPW</a> </p>
    </td>
  </tr>
</table>

</div>



<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1012816"> </a><b>List Functions</b></p>
    </th>
    <th><p class="tt"><a name="1012818"> </a><b></b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012820"> </a><b>Displaying a List</b></p>
    </td>
    <td><p class="tt"><a name="1012822"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012827"> </a><a href="../PalmOSReference/List.html#996036">LstDrawList</a><br><a href="../PalmOSReference/List.html#996350">LstPopupList</a></p>
    </td>
    <td><p class="tt"><a name="1012835"> </a><a href="../PalmOSReference/List.html#996397">LstSetDrawFunction</a><br><a href="../PalmOSReference/List.html#996307">LstNewList</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012840"> </a><b>Updating the Display</b></p>
    </td>
    <td><p class="tt"><a name="1012842"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012847"> </a><a href="../PalmOSReference/List.html#996268">LstMakeItemVisible</a><br><a href="../PalmOSReference/List.html#996454">LstSetListChoices</a><br><a href="../PalmOSReference/List.html#996532">LstSetSelection</a><br><a href="../PalmOSReference/List.html#996373">LstScrollList</a></p>
    </td>
    <td><p class="tt"><a name="1012861"> </a><a href="../PalmOSReference/List.html#996430">LstSetHeight</a><br><a href="../PalmOSReference/List.html#996559">LstSetTopItem</a><br><a href="../PalmOSReference/List.html#996506">LstSetPosition</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012869"> </a><b>List Data and Attributes</b></p>
    </td>
    <td><p class="tt"><a name="1012871"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012876"> </a><a href="../PalmOSReference/List.html#996100">LstGetNumberOfItems</a><br><a href="../PalmOSReference/List.html#1007161">LstGetSelection</a><br><a href="../PalmOSReference/List.html#996156">LstGetSelectionText</a></p>
    </td>
    <td><p class="tt"><a name="1012887"> </a><a href="../PalmOSReference/List.html#996186">LstGetTopItem</a><br><a href="../PalmOSReference/List.html#996214">LstGetVisibleItems</a></p>
    </td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><p class="tt"><a name="1012892"> </a><b>Removing a List From the Display</b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012899"> </a><a href="../PalmOSReference/List.html#996072">LstEraseList</a></p>
    </td>
    <td><p class="tt"><a name="1012901"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012903"> </a><b>Event Handling</b></p>
    </td>
    <td><p class="tt"><a name="1012905"> </a> </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012910"> </a><a href="../PalmOSReference/List.html#996234">LstHandleEvent</a></p>
    </td>
    <td><p class="tt"><a name="1012912"> </a></p>
    </td>
  </tr>
</table>

</div>



<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1012916"> </a><b>Category Functions</b></p>
    </th>
    <th><p class="tt"><a name="1012918"> </a><b></b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012923"> </a><a href="../PalmOSReference/Category.html#995922">CategoryCreateList</a> <br><a href="../PalmOSReference/Category.html#996025">CategoryEdit</a><br><a href="../PalmOSReference/Category.html#996141">CategoryFind</a><br><a href="../PalmOSReference/Category.html#996162">CategoryFreeList</a><br><a href="../PalmOSReference/Category.html#996240">CategoryGetName</a><br><a href="../PalmOSReference/Category.html#996282">CategoryGetNext</a></p>
    </td>
    <td><p class="tt"><a name="1012943"> </a><a href="../PalmOSReference/Category.html#996305">CategoryInitialize</a><br><a href="../PalmOSReference/Category.html#996343">CategorySelect</a><br><a href="../PalmOSReference/Category.html#996447">CategorySetName</a><br><a href="../PalmOSReference/Category.html#996479">CategorySetTriggerLabel</a><br><a href="../PalmOSReference/Category.html#996343">CategorySelect</a><br><a href="../PalmOSReference/Category.html#996511">CategoryTruncateName</a></p>
    </td>
  </tr>
</table>

</div>



<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1012962"> </a><b>Bitmap Functions</b></p>
    </th>
    <th><p class="tt"><a name="1012964"> </a><b></b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1012969"> </a><a href="../PalmOSReference/Bitmap.html#998362">BmpBitsSize</a> <br><a href="../PalmOSReference/Bitmap.html#998405">BmpColortableSize</a><br><a href="../PalmOSReference/Bitmap.html#998439">BmpCompress</a><br><a href="../PalmOSReference/Bitmap.html#998480">BmpCreate</a></p>
<p class="tt"><a name="1012982"> </a><a href="../PalmOSReference/Bitmap.html#998562">BmpCreateBitmapV3</a><br><a href="../PalmOSReference/Bitmap.html#998603">BmpDelete</a></p>
<p class="tt"><a name="1012989"> </a><a href="../PalmOSReference/Bitmap.html#998632">BmpGetBits</a><br><a href="../PalmOSReference/Bitmap.html#998709">BmpGetColortable</a><br><a href="../PalmOSReference/Bitmap.html#998737">BmpGetCompressionType</a></p>
    </td>
    <td><p class="tt"><a name="1013000"> </a><a href="../PalmOSReference/Bitmap.html#998779">BmpGetDensity</a></p>
<p class="tt"><a name="1013004"> </a><a href="../PalmOSReference/Bitmap.html#998912">BmpGetNextBitmapAnyDensity</a></p>
<p class="tt"><a name="1013008"> </a><a href="../PalmOSReference/Bitmap.html#999010">BmpGetTransparentValue</a></p>
<p class="tt"><a name="1013012"> </a><a href="../PalmOSReference/Bitmap.html#999043">BmpGetVersion</a></p>
<p class="tt"><a name="1013016"> </a><a href="../PalmOSReference/Bitmap.html#999069">BmpSetDensity</a></p>
<p class="tt"><a name="1013020"> </a><a href="../PalmOSReference/Bitmap.html#999107">BmpSetTransparentValue</a></p>
<p class="tt"><a name="1013024"> </a><a href="../PalmOSReference/Bitmap.html#999151">BmpSize</a></p>
<p class="tt"><a name="1013028"> </a><a href="../PalmOSReference/Bitmap.html#999190">ColorTableEntries</a></p>
    </td>
  </tr>
</table>

</div>



<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1013032"> </a><b>Scroll Bar Functions</b></p>
    </th>
    <th><p class="tt"><a name="1013034"> </a><b></b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1013039"> </a><a href="../PalmOSReference/Scrollbar.html#996133">SclSetScrollBar</a> <br><a href="../PalmOSReference/Scrollbar.html#996076">SclHandleEvent</a></p>
    </td>
    <td><p class="tt"><a name="1013047"> </a><a href="../PalmOSReference/Scrollbar.html#996035">SclGetScrollBar</a> <br><a href="../PalmOSReference/Scrollbar.html#996004">SclDrawScrollBar</a></p>
    </td>
  </tr>
</table>

</div>



<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1013054"> </a><b>UI Color List Functions</b></p>
    </th>
    <th><p class="tt"><a name="1013056"> </a><b></b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1013061"> </a><a href="../PalmOSReference/UIColor.html#996015">UIColorGetTableEntryIndex</a><br><a href="../PalmOSReference/UIColor.html#996107">UIColorSetTableEntry</a></p>
    </td>
    <td><p class="tt"><a name="1013069"> </a> <a href="../PalmOSReference/UIColor.html#996069">UIColorGetTableEntryRGB</a></p>
    </td>
  </tr>
</table>

</div>



<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1013073"> </a><b>UI Controls</b></p>
    </th>
    <th><p class="tt"><a name="1013075"> </a><b></b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1013080"> </a><a href="../PalmOSReference/UIControls.html#995801">UIBrightnessAdjust</a> <br><a href="../PalmOSReference/UIControls.html#995842">UIPickColor</a> </p>
    </td>
    <td><p class="tt"><a name="1013088"> </a><a href="../PalmOSReference/UIControls.html#995822">UIContrastAdjust</a> </p>
    </td>
  </tr>
</table>

</div>





<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1013093"> </a><b>Insertion Point Functions</b></p>
    </th>
    <th><p class="tt"><a name="1013095"> </a><b></b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1013100"> </a><a href="../PalmOSReference/InsertionPoint.html#995810">InsPtEnable</a> <br><a href="../PalmOSReference/InsertionPoint.html#995854">InsPtGetHeight</a><br><a href="../PalmOSReference/InsertionPoint.html#995868">InsPtGetLocation</a></p>
    </td>
    <td><p class="tt"><a name="1013111"> </a><a href="../PalmOSReference/InsertionPoint.html#995835">InsPtEnabled</a> <br><a href="../PalmOSReference/InsertionPoint.html#995885">InsPtSetHeight</a><br><a href="../PalmOSReference/InsertionPoint.html#995908">InsPtSetLocation</a></p>
    </td>
  </tr>
</table>

</div>



<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1013121"> </a><b>Keyboard Dialog Functions</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1013126"> </a><a href="../PalmOSReference/SystemManager.html#1076616">SysKeyboardDialog</a><br><a href="../PalmOSReference/SystemManager.html#1076645">SysKeyboardDialogV10</a></p>
    </td>
  </tr>
</table>

</div>


<p><a name="1013131"> </a></p>
 

<hr> 
<p class="FNFootnote">
<a name="1008096"> </a><a href="#1008087">1</a>. 320 x 240 is also known as "QVGA" (quarter VGA). A portion of the display is reserved for the input area; the drawing area of a QVGA screen is 240 x 240 pixels. This resolution is sometimes referred to as "one and a half density."</p>
<p class="FNFootnote">
<a name="1038244"> </a><a href="#1008124">2</a>. On Palm OS Cobalt, the algorithm is as slightly different. After the coordinate scaling factor is applied, the following algorithm is then used:</p>
<p class="FNFootnote">
<a name="1038504"> </a><a href="#1008124">2</a>. </p>
<p class="FNFootnote">
<a name="1038447"> </a><a href="#1008124">2</a>. if <code class="par">ceiling</code> == true {</p>
<p class="FNFootnote">
<a name="1038448"> </a><a href="#1008124">2</a>.    use <code>lfloorf()</code> function when scaleFactor &gt; 1</p>
<p class="FNFootnote">
<a name="1038449"> </a><a href="#1008124">2</a>.    use <code>lceilf()</code> function when scaleFactor &lt; 1</p>
<p class="FNFootnote">
<a name="1038450"> </a><a href="#1008124">2</a>. else</p>
<p class="FNFootnote">
<a name="1038451"> </a><a href="#1008124">2</a>.    use <code>lceilf()</code> function when scaleFactor &gt; 1</p>
<p class="FNFootnote">
<a name="1038452"> </a><a href="#1008124">2</a>.    use <code>lfloorf()</code> function when scaleFactor &lt; 1</p>
<p class="FNFootnote">
<a name="1038453"> </a><a href="#1008124">2</a>. }</p>
<p class="FNFootnote">
<a name="1038509"> </a><a href="#1008124">2</a>. </p>
<p class="FNFootnote">
<a name="1038454"> </a><a href="#1008124">2</a>. The objective of this algorithm is to ensure that for any <code>Coord</code>, <code>Point</code>, or <code>Rectangle</code> "x", x = unscaled(scaled(x)). </p>
&nbsp;<br>
</div>
<!--END CONTENT-->

</td>
<td width="5">&nbsp;&nbsp;</td>
</tr>

</table>

<!-- BEGIN FOOTER -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="7" rowspan="2"><img name="index_x" src="images/shim.gif" width="7" height="33" border="0" alt=""></td>
<td align="left"><img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
<td width="10" rowspan="2"><img name="index_x" src="images/shim.gif" width="10" height="33" border="0" alt=""></td>
</tr>
<tr>
<td align="center">
<p class="footer">
Copyright © 1996-2004, PalmSource, Inc. and its affiliates.  All rights reserved. <br>
<a href="http://www.palmsource.com/contact/">Write Us</a> | <a href="http://www.palmos.com/dev/training/">Training</a> | <a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a> | <a href="Companion_Front.html" target="_blank">Legal</a></p>
<br>
<!--BEGIN BOOK NAVIGATION-->
<p class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="CompanionTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="EventLoop.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="Memory.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="CompanionIX.html">Index</a>
</p>
</td>
</tr>
</table>
<!-- END FOOTER -->

</body>
</html>