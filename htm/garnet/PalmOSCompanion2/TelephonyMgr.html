<html>
<head>
<title>(68K) Telephony Manager | Palm OS&#174; Programmer's Companion</title> 
<link href="psi_devpubs.css" rel="stylesheet" type="text/css">

<!-- BEGIN META DATA -->
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META NAME="PSITEMPLATE" CONTENT="1006-007 PalmSource_HTML_2003 20041101">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks AutoMap 2003 for FrameMaker 8.0.6.2138">
<META NAME="LASTUPDATED" CONTENT="11/22/04 10:43:47">
<!-- END META DATA -->
</head>

<body bgcolor="#ffffff" text="#000000" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<a name="1034776"></a>

<!-- BEGIN TOPNAV -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td><img src="images/shim.gif" width="7" height="75" border="0" alt=""></td>
<td align="left"><table border="0" cellpadding="0" cellspacing="0" width="744">
<tr>
<td><img name="index_r2_c1" src="images/shim.gif" width="25" height="75" border="0" alt=""></td>
<td valign="top"><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_r2_c4" src="images/shim.gif" width="96" height="15" border="0" alt=""></td>
</tr>
<tr>
<td><a href="http://www.palmsource.com/"><img name="ps_logo" src="images/ps_logo.gif" width="96" height="54" border="0" alt=""></a></td>
</tr>

</table>
</td>

<td><table border="0" cellpadding="0" cellspacing="0" width="30">
<td><img name="index_x" src="images/shim.gif" width="30" height="75" border="0" alt=""></td>
</table></td>

<!--BEGIN MASTHEAD-->
<td><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
<tr>
<td>
<!--BEGIN BOOK NAVIGATION-->
<span class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="Companion2TOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="InternetApps.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="Companion2IX.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="Companion2IX.html">Index</a>
</span>
<!--END BOOK NAVIGATION-->
</tr>
<tr>
<td>
<!--BEGIN PAGE TITLE-->
<h2 class="PageTitle">10 &nbsp;&nbsp;
Telephony Manager</h2></td>
<!--END PAGE TITLE-->
</tr>
<tr>
<td>
<!--BEGIN BOOK TITLE-->
<p class="BookTitle">Palm OS&#174; Programmer's Companion</p>
<p class="SubTitle">Volume II Communications </p>
<!--END BOOK TITLE-->
</td>
</tr>
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
</table>
</td>
<!--END MASTHEAD-->
</tr>
</table>
<img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
</tr>
</table>
<!-- END TOPNAV -->

<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" width="5"><img name="index_x" src="images/shim.gif" width="5" height="33" border="0" alt=""></td>

<!--BEGIN SIDETOC-->
<td valign="top" width="175">
<div id="sidetoc" valign="bottom">
<h1 class="SideTOC1"><a href="TelephonyMgr.html">10  Telephony Manager</a></h1>

   <h2 class="SideTOC2"><a href="#1034825">
   Telephony Service Types</a></h2>

   <h2 class="SideTOC2"><a href="#1034937">
   Using the Telephony API</a></h2>

      <h3 class="SideTOC3"><a href="#1034943">
      Accessing the Telephony Manager Library</a></h3>

      <h3 class="SideTOC3"><a href="#1034984">
      Closing the Telephony Manager Library</a></h3>

      <h3 class="SideTOC3"><a href="#1039226">
      Testing the Telephony Environment</a></h3>

      <h3 class="SideTOC3"><a href="#1035005">
      Using Synchronous and Asynchronous Calls</a></h3>

      <h3 class="SideTOC3"><a href="#1038592">
      Registering for Notifications</a></h3>

      <h3 class="SideTOC3"><a href="#1039094">
      Using Data Structures With Variably-sized Fields</a></h3>

   <h2 class="SideTOC2"><a href="#1035146">
   Summary of Telephony Manager</a></h2>

</div>
</td>

<td width="5">&nbsp;&nbsp;</td>
<td width="2" background="images/index_r8_c10.gif"><img src="images/shim.gif" width="2" height="75" border="0" alt=""></td>
<td width="5">&nbsp;&nbsp;</td>

<!--END SIDETOC-->

<td valign="top">

<!--BEGIN CONTENT-->
<div id="content" valign="bottom">
<p><a name="1034783"> </a>You can use the Palm OS<sup>&#174;</sup> Telephony Manager to communicate between a handheld and a phone or to access telephony services in an application intended for a smartphone. This chapter contains the following sections that describe how to use the Palm OS Telephony API:</p>
<ul type="disc">
  <li><a name="1034787"> </a><a href="TelephonyMgr.html#1034825">Telephony Service Types</a> describes the component parts of the telephony API.
  <li><a name="1034791"> </a><a href="TelephonyMgr.html#1034937">Using the Telephony API</a> describes how to use the telephony API in your applications.
</ul>

<p><a name="1034792"> </a>For detailed information about the Telephony Manager data types, constants, and functions, see the following chapters in the <i>Palm OS Programmer's API Reference</i>:</p>
<ul type="disc">
  <li><a name="1034799"> </a><a href="../PalmOSReference/TelephonyBasic.html#1044083">Chapter 73, "Telephony Basic Services."</a>
  <li><a name="1034803"> </a><a href="../PalmOSReference/TelephonyConfig.html#1037530">Chapter 74, "Telephony Security and Configuration."</a>
  <li><a name="1034807"> </a><a href="../PalmOSReference/TelephonyNetwork.html#1041431">Chapter 75, "Telephony Network."</a>
  <li><a name="1034811"> </a><a href="../PalmOSReference/TelephonyCalls.html#1045871">Chapter 76, "Telephony Calls."</a>
  <li><a name="1034815"> </a><a href="../PalmOSReference/TelephonySMS.html#1056053">Chapter 77, "Telephony SMS."</a>
  <li><a name="1034819"> </a><a href="../PalmOSReference/TelephonyPhonebook.html#1070579">Chapter 78, "Telephony Phone Book."</a>
</ul>

<p><a name="1034823"> </a>The <a href="../PalmOSReference/TelephonyBasic.html#1044083">"Telephony Basic Services"</a> chapter describes the basic services and provides a map to the other functions.</p>

<h2 class="haH2">
  <a name="1034825"> </a>Telephony Service Types <a href="#1034776"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1034826"> </a>The telephony API organizes functions within sets called <b>service sets</b>. Each service set contains a related set of functions that may or may not be available on a particular mobile device or network. You can use the <a href="../PalmOSReference/TelephonyBasic.html#1047109"><code>TelIs&lt;ServiceSet&gt;Available</code></a> macro to determine if a service set is supported in the current environment, and you can use the <a href="../PalmOSReference/TelephonyBasic.html#1047033"><code>TelIs&lt;FunctionName&gt;Supported</code></a> macro to determine if a specific function is supported in the current environment.</p>

<div><hr>
  <a name="1034833"> </a> <b>NOTE: </b> Sometimes a service set is supported, but not all of the functions in that service set are supported. See <a href="TelephonyMgr.html#1039226">Testing the Telephony Environment</a> for more information.
<hr>
</div>

<p><a name="1034837"> </a>Each function in the telephony API is prefixed with <code>Tel</code>; each telephony service set adds an addition 3 characters to the prefix. <a href="TelephonyMgr.html#1034847">Table 10.1</a> describes the telephony service sets.<p class="caption"><a name="1034847"> </a><b>Table 10.1&nbsp;&nbsp;Telephony API service sets </b></p>
<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1034853"> </a><b>Service set</b></p>
    </th>
    <th><p class="tt"><a name="1034855"> </a><b>Functionality</b></p>
    </th>
    <th><p class="tt"><a name="1034857"> </a><b>Service prefix</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1034859"> </a>Basic</p>
    </td>
    <td><p class="tt"><a name="1034861"> </a>Basic functions that are always available</p>
    </td>
    <td><p class="tt"><a name="1034863"> </a><code>Tel</code></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1034865"> </a>Configuration</p>
    </td>
    <td><p class="tt"><a name="1034867"> </a>Services that allow you to configure phones, including SMS configuration</p>
    </td>
    <td><p class="tt"><a name="1034869"> </a><code>TelCfg</code></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1034871"> </a>Data calls</p>
    </td>
    <td><p class="tt"><a name="1034873"> </a>Data call handling</p>
    </td>
    <td><p class="tt"><a name="1034875"> </a><code>TelDtc</code></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1034877"> </a>Emergency calls</p>
    </td>
    <td><p class="tt"><a name="1034879"> </a>Emergency call handling</p>
    </td>
    <td><p class="tt"><a name="1034881"> </a><code>TelEmc</code></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1034883"> </a>Information</p>
    </td>
    <td><p class="tt"><a name="1034885"> </a>Functions to retrieve information about the current phone</p>
    </td>
    <td><p class="tt"><a name="1034887"> </a><code>TelInf</code></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1034889"> </a>Network</p>
    </td>
    <td><p class="tt"><a name="1034891"> </a>Functions the provide network-oriented services, including authorized networks, current network, signal level, and search mode information</p>
    </td>
    <td><p class="tt"><a name="1034893"> </a><code>TelNwk</code></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1034895"> </a>OEM</p>
    </td>
    <td><p class="tt"><a name="1034897"> </a>Functions that allow hardware manufacturers to extend the Telephony Manager. Each manufacturer can provide a specific set of OEM functions for a particular device</p>
    </td>
    <td><p class="tt"><a name="1034899"> </a><code>TelOem</code></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1034901"> </a>Phone book</p>
    </td>
    <td><p class="tt"><a name="1034903"> </a>Functions to access the phone's SIM and address book, including the ability to create, view, and delete phone book entries</p>
    </td>
    <td><p class="tt"><a name="1034905"> </a><code>TelPhb</code></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1034907"> </a>Power</p>
    </td>
    <td><p class="tt"><a name="1034909"> </a>Power supply level functions</p>
    </td>
    <td><p class="tt"><a name="1034911"> </a><code>TelPow</code></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1034913"> </a>Security</p>
    </td>
    <td><p class="tt"><a name="1034915"> </a>Functions that provide PIN code management and related services for phone and SIM security-related features</p>
    </td>
    <td><p class="tt"><a name="1034917"> </a><code>TelSty</code></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1034919"> </a>Short Message Service</p>
    </td>
    <td><p class="tt"><a name="1034921"> </a>Services to handle Short Message Service (SMS) and to enable the reading, sending, and deleting of short messages </p>
    </td>
    <td><p class="tt"><a name="1034923"> </a><code>TelSms</code></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1034925"> </a>Sound</p>
    </td>
    <td><p class="tt"><a name="1034927"> </a>Phone sound management, including the playing of key tones and muting.</p>
    </td>
    <td><p class="tt"><a name="1034929"> </a><code>TelSnd</code></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1034931"> </a>Speech calls</p>
    </td>
    <td><p class="tt"><a name="1034933"> </a>Functions to handle the sending and receiving of speech calls. This service also includes functions that handle DTMF</p>
    </td>
    <td><p class="tt"><a name="1034935"> </a><code>TelSpc</code></p>
    </td>
  </tr>
</table>

</div>
</p>

<h2 class="haH2">
  <a name="1034937"> </a>Using the Telephony API <a href="#1034776"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1034938"> </a>This section provides examples excerpted from the Phone Book Application (<code>PhBkApp</code>) sample program, which provides the following capabilities:</p>
<ul type="disc">
  <li><a name="1034939"> </a>creates, modifies, and deletes entries on a phone, using the SIM and built-in storage on the phone device
  <li><a name="1034940"> </a>imports entries from the Address Book application
  <li><a name="1034941"> </a>exports entries to the Address Book application
</ul>

<p><a name="1034942"> </a>The <code>PhBkApp</code> program opens and accesses the Telephony Manager library and makes a number of calls into the library. It provides an excellent example of using telephony services in your applications.</p>
<h3 class="hbH3">
  <a name="1034943"> </a>Accessing the Telephony Manager Library <a href="#1034776"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1034944"> </a>Before you can use the Telephony Manager library, you must load the library and obtain a reference number for it. Each of the functions in the library requires a reference number argument, which is used with the system code to access a shared library.</p>

<p><a name="1034945"> </a>Each of the functions in the library also requires an application attachment identifier, which you can obtain by calling the <a href="../PalmOSReference/TelephonyBasic.html#1046538"><code>TelOpen</code></a> function.</p>

<p><a name="1034949"> </a>The example function <code>LoadTelMgrLibrary</code>, which is shown in <a href="TelephonyMgr.html#1034954">Listing 10.1</a>, makes sure that the Telephony Manager library is loaded, obtains an application attachment identifier, and returns a reference number for it.</p>
<p class="CCodeCaption">
  <a name="1034954"> </a><b>Listing 10.1&nbsp;&nbsp;Loading the Telephony Manager library</b>
</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
Err LoadTelMgrLibrary(UInt16 *telRefNumP, UInt16 *telAppIdP)<a name="1034955"> </a>
{<a name="1034956"> </a>
   Err err;<a name="1034957"> </a>
   <a name="1034958"> </a>
   err = SysLibFind(kTelMgrLibName, telRefNumP);<a name="1034959"> </a>
   if (err != errNone)<a name="1034960"> </a>
   {<a name="1034961"> </a>
      err = SysLibLoad(kTelMgrDatabaseType,<a name="1034962"> </a>
                    kTelMgrDatabaseCreator, telRefNumP);<a name="1034963"> </a>
      if (err)<a name="1034964"> </a>
         return err;<a name="1034965"> </a>
   }<a name="1034966"> </a>
   <a name="1034967"> </a>
   err = TelOpen(*telRefNumP, kTelMgrVersion, telAppIdP);<a name="1034968"> </a>
   return err;<a name="1034969"> </a>
}<a name="1034970"> </a>
</pre><div class="CodeRule"><hr></div>


<p><a name="1034974"> </a>The <code>LoadTelMgrLibrary</code> function first calls the <a href="../PalmOSReference/SystemManager.html#1076670"><code>SysLibFind</code></a> function to determine if the library has already been loaded, which might be the case if your code has been called by another application that has already loaded the library.</p>

<p><a name="1034975"> </a>If the library has not already been loaded, <code>LoadTelMgrLibrary</code> calls the <a href="../PalmOSReference/SystemManager.html#1076720"><code>SysLibLoad</code></a> function to load the library and obtain a reference number for it.</p>

<p><a name="1034979"> </a>After obtaining a reference number for the library, <code>LoadTelMgrLibrary</code> calls the <a href="../PalmOSReference/TelephonyBasic.html#1046538"><code>TelOpen</code></a> function to open the loaded library. <code>TelOpen</code> opens the Telephony library using the currently selected Connection Manager profile. If you need to use a specific profile, call <a href="../PalmOSReference/TelephonyBasic.html#1061890"><code>TelOpenProfile</code></a> instead. </p>

<p><a name="1038645"> </a>Note that if you are writing an application for a handheld to communicate with a phone, you do not need to establish a network connection between the two. After the Telephony library is successfully opened, each call to the Telephony Manager opens a connection to the phone, performs the necessary operation, and then closes the connection. If you are going to make several calls in succession, use <a href="../PalmOSReference/TelephonyBasic.html#1046575"><code>TelOpenPhoneConnection</code></a> to open the connection to the phone and leave it open. Then use <a href="../PalmOSReference/TelephonyBasic.html#1045385"><code>TelClosePhoneConnection</code></a> when you are done. </p>
<h3 class="hbH3">
  <a name="1034984"> </a>Closing the Telephony Manager Library <a href="#1034776"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1034985"> </a>When you are done with the library, you should close it by calling the <a href="../PalmOSReference/TelephonyBasic.html#1045360"><code>TelClose</code></a> function, which releases any resources associated with your use of the Telephony Manager. </p>

<p><a name="1034992"> </a>As shown in <a href="TelephonyMgr.html#1034997">Listing 10.2</a>, you must test the return value of the <code>TelClose</code> function; if the result is not <code>telErrLibStillInUse</code>, you must unload the shared library by calling the <a href="../PalmOSReference/SystemManager.html#1076754"><code>SysLibRemove</code></a> function.</p>
<p class="CCodeCaption">
  <a name="1034997"> </a><b>Listing 10.2&nbsp;&nbsp;Closing the Telephony Manager library</b>
</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
Err UnloadTelMgrLibrary(UInt16 telRefNum, UInt16 telAppId)<a name="1034998"> </a>
{<a name="1034999"> </a>
   if ((TelClose(telRefNum, telAppId)!= telErrLibStillInUse))<a name="1035000"> </a>
      SysLibRemove(telRefNum);<a name="1035001"> </a>
 <a name="1035002"> </a>
   return errNone;<a name="1035003"> </a>
}<a name="1035004"> </a>
</pre><div class="CodeRule"><hr></div>

<h3 class="hbH3">
  <a name="1039226"> </a>Testing the Telephony Environment <a href="#1034776"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1039227"> </a>Before running your application, you need to verify that the environment in which it is running (the Palm Powered<span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: super">&#8482;</span> handheld and the telephone device) supports the facilities that your application needs. The Telephony Manager allows you to determine if a specific service set is available, and also allows you to determine if a specific function call is supported.</p>

<p><a name="1039231"> </a>The code excerpt in <a href="TelephonyMgr.html#1039234">Listing 10.3</a> shows how the <code>PhBkApp</code> program verifies that the environment supports the capabilities that it needs, which include all of the phone book-related features of the Telephony Manager. The <code>PhBkApp</code> program first tests for the availability of the phone book services, and then determines if several specific functions are supported. Note that the <code>PhBkApp</code> refuses to run if any of the capabilities it is using are not available.</p>
<p class="CCodeCaption">
  <a name="1039234"> </a><b>Listing 10.3&nbsp;&nbsp;Testing for the presence of specific capabilities</b>
</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
   err = TelIsPhbServiceAvailable(gDataP-&gt;refNum, gDataP-&gt;appId, NULL);<a name="1039235"> </a>
      // Test if phone book capabilities are present<a name="1039236"> </a>
   if (err != errNone)<a name="1039237"> </a>
      return err;<a name="1039238"> </a>
 <a name="1039239"> </a>
      // Check that this phone supports adding entry services<a name="1039240"> </a>
   err = TelIsPhbAddEntrySupported(gDataP-&gt;refNum, gDataP-&gt;appId, NULL);<a name="1039241"> </a>
   if (err != errNone)<a name="1039242"> </a>
      return err;<a name="1039243"> </a>
 <a name="1039244"> </a>
      // Check that this phone supports selecting a phone book<a name="1039245"> </a>
   err = TelIsPhbSelectPhonebookSupported(gDataP-&gt;refNum, gDataP-&gt;appId, NULL);<a name="1039246"> </a>
   if (err != errNone)<a name="1039247"> </a>
      return err;<a name="1039248"> </a>
 <a name="1039249"> </a>
      // Check that this phone supports getting entries<a name="1039250"> </a>
   err = TelIsPhbGetEntriesSupported(gDataP-&gt;refNum, gDataP-&gt;appId, NULL);<a name="1039251"> </a>
   if (err != errNone)<a name="1039252"> </a>
      return err;<a name="1039253"> </a>
 <a name="1039254"> </a>
      // Check that this phone supports getting entry count<a name="1039255"> </a>
   err = TelIsPhbGetEntryCountSupported(gDataP-&gt;refNum, gDataP-&gt;appId, NULL);<a name="1039256"> </a>
   if (err != errNone)<a name="1039257"> </a>
      return err;<a name="1039258"> </a>
 <a name="1039259"> </a>
   // Check that this phone supports deleting an entry<a name="1039260"> </a>
   err = TelIsPhbDeleteEntrySupported(gDataP-&gt;refNum, gDataP-&gt;appId, NULL);<a name="1039261"> </a>
   return err;<a name="1039262"> </a>
</pre><div class="CodeRule"><hr></div>


<p><a name="1039263"> </a>For a complete list of the service availability macros, see <a href="../PalmOSReference/TelephonyBasic.html#1047109"><code>TelIs&lt;ServiceSet&gt;Available</code></a> in <a href="../PalmOSReference/TelephonyBasic.html#1044083">Chapter 73, "Telephony Basic Services,"</a> in <i>Palm OS Programmer's API Reference</i>.</p>

<p><a name="1039273"> </a>For more information about determining if a specific function is supported, see <a href="../PalmOSReference/TelephonyBasic.html#1047033"><code>TelIs&lt;FunctionName&gt;Supported</code></a> in <a href="../PalmOSReference/TelephonyBasic.html#1044083">Chapter 73, "Telephony Basic Services,"</a> in <i>Palm OS Programmer's API Reference</i>.</p>
<h3 class="hbH3">
  <a name="1035005"> </a>Using Synchronous and Asynchronous Calls <a href="#1034776"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1035006"> </a>Almost all of the telephony API functions can be called either synchronously or asynchronously. If you call a function asynchronously, your application receives an event to notify it that the function has completed; the event that you receive contains status and other information returned by the function.</p>

<p><a name="1035007"> </a>This section provides a simple example of calling the <code>TelPhbAddEntry</code> function both synchronously and asynchronously to illustrate the difference. </p>

<p><a name="1035008"> </a>When you call a function synchronously, you need to test the result value returned by the function to determine if the call was successful. For example, the code in <a href="TelephonyMgr.html#1035014">Listing 10.4</a> calls the <code>TelPhAddEntry</code> function synchronously.</p>
<p class="CCodeCaption">
  <a name="1035014"> </a><b>Listing 10.4&nbsp;&nbsp;Calling a function synchronously</b>
</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
   err = TelPhbAddEntry(gTelRefNum, gTelAppID, &amp;gEntry, <a name="1035015"> </a>
      NULL);<a name="1038895"> </a>
   printf("Result of adding entry is %d", err);<a name="1035016"> </a>
</pre><div class="CodeRule"><hr></div>


<p><a name="1035018"> </a>To call the same function asynchronously, you must do the following (see <a href="TelephonyMgr.html#1035023">Listing 10.5</a>): </p>
<ul type="disc">
  <li><a name="1038790"> </a>Pass a pointer to an unsigned integer as the last argument to the call instead of passing <code>NULL</code>. 
   <p><a name="1039008"> </a>An asynchronous function call returns immediately. Upon return, the last argument contains an ID to identify this particular operation (the transaction ID). </p>
  <li><a name="1038802"> </a>In your application's main event loop, use <a href="../PalmOSReference/TelephonyBasic.html#1045515"><code>TelGetEvent</code></a> instead of <code>EvtGetEvent</code> to get the next event. 
   <p><a name="1038846"> </a><code>TelGetEvent</code> checks both the Telephony Manager's asynchronous reply queue and the system event queue. If a telephony event is available, it returns that. If not, it returns the first event in the system event queue. </p>
   <p><a name="1038969"> </a>If you're operating outside of the event loop and are only interested in telephony events, you can call <a href="../PalmOSReference/TelephonyBasic.html#1045564"><code>TelGetTelephonyEvent</code></a> instead. <code>TelGetTelephonyEvent</code> returns only telephony events. </p>
  <li><a name="1038810"> </a>Check for the <code>kTelephonyEvent</code> event type. 
   <p><a name="1038833"> </a>When the function call completes, <code>TelGetEvent</code> returns a <a href="../PalmOSReference/TelephonyBasic.html#1056091"><code>TelEventType</code></a> structure with the event type set to <code>kTelephonyEvent</code>. If the event type is not equal to this event, the normal event loop should process it. </p>
  <li><a name="1038801"> </a>Check the <code>functionId</code> and optionally the <code>transId</code> field of the <code>TelEventType</code> structure. 
   <p><a name="1038943"> </a>The <code>functionId</code> field is a constant that tells you which Telephony Manager call has completed. The <code>transId</code> field tells you which instance of the call completed in case you have made two or more asynchronous calls to the same function. </p>
</ul>
<p class="CCodeCaption">
  <a name="1035023"> </a><b>Listing 10.5&nbsp;&nbsp;Calling a function asynchronously</b>
</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
   err = TelPhbAddEntry(gTelRefNum, gTelAppID, &amp;gEntry, <a name="1035024"> </a>
      &amp;transId);<a name="1038920"> </a>
...<a name="1038694"> </a>
} <a name="1035026"> </a>
 <a name="1035027"> </a>
<a name="1038658"> </a>
static void ProcessTelephonyEvent(TelEventType *eventP)<a name="1035028"> </a>
{<a name="1035029"> </a>
   switch(eventP-&gt;functionId) {<a name="1035030"> </a>
   ...<a name="1035032"> </a>
      case kTelPhbAddEntryMessage:<a name="1035033"> </a>
         printf("Result of adding entry is %d", <a name="1035034"> </a>
                 eventP-&gt;returnCode);<a name="1038576"> </a>
         break;<a name="1035036"> </a>
   ...<a name="1035037"> </a>
}<a name="1035038"> </a>
<a name="1038763"> </a>
static void AppEventLoop(void)<a name="1038735"> </a>
{<a name="1038736"> </a>
   UInt16 error;<a name="1038737"> </a>
   EventType event;<a name="1038738"> </a>
<a name="1038739"> </a>
   do {<a name="1038740"> </a>
      TelGetEvent(gTelRefNum, gTelAppId, <a name="1038741"> </a>
         (TelEventType *)&amp;event, evtWaitForever);<a name="1038921"> </a>
<a name="1038922"> </a>
      if (event-&gt;eType == kTelephonyEvent) {<a name="1038923"> </a>
         ProcessTelephonyEvent((TelEventType *)&amp;event);<a name="1038928"> </a>
      } else {<a name="1038929"> </a>
      if (! SysHandleEvent(&amp;event))<a name="1038743"> </a>
         if (! MenuHandleEvent(0, &amp;event, &amp;error))<a name="1038744"> </a>
            if (! AppHandleEvent(&amp;event))<a name="1038745"> </a>
               FrmDispatchEvent(&amp;event);<a name="1038746"> </a>
<a name="1038747"> </a>
   } while (event.eType != appStopEvent);<a name="1038748"> </a>
}<a name="1038749"> </a>
</pre><div class="CodeRule"><hr></div>

<h3 class="hbH3">
  <a name="1038592"> </a>Registering for Notifications <a href="#1034776"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1038721"> </a>If you need to receive events from the Telephony Manager when your application is not the current application, you should register for the <a href="../PalmOSReference/Notifications.html#1070848"><code>kTelTelephonyNotification</code></a>. For example, if you are writing an application that should handle incoming phone calls or receive SMS messages, it is likely that your application will not be the active application when the call or SMS is received. For these types of events, the Telephony Manager posts a <code>kTelTelephonyNotification</code>. </p>

<p><a name="1039461"> </a>If you've registered for the notification, your application receives a <a href="../PalmOSReference/AppLaunchCodes.html#1012303"><code>sysAppLaunchCmdNotify</code></a> launch code for every telephony event. The <code>notifyDetailsP</code> field of this notification's parameter block points to a <a href="../PalmOSReference/TelephonyBasic.html#1062203"><code>TelNotificationType</code></a> structure. The <code>notificationId</code> field of this structure identifies which specific telephony event has occurred. </p>

<p><a name="1039481"> </a><a href="TelephonyMgr.html#1038593">Listing 10.6</a> shows how to register for and receive incoming SMS message notifications. </p>
<p class="CCodeCaption">
  <a name="1038593"> </a><b>Listing 10.6&nbsp;&nbsp;Receiving an SMS message</b>
</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
UInt32 PilotMain(UInt16 cmd, MemPtr cmdPBP, 
   UInt16 launchFlags)<a name="1039365"> </a>
{<a name="1039370"> </a>
   Err error;<a name="1039415"> </a>
   switch (cmd) {<a name="1039381"> </a>
      //Register for the notification when we are first<a name="1039418"> </a>
      //installed and upon each system reset. <a name="1039419"> </a>
      case sysAppLaunchCmdSyncNotify:<a name="1039385"> </a>
      case sysAppLaunchCmdReset:<a name="1039384"> </a>
         error = SysCurrentAppDatabase(&amp;gCardNo, &amp;gAppID);<a name="1039371"> </a>
         if (error) return error;<a name="1039378"> </a>
         SysNotifyRegister(gCarNo, gAppID, <a name="1039380"> </a>
            kTelephonyNotification, NULL, 
            sysNotifyNormalPriority, NULL);<a name="1039389"> </a>
      break;<a name="1039392"> </a>
<a name="1039424"> </a>
      //Once registered, we receive incoming SMS message 
      //notifications as a sysAppLaunchCmdNotify launch code <a name="1039453"> </a>
      case sysAppLaunchCmdNotify:<a name="1039425"> </a>
         if((SysNotifyParamType *)cmdPBP-&gt;notifyType == <a name="1039439"> </a>
            kTelephonyNotification) &amp;&amp; ((SysNotifyParamType*) 
            cmdPBP-&gt;notifyDetailsP-&gt;notificationId == 
            kTelSmsLaunchCmdIncomingMessage))<a name="1039445"> </a>
               ProcessIncomingSms(cmdPBP-&gt;notifyDetailsP);<a name="1039432"> </a>
   }<a name="1039393"> </a>
}<a name="1039395"> </a>
</pre><div class="CodeRule"><hr></div>

<h3 class="hbH3">
  <a name="1039094"> </a>Using Data Structures With Variably-sized Fields <a href="#1034776"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1039095"> </a>Many of the telephony functions use data structures that have variably-sized buffer fields. For example, the <a href="../PalmOSReference/TelephonyPhonebook.html#1071172"><code>TelPhbGetEntry()</code></a> function uses the <a href="../PalmOSReference/TelephonyPhonebook.html#1081456"><code>TelPhbEntryType</code></a> structure, which contains two such fields.</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
typedef struct _TelPhbEntryType<a name="1039102"> </a>
{<a name="1039103"> </a>
   UInt16   phoneIndex;<a name="1039104"> </a>
   Char*    fullName;<a name="1039105"> </a>
   UInt8    fullNameSize; <a name="1039106"> </a>
   Char*    dialNumber;<a name="1039107"> </a>
   UInt8    dialNumberSize;<a name="1039108"> </a>
} TelPhbEntryType;<a name="1039109"> </a>
</pre><div class="CodeRule"><hr></div>


<p><a name="1039110"> </a>The <code>fullName</code> and <code>dialNumber</code> buffers are variable-sized strings that you allocate in the heap. When you initialize one of these structures to pass to the <a href="../PalmOSReference/TelephonyPhonebook.html#1071172"><code>TelPhbGetEntry()</code></a> function, you must preallocate the buffers and store the allocated size in the corresponding size fields. </p>

<p><a name="1039114"> </a><a href="TelephonyMgr.html#1039494">Listing 10.7</a> initializes a <code>TelPhbEntryType</code> data structure and passes it to the <code>TelPhbGetEntry</code> function to retrieve an entry from the phone book. </p>
<p class="CCodeCaption">
  <a name="1039494"> </a><b>Listing 10.7&nbsp;&nbsp;Initializing a TelPhbEntrypType structure</b>
</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
#define maxNameSize         45<a name="1039115"> </a>
#define maxNumSize          20<a name="1039116"> </a>
TelPhbEntryType myEntry;<a name="1039117"> </a>
UInt16 theIndex = 1;<a name="1039118"> </a>
 <a name="1039119"> </a>
myEntry.phoneIndex =             theIndex;<a name="1039120"> </a>
myEntry.fullName =               MemPtrNew(maxNameSize);<a name="1039121"> </a>
myEntry.fullNameSize =           maxNameSize;<a name="1039122"> </a>
myEntry.dialNumber =             MemPtrNew(maxNumSize);<a name="1039123"> </a>
myEntry.dialNumberSize =         maxNumSize;<a name="1039124"> </a>
 <a name="1039125"> </a>
err = TelPhbGetEntry(gPrefs-&gt;telRefNum, gPrefsP-&gt;telAppId,<a name="1039126"> </a>
                          &amp;myEntry, NULL);<a name="1039127"> </a>
</pre><div class="CodeRule"><hr></div>


<p><a name="1039131"> </a>Note that you can call the <a href="../PalmOSReference/TelephonyPhonebook.html#1071317"><code>TelPhbGetEntryMaxSizes()</code></a> function to retrieve the maximum name size (in addition to other information) instead of hardcoding it, as done in the above example.</p>

<p><a name="1039132"> </a>Upon return from the function, the buffer fields are filled in, and the size fields contain the actual number of bytes that were stored into the buffer fields. </p>

<p><a name="1039133"> </a>If the allocated size of a buffer is not large enough to contain the entire value, the command function does the following:</p>
<ul type="disc">
  <li><a name="1039134"> </a>Returns the <code>telErrBufferSize</code> error.
  <li><a name="1039135"> </a>Fills the buffer with as much data as it can, and truncates the data that does not fit. If the data ends with a null terminator and is truncated, the null terminator is retained.
  <li><a name="1039136"> </a>Sets the value of the size field to the actual size required to contain all of the data.
</ul>

<p><a name="1039137"> </a>Note that for string buffers, the size includes the byte required for the null terminator character.</p>

<div><hr>
  <a name="1039138"> </a> <b>NOTE: </b> When you call a function asynchronously, the <code>telErrBufferSize</code> error is returned in the <code>returnCode</code> field of the event you receive upon completion of the function's execution.<br><br>Also, when you call a function asynchronously, it is your responsibility to ensure that any data structure used by the function remains in memory until you receive the completion event.
<hr>
</div>

<h2 class="haH2">
  <a name="1035146"> </a>Summary of Telephony Manager <a href="#1034776"><span class="nav">^TOP^</span></a>
</h2>



<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1035149"> </a><b>Telephony Manager Functions</b></p>
    </th>
    <th><p class="tt"><a name="1035151"> </a><b></b></p>
    </th>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><p class="tt"><a name="1035153"> </a><b>Basic Functions</b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035160"> </a><a href="../PalmOSReference/TelephonyBasic.html#1045307"><code>TelCancel</code></a></p>
    </td>
    <td><p class="tt"><a name="1035165"> </a><a href="../PalmOSReference/TelephonyBasic.html#1046082"><code>TelIsPhoneConnected</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035170"> </a><a href="../PalmOSReference/TelephonyBasic.html#1045360"><code>TelClose</code></a></p>
    </td>
    <td><p class="tt"><a name="1035175"> </a><a href="../PalmOSReference/TelephonyBasic.html#1046132"><code>TelIsPowServiceAvailable</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035180"> </a><a href="../PalmOSReference/TelephonyBasic.html#1045385"><code>TelClosePhoneConnection</code></a></p>
    </td>
    <td><p class="tt"><a name="1035185"> </a><a href="../PalmOSReference/TelephonyBasic.html#1046188"><code>TelIsSmsServiceAvailable</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035190"> </a><a href="../PalmOSReference/TelephonyBasic.html#1045440"><code>TelGetCallState</code></a></p>
    </td>
    <td><p class="tt"><a name="1035195"> </a><a href="../PalmOSReference/TelephonyBasic.html#1046247"><code>TelIsSndServiceAvailable</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035200"> </a><a href="../PalmOSReference/TelephonyBasic.html#1045515"><code>TelGetEvent</code></a></p>
    </td>
    <td><p class="tt"><a name="1035205"> </a><a href="../PalmOSReference/TelephonyBasic.html#1046303"><code>TelIsSpcServiceAvailable</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035210"> </a><a href="../PalmOSReference/TelephonyBasic.html#1045564"><code>TelGetTelephonyEvent</code></a></p>
    </td>
    <td><p class="tt"><a name="1035215"> </a><a href="../PalmOSReference/TelephonyBasic.html#1046362"><code>TelIsStyServiceAvailable</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035220"> </a><a href="../PalmOSReference/TelephonyBasic.html#1045607"><code>TelInfGetInformation</code></a></p>
    </td>
    <td><p class="tt"><a name="1035225"> </a><a href="../PalmOSReference/TelephonyBasic.html#1046421"><code>TelMatchPhoneDriver</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035230"> </a><a href="../PalmOSReference/TelephonyBasic.html#1045675"><code>TelIsCfgServiceAvailable</code></a></p>
    </td>
    <td><p class="tt"><a name="1035235"> </a><a href="../PalmOSReference/TelephonyBasic.html#1046469"><code>TelOemCall</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035240"> </a><a href="../PalmOSReference/TelephonyBasic.html#1045734"><code>TelIsDtcServiceAvailable</code></a></p>
    </td>
    <td><p class="tt"><a name="1035245"> </a><a href="../PalmOSReference/TelephonyBasic.html#1046538"><code>TelOpen</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035250"> </a><a href="../PalmOSReference/TelephonyBasic.html#1045793"><code>TelIsEmcServiceAvailable</code></a></p>
    </td>
    <td><p class="tt"><a name="1035255"> </a><a href="../PalmOSReference/TelephonyBasic.html#1061890"><code>TelOpenProfile</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035260"> </a><a href="../PalmOSReference/TelephonyBasic.html#1045852"><code>TelIsInfServiceAvailable</code></a></p>
    </td>
    <td><p class="tt"><a name="1035265"> </a><a href="../PalmOSReference/TelephonyBasic.html#1046575"><code>TelOpenPhoneConnection</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035270"> </a><a href="../PalmOSReference/TelephonyBasic.html#1045908"><code>TelIsNwkServiceAvailable</code></a></p>
    </td>
    <td><p class="tt"><a name="1035275"> </a><a href="../PalmOSReference/TelephonyBasic.html#1046785"><code>TelSendCommandString</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035280"> </a><a href="../PalmOSReference/TelephonyBasic.html#1045967"><code>TelIsOemServiceAvailable</code></a></p>
    </td>
    <td><p class="tt"><a name="1035285"> </a><a href="../PalmOSReference/TelephonyBasic.html#1047033"><code>TelIs&lt;FunctionName&gt;Supported</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035290"> </a><a href="../PalmOSReference/TelephonyBasic.html#1046023"><code>TelIsPhbServiceAvailable</code></a></p>
    </td>
    <td><p class="tt"><a name="1035292"> </a><a href="../PalmOSReference/TelephonyBasic.html#1047109"><code>TelIs&lt;ServiceSet&gt;Available</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><p class="tt"><a name="1035294"> </a><b>Data Calls</b></p>
    </td>
  </tr>
  <tr valign="top">
    <td colspan="1" rowspan="3"><p class="tt"><a name="1035301"> </a><a href="../PalmOSReference/TelephonyCalls.html#1046146"><code>TelDtcCallNumber</code></a></p>
    </td>
    <td colspan="1" rowspan="3"><p class="tt"><a name="1035306"> </a><a href="../PalmOSReference/TelephonyCalls.html#1046278"><code>TelDtcReceiveData</code></a></p>
    </td>
  </tr>
  <tr valign="top">
  </tr>
  <tr valign="top">
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035319"> </a><a href="../PalmOSReference/TelephonyCalls.html#1046214"><code>TelDtcCloseLine</code></a></p>
    </td>
    <td><p class="tt"><a name="1035324"> </a><a href="../PalmOSReference/TelephonyCalls.html#1046352"><code>TelDtcSendData</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><p class="tt"><a name="1035326"> </a><b>Emergency Calls</b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035333"> </a><a href="../PalmOSReference/TelephonyCalls.html#1046426"><code>TelEmcCall</code></a></p>
    </td>
    <td><p class="tt"><a name="1035338"> </a><a href="../PalmOSReference/TelephonyCalls.html#1046649"><code>TelEmcGetNumberCount</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035343"> </a><a href="../PalmOSReference/TelephonyCalls.html#1046511"><code>TelEmcCloseLine</code></a></p>
    </td>
    <td><p class="tt"><a name="1035348"> </a><a href="../PalmOSReference/TelephonyCalls.html#1046720"><code>TelEmcSelectNumber</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035353"> </a><a href="../PalmOSReference/TelephonyCalls.html#1046570"><code>TelEmcGetNumber</code></a></p>
    </td>
    <td><p class="tt"><a name="1035358"> </a><a href="../PalmOSReference/TelephonyCalls.html#1046792"><code>TelEmcSetNumber</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><p class="tt"><a name="1035360"> </a><b>Network Interface</b></p>
    </td>
  </tr>
  <tr valign="top">
    <td colspan="1" rowspan="3"><p class="tt"><a name="1035367"> </a><a href="../PalmOSReference/TelephonyNetwork.html#1041643"><code>TelNwkGetLocation</code></a></p>
    </td>
    <td colspan="1" rowspan="3"><p class="tt"><a name="1035372"> </a><a href="../PalmOSReference/TelephonyNetwork.html#1041989"><code>TelNwkGetSelectedNetwork</code></a></p>
    </td>
  </tr>
  <tr valign="top">
  </tr>
  <tr valign="top">
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035385"> </a><a href="../PalmOSReference/TelephonyNetwork.html#1041710"><code>TelNwkGetNetworkName</code></a></p>
    </td>
    <td><p class="tt"><a name="1035390"> </a><a href="../PalmOSReference/TelephonyNetwork.html#1042056"><code>TelNwkGetSignalLevel</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035395"> </a><a href="../PalmOSReference/TelephonyNetwork.html#1041795"><code>TelNwkGetNetworks</code></a></p>
    </td>
    <td><p class="tt"><a name="1035400"> </a><a href="../PalmOSReference/TelephonyNetwork.html#1042140"><code>TelNwkSelectNetwork</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035405"> </a><a href="../PalmOSReference/TelephonyNetwork.html#1041866"><code>TelNwkGetNetworkType</code></a></p>
    </td>
    <td><p class="tt"><a name="1035410"> </a><a href="../PalmOSReference/TelephonyNetwork.html#1042206"><code>TelNwkSetSearchMode</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035415"> </a><a href="../PalmOSReference/TelephonyNetwork.html#1041925"><code>TelNwkGetSearchMode</code></a></p>
    </td>
    <td><p class="tt"><a name="1035417"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><p class="tt"><a name="1035419"> </a><b>Phone Book</b></p>
    </td>
  </tr>
  <tr valign="top">
    <td colspan="1" rowspan="3"><p class="tt"><a name="1035426"> </a><a href="../PalmOSReference/TelephonyPhonebook.html#1070876"><code>TelPhbAddEntry</code></a></p>
    </td>
    <td colspan="1" rowspan="3"><p class="tt"><a name="1035431"> </a><a href="../PalmOSReference/TelephonyPhonebook.html#1071246"><code>TelPhbGetEntryCount</code></a></p>
    </td>
  </tr>
  <tr valign="top">
  </tr>
  <tr valign="top">
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035444"> </a><a href="../PalmOSReference/TelephonyPhonebook.html#1070950"><code>TelPhbDeleteEntry</code></a></p>
    </td>
    <td><p class="tt"><a name="1035449"> </a><a href="../PalmOSReference/TelephonyPhonebook.html#1071317"><code>TelPhbGetEntryMaxSizes</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035454"> </a><a href="../PalmOSReference/TelephonyPhonebook.html#1071014"><code>TelPhbGetAvailablePhonebooks</code></a></p>
    </td>
    <td><p class="tt"><a name="1035459"> </a><a href="../PalmOSReference/TelephonyPhonebook.html#1071391"><code>TelPhbGetSelectedPhonebook</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035464"> </a><a href="../PalmOSReference/TelephonyPhonebook.html#1071086"><code>TelPhbGetEntries</code></a></p>
    </td>
    <td><p class="tt"><a name="1035469"> </a><a href="../PalmOSReference/TelephonyPhonebook.html#1071455"><code>TelPhbSelectPhonebook</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035474"> </a><a href="../PalmOSReference/TelephonyPhonebook.html#1071172"><code>TelPhbGetEntry</code></a></p>
    </td>
    <td><p class="tt"><a name="1035476"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><p class="tt"><a name="1035478"> </a><b>Power Management</b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035485"> </a><a href="../PalmOSReference/TelephonyBasic.html#1046628"><code>TelPowGetBatteryStatus</code></a></p>
    </td>
    <td><p class="tt"><a name="1035490"> </a><a href="../PalmOSReference/TelephonyBasic.html#1046754"><code>TelPowSetPhonePower</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035495"> </a><a href="../PalmOSReference/TelephonyBasic.html#1046692"><code>TelPowGetPowerLevel</code></a></p>
    </td>
    <td><p class="tt"><a name="1035497"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><p class="tt"><a name="1035499"> </a><b>Security</b></p>
    </td>
  </tr>
  <tr valign="top">
    <td colspan="1" rowspan="7"><p class="tt"><a name="1035506"> </a><a href="../PalmOSReference/TelephonyConfig.html#1045484"><code>TelStyChangeAuthenticationType</code></a></p>
    </td>
    <td colspan="1" rowspan="7"><p class="tt"><a name="1035511"> </a><a href="../PalmOSReference/TelephonyConfig.html#1038075"><code>TelStyGetAuthenticationState</code></a></p>
    </td>
  </tr>
  <tr valign="top">
  </tr>
  <tr valign="top">
  </tr>
  <tr valign="top">
  </tr>
  <tr valign="top">
  </tr>
  <tr valign="top">
  </tr>
  <tr valign="top">
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035540"> </a><a href="../PalmOSReference/TelephonyConfig.html#1038011"><code>TelStyEnterAuthenticationCode</code></a></p>
    </td>
    <td><p class="tt"><a name="1035542"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><p class="tt"><a name="1035544"> </a><b>Short Message Services</b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035551"> </a><a href="../PalmOSReference/TelephonyConfig.html#1037806"><code>TelCfgGetSmsCenter</code></a></p>
    </td>
    <td><p class="tt"><a name="1035556"> </a><a href="../PalmOSReference/TelephonySMS.html#1058370"><code>TelSmsReadMessages</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035561"> </a><a href="../PalmOSReference/TelephonyConfig.html#1037880"><code>TelCfgSetSmsCenter</code></a></p>
    </td>
    <td><p class="tt"><a name="1035566"> </a><a href="../PalmOSReference/TelephonySMS.html#1058451"><code>TelSmsReadReport</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035571"> </a><a href="../PalmOSReference/TelephonySMS.html#1057874"><code>TelSmsDeleteMessage</code></a></p>
    </td>
    <td><p class="tt"><a name="1035576"> </a><a href="../PalmOSReference/TelephonySMS.html#1058531"><code>TelSmsReadReports</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035581"> </a><a href="../PalmOSReference/TelephonySMS.html#1057939"><code>TelSmsGetAvailableStorage</code></a></p>
    </td>
    <td><p class="tt"><a name="1035586"> </a><a href="../PalmOSReference/TelephonySMS.html#1058614"><code>TelSmsReadSubmittedMessage</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035591"> </a><a href="../PalmOSReference/TelephonySMS.html#1058010"><code>TelSmsGetDataMaxSize</code></a></p>
    </td>
    <td><p class="tt"><a name="1035596"> </a><a href="../PalmOSReference/TelephonySMS.html#1058691"><code>TelSmsReadSubmittedMessages</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035601"> </a><a href="../PalmOSReference/TelephonySMS.html#1058075"><code>TelSmsGetMessageCount</code></a></p>
    </td>
    <td><p class="tt"><a name="1035606"> </a><a href="../PalmOSReference/TelephonySMS.html#1058774"><code>TelSmsSelectStorage</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035611"> </a><a href="../PalmOSReference/TelephonySMS.html#1058147"><code>TelSmsGetSelectedStorage</code></a></p>
    </td>
    <td><p class="tt"><a name="1035616"> </a><a href="../PalmOSReference/TelephonySMS.html#1058840"><code>TelSmsSendManualAcknowledge</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035621"> </a><a href="../PalmOSReference/TelephonySMS.html#1058212"><code>TelSmsGetUniquePartId</code></a></p>
    </td>
    <td><p class="tt"><a name="1035626"> </a><a href="../PalmOSReference/TelephonySMS.html#1058903"><code>TelSmsSendMessage</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035631"> </a><a href="../PalmOSReference/TelephonySMS.html#1058274"><code>TelSmsReadMessage</code></a></p>
    </td>
    <td><p class="tt"><a name="1035633"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><p class="tt"><a name="1035635"> </a><b>Sound</b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035642"> </a><a href="../PalmOSReference/TelephonyBasic.html#1046845"><code>TelSndMute</code></a></p>
    </td>
    <td><p class="tt"><a name="1035647"> </a><a href="../PalmOSReference/TelephonyBasic.html#1046972"><code>TelSndStopKeyTone</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035652"> </a><a href="../PalmOSReference/TelephonyBasic.html#1046905"><code>TelSndPlayKeyTone</code></a></p>
    </td>
    <td><p class="tt"><a name="1035654"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><p class="tt"><a name="1035656"> </a><b>Speech Calls</b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035663"> </a><a href="../PalmOSReference/TelephonyCalls.html#1046860"><code>TelSpcAcceptCall</code></a></p>
    </td>
    <td><p class="tt"><a name="1035668"> </a><a href="../PalmOSReference/TelephonyCalls.html#1047367"><code>TelSpcRejectCall</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035673"> </a><a href="../PalmOSReference/TelephonyCalls.html#1046925"><code>TelSpcCallNumber</code></a></p>
    </td>
    <td><p class="tt"><a name="1035678"> </a><a href="../PalmOSReference/TelephonyCalls.html#1047428"><code>TelSpcRetrieveHeldLine</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035683"> </a><a href="../PalmOSReference/TelephonyCalls.html#1047027"><code>TelSpcCloseLine</code></a></p>
    </td>
    <td><p class="tt"><a name="1035688"> </a><a href="../PalmOSReference/TelephonyCalls.html#1047487"><code>TelSpcSelectLine</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035693"> </a><a href="../PalmOSReference/TelephonyCalls.html#1047090"><code>TelSpcConference</code></a></p>
    </td>
    <td><p class="tt"><a name="1035698"> </a><a href="../PalmOSReference/TelephonyCalls.html#1047551"><code>TelSpcSendBurstDTMF</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035703"> </a><a href="../PalmOSReference/TelephonyCalls.html#1047163"><code>TelSpcGetCallerNumber</code></a></p>
    </td>
    <td><p class="tt"><a name="1035708"> </a><a href="../PalmOSReference/TelephonyCalls.html#1047622"><code>TelSpcStartContinuousDTMF</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035713"> </a><a href="../PalmOSReference/TelephonyCalls.html#1047235"><code>TelSpcHoldLine</code></a></p>
    </td>
    <td><p class="tt"><a name="1035718"> </a><a href="../PalmOSReference/TelephonyCalls.html#1047695"><code>TelSpcStopContinuousDTMF</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1035723"> </a><a href="../PalmOSReference/TelephonyCalls.html#1047294"><code>TelSpcPlayDTMF</code></a></p>
    </td>
    <td><p class="tt"><a name="1035725"> </a></p>
    </td>
  </tr>
</table>

</div>


<p><a name="1035727"> </a></p>
&nbsp;<br>
</div>
<!--END CONTENT-->

</td>
<td width="5">&nbsp;&nbsp;</td>
</tr>

</table>

<!-- BEGIN FOOTER -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="7" rowspan="2"><img name="index_x" src="images/shim.gif" width="7" height="33" border="0" alt=""></td>
<td align="left"><img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
<td width="10" rowspan="2"><img name="index_x" src="images/shim.gif" width="10" height="33" border="0" alt=""></td>
</tr>
<tr>
<td align="center">
<p class="footer">
Copyright © 1996-2004, PalmSource, Inc. and its affiliates.  All rights reserved. <br>
<a href="http://www.palmsource.com/contact/">Write Us</a> | <a href="http://www.palmos.com/dev/training/">Training</a> | <a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a> | <a href="Companion2Front.html" target="_blank">Legal</a></p>
<br>
<!--BEGIN BOOK NAVIGATION-->
<p class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="Companion2TOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="InternetApps.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="Companion2IX.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="Companion2IX.html">Index</a>
</p>
</td>
</tr>
</table>
<!-- END FOOTER -->

</body>
</html>