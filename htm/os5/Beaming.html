<HTML>

<HEAD>
<SMALLSCREENIGNORE> 
<LINK HREF="copy_of_palmos.css" REL="stylesheet" TYPE="text/css">
<LINK HREF="document.css" REL="StyleSheet" TYPE="text/css" media="screen">
<!-- SCRIPT_START -->
<!-- SCRIPT_END -->
</SMALLSCREENIGNORE>
<TITLE>Beaming (Infrared Communication)</TITLE>

<META NAME="PALMTEMPLATE" CONTENT="1006-002 Palm HTML 20020513">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks Publisher Professional Edition 6.0.7">
<META NAME="TEMPLATEBASE" CONTENT="Palm HTML 20010625">
<META NAME="LASTUPDATED" CONTENT="12/13/02 10:04:17">
<META HTTP-EQUIV="content-type" CONTENT="text/html;charset=ISO-8859-1">

</HEAD>

<BODY LEFTMARGIN="0" MARGINWIDTH="0" TOPMARGIN="0" MARGINHEIGHT="0">
<SMALLSCREENIGNORE> 
<table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr>
	<td><a name="987940"></a>
      <table border="0" cellpadding="0" cellspacing="0" width="100%">
        <tr height="35"> 
          <td height="35" colspan="2" bgcolor="#6699CC">&nbsp;</td>
        </tr>
        <tr valign="top"> 
          <td width="160" align="left"><a href="http://www.palmos.com"><img src="images/bigorb.gif" width="160" height="110" border="0"></a></td>
          <td align="left" width="100%"> 
            </SMALLSCREENIGNORE>
            <!-- CONTENTCELL_START -->
            <img border="0" height="45" src="images/orb_bkgrnd_600.gif" width="600"><br>
            <!--PAGENAV_START-->
            <SPAN CLASS="subnav">&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/index.html">Home</a> 
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/">Developers</a> 
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/support/">Development Support</a>
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/support/docs/">Documentation</a></span><BR>
             <img src="images/pixel_ltblue.gif" width="600" height="1" border="0" vspace="2"><br>
             <h2 class="HeadDocPage">4  Beaming (Infrared Communication)</h2>
             <img src="images/pixel_ltblue.gif" width="600" height="1" border="0" vspace="2"><br>
             &nbsp;<span class="subnav"><a href="Companion2TOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="PersonalDataInterchange.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="SerialCommunication.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="Companion2IX.html">Index</a></span>  
            <!--PAGENAV_END-->
          </td>
        </tr>
      </table>
    </td>
			</tr>
  <tr>
				<td> 
      <table width="100%" border="0" cellspacing="0" cellpadding="0">
        <tr>
							<td>&nbsp;&nbsp;&nbsp;</td>
						</tr>
        <tr>
		<td valign="top" width="10">&nbsp;&nbsp;&nbsp;</td>
		<td valign="top" width="175">
			<p class="SideTitle">Title - <br><a href="Companion2Front.html">Palm OS® Programmer's Companion</a></p>
			<p class="SideTOC1-PartTab">Volume II Communications </p>
			<p class="SideTOC1"><a href="Beaming.html">4  Beaming (Infrared Communication)</a></p>
			
<p class="SideTOC2">
<a href="#987958">IR Library
</a></p>

<p class="SideTOC3">
<a href="#987964">IrDA Stack
</a></p>

<p class="SideTOC3">
<a href="#988004">Accessing the IR Library
</a></p>

<p class="SideTOC2">
<a href="#988012">Summary of Beaming
</a></p>

		</td>

		<td width="5">&nbsp;&nbsp;</td>
		<td width="1" bgcolor="#6699cc">&nbsp;</td>
		<td width="5">&nbsp;&nbsp;</td>
		<td> 

				<!-- CONTENT_START -->

<p class="Body">
  <a name="987942"> </a>The Palm OS<sup>®</sup> provides three levels of support for beaming, or infrared communication (IR):
</p>

  <a name="987943"> </a><p class="B1Bullet"> &#8226; The Exchange Manager provides a high-level interface that handles all of the communication details transparently. See the <a href="ExchangeManagerConcept.html#969979">"Object Exchange"</a> chapter for more information. </p>

  <a name="987947"> </a><p class="B1Bullet"> &#8226; The Serial Manager provides a virtual driver that implements the IrComm protocol. To use IrComm, you specify <span style="font-family: monospace">sysFileCVirtIrComm</span> as the port you want to open and use the Serial Manager APIs to send and receive data on that port. See the <a href="SerialCommunication.html#989132">"Serial Communication"</a> chapter for information on how to use the Serial Manager APIs. </p>

  <a name="987955"> </a><p class="B1Bullet"> &#8226; The <a href="Beaming.html#987958">IR Library</a> provides a low-level, direct interface to the IR communications capabilities of the Palm OS. It is designed for applications that want more direct access to the IR capabilities than the Exchange Manager provides. </p>
<p class="Body">
  <a name="987956"> </a>This chapter discusses the IR Library.
</p>

<h2 class="HaHeadA">
  <a name="987958"> </a>IR Library 
<a href="#987940"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="987960"> </a>The IR (InfraRed) library is a shared library that provides a direct interface to the IR communications capabilities of the Palm OS. It is designed for applications that want more direct access to the IR capabilities than the exchange manager provides.
</p>
<p class="Body">
  <a name="987961"> </a>The IR support provided by the Palm OS is compliant with the IrDA specifications. IrDA (Infrared Data Association), is an industry body consisting of representatives from a number of companies involved in IR development. For a good introduction to the IrDA standards, see the IrDA web site at: 
</p>
<p class="Indented1"> <a name="987963"> </a><a href="http://www.IrDA.org/">http://www.IrDA.org/</a></p>

<h2 class="HBHeadB">
  <a name="987964"> </a>IrDA Stack
<a href="#987940"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="987966"> </a>The IrDA stack comprises a number of protocol layers, of which some are required and some are optional. The complete stack looks something like <a href="Beaming.html#987971">Figure 4.1</a>.
</p>

<p class="FFigureCaption">
  <a name="987971"> </a>Figure 4.1	 IrDA Protocol Stack
</p>
<p class="FgFigure">
  <a name="987972"> </a>
</p>
<p class="FgFigure">
  <a name="987991"> </a><div align="left"><img src="images/Beaminga.gif" height="163" width="360" border="0" hspace="20" vspace="0">
</div>
</p>
<p class="Body">
  <a name="987993"> </a>The SIR/FIR layer is purely hardware. The SIR (Serial IR) layer supports speeds up to 115k bps while the FIR (Fast IR) layer supports speeds up to 4M bps. IrLAP is the IR Link Access Protocol that provides a data pipe between IrDA devices. IrLMP, the IR Link Management Protocol, manages multiple sessions using the IrLAP. Tiny TP is a lightweight transfer protocol on which some higher-level IrDA layers are built. 
</p>
<p class="Body">
  <a name="987997"> </a>One or more of SIR/FIR must be implemented, and Tiny TP, IrLMP and IrLAP must also be implemented. IrComm provides serial and parallel port emulation over an IR link and is optional (it is not currently supported in the Palm OS). IrLAN provides an access point to Local Area Network protocol adapters. It too is optional (and is not supported in the Palm OS). 
</p>
<p class="Body">
  <a name="987999"> </a>OBEX is an object exchange protocol that can be used (for instance) to transfer business cards, calendar entries or other objects between devices. It too is optional and is supported in the Palm OS. The capabilities of OBEX are made available through the exchange manager; there is no direct API for it.
</p>
<p class="Body">
  <a name="988001"> </a>The Palm OS implements all the required protocol layers (SIR, IrLAP, IrLMP, and Tiny TP), as well as the OBEX layer, to support the Exchange Manager. Palm III<sup>&#8482;</sup> devices provide SIR (Serial IR) hardware supporting the following speeds: 2400, 9600, 19200, 38400, 57600, and 115200 bps. The software (<span style="font-family: monospace">IrOpen</span>) currently limits bandwidth to 57600 bps by default, but you can specify a connection speed of up to 115200 bps if desired.
</p>
<p class="Body">
  <a name="988002"> </a>The stack is capable of connection-based or connectionless sessions.
</p>
<p class="Body">
  <a name="988003"> </a>IrLMP Information Access Service (IAS) is a component of the IrLMP protocol that you will see mentioned in the interface. IAS provides a database service through which devices can register information about themselves and retrieve information about other devices and the services they offer.
</p>

<h2 class="HBHeadB">
  <a name="988004"> </a>Accessing the IR Library
<a href="#987940"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="988005"> </a>Before you can use the IR library, you must obtain a reference number for it by calling the function <a href="SystemManager.html#1166164"><span style="font-family: monospace">SysLibFind</span></a>, as in this example:
</p>
<pre  class="Preformatted">
err = SysLibFind(irLibName, &amp;refNum);<a name="988010"> </a>
</pre>
<p class="Body">
  <a name="988011"> </a>This function returns the library reference number in the <span style="font-family: monospace">refNum</span> parameter. This parameter is passed to most of the other functions in the IR library.
</p>

<h2 class="HaHeadA">
  <a name="988012"> </a>Summary of Beaming 
<a href="#987940"><img src="images/top.gif" border="0"></a></h2>


<h5 class="TgTable">
  <a name="988181"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th colspan="2" rowspan="1"><a name="988068"> </a><div class="CellHeading">IR Library Functions</div></th>
  </tr>
  <tr valign="top">
    <td><a name="988075"> </a><div class="CellBody"><a href="IRLib.html#1248121">IrAdvanceCredit</a></div></td>
    <td><a name="988080"> </a><div class="CellBody"><a href="IRLib.html#1248416">IrIsNoProgress</a> </div></td>
  </tr>
  <tr valign="top">
    <td><a name="988085"> </a><div class="CellBody"><a href="IRLib.html#1248145">IrBind</a> </div></td>
    <td><a name="988090"> </a><div class="CellBody"><a href="IRLib.html#1248434">IrIsRemoteBusy</a> </div></td>
  </tr>
  <tr valign="top">
    <td><a name="988095"> </a><div class="CellBody"><a href="IRLib.html#1248173">IrClose</a> </div></td>
    <td><a name="988100"> </a><div class="CellBody"><a href="IRLib.html#1248452">IrLocalBusy</a> </div></td>
  </tr>
  <tr valign="top">
    <td><a name="988105"> </a><div class="CellBody"><a href="IRLib.html#1248197">IrConnectIrLap</a> </div></td>
    <td><a name="988110"> </a><div class="CellBody"><a href="IRLib.html#1248475">IrMaxRxSize</a> </div></td>
  </tr>
  <tr valign="top">
    <td><a name="988115"> </a><div class="CellBody"><a href="IRLib.html#1248222">IrConnectReq</a> </div></td>
    <td><a name="988120"> </a><div class="CellBody"><a href="IRLib.html#1248497">IrMaxTxSize</a> </div></td>
  </tr>
  <tr valign="top">
    <td><a name="988125"> </a><div class="CellBody"><a href="IRLib.html#1248256">IrConnectRsp</a> </div></td>
    <td><a name="988130"> </a><div class="CellBody"><a href="IRLib.html#1248519">IrOpen</a> </div></td>
  </tr>
  <tr valign="top">
    <td><a name="988135"> </a><div class="CellBody"><a href="IRLib.html#1248290">IrDataReq</a> </div></td>
    <td><a name="988140"> </a><div class="CellBody"><a href="IRLib.html#1248558">IrSetConTypeLMP</a> </div></td>
  </tr>
  <tr valign="top">
    <td><a name="988145"> </a><div class="CellBody"><a href="IRLib.html#1248328">IrDisconnectIrLap</a> </div></td>
    <td><a name="988150"> </a><div class="CellBody"><a href="IRLib.html#1248579">IrSetConTypeTTP</a> </div></td>
  </tr>
  <tr valign="top">
    <td><a name="988155"> </a><div class="CellBody"><a href="IRLib.html#1248349">IrDiscoverReq</a> </div></td>
    <td><a name="988160"> </a><div class="CellBody"><a href="IRLib.html#1248600">IrSetDeviceInfo</a> </div></td>
  </tr>
  <tr valign="top">
    <td><a name="988165"> </a><div class="CellBody"><a href="IRLib.html#1248378">IrIsIrLapConnected</a> </div></td>
    <td><a name="988170"> </a><div class="CellBody"><a href="IRLib.html#1248623">IrTestReq</a> </div></td>
  </tr>
  <tr valign="top">
    <td><a name="988175"> </a><div class="CellBody"><a href="IRLib.html#1248398">IrIsMediaBusy</a> </div></td>
    <td><a name="988180"> </a><div class="CellBody"><a href="IRLib.html#1248656">IrUnbind</a> </div></td>
  </tr>
</table>




</h5>
<h5 class="TgTable">
  <a name="988257"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th colspan="2" rowspan="1"><a name="988184"> </a><div class="CellHeading">IR Library IAS Database Functions</div></th>
  </tr>
  <tr valign="top">
    <td><a name="988191"> </a><div class="CellBody"><a href="IRLib.html#1248740">IrIAS_Add</a> </div></td>
    <td><a name="988196"> </a><div class="CellBody"><a href="IRLib.html#1248907">IrIAS_GetUserString</a> </div></td>
  </tr>
  <tr valign="top">
    <td><a name="988201"> </a><div class="CellBody"><a href="IRLib.html#1248769">IrIAS_GetInteger</a> </div></td>
    <td><a name="988206"> </a><div class="CellBody"><a href="IRLib.html#1248931">IrIAS_GetUserStringCharSet</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="988211"> </a><div class="CellBody"><a href="IRLib.html#1248793">IrIAS_GetIntLsap</a> </div></td>
    <td><a name="988216"> </a><div class="CellBody"><a href="IRLib.html#1248955">IrIAS_GetUserStringLen</a> </div></td>
  </tr>
  <tr valign="top">
    <td><a name="988221"> </a><div class="CellBody"><a href="IRLib.html#1248817">IrIAS_GetObjectID</a> </div></td>
    <td><a name="988226"> </a><div class="CellBody"><a href="IRLib.html#1248979">IrIAS_Next</a> </div></td>
  </tr>
  <tr valign="top">
    <td><a name="988231"> </a><div class="CellBody"><a href="IRLib.html#1248838">IrIAS_GetOctetString</a> </div></td>
    <td><a name="988236"> </a><div class="CellBody"><a href="IRLib.html#1249003">IrIAS_Query</a> </div></td>
  </tr>
  <tr valign="top">
    <td><a name="988241"> </a><div class="CellBody"><a href="IRLib.html#1248862">IrIAS_GetOctetStringLen</a> </div></td>
    <td><a name="988246"> </a><div class="CellBody"><a href="IRLib.html#1249040">IrIAS_SetDeviceName</a> </div></td>
  </tr>
  <tr valign="top">
    <td><a name="988251"> </a><div class="CellBody"><a href="IRLib.html#1248886">IrIAS_GetType</a> </div></td>
    <td><a name="988256"> </a><div class="CellBody"><a href="IRLib.html#1249061">IrIAS_StartResult</a> </div></td>
  </tr>
</table>




</h5>
&nbsp;<br>
				<!-- CONTENT_END -->

		</td>
		<td width="5">&nbsp;&nbsp;</td>
	</tr>
      </table>
    </td>
			</tr>
  <tr>
				<td>
					<table border="0" cellpadding="0" cellspacing="0" width="760">
        <!-- CONTENTCELL_END -->
        <tr valign="top"> 
          <td width="10">&nbsp;<!-- FOOTER_START --></td>
          <td width="72">&nbsp;</td>
          <td width="25" bgcolor="white" background="images/bkgrnd.gif">&nbsp;</td>
          <td width="600"> 
            <table border="0" cellpadding="0" cellspacing="0" width="600">
              <tr> 
                <td><img src="images/rule_10-1-5_ltblue.gif" width="600" height="16" border="0"></td>
              </tr>
              <tr> 
                <td> 
                  <p align="center" class="footer"> ©2002 PalmSource, Inc. and its affiliates.  All rights reserved. 
<a href="http://www.palmos.com/dev/training/">Training</a>&nbsp;|&nbsp;<a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a>&nbsp;|&nbsp;<a href="http://www.palmos.com/">Palm&nbsp;OS&nbsp;Platform</a>&nbsp;|&nbsp;<a href="Companion2Front.html" target="_blank">Legal Notices</a>&nbsp;<br>
												<!-- FOOTER_END --><br>
											</p>
                </td>
              </tr>
            </table>
          </td>
        </tr>
      </table>
				</td>
			</tr>
</table>
</BODY>
</HTML>