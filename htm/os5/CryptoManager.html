<HTML>

<HEAD>
<SMALLSCREENIGNORE> 
<LINK HREF="copy_of_palmos.css" REL="stylesheet" TYPE="text/css">
<LINK HREF="document.css" REL="StyleSheet" TYPE="text/css" media="screen">
<!-- SCRIPT_START -->
<!-- SCRIPT_END -->
</SMALLSCREENIGNORE>
<TITLE>Cryptography Provider Manager</TITLE>

<META NAME="PALMTEMPLATE" CONTENT="1006-002 Palm HTML 20020513">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks Publisher Professional Edition 6.0.7">
<META NAME="TEMPLATEBASE" CONTENT="Palm HTML 20010625">
<META NAME="LASTUPDATED" CONTENT="12/13/02 10:11:21">
<META HTTP-EQUIV="content-type" CONTENT="text/html;charset=ISO-8859-1">

</HEAD>

<BODY LEFTMARGIN="0" MARGINWIDTH="0" TOPMARGIN="0" MARGINHEIGHT="0">
<SMALLSCREENIGNORE> 
<table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr>
	<td><a name="1023063"></a>
      <table border="0" cellpadding="0" cellspacing="0" width="100%">
        <tr height="35"> 
          <td height="35" colspan="2" bgcolor="#6699CC">&nbsp;</td>
        </tr>
        <tr valign="top"> 
          <td width="160" align="left"><a href="http://www.palmos.com"><img src="images/bigorb.gif" width="160" height="110" border="0"></a></td>
          <td align="left" width="100%"> 
            </SMALLSCREENIGNORE>
            <!-- CONTENTCELL_START -->
            <img border="0" height="45" src="images/orb_bkgrnd_600.gif" width="600"><br>
            <!--PAGENAV_START-->
            <SPAN CLASS="subnav">&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/index.html">Home</a> 
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/">Developers</a> 
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/support/">Development Support</a>
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/support/docs/">Documentation</a></span><BR>
             <img src="images/pixel_ltblue.gif" width="600" height="1" border="0" vspace="2"><br>
             <h2 class="HeadDocPage">79  Cryptography Provider Manager</h2>
             <img src="images/pixel_ltblue.gif" width="600" height="1" border="0" vspace="2"><br>
             &nbsp;<span class="subnav"><a href="ReferenceTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="BtLibRef_Sockets.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="SSLFuncs.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ReferenceIX.html">Index</a></span>  
            <!--PAGENAV_END-->
          </td>
        </tr>
      </table>
    </td>
			</tr>
  <tr>
				<td> 
      <table width="100%" border="0" cellspacing="0" cellpadding="0">
        <tr>
							<td>&nbsp;&nbsp;&nbsp;</td>
						</tr>
        <tr>
		<td valign="top" width="10">&nbsp;&nbsp;&nbsp;</td>
		<td valign="top" width="175">
			<p class="SideTitle">Title - <br><a href="Reference_Front.html">Palm OS® Programmer's API Reference</a></p>
			<p class="SideTOC1-PartTab">Palm OS® 5 SDK </p>
			<p class="SideTOC1-PartTab">Part IV: Libraries</a> </p>
			<p class="SideTOC1"><a href="CryptoManager.html">79  Cryptography Provider Manager</a></p>
			
<p class="SideTOC2">
<a href="#1194451">The Default Provider
</a></p>

<p class="SideTOC2">
<a href="#1196816">Fundamental CPM Functions
</a></p>

<p class="SideTOC2">
<a href="#1194984">Using the Crypto-Info Structures
</a></p>

<p class="SideTOC2">
<a href="#1197630">Using the Export Functions
</a></p>

<p class="SideTOC2">
<a href="#1122453">CPM and AP Constants
</a></p>

<p class="SideTOC3">
<a href="#1122455">AP Capability Constants
</a></p>

<p class="SideTOC3">
<a href="#1222808">Block Encryption Mode Constants
</a></p>

<p class="SideTOC3">
<a href="#1216572">Cipher Algorithm Constants
</a></p>

<p class="SideTOC3">
<a href="#1121665">Export Encoding Constants
</a></p>

<p class="SideTOC3">
<a href="#1121708">Hashing Algorithm Constants
</a></p>

<p class="SideTOC3">
<a href="#1218676">Key Class Constants
</a></p>

<p class="SideTOC3">
<a href="#1220732">Key Usage Constants
</a></p>

<p class="SideTOC3">
<a href="#1218703">Plaintext Padding Constants
</a></p>

<p class="SideTOC2">
<a href="#1134714">CPM and AP Structures and Data Types
</a></p>

<p class="SideTOC3">
<a href="#1212602">APCipherInfoStruct
</a></p>

<p class="SideTOC3">
<a href="#1210528">APHashInfoStruct
</a></p>

<p class="SideTOC3">
<a href="#1210586">APKeyInfoStruct
</a></p>

<p class="SideTOC3">
<a href="#1208593">APProviderContextStruct
</a></p>

<p class="SideTOC3">
<a href="#1161543">APProviderInfoStruct
</a></p>

<p class="SideTOC3">
<a href="#1214579">APVerifyInfoStruct
</a></p>

<p class="SideTOC3">
<a href="#1081304">CPMInfoStruct
</a></p>

<p class="SideTOC2">
<a href="#1086799">CPM Functions
</a></p>

<p class="SideTOC3">
<a href="#1153221">CPMLibDecrypt
</a></p>

<p class="SideTOC3">
<a href="#1098889">CPMLibDecryptFinal
</a></p>

<p class="SideTOC3">
<a href="#1153238">CPMLibDecryptInit
</a></p>

<p class="SideTOC3">
<a href="#1153251">CPMLibDecryptUpdate
</a></p>

<p class="SideTOC3">
<a href="#1151442">CPMLibEncrypt
</a></p>

<p class="SideTOC3">
<a href="#1165322">CPMLibEncryptFinal
</a></p>

<p class="SideTOC3">
<a href="#1169860">CPMLibEncryptInit
</a></p>

<p class="SideTOC3">
<a href="#1165312">CPMLibEncryptUpdate
</a></p>

<p class="SideTOC3">
<a href="#1149634">CPMLibExportCipherInfo
</a></p>

<p class="SideTOC3">
<a href="#1149919">CPMLibExportHashInfo
</a></p>

<p class="SideTOC3">
<a href="#1148243">CPMLibExportKeyInfo
</a></p>

<p class="SideTOC3">
<a href="#1150474">CPMLibExportVerifyInfo
</a></p>

<p class="SideTOC3">
<a href="#1152059">CPMLibGenerateKey
</a></p>

<p class="SideTOC3">
<a href="#1152080">CPMLibGetInfo
</a></p>

<p class="SideTOC3">
<a href="#1152082">CPMLibGetProviderInfo
</a></p>

<p class="SideTOC3">
<a href="#1176454">CPMLibHash
</a></p>

<p class="SideTOC3">
<a href="#1152956">CPMLibHashFinal
</a></p>

<p class="SideTOC3">
<a href="#1152491">CPMLibHashInit
</a></p>

<p class="SideTOC3">
<a href="#1152507">CPMLibHashUpdate
</a></p>

<p class="SideTOC3">
<a href="#1150366">CPMLibImportCipherInfo
</a></p>

<p class="SideTOC3">
<a href="#1150368">CPMLibImportHashInfo
</a></p>

<p class="SideTOC3">
<a href="#1150894">CPMLibImportKeyInfo
</a></p>

<p class="SideTOC3">
<a href="#1188961">CPMLibImportVerifyInfo
</a></p>

<p class="SideTOC3">
<a href="#1187446">CPMLibReleaseCipherInfo
</a></p>

<p class="SideTOC3">
<a href="#1186563">CPMLibReleaseHashInfo
</a></p>

<p class="SideTOC3">
<a href="#1186447">CPMLibReleaseKeyInfo
</a></p>

<p class="SideTOC3">
<a href="#1145648">CPMLibReleaseVerifyInfo
</a></p>

<p class="SideTOC3">
<a href="#1183916">	CPMLibVerify
</a></p>

<p class="SideTOC3">
<a href="#1182564">CPMLibVerifyFinal
</a></p>

<p class="SideTOC3">
<a href="#1182598">CPMLibVerifyInit
</a></p>

<p class="SideTOC3">
<a href="#1182625">CPMLibVerifyUpdate
</a></p>

<p class="SideTOC2">
<a href="#1121306">CPM Error Codes
</a></p>

		</td>

		<td width="5">&nbsp;&nbsp;</td>
		<td width="1" bgcolor="#6699cc">&nbsp;</td>
		<td width="5">&nbsp;&nbsp;</td>
		<td> 

				<!-- CONTENT_START -->

<p class="Body">
  <a name="1194248"> </a>The Cryptography Provider Manager (CPM) is a shared library that acts as a framework for cryptographic services. These services are divided into two levels: 
</p>

  <a name="1194249"> </a><p class="B1Bullet"> &#8226; At the application level, the CPM provides an API that any application can use to perform cryptographic operations.</p>

  <a name="1194250"> </a><p class="B1Bullet"> &#8226; The operations themselves are not part of the CPM; instead, they're provided by an <b>algorithm provider</b> (or <b>AP</b>). To export its functionality to the CPM, an algorithm provider implements a set of callback functions. Third party developers can create and distribute their own APs. The Palm OS provides a default algorithm provider that's used in the absence of alternatives.</p>
<p class="Body">
  <a name="1194251"> </a>The CPM provides the glue between an application and an AP. In general, this glue is invisible: You don't need to know anything about the APs that are available to use their cryptographic services. This makes it possible for an application to use common cryptographic operations without having to be overly concerned with the exact implementation of these operations. It also relieves the algorithm providers from the duty of providing their own invocation API. 
</p>
<div class="NINoteImportant"><hr>
  <a name="1194445"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">NOTE:  </span> In Palm OS 5, only the application level API is offered; the ability to create and install your own algorithm provider will be supported in a later release.
<hr>
</div>

<h2 class="HaHeadA">
  <a name="1194451"> </a>The Default Provider 
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1194895"> </a>In Palm OS 5, there is only one algorithm provider. Implemented by RSA, it provides three cryptographic services:
</p>

  <a name="1194904"> </a><p class="B1Bullet"> &#8226; Data encryption and decryption using an RC4 symmetric key stream cipher</p>

  <a name="1194939"> </a><p class="B1Bullet"> &#8226; Message digest creation (hashing) using the SHA-1 algorithm.</p>

  <a name="1194981"> </a><p class="B1Bullet"> &#8226; Message verification through a combination of the two other operations.</p>
<p class="Body">
  <a name="1195012"> </a>All of the Palm OS 5 cryptography operations are provided by RSA.
</p>
<p class="Body">
  <a name="1195035"> </a>One of the features of the CPM library is that the developer doesn't need to know anything about cryptography. The functions are designed such that the default settings will yield satisfying results. 
</p>

<h2 class="HaHeadA">
  <a name="1196816"> </a>Fundamental CPM Functions 
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1196834"> </a>The fundamental cryptography functions are:
</p>

  <a name="1196876"> </a><p class="B1Bullet"> &#8226; <a href="CryptoManager.html#1151442"><span style="font-family: monospace">CPMLibEncrypt</span></a> performs a data encryption operation.</p>

  <a name="1196888"> </a><p class="B1Bullet"> &#8226; <a href="CryptoManager.html#1153221"><span style="font-family: monospace">CPMLibDecrypt</span></a> performs a data decryption operation.</p>

  <a name="1196900"> </a><p class="B1Bullet"> &#8226; <a href="CryptoManager.html#1176454"><span style="font-family: monospace">CPMLibHash</span></a> creates a message digest.</p>

  <a name="1196914"> </a><p class="B1Bullet"> &#8226; <a href="CryptoManager.html#1183916"><span style="font-family: monospace">CPMLibVerify</span></a> verifies a message that has a signature and certificate.</p>
<p class="Body">
  <a name="1197047"> </a>These functions operate on blocks of data. For example, <a href="CryptoManager.html#1151442"><span style="font-family: monospace">CPMLibEncrypt</span></a> takes a block of data (and a key), encrypts it, and hands back the encrypted data all in one go.
</p>
<p class="Body">
  <a name="1197048"> </a>The CPM also provides sets of functions that let you perform these operations sequentially, allowing you to (for example) initialize an encryption "stream," iteratively feed data to the encryption algorithm, and then "finalize" the stream and get the encrypted data back. These functions are (for encryption) <a href="CryptoManager.html#1169860"><span style="font-family: monospace">CPMLibEncryptInit</span></a>, <a href="CryptoManager.html#1165312"><span style="font-family: monospace">CPMLibEncryptUpdate</span></a>, and <a href="CryptoManager.html#1165322"><span style="font-family: monospace">CPMLibEncryptFinal</span></a>.
</p>

<h2 class="HaHeadA">
  <a name="1194984"> </a>Using the Crypto-Info Structures 
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1194448"> </a>The cryptography operations that are currently supported by the CPM library rely on four "crypto-info" data structures:
</p>

  <a name="1194393"> </a><p class="B1Bullet"> &#8226; The <a href="CryptoManager.html#1210586"><span style="font-family: monospace">APKeyInfoStruct</span></a> describes a symmetric key, </p>

  <a name="1195087"> </a><p class="B1Bullet"> &#8226; <a href="CryptoManager.html#1212602"><span style="font-family: monospace">APCipherInfoStruct</span></a> describes an encryption/decryption operation.</p>

  <a name="1194435"> </a><p class="B1Bullet"> &#8226; <a href="CryptoManager.html#1210528"><span style="font-family: monospace">APHashInfoStruct</span></a> describes message digest creation.</p>

  <a name="1194441"> </a><p class="B1Bullet"> &#8226; <a href="CryptoManager.html#1214579"><span style="font-family: monospace">APVerifyInfoStruct</span></a> describes a message verification operation. </p>
<p class="Body">
  <a name="1123864"> </a>When you perform a cryptographic operation, you'll be asked for one or more of these structures. In most cases you can pass in an "empty" structure and the function will populate it for you. However, it's important that you zero the structure first.
</p>
<p class="Body">
  <a name="1197628"> </a>For example, the <a href="CryptoManager.html#1176454"><span style="font-family: monospace">CPMLibHash</span></a> function takes a <a href="CryptoManager.html#1210528"><span style="font-family: monospace">APHashInfoStruct</span></a> as an argument. To use the default hashing operations, simply allocate the structure, zero it, and pass it in:
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
APHashInfoType hashinfo;<a name="1199781"> </a>
MemSet ((void *)&amp;hashinfo, sizeof (APHashInfoType), 0);<a name="1197629"> </a>
CPMLibHash( ..., &amp;hashInfo, ...);<a name="1199768"> </a>
</pre><div class="CodeRule"><hr></div>
<p class="Body">
  <a name="1199259"> </a>When you're done with a crypto-info structure, you must "release" it:
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
CPMLibReleaseHashInfo( ..., &amp;hashInfo );<a name="1199819"> </a>
</pre><div class="CodeRule"><hr></div>

<h2 class="HaHeadA">
  <a name="1197630"> </a>Using the Export Functions 
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1108629"> </a>The cryptography structures (key, hash, cipher, verification) can be "exported," or encoded into a form that can be cached. These operations are provided by the <span style="font-family: monospace">CPMLibExport</span><span style="font-family: monospace">Object</span><span style="font-family: monospace">Info</span> functions. Purposeful details of exporting (and importing, its functional complement) are given in the individual function descriptions, below. This little section touches on a wrinkle of usage.
</p>
<p class="Body">
  <a name="1108630"> </a>When you use an export function, you're asked to supply a buffer that can accommodate the encoded data. This means that you have to know how big the encoded data will be; the export function itself tells you the size through its final (reference) argument. Thus, you have to call the export function twice: Once to get the buffer size, and then again to actually get the encoded data. This is demonstrated below:
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
UInt32 length=0;<a name="1108631"> </a>
UInt8 *data=NULL;<a name="1108632"> </a>
Err error;<a name="1108633"> </a>
<a name="1108634"> </a>
/* For demo purposes, we're only interested in the last two
 * arguments (the buffer and the buffer length). First, we
 * set the buffer to NULL, and retrieve the length.
 */<a name="1108635"> </a>
error = CPMLibExport... (... NULL, &amp;length);<a name="1108636"> </a>
<a name="1108637"> </a>
/* At this pass, we expect the function to tell us that 
 * the buffer is too small. Any other return is treated 
 * as an error. Note that the &lt;length&gt; argument is reset to
 * to the required allocation length despite the error
 * return.
 */<a name="1108638"> </a>
if (error != cpmErrBufTooSmall)<a name="1108639"> </a>
	return ...; // or whatever<a name="1108640"> </a>
<a name="1108641"> </a>
/* Allocate the buffer (for brevity, the example omits 
 * the error check). 
 */
data = MemPtrNew(length);<a name="1108642"> </a>
<a name="1108643"> </a>
/* Call the export function again to retrieve the 
 * <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">encoded</span> data.
 */
error = CPMLibExport... ( ... data, &amp;length);<a name="1108644"> </a>
<a name="1108645"> </a>
/* This time we want a 'clean' return. */<a name="1108646"> </a>
if (error != errNone) {<a name="1108647"> </a>
	// handle the error<a name="1108648"> </a>
}<a name="1108649"> </a>
</pre><div class="CodeRule"><hr></div>

<h2 class="HaHeadA">
  <a name="1122453"> </a>CPM and AP Constants 
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>


<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1122455"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> AP Capability Constants
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1122456"> </a>The AP capability values are bitfield constants that represent the capabilities that an AP supports. The capability constants are <span style="font-family: monospace">OR</span>'d into the <span style="font-family: monospace">flags</span> field of the <a href="CryptoManager.html#1161543"><span style="font-family: monospace">APProviderInfoStruct</span></a> structure.
</p>
<p class="Body">
  <a name="1121663"> </a>Declared in <span style="font-family: monospace">CPMLibCommon.h</span>, the constants are: 
</p>

<h5 class="TgTable">
  <a name="1229030"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="1121625"> </a><div class="CellBody"><span style="font-family: monospace">APF_MP</span></div></td>
    <td><a name="1121627"> </a><div class="CellBody">Streaming operations (initialize/update/finalize) are supported ("MP" stands for "multiple part"). See <a href="CryptoManager.html#1196816">"Fundamental CPM Functions"</a> for details. Note that all APs are expected to support block operations.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1121632"> </a><div class="CellBody"><span style="font-family: monospace">APF_HW</span></div></td>
    <td><a name="1121634"> </a><div class="CellBody">The AP's algorithms are implemented in hardware (such as a SmartCard).</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1121636"> </a><div class="CellBody"><span style="font-family: monospace">APF_KEYGEN</span></div></td>
    <td><a name="1121638"> </a><div class="CellBody">Symmetric key operations (including key info import and export) are supported.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1121640"> </a><div class="CellBody"><span style="font-family: monospace">APF_KEYPAIRGEN</span></div></td>
    <td><a name="1121642"> </a><div class="CellBody">Asymmetric key operations (including key info import and export) are supported.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1121644"> </a><div class="CellBody"><span style="font-family: monospace">APF_KEYDERIVE</span></div></td>
    <td><a name="1121646"> </a><div class="CellBody">Key derivation is supported.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1121648"> </a><div class="CellBody"><span style="font-family: monospace">APF_HASH</span></div></td>
    <td><a name="1121650"> </a><div class="CellBody">Hashing operations (including hash info import and export) are supported.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1121652"> </a><div class="CellBody"><span style="font-family: monospace">APF_CIPHER</span></div></td>
    <td><a name="1121654"> </a><div class="CellBody">Message encryption and decryption operations (including cipher info import and export) are supported.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1121656"> </a><div class="CellBody"><span style="font-family: monospace">APF_SIGN</span></div></td>
    <td><a name="1121658"> </a><div class="CellBody">Message signing operations (including sign info import and export) are supported.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1121660"> </a><div class="CellBody"><span style="font-family: monospace">APF_VERIFY</span></div></td>
    <td><a name="1121662"> </a><div class="CellBody">Message verification operations (including verify info import and export) are supported.</div></td>
  </tr>
</table>




</h5>
<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1222808"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> Block Encryption Mode Constants
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1222809"> </a>The constants listed below represent the various block encryption modes that may be supported by an AP. You can request a particular mode by setting the <a href="CryptoManager.html#1212602"><span style="font-family: monospace">APCipherInfoStruct</span></a><span style="font-family: monospace">.mode</span> field before passing the structure to the <a href="CryptoManager.html#1151442"><span style="font-family: monospace">CPMLibEncrypt</span></a> or <a href="CryptoManager.html#1153221"><span style="font-family: monospace">CPMLibDecrypt</span></a> function. If you don't specify a mode, the AP will choose one for you, and reset the <span style="font-family: monospace">mode</span> field to the chosen mode.
</p>
<p class="Body">
  <a name="1222822"> </a>The <span style="font-family: monospace">APModeEnum</span> data type is used to type the encryption mode constants.
</p>
<pre  class="Preformatted">
typedef UInt32 APModeEnum;<a name="1222824"> </a>
</pre>
<p class="Body">
  <a name="1222825"> </a>Note that encryption modes apply to block operations only. Specifying a mode for a stream encryption (through <a href="CryptoManager.html#1169860"><span style="font-family: monospace">CPMLibEncryptInit</span></a> <span style="color: #333;;  font-style: italic; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">et al.</span>) has no effect.
</p>
<p class="Body">
  <a name="1222829"> </a>The constants (and the type) are declared in CPMLibConstants.h. The constants are: 
</p>

<h5 class="TgTable">
  <a name="1229046"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="1222832"> </a><div class="CellBody"><span style="font-family: monospace">apModeTypeUnspecified = 0</span></div></td>
    <td><a name="1222834"> </a><div class="CellBody">The mode isn't specified; the AP uses its default mode.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1222836"> </a><div class="CellBody"><span style="font-family: monospace">apModeTypeNone</span></div></td>
    <td><a name="1222838"> </a><div class="CellBody">The encryption mode doesn't apply.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1222840"> </a><div class="CellBody"><span style="font-family: monospace">apModeTypeECB</span></div></td>
    <td><a name="1222842"> </a><div class="CellBody">Electronic codebook mode.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1222844"> </a><div class="CellBody"><span style="font-family: monospace">apModeTypeCBC</span></div></td>
    <td><a name="1222846"> </a><div class="CellBody">Cipher block chaining mode.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1222848"> </a><div class="CellBody"><span style="font-family: monospace">apModeTypeCBC_CTS</span></div></td>
    <td><a name="1222850"> </a><div class="CellBody">Cipher block chaining with cipher text stealing.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1222852"> </a><div class="CellBody"><span style="font-family: monospace">apModeTypeCFB</span></div></td>
    <td><a name="1222854"> </a><div class="CellBody">Cipher feedback mode.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1222856"> </a><div class="CellBody"><span style="font-family: monospace">apModeTypeOFB</span></div></td>
    <td><a name="1222858"> </a><div class="CellBody">Output feedback mode.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1222860"> </a><div class="CellBody"><span style="font-family: monospace">apModeCounter</span></div></td>
    <td><a name="1222862"> </a><div class="CellBody">Counter mode</div></td>
  </tr>
</table>




</h5>
<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1216572"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> Cipher Algorithm Constants
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1216573"> </a>These constants represent the different cipher algorithms that an AP may support. The algorithm type is encoded in the <span style="font-family: monospace">type</span> field of the <a href="CryptoManager.html#1210586"><span style="font-family: monospace">APKeyInfoStruct</span></a> structure. You can request a specific algorithm by setting the value of the <span style="font-family: monospace">type</span> field before passing the structure to <a href="CryptoManager.html#1152059"><span style="font-family: monospace">CPMLibGenerateKey</span></a>. If you don't care, leave the field zero'd (<span style="font-family: monospace">apAlgorithmTypeUnspecified</span>); the function will set the field to tell you which algorithm was used.
</p>
<p class="Body">
  <a name="1216583"> </a>In the <a href="CryptoManager.html#1210586"><span style="font-family: monospace">APKeyInfoStruct</span></a> structure, the constants are typed as <span style="font-family: monospace">APAlgorithmEnum</span>:
</p>
<pre  class="Preformatted">
typedef UInt32 APAlgorithmEnum<a name="1216585"> </a>
</pre>
<p class="Body">
  <a name="1216586"> </a>The constants (and the type) are defined in <span style="font-family: monospace">CPMLibCommon.h</span>. There we see the usual "unspecified" constant: 
</p>

<h5 class="TgTable">
  <a name="1229062"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="1216589"> </a><div class="CellBody"><span style="font-family: monospace">apAlgorithmTypeUnspecified = 0</span></div></td>
    <td><a name="1216591"> </a><div class="CellBody">No algorithm specified; the AP will use its default.</div></td>
  </tr>
</table>




</h5><p class="Body">
  <a name="1216592"> </a>The rest of the constants are divided into groups, below, and listed with very little additional explanation: The constants' names are reasonably self-documenting.
</p>

<h4 class="HCHeadC">
  <a name="1216593"> </a>Block Cipher Algorithms
</h4>
<p class="Body">
  <a name="1216594"> </a><span style="font-family: monospace">apSymmetricTypeDES<br>apSymmetricTypeRC2<br>apSymmetricTypeRC4<br>apSymmetricTypeRC5<br>apSymmetricTypeRC6</span>,<span style="font-family: monospace"> <br>apSymmetricTypeDESX_XDX3</span> ("Strong" DES)<span style="font-family: monospace"> apSymmetricType3DES_EDE2<br>apSymmetricType3DES_EDE3<br>apSymmetricTypeIDEA<br>apSymmetricTypeDiamond2<br>apSymmetricTypeBlowfish<br>apSymmetricTypeTEA</span> (Tiny Encryption Algorithm),<span style="font-family: monospace"> apSymmetricTypeSAFER</span> (Safe and Fast Encryption Routine),<span style="font-family: monospace"> apSymmetricType3WAY<br>apSymmetricTypeGOST</span> (USSR Government Standard),<br><span style="font-family: monospace">apSymmetricTypeSHARK<br>apSymmetricTypeCAST128</span>,<span style="font-family: monospace"> apSymmetricTypeSquare</span>,<br><span style="font-family: monospace">apSymmetricTypeSkipjack</span>
</p>

<h4 class="HCHeadC">
  <a name="1216595"> </a>Stream Ciphers
</h4>
<p class="Body">
  <a name="1216596"> </a><span style="font-family: monospace">apSymmetricTypePanama</span>,<span style="font-family: monospace"> apSymmetricTypeARC4</span>,<br><span style="font-family: monospace">apSymmetricTypeSEAL</span>,<span style="font-family: monospace"> apSymmetricTypeWAKE</span>,<br><span style="font-family: monospace">apSymmetricTypeSapphire</span>,<span style="font-family: monospace"> apSymmetricTypeBBS</span>
</p>

<h4 class="HCHeadC">
  <a name="1216597"> </a>AES Block Ciphers
</h4>
<p class="Body">
  <a name="1216598"> </a><span style="font-family: monospace">apSymmetricTypeRijndael</span>,<span style="font-family: monospace"> apSymmetricTypeCAST256</span>,<br><span style="font-family: monospace">apSymmetricTypeTwofish</span>,<span style="font-family: monospace"> apSymmetricTypeMARS</span>,<br><span style="font-family: monospace">apSymmetricTypeSerpent</span>
</p>

<h4 class="HCHeadC">
  <a name="1216599"> </a>Asymmetric Key Ciphers
</h4>
<p class="Body">
  <a name="1216600"> </a><span style="font-family: monospace">apAsymmetricTypeRSA</span>,<span style="font-family: monospace"> apAsymmetricTypeDSA</span>,<br><span style="font-family: monospace">apAsymmetricTypeElgamal</span>,<span style="font-family: monospace"> <br>apAsymmetricTypeNR</span> (Nyberg-Rueppel),<br><span style="font-family: monospace">apAsymmetricTypeBlumGoldwasser</span>,<br><span style="font-family: monospace">apAsymmetricTypeRabin</span>,<span style="font-family: monospace"> <br>apAsymmetricTypeRW</span> (Rabin-Williams),<br><span style="font-family: monospace">apAsymmetricTypeLUC</span>,<span style="font-family: monospace"> apAsymmetricTypeLUCELG</span>,<br><span style="font-family: monospace">apAsymmetricTypeECDSA</span>,<span style="font-family: monospace"> apAsymmetricTypeECNR</span>,<br><span style="font-family: monospace">apAsymmetricTypeECIES</span>,<span style="font-family: monospace"> apAsymmetricTypeECDHC</span>,<br><span style="font-family: monospace">apAsymmetricTypeECMQVC</span>
</p>

<h4 class="HCHeadC">
  <a name="1216601"> </a>Key Agreement Ciphers
</h4>
<p class="Body">
  <a name="1216602"> </a><span style="font-family: monospace">apKeyAgreementTypeDH</span> (Diffie-Hellman),<br><span style="font-family: monospace">apKeyAgreementTypeDH2</span> (Unified Diffie-Hellman),<br><span style="font-family: monospace">apKeyAgreementTypeMQV (</span>Menezes-Qu-Vanstone),<br><span style="font-family: monospace">apKeyAgreementTypeLUCDIF</span>,<span style="font-family: monospace"> apKeyAgreementTypeXTRDH</span>
</p>

<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1121665"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> Export Encoding Constants
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1121666"> </a>Constants that represent different data encoding schemes that are used to convert the crypto-info structs (<a href="CryptoManager.html#1210586">APKeyInfoStruct</a>, <a href="CryptoManager.html#1210528">APHashInfoStruct</a>, et al.) into a form that can be cached.
</p>
<p class="Body">
  <a name="1131245"> </a>The encoding formats are used by the import and export functions, <a href="CryptoManager.html#1150894"><span style="font-family: monospace">CPMLibImportKeyInfo</span></a>, <a href="CryptoManager.html#1148243"><span style="font-family: monospace">CPMLibExportKeyInfo</span></a>, <a href="CryptoManager.html#1150368"><span style="font-family: monospace">CPMLibImportHashInfo</span></a>, <a href="CryptoManager.html#1149919"><span style="font-family: monospace">CPMLibExportHashInfo</span></a>, <a href="CryptoManager.html#1188961"><span style="font-family: monospace">CPMLibImportVerifyInfo</span></a>, <a href="CryptoManager.html#1150474"><span style="font-family: monospace">CPMLibExportVerifyInfo</span></a>, <a href="CryptoManager.html#1150366"><span style="font-family: monospace">CPMLibImportCipherInfo</span></a>, and <a href="CryptoManager.html#1149634"><span style="font-family: monospace">CPMLibExportCipherInfo</span></a>.
</p>
<p class="Body">
  <a name="1121680"> </a>Declared in <span style="font-family: monospace">CPMLibCommon.h</span>, the constants are:

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="1121669"> </a><div class="CellBody"><span style="font-family: monospace">IMPORT_EXPORT_TYPE_RAW</span></div></td>
    <td><a name="1121671"> </a><div class="CellBody">The default encoding, as defined by the AP.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1121673"> </a><div class="CellBody"><span style="font-family: monospace">IMPORT_EXPORT_TYPE_DER</span></div></td>
    <td><a name="1121675"> </a><div class="CellBody">ASN.1 DER encoding.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1121677"> </a><div class="CellBody"><span style="font-family: monospace">IMPORT_EXPORT_TYPE_XML</span></div></td>
    <td><a name="1121679"> </a><div class="CellBody">Standardized XML encoding.</div></td>
  </tr>
</table>




</p>

<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1121708"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> Hashing Algorithm Constants
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1121710"> </a>The hashing constants represent various hashing algorithms. If you want to tell the AP to use a specific algorithm in a hashing operation, you would pass one of these constants as an argument to <a href="CryptoManager.html#1176454"><span style="font-family: monospace">CPMLibHash</span></a> or <a href="CryptoManager.html#1152491"><span style="font-family: monospace">CPMLibHashInit</span></a>. If you want the default, use <span style="font-family: monospace">apHashTypeUnspecified</span>, The algorithm that's actually used is returned through a <a href="CryptoManager.html#1210528"><span style="font-family: monospace">APHashInfoStruct</span></a> structure.
</p>
<p class="Body">
  <a name="1121765"> </a>Declared in CPMLibCommon.h, the constants are: 
</p>

<h5 class="TgTable">
  <a name="1229080"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="1121717"> </a><div class="CellBody"><span style="font-family: monospace">apHashTypeUnspecified = 0</span></div></td>
    <td><a name="1121719"> </a><div class="CellBody">Unspecified hash algorithm; when generating a message digest, the AP decides which algorithm to use.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1121722"> </a><div class="CellBody"><span style="font-family: monospace">apHashTypeNone</span></div></td>
    <td><a name="1121724"> </a><div class="CellBody">Don't hash. Use this constant if you want the AP to suppress hashing in an operation, such as verification, that normally performs it</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1121726"> </a><div class="CellBody"><span style="font-family: monospace">apHashTypeMD2</span></div></td>
    <td><a name="1121728"> </a><div class="CellBody">Rivest <span style="color: #333;;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">M</span>essage <span style="color: #333;;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">D</span>igest <span style="color: #333;;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">2</span> (MD2)</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1121730"> </a><div class="CellBody"><span style="font-family: monospace">apHashTypeMD5</span></div></td>
    <td><a name="1121732"> </a><div class="CellBody">Rivest <span style="color: #333;;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">M</span>essage <span style="color: #333;;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">D</span>igest <span style="color: #333;;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">5</span> (MD5)</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1121734"> </a><div class="CellBody"><span style="font-family: monospace">apHashTypeSHA1</span></div></td>
    <td><a name="1121736"> </a><div class="CellBody"><span style="color: #333;;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">S</span>ecure <span style="color: #333;;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">H</span>ash <span style="color: #333;;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">A</span>lgorithm<span style="color: #333;;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">-1</span>60 (SHA-1)</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1121738"> </a><div class="CellBody"><span style="font-family: monospace">apHashTypeSHA256</span></div></td>
    <td><a name="1121740"> </a><div class="CellBody">SHA 256-bit algorithm</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1121742"> </a><div class="CellBody"><span style="font-family: monospace">apHashTypeSHA384</span></div></td>
    <td><a name="1121744"> </a><div class="CellBody">SHA 384-bit algorithm</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1121746"> </a><div class="CellBody"><span style="font-family: monospace">apHashTypeSHA512</span></div></td>
    <td><a name="1121748"> </a><div class="CellBody">SHA 512-bit algorithm</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1121750"> </a><div class="CellBody"><span style="font-family: monospace">apHashTypeHAVAL</span></div></td>
    <td><a name="1121752"> </a><div class="CellBody">HAVAL one-way algorithm</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1121754"> </a><div class="CellBody"><span style="font-family: monospace">apHashTypeRIPEMD160</span> </div></td>
    <td><a name="1121756"> </a><div class="CellBody">RIPEMD 160-bit</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1121758"> </a><div class="CellBody"><span style="font-family: monospace">apHashTypeTiger</span></div></td>
    <td><a name="1121760"> </a><div class="CellBody">Tiger algorithm</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1121762"> </a><div class="CellBody"><span style="font-family: monospace">apHashTypePanama</span></div></td>
    <td><a name="1121764"> </a><div class="CellBody">PANAMA algorithm</div></td>
  </tr>
</table>




</h5>
<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1218676"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> Key Class Constants
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1218677"> </a>A key's "class" specifies whether the key is symmetric or asymmetric and, if the latter, whether it's public or private. The key class constants represent these qualities. Key class is encoded in the <span style="font-family: monospace">keyclass</span> field of the <a href="CryptoManager.html#1210586"><span style="font-family: monospace">APKeyInfoStruct</span></a> structure.
</p>
<p class="Body">
  <a name="1218681"> </a>In the struct, the constants are typed as <span style="font-family: monospace">APKeyClassEnum</span>:
</p>
<pre  class="Preformatted">
typedef UInt32 APKeyClassEnum;<a name="1218683"> </a>
</pre>
<p class="Body">
  <a name="1218684"> </a>The constants (and the type) are defined in <span style="font-family: monospace">CPMLibCommon.h</span>. The constants are: 
</p>

<h5 class="TgTable">
  <a name="1229173"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="1218687"> </a><div class="CellBody"><span style="font-family: monospace">apKeyClassUnspecified = 0</span></div></td>
    <td><a name="1218689"> </a><div class="CellBody">The key's class is unspecified.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1218691"> </a><div class="CellBody"><span style="font-family: monospace">apKeyClassSymmetric</span></div></td>
    <td><a name="1218693"> </a><div class="CellBody">This is a symmetric key.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1218695"> </a><div class="CellBody"><span style="font-family: monospace">apKeyClassPublic</span></div></td>
    <td><a name="1218697"> </a><div class="CellBody">This is the public part of an asymmetric key.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1218699"> </a><div class="CellBody"><span style="font-family: monospace">apKeyClassPrivate</span></div></td>
    <td><a name="1218701"> </a><div class="CellBody">This is the private part of an asymmetric key.</div></td>
  </tr>
</table>




</h5>
<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1220732"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> Key Usage Constants
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<div class="NINoteImportant"><hr>
  <a name="1220733"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">NOTE:  </span> The key usage constants are currently unused. 
<hr>
</div>
<p class="Body">
  <a name="1220734"> </a>The key usage constants describe the different ways that an encryption key can be used. How a key is used is encoded in the <span style="font-family: monospace">usage</span> field of the key's <a href="CryptoManager.html#1210586"><span style="font-family: monospace">APKeyInfoStruct</span></a> structure. 
</p>
<p class="Body">
  <a name="1220738"> </a>Note that the key usage values are mutually exclusive; you can't OR a set of key usage constants to create a "selectively talented" key. The <span style="font-family: monospace">apKeyUsageAll</span> constant is the only "multi-purpose" value currently provided.
</p>
<p class="Body">
  <a name="1220742"> </a>The <span style="font-family: monospace">APKeyUsageEnum</span> data type is used to type the key usage constants:
</p>
<pre  class="Preformatted">
typedef UInt32 APKeyUsageEnum;<a name="1220743"> </a>
</pre>
<p class="Body">
  <a name="1220744"> </a>The constants (and the type) are defined in <span style="font-family: monospace">CPMLibConstants.h</span>. The constants are:
</p>

<h5 class="TgTable">
  <a name="1229197"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="1220747"> </a><div class="CellBody"><span style="font-family: monospace">apKeyUsageUnspecified = 0</span></div></td>
    <td><a name="1220749"> </a><div class="CellBody">The key's usage is unspecified.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1220751"> </a><div class="CellBody"><span style="font-family: monospace">apKeyUsageAll </span></div></td>
    <td><a name="1220753"> </a><div class="CellBody">The key can be used in any operation.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1220755"> </a><div class="CellBody"><span style="font-family: monospace">apKeyUsageCertificateSigning</span></div></td>
    <td><a name="1220757"> </a><div class="CellBody">The key is intended for certificate signing.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1220759"> </a><div class="CellBody"><span style="font-family: monospace">apKeyUsageSigning</span></div></td>
    <td><a name="1220761"> </a><div class="CellBody">The key is intended for message signing operations.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1220763"> </a><div class="CellBody"><span style="font-family: monospace">apKeyUsageEncryption</span></div></td>
    <td><a name="1220765"> </a><div class="CellBody">The key is intended for key or data encryption operations.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1220767"> </a><div class="CellBody"><span style="font-family: monospace">apKeyUsageKeyEncrypting</span></div></td>
    <td><a name="1220769"> </a><div class="CellBody">The key is intended for key encryption operations</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1220771"> </a><div class="CellBody"><span style="font-family: monospace">apKeyUsageDataEncrypting</span></div></td>
    <td><a name="1220773"> </a><div class="CellBody">The key is intended for data encryption operations.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1220775"> </a><div class="CellBody"><span style="font-family: monospace">apKeyUsageMessageIntegrity</span></div></td>
    <td><a name="1220777"> </a><div class="CellBody">The key is intended for message verification operations.</div></td>
  </tr>
</table>



 
</h5>
<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1218703"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> Plaintext Padding Constants
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1218704"> </a>The plaintext padding constants describe the different ways that plaintext is padded before it's encrypted. The padding type is encoded in the <span style="font-family: monospace">padding</span> field of an <a href="CryptoManager.html#1212602"><span style="font-family: monospace">APCipherInfoStruct</span></a> structure. 
</p>
<p class="Body">
  <a name="1218711"> </a>The <span style="font-family: monospace">APPaddingEnum</span> data type is used to type the padding constants:
</p>
<pre  class="Preformatted">
typedef UInt32 APPaddingEnum;<a name="1218712"> </a>
</pre>
<p class="Body">
  <a name="1218713"> </a>The constants (and the type) are declared in <span style="font-family: monospace">CPMLibCommon.h</span>. The constants are: 
</p>

<h5 class="TgTable">
  <a name="1229630"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="1218716"> </a><div class="CellBody"><span style="font-family: monospace">apPaddingTypeUnspecified = 0</span></div></td>
    <td><a name="1218718"> </a><div class="CellBody">The padding is unspecified; the AP will use the default</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1218720"> </a><div class="CellBody"><span style="font-family: monospace">apPaddingTypeNone </span></div></td>
    <td><a name="1218722"> </a><div class="CellBody">Specifically request that padding <span style="color: #333;;  font-style: italic; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">not</span> be applied.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1218724"> </a><div class="CellBody"><span style="font-family: monospace">apPaddingTypePKCS1Type1</span></div></td>
    <td><a name="1218726"> </a><div class="CellBody">Public Key Cryptography Standard 1, type 1</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1218728"> </a><div class="CellBody"><span style="font-family: monospace">apPaddingTypePKCS1Type2</span></div></td>
    <td><a name="1218730"> </a><div class="CellBody">Public Key Cryptography Standard 1, type 2</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1218732"> </a><div class="CellBody"><span style="font-family: monospace">apPaddingTypePKCS5</span></div></td>
    <td><a name="1218734"> </a><div class="CellBody">Public Key Cryptography Standard 5</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1218736"> </a><div class="CellBody"><span style="font-family: monospace">apPaddingTypeOAEP</span></div></td>
    <td><a name="1218738"> </a><div class="CellBody">Optimal Asymmetric Encryption Padding</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1218740"> </a><div class="CellBody"><span style="font-family: monospace">apPaddingTypeSSLv23</span></div></td>
    <td><a name="1218742"> </a><div class="CellBody">Secure Sockets Layer version 23</div></td>
  </tr>
</table>




</h5>
<h2 class="HaHeadA">
  <a name="1134714"> </a>CPM and AP Structures and Data Types 
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>


<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1212602"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> APCipherInfoStruct
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1212603"> </a>The <span style="font-family: monospace">APCipherInfoStruct</span> encapsulates information about an instance of a data encryption or decryption operation. The structure is populated and returned by the data encryption and decryption functions (<a href="CryptoManager.html#1151442"><span style="font-family: monospace">CPMLibEncrypt</span></a>, <a href="CryptoManager.html#1153221"><span style="font-family: monospace">CPMLibDecrypt</span></a>, <a href="CryptoManager.html#1169860"><span style="font-family: monospace">CPMLibEncryptInit</span></a>, and <a href="CryptoManager.html#1153238"><span style="font-family: monospace">CPMLibDecryptInit</span></a>). You can set some of the fields' values yourself (before calling an encryption/decryption function) to fine-tune the impending operation. 
</p>
<p class="Body">
  <a name="1212616"> </a>You're responsible for allocating and freeing the <span style="font-family: monospace">APCipherInfoStruct</span>s that you need-the CPM never allocates them for you. The <span style="font-family: monospace">APCipherInfoStruct</span>s that you create (and actually use) must be released through <a href="CryptoManager.html#1187446"><span style="font-family: monospace">CPMLibReleaseCipherInfo</span></a> before they're freed.
</p>
<p class="Body">
  <a name="1212620"> </a>For more information (including examples) on how to use a crypto-info structure, see <a href="CryptoManager.html#1194984">"Using the Crypto-Info Structures."</a>
</p>
<p class="Body">
  <a name="1212624"> </a>Declared in <span style="font-family: monospace">CPMLibCommon.h</span>, the structure looks like this:
</p>
<pre  class="Preformatted">
struct APCipherInfoStruct {<a name="1212625"> </a>
  APProviderContextType  providerContext;<a name="1212626"> </a>
  APAlgorithmEnum  type;<a name="1212627"> </a>
  APPaddingEnum  padding;<a name="1212628"> </a>
  UInt8  *iv;<a name="1212629"> </a>
  UInt32  ivLength;<a name="1212630"> </a>
  void  *algorithmParams;<a name="1212631"> </a>
};<a name="1212632"> </a>
</pre>
<p class="Body">
  <a name="1212667"> </a>The fields are:
</p>

<h5 class="TgTable">
  <a name="1229634"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="1212635"> </a><div class="CellBody"><span style="font-family: monospace">providerContext</span></div></td>
    <td><a name="1212637"> </a><div class="CellBody">Information about the AP that performed (or is requested to perform) the operation. See <a href="CryptoManager.html#1208593"><span style="font-family: monospace">APProviderContextStruct</span></a>.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1212642"> </a><div class="CellBody"><span style="font-family: monospace">type</span></div></td>
    <td><a name="1212644"> </a><div class="CellBody">Constant that represents the cipher algorithm that was used or that's requested. See <a href="CryptoManager.html#1216572">Cipher Algorithm Constants</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="1212649"> </a><div class="CellBody"><span style="font-family: monospace">padding</span></div></td>
    <td><a name="1212651"> </a><div class="CellBody">Constant that represents the plaintext padding scheme used by the algorithm. See <a href="CryptoManager.html#1218703">Plaintext Padding Constants</a>.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1212656"> </a><div class="CellBody"><span style="font-family: monospace">iv</span></div></td>
    <td><a name="1212658"> </a><div class="CellBody">Initialization vector.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1212660"> </a><div class="CellBody"><span style="font-family: monospace">ivLength</span></div></td>
    <td><a name="1212662"> </a><div class="CellBody">The length of the initialization vector, in bytes.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1212664"> </a><div class="CellBody"><span style="font-family: monospace">algorithmParams</span></div></td>
    <td><a name="1212666"> </a><div class="CellBody">Additional data that's fed to the algorithm, as specified by the AP.</div></td>
  </tr>
</table>




</h5>
<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1210528"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> APHashInfoStruct
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1210529"> </a>The APHashInfoStruct contains information about an instance of a message digest operation. You allocate the structure yourself, zero its contents, set the fields that you're interested in (if any), and then pass it as an argument to the message digest functions (<a href="CryptoManager.html#1176454"><span style="font-family: monospace">CPMLibHash</span></a>, <a href="CryptoManager.html#1152491"><span style="font-family: monospace">CPMLibHashInit</span></a>, <a href="CryptoManager.html#1149919"><span style="font-family: monospace">CPMLibExportHashInfo</span></a>, and so on). When you're finished with the struct, you pass it to <a href="CryptoManager.html#1186563"><span style="font-family: monospace">CPMLibReleaseHashInfo</span></a>. 
</p>
<p class="Body">
  <a name="1210542"> </a>For more information (including examples) on how to use the structure, see <a href="CryptoManager.html#1194984">"Using the Crypto-Info Structures."</a>
</p>
<p class="Body">
  <a name="1210546"> </a>Declared in CPMLibCommon.h, the structure looks like this:
</p>
<pre  class="Preformatted">
struct APHashInfoStruct {<a name="1210547"> </a>
  APProviderContextType  providerContext;<a name="1210548"> </a>
  APHashEnum  type;  <a name="1210549"> </a>
  UInt32  length; <a name="1210550"> </a>
};<a name="1210551"> </a>
</pre>
<p class="Body">
  <a name="1210568"> </a>The fields are: 
</p>

<h5 class="TgTable">
  <a name="1229642"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="1210554"> </a><div class="CellBody"><span style="font-family: monospace">providerContext</span></div></td>
    <td><a name="1210556"> </a><div class="CellBody">Information about the AP that performed (or is requested to perform) the operation. See <a href="CryptoManager.html#1208593"><span style="font-family: monospace">APProviderContextStruct</span></a>.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1210561"> </a><div class="CellBody"><span style="font-family: monospace">type</span></div></td>
    <td><a name="1210563"> </a><div class="CellBody">The hashing algorithm that was used to create (or is requested to create) the message digest.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1210565"> </a><div class="CellBody"><span style="font-family: monospace">length</span></div></td>
    <td><a name="1210567"> </a><div class="CellBody">The length of the digest.</div></td>
  </tr>
</table>




</h5><p class="Body">
  <a name="1210569"> </a>The APHashInfoStruct is one of the crypto-info structures; it's used as an input/output argument to the message digest functions (<a href="CryptoManager.html#1176454"><span style="font-family: monospace">CPMLibHash</span></a>, <a href="CryptoManager.html#1152491"><span style="font-family: monospace">CPMLibHashInit</span></a>, <a href="CryptoManager.html#1149919"><span style="font-family: monospace">CPMLibExportHashInfo</span></a>, and so on). You allocate the structure yourself; before passing the struct to a function, you <span style="color: #333;;  font-style: italic; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">must</span> zero its contents. When you're finished with the struct, you pass it to <a href="CryptoManager.html#1186563"><span style="font-family: monospace">CPMLibReleaseHashInfo</span></a>. For more information on how to use a crypto-info structure, see <a href="CryptoManager.html#1194984">"Using the Crypto-Info Structures."</a>
</p>

<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1210586"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> APKeyInfoStruct
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1210587"> </a>The <span style="font-family: monospace">APKeyInfoStruct</span> holds information about an encrytion key. 
</p>
<pre  class="Preformatted">
struct APKeyInfoStruct {<a name="1210588"> </a>
  APProviderContextType  providerContext; <a name="1210589"> </a>
  APAlgorithmEnum  type;<a name="1210590"> </a>
  APKeyUsageEnum  usage;<a name="1210591"> </a>
  APKeyClassEnum  keyclass; <a name="1210592"> </a>
  UInt32  length;<a name="1210593"> </a>
  UInt32  actualLength; <a name="1210594"> </a>
  UInt16  exportable; <a name="1210595"> </a>
  UInt16  ephemeral;   <a name="1210596"> </a>
};<a name="1210597"> </a>
<a name="1229654"> </a>
</pre>

<h5 class="TgTable">
  <a name="1210633"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="1210600"> </a><div class="CellBody"><span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">providerID</span></div></td>
    <td><a name="1210602"> </a><div class="CellBody">Algorithm provider ID number.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1210604"> </a><div class="CellBody"><span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">type</span></div></td>
    <td><a name="1210606"> </a><div class="CellBody">A code that identifies the type of algorithm, one of the <a href="CryptoManager.html#1216572">Cipher Algorithm Constants</a> values.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1210611"> </a><div class="CellBody"><span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">usage</span></div></td>
    <td><a name="1210613"> </a><div class="CellBody">A code that identifies how the algorithm is used, one of the <a href="CryptoManager.html#1220732">Key Usage Constants</a> values.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1210618"> </a><div class="CellBody"><span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">keyLength</span></div></td>
    <td><a name="1210620"> </a><div class="CellBody">Length of the key data, in bytes and padded to the next largest word. (Default is 8.)</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1210622"> </a><div class="CellBody"><span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">keyActualLength</span></div></td>
    <td><a name="1210624"> </a><div class="CellBody">The actual, unpadded length of the key data. (Default is 7).</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1210626"> </a><div class="CellBody"><span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">exportable</span></div></td>
    <td><a name="1210628"> </a><div class="CellBody">Can this key be used in a CPMExportKey() call?. 1 if it can, 0 if it can't.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1210630"> </a><div class="CellBody"><span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">ephemeral</span></div></td>
    <td><a name="1210632"> </a><div class="CellBody">Is this a "one-shot" key? 1 if it is, 0 if it's permanent..</div></td>
  </tr>
</table>




</h5>
<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1208593"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> APProviderContextStruct
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1208594"> </a>The <span style="font-family: monospace">APProviderContextStruct</span> contains information about an instance of a cryptographic operation. The structure is contained (as an <span style="font-family: monospace">APProviderContextType</span> value) in the four crypto-info structs, <a href="CryptoManager.html#1210586"><span style="font-family: monospace">APKeyInfoStruct</span></a>, <a href="CryptoManager.html#1210528"><span style="font-family: monospace">APHashInfoStruct</span></a>, <a href="CryptoManager.html#1212602"><span style="font-family: monospace">APCipherInfoStruct</span></a>, and <a href="CryptoManager.html#1214579"><span style="font-family: monospace">APVerifyInfoStruct</span></a>.
</p>
<p class="Body">
  <a name="1208607"> </a>Declared in <span style="font-family: monospace">CPMLibCommon.h</span>, the structure looks like this:
</p>
<pre  class="Preformatted">
struct APProviderContextStruct {<a name="1208608"> </a>
  UInt32  providerID;<a name="1208609"> </a>
  void  *localContext;   <a name="1208610"> </a>
};<a name="1208611"> </a>
</pre>
<p class="Body">
  <a name="1208621"> </a>The fields are

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="1208614"> </a><div class="CellBody"><span style="font-family: monospace">providerID</span></div></td>
    <td><a name="1208616"> </a><div class="CellBody">Integer that uniquely identifies the provider that's being used in the operation. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1208618"> </a><div class="CellBody"><span style="font-family: monospace">localContext</span></div></td>
    <td><a name="1208620"> </a><div class="CellBody">Provider-specific information about the operation.</div></td>
  </tr>
</table>




</p>

<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1161543"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> APProviderInfoStruct
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1118505"> </a>The <span style="font-family: monospace">APProviderInfoStruct</span> contains information about a specific algorithm provider. The structure is returned (as an <span style="font-family: monospace">APProviderInfoType</span>) by <a href="CryptoManager.html#1152082"><span style="font-family: monospace">CPMLibGetProviderInfo</span></a>.
</p>
<p class="Body">
  <a name="1101630"> </a>Declared in <span style="font-family: monospace">CPMLibCommon.h</span>, the structure looks like this:
</p>
<pre  class="Preformatted">
struct APProviderInfoStruct {<a name="1112674"> </a>
  char  name[32];<a name="1118306"> </a>
  char  other[64];<a name="1118307"> </a>
  UInt32  flags;<a name="1118308"> </a>
  UInt8  numAlgorithms; <a name="1118309"> </a>
  Boolean  bHardware; <a name="1118310"> </a>
};<a name="1118311"> </a>
</pre>
<p class="Body">
  <a name="1118363"> </a>The fields are: 
</p>

<h5 class="TgTable">
  <a name="1229660"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="1118397"> </a><div class="CellBody"><span style="font-family: monospace">name</span></div></td>
    <td><a name="1118399"> </a><div class="CellBody">The human-readable name of the provider.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1118401"> </a><div class="CellBody"><span style="font-family: monospace">other</span></div></td>
    <td><a name="1118403"> </a><div class="CellBody">Additional textual information.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1118405"> </a><div class="CellBody"><span style="font-family: monospace">flags</span></div></td>
    <td><a name="1118407"> </a><div class="CellBody">A bitfield that publishes the functionality that this provider supports. See <a href="CryptoManager.html#1122455">AP Capability Constants</a> for a list of values that this field can combine.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1118409"> </a><div class="CellBody"><span style="font-family: monospace">numAlgorithms</span></div></td>
    <td><a name="1118411"> </a><div class="CellBody">A count of the algorithms this provider supplies.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1118413"> </a><div class="CellBody"><span style="font-family: monospace">bHardware</span></div></td>
    <td><a name="1118415"> </a><div class="CellBody"><span style="font-family: monospace">true</span> if the provider's algorithms are implemented in hardware; <span style="font-family: monospace">false</span> if in software.</div></td>
  </tr>
</table>




</h5>
<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1214579"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> APVerifyInfoStruct
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1214580"> </a>The <span style="font-family: monospace">APVerifyInfoStruct</span> is used by the verification functions (<a href="CryptoManager.html#1183916"><span style="font-family: monospace">CPMLibVerify</span></a>, <span style="color: #333;;  font-style: italic; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">et al.</span>) to verify a message. It contains (primarily) the hash operation and cipher operation information that will be used during verification. It's the caller's responsibility to allocate and embed the structure's <span style="font-family: monospace">APHashInfoStruct</span> and <span style="font-family: monospace">APCipherInfoStruct</span> fields before passing the <span style="font-family: monospace">APVerifyInfoStruct</span> to a verification function.
</p>
<p class="Body">
  <a name="1214584"> </a>Any <span style="font-family: monospace">APVerifyInfoStructs</span> that you actually use must be released through <a href="CryptoManager.html#1145648"><span style="font-family: monospace">CPMLibReleaseVerifyInfo</span></a> before it's freed. The embedded structures must also be released through <a href="CryptoManager.html#1187446"><span style="font-family: monospace">CPMLibReleaseCipherInfo</span></a> and <a href="CryptoManager.html#1186563"><span style="font-family: monospace">CPMLibReleaseHashInfo</span></a>.
</p>
<p class="Body">
  <a name="1214594"> </a>For more information (including examples) on how to use a crypto-info structure, see <a href="CryptoManager.html#1194984">"Using the Crypto-Info Structures."</a>
</p>
<p class="Body">
  <a name="1214598"> </a>Declared in <span style="font-family: monospace">CPMLibCommon.h</span>, the structure looks like this:
</p>
<pre  class="Preformatted">
struct APVerifyInfoStruct {<a name="1214599"> </a>
  APProviderContextType  providerContext;<a name="1214600"> </a>
  APHashInfoType  *hashInfoP;    <a name="1214601"> </a>
  APCipherInfoType  *cipherInfoP; <a name="1214602"> </a>
}<a name="1214603"> </a>
</pre>
<p class="Body">
  <a name="1214626"> </a>The fields are: 
</p>

<h5 class="TgTable">
  <a name="1229668"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="1214606"> </a><div class="CellBody"><span style="font-family: monospace">providerContext</span></div></td>
    <td><a name="1214608"> </a><div class="CellBody">Information about the AP that performed (or is requested to perform) the operation. See <a href="CryptoManager.html#1208593"><span style="font-family: monospace">APProviderContextStruct</span></a>.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1214613"> </a><div class="CellBody">hashInfoP</div></td>
    <td><a name="1214618"> </a><div class="CellBody"><a href="CryptoManager.html#1210528"><span style="font-family: monospace">APHashInfoStruct</span></a> that contains the certificate's hash information.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1214620"> </a><div class="CellBody">cipherInfoP</div></td>
    <td><a name="1214625"> </a><div class="CellBody"><a href="CryptoManager.html#1212602"><span style="font-family: monospace">APCipherInfoStruct</span></a> that contains the certificate's cipher information.</div></td>
  </tr>
</table>




</h5>
<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1081304"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> CPMInfoStruct
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1081406"> </a>Structure that provides information about the CPM library. It's used by the <a href="CryptoManager.html#1152080"><span style="font-family: monospace">CPMLibGetInfo</span></a> function.
</p>
<pre  class="Preformatted">
typedef struct CPMInfoStruct {<a name="1081677"> </a>
  UInt8  numInstances; <a name="1143269"> </a>
  UInt8   numProviders; <a name="1143407"> </a>
  Boolean  defaultProviderPresent;<a name="1143414"> </a>
};<a name="1143423"> </a>
</pre>
<p class="Body">
  <a name="1144139"> </a>The fields are:
</p>

<h5 class="TgTable">
  <a name="1229676"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="1143914"> </a><div class="CellBody"><span style="font-family: monospace">numInstances</span></div></td>
    <td><a name="1143916"> </a><div class="CellBody">The number of clients (applications) that are talking to this library.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1143918"> </a><div class="CellBody"><span style="font-family: monospace">numProviders</span></div></td>
    <td><a name="1143920"> </a><div class="CellBody">The number of algorithm providers that this library knows about.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1143922"> </a><div class="CellBody">defaultProviderPresent</div></td>
    <td><a name="1144097"> </a><div class="CellBody">Does the library contain a default provider? <span style="font-family: monospace">true</span> if it does, otherwise <span style="font-family: monospace">false</span>.</div></td>
  </tr>
</table>




</h5>
<h5 class="TgTable">
  <a name="1081555"> </a>
</h5>
<h2 class="HaHeadA">
  <a name="1086799"> </a>CPM Functions 
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>


<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1153221"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> CPMLibDecrypt
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1153264"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1153281"> </a>Decrypts a block of encrypted data.
</p>
<h4 class="RefSide">
  <a name="1153293"> </a>Declared In 	
</h4>
<p class="RefPrototype">
  <a name="1154624"> </a>CPMLib68kInterface.h, CPMLibARMInterface.h
</p>
<h4 class="RefSide">
  <a name="1153321"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1153346"> </a>Err CPMLibDecrypt ( UInt16 libRef,<br>APKeyInfoType *keyInfo,<br>APCipherInfoType *cipherInfo, UInt8 *inBuffer,<br>UInt32 inBufferLength, UInt8 *outBuffer,<br>UInt32 *outBufferLength )
</p>
<h4 class="RefSide">
  <a name="1153374"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1154800"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; libRef</span></td><td valign="top">(68k only) CPM Library reference number.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1154835"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; keyInfo</span></td><td valign="top"><a href="CryptoManager.html#1210586"><span style="font-family: monospace">APKeyInfoStruct</span></a> that contains the key that was used to encrypt the data. You obtain the structure by importing the <a href="CryptoManager.html#1210586"><span style="font-family: monospace">APKeyInfoStruct</span></a> that was exported by the data encryptor.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1174519"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;-&gt; cipherInfo</span></td><td valign="top">A pointer to an <a href="CryptoManager.html#1212602"><span style="font-family: monospace">APCipherInfoStruct</span></a> that describes the parameters that will be used in the decryption operation. You typically retrieve the structure by importing the <a href="CryptoManager.html#1212602"><span style="font-family: monospace">APCipherInfoStruct</span></a> that was exported by the data encryptor. If you're using the decryption defaults provided by the CPM library, you can pass in a freshly allocated (and zero'd) <a href="CryptoManager.html#1212602"><span style="font-family: monospace">APCipherInfoStruct</span></a>; in this case, the structure will be populated by this function to reflect the actual decryption parameters.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1154904"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; inBuffer</span></td><td valign="top">A pointer to the (encrypted) data that you want to decrypt.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1154918"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; inBufferLength</span></td><td valign="top">Length, in bytes, of <span style="font-family: monospace">inBuffer</span>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1154942"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- outBuffer</span></td><td valign="top">A pointer to the buffer into which the decrypted data will be copied. The buffer must be allocated by the caller, and must be big enough to accommodate all of the decrypted data.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1173162"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;-&gt; outBufferLength</span></td><td valign="top">You pass in the (allocated) length of <span style="font-family: monospace">outBuffer</span>, in bytes. The function resets the argument to the amount of data that was actually copied into <span style="font-family: monospace">outBuffer</span>. If the function returns <span style="font-family: monospace">cpmErrBufTooSmall</span>, <span style="font-family: monospace">outBufferLength</span> is set to the minimum buffer size that's needed to accommodate the decrypted data..</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1153582"> </a>Result 
</h4>
<p class="Body">
  <a name="1153996"> </a>The function returns <span style="font-family: monospace">errNone</span> upon success. For other error codes, see <a href="CryptoManager.html#1121306">CPM Error Codes</a>.
</p>
<h4 class="RefSide">
  <a name="1173254"> </a>Comments 
</h4>
<p class="Body">
  <a name="1173280"> </a>This functions peforms block decryption. For stream decryption, see <a href="CryptoManager.html#1153238"><span style="font-family: monospace">CPMLibDecryptInit</span></a>. 
</p>
<p class="Body">
  <a name="1173284"> </a>The <span style="font-family: monospace">keyInfo</span> and <span style="font-family: monospace">cipherInfo</span> must agree on the algorithm type, as specified in their respective <span style="font-family: monospace">APAlgorithmEnum</span> fields. 
</p>
<p class="Body">
  <a name="1173285"> </a>If <span style="font-family: monospace">outBuffer</span> isn't big enough, the function will fail and <span style="font-family: monospace">outBufferLength</span> will return the "correct" output buffer size (i.e. large enough to accommodate the encrypted data) . When this happens, simply reallocate the output buffer and call <span style="font-family: monospace">CPMLibDecrypt</span> again.
</p>

<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1098889"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> CPMLibDecryptFinal
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1174988"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1174989"> </a>Finalizes a stream decryption operation.
</p>
<h4 class="RefSide">
  <a name="1174990"> </a>Declared In 
</h4>
<p class="RefPrototype">
  <a name="1174991"> </a>CPMLib68kInterface.h, CPMLibARMInterface.h
</p>
<h4 class="RefSide">
  <a name="1174992"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1174993"> </a>Err CPMLibDecryptFinal ( UInt16 libRef,<br>APKeyInfoType *keyInfo,<br>APCipherInfoType *cipherInfo, UInt8 *inBuffer,<br>UInt32 inBufferLength, UInt8 *outBuffer,<br>UInt32 *outBufferLength)
</p>
<h4 class="RefSide">
  <a name="1174994"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1174995"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; libRef</span></td><td valign="top">CPM Library reference number (68k only).</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1174996"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; keyInfo</span></td><td valign="top">Key used to decrypt the data, as returned by <a href="CryptoManager.html#1152059"><span style="font-family: monospace">CPMLibGenerateKey</span></a> or <a href="CryptoManager.html#1150894"><span style="font-family: monospace">CPMLibImportKeyInfo</span></a>. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1175003"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; cipherInfo</td><td valign="top"></span>A pointer to the <a href="CryptoManager.html#1212602"><span style="font-family: monospace">APCipherInfoStruct</span></a> that was returned by the stream-initializing <a href="CryptoManager.html#1153238"><span style="font-family: monospace">CPMLibDecryptInit</span></a> call. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1175010"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; inBuffer</span></td><td valign="top">A pointer to the data that you want to encrypt. If you already supplied all the data through previous <a href="CryptoManager.html#1153251"><span style="font-family: monospace">CPMLibDecryptUpdate</span></a> calls, pass <span style="font-family: monospace">NULL</span>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1175014"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; inBufferLength</span></td><td valign="top">The length of <span style="font-family: monospace">inBuffer</span>, in bytes. If <span style="font-family: monospace">inBuffer</span> is <span style="font-family: monospace">NULL</span>, pass 0.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1175015"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- outBuffer</span></td><td valign="top">A pointer to the buffer where the decrypted <span style="font-family: monospace">inBuffer</span> data will be copied. The buffer must be allocated by the caller, and must be big enough to accommodate all of the decrypted data.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1175016"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;-&gt; outBufferLength</span></td><td valign="top">You pass in the (allocated) length of <span style="font-family: monospace">outBuffer</span>, in bytes. The function resets the argument to the amount of data that was actually copied into <span style="font-family: monospace">outBuffer</span>. If the function returns <span style="font-family: monospace">cpmErrBufTooSmall</span>, <span style="font-family: monospace">outBufferLength</span> is set to the minimum buffer size that's needed to accommodate the decrypted <span style="font-family: monospace">inBuffer</span> data..</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1203338"> </a>Result 
</h4>
<p class="Body">
  <a name="1203339"> </a>The function returns <span style="font-family: monospace">errNone</span> upon success. For other error codes, see <a href="CryptoManager.html#1121306">CPM Error Codes</a>.
</p>
<h4 class="RefSide">
  <a name="1175018"> </a>Comments 
</h4>
<p class="Body">
  <a name="1175485"> </a>This function (optionally) decrypts a final buffer of data and then closes the decryption stream that was initialized by <a href="CryptoManager.html#1153238"><span style="font-family: monospace">CPMLibDecryptInit</span></a>. 
</p>
<p class="Body">
  <a name="1181637"> </a>Note that <span style="font-family: monospace">outBuffer</span> contains the decrypted <span style="font-family: monospace">inBuffer</span> data only-it doesn't contain all the data that was decrypted by this stream. It's the callers responsibility to accumulate the data that was decrypted by previous, successive <a href="CryptoManager.html#1153251"><span style="font-family: monospace">CPMLibDecryptUpdate</span></a> calls.
</p>

<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1153238"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> CPMLibDecryptInit
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1173345"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1173346"> </a>Initializes a stream decryption session.
</p>
<h4 class="RefSide">
  <a name="1173347"> </a>Declared In 
</h4>
<p class="RefPrototype">
  <a name="1173348"> </a>CPMLib68kInterface.h, CPMLibARMInterface.h
</p>
<h4 class="RefSide">
  <a name="1173349"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1173350"> </a>Err CPMLibDecryptInit ( UInt16 libRef,<br>APKeyInfoType *keyInfo,<br>APCipherInfoType *cipherInfo )
</p>
<h4 class="RefSide">
  <a name="1173351"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1173352"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; libRef</span></td><td valign="top">CPM Library reference number (68k only).</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1174262"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; keyInfo</span></td><td valign="top"><a href="CryptoManager.html#1210586"><span style="font-family: monospace">APKeyInfoStruct</span></a> that contains the key that was used to encrypt the data. You obtain the structure by importing the <a href="CryptoManager.html#1210586"><span style="font-family: monospace">APKeyInfoStruct</span></a> that was exported by the data encryptor.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1174266"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;-&gt; cipherInfo</span></td><td valign="top">A pointer to an <a href="CryptoManager.html#1212602"><span style="font-family: monospace">APCipherInfoStruct</span></a> that describes the parameters that will be used in the decryption operation. You typically retrieve the structure by importing the <a href="CryptoManager.html#1212602"><span style="font-family: monospace">APCipherInfoStruct</span></a> that was exported by the data encryptor. If you're using the decryption defaults provided by the CPM library, you can pass in a freshly allocated (and zero'd) <a href="CryptoManager.html#1212602"><span style="font-family: monospace">APCipherInfoStruct</span></a>; in this case, the structure will be populated by this function to reflect the actual decryption parameters.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1203346"> </a>Result 
</h4>
<p class="Body">
  <a name="1203347"> </a>The function returns <span style="font-family: monospace">errNone</span> upon success. For other error codes, see <a href="CryptoManager.html#1121306">CPM Error Codes</a>.
</p>
<h4 class="RefSide">
  <a name="1173372"> </a>Comments 
</h4>
<p class="Body">
  <a name="1173373"> </a>This function initializes a stream decryption operation. To feed data to the operation, you call <a href="CryptoManager.html#1153251"><span style="font-family: monospace">CPMLibDecryptUpdate</span></a> followed by <a href="CryptoManager.html#1098889"><span style="font-family: monospace">CPMLibDecryptFinal</span></a>. The "update" function is optional; the "final" function is mandatory. For block encryption, see <a href="CryptoManager.html#1153221"><span style="font-family: monospace">CPMLibDecrypt</span></a>. 
</p>
<p class="Body">
  <a name="1173383"> </a>The <span style="font-family: monospace">keyInfo</span> and <span style="font-family: monospace">cipherInfo</span> must agree on the algorithm type, as specified in their respective <span style="font-family: monospace">APAlgorithmEnum</span> fields. 
</p>

<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1153251"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> CPMLibDecryptUpdate
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1175530"> </a>Feeds data to a stream decryption operation.
</p>
<h4 class="RefSide">
  <a name="1175531"> </a>Declared In 
</h4>
<p class="RefPrototype">
  <a name="1175532"> </a>CPMLib68kInterface.h, CPMLibARMInterface.h
</p>
<h4 class="RefSide">
  <a name="1175533"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1175534"> </a>Err CPMLibDecryptUpdate ( UInt16 libRef,<br>APKeyInfoType *keyInfo,<br>APCipherInfoType *cipherInfo, UInt8 *inBuffer,<br>UInt32 inBufferLength, UInt8 *outBuffer,<br>UInt32 *outBufferLength)
</p>
<h4 class="RefSide">
  <a name="1175535"> </a>Parameters 
</h4>
<p class="Body">
  <a name="1175539"> </a>see <a href="CryptoManager.html#1165322"><span style="font-family: monospace">CPMLibEncryptFinal</span></a>
</p>
<h4 class="RefSide">
  <a name="1203418"> </a>Result 
</h4>
<p class="Body">
  <a name="1203419"> </a>The function returns <span style="font-family: monospace">errNone</span> upon success. For other error codes, see <a href="CryptoManager.html#1121306">CPM Error Codes</a>.
</p>
<h4 class="RefSide">
  <a name="1175545"> </a>Comments 
</h4>
<p class="Body">
  <a name="1175546"> </a>This function feeds data into the stream decryption session that was started by <a href="CryptoManager.html#1153238"><span style="font-family: monospace">CPMLibDecryptInit</span></a>. You can make any number of <span style="font-family: monospace">CPMLibDecryptUpdate</span> calls while the stream is open. When you've finished feeding data into the stream, you call <a href="CryptoManager.html#1098889"><span style="font-family: monospace">CPMLibDecryptFinal</span></a>.
</p>
<p class="Body">
  <a name="1175553"> </a>This function's arguments, return values, and behavior are nearly identical to <a href="CryptoManager.html#1098889"><span style="font-family: monospace">CPMLibDecryptFinal</span></a> (which see for details). The only difference between them is that this function leaves the stream open, and <a href="CryptoManager.html#1098889"><span style="font-family: monospace">CPMLibDecryptFinal</span></a> closes it. 
</p>

<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1151442"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> CPMLibEncrypt
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1151443"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1151444"> </a>Encrypts a block of data.
</p>
<h4 class="RefSide">
  <a name="1151445"> </a>Declared In 
</h4>
<p class="RefPrototype">
  <a name="1151446"> </a>CPMLib68KInterface.h, CPMLibArmInterface.h
</p>
<h4 class="RefSide">
  <a name="1151447"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1151448"> </a>Err CPMLibEncrypt ( UInt16 libRef,<br>APKeyInfoType *keyInfo,<br>APCipherInfoType *cipherInfo, UInt8 *inBuffer,<br>UInt32 inBufferLength, UInt8 *outBuffer,<br>UInt32 *outBufferLength)
</p>
<h4 class="RefSide">
  <a name="1151449"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1151450"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; libRef</span></td><td valign="top">CPM Library reference number (68k only).</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1151451"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; keyInfo</span></td><td valign="top">A pointer to an <a href="CryptoManager.html#1210586"><span style="font-family: monospace">APKeyInfoStruct</span></a> that represents the key that will be used to encrypt the data. The allocate the structure, zero it, and then populate it by calling <a href="CryptoManager.html#1152059"><span style="font-family: monospace">CPMLibGenerateKey</span></a> or <a href="CryptoManager.html#1150894"><span style="font-family: monospace">CPMLibImportKeyInfo</span></a>. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1166380"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; cipherInfo</td><td valign="top"></span>A pointer to an <a href="CryptoManager.html#1212602"><span style="font-family: monospace">APCipherInfoStruct</span></a> that you can use to set the parameters of the encryption operation. If the CPM can't satisfy the requirements you specify in the structure, the operation will fail. If you want to use the default cipher settings, pass in a zero'd structure. When the function returns, the structure will be filled with information describing the operation. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1151458"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; inBuffer</span></td><td valign="top">A pointer to the data that you want to encrypt.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1163639"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; inBufferLength</span></td><td valign="top">The length of <span style="font-family: monospace">inBuffer</span>, in bytes.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1163682"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- outBuffer</span></td><td valign="top">A pointer to the buffer where the encrypted data will be copied. The buffer must be allocated by the caller, and must be big enough to accommodate all of the encrypted data.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1164079"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;-&gt; outBufferLength</span></td><td valign="top">You pass in the (allocated) length of <span style="font-family: monospace">outBuffer</span>, in bytes. The function resets the argument to the amount of data that was actually copied into <span style="font-family: monospace">outBuffer</span>. If the function returns <span style="font-family: monospace">cpmErrBufTooSmall</span>, <span style="font-family: monospace">outBufferLength</span> is set to the minimum buffer size that's needed to accommodate the encrypted data.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1203490"> </a>Result 
</h4>
<p class="Body">
  <a name="1203491"> </a>The function returns <span style="font-family: monospace">errNone</span> upon success. For other error codes, see <a href="CryptoManager.html#1121306">CPM Error Codes</a>.
</p>
<h4 class="RefSide">
  <a name="1164347"> </a>Comments 
</h4>
<p class="Body">
  <a name="1164368"> </a>This functions peforms block encryption. For stream encryption, see <a href="CryptoManager.html#1169860"><span style="font-family: monospace">CPMLibEncryptInit</span></a>. 
</p>
<p class="Body">
  <a name="1170820"> </a>The <span style="font-family: monospace">keyInfo</span> and <span style="font-family: monospace">cipherInfo</span> must agree on the algorithm type, as specified in their respective <span style="font-family: monospace">APAlgorithmEnum</span> fields. 
</p>
<p class="Body">
  <a name="1165729"> </a>If <span style="font-family: monospace">outBuffer</span> isn't big enough, the function will fail and <span style="font-family: monospace">outBufferLength</span> will return the "correct" output buffer size (i.e. large enough to accommodate the encrypted data) . When this happens, simply reallocate the output buffer and call <span style="font-family: monospace">CPMLibEncrypt</span> again.
</p>
<p class="Body">
  <a name="1170742"> </a>After you've encrypted the data, you must export the <span style="font-family: monospace">keyInfo</span> and cipherInfo structures (see <a href="CryptoManager.html#1148243"><span style="font-family: monospace">CPMLibExportKeyInfo</span></a> and <a href="CryptoManager.html#1149634"><span style="font-family: monospace">CPMLibExportCipherInfo</span></a>) so they can be imported, later, by the data decryptor. Secure storage and transmission of the encryption key is th caller's responsibility.
</p>
<p class="Body">
  <a name="1170752"> </a>To decrypt encrypted data, you call <a href="CryptoManager.html#1153221"><span style="font-family: monospace">CPMLibDecrypt</span></a> or <a href="CryptoManager.html#1153238"><span style="font-family: monospace">CPMLibDecryptInit</span></a>.
</p>

<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1165322"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> CPMLibEncryptFinal
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1169812"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1169827"> </a>Finalizes a stream encryption operation.
</p>
<h4 class="RefSide">
  <a name="1169841"> </a>Declared In 
</h4>
<p class="RefPrototype">
  <a name="1169843"> </a>CPMLib68kInterface.h, CPMLibARMInterface.h
</p>
<h4 class="RefSide">
  <a name="1169859"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1169870"> </a>Err CPMLibEncryptFinal ( UInt16 libRef,<br>APKeyInfoType *keyInfo,<br>APCipherInfoType *cipherInfo, UInt8 *inBuffer,<br>UInt32 inBufferLength, UInt8 *outBuffer,<br>UInt32 *outBufferLength)
</p>
<h4 class="RefSide">
  <a name="1169871"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1169872"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; libRef</span></td><td valign="top">CPM Library reference number (68k only).</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1169873"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; keyInfo</span></td><td valign="top">Key used to encrypt the data, as returned by <a href="CryptoManager.html#1152059"><span style="font-family: monospace">CPMLibGenerateKey</span></a> or <a href="CryptoManager.html#1150894"><span style="font-family: monospace">CPMLibImportKeyInfo</span></a>. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1169880"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; cipherInfo</td><td valign="top"></span>A pointer to the <a href="CryptoManager.html#1212602"><span style="font-family: monospace">APCipherInfoStruct</span></a> that was returned in the stream-initializing <a href="CryptoManager.html#1169860"><span style="font-family: monospace">CPMLibEncryptInit</span></a> call. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1169884"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; inBuffer</span></td><td valign="top">A pointer to the data that you want to encrypt. If you already supplied all the data through previous <a href="CryptoManager.html#1165312"><span style="font-family: monospace">CPMLibEncryptUpdate</span></a> calls, pass <span style="font-family: monospace">NULL</span>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1169885"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; inBufferLength</span></td><td valign="top">The length of <span style="font-family: monospace">inBuffer</span>, in bytes. If <span style="font-family: monospace">inBuffer</span> is <span style="font-family: monospace">NULL</span>, pass 0.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1169886"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- outBuffer</span></td><td valign="top">A pointer to the buffer where the encrypted <span style="font-family: monospace">inBuffer</span> data will be copied. The buffer must be allocated by the caller, and must be big enough to accommodate the encrypted <span style="font-family: monospace">inBuffer</span> data.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1171246"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;-&gt; outBufferLength</span></td><td valign="top">You pass in the (allocated) length of <span style="font-family: monospace">outBuffer</span>, in bytes. The function resets the argument to the amount of data that was actually copied into <span style="font-family: monospace">outBuffer</span>. If the function returns <span style="font-family: monospace">cpmErrBufTooSmall</span>, <span style="font-family: monospace">outBufferLength</span> is set to the minimum buffer size that's needed to accommodate the encrypted data.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1203526"> </a>Result 
</h4>
<p class="Body">
  <a name="1203527"> </a>The function returns <span style="font-family: monospace">errNone</span> upon success. For other error codes, see <a href="CryptoManager.html#1121306">CPM Error Codes</a>.
</p>
<h4 class="RefSide">
  <a name="1169890"> </a>Comments 
</h4>
<p class="Body">
  <a name="1181664"> </a>This function (optionally) encrypts a final buffer of data and then closes the encryption stream that was initialized by <a href="CryptoManager.html#1169860"><span style="font-family: monospace">CPMLibEncryptInit</span></a>. 
</p>
<p class="Body">
  <a name="1181414"> </a>After you've encrypted the data, you should export the <span style="font-family: monospace">keyInfo</span> and <span style="font-family: monospace">cipherInfo</span> structures (see <a href="CryptoManager.html#1148243"><span style="font-family: monospace">CPMLibExportKeyInfo</span></a> and <a href="CryptoManager.html#1149634"><span style="font-family: monospace">CPMLibExportCipherInfo</span></a>) so they can be imported, later, by the data decryptor. Secure storage and transmission of the encryption key is the caller's responsibility.
</p>
<p class="Body">
  <a name="1175356"> </a>Note that <span style="font-family: monospace">outBuffer</span> contains the encrypted <span style="font-family: monospace">inBuffer</span> data only-it doesn't contain all the data that was encrypted by this stream. It's the callers responsibility to accumulate the data that was encrypted by previous, successive <a href="CryptoManager.html#1165312"><span style="font-family: monospace">CPMLibEncryptUpdate</span></a> calls.
</p>
<p class="Body">
  <a name="1169907"> </a>To decrypt encrypted data, you call <a href="CryptoManager.html#1153221"><span style="font-family: monospace">CPMLibDecrypt</span></a> or <a href="CryptoManager.html#1153238"><span style="font-family: monospace">CPMLibDecryptInit</span></a>.
</p>

<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1169860"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> CPMLibEncryptInit
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1164762"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1164765"> </a>Initializes a stream encryption session.
</p>
<h4 class="RefSide">
  <a name="1164771"> </a>Declared In 
</h4>
<p class="RefPrototype">
  <a name="1164773"> </a>CPMLib68kInterface.h, CPMLibARMInterface.h
</p>
<h4 class="RefSide">
  <a name="1164775"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1164909"> </a>Err CPMLibEncryptInit ( UInt16 libRef,<br>APKeyInfoType *keyInfo,<br>APCipherInfoType *cipherInfo )
</p>
<h4 class="RefSide">
  <a name="1164915"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1164920"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; libRef</span></td><td valign="top">CPM Library reference number (68k only).</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1164921"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; keyInfo</span></td><td valign="top">Key used to encrypt the data, as returned by <a href="CryptoManager.html#1152059"><span style="font-family: monospace">CPMLibGenerateKey</span></a> or <a href="CryptoManager.html#1150894"><span style="font-family: monospace">CPMLibImportKeyInfo</span></a>. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1164917"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; cipherInfo</td><td valign="top"></span>A pointer to an <a href="CryptoManager.html#1212602"><span style="font-family: monospace">APCipherInfoStruct</span></a> that you can use to set the parameters of the encryption operation. If the CPM can't satisfy the requirements you specify in the structure, the operation will fail. If you want to use the default cipher settings, pass in a zero'd structure. When the function returns, the structure will be filled with information describing the operation. The structure is used as a cookie in the subsequent <a href="CryptoManager.html#1165312"><span style="font-family: monospace">CPMLibEncryptUpdate</span></a> and/or <a href="CryptoManager.html#1165322"><span style="font-family: monospace">CPMLibEncryptFinal</span></a> functions.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1203566"> </a>Result 
</h4>
<p class="Body">
  <a name="1203567"> </a>The function returns <span style="font-family: monospace">errNone</span> upon success. For other error codes, see <a href="CryptoManager.html#1121306">CPM Error Codes</a>.
</p>
<h4 class="RefSide">
  <a name="1169095"> </a>Comments 
</h4>
<p class="Body">
  <a name="1169096"> </a>This function initializes a stream encryption operation. To feed data to the operation, you call <a href="CryptoManager.html#1165312"><span style="font-family: monospace">CPMLibEncryptUpdate</span></a> followed by <a href="CryptoManager.html#1165322"><span style="font-family: monospace">CPMLibEncryptFinal</span></a>. The "update" function is optional; the "final" function is mandatory. For block encryption, see <a href="CryptoManager.html#1151442"><span style="font-family: monospace">CPMLibEncrypt</span></a>. 
</p>
<p class="Body">
  <a name="1169100"> </a>The <span style="font-family: monospace">keyInfo</span> and <span style="font-family: monospace">cipherInfo</span> must agree on the algorithm type, as specified in their respective <span style="font-family: monospace">APAlgorithmEnum</span> fields. 
</p>
<p class="Body">
  <a name="1169109"> </a>To decrypt encrypted data, you call <a href="CryptoManager.html#1153221"><span style="font-family: monospace">CPMLibDecrypt</span></a> or <a href="CryptoManager.html#1153238"><span style="font-family: monospace">CPMLibDecryptInit</span></a>.
</p>

<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1165312"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> CPMLibEncryptUpdate
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1170838"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1170840"> </a>Feeds data to a stream encryption operation.
</p>
<h4 class="RefSide">
  <a name="1170987"> </a>Declared In 
</h4>
<p class="RefPrototype">
  <a name="1170988"> </a>CPMLib68kInterface.h, CPMLibARMInterface.h
</p>
<h4 class="RefSide">
  <a name="1171004"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1171005"> </a>Err CPMLibEncryptUpdate ( UInt16 libRef,<br>APKeyInfoType *keyInfo,<br>APCipherInfoType *cipherInfo, UInt8 *inBuffer,<br>UInt32 inBufferLength, UInt8 *outBuffer,<br>UInt32 *outBufferLength)
</p>
<h4 class="RefSide">
  <a name="1171006"> </a>Parameters 
</h4>
<p class="Body">
  <a name="1171007"> </a>see <a href="CryptoManager.html#1165322"><span style="font-family: monospace">CPMLibEncryptFinal</span></a>
</p>
<h4 class="RefSide">
  <a name="1203574"> </a>Result 
</h4>
<p class="Body">
  <a name="1203575"> </a>The function returns <span style="font-family: monospace">errNone</span> upon success. For other error codes, see <a href="CryptoManager.html#1121306">CPM Error Codes</a>.
</p>
<h4 class="RefSide">
  <a name="1171341"> </a>Comments 
</h4>
<p class="Body">
  <a name="1171351"> </a>This function feeds data into the stream encryption session that was started by <a href="CryptoManager.html#1169860"><span style="font-family: monospace">CPMLibEncryptInit</span></a>. You can make any number of <span style="font-family: monospace">CPMLibEncryptUpdate</span> calls while the encryption stream is open. When you've finished feeding data into the stream, you call <a href="CryptoManager.html#1165322"><span style="font-family: monospace">CPMLibEncryptFinal</span></a>.
</p>
<p class="Body">
  <a name="1171431"> </a>This function's arguments, return values, and behavior are nearly identical to <a href="CryptoManager.html#1165322"><span style="font-family: monospace">CPMLibEncryptFinal</span></a> (which see for details). The only difference between them is that this function leaves the stream open, and <a href="CryptoManager.html#1165322"><span style="font-family: monospace">CPMLibEncryptFinal</span></a> closes it. 
</p>

<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1149634"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> CPMLibExportCipherInfo
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1149635"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1149636"> </a>Encodes a cipher into a form that can be cached. To reconstitute an exported cipher, pass it to <a href="CryptoManager.html#1150366"><span style="font-family: monospace">CPMLibImportCipherInfo</span></a>.
</p>
<h4 class="RefSide">
  <a name="1149640"> </a>Declared In 
</h4>
<p class="RefPrototype">
  <a name="1149641"> </a>CPMLib68KInterface.h, CPMLibArmInterface.h
</p>
<h4 class="RefSide">
  <a name="1149642"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1149643"> </a>Err CPMLibExportCipherInfo ( UInt16 libRef,<br>APCipherInfoType *cipherInfo, UInt8 encoding,<br>UInt8 *exportBuffer, UInt32 exportBufferLength )
</p>
<h4 class="RefSide">
  <a name="1149644"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1149645"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; libRef</span></td><td valign="top">CPM Library reference number (68k only).</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1149646"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; cipherInfo</td><td valign="top"></span>Structure that represents the cipher that you want to export, as created and returned by <a href="CryptoManager.html#1152059"><span style="font-family: monospace">CPMLibGenerateKey</span></a>, or as imported through <a href="CryptoManager.html#1150894"><span style="font-family: monospace">CPMLibImportKeyInfo</span></a>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1149653"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; encoding</td><td valign="top"></span>Constant that specifies the type of encoding. One of <span style="font-family: monospace">IMPORT_EXPORT_RAW</span>, <span style="font-family: monospace">IMPORT_EXPORT_DER</span>, or <span style="font-family: monospace">IMPORT_EXPORT_XML</span>. See <a href="CryptoManager.html#1121665"><span style="font-family: monospace">Export Encoding Constants</span></a> for details about these formats.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1149657"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;-&gt; exportBuffer</span></td><td valign="top">Buffer into which the function copies the encoded data. The buffer must be allocated by the caller. Point this argument to NULL if you're using the function to retrieve the size of the encoded data. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1149658"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;-&gt; exportBufferLength</td><td valign="top"></span>You pass in the size of <span style="font-family: monospace">exportBuffer</span> in bytes. The function returns (through this argument) the size that's required to accommodate the encoded data.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1203608"> </a>Result 
</h4>
<p class="Body">
  <a name="1203609"> </a>The function returns <span style="font-family: monospace">errNone</span> upon success. For other error codes, see <a href="CryptoManager.html#1121306">CPM Error Codes</a>.
</p>
<h4 class="RefSide">
  <a name="1149659"> </a>Comments 
</h4>
<p class="Body">
  <a name="1149660"> </a>You call this function twice: Once to get the size of the required exportBuffer, and then again (after allocating the buffer) to get the encoded buffer. See <a href="CryptoManager.html#1197630">"Using the Export Functions"</a> for more information and a free sample.
</p>

<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1149919"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> CPMLibExportHashInfo
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1189155"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1189156"> </a>Encodes an <a href="CryptoManager.html#1210528"><span style="font-family: monospace">APHashInfoStruct</span></a> into a form that can be cached. To reconstitute an exported hash info, pass it to <a href="CryptoManager.html#1150368"><span style="font-family: monospace">CPMLibImportHashInfo</span></a>.
</p>
<h4 class="RefSide">
  <a name="1189160"> </a>Declared In 
</h4>
<p class="RefPrototype">
  <a name="1189161"> </a>CPMLib68KInterface.h, CPMLibArmInterface.h
</p>
<h4 class="RefSide">
  <a name="1189162"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1189163"> </a>Err CPMLibExportKeyInfo ( UInt16 libRef,<br>APHashInfoType *hashInfo, UInt8 encoding,<br>UInt8 *exportBuffer, UInt32 exportBufferLength )
</p>
<h4 class="RefSide">
  <a name="1189164"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1189165"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; libRef</span></td><td valign="top">CPM Library reference number (68k only).</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1189166"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; hashInfo</td><td valign="top"></span>Structure that you want to export.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1189173"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; encoding</td><td valign="top"></span>Constant that specifies the type of encoding. One of <span style="font-family: monospace">IMPORT_EXPORT_RAW</span>, <span style="font-family: monospace">IMPORT_EXPORT_DER</span>, or <span style="font-family: monospace">IMPORT_EXPORT_XML</span>. See <a href="CryptoManager.html#1121665"><span style="font-family: monospace">Export Encoding Constants</span></a> for details about these formats.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1189177"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;-&gt; exportBuffer</span></td><td valign="top">Buffer into which the function copies the encoded data. The buffer must be allocated by the caller. Point this argument to <span style="font-family: monospace">NULL</span> if you're using the function to retrieve the size of the encoded data (see below</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1189178"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;-&gt; exportBufferLength</td><td valign="top"></span>You pass in the size of <span style="font-family: monospace">exportBuffer</span> in bytes; the function returns (through this argument) the size that's required to accommodate the encoded data. </td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1204632"> </a>Result 
</h4>
<p class="Body">
  <a name="1204633"> </a>The function returns <span style="font-family: monospace">errNone</span> upon success. For other error codes, see <a href="CryptoManager.html#1121306">CPM Error Codes</a>.
</p>
<h4 class="RefSide">
  <a name="1189184"> </a>Comments 
</h4>
<p class="Body">
  <a name="1189185"> </a>You call this function twice: Once to get the size of the export buffer, and then again (after allocating the buffer) to retrieve the encoded data. See <a href="CryptoManager.html#1197630">"Using the Export Functions"</a> for more information and a free sample.
</p>

<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1148243"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> CPMLibExportKeyInfo
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1148244"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1148245"> </a>Encodes a <a href="CryptoManager.html#1210586"><span style="font-family: monospace">APKeyInfoStruct</span></a> into a form that can be cached. To reconstitute an exported key, pass it to <a href="CryptoManager.html#1150894"><span style="font-family: monospace">CPMLibImportKeyInfo</span></a>.
</p>
<h4 class="RefSide">
  <a name="1148249"> </a>Declared In 
</h4>
<p class="RefPrototype">
  <a name="1148250"> </a>CPMLib68KInterface.h, CPMLibArmInterface.h
</p>
<h4 class="RefSide">
  <a name="1148251"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1148252"> </a>Err CPMLibExportKeyInfo ( UInt16 libRef,<br>APKeyInfoType *keyInfo, UInt8 encoding,<br>UInt8 *exportBuffer, UInt32 exportBufferLength )
</p>
<h4 class="RefSide">
  <a name="1148253"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1148254"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; libRef</span></td><td valign="top">CPM Library reference number (68k only).</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1148255"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; keyInfo</td><td valign="top"></span>Structure that you want to export.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1148262"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; encoding</td><td valign="top"></span>Constant that specifies the type of encoding. One of <span style="font-family: monospace">IMPORT_EXPORT_RAW</span>, <span style="font-family: monospace">IMPORT_EXPORT_DER</span>, or <span style="font-family: monospace">IMPORT_EXPORT_XML</span>. See <a href="CryptoManager.html#1121665"><span style="font-family: monospace">Export Encoding Constants</span></a> for details about these formats.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1148266"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;-&gt; exportBuffer</span></td><td valign="top">Buffer into which the function copies the encoded data. The buffer must be allocated by the caller. Point this argument to <span style="font-family: monospace">NULL</span> if you're using the function to retrieve the size of the encoded data (see below</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1148267"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;-&gt; exportBufferLength</td><td valign="top"></span>You pass in the size of <span style="font-family: monospace">exportBuffer</span> in bytes; the function returns (through this argument) the size that's required to accommodate the encoded data. </td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1204896"> </a>Result 
</h4>
<p class="Body">
  <a name="1204897"> </a>The function returns <span style="font-family: monospace">errNone</span> upon success. For other error codes, see <a href="CryptoManager.html#1121306">CPM Error Codes</a>.
</p>
<h4 class="RefSide">
  <a name="1148273"> </a>Comments 
</h4>
<p class="Body">
  <a name="1148274"> </a>You call this function twice: Once to get the size of the export buffer, and then again (after allocating the buffer) to retrieve the encoded data. See <a href="CryptoManager.html#1197630">"Using the Export Functions"</a> for more information and a free sample.
</p>

<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1150474"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> CPMLibExportVerifyInfo
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1189957"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1189961"> </a>Encodes a <a href="CryptoManager.html#1214579"><span style="font-family: monospace">APVerifyInfoStruct</span></a> into a form that can be cached. To reconstitute an exported key, pass it to <a href="CryptoManager.html#1188961"><span style="font-family: monospace">CPMLibImportVerifyInfo</span></a>.
</p>
<h4 class="RefSide">
  <a name="1189965"> </a>Declared In 
</h4>
<p class="RefPrototype">
  <a name="1189966"> </a>CPMLib68KInterface.h, CPMLibArmInterface.h
</p>
<h4 class="RefSide">
  <a name="1189967"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1189968"> </a>Err CPMLibExportKeyInfo ( UInt16 libRef,<br>APVerifyInfoType *verifyInfo, UInt8 encoding,<br>UInt8 *exportBuffer, UInt32 exportBufferLength )
</p>
<h4 class="RefSide">
  <a name="1189969"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1189970"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; libRef</span></td><td valign="top">CPM Library reference number (68k only).</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1189971"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; keyInfo</td><td valign="top"></span>Structure that you want to export.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1189972"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; encoding</td><td valign="top"></span>Constant that specifies the type of encoding. One of <span style="font-family: monospace">IMPORT_EXPORT_RAW</span>, <span style="font-family: monospace">IMPORT_EXPORT_DER</span>, or <span style="font-family: monospace">IMPORT_EXPORT_XML</span>. See <a href="CryptoManager.html#1121665"><span style="font-family: monospace">Export Encoding Constants</span></a> for details about these formats.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1189976"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;-&gt; exportBuffer</span></td><td valign="top">Buffer into which the function copies the encoded data. The buffer must be allocated by the caller. Point this argument to <span style="font-family: monospace">NULL</span> if you're using the function to retrieve the size of the encoded data (see below</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1189977"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;-&gt; exportBufferLength</td><td valign="top"></span>You pass in the size of <span style="font-family: monospace">exportBuffer</span> in bytes; the function returns (through this argument) the size that's required to accommodate the encoded data. </td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1205022"> </a>Result 
</h4>
<p class="Body">
  <a name="1205023"> </a>The function returns <span style="font-family: monospace">errNone</span> upon success. For other error codes, see <a href="CryptoManager.html#1121306">CPM Error Codes</a>.
</p>
<h4 class="RefSide">
  <a name="1189983"> </a>Comments 
</h4>
<p class="Body">
  <a name="1189984"> </a>You call this function twice: Once to get the size of the export buffer, and then again (after allocating the buffer) to retrieve the encoded data. See <a href="CryptoManager.html#1197630">"Using the Export Functions"</a> for more information and a free sample.
</p>

<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1152059"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> CPMLibGenerateKey
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1152060"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1152061"> </a>Generates a new symmetric key.
</p>
<h4 class="RefSide">
  <a name="1152062"> </a>Declared In 
</h4>
<p class="RefPrototype">
  <a name="1152063"> </a>CPMLib68KInterface.h, CPMLibArmInterface.h
</p>
<h4 class="RefSide">
  <a name="1152064"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1152065"> </a>Err CPMLibGenerateKey ( UInt16 libRef,<br>UInt8 *seedData, UInt32 seedLength,<br>APKeyInfoType *keyInfo )
</p>
<h4 class="RefSide">
  <a name="1152066"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1152067"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; libRef</span></td><td valign="top">CPM Library reference number (68k only).</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1152068"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; seedData</span></td><td valign="top">Optional data that's used to seed the key generator. Because PalmOS 5 doesn't currently support key "derivation" (identical key generation based on identical seeds) the seed data is, in essence, a no-op, and can be a pointer to 0. However, you may want to supply (and cache) unique seed data today in anticipation of tomorrow's derivation functionality.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1152069"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; seedLength</span></td><td valign="top">Length of <span style="font-family: monospace">seedData</span>, in bytes. (Pass 0 if *<span style="font-family: monospace">seedData</span> is 0.)</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1152070"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;-&gt; keyInfo</span></td><td valign="top">A pointer to a <a href="CryptoManager.html#1210586"><span style="font-family: monospace">APKeyInfoStruct</span></a> that will contain the generated key. The <span style="font-family: monospace">keyInfo</span> structure is allocated and owned by the caller. You can specify the desired provider, key-generation scheme, and so on, by setting the <span style="font-family: monospace">APKeyInfoType</span> fields. Or, to retrieve a default key, zero the structure before you pass it in. </td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1205030"> </a>Result 
</h4>
<p class="Body">
  <a name="1205031"> </a>The function returns <span style="font-family: monospace">errNone</span> upon success. For other error codes, see <a href="CryptoManager.html#1121306">CPM Error Codes</a>.
</p>
<h4 class="RefSide">
  <a name="1152076"> </a>Comments 
</h4>
<p class="Body">
  <a name="1152078"> </a>The <a href="CryptoManager.html#1210586"><span style="font-family: monospace">APKeyInfoStruct</span></a> that's populated by this function can be used in subsequent encryption, decryption, and verification operations.
</p>
<p class="Body">
  <a name="1173053"> </a>When you're finished using the <a href="CryptoManager.html#1210586"><span style="font-family: monospace">APKeyInfoStruct</span></a>, you must release it through <a href="CryptoManager.html#1186447"><span style="font-family: monospace">CPMLibReleaseKeyInfo</span></a>.
</p>

<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1152080"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> CPMLibGetInfo
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1190656"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1190657"> </a>Retrieves information about the CPM library.
</p>
<h4 class="RefSide">
  <a name="1192873"> </a>Declared In 
</h4>
<p class="RefPrototype">
  <a name="1192874"> </a>CPMLib68KInterface.h, CPMLibArmInterface.h
</p>
<h4 class="RefSide">
  <a name="1190684"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1190686"> </a>Err CPMLibLibGetInfo ( UInt16 libRef,<br>CPMInfoType *info)
</p>
<h4 class="RefSide">
  <a name="1190687"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1192146"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; libRef</span></td><td valign="top">CPM Library reference number (68k only).</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1190689"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; info</span></td><td valign="top">Pointer to a <a href="CryptoManager.html#1081304"><span style="font-family: monospace">CPMInfoStruct</span></a> that returns the information about the library. See <a href="CryptoManager.html#1081304"><span style="font-family: monospace">CPMInfoStruct</span></a> for a description.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1205976"> </a>Result 
</h4>
<p class="Body">
  <a name="1205977"> </a>The function returns <span style="font-family: monospace">errNone</span> upon success. For other error codes, see <a href="CryptoManager.html#1121306">CPM Error Codes</a>.
</p>

<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1152082"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> CPMLibGetProviderInfo
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1192750"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1192519"> </a>Retrieves information about a specific provider.
</p>
<h4 class="RefSide">
  <a name="1193267"> </a>Declared In 
</h4>
<p class="RefPrototype">
  <a name="1193268"> </a>CPMLib68KInterface.h, CPMLibArmInterface.h
</p>
<h4 class="RefSide">
  <a name="1193300"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1193301"> </a>Err CPMLibGetProviderInfo ( UInt16 libRef,<br>UInt32 providerID,<br>APProviderInfoType *providerInfo)
</p>
<h4 class="RefSide">
  <a name="1193302"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1193362"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; libRef</span></td><td valign="top">CPM Library reference number (68k only).</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1192526"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; providerID</span></td><td valign="top">ID number that identifies the provider.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1192527"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- providerInfo</span></td><td valign="top">Structure into which the function places provider information. The structure is allocated and freed by the caller. The function doesn't clear inapplicable fields on the way out.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1206073"> </a>Result 
</h4>
<p class="Body">
  <a name="1206074"> </a>The function returns <span style="font-family: monospace">errNone</span> upon success. For other error codes, see <a href="CryptoManager.html#1121306">CPM Error Codes</a>.
</p>

<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1176454"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> CPMLibHash
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1176455"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1176456"> </a>Hashes a block of data.
</p>
<h4 class="RefSide">
  <a name="1176457"> </a>Declared In 
</h4>
<p class="RefPrototype">
  <a name="1176458"> </a>CPMLib68KInterface.h, CPMLibArmInterface.h
</p>
<h4 class="RefSide">
  <a name="1176460"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1176461"> </a>Err CPMLibHash ( UInt16 libRef, APHashEnum type,<br>APHashInfoType *hashInfo, UInt8 *inBuffer,<br>UInt32 inBufferLength, UInt8 *outBuffer,<br>UInt32 *outBufferLength )
</p>
<h4 class="RefSide">
  <a name="1176462"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1176584"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; libRef</span></td><td valign="top">CPM Library reference number (68k only).</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1176585"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; type</span></td><td valign="top">A constant that represents the hashing algorithm that will be used to create the message digest. See <a href="CryptoManager.html#1121708">Hashing Algorithm Constants</a> for a list of constants. If you want the default algorithm, use <span style="font-family: monospace">apHashTypeUnspecified</span>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1178095"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; hashInfo</td><td valign="top"></span>A pointer to an <a href="CryptoManager.html#1210528"><span style="font-family: monospace">APHashInfoStruct</span></a> that you can use to set the parameters of the hashing operation. If the CPM can't satisfy the requirements you specify in the structure, the operation will fail. If you want to use the default settings, pass in a zero'd structure. When the function returns, the structure will be filled with information describing the operation.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1176592"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; inBuffer</span></td><td valign="top">A pointer to the data that you want to hash. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1176603"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; inBufferLength</span></td><td valign="top">The length of <span style="font-family: monospace">inBuffer</span>, in bytes. If <span style="font-family: monospace">inBuffer</span> is <span style="font-family: monospace">NULL</span>, pass 0.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1176604"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- outBuffer</span></td><td valign="top">A pointer to the buffer where the hashed <span style="font-family: monospace">inBuffer</span> data will be copied. The buffer must be allocated by the caller, and must be big enough to accommodate all of the hashed data.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1176605"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;-&gt; outBufferLength</span></td><td valign="top">You pass in the (allocated) length of <span style="font-family: monospace">outBuffer</span>, in bytes. The function resets the argument to the amount of data that was actually copied into <span style="font-family: monospace">outBuffer. </span>If the function returns <span style="font-family: monospace">cpmErrBufTooSmall</span>, <span style="font-family: monospace">outBufferLength</span> is set to the minimum buffer size that's needed to accommodate the hashed data..</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1206125"> </a>Result 
</h4>
<p class="Body">
  <a name="1206126"> </a>The function returns <span style="font-family: monospace">errNone</span> upon success. For other error codes, see <a href="CryptoManager.html#1121306">CPM Error Codes</a>.
</p>
<h4 class="RefSide">
  <a name="1176463"> </a>Comments 
</h4>
<p class="Body">
  <a name="1178601"> </a>This function performs a block hash operation. For stream hashing, use <a href="CryptoManager.html#1152491"><span style="font-family: monospace">CPMLibHashInit</span></a>.
</p>

<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1152956"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> CPMLibHashFinal
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1152957"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1152958"> </a>Finalizes a hash session and returns the hashed data.
</p>
<h4 class="RefSide">
  <a name="1152959"> </a>Declared In 
</h4>
<p class="RefPrototype">
  <a name="1152960"> </a>CPMLib.h
</p>
<h4 class="RefSide">
  <a name="1179948"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1180026"> </a>Err CPMLibHashFinal ( UInt16 libRef,<br>APHashInfoType *hashInfo, UInt8 *inBuffer,<br>UInt32 inBufferLength, UInt8 *outBuffer,<br>UInt32 *outBufferLength )
</p>
<h4 class="RefSide">
  <a name="1179950"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1180244"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; libRef</span></td><td valign="top">CPM Library reference number (68k only).</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1180248"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; hashInfo</td><td valign="top"></span>A pointer to the <a href="CryptoManager.html#1210528"><span style="font-family: monospace">APHashInfoStruct</span></a> that was returned by <a href="CryptoManager.html#1152491"><span style="font-family: monospace">CPMLibHashInit</span></a>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1180548"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; inBuffer</span></td><td valign="top">A pointer to the data that you want to hash. If you already supplied all the data through previous <a href="CryptoManager.html#1152507"><span style="font-family: monospace">CPMLibHashUpdate</span></a> calls, pass <span style="font-family: monospace">NULL</span>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1180552"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; inBufferLength</span></td><td valign="top">The length of <span style="font-family: monospace">inBuffer</span>, in bytes. If <span style="font-family: monospace">inBuffer</span> is <span style="font-family: monospace">NULL</span>, pass 0.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1180553"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- outBuffer</span></td><td valign="top">A pointer to the buffer where all the data that has been hashed by this stream will be copied. The buffer must be allocated by the caller, and must be big enough to accommodate all of the hashed data.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1180554"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;-&gt; outBufferLength</span></td><td valign="top">You pass in the (allocated) length of <span style="font-family: monospace">outBuffer</span>, in bytes. The function resets the argument to the amount of data that was actually copied into <span style="font-family: monospace">outBuffer</span>. If the function returns <span style="font-family: monospace">cpmErrBufTooSmall</span>, <span style="font-family: monospace">outBufferLength</span> is set to the minimum buffer size that's needed to accommodate the hashed data.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1206133"> </a>Result 	
</h4>
<p class="Body">
  <a name="1206134"> </a>The function returns <span style="font-family: monospace">errNone</span> upon success. For other error codes, see <a href="CryptoManager.html#1121306">CPM Error Codes</a>.
</p>
<h4 class="RefSide">
  <a name="1152972"> </a>Comments 	
</h4>
<p class="Body">
  <a name="1152973"> </a>This function returns all the data that was hashed by the hash stream, and then closes the stream. It follows an initial call to <a href="CryptoManager.html#1152491"><span style="font-family: monospace">CPMLibHashInit</span></a> and some number of calls to <a href="CryptoManager.html#1152507"><span style="font-family: monospace">CPMLibHashUpdate</span></a>. 
</p>

<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1152491"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> CPMLibHashInit
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1152492"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1230142"> </a>Initiates a streaming hash operation.
</p>
<h4 class="RefSide">
  <a name="1178791"> </a>Declared In 
</h4>
<p class="RefPrototype">
  <a name="1178792"> </a>CPMLib68KInterface.h, CPMLibArmInterface.h
</p>
<h4 class="RefSide">
  <a name="1178793"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1178794"> </a>Err CPMLibHash ( UInt16 libRef,<br>APHashInfoType *hashInfo )
</p>
<h4 class="RefSide">
  <a name="1178795"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1178796"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; libRef</span></td><td valign="top">CPM Library reference number (68k only).</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1178804"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; hashInfo</td><td valign="top"></span>A pointer to an <a href="CryptoManager.html#1210528"><span style="font-family: monospace">APHashInfoStruct</span></a> that you can use to set the parameters of the hash operation. If the CPM can't satisfy the requirements you specify in the structure, the operation will fail. If you want to use the default settings, pass in a zero'd structure. When the function returns, the structure will be filled with information describing the operation.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1206141"> </a>Result 
</h4>
<p class="Body">
  <a name="1206142"> </a>The function returns <span style="font-family: monospace">errNone</span> upon success. For other error codes, see <a href="CryptoManager.html#1121306">CPM Error Codes</a>.
</p>
<h4 class="RefSide">
  <a name="1152503"> </a>Comments 	
</h4>
<p class="Body">
  <a name="1179070"> </a>This function initializes a streaming hash operation. To feed data to the stream, you call <a href="CryptoManager.html#1152507"><span style="font-family: monospace">CPMLibHashUpdate</span></a> followed by <a href="CryptoManager.html#1152956"><span style="font-family: monospace">CPMLibHashFinal</span></a>. The "update" function is optional; the "final" function is mandatory. For a block hash, see <a href="CryptoManager.html#1176454"><span style="font-family: monospace">CPMLibHash</span></a>. 
</p>

<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1152507"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> CPMLibHashUpdate
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1152508"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1230370"> </a>Sends data to streaming hash operation.
</p>
<h4 class="RefSide">
  <a name="1179252"> </a>Declared In 
</h4>
<p class="RefPrototype">
  <a name="1179253"> </a>CPMLib68KInterface.h, CPMLibArmInterface.h
</p>
<h4 class="RefSide">
  <a name="1179254"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1179255"> </a>Err CPMLibHashUpdate ( UInt16 libRef,<br>APHashInfoType *hashInfo, UInt8 *inBuffer,<br>UInt32 inBufferLength)
</p>
<h4 class="RefSide">
  <a name="1179256"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1179257"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; libRef</span></td><td valign="top">CPM Library reference number (68k only).</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1179265"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; hashInfo</td><td valign="top"></span>A pointer to the <a href="CryptoManager.html#1210528"><span style="font-family: monospace">APHashInfoStruct</span></a> that was returned by <a href="CryptoManager.html#1152491"><span style="font-family: monospace">CPMLibHashInit</span></a>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1179266"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; inBuffer</span></td><td valign="top">A pointer to the data that you want to hash. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1179267"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; inBufferLength</span></td><td valign="top">The length of <span style="font-family: monospace">inBuffer</span>, in bytes.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1206238"> </a>Result 
</h4>
<p class="Body">
  <a name="1206239"> </a>The function returns <span style="font-family: monospace">errNone</span> upon success. For other error codes, see <a href="CryptoManager.html#1121306">CPM Error Codes</a>.
</p>
<h4 class="RefSide">
  <a name="1179660"> </a>Comments 
</h4>
<p class="Body">
  <a name="1179725"> </a>This function feeds data into the streaming hash session that was started by <a href="CryptoManager.html#1152491"><span style="font-family: monospace">CPMLibHashInit</span></a>. You can make any number of <span style="font-family: monospace">CPMLibHashUpdate</span> calls while the hash stream is open. When you've finished feeding data into the stream, you call <a href="CryptoManager.html#1152956"><span style="font-family: monospace">CPMLibHashFinal</span></a>. 
</p>
<p class="Body">
  <a name="1179765"> </a>Note that this function doesn't return any hashed data. All the data that's hashed by the stream is returned through the <a href="CryptoManager.html#1152956"><span style="font-family: monospace">CPMLibHashFinal</span></a> call.
</p>

<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1150366"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> CPMLibImportCipherInfo
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1188226"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1188227"> </a>Imports a previously-exported cipher info structure so that it can be used in subsequent operations.
</p>
<h4 class="RefSide">
  <a name="1188228"> </a>Declared In 
</h4>
<p class="RefPrototype">
  <a name="1188229"> </a>CPMLib68KInterface.h, CPMLibArmInterface.h
</p>
<h4 class="RefSide">
  <a name="1188230"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1188231"> </a>Err CPMLibImportCipherInfo ( UInt16 libRef,<br>UInt8 encoding, UInt8 *importData,<br>UInt32 importDataLength,<br>APCipherInfoType *cipherInfo )
</p>
<h4 class="RefSide">
  <a name="1188232"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1188233"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; libRef</span></td><td valign="top">CPM Library reference number (68k only).</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1188234"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; encoding</td><td valign="top"></span>Constant that specifies the encoding type that was used to export the key. One of <span style="font-family: monospace">IMPORT_EXPORT_RAW</span>, <span style="font-family: monospace">IMPORT_EXPORT_DER</span>, or <span style="font-family: monospace">IMPORT_EXPORT_XML</span>. See <a href="CryptoManager.html#1121665"><span style="font-family: monospace">Export Encoding Constants</span></a> for details about these formats.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1188238"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; importData</span></td><td valign="top">The encoded data.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1188239"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; importDataLength</span></td><td valign="top">The length of <span style="font-family: monospace">importData</span>, in bytes.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1188243"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- cipherInfo</span></td><td valign="top"><a href="CryptoManager.html#1212602"><span style="font-family: monospace">APCipherInfoStruct</span></a> that returns the imported key. The structure must be allocated before it's passed in.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1206334"> </a>Result 
</h4>
<p class="Body">
  <a name="1206335"> </a>The function returns <span style="font-family: monospace">errNone</span> upon success. For other error codes, see <a href="CryptoManager.html#1121306">CPM Error Codes</a>.
</p>

<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1150368"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> CPMLibImportHashInfo
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1187947"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1187948"> </a>Imports a previously-exported hash info structure so that it can be used in subsequent operations.
</p>
<h4 class="RefSide">
  <a name="1187949"> </a>Declared In 
</h4>
<p class="RefPrototype">
  <a name="1187950"> </a>CPMLib68KInterface.h, CPMLibArmInterface.h
</p>
<h4 class="RefSide">
  <a name="1187951"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1227411"> </a>Err CPMLibImportHashInfo ( UInt16 libRef,<br>UInt8 encoding, UInt8 *importData,<br>UInt32 importDataLength, APHashInfoType *keyInfo )
</p>
<h4 class="RefSide">
  <a name="1187953"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1187954"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; libRef</span></td><td valign="top">CPM Library reference number (68k only).</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1187955"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; encoding</td><td valign="top"></span>Constant that specifies the encoding type that was used to export the key. One of <span style="font-family: monospace">IMPORT_EXPORT_RAW</span>, <span style="font-family: monospace">IMPORT_EXPORT_DER</span>, or <span style="font-family: monospace">IMPORT_EXPORT_XML</span>. See <a href="CryptoManager.html#1121665"><span style="font-family: monospace">Export Encoding Constants</span></a> for details about these formats.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1187959"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; importData</span></td><td valign="top">The encoded data.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1187960"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; importDataLength</span></td><td valign="top">The length of <span style="font-family: monospace">importData</span>, in bytes.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1187964"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- hashInfo</span></td><td valign="top"><a href="CryptoManager.html#1210528"><span style="font-family: monospace">APHashInfoStruct</span></a> that returns the imported hash info. The structure must be allocated before it's passed in.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1206419"> </a>Result 
</h4>
<p class="Body">
  <a name="1206420"> </a>The function returns <span style="font-family: monospace">errNone</span> upon success. For other error codes, see <a href="CryptoManager.html#1121306">CPM Error Codes</a>.
</p>

<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1150894"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> CPMLibImportKeyInfo
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1150895"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1150896"> </a>Imports a previously-exported key so that it (the key) can be used in subsequent operations.
</p>
<h4 class="RefSide">
  <a name="1150897"> </a>Declared In 
</h4>
<p class="RefPrototype">
  <a name="1150898"> </a>CPMLib68KInterface.h, CPMLibArmInterface.h
</p>
<h4 class="RefSide">
  <a name="1150899"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1150900"> </a>Err CPMLibImportKeyInfo ( UInt16 libRef,<br>UInt8 encoding, UInt8 *importData,<br>UInt32 importDataLength, APKeyInfoType *keyInfo )
</p>
<h4 class="RefSide">
  <a name="1187696"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1187749"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; libRef</span></td><td valign="top">CPM Library reference number (68k only).</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1187793"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; encoding</td><td valign="top"></span>Constant that specifies the encoding type that was used to export the key. One of <span style="font-family: monospace">IMPORT_EXPORT_RAW</span>, <span style="font-family: monospace">IMPORT_EXPORT_DER</span>, or <span style="font-family: monospace">IMPORT_EXPORT_XML</span>. See <a href="CryptoManager.html#1121665"><span style="font-family: monospace">Export Encoding Constants</span></a> for details about these formats.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1150905"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; importData</span></td><td valign="top">The encoded data.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1150906"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; importDataLength</span></td><td valign="top">The length of <span style="font-family: monospace">importData</span>, in bytes.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1150908"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- keyInfo</span></td><td valign="top"><a href="CryptoManager.html#1210586"><span style="font-family: monospace">APKeyInfoStruct</span></a> that returns the imported key. The structure must be allocated before it's passed in.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1206495"> </a>Result 
</h4>
<p class="Body">
  <a name="1206496"> </a>The function returns <span style="font-family: monospace">errNone</span> upon success. For other error codes, see <a href="CryptoManager.html#1121306">CPM Error Codes</a>.
</p>

<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1188961"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> CPMLibImportVerifyInfo
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1188962"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1188963"> </a>Imports a previously-exported verify info structure so that it can be used in subsequent operations.
</p>
<h4 class="RefSide">
  <a name="1188964"> </a>Declared In 
</h4>
<p class="RefPrototype">
  <a name="1188965"> </a>CPMLib68KInterface.h, CPMLibArmInterface.h
</p>
<h4 class="RefSide">
  <a name="1188966"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1188967"> </a>Err CPMLibImportVerifyInfo ( UInt16 libRef,<br>UInt8 encoding, UInt8 *importData,<br>UInt32 importDataLength,<br>APVerifyInfoType *keyInfo )
</p>
<h4 class="RefSide">
  <a name="1188968"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1188969"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; libRef</span></td><td valign="top">CPM Library reference number (68k only).</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1188970"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; encoding</td><td valign="top"></span>Constant that specifies the encoding type that was used to export the key. One of <span style="font-family: monospace">IMPORT_EXPORT_RAW</span>, <span style="font-family: monospace">IMPORT_EXPORT_DER</span>, or <span style="font-family: monospace">IMPORT_EXPORT_XML</span>. See <a href="CryptoManager.html#1121665"><span style="font-family: monospace">Export Encoding Constants</span></a> for details about these formats.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1188974"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; importData</span></td><td valign="top">The encoded data.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1188975"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; importDataLength</span></td><td valign="top">The length of <span style="font-family: monospace">importData</span>, in bytes.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1188979"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- verifyInfo</span></td><td valign="top"><a href="CryptoManager.html#1214579"><span style="font-family: monospace">APVerifyInfoStruct</span></a> that returns the imported verify info. The structure must be allocated before it's passed in.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1206559"> </a>Result 
</h4>
<p class="Body">
  <a name="1206560"> </a>The function returns <span style="font-family: monospace">errNone</span> upon success. For other error codes, see <a href="CryptoManager.html#1121306">CPM Error Codes</a>.
</p>

<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1187446"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> CPMLibReleaseCipherInfo
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1187447"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1187451"> </a>Releases a <a href="CryptoManager.html#1212602"><span style="font-family: monospace">APCipherInfoStruct</span></a>, allowing you to free it.
</p>
<h4 class="RefSide">
  <a name="1187452"> </a>Declared In 
</h4>
<p class="RefPrototype">
  <a name="1187453"> </a>CPMLib68KInterface.h, CPMLibArmInterface.h
</p>
<h4 class="RefSide">
  <a name="1187454"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1187455"> </a>Err CPMLibReleaseCipherInfo ( UInt16 libRef,<br>APCipherInfoType *cipherInfo )
</p>
<h4 class="RefSide">
  <a name="1187456"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1187457"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; libRef</span></td><td valign="top">CPM Library reference number (68k only).</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1187461"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; cipherInfo</td><td valign="top"></span>A pointer to a <a href="CryptoManager.html#1212602"><span style="font-family: monospace">APCipherInfoStruct</span></a> that you want to release.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1206624"> </a>Result 
</h4>
<p class="Body">
  <a name="1206625"> </a>The function returns <span style="font-family: monospace">errNone</span> upon success. For other error codes, see <a href="CryptoManager.html#1121306">CPM Error Codes</a>.
</p>

<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1186563"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> CPMLibReleaseHashInfo
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1186564"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1186568"> </a>Releases a <a href="CryptoManager.html#1210586"><span style="font-family: monospace">APKeyInfoStruct</span></a>, allowing you to free it.
</p>
<h4 class="RefSide">
  <a name="1186569"> </a>Declared In 
</h4>
<p class="RefPrototype">
  <a name="1186570"> </a>CPMLib68KInterface.h, CPMLibArmInterface.h
</p>
<h4 class="RefSide">
  <a name="1186571"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1186572"> </a>Err CPMLibReleaseHashInfo ( UInt16 libRef,<br>APHashInfoType *hashInfo )
</p>
<h4 class="RefSide">
  <a name="1186573"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1186574"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; libRef</span></td><td valign="top">CPM Library reference number (68k only).</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1186578"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; hashInfo</td><td valign="top"></span>A pointer to a <a href="CryptoManager.html#1210528"><span style="font-family: monospace">APHashInfoStruct</span></a> that you want to release.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1206664"> </a>Result 
</h4>
<p class="Body">
  <a name="1206665"> </a>The function returns <span style="font-family: monospace">errNone</span> upon success. For other error codes, see <a href="CryptoManager.html#1121306">CPM Error Codes</a>.
</p>

<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1186447"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> CPMLibReleaseKeyInfo
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1186448"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1186452"> </a>Releases a <a href="CryptoManager.html#1210586"><span style="font-family: monospace">APKeyInfoStruct</span></a>, allowing you to free it.
</p>
<h4 class="RefSide">
  <a name="1186453"> </a>Declared In 
</h4>
<p class="RefPrototype">
  <a name="1186454"> </a>CPMLib68KInterface.h, CPMLibArmInterface.h
</p>
<h4 class="RefSide">
  <a name="1186455"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1186456"> </a>Err CPMLibReleaseKeyInfo ( UInt16 libRef,<br>APKeyInfoType *keyInfo )
</p>
<h4 class="RefSide">
  <a name="1186457"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1186458"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; libRef</span></td><td valign="top">CPM Library reference number (68k only).</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1186462"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; keyInfo</td><td valign="top"></span>A pointer to the <a href="CryptoManager.html#1210586"><span style="font-family: monospace">APKeyInfoStruct</span></a> that you want to release.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1206684"> </a>Result 
</h4>
<p class="Body">
  <a name="1206685"> </a>The function returns <span style="font-family: monospace">errNone</span> upon success. For other error codes, see <a href="CryptoManager.html#1121306">CPM Error Codes</a>.
</p>

<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1145648"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> CPMLibReleaseVerifyInfo
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1186021"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1186029"> </a>Releases a <a href="CryptoManager.html#1214579"><span style="font-family: monospace">APVerifyInfoStruct</span></a>, allowing you to free it.
</p>
<h4 class="RefSide">
  <a name="1186055"> </a>Declared In 
</h4>
<p class="RefPrototype">
  <a name="1186075"> </a>CPMLib68KInterface.h, CPMLibArmInterface.h
</p>
<h4 class="RefSide">
  <a name="1186088"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1186093"> </a>Err CPMLibReleaseVerifyInfo ( UInt16 libRef,<br>APVerifyInfoType *verifyInfo )
</p>
<h4 class="RefSide">
  <a name="1186062"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1186004"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; libRef</span></td><td valign="top">CPM Library reference number (68k only).</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1185970"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; verifyInfo</td><td valign="top"></span>A pointer to a <a href="CryptoManager.html#1214579"><span style="font-family: monospace">APVerifyInfoStruct</span></a> that you want to release.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1206700"> </a>Result 
</h4>
<p class="Body">
  <a name="1206701"> </a>The function returns <span style="font-family: monospace">errNone</span> upon success. For other error codes, see <a href="CryptoManager.html#1121306">CPM Error Codes</a>.
</p>

<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1183916"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> 	CPMLibVerify
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1182536"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1182537"> </a>Verifies a message.
</p>
<h4 class="RefSide">
  <a name="1182538"> </a>Declared In 
</h4>
<p class="RefPrototype">
  <a name="1182539"> </a>CPMLib68KInterface.h, CPMLibArmInterface.h
</p>
<h4 class="RefSide">
  <a name="1182540"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1182846"> </a>Err CPMLibVerify ( UInt16 libRef,<br>APKeyInfoType *keyInfo,<br>APVerifyInfoType *verifyInfo, UInt8 *inBuffer,<br>UInt32 inBufferLength, UInt8 *outBuffer,<br>UInt32 *outBufferLength, UInt8 *signature,<br>UInt32 signatureLength,<br>VerifyResultType *verifyResult )
</p>
<h4 class="RefSide">
  <a name="1182848"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1182543"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; libRef</span></td><td valign="top">CPM Library reference number (68k only).</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182544"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; keyInfo</span></td><td valign="top">An <a href="CryptoManager.html#1210586"><span style="font-family: monospace">APKeyInfoStruct</span></a> that represents the certificate's encryption key. Extracting the key data from the certificate and constructing the <a href="CryptoManager.html#1210586"><span style="font-family: monospace">APKeyInfoStruct</span></a> (through <a href="CryptoManager.html#1150894"><span style="font-family: monospace">CPMLibImportKeyInfo</span></a>) is the caller's responsibility.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183681"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; verifyInfo</td><td valign="top"></span>A pointer to an <a href="CryptoManager.html#1214579"><span style="font-family: monospace">APVerifyInfoStruct</span></a> that specifies the hash and cipher operations that should be performed during verification. This information is embedded as <a href="CryptoManager.html#1210528"><span style="font-family: monospace">APHashInfoStruct</span></a> and <a href="CryptoManager.html#1212602"><span style="font-family: monospace">APCipherInfoStruct</span></a> structures. If you want to use the default operations, allocate and zero the embedded structures. When the function returns, the structures will be populated with information describing the operations that were used.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182552"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; inBuffer</span></td><td valign="top">A pointer to the message data.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182553"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; inBufferLength</span></td><td valign="top">The length of <span style="font-family: monospace">inBuffer</span>, in bytes.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182554"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- outBuffer</span></td><td valign="top">A pointer to the buffer where the decrypted signature will be copied. The buffer must be allocated by the caller, and must be big enough to accommodate all of the decrypted data. If you don't care about the signature, pass <span style="font-family: monospace">NULL</span>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182555"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;-&gt; outBufferLength</span></td><td valign="top">If <span style="font-family: monospace">outBuffer</span> is <span style="font-family: monospace">NULL</span>, set this to 0. Otherwise, you pass in the (allocated) length of <span style="font-family: monospace">outBuffer</span>, in bytes. The function resets the argument to the amount of data that was actually copied into <span style="font-family: monospace">outBuffer. </span>If the function returns <span style="font-family: monospace">cpmErrBufTooSmall</span>, <span style="font-family: monospace">outBufferLength</span> is set to the minimum buffer size that's needed to accommodate the verified data.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1184981"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; signature</span></td><td valign="top">A pointer to the message's signature. Extracting the signature from the message is the caller's responsibility</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1185011"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; signatureLength</span></td><td valign="top">The length of the signature, in bytes.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1184359"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- verifyResult</td><td valign="top"></span>An integer point that returns, by reference, the result of the verification. 0 means the message was verified; non-zero means is wasn't. The meaning of a non-zero return is defined by the algorithm provider.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1206816"> </a>Result 
</h4>
<p class="Body">
  <a name="1206817"> </a>The function returns <span style="font-family: monospace">errNone</span> upon success. For other error codes, see <a href="CryptoManager.html#1121306">CPM Error Codes</a>.
</p>
<h4 class="RefSide">
  <a name="1206753"> </a>Comments 
</h4>
<p class="Body">
  <a name="1182559"> </a>This function performs a block verifcation operation. For stream verification, use <a href="CryptoManager.html#1182598"><span style="font-family: monospace">CPMLibVerifyInit</span></a>.
</p>
<p class="Body">
  <a name="1184700"> </a>Keep in mind that a direct return of <span style="font-family: monospace">errNone</span> doesn't mean that the message has been verified. The verification status is returned by reference in <span style="font-family: monospace">verifyResult</span>.
</p>

<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1182564"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> CPMLibVerifyFinal
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1182565"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1182566"> </a>Finalizes a verify session.
</p>
<h4 class="RefSide">
  <a name="1182567"> </a>Declared In 
</h4>
<p class="RefPrototype">
  <a name="1182568"> </a>CPMLib.h
</p>
<h4 class="RefSide">
  <a name="1182569"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1182570"> </a>Err CPMLibVerifyFinal ( UInt16 libRef,<br>APKeyInfoType *keyInfo,<br>APVerifyInfoType *verifyInfo, UInt8 *inBuffer,<br>UInt32 inBufferLength, UInt8 *outBuffer,<br>UInt32 *outBufferLength, UInt8 *signature,<br>UInt32 signatureLength,<br>VerifyResultType *verifyResult )
</p>
<h4 class="RefSide">
  <a name="1182571"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1182572"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; libRef</span></td><td valign="top">CPM Library reference number (68k only).</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182576"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; verifyInfo</td><td valign="top"></span>A pointer to the <a href="CryptoManager.html#1214579"><span style="font-family: monospace">APVerifyInfoStruct</span></a> that was returned by <a href="CryptoManager.html#1182598"><span style="font-family: monospace">CPMLibVerifyInit</span></a>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1185240"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; inBuffer</span></td><td valign="top">A pointer to the final buffer of message data, or <span style="font-family: monospace">NULL</span> if there's no more data..</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1185241"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; inBufferLength</span></td><td valign="top">The length of <span style="font-family: monospace">inBuffer</span>, in bytes.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1185242"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- outBuffer</span></td><td valign="top">A pointer to the buffer where the decrypted signature will be copied. The buffer must be allocated by the caller, and must be big enough to accommodate all of the decrypted data. If you don't care about the signature, pass <span style="font-family: monospace">NULL</span>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1185243"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;-&gt; outBufferLength</span></td><td valign="top">If <span style="font-family: monospace">outBuffer</span> is <span style="font-family: monospace">NULL</span>, set this to 0. Otherwise, you pass in the (allocated) length of <span style="font-family: monospace">outBuffer</span>, in bytes. The function resets the argument to the amount of data that was actually copied into <span style="font-family: monospace">outBuffer. </span>If the function returns <span style="font-family: monospace">cpmErrBufTooSmall</span>, <span style="font-family: monospace">outBufferLength</span> is set to the minimum buffer size that's needed to accommodate the verified data.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1185244"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; signature</span></td><td valign="top">A pointer to the message's signature. Extracting the signature from the message is the caller's responsibility</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1185245"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; signatureLength</span></td><td valign="top">The length of the signature, in bytes.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1185246"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- verifyResult</td><td valign="top"></span>An integer point that returns, by reference, the result of the verification. 0 means the message was verified; non-zero means is wasn't. The meaning of a non-zero return is defined by the algorithm provider.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1206832"> </a>Result 
</h4>
<p class="Body">
  <a name="1206833"> </a>The function returns <span style="font-family: monospace">errNone</span> upon success. For other error codes, see <a href="CryptoManager.html#1121306">CPM Error Codes</a>.
</p>
<h4 class="RefSide">
  <a name="1182589"> </a>Comments 	
</h4>
<p class="Body">
  <a name="1182590"> </a>This function feeds a final (optional) buffer of message into a verify stream that was previously initialized by <a href="CryptoManager.html#1182598"><span style="font-family: monospace">CPMLibVerifyInit</span></a> and augmented through successive calls to <a href="CryptoManager.html#1182625"><span style="font-family: monospace">CPMLibVerifyUpdate</span></a>. The entire message is then verified, the results of the verification are returned in <span style="font-family: monospace">verifyResult</span>, and the stream is closed.
</p>

<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1182598"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> CPMLibVerifyInit
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1182599"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1182600"> </a>Initiates a streaming verify operation.
</p>
<h4 class="RefSide">
  <a name="1182601"> </a>Declared In 
</h4>
<p class="RefPrototype">
  <a name="1182602"> </a>CPMLib68KInterface.h, CPMLibArmInterface.h
</p>
<h4 class="RefSide">
  <a name="1182603"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1184851"> </a>Err CPMLibVerify ( UInt16 libRef,<br>APKeyInfoType *keyInfo,<br>APVerifyInfoType *verifyInfo )
</p>
<h4 class="RefSide">
  <a name="1184852"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1184853"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; libRef</span></td><td valign="top">CPM Library reference number (68k only).</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1184857"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; keyInfo</span></td><td valign="top">An <a href="CryptoManager.html#1210586"><span style="font-family: monospace">APKeyInfoStruct</span></a> that represents the certificate's encryption key. Extracting the key data from the certificate and constructing the <a href="CryptoManager.html#1210586"><span style="font-family: monospace">APKeyInfoStruct</span></a> (through <a href="CryptoManager.html#1150894"><span style="font-family: monospace">CPMLibImportKeyInfo</span></a>) is the caller's responsibility.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1184867"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; verifyInfo</td><td valign="top"></span>A pointer to an <a href="CryptoManager.html#1214579"><span style="font-family: monospace">APVerifyInfoStruct</span></a> that specifies the hash and cipher operations that should be performed during verification. This information is embedded as <a href="CryptoManager.html#1210528"><span style="font-family: monospace">APHashInfoStruct</span></a> and <a href="CryptoManager.html#1212602"><span style="font-family: monospace">APCipherInfoStruct</span></a> structures. If you want to use the default operations, allocate and zero the embedded structures. When the function returns, the structures will be populated with information describing the operations that were used.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1206840"> </a>Result 
</h4>
<p class="Body">
  <a name="1206841"> </a>The function returns <span style="font-family: monospace">errNone</span> upon success. For other error codes, see <a href="CryptoManager.html#1121306">CPM Error Codes</a>.
</p>
<h4 class="RefSide">
  <a name="1182613"> </a>Comments 	
</h4>
<p class="Body">
  <a name="1182614"> </a>This function initializes a streaming hash operation. To feed data to the stream, you call <a href="CryptoManager.html#1182625"><span style="font-family: monospace">CPMLibVerifyUpdate</span></a> followed by <a href="CryptoManager.html#1182564"><span style="font-family: monospace">CPMLibVerifyFinal</span></a>. The "update" function is optional; the "final" function is mandatory. For a block hash, see <a href="CryptoManager.html#1183916"><span style="font-family: monospace">CPMLibVerify</span></a>. 
</p>

<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1182625"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> CPMLibVerifyUpdate
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1182626"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1182627"> </a>Sends message data to a streaming verify operation.
</p>
<h4 class="RefSide">
  <a name="1182628"> </a>Declared In 
</h4>
<p class="RefPrototype">
  <a name="1182629"> </a>CPMLib68KInterface.h, CPMLibArmInterface.h
</p>
<h4 class="RefSide">
  <a name="1182630"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1185065"> </a>Err CPMLibVerifyUpdate ( UInt16 libRef,<br>APKeyInfoType *keyInfo,<br>APVerifyInfoType *verifyInfo )<br>UInt8 *inBuffer, UInt32 inBufferLength)
</p>
<h4 class="RefSide">
  <a name="1182632"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1182633"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; libRef</span></td><td valign="top">CPM Library reference number (68k only).</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1185081"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; keyInfo</span></td><td valign="top">The <a href="CryptoManager.html#1210586"><span style="font-family: monospace">APKeyInfoStruct</span></a> that was used in the <a href="CryptoManager.html#1182598"><span style="font-family: monospace">CPMLibVerifyInit</span></a> call.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1185229"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; verifyInfo</td><td valign="top"></span>A pointer to the <a href="CryptoManager.html#1214579"><span style="font-family: monospace">APVerifyInfoStruct</span></a> that was returned by <a href="CryptoManager.html#1182598"><span style="font-family: monospace">CPMLibVerifyInit</span></a>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182641"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; inBuffer</span></td><td valign="top">A pointer to the message data. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182642"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; inBufferLength</span></td><td valign="top">The length of <span style="font-family: monospace">inBuffer</span>, in bytes.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1206848"> </a>Result 
</h4>
<p class="Body">
  <a name="1206849"> </a>The function returns <span style="font-family: monospace">errNone</span> upon success. For other error codes, see <a href="CryptoManager.html#1121306">CPM Error Codes</a>.
</p>
<h4 class="RefSide">
  <a name="1182645"> </a>Comments 
</h4>
<p class="Body">
  <a name="1182646"> </a>This function feeds message data into the verify stream that was intialized by <a href="CryptoManager.html#1182598"><span style="font-family: monospace">CPMLibVerifyInit</span></a>. When you're finished feeding data into the stream, call <a href="CryptoManager.html#1182564"><span style="font-family: monospace">CPMLibVerifyFinal</span></a> to close the stream and return the verification results.
</p>

<h2 class="HaHeadA">
  <a name="1121306"> </a>CPM Error Codes 
<a href="#1023063"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1163280"> </a>The table below lists and explains the error codes that are returned by the CPM functions.
</p>

<h5 class="TgTable">
  <a name="1163288"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="1163319"> </a><div class="CellBody"><span style="font-family: monospace">cpmErrAlreadyOpen</span></div></td>
    <td><a name="1163321"> </a><div class="CellBody">Returned by CPMLibOpen() to indicate that the CPM library has already been opened by your application. The open library remains open.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1163323"> </a><div class="CellBody"><span style="font-family: monospace">cpmErrNotOpen</span></div></td>
    <td><a name="1163325"> </a><div class="CellBody">All CPM functions (except CPMLibOpen()) expect the CPM library to be open. This code is returned if the library isn't open. To open the library, call CPMLibOpen().</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1163327"> </a><div class="CellBody"><span style="font-family: monospace">cpmErrStillOpen</span></div></td>
    <td><a name="1163329"> </a><div class="CellBody">Returned by CPMLibClose() if the function was unable to close the library. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1163331"> </a><div class="CellBody"><span style="font-family: monospace">cpmErrNoProviders</span></div></td>
    <td><a name="1163333"> </a><div class="CellBody">Returned by CPMLibOpen() if the function was uable to locate (or load) any crytography providers. Without a cryptography provider, none of the other CPM functions will work.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1163335"> </a><div class="CellBody"><span style="font-family: monospace">cpmErrNoBaseProvider</span></div></td>
    <td><a name="1163337"> </a><div class="CellBody">Returned by CPMLibOpen() if the function was uable to locate (or load) the default cryptography provider. (Note that this means that at least one non-default provider was found. If no providers were found, the function would have returned cpmErrNoProviders).</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1163339"> </a><div class="CellBody"><span style="font-family: monospace">cpmErrProviderNotFound</span></div></td>
    <td><a name="1163341"> </a><div class="CellBody">Returned by CPMLibGenerateKey(), CPMLibEncryt(), CPMLibDecrypt() and other algorithm-dependent functions if the requested provider couldn't be found.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1163343"> </a><div class="CellBody"><span style="font-family: monospace">cpmErrParamErr</span></div></td>
    <td><a name="1163345"> </a><div class="CellBody">Returned by a number of CPM functions when an argument is invalid (a pointer that points to an unallocated structure; a structure field that isn't properly set, and so on).</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1163347"> </a><div class="CellBody"><span style="font-family: monospace">cpmErrOutOfMemory</span></div></td>
    <td><a name="1163349"> </a><div class="CellBody">Returned by CPMLibOpen() if the memory for a new library handle (and the structures it represents) couldn't be allocated</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1163351"> </a><div class="CellBody"><span style="font-family: monospace">cpmErrBufTooSmall</span></div></td>
    <td><a name="1163353"> </a><div class="CellBody">Returned by CPMLibExportKey() and CPMLibExportContext() functions if the storage buffer (allocated by the caller) isn't big enough to accommodate the key or context.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1163355"> </a><div class="CellBody"><span style="font-family: monospace">cpmErrBadData</span></div></td>
    <td><a name="1163357"> </a><div class="CellBody">Returned by algorithm functions (CPMLibEncrypt...(), CPMLibDecrypt...(), etc.) when the key or other required data is invalid.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1163359"> </a><div class="CellBody"><span style="font-family: monospace">cpmErrUnimplemented</span></div></td>
    <td><a name="1163361"> </a><div class="CellBody">Returned by functions that aren't curently implemented.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1163363"> </a><div class="CellBody"><span style="font-family: monospace">cpmErrUnsupported</span></div></td>
    <td><a name="1163365"> </a><div class="CellBody">Returned by functions that aren't currently supported.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1163367"> </a><div class="CellBody"><span style="font-family: monospace">cpmErrNoGlobals</span></div></td>
    <td><a name="1163369"> </a><div class="CellBody">Returned by functions that access global CPM data-functions such as CPMLibEnumerateProviders() and CPMLibGetProviderInfo()-when that data doesn't exist.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1163371"> </a><div class="CellBody"><span style="font-family: monospace">cpmErrKeyExists</span></div></td>
    <td><a name="1163373"> </a><div class="CellBody">Returned by CPMLibImportKey() when the key you're trying to import already exists.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1163375"> </a><div class="CellBody"><span style="font-family: monospace">cpmErrKeyNotFound</span></div></td>
    <td><a name="1163377"> </a><div class="CellBody">Returned by CPMLibExportKey() when the key you're trying to export doesn't exists.</div></td>
  </tr>
</table>




</h5>
&nbsp;<br>
				<!-- CONTENT_END -->

		</td>
		<td width="5">&nbsp;&nbsp;</td>
	</tr>
      </table>
    </td>
			</tr>
  <tr>
				<td>
					<table border="0" cellpadding="0" cellspacing="0" width="760">
        <!-- CONTENTCELL_END -->
        <tr valign="top"> 
          <td width="10">&nbsp;<!-- FOOTER_START --></td>
          <td width="72">&nbsp;</td>
          <td width="25" bgcolor="white" background="images/bkgrnd.gif">&nbsp;</td>
          <td width="600"> 
            <table border="0" cellpadding="0" cellspacing="0" width="600">
              <tr> 
                <td><img src="images/rule_10-1-5_ltblue.gif" width="600" height="16" border="0"></td>
              </tr>
              <tr> 
                <td> 
                  <p align="center" class="footer"> ©2002 PalmSource, Inc. and its affiliates.  All rights reserved. 
<a href="http://www.palmos.com/dev/training/">Training</a>&nbsp;|&nbsp;<a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a>&nbsp;|&nbsp;<a href="http://www.palmos.com/">Palm&nbsp;OS&nbsp;Platform</a>&nbsp;|&nbsp;<a href="Reference_Front.html" target="_blank">Legal Notices</a>&nbsp;<br>
												<!-- FOOTER_END --><br>
											</p>
                </td>
              </tr>
            </table>
          </td>
        </tr>
      </table>
				</td>
			</tr>
</table>
</BODY>
</HTML>