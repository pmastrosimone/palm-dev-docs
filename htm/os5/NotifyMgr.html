<HTML>

<HEAD>
<SMALLSCREENIGNORE> 
<LINK HREF="copy_of_palmos.css" REL="stylesheet" TYPE="text/css">
<LINK HREF="document.css" REL="StyleSheet" TYPE="text/css" media="screen">
<!-- SCRIPT_START -->
<!-- SCRIPT_END -->
</SMALLSCREENIGNORE>
<TITLE>Notification Manager</TITLE>

<META NAME="PALMTEMPLATE" CONTENT="1006-002 Palm HTML 20020513">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks Publisher Professional Edition 6.0.7">
<META NAME="TEMPLATEBASE" CONTENT="Palm HTML 20010625">
<META NAME="LASTUPDATED" CONTENT="12/13/02 10:10:18">
<META HTTP-EQUIV="content-type" CONTENT="text/html;charset=ISO-8859-1">

</HEAD>

<BODY LEFTMARGIN="0" MARGINWIDTH="0" TOPMARGIN="0" MARGINHEIGHT="0">
<SMALLSCREENIGNORE> 
<table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr>
	<td><a name="1139897"></a>
      <table border="0" cellpadding="0" cellspacing="0" width="100%">
        <tr height="35"> 
          <td height="35" colspan="2" bgcolor="#6699CC">&nbsp;</td>
        </tr>
        <tr valign="top"> 
          <td width="160" align="left"><a href="http://www.palmos.com"><img src="images/bigorb.gif" width="160" height="110" border="0"></a></td>
          <td align="left" width="100%"> 
            </SMALLSCREENIGNORE>
            <!-- CONTENTCELL_START -->
            <img border="0" height="45" src="images/orb_bkgrnd_600.gif" width="600"><br>
            <!--PAGENAV_START-->
            <SPAN CLASS="subnav">&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/index.html">Home</a> 
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/">Developers</a> 
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/support/">Development Support</a>
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/support/docs/">Documentation</a></span><BR>
             <img src="images/pixel_ltblue.gif" width="600" height="1" border="0" vspace="2"><br>
             <h2 class="HeadDocPage">39  Notification Manager</h2>
             <img src="images/pixel_ltblue.gif" width="600" height="1" border="0" vspace="2"><br>
             &nbsp;<span class="subnav"><a href="ReferenceTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="MemoryManager.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="OverlayMgr.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ReferenceIX.html">Index</a></span>  
            <!--PAGENAV_END-->
          </td>
        </tr>
      </table>
    </td>
			</tr>
  <tr>
				<td> 
      <table width="100%" border="0" cellspacing="0" cellpadding="0">
        <tr>
							<td>&nbsp;&nbsp;&nbsp;</td>
						</tr>
        <tr>
		<td valign="top" width="10">&nbsp;&nbsp;&nbsp;</td>
		<td valign="top" width="175">
			<p class="SideTitle">Title - <br><a href="Reference_Front.html">Palm OS® Programmer's API Reference</a></p>
			<p class="SideTOC1-PartTab">Palm OS® 5 SDK </p>
			<p class="SideTOC1-PartTab">Part II: System Management</a> </p>
			<p class="SideTOC1"><a href="NotifyMgr.html">39  Notification Manager</a></p>
			
<p class="SideTOC2">
<a href="#1139926">Notification Constants
</a></p>

<p class="SideTOC3">
<a href="#1139927">Miscellaneous Constants
</a></p>

<p class="SideTOC2">
<a href="#1139977">Notification Functions
</a></p>

<p class="SideTOC3">
<a href="#1139980">SysNotifyBroadcast
</a></p>

<p class="SideTOC3">
<a href="#1140018">SysNotifyBroadcastDeferred
</a></p>

<p class="SideTOC3">
<a href="#1140054">SysNotifyBroadcastFromInterrupt
</a></p>

<p class="SideTOC3">
<a href="#1140099">SysNotifyRegister
</a></p>

<p class="SideTOC3">
<a href="#1140173">SysNotifyUnregister
</a></p>

<p class="SideTOC2">
<a href="#1140204">Application-Defined Functions
</a></p>

<p class="SideTOC3">
<a href="#1140208">SysNotifyProcPtr
</a></p>

		</td>

		<td width="5">&nbsp;&nbsp;</td>
		<td width="1" bgcolor="#6699cc">&nbsp;</td>
		<td width="5">&nbsp;&nbsp;</td>
		<td> 

				<!-- CONTENT_START -->

<p class="Body">
  <a name="1139898"> </a>This chapter describes the Notification Manager API as declared in the header file <span style="font-family: monospace">NotifyMgr.h</span>. It discusses the following topics:
</p>

  <a name="1139903"> </a><p class="B1Bullet"> &#8226; <a href="NotifyMgr.html#1139926">Notification Constants</a></p>

  <a name="1139907"> </a><p class="B1Bullet"> &#8226; <a href="NotifyMgr.html#1139977">Notification Functions</a></p>

  <a name="1139911"> </a><p class="B1Bullet"> &#8226; <a href="NotifyMgr.html#1140204">Application-Defined Functions</a></p>
<p class="Body">
  <a name="1139915"> </a>The chapter <a href="Notifications.html#979497">"Notifications"</a> in this book lists the possible notifications and describes the data sent with each. Also see the section <a href="AppStartupAndStop.html#972127">"Notifications"</a> in the <a href="AppStartupAndStop.html#971704">"Application Startup and Stop"</a> chapter of the <i>Palm OS Programmer's Companion</i>, vol. I for a description of how to use notifications. 
</p>

<h2 class="HaHeadA">
  <a name="1139926"> </a>Notification Constants 
<a href="#1139897"><img src="images/top.gif" border="0"></a></h2>


<h2 class="HBHeadB">
  <a name="1139927"> </a>Miscellaneous Constants
<a href="#1139897"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1139928"> </a>This following miscellaneous constants are used in the Notification Manager. For other notification constants, see the <a href="Notifications.html#979497">"Notifications"</a> chapter in this book. 
</p>

<h5 class="TgTable">
  <a name="1139975"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="1139934"> </a><div class="CellHeading">Constant</div></th>
    <th><a name="1139936"> </a><div class="CellHeading">Value</div></th>
    <th><a name="1139938"> </a><div class="CellHeading">Description</div></th>
  </tr>
  <tr valign="top">
    <td><a name="1139941"> </a><div class="CellBody"><span style="font-family: monospace">sysNotifyBroadcasterCode</span> </div></td>
    <td><a name="1139943"> </a><div class="CellBody"><span style="font-family: monospace">'psys'</span></div></td>
    <td><a name="1139945"> </a><div class="CellBody">The value passed as the creator ID of the broadcaster for notifications broadcast by the system. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1139948"> </a><div class="CellBody"><span style="font-family: monospace">sysNotifyDefaultQueueSize</span> </div></td>
    <td><a name="1139950"> </a><div class="CellBody">30</div></td>
    <td><a name="1139952"> </a><div class="CellBody">The maximum number of nested broadcasts allowed.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1139955"> </a><div class="CellBody"><span style="font-family: monospace">sysNotifyNoDatabaseID</span> </div></td>
    <td><a name="1139957"> </a><div class="CellBody">0xFFFFFFFF</div></td>
    <td><a name="1139959"> </a><div class="CellBody">The database local ID used by the system when it registers for notifications. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1139962"> </a><div class="CellBody"><span style="font-family: monospace">sysNotifyNormalPriority</span> </div></td>
    <td><a name="1139964"> </a><div class="CellBody">0</div></td>
    <td><a name="1139966"> </a><div class="CellBody">Typical priority value used when registering for notifications. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1139969"> </a><div class="CellBody"><span style="font-family: monospace">sysNotifyVersionNum</span> </div></td>
    <td><a name="1139971"> </a><div class="CellBody">1</div></td>
    <td><a name="1139973"> </a><div class="CellBody">Current Notification Manager version. This number is stored in the system feature <span style="font-family: monospace">sysFtrNumNotifyMgrVersion</span>. </div></td>
  </tr>
</table>




</h5>
<h2 class="HaHeadA">
  <a name="1139977"> </a>Notification Functions 
<a href="#1139897"><img src="images/top.gif" border="0"></a></h2>


<h2 class="HBHeadB">
  <a name="1139980"> </a>SysNotifyBroadcast
<a href="#1139897"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1139981"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1139982"> </a>Synchronously send a notification to all applications registered for it. 
</p>
<h4 class="RefSide">
  <a name="1139983"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1139984"> </a>NotifyMgr.h
</p>
<h4 class="RefSide">
  <a name="1139985"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1139986"> </a>Err SysNotifyBroadcast<br>(SysNotifyParamType *notify)
</p>
<h4 class="RefSide">
  <a name="1139987"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1139988"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;-&gt; <span style="font-family: monospace">notify</span></td><td valign="top">Identifies the notification to be broadcast. See <a href="Notifications.html#979746"><span style="font-family: monospace">SysNotifyParamType</span></a>. </td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1139992"> </a>Result 
</h4>
<p class="Body">
  <a name="1139993"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1139994"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span></td><td valign="top">No error.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1139996"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">sysNotifyErrBroadcastBusy</span></td><td valign="top">The broadcast stack limit has already been reached. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1139997"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">sysErrParamErr</span></td><td valign="top">The background thread is broadcasting the notification and the <span style="font-family: monospace">notify</span> parameter is <span style="font-family: monospace">NULL</span>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1139999"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">sysNotifyErrNoStackSpace</span></td><td valign="top">There is not enough space on the stack for the notification.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1140000"> </a>Comments 
</h4>
<p class="Body">
  <a name="1140001"> </a>When you call this function, the notification you specify is broadcast to all applications, shared libraries, and other code resources that have registered to receive that notification. The broadcast is performed synchronously, meaning that the system broadcasts the notification immediately and waits for each notification client to perform its notification handler and return before the <span style="font-family: monospace">SysNotifyBroadcast</span> call returns. This notification occurs in priority order.
</p>
<p class="Body">
  <a name="1140002"> </a>The system allows nested notifications; that is, the recipient of a notification might broadcast a new notification, whose recipient might broadcast another new notification and so on. The constant <span style="font-family: monospace">sysNotifyDefaultQueueSize</span> specifies how many levels of nested notification are allowed. If you reach this limit, the error <span style="font-family: monospace">sysNotifyErrBroadcastBusy</span> is returned and your notification is not broadcast. To avoid reaching the limit, use <a href="NotifyMgr.html#1140018"><span style="font-family: monospace">SysNotifyBroadcastDeferred</span></a> instead of <a href="NotifyMgr.html#1139980"><span style="font-family: monospace">SysNotifyBroadcast</span></a> in your notification handlers. This ensures that the notification will not be broadcast until the top of the event loop. 
</p>
<div class="NWNoteWarning"><hr>
  <a name="1140010"> </a> <span style="color: #FF0000;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">WARNING!  </span> Do not call <span style="font-family: monospace">SysNotifyBroadcast</span> from code that might be called from a background task (such as a trap patch) with the memory semaphore reserved. Use <span style="font-family: monospace">SysNotifyBroadcastDeferred</span> instead. 
<hr>
</div>
<h4 class="RefSide">
  <a name="1140011"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1140015"> </a>Implemented only if <a href="CompatibilityApdx.html#971727">Notification Feature Set</a> is present. 
</p>

<h2 class="HBHeadB">
  <a name="1140018"> </a>SysNotifyBroadcastDeferred
<a href="#1139897"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1140019"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1140020"> </a>Enqueue a notification for later broadcast.
</p>
<h4 class="RefSide">
  <a name="1140021"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1140022"> </a>NotifyMgr.h
</p>
<h4 class="RefSide">
  <a name="1140023"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1140024"> </a>Err SysNotifyBroadcastDeferred<br>(SysNotifyParamType *notify, Int16 paramSize)
</p>
<h4 class="RefSide">
  <a name="1140025"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1140026"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;-&gt; <span style="font-family: monospace">notify</span></td><td valign="top">The notification to enqueue. See <a href="Notifications.html#979746"><span style="font-family: monospace">SysNotifyParamType</span></a>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1140030"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">paramSize</span></td><td valign="top">Size of the data pointed to by the field <span style="font-family: monospace">notify-&gt;notifyDetailsP</span>. </td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1140031"> </a>Result 
</h4>
<p class="Body">
  <a name="1140032"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1140033"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span></td><td valign="top">No error.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1140034"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">memErrNotEnoughSpace</td><td valign="top"></span>There is not enough memory to allocate a new notification entry in the queue. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1140035"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">sysErrParamErr</span></td><td valign="top"><span style="font-family: monospace">paramSize</span> is a negative number. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1140037"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">sysNotifyErrQueueFull</span></td><td valign="top">The queue has reached its maximum number of entries. </td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1140038"> </a>Comments 
</h4>
<p class="Body">
  <a name="1140042"> </a>This function is similar to <a href="NotifyMgr.html#1139980"><span style="font-family: monospace">SysNotifyBroadcast</span></a> except that the broadcast does not take place until the top of the event loop (specifically, the next time <a href="SystemEventManager.html#1161014"><span style="font-family: monospace">EvtGetEvent</span></a> is called). The system copies the <span style="font-family: monospace">notify</span> structure to a new memory chunk, which is disposed of upon completion of the broadcast. (The <span style="font-family: monospace">paramSize</span> value is used when copying the <span style="font-family: monospace">notifyDetailsP</span> portion of the <span style="font-family: monospace">notify</span> structure.) 
</p>
<h4 class="RefSide">
  <a name="1140047"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1140051"> </a>Implemented only if <a href="CompatibilityApdx.html#971727">Notification Feature Set</a> is present. 
</p>

<h2 class="HBHeadB">
  <a name="1140054"> </a>SysNotifyBroadcastFromInterrupt
<a href="#1139897"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1140055"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1140056"> </a>Allows interrupt handlers to enqueue a notification for later broadcast.
</p>
<h4 class="RefSide">
  <a name="1140057"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1140058"> </a>NotifyMgr.h
</p>
<h4 class="RefSide">
  <a name="1140059"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1140060"> </a>Err SysNotifyBroadcastFromInterrupt<br>(UInt32 notifyType, UInt32 broadcaster,<br>void *notifyDetailsP)
</p>
<h4 class="RefSide">
  <a name="1140061"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1140062"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">notifyType</span></td><td valign="top">The type of event that occurred. See the chapter <a href="Notifications.html#979497">Notifications</a> for a complete list of the notifications that Palm OS<sup>®</sup> broadcasts.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1140066"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">broadcaster</span></td><td valign="top">The creator ID of the device or application that broadcast the notification. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1140067"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">notifyDetailsP</span></td><td valign="top">Pointer to data specific to this notification. See the <a href="Notifications.html#979497">Notifications</a> chapter for the specific instances where this parameter is used.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1140071"> </a>Result 
</h4>
<p class="Body">
  <a name="1140072"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1140073"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span></td><td valign="top">No error.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1140075"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">sysNotifyErrQueueFull</span></td><td valign="top">The queue has reached its maximum number of entries. </td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1140076"> </a>Comments 
</h4>
<p class="Body">
  <a name="1140080"> </a>Like <a href="NotifyMgr.html#1140018"><span style="font-family: monospace">SysNotifyBroadcastDeferred</span></a>, this function enqueues a notification to be broadcast at the top of the event loop (specifically, the next time <a href="SystemEventManager.html#1161014"><span style="font-family: monospace">EvtGetEvent</span></a> is called). It differs from <span style="font-family: monospace">SysNotifyBroadcastDeferred</span> in that it is interrupt-safe and intended to be called from interrupt handlers. 
</p>
<p class="Body">
  <a name="1140085"> </a>This function is intended to be used by device drivers and other low-level software to generate a notification about a hardware change. For example, the Expansion Manager uses <span style="font-family: monospace">SysNotifyBroadcastFromInterrupt</span> to broadcast <a href="Notifications.html#979884"><span style="font-family: monospace">sysNotifyCardInsertedEvent</span></a> and <a href="Notifications.html#979904"><span style="font-family: monospace">sysNotifyCardRemovedEvent</span></a> when a card is inserted into or removed from the expansion slot. <span style="font-family: monospace">SysNotifyBroadcastFromInterrupt</span> is not intended to be used by general third party applications. Patching <span style="font-family: monospace">SysNotifyBroadcastFromInterrupt</span> will cause the system to hang. 
</p>
<h4 class="RefSide">
  <a name="1140092"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1140096"> </a>Implemented only if <a href="CompatibilityApdx.html#971763">4.0 New Feature Set</a> is present. 
</p>

<h2 class="HBHeadB">
  <a name="1140099"> </a>SysNotifyRegister
<a href="#1139897"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1140100"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1140101"> </a>Register to receive a notification. 
</p>
<h4 class="RefSide">
  <a name="1140102"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1140103"> </a>NotifyMgr.h
</p>
<h4 class="RefSide">
  <a name="1140104"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1140105"> </a>Err SysNotifyRegister (UInt16 cardNo,<br>LocalID dbID, UInt32 notifyType,<br>SysNotifyProcPtr callbackP, Int8 priority,<br>void *userDataP)
</p>
<h4 class="RefSide">
  <a name="1140106"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1140107"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">cardNo</span></td><td valign="top">Number of the storage card on which the application or code resource resides.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1140108"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbID</span></td><td valign="top">Local ID of the application or code resource.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1140109"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">notifyType</span></td><td valign="top">The notification that the application wants to receive. See the chapter <a href="Notifications.html#979497">Notifications</a>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1140113"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">callbackP</span></td><td valign="top">Set to <span style="font-family: monospace">NULL</span> to receive the notification as an application launch code. If your code does not have a <a href="SystemManager.html#1166472"><span style="font-family: monospace">PilotMain</span></a> function (for example, if it is a shared library), pass a pointer to a function that should be called when the notification is broadcast. See <a href="NotifyMgr.html#1140208"><span style="font-family: monospace">SysNotifyProcPtr</span></a>. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1140121"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">priority</span></td><td valign="top">The priority with which the application should receive the event. Most applications and other code resources should always use <span style="font-family: monospace">sysNotifyNormalPriority</span>. In rare circumstances, you may need to ensure that your code is notified toward the beginning or toward the end of the notification sequence. If so, be sure to leave some space so that your code won't collide with the system's handling of notifications or with another application's handling of notifications. In general, Palm<sup>&#8482;</sup> recommends using a value whose least significant bits are 0 (such as 32, 64, 96, and so on). The smaller the priority, the earlier your code is notified. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1140123"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">userDataP</span></td><td valign="top">Caller-defined data to pass to the notification handler. </td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1140124"> </a>Result 
</h4>
<p class="Body">
  <a name="1140125"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1140126"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span></td><td valign="top">No error.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1140127"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">sysErrParamErr</span></td><td valign="top">The database ID is <span style="font-family: monospace">NULL</span>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1140129"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">sysNotifyErrDuplicateEntry</td><td valign="top"></span>This application is already registered to receive this notification. </td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1140130"> </a>Comments 
</h4>
<p class="Body">
  <a name="1140131"> </a>Call this function when your code should receive a notification that a specific event has occurred or is about to occur. See the <a href="Notifications.html#979497">Notifications</a> chapter for a list of the possible notifications. Once you register for a notification, you remain registered to receive it until a system reset occurs or until you explicitly unregister using <a href="NotifyMgr.html#1140173"><span style="font-family: monospace">SysNotifyUnregister</span></a>.
</p>
<p class="Body">
  <a name="1140138"> </a>If you're writing an application, you should pass <span style="font-family: monospace">NULL</span> as the <span style="font-family: monospace">callbackP</span> parameter. In this case, the system notifies your application by sending it the <a href="AppLaunchCodes.html#970919"><span style="font-family: monospace">sysAppLaunchCmdNotify</span></a> launch code. This launch code's parameter block points to a <a href="Notifications.html#979746"><span style="font-family: monospace">SysNotifyParamType</span></a> structure containing details about the notification. 
</p>
<p class="Body">
  <a name="1140147"> </a>If your code is not in an application, for example, it is a shared library or a separately loaded code resource, then receiving a launch code is not possible. In this case, pass a pointer to a callback function in <span style="font-family: monospace">callbackP</span>. This callback should follow the prototype shown in <a href="NotifyMgr.html#1140208"><span style="font-family: monospace">SysNotifyProcPtr</span></a>. Note that you should always supply a card number and database ID to <span style="font-family: monospace">SysNotifyRegister</span>, even if you specify a callback function. 
</p>
<div class="NINoteImportant"><hr>
  <a name="1140152"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">IMPORTANT:  </span> Because the <span style="font-family: monospace">callbackP</span> pointer is used to directly call the function, the pointer must remain valid from the time <span style="font-family: monospace">SysNotifyRegister</span> is called to the time the notification is broadcast. If the function is in a shared library, you must keep the library open. If the function is in a separately loaded code resource, the resource must remain locked while registered for the notification. When you close a library or unlock a resource, you must first unregister for any notifications. If you don't, the system will crash when the notification is broadcast. 
<hr>
</div>
<p class="Body">
  <a name="1140153"> </a>Whether the notification handler is responding to <span style="font-family: monospace">sysAppLaunchCmdNotify</span> or uses the callback function, the notification handler may perform any processing necessary. As with most launch codes, it's not possible to access global variables. If the handler needs access to any particular value to respond to the notification, pass a pointer to that value in the <span style="font-family: monospace">userDataP</span> parameter. The system passes this pointer back to your application or callback function in the launch code's parameter block. 
</p>
<p class="Body">
  <a name="1140154"> </a>The notification handler may unregister for this notification or register for other notifications. It may also broadcast another notifications; however, it's recommended that you use <a href="NotifyMgr.html#1140018"><span style="font-family: monospace">SysNotifyBroadcastDeferred</span></a> to do this so as not to overflow the broadcast stack. 
</p>
<p class="Body">
  <a name="1140158"> </a>You may display a user interface in your notification handler; however, you should be careful when you do so. Many of the notifications are broadcast during <a href="SystemManager.html#1166025"><span style="font-family: monospace">SysHandleEvent</span></a>, which means your application event loop might not have progressed to the point where it is possible for you to display a user interface, or you might overflow the stack by displaying a user interface at this stage. See the <a href="Notifications.html#979497">"Notifications"</a> chapter to learn which notifications are broadcast during <span style="font-family: monospace">SysHandleEvent</span>. 
</p>
<h4 class="RefSide">
  <a name="1140166"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1140170"> </a>Implemented only if <a href="CompatibilityApdx.html#971727">Notification Feature Set</a> is present. 
</p>

<h2 class="HBHeadB">
  <a name="1140173"> </a>SysNotifyUnregister
<a href="#1139897"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1140174"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1140175"> </a>Cancel notification of the given event.
</p>
<h4 class="RefSide">
  <a name="1140176"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1140177"> </a>NotifyMgr.h
</p>
<h4 class="RefSide">
  <a name="1140178"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1140179"> </a>Err SysNotifyUnregister(UInt16 cardNo,<br>LocalID dbID, UInt32 notifyType, Int8 priority)
</p>
<h4 class="RefSide">
  <a name="1140180"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1140181"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">cardNo</span></td><td valign="top">Number of the storage card on which the application or code resource resides.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1140182"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbID</span></td><td valign="top">Local ID of the application or code resource.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1140183"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">notifyType</span></td><td valign="top">The notification for which to unregister. See <a href="Notifications.html#979497">Notifications</a>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1140187"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">priority</span></td><td valign="top">The priority value you passed as part of <a href="NotifyMgr.html#1140099"><span style="font-family: monospace">SysNotifyRegister</span></a>.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1140191"> </a>Result 
</h4>
<p class="Body">
  <a name="1140192"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1140193"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span></td><td valign="top">No error.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1140195"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">sysNotifyErrEntryNotFound</span></td><td valign="top">The application wasn't registered to receive this notification.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1140196"> </a>Comments 
</h4>
<p class="Body">
  <a name="1140197"> </a>Use this function to remove your code from the list of those that receive notifications about a particular event. This function is particularly necessary if you are writing a shared library or a separately loaded code resource that receives notifications. When the resource is unloaded, it must unregister for all of its notifications, or the system will crash when the notification is broadcast. 
</p>
<h4 class="RefSide">
  <a name="1140198"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1140202"> </a>Implemented only if <a href="CompatibilityApdx.html#971727">Notification Feature Set</a> is present. 
</p>

<h2 class="HaHeadA">
  <a name="1140204"> </a>Application-Defined Functions 
<a href="#1139897"><img src="images/top.gif" border="0"></a></h2>


<h2 class="HBHeadB">
  <a name="1140208"> </a>SysNotifyProcPtr
<a href="#1139897"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1140209"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1140210"> </a>Handle a notification.
</p>
<h4 class="RefSide">
  <a name="1140211"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1140212"> </a>NotifyMgr.h
</p>
<h4 class="RefSide">
  <a name="1140213"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1140214"> </a>Err (*SysNotifyProcPtr)<br>(SysNotifyParamType *notifyParamsP)
</p>
<h4 class="RefSide">
  <a name="1140215"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1140216"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">notifyParamsP</span></td><td valign="top">Pointer to a structure that contains the notification event that occurred and any other information about it. See <a href="Notifications.html#979746"><span style="font-family: monospace">SysNotifyParamType</span></a>.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1140220"> </a>Result 
</h4>
<p class="Body">
  <a name="1140221"> </a>Always return 0. 
</p>
<h4 class="RefSide">
  <a name="1140222"> </a>Comments 
</h4>
<p class="Body">
  <a name="1140226"> </a>You pass this function as a parameter to <a href="NotifyMgr.html#1140099"><span style="font-family: monospace">SysNotifyRegister</span></a> when registering code that does not have a <a href="SystemManager.html#1166472"><span style="font-family: monospace">PilotMain</span></a> for a notification. See the description of <a href="NotifyMgr.html#1140099"><span style="font-family: monospace">SysNotifyRegister</span></a> for advice on writing a notification handler. 
</p>
<div class="NINoteImportant"><hr>
  <a name="1140233"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">IMPORTANT:  </span> Because the <span style="font-family: monospace">callbackP</span> pointer is used to directly call the function, the pointer must remain valid from the time <span style="font-family: monospace">SysNotifyRegister</span> is called to the time the notification is broadcast. If the function is in a shared library, you must keep the library open. If the function is in a separately loaded code resource, the resource must remain locked while registered for the notification. When you close a library or unlock a resource, you must first unregister for any notifications. If you don't, the system will crash when the notification is broadcast. 
<hr>
</div>
&nbsp;<br>
				<!-- CONTENT_END -->

		</td>
		<td width="5">&nbsp;&nbsp;</td>
	</tr>
      </table>
    </td>
			</tr>
  <tr>
				<td>
					<table border="0" cellpadding="0" cellspacing="0" width="760">
        <!-- CONTENTCELL_END -->
        <tr valign="top"> 
          <td width="10">&nbsp;<!-- FOOTER_START --></td>
          <td width="72">&nbsp;</td>
          <td width="25" bgcolor="white" background="images/bkgrnd.gif">&nbsp;</td>
          <td width="600"> 
            <table border="0" cellpadding="0" cellspacing="0" width="600">
              <tr> 
                <td><img src="images/rule_10-1-5_ltblue.gif" width="600" height="16" border="0"></td>
              </tr>
              <tr> 
                <td> 
                  <p align="center" class="footer"> ©2002 PalmSource, Inc. and its affiliates.  All rights reserved. 
<a href="http://www.palmos.com/dev/training/">Training</a>&nbsp;|&nbsp;<a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a>&nbsp;|&nbsp;<a href="http://www.palmos.com/">Palm&nbsp;OS&nbsp;Platform</a>&nbsp;|&nbsp;<a href="Reference_Front.html" target="_blank">Legal Notices</a>&nbsp;<br>
												<!-- FOOTER_END --><br>
											</p>
                </td>
              </tr>
            </table>
          </td>
        </tr>
      </table>
				</td>
			</tr>
</table>
</BODY>
</HTML>