<HTML>

<HEAD>
<SMALLSCREENIGNORE> 
<LINK HREF="copy_of_palmos.css" REL="stylesheet" TYPE="text/css">
<LINK HREF="document.css" REL="StyleSheet" TYPE="text/css" media="screen">
<!-- SCRIPT_START -->
<!-- SCRIPT_END -->
</SMALLSCREENIGNORE>
<TITLE>Files and Databases</TITLE>

<META NAME="PALMTEMPLATE" CONTENT="1006-002 Palm HTML 20020513">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks Publisher Professional Edition 6.0.7">
<META NAME="TEMPLATEBASE" CONTENT="Palm HTML 20010625">
<META NAME="LASTUPDATED" CONTENT="12/13/02 10:05:44">
<META HTTP-EQUIV="content-type" CONTENT="text/html;charset=ISO-8859-1">

</HEAD>

<BODY LEFTMARGIN="0" MARGINWIDTH="0" TOPMARGIN="0" MARGINHEIGHT="0">
<SMALLSCREENIGNORE> 
<table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr>
	<td><a name="998419"></a>
      <table border="0" cellpadding="0" cellspacing="0" width="100%">
        <tr height="35"> 
          <td height="35" colspan="2" bgcolor="#6699CC">&nbsp;</td>
        </tr>
        <tr valign="top"> 
          <td width="160" align="left"><a href="http://www.palmos.com"><img src="images/bigorb.gif" width="160" height="110" border="0"></a></td>
          <td align="left" width="100%"> 
            </SMALLSCREENIGNORE>
            <!-- CONTENTCELL_START -->
            <img border="0" height="45" src="images/orb_bkgrnd_600.gif" width="600"><br>
            <!--PAGENAV_START-->
            <SPAN CLASS="subnav">&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/index.html">Home</a> 
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/">Developers</a> 
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/support/">Development Support</a>
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/support/docs/">Documentation</a></span><BR>
             <img src="images/pixel_ltblue.gif" width="600" height="1" border="0" vspace="2"><br>
             <h2 class="HeadDocPage">6  Files and Databases</h2>
             <img src="images/pixel_ltblue.gif" width="600" height="1" border="0" vspace="2"><br>
             &nbsp;<span class="subnav"><a href="CompanionTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="Memory.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ExpAndVFSConcepts.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="CompanionIX.html">Index</a></span>  
            <!--PAGENAV_END-->
          </td>
        </tr>
      </table>
    </td>
			</tr>
  <tr>
				<td> 
      <table width="100%" border="0" cellspacing="0" cellpadding="0">
        <tr>
							<td>&nbsp;&nbsp;&nbsp;</td>
						</tr>
        <tr>
		<td valign="top" width="10">&nbsp;&nbsp;&nbsp;</td>
		<td valign="top" width="175">
			<p class="SideTitle">Title - <br><a href="Companion_Front.html">Palm OS® Programmer's Companion</a></p>
			<p class="SideTOC1-PartTab">Volume I </p>
			<p class="SideTOC1"><a href="FilesAndDatabases.html">6  Files and Databases</a></p>
			
<p class="SideTOC2">
<a href="#998438">The Data Manager
</a></p>

<p class="SideTOC3">
<a href="#998458">Records and Databases
</a></p>

<p class="SideTOC3">
<a href="#998472">Structure of a Database Header
</a></p>

<p class="SideTOC3">
<a href="#998539">Using the Data Manager
</a></p>

<p class="SideTOC3">
<a href="#998668">Data Manager Tips
</a></p>

<p class="SideTOC2">
<a href="#998701">The Resource Manager
</a></p>

<p class="SideTOC3">
<a href="#998723">Structure of a Resource Database Header
</a></p>

<p class="SideTOC3">
<a href="#998735">Using the Resource Manager
</a></p>

<p class="SideTOC2">
<a href="#998826">File Streaming Application Program Interface
</a></p>

<p class="SideTOC3">
<a href="#998830">Using the File Streaming API
</a></p>

<p class="SideTOC2">
<a href="#998872">Summary of Files and Databases
</a></p>

		</td>

		<td width="5">&nbsp;&nbsp;</td>
		<td width="1" bgcolor="#6699cc">&nbsp;</td>
		<td width="5">&nbsp;&nbsp;</td>
		<td> 

				<!-- CONTENT_START -->

<p class="Body">
  <a name="998420"> </a>This chapter describes how to work with databases using Palm OS<sup>®</sup> managers. 
</p>

  <a name="998424"> </a><p class="B1Bullet"> &#8226; <a href="FilesAndDatabases.html#998438">The Data Manager</a> manages user data, which is stored in databases for convenient access.</p>

  <a name="998428"> </a><p class="B1Bullet"> &#8226; <a href="FilesAndDatabases.html#998701">The Resource Manager</a> can be used by applications to conveniently retrieve and save chunks of data. It's similar to the Data Manager, but has the added capability of tagging each chunk with a unique resource type and ID. These tagged data chunks, called resources, are stored in resource databases. Resources are typically used to store the application's user interface elements, such as images, fonts, or dialog layouts. </p>

  <a name="998432"> </a><p class="B1Bullet"> &#8226; <a href="FilesAndDatabases.html#998826">File Streaming Application Program Interface</a> can be used by applications to handle large blocks of data. </p>
<div class="NINoteImportant"><hr>
  <a name="998433"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">IMPORTANT:  </span> To access data or resources on secondary storage (such as expansion cards), you use a different set of APIs. See <a href="ExpAndVFSConcepts.html#1000865">Chapter 7, "Expansion,"</a> for more information. 
<hr>
</div>

<h2 class="HaHeadA">
  <a name="998438"> </a>The Data Manager 
<a href="#998419"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="998440"> </a>A traditional file system first reads all or a portion of a file into a memory buffer from disk, using and/or updating the information in the memory buffer, and then writes the updated memory buffer back to disk. Because Palm Powered<sup>&#8482;</sup> handhelds have limited amounts of dynamic RAM and use nonvolatile RAM instead of disk storage, a traditional file system is not optimal for storing and retrieving Palm OS user data. 
</p>
<p class="Body">
  <a name="998441"> </a>Palm OS accesses and updates all information in place. This works well because it reduces dynamic memory requirements and eliminates the overhead of transferring the data to and from another memory buffer involved in a file system. 
</p>
<p class="Body">
  <a name="998442"> </a>As a further enhancement, data in the Palm Powered handheld is broken down into multiple, finite-size <b>records</b> that can be left scattered throughout the memory space; thus, adding, deleting, or resizing a record does not require moving other records around in memory. Each record in a database is in fact a Memory Manager chunk. The Data Manager uses Memory Manager functions to allocate, delete, and resize database records.
</p>
<p class="Body">
  <a name="998444"> </a>This section explains how to use the Data Manager by discussing these topics: 
</p>

  <a name="998448"> </a><p class="B1Bullet"> &#8226; <a href="FilesAndDatabases.html#998458">Records and Databases</a></p>

  <a name="998452"> </a><p class="B1Bullet"> &#8226; <a href="FilesAndDatabases.html#998472">Structure of a Database Header</a></p>

  <a name="998456"> </a><p class="B1Bullet"> &#8226; <a href="FilesAndDatabases.html#998539">Using the Data Manager</a></p>

<h2 class="HBHeadB">
  <a name="998458"> </a>Records and Databases
<a href="#998419"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="998459"> </a>Databases organize related records; every record belongs to one and only one database. A database may be a collection of all address book entries, all datebook entries, and so on. A Palm OS application can create, delete, open, and close databases as necessary, just as a traditional file system can create, delete, open, and close a traditional file. There is no restriction on where the records for a particular database reside as long as they all reside on the same memory card. The records from one database can be interspersed with the records from one or more other databases in memory.
</p>
<p class="Body">
  <a name="998461"> </a>Storing data by database fits nicely with the Palm OS Memory Manager design. All heaps except for the dynamic heap(s) are nonvolatile, so database records can be stored in any heap except the dynamic heap(s) (see <a href="Memory.html#996190">"Heap Overview"</a> in the <a href="Memory.html#995988">"Memory"</a> chapter). Because records can be stored anywhere on the memory card, databases can be distributed over multiple discontiguous areas of physical RAM.
</p>

<h4 class="HCHeadC">
  <a name="998468"> </a>Accessing Data With Local IDs
</h4>
<p class="Body">
  <a name="998469"> </a>A database maintains a list of all records that belong to it by storing the local ID of each record in the database header. Because local IDs are used, the memory card can be placed into any memory slot of a Palm Powered handheld. An application finds a particular record in a database by index. When an application requests a particular record, the Data Manager fetches the local ID of the record from the database header by index, converts the local ID to a handle using the card number that contains the database header, and returns the handle to the record.
</p>

<h2 class="HBHeadB">
  <a name="998472"> </a>Structure of a Database Header
<a href="#998419"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="998473"> </a>A database header consists of some basic database information and a list of records in the database. Each record entry in the header has the local ID of the record, 8 attribute bits, and a 3-byte unique ID for the record. 
</p>
<p class="Body">
  <a name="998475"> </a>This section provides information about database headers, discussing these topics:
</p>

  <a name="998479"> </a><p class="B1Bullet"> &#8226; <a href="FilesAndDatabases.html#998486">Database Header Fields</a> </p>

  <a name="998483"> </a><p class="B1Bullet"> &#8226; <a href="FilesAndDatabases.html#998527">Structure of a Record Entry in a Database Header</a> </p>
<div class="NINoteImportant"><hr>
  <a name="998484"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">IMPORTANT:  </span> Expect the database header structure to change in the future. Use the API to work with database structures.
<hr>
</div>

<h4 class="HCHeadC">
  <a name="998486"> </a>Database Header Fields
</h4>
<p class="Body">
  <a name="998488"> </a>The database header has the following fields: 
</p>

  <a name="998489"> </a><p class="B1Bullet"> &#8226; The <span style="font-family: monospace">name</span> field holds the name of the database. </p>

  <a name="998490"> </a><p class="B1Bullet"> &#8226; The <span style="font-family: monospace">attributes</span> field has flags for the database. </p>

  <a name="998491"> </a><p class="B1Bullet"> &#8226; The <span style="font-family: monospace">version</span> field holds an application-specific version number for that database. </p>

  <a name="998492"> </a><p class="B1Bullet"> &#8226; The <span style="font-family: monospace">modificationNumber</span> is incremented every time a record in the database is deleted, added, or modified. Thus applications can quickly determine if a shared database has been modified by another process. </p>

  <a name="998493"> </a><p class="B1Bullet"> &#8226; The <span style="font-family: monospace">appInfoID</span> is an optional field that an application can use to store application-specific information about the database. For example, it might be used to store user display preferences for a particular database. </p>

  <a name="998494"> </a><p class="B1Bullet"> &#8226; The <span style="font-family: monospace">sortInfoID</span> is another optional field an application can use for storing the local ID of a sort table for the database. </p>

  <a name="998495"> </a><p class="B1Bullet"> &#8226; The <span style="font-family: monospace">type</span> and <span style="font-family: monospace">creator</span> fields are each 4 bytes and hold the database type and creator. The system uses these fields to distinguish application databases from data databases and to associate data databases with the appropriate application. </p>

  <a name="998497"> </a><p class="B1Bullet"> &#8226; The <span style="font-family: monospace">numRecords</span> field holds the number of record entries stored in the database header itself. If all the record entries cannot fit in the header, then <span style="font-family: monospace">nextRecordList</span> has the local ID of a <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">recordList</span> that contains the next set of records. </p>
<p class="Indented1"> <a name="998498"> </a>Each record entry stored in a record list has three fields and is 8 bytes in length. Each entry has the local ID of the record which takes up 4 bytes: 1 byte of attributes and a 3-byte unique ID for the record. The <span style="font-family: monospace">attribute</span> field, shown in <a href="FilesAndDatabases.html#998503">Figure 6.1</a>, is 8 bits long and contains 4 flags and a 4-bit category number. The category number is used to place records into user-defined categories like "business" or "personal." </p>

<p class="FFigureCaption">
  <a name="998503"> </a>Figure 6.1	 Record Attributes
</p>
<p class="FgFigure">
  <a name="998525"> </a><div align="left"><img src="images/FilesAndDatabasesa.gif" height="178" width="481" border="0" hspace="20" vspace="0">
</div>
</p>

<h4 class="HCHeadC">
  <a name="998527"> </a>Structure of a Record Entry in a Database Header
</h4>
<p class="Body">
  <a name="998528"> </a>Each record entry has the local ID of the record, 8 attribute bits, and a 3-byte unique ID for the record. 
</p>

  <a name="998529"> </a><p class="B1Bullet"> &#8226; Local IDs make the database slot-independent. Since all records for a database reside on the same memory card as the header, the handle of any record in the database can be quickly calculated. When an application requests a specific record from a database, the Data Manager returns a handle to the record that it determines from the stored local ID.</p>
<p class="Indented1"> <a name="998530"> </a>A special situation occurs with ROM-based databases. Because ROM-based heaps use nonmovable chunks exclusively, the local IDs to records in a ROM-based database are local IDs of pointers, not handles. So, when an application opens a ROM-based database, the Data Manager allocates and initializes a fake handle for each record and returns the appropriate fake handle when the application requests a record. Because of this, applications can use handles to access both RAM- and ROM-based database records.</p>

  <a name="998531"> </a><p class="B1Bullet"> &#8226; The unique ID must be unique for each record within a database. It remains the same for a particular record no matter how many times the record is modified. It is used during synchronization with the desktop to track records on the Palm Powered handheld with the same records on the desktop system.</p>
<p class="Body">
  <a name="998532"> </a>When the user deletes or archives a record on Palm OS: 
</p>

  <a name="998533"> </a><p class="B1Bullet"> &#8226; The <span style="font-family: monospace">delete</span> bit is set in the <span style="font-family: monospace">attributes</span> flags, but its entry in the database header remains until the next synchronization with the PC. </p>

  <a name="998534"> </a><p class="B1Bullet"> &#8226; The <span style="font-family: monospace">dirty</span> bit is set whenever a record is updated.</p>

  <a name="998535"> </a><p class="B1Bullet"> &#8226; The <span style="font-family: monospace">busy</span> bit is set when an application currently has a record locked for reading or writing.</p>

  <a name="998536"> </a><p class="B1Bullet"> &#8226; The <span style="font-family: monospace">secret</span> bit is set for records that should not be displayed before the user password has been entered on the handheld.</p>
<p class="Body">
  <a name="998537"> </a>When a user "deletes" a record on the Palm Powered handheld, the record's data chunk is freed, the local ID stored in the record entry is set to 0, and the <span style="font-family: monospace">delete</span> bit is set in the attributes. When the user archives a record, the deleted bit is also set but the chunk is not freed and the local ID is preserved. This way, the next time the user synchronizes with the desktop system, the desktop can quickly determine which records to delete (since their record entries are still around on the Palm Powered handheld). In the case of archived records, the desktop can save the record data on the PC before it permanently removes the record entry and data from the Palm Powered handheld. For deleted records, the PC just has to delete the same record from the PC before permanently removing the record entry from the Palm Powered handheld.
</p>

<h2 class="HBHeadB">
  <a name="998539"> </a>Using the Data Manager
<a href="#998419"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="998541"> </a>Using the Data Manager is similar to using a traditional file manager, except that the data is broken down into multiple records instead of being stored in one contiguous chunk. To create or delete a database, call <a href="DataAndResourceManager.html#1095205"><span style="font-family: monospace">DmCreateDatabase</span></a> and <a href="DataAndResourceManager.html#1095503"><span style="font-family: monospace">DmDeleteDatabase</span></a>.
</p>
<p class="Body">
  <a name="998550"> </a>Each memory card is akin to a disk drive and can contain multiple databases. To open a database for reading or writing, you must first get the database ID, which is simply the local ID of the database header. Calling <a href="DataAndResourceManager.html#1095749"><span style="font-family: monospace">DmFindDatabase</span></a> searches a particular memory card for a database by name and returns the local ID of the database header. Alternatively, calling <a href="DataAndResourceManager.html#1095999"><span style="font-family: monospace">DmGetDatabase</span></a> returns the database ID for each database on a card by index. 
</p>
<p class="Body">
  <a name="998559"> </a>After determining the database ID, you can open the database for read-only or read/write access. When you open a database, the system locks down the database header and returns a reference to a database access structure, which tracks information about the open database and caches certain information for optimum performance. The database access structure is a relatively small structure (less than 100 bytes) allocated in the dynamic heap that is disposed of when the database is closed.
</p>
<p class="Body">
  <a name="998568"> </a>Call <a href="DataAndResourceManager.html#1105351"><span style="font-family: monospace">DmDatabaseInfo</span></a>, <a href="DataAndResourceManager.html#1097604"><span style="font-family: monospace">DmSetDatabaseInfo</span></a>, and <a href="DataAndResourceManager.html#1095426"><span style="font-family: monospace">DmDatabaseSize</span></a> to query or set information about a database, such as its name, size, creation and modification dates, attributes, type, and creator. 
</p>
<p class="Body">
  <a name="998585"> </a>Call <a href="DataAndResourceManager.html#1096247"><span style="font-family: monospace">DmGetRecord</span></a>, <a href="DataAndResourceManager.html#1097086"><span style="font-family: monospace">DmQueryRecord</span></a>, and <a href="DataAndResourceManager.html#1097185"><span style="font-family: monospace">DmReleaseRecord</span></a> when viewing or updating a database. 
</p>

  <a name="998590"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1096247"><span style="font-family: monospace">DmGetRecord</span></a> takes a record index as a parameter, marks the record busy, and returns a handle to the record. If a record is already busy when <a href="DataAndResourceManager.html#1096247"><span style="font-family: monospace">DmGetRecord</span></a> is called, an error is returned. </p>

  <a name="998597"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1097086"><span style="font-family: monospace">DmQueryRecord</span></a> is faster if the application only needs to view the record; it doesn't check or set the busy bit, so it's not necessary to call <span style="font-family: monospace">DmReleaseRecord</span> when finished viewing the record. </p>

  <a name="998601"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1097185"><span style="font-family: monospace">DmReleaseRecord</span></a> clears the <span style="font-family: monospace">busy</span> bit, and updates the modification number of the database and marks the record dirty if the <span style="font-family: monospace">dirty</span> parameter is true.</p>
<p class="Body">
  <a name="998602"> </a>To resize a record to grow or shrink its contents, call <a href="DataAndResourceManager.html#1097395"><span style="font-family: monospace">DmResizeRecord</span></a>. This routine automatically reallocates the record in another heap of the same card if the current heap does not have enough space for it. Note that if the Data Manager needs to move the record into another heap to resize it, the handle to the record changes. <a href="DataAndResourceManager.html#1097395"><span style="font-family: monospace">DmResizeRecord</span></a> returns the new handle to the record.
</p>
<p class="Body">
  <a name="998613"> </a>To add a new record to a database, call <a href="DataAndResourceManager.html#1096544"><span style="font-family: monospace">DmNewRecord</span></a>. This routine can insert the new record at any index position, append it to the end, or replace an existing record by index. It returns a handle to the new record. 
</p>
<p class="Body">
  <a name="998614"> </a>There are three methods for removing a record: <span style="font-family: monospace">DmRemoveRecord</span>, <span style="font-family: monospace">DmDeleteRecord</span>, and <span style="font-family: monospace">DmArchiveRecord.</span>
</p>

  <a name="998618"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1097242"><span style="font-family: monospace">DmRemoveRecord</span></a> removes the record's entry from the database header and disposes of the record data. </p>

  <a name="998622"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1095591"><span style="font-family: monospace">DmDeleteRecord</span></a> also disposes of the record data, but instead of removing the record's entry from the database header, it sets the deleted bit in the record entry attributes field and clears the local chunk ID. </p>

  <a name="998626"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094970"><span style="font-family: monospace">DmArchiveRecord</span></a> does not dispose of the record's data; it just sets the deleted bit in the record entry. </p>
<p class="Body">
  <a name="998627"> </a>Both <span style="font-family: monospace">DmDeleteRecord</span> and <span style="font-family: monospace">DmArchiveRecord</span> are useful for synchronizing information with a desktop PC. Since the unique ID of the deleted or archived record is still kept in the database header, the desktop PC can perform the necessary operations on its own copy of the database before permanently removing the record from the Palm OS database.
</p>
<p class="Body">
  <a name="998634"> </a>Call <a href="DataAndResourceManager.html#1097150"><span style="font-family: monospace">DmRecordInfo</span></a> and <a href="DataAndResourceManager.html#1097669"><span style="font-family: monospace">DmSetRecordInfo</span></a> to retrieve or set the record information stored in the database header, such as the attributes, unique ID, and local ID of the record. Typically, these routines are used to set or retrieve the category of a record, which is stored in the lower four bits of the record's attribute field (see <a href="FilesAndDatabases.html#998639">Listing 6.1</a>).
</p>
<p class="CCodeCaption">
  <a name="998639"> </a>Listing 6.1  Determining the category for a record
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
UInt16 category;<a name="998640"> </a>
<a name="998641"> </a>
DmRecordInfo (MyDB, CurrentRecord, &amp;attr, NULL, NULL);   <a name="998642"> </a>
category = attr &amp; dmRecAttrCategoryMask;<a name="998643"> </a>
//category now contains the index of the category to which <a name="998644"> </a>
// CurrentRecord belongs. <a name="998645"> </a>
</pre><div class="CodeRule"><hr></div>
<p class="Body">
  <a name="998646"> </a>To move records from one index to another or from one database to another, call <a href="DataAndResourceManager.html#1096480"><span style="font-family: monospace">DmMoveRecord</span></a>, <a href="DataAndResourceManager.html#1095023"><span style="font-family: monospace">DmAttachRecord</span></a>, and <a href="DataAndResourceManager.html#1095645"><span style="font-family: monospace">DmDetachRecord</span></a>. <span style="font-family: monospace">DmDetachRecord</span> removes a record entry from the database header and returns the record handle. Given the handle of a new record, <span style="font-family: monospace">DmAttachRecord</span> inserts or appends that new record to a database or replaces an existing record with the new record. <span style="font-family: monospace">DmMoveRecord</span> is an optimized way to move a record from one index to another in the same database.
</p>

<h2 class="HBHeadB">
  <a name="998668"> </a>Data Manager Tips
<a href="#998419"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="998669"> </a>Working properly with databases makes your application run faster and synchronize without problems. Follow these suggestions: 
</p>

  <a name="998670"> </a><p class="B1Bullet"> &#8226; Database names can be up to 31 characters in length, and on the handheld can be composed of any valid ASCII characters. Conduits-in particular, the backup conduit-impose additional limitations, however. The following characters are replaced with an underscore ("_") when the database is transferred to the desktop by the backup conduit:</p>
<p class="Indented1"> <a name="998671"> </a><span style="font-family: monospace">* + , . / : ; &lt; = &gt; ? [ ] | \ ^ "</span></p>
<p class="Indented1"> <a name="998672"> </a>As well, the backup conduit stores databases in case-insensitive format, so you should avoid filenames that depend on case for distinction.</p>
<p class="Indented1"> <a name="998673"> </a>By convention, filename extensions are not used on the handheld. Instead, database types are used to identify databases as members of a certain type or class. Note that when the backup conduit transfers a file to the desktop, it automatically appends a <span style="font-family: monospace">.pdb</span> or <span style="font-family: monospace">.prc</span> extension, as appropriate, to the database filename. This extension is removed when the file is transferred back to the handheld.</p>

  <a name="998678"> </a><p class="B1Bullet"> &#8226; When the user deletes a record, call <a href="DataAndResourceManager.html#1095591"><span style="font-family: monospace">DmDeleteRecord</span></a> to remove all data from the record, not <a href="DataAndResourceManager.html#1097242"><span style="font-family: monospace">DmRemoveRecord</span></a> to remove the record itself. That way, the desktop application can retrieve the information that the record is deleted the next time there is a HotSync. </p>
<p class="Indented1"> <a name="998683"> </a><span style="color: #333;;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">Note</span>: If your application doesn't have an associated conduit, call <span style="font-family: monospace">DmRemoveRecord</span> to completely remove the record.</p>

  <a name="998685"> </a><p class="B1Bullet"> &#8226; Keep data in database records compact. To avoid performance problems, Palm OS databases are not compressed, but all data are tightly packed. This pays off for storage and during HotSync operations. </p>

  <a name="998686"> </a><p class="B1Bullet"> &#8226; All records in a database should be of the same type and format. This is not a requirement, but is highly recommended to avoid processing overhead. </p>

  <a name="998687"> </a><p class="B1Bullet"> &#8226; Be sure your application modifies the flags in the database header appropriately when the user deletes or otherwise modifies information. This flag modification is only required if you're synchronizing with the Palm PIM applications.</p>

  <a name="998689"> </a><p class="B1Bullet"> &#8226; Don't display deleted records. </p>

  <a name="998694"> </a><p class="B1Bullet"> &#8226; Call <a href="DataAndResourceManager.html#1097604"><span style="font-family: monospace">DmSetDatabaseInfo</span></a> when creating a database to assign a version number to your application. Databases default to version 0 if the version isn't explicitly set. </p>

  <a name="998699"> </a><p class="B1Bullet"> &#8226; Call <a href="DataAndResourceManager.html#1105351"><span style="font-family: monospace">DmDatabaseInfo</span></a> to check the database version at application start-up.</p>

<h2 class="HaHeadA">
  <a name="998701"> </a>The Resource Manager 
<a href="#998419"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="998703"> </a>Applications can use the Resource Manager much like the Data Manager to retrieve and save chunks of data conveniently. The Resource Manager has the added capability of tagging each chunk of data with a unique resource type and resource ID. These tagged data chunks, called <b>resources</b>, are stored in resource databases. Resource databases are almost identical in structure to normal databases except for a slight amount of increased storage overhead per resource record (two extra bytes). In fact, the Resource Manager is nothing more than a subset of routines in the Data Manager that are broken out here for conceptual reasons only.
</p>
<p class="Body">
  <a name="998707"> </a>Resources are typically used to store the user interface elements of an application, such as images, fonts, dialog layouts, and so forth. Part of building an application involves creating these resources and merging them with the actual executable code. In the Palm OS environment, an application is, in fact, simply a resource database with the executable code stored as one or more code resources and the graphics elements and other miscellaneous data stored in the same database as other resource types.
</p>
<p class="Body">
  <a name="998708"> </a>Applications may also find the Resource Manager useful for storing and retrieving application preferences, saved window positions, state information, and so forth. These preferences settings can be stored in a separate resource database. 
</p>
<p class="Body">
  <a name="998709"> </a>This section explains how to work with the Resource Manager and discusses these topics: 
</p>

  <a name="998713"> </a><p class="B1Bullet"> &#8226; <a href="FilesAndDatabases.html#998723">Structure of a Resource Database Header</a></p>

  <a name="998717"> </a><p class="B1Bullet"> &#8226; <a href="FilesAndDatabases.html#998735">Using the Resource Manager</a></p>

  <a name="998721"> </a><p class="B1Bullet"> &#8226; <a href="FilesAndDatabases.html#999144">Resource Manager Functions</a></p>

<h2 class="HBHeadB">
  <a name="998723"> </a>Structure of a Resource Database Header
<a href="#998419"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="998725"> </a>A resource database header consists of some general database information followed by a list of resources in the database. The first portion of the header is identical in structure to a normal database header. Resource database headers are distinguished from normal database headers by the <span style="font-family: monospace">dmHdrAttrResDB</span> bit in the <span style="font-family: monospace">attributes</span> field. 
</p>
<div class="NINoteImportant"><hr>
  <a name="998726"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">IMPORTANT:  </span> Expect the resource database header structure to change in the future. Use the API to work with resource database structures.
<hr>
</div>

  <a name="998727"> </a><p class="B1Bullet"> &#8226; The <span style="font-family: monospace">name</span> field holds the name of the resource database. </p>

  <a name="998728"> </a><p class="B1Bullet"> &#8226; The <span style="font-family: monospace">attributes</span> field has flags for the database and always has the <span style="font-family: monospace">dmHdrAttrResDB</span> bit set. </p>

  <a name="998729"> </a><p class="B1Bullet"> &#8226; The <span style="font-family: monospace">modificationNumber</span> is incremented every time a resource in the database is deleted, added, or modified. Thus, applications can quickly determine if a shared resource database has been modified by another process.</p>

  <a name="998730"> </a><p class="B1Bullet"> &#8226; The <span style="font-family: monospace">appInfoID</span> and <span style="font-family: monospace">sortInfoID</span> fields are not normally needed for a resource database but are included to match the structure of a regular database. An application may optionally use these fields for its own purposes. </p>

  <a name="998731"> </a><p class="B1Bullet"> &#8226; The <span style="font-family: monospace">type</span> and <span style="font-family: monospace">creator</span> fields hold 4-byte signatures of the database <span style="font-family: monospace">type</span> and <span style="font-family: monospace">creator</span> as defined by the application that created the database.</p>

  <a name="998732"> </a><p class="B1Bullet"> &#8226; The <span style="font-family: monospace">numResources</span> field holds the number of resource info entries that are stored in the header itself. In most cases, this is the total number of resources. If all the resource info entries cannot fit in the header, however, then <span style="font-family: monospace">nextResourceList</span> has the <span style="font-family: monospace">chunkID</span> of a <span style="font-family: monospace">resourceList</span> that contains the next set of resource info entries.</p>
<p class="Body">
  <a name="998733"> </a>Each 10-byte resource info entry in the header has the resource type, the resource ID, and the local ID of the Memory Manager chunk that contains the resource data. 
</p>

<h2 class="HBHeadB">
  <a name="998735"> </a>Using the Resource Manager
<a href="#998419"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="998737"> </a>You can create, delete, open, and close resource databases with the routines used to create normal record-based databases (see <a href="FilesAndDatabases.html#998539">Using the Data Manager</a>). This includes all database-level (not record-level) routines in the Data Manager such as <a href="DataAndResourceManager.html#1095205"><span style="font-family: monospace">DmCreateDatabase</span></a>, <a href="DataAndResourceManager.html#1095503"><span style="font-family: monospace">DmDeleteDatabase</span></a>, <a href="DataAndResourceManager.html#1105351"><span style="font-family: monospace">DmDatabaseInfo</span></a>, and so on. 
</p>
<p class="Body">
  <a name="998756"> </a>When you create a new database using <a href="DataAndResourceManager.html#1095205"><span style="font-family: monospace">DmCreateDatabase</span></a>, the type of database created (record or resource) depends on the value of the <span style="font-family: monospace">resDB</span> parameter. If set, a resource database is created and the <span style="font-family: monospace">dmHdrAttrResDB</span> bit is set in the <span style="font-family: monospace">attributes</span> field of the database header. Given a database header ID, an application can determine which type of database it is by calling <a href="DataAndResourceManager.html#1105351"><span style="font-family: monospace">DmDatabaseInfo</span></a> and examining the <span style="font-family: monospace">dmHdrAttrResDB</span> bit in the returned <span style="font-family: monospace">attributes</span> field.
</p>
<p class="Body">
  <a name="998760"> </a>Once a resource database has been opened, an application can read and manipulate its resources by using the resource-based access routines of the Resource Manager. Generally, applications use the <a href="DataAndResourceManager.html#1096290"><span style="font-family: monospace">DmGetResource</span></a> and <a href="DataAndResourceManager.html#1097216"><span style="font-family: monospace">DmReleaseResource</span></a> routines.
</p>
<p class="Body">
  <a name="998771"> </a><a href="DataAndResourceManager.html#1096290"><span style="font-family: monospace">DmGetResource</span></a><span style="font-family: monospace"> r</span>eturns a handle to a resource, given the type and ID. This routine searches all open resource databases for a resource of the given type and ID, and returns a handle to it. The search starts with the most recently opened database. To search only the most recently opened resource database for a resource instead of all open resource databases, call <a href="DataAndResourceManager.html#1096369"><span style="font-family: monospace">DmGet1Resource</span></a>. 
</p>
<p class="Body">
  <a name="998778"> </a><a href="DataAndResourceManager.html#1097216"><span style="font-family: monospace">DmReleaseResource</span></a><span style="font-family: monospace"> </span>should be called as soon as an application finishes reading or writing the resource data. To resize a resource, call <a href="DataAndResourceManager.html#1097416"><span style="font-family: monospace">DmResizeResource</span></a>, which accepts a handle to a resource and reallocates the resource in another heap of the same card if necessary. It returns the handle of the resource, which might have been changed if the resource had to be moved to another heap to be resized.
</p>
<p class="Body">
  <a name="998782"> </a>The remaining Resource Manager routines are usually not required for most applications. These include functions to get and set resource attributes, move resources from one database to another, get resources by index, and create new resources. Most of these functions reference resources by index to optimize performance. When referencing a resource by index, the <span style="font-family: monospace">DmOpenRef </span>of the open resource database that the resource belongs to must also be specified. Call <a href="DataAndResourceManager.html#1097502"><span style="font-family: monospace">DmSearchResource</span></a> to find a resource by type and ID or by pointer by searching in all open resource databases.
</p>
<p class="Body">
  <a name="998786"> </a>To get the <span style="font-family: monospace">DmOpenRef</span> of the topmost open resource database, call <a href="DataAndResourceManager.html#1096643"><span style="font-family: monospace">DmNextOpenResDatabase</span></a> and pass <span style="font-family: monospace">NULL</span> as the current <span style="font-family: monospace">DmOpenRef</span>. To find out the <span style="font-family: monospace">DmOpenRef</span> of each successive database, call <span style="font-family: monospace">DmNextOpenResDatabase</span> repeatedly with each successive <span style="font-family: monospace">DmOpenRef</span>.
</p>
<p class="Body">
  <a name="998790"> </a>Given the access pointer of a specific open resource database, <a href="DataAndResourceManager.html#1095809"><span style="font-family: monospace">DmFindResource</span></a> can be used to return the index of a resource, given its type and ID. <a href="DataAndResourceManager.html#1095856"><span style="font-family: monospace">DmFindResourceType</span></a> can be used to get the index of every resource of a given type. To get a resource handle by index, call <a href="DataAndResourceManager.html#1096326"><span style="font-family: monospace">DmGetResourceIndex</span></a>.
</p>
<p class="Body">
  <a name="998800"> </a>To determine how many resources are in a given database, call <a href="DataAndResourceManager.html#1096775"><span style="font-family: monospace">DmNumResources</span></a>. To get and set attributes of a resource including its type and ID, call <a href="DataAndResourceManager.html#1097436"><span style="font-family: monospace">DmResourceInfo</span></a> and <a href="DataAndResourceManager.html#1097721"><span style="font-family: monospace">DmSetResourceInfo</span></a>. To attach an existing data chunk to a resource database as a new resource, call <a href="DataAndResourceManager.html#1095091"><span style="font-family: monospace">DmAttachResource</span></a>. To detach a resource from a database, call <a href="DataAndResourceManager.html#1095702"><span style="font-family: monospace">DmDetachResource</span></a>.
</p>
<p class="Body">
  <a name="998821"> </a>To create a new resource, call <a href="DataAndResourceManager.html#1096584"><span style="font-family: monospace">DmNewResource</span></a> and pass the desired size, type, and ID of the new resource. To delete a resource, call <a href="DataAndResourceManager.html#1097293"><span style="font-family: monospace">DmRemoveResource</span></a>. Removing a resource disposes of its data chunk and removes its entry from the database header.
</p>

<h2 class="HaHeadA">
  <a name="998826"> </a>File Streaming Application Program Interface 
<a href="#998419"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="998827"> </a>The file streaming functions in Palm OS 3.0 and later let you work with large blocks of data. File streams can be arbitrarily large-they are not subject to the 64 KB maximum size limit imposed by the Memory Manager on allocated objects. File streams can be used for permanent data storage; in Palm OS 3.0, their underlying implementation is a Palm OS database. You can read, write, seek to a specified offset, truncate, and do everything else you'd expect to do with a desktop-style file. 
</p>
<p class="Body">
  <a name="998828"> </a>Other than backup/restore, Palm OS does not provide direct HotSync support for file streams, and none is planned at this time. 
</p>
<p class="Body">
  <a name="998829"> </a>The use of double-buffering imposes a performance penalty on file streams that may make them unsuitable for certain applications. Record-intensive applications tend to obtain better performance from the Data Manager.
</p>

<h2 class="HBHeadB">
  <a name="998830"> </a>Using the File Streaming API
<a href="#998419"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="998831"> </a>The File Streaming API is derived from the C programming language's <span style="font-family: monospace">&lt;stdio.h&gt;</span> interface. Any C book that explains the <span style="font-family: monospace">&lt;stdio.h&gt;</span> interface should serve as a suitable introduction to the concepts underlying the Palm OS File Streaming API. This section provides only a brief overview of the most commonly used file streaming functions. 
</p>
<p class="Body">
  <a name="998838"> </a>The <a href="FileStreaming.html#1112225"><span style="font-family: monospace">FileOpen</span></a> function opens a file, and the <a href="FileStreaming.html#1112270"><span style="font-family: monospace">FileRead</span></a> function reads it. The semantics of <a href="FileStreaming.html#1112270"><span style="font-family: monospace">FileRead</span></a> and <a href="FileStreaming.html#1112458"><span style="font-family: monospace">FileWrite</span></a> are just like their <span style="font-family: monospace">&lt;stdio.h&gt;</span> equivalents, the <span style="font-family: monospace">fread</span> and <span style="font-family: monospace">fwrite</span> functions. The other <span style="font-family: monospace">&lt;stdio.h&gt;</span> routines have obvious analogs in the File Streaming API as well.
</p>
<p class="Body">
  <a name="998845"> </a>For example,
</p>
<pre  class="Preformatted">
theStream =
FileOpen(cardId,"KillerAppDataFile",
            'KILR', 'KILD', fileModeReadOnly,
             &amp;err); <a name="998846"> </a>
</pre>
<p class="Body">
  <a name="998847"> </a>As on a desktop, the filename is the unique item. The creator ID and file type are for informational purposes and your code may require that an opened file have the correct type and creator.
</p>
<p class="Body">
  <a name="998851"> </a>Normally, the <a href="FileStreaming.html#1112225"><span style="font-family: monospace">FileOpen</span></a> function returns an error when it attempts to open or replace an existing stream having a type and creator that do not match those specified. To suppress this error, pass the <span style="font-family: monospace">fileModeAnyTypeCreator </span>selector as a flag in the <span style="font-family: monospace">openMode</span> parameter to the <a href="FileStreaming.html#1112225"><span style="font-family: monospace">FileOpen</span></a> function. 
</p>
<p class="Body">
  <a name="998858"> </a>To read data, use the <a href="FileStreaming.html#1112270"><span style="font-family: monospace">FileRead</span></a> function as in the following example: 
</p>
<pre  class="Preformatted">
FileRead(theStream, &amp;buf, objSize, numObjs,
         &amp;err); <a name="998859"> </a>
</pre>
<p class="Body">
  <a name="998860"> </a>To free the memory used to store stream data as the data is read, you can use the <a href="FileStreaming.html#1111791"><span style="font-family: monospace">FileControl</span></a> function to switch the stream to destructive read mode. This mode is useful for manipulating temporary data; for example, destructive read mode would be ideal for adding the objects in a large data stream to a database when sufficient memory for duplicating the entire file stream is not available. You can switch a stream to destructive read mode by passing the <span style="font-family: monospace">fileOpDestructiveReadMode</span> selector as the value of the <span style="font-family: monospace">op</span> parameter to the <a href="FileStreaming.html#1111791"><span style="font-family: monospace">FileControl</span></a> function. 
</p>
<p class="Body">
  <a name="998870"> </a>The <a href="FileStreaming.html#1112042"><span style="font-family: monospace">FileDmRead</span></a> function can read data directly into a Data Manager chunk for immediate addition to a Palm OS database.
</p>

<h2 class="HaHeadA">
  <a name="998872"> </a>Summary of Files and Databases 
<a href="#998419"><img src="images/top.gif" border="0"></a></h2>


<h5 class="TgTable">
  <a name="999140"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="998875"> </a><div class="CellHeading">Data Manager Functions</div></th>
    <th><a name="998877"> </a><div class="CellHeading"><br></div></th>
  </tr>
  <tr valign="top">
    <td><a name="998879"> </a><div class="CellHeading">Creating Databases</div></td>
    <td><a name="998881"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="998886"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1095205">DmCreateDatabase</a></div></td>
    <td><a name="998891"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1095286">DmCreateDatabaseFromImage</a></div></td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><a name="998893"> </a><div class="CellHeading">Opening and Closing Databases</div></td>
  </tr>
  <tr valign="top">
    <td><a name="998900"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1096792">DmOpenDatabase</a><br><a href="DataAndResourceManager.html#1095376">DmDatabaseProtect</a></div></td>
    <td><a name="998908"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1095148">DmCloseDatabase</a><br><a href="DataAndResourceManager.html#1096877">DmOpenDatabaseByTypeCreator</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="998913"> </a><div class="CellHeading">Creating Records</div></td>
    <td><a name="998915"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="998920"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1096523">DmNewHandle</a></div></td>
    <td><a name="998925"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1096544">DmNewRecord</a></div></td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><a name="998927"> </a><div class="CellHeading">Accessing Records</div></td>
  </tr>
  <tr valign="top">
    <td><a name="998934"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1096247">DmGetRecord</a><br><a href="DataAndResourceManager.html#1095778">DmFindRecordByID</a></div></td>
    <td><a name="998942"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1097086">DmQueryRecord</a><br><a href="DataAndResourceManager.html#1097476">DmSearchRecord</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="998947"> </a><div class="CellHeading">Adding Records</div></td>
    <td><a name="998949"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="998954"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1095023">DmAttachRecord</a></div></td>
    <td><a name="998956"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="998958"> </a><div class="CellHeading">Unlocking Records</div></td>
    <td><a name="998960"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="998965"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1097185">DmReleaseRecord</a></div></td>
    <td><a name="998967"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="998969"> </a><div class="CellHeading">Changing Records</div></td>
    <td><a name="998971"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="998976"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1096480">DmMoveRecord</a><br><a href="DataAndResourceManager.html#1097581">DmSet</a><br><a href="DataAndResourceManager.html#1097774">DmWrite</a></div></td>
    <td><a name="998987"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1097395">DmResizeRecord</a><br><a href="DataAndResourceManager.html#1097748">DmStrCopy</a><br><a href="DataAndResourceManager.html#1097800">DmWriteCheck</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="998995"> </a><div class="CellHeading">Deleting Records</div></td>
    <td><a name="998997"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="999002"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1094970">DmArchiveRecord</a><br><a href="DataAndResourceManager.html#1095591">DmDeleteRecord</a><br><a href="DataAndResourceManager.html#1097242">DmRemoveRecord</a></div></td>
    <td><a name="999013"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1095503">DmDeleteDatabase</a><br><a href="DataAndResourceManager.html#1095645">DmDetachRecord</a><br><a href="DataAndResourceManager.html#1097345">DmRemoveSecretRecords</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="999021"> </a><div class="CellHeading">Sorting</div></td>
    <td><a name="999023"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="999028"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1096402">DmInsertionSort</a><br><a href="DataAndResourceManager.html#1095899">DmFindSortPosition</a></div></td>
    <td><a name="999036"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1095941">DmFindSortPositionV10</a><br><a href="DataAndResourceManager.html#1097108">DmQuickSort</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="999041"> </a><div class="CellHeading">Categories</div></td>
    <td><a name="999043"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="999048"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1096438">DmMoveCategory</a><br><a href="DataAndResourceManager.html#1095460">DmDeleteCategory</a><br><a href="DataAndResourceManager.html#1097040">DmQueryNextInCategory</a></div></td>
    <td><a name="999059"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1096730">DmNumRecordsInCategory</a><br><a href="DataAndResourceManager.html#1097003">DmPositionInCategory</a><br><a href="DataAndResourceManager.html#1097539">DmSeekRecordInCategory</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="999067"> </a><div class="CellHeading">Locating Databases</div></td>
    <td><a name="999069"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="999074"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1095749">DmFindDatabase</a><br><a href="DataAndResourceManager.html#1095999">DmGetDatabase</a><br><a href="DataAndResourceManager.html#1096619">DmNextOpenDatabase</a></div></td>
    <td><a name="999085"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1096175">DmGetNextDatabaseByTypeCreator</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="999087"> </a><div class="CellHeading">Database Information</div></td>
    <td><a name="999089"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="999094"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1105351">DmDatabaseInfo</a><br><a href="DataAndResourceManager.html#1097150">DmRecordInfo</a><br><a href="DataAndResourceManager.html#1096925">DmOpenDatabaseInfo</a><br><a href="DataAndResourceManager.html#1096673">DmNumDatabases</a></div></td>
    <td><a name="999108"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1097604">DmSetDatabaseInfo</a><br><a href="DataAndResourceManager.html#1097669">DmSetRecordInfo</a><br><a href="DataAndResourceManager.html#1095426">DmDatabaseSize</a><br><a href="DataAndResourceManager.html#1096700">DmNumRecords</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="999119"> </a><div class="CellHeading">Application Information</div></td>
    <td><a name="999121"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="999126"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1095977">DmGetAppInfoID</a></div></td>
    <td><a name="999128"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="999130"> </a><div class="CellHeading">Error Handling</div></td>
    <td><a name="999132"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="999137"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1096057">DmGetLastErr</a></div></td>
    <td><a name="999139"> </a><div class="CellBody"><br></div></td>
  </tr>
</table>




</h5>
<h5 class="TgTable">
  <a name="999202"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="999144"> </a><div class="CellHeading">Resource Manager Functions</div></th>
    <th><a name="999146"> </a><div class="CellHeading"><br></div></th>
  </tr>
  <tr valign="top">
    <td><a name="999151"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1096951">DmOpenDBNoOverlay</a><br><a href="DataAndResourceManager.html#1096584">DmNewResource</a><br><a href="DataAndResourceManager.html#1097216">DmReleaseResource</a><br><a href="DataAndResourceManager.html#1095702">DmDetachResource</a><br><a href="DataAndResourceManager.html#1097502">DmSearchResource</a><br><a href="DataAndResourceManager.html#1095856">DmFindResourceType</a><br><a href="DataAndResourceManager.html#1096290">DmGetResource</a><br><a href="DataAndResourceManager.html#1096775">DmNumResources</a><br><a href="DataAndResourceManager.html#1097436">DmResourceInfo</a></div></td>
    <td><a name="999180"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1095091">DmAttachResource</a><br><a href="DataAndResourceManager.html#1097293">DmRemoveResource</a><br><a href="DataAndResourceManager.html#1096326">DmGetResourceIndex</a><br><a href="DataAndResourceManager.html#1095809">DmFindResource</a><br><a href="DataAndResourceManager.html#1096369">DmGet1Resource</a><br><a href="DataAndResourceManager.html#1096643">DmNextOpenResDatabase</a><br><a href="DataAndResourceManager.html#1097416">DmResizeResource</a><br><a href="DataAndResourceManager.html#1097721">DmSetResourceInfo</a></div></td>
  </tr>
</table>




</h5>
<h5 class="TgTable">
  <a name="999306"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th colspan="2" rowspan="1"><a name="999206"> </a><div class="CellHeading">File Streaming Function Summary</div></th>
  </tr>
  <tr valign="top">
    <td><a name="999210"> </a><div class="CellHeading">Opening and Closing</div></td>
    <td><a name="999212"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="999217"> </a><div class="CellBody"><a href="FileStreaming.html#1112225">FileOpen</a><br><a href="FileStreaming.html#1112359">FileSeek</a></div></td>
    <td><a name="999225"> </a><div class="CellBody"><a href="FileStreaming.html#1111770">FileClose</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="999227"> </a><div class="CellHeading">Reading Files</div></td>
    <td><a name="999229"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="999234"> </a><div class="CellBody"><a href="FileStreaming.html#1112270">FileRead</a><br><a href="FileStreaming.html#1112318">FileRewind</a></div></td>
    <td><a name="999242"> </a><div class="CellBody"><a href="FileStreaming.html#1112042">FileDmRead</a><br><a href="FileStreaming.html#1111791">FileControl</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="999247"> </a><div class="CellHeading">Writing to Files</div></td>
    <td><a name="999249"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="999254"> </a><div class="CellBody"><a href="FileStreaming.html#1112458">FileWrite</a></div></td>
    <td><a name="999259"> </a><div class="CellBody"><a href="FileStreaming.html#1112431">FileTruncate</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="999261"> </a><div class="CellHeading">File Information</div></td>
    <td><a name="999263"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="999268"> </a><div class="CellBody"><a href="FileStreaming.html#1112090">FileEOF</a></div></td>
    <td><a name="999273"> </a><div class="CellBody"><a href="FileStreaming.html#1112397">FileTell</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="999275"> </a><div class="CellHeading">Deleting Files</div></td>
    <td><a name="999277"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="999282"> </a><div class="CellBody"><a href="FileStreaming.html#1112015">FileDelete</a></div></td>
    <td><a name="999287"> </a><div class="CellBody"><a href="FileStreaming.html#1112166">FileFlush</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="999289"> </a><div class="CellHeading">Error Handling</div></td>
    <td><a name="999291"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="999296"> </a><div class="CellBody"><a href="FileStreaming.html#1112128">FileError</a><br><a href="FileStreaming.html#1111741">FileClearerr</a></div></td>
    <td><a name="999304"> </a><div class="CellBody"><a href="FileStreaming.html#1112190">FileGetLastError</a><br></div></td>
  </tr>
</table>




</h5><p class="Body">
  <a name="999307"> </a>
</p>
&nbsp;<br>
				<!-- CONTENT_END -->

		</td>
		<td width="5">&nbsp;&nbsp;</td>
	</tr>
      </table>
    </td>
			</tr>
  <tr>
				<td>
					<table border="0" cellpadding="0" cellspacing="0" width="760">
        <!-- CONTENTCELL_END -->
        <tr valign="top"> 
          <td width="10">&nbsp;<!-- FOOTER_START --></td>
          <td width="72">&nbsp;</td>
          <td width="25" bgcolor="white" background="images/bkgrnd.gif">&nbsp;</td>
          <td width="600"> 
            <table border="0" cellpadding="0" cellspacing="0" width="600">
              <tr> 
                <td><img src="images/rule_10-1-5_ltblue.gif" width="600" height="16" border="0"></td>
              </tr>
              <tr> 
                <td> 
                  <p align="center" class="footer"> ©2002 PalmSource, Inc. and its affiliates.  All rights reserved. 
<a href="http://www.palmos.com/dev/training/">Training</a>&nbsp;|&nbsp;<a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a>&nbsp;|&nbsp;<a href="http://www.palmos.com/">Palm&nbsp;OS&nbsp;Platform</a>&nbsp;|&nbsp;<a href="Companion_Front.html" target="_blank">Legal Notices</a>&nbsp;<br>
												<!-- FOOTER_END --><br>
											</p>
                </td>
              </tr>
            </table>
          </td>
        </tr>
      </table>
				</td>
			</tr>
</table>
</BODY>
</HTML>