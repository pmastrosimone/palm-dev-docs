<HTML>

<HEAD>
<SMALLSCREENIGNORE> 
<LINK HREF="copy_of_palmos.css" REL="stylesheet" TYPE="text/css">
<LINK HREF="document.css" REL="StyleSheet" TYPE="text/css" media="screen">
<!-- SCRIPT_START -->
<!-- SCRIPT_END -->
</SMALLSCREENIGNORE>
<TITLE>Data and Resource Manager</TITLE>

<META NAME="PALMTEMPLATE" CONTENT="1006-002 Palm HTML 20020513">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks Publisher Professional Edition 6.0.7">
<META NAME="TEMPLATEBASE" CONTENT="Palm HTML 20010625">
<META NAME="LASTUPDATED" CONTENT="12/13/02 10:10:07">
<META HTTP-EQUIV="content-type" CONTENT="text/html;charset=ISO-8859-1">

</HEAD>

<BODY LEFTMARGIN="0" MARGINWIDTH="0" TOPMARGIN="0" MARGINHEIGHT="0">
<SMALLSCREENIGNORE> 
<table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr>
	<td><a name="1094449"></a>
      <table border="0" cellpadding="0" cellspacing="0" width="100%">
        <tr height="35"> 
          <td height="35" colspan="2" bgcolor="#6699CC">&nbsp;</td>
        </tr>
        <tr valign="top"> 
          <td width="160" align="left"><a href="http://www.palmos.com"><img src="images/bigorb.gif" width="160" height="110" border="0"></a></td>
          <td align="left" width="100%"> 
            </SMALLSCREENIGNORE>
            <!-- CONTENTCELL_START -->
            <img border="0" height="45" src="images/orb_bkgrnd_600.gif" width="600"><br>
            <!--PAGENAV_START-->
            <SPAN CLASS="subnav">&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/index.html">Home</a> 
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/">Developers</a> 
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/support/">Development Support</a>
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/support/docs/">Documentation</a></span><BR>
             <img src="images/pixel_ltblue.gif" width="600" height="1" border="0" vspace="2"><br>
             <h2 class="HeadDocPage">27  Data and Resource Manager</h2>
             <img src="images/pixel_ltblue.gif" width="600" height="1" border="0" vspace="2"><br>
             &nbsp;<span class="subnav"><a href="ReferenceTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="CharacterAttributes.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ErrorManager.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ReferenceIX.html">Index</a></span>  
            <!--PAGENAV_END-->
          </td>
        </tr>
      </table>
    </td>
			</tr>
  <tr>
				<td> 
      <table width="100%" border="0" cellspacing="0" cellpadding="0">
        <tr>
							<td>&nbsp;&nbsp;&nbsp;</td>
						</tr>
        <tr>
		<td valign="top" width="10">&nbsp;&nbsp;&nbsp;</td>
		<td valign="top" width="175">
			<p class="SideTitle">Title - <br><a href="Reference_Front.html">Palm OS® Programmer's API Reference</a></p>
			<p class="SideTOC1-PartTab">Palm OS® 5 SDK </p>
			<p class="SideTOC1-PartTab">Part II: System Management</a> </p>
			<p class="SideTOC1"><a href="DataAndResourceManager.html">27  Data and Resource Manager</a></p>
			
<p class="SideTOC2">
<a href="#1094476">Data Manager Data Structures
</a></p>

<p class="SideTOC3">
<a href="#1094477">DmOpenRef
</a></p>

<p class="SideTOC3">
<a href="#1094484">DmResID
</a></p>

<p class="SideTOC3">
<a href="#1094488">DmResType
</a></p>

<p class="SideTOC3">
<a href="#1094493">SortRecordInfoType
</a></p>

<p class="SideTOC2">
<a href="#1094520">Data Manager Constants
</a></p>

<p class="SideTOC3">
<a href="#1094521">Category Constants
</a></p>

<p class="SideTOC3">
<a href="#1094567">Record Attribute Constants
</a></p>

<p class="SideTOC3">
<a href="#1094637">Database Attribute Constants
</a></p>

<p class="SideTOC3">
<a href="#1094735">Error Codes
</a></p>

<p class="SideTOC3">
<a href="#1094917">Open Mode Constants
</a></p>

<p class="SideTOC3">
<a href="#1111233">Miscellaneous Constants
</a></p>

<p class="SideTOC2">
<a href="#1094967">Data Manager Functions
</a></p>

<p class="SideTOC3">
<a href="#1094970">DmArchiveRecord
</a></p>

<p class="SideTOC3">
<a href="#1095023">DmAttachRecord
</a></p>

<p class="SideTOC3">
<a href="#1095091">DmAttachResource
</a></p>

<p class="SideTOC3">
<a href="#1095148">DmCloseDatabase
</a></p>

<p class="SideTOC3">
<a href="#1095205">DmCreateDatabase
</a></p>

<p class="SideTOC3">
<a href="#1095286">DmCreateDatabaseFromImage
</a></p>

<p class="SideTOC3">
<a href="#1105351">DmDatabaseInfo
</a></p>

<p class="SideTOC3">
<a href="#1095376">DmDatabaseProtect
</a></p>

<p class="SideTOC3">
<a href="#1095426">DmDatabaseSize
</a></p>

<p class="SideTOC3">
<a href="#1095460">DmDeleteCategory
</a></p>

<p class="SideTOC3">
<a href="#1095503">DmDeleteDatabase
</a></p>

<p class="SideTOC3">
<a href="#1095591">DmDeleteRecord
</a></p>

<p class="SideTOC3">
<a href="#1095645">DmDetachRecord
</a></p>

<p class="SideTOC3">
<a href="#1095702">DmDetachResource
</a></p>

<p class="SideTOC3">
<a href="#1095749">DmFindDatabase
</a></p>

<p class="SideTOC3">
<a href="#1095778">DmFindRecordByID
</a></p>

<p class="SideTOC3">
<a href="#1095809">DmFindResource
</a></p>

<p class="SideTOC3">
<a href="#1095856">DmFindResourceType
</a></p>

<p class="SideTOC3">
<a href="#1095899">DmFindSortPosition
</a></p>

<p class="SideTOC3">
<a href="#1095941">DmFindSortPositionV10
</a></p>

<p class="SideTOC3">
<a href="#1095977">DmGetAppInfoID
</a></p>

<p class="SideTOC3">
<a href="#1095999">DmGetDatabase
</a></p>

<p class="SideTOC3">
<a href="#1096034">DmGetDatabaseLockState
</a></p>

<p class="SideTOC3">
<a href="#1096057">DmGetLastErr
</a></p>

<p class="SideTOC3">
<a href="#1096175">DmGetNextDatabaseByTypeCreator
</a></p>

<p class="SideTOC3">
<a href="#1096247">DmGetRecord
</a></p>

<p class="SideTOC3">
<a href="#1096290">DmGetResource
</a></p>

<p class="SideTOC3">
<a href="#1096326">DmGetResourceIndex
</a></p>

<p class="SideTOC3">
<a href="#1096369">DmGet1Resource
</a></p>

<p class="SideTOC3">
<a href="#1096402">DmInsertionSort
</a></p>

<p class="SideTOC3">
<a href="#1096438">DmMoveCategory
</a></p>

<p class="SideTOC3">
<a href="#1096480">DmMoveRecord
</a></p>

<p class="SideTOC3">
<a href="#1096523">DmNewHandle
</a></p>

<p class="SideTOC3">
<a href="#1096544">DmNewRecord
</a></p>

<p class="SideTOC3">
<a href="#1096584">DmNewResource
</a></p>

<p class="SideTOC3">
<a href="#1096619">DmNextOpenDatabase
</a></p>

<p class="SideTOC3">
<a href="#1096643">DmNextOpenResDatabase
</a></p>

<p class="SideTOC3">
<a href="#1096673">DmNumDatabases
</a></p>

<p class="SideTOC3">
<a href="#1096700">DmNumRecords
</a></p>

<p class="SideTOC3">
<a href="#1096730">DmNumRecordsInCategory
</a></p>

<p class="SideTOC3">
<a href="#1096775">DmNumResources
</a></p>

<p class="SideTOC3">
<a href="#1096792">DmOpenDatabase
</a></p>

<p class="SideTOC3">
<a href="#1096877">DmOpenDatabaseByTypeCreator
</a></p>

<p class="SideTOC3">
<a href="#1096925">DmOpenDatabaseInfo
</a></p>

<p class="SideTOC3">
<a href="#1096951">DmOpenDBNoOverlay
</a></p>

<p class="SideTOC3">
<a href="#1097003">DmPositionInCategory
</a></p>

<p class="SideTOC3">
<a href="#1097040">DmQueryNextInCategory
</a></p>

<p class="SideTOC3">
<a href="#1097086">DmQueryRecord
</a></p>

<p class="SideTOC3">
<a href="#1097108">DmQuickSort
</a></p>

<p class="SideTOC3">
<a href="#1097150">DmRecordInfo
</a></p>

<p class="SideTOC3">
<a href="#1097185">DmReleaseRecord
</a></p>

<p class="SideTOC3">
<a href="#1097216">DmReleaseResource
</a></p>

<p class="SideTOC3">
<a href="#1097242">DmRemoveRecord
</a></p>

<p class="SideTOC3">
<a href="#1097293">DmRemoveResource
</a></p>

<p class="SideTOC3">
<a href="#1097345">DmRemoveSecretRecords
</a></p>

<p class="SideTOC3">
<a href="#1097395">DmResizeRecord
</a></p>

<p class="SideTOC3">
<a href="#1097416">DmResizeResource
</a></p>

<p class="SideTOC3">
<a href="#1097436">DmResourceInfo
</a></p>

<p class="SideTOC3">
<a href="#1097476">DmSearchRecord
</a></p>

<p class="SideTOC3">
<a href="#1097502">DmSearchResource
</a></p>

<p class="SideTOC3">
<a href="#1097539">DmSeekRecordInCategory
</a></p>

<p class="SideTOC3">
<a href="#1097581">DmSet
</a></p>

<p class="SideTOC3">
<a href="#1097604">DmSetDatabaseInfo
</a></p>

<p class="SideTOC3">
<a href="#1097669">DmSetRecordInfo
</a></p>

<p class="SideTOC3">
<a href="#1097721">DmSetResourceInfo
</a></p>

<p class="SideTOC3">
<a href="#1097748">DmStrCopy
</a></p>

<p class="SideTOC3">
<a href="#1097774">DmWrite
</a></p>

<p class="SideTOC3">
<a href="#1097800">DmWriteCheck
</a></p>

<p class="SideTOC2">
<a href="#1097821">Application-Defined Functions
</a></p>

<p class="SideTOC3">
<a href="#1097824">DmComparF
</a></p>

		</td>

		<td width="5">&nbsp;&nbsp;</td>
		<td width="1" bgcolor="#6699cc">&nbsp;</td>
		<td width="5">&nbsp;&nbsp;</td>
		<td> 

				<!-- CONTENT_START -->

<p class="Body">
  <a name="1094450"> </a>This chapter describes the data manager and the resource manager API declared in the header file <span style="font-family: monospace">DataMgr.h</span>. It discusses the following topics:
</p>

  <a name="1094455"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094476">Data Manager Data Structures</a></p>

  <a name="1094459"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094520">Data Manager Constants</a></p>

  <a name="1094463"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094967">Data Manager Functions</a></p>

  <a name="1094467"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1097821">Application-Defined Functions</a></p>
<p class="Body">
  <a name="1094468"> </a>For more information on the data and resource managers, see the chapter <a href="FilesAndDatabases.html#998419">"Files and Databases"</a> in the <i>Palm OS Programmer's Companion</i>, vol. I. 
</p>

<h2 class="HaHeadA">
  <a name="1094476"> </a>Data Manager Data Structures 
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>


<h2 class="HBHeadB">
  <a name="1094477"> </a>DmOpenRef
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1094479"> </a>The <span style="font-family: monospace">DmOpenRef</span> type defines a pointer to an open database. The database pointer is created and returned by <a href="DataAndResourceManager.html#1096792"><span style="font-family: monospace">DmOpenDatabase</span></a>. It is used in any function that requires access to an open database. 
</p>
<pre  class="Preformatted">
typedef void *DmOpenRef<a name="1094483"> </a>
</pre>

<h2 class="HBHeadB">
  <a name="1094484"> </a>DmResID
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1094486"> </a>The <span style="font-family: monospace">DmResID</span> type defines a resource identifier. You assign each resource an ID at creation time. Note that resource IDs greater than or equal to 10000 are reserved for system use. 
</p>
<pre  class="Preformatted">
typedef UInt16 DmResID;<a name="1094487"> </a>
</pre>

<h2 class="HBHeadB">
  <a name="1094488"> </a>DmResType
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1094490"> </a>The <span style="font-family: monospace">DmResType</span> type defines the type of a resource. The resource type is a four-character code such as <span style="font-family: monospace">'Tbmp'</span> for bitmap resources. 
</p>
<pre  class="Preformatted">
typedef UInt32 DmResType;<a name="1094491"> </a>
</pre>

<h2 class="HBHeadB">
  <a name="1094493"> </a>SortRecordInfoType
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1094495"> </a>The <span style="font-family: monospace">SortRecordInfoType</span> structure specifies information that can be used to sort a record. The database sorting functions (<a href="DataAndResourceManager.html#1096402"><span style="font-family: monospace">DmInsertionSort</span></a> and <a href="DataAndResourceManager.html#1097108"><span style="font-family: monospace">DmQuickSort</span></a>) pass this structure to your comparison callback function (of type <a href="DataAndResourceManager.html#1097824"><span style="font-family: monospace">DmComparF</span></a>), where you can use the information therein to help when comparing two records. To create this structure, you can call <a href="DataAndResourceManager.html#1097150"><span style="font-family: monospace">DmRecordInfo</span></a>, which returns these values for a given record. 
</p>
<pre  class="Preformatted">
typedef struct {<a name="1094499"> </a>
  UInt8 attributes;<a name="1094500"> </a>
  UInt8 uniqueID[3];<a name="1094501"> </a>
} SortRecordInfoType;<a name="1094502"> </a>
 <a name="1094503"> </a>
typedef SortRecordInfoType *SortRecordInfoPtr;<a name="1094504"> </a>
</pre>

<h4 class="HCHeadC">
  <a name="1094505"> </a>Field Descriptions
</h4>

<h5 class="TgTable">
  <a name="1094518"> </a>

<table width="450" border="0" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="1094508"> </a><div class="CellBody"><span style="font-family: monospace">attributes</span> </div></td>
    <td><a name="1094512"> </a><div class="CellBody">The record's attributes. See <a href="DataAndResourceManager.html#1094567">"Record Attribute Constants."</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094515"> </a><div class="CellBody"><span style="font-family: monospace">uniqueID</span> </div></td>
    <td><a name="1094517"> </a><div class="CellBody">The unique identifier for the record. </div></td>
  </tr>
</table>




</h5>
<h2 class="HaHeadA">
  <a name="1094520"> </a>Data Manager Constants 
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>


<h2 class="HBHeadB">
  <a name="1094521"> </a>Category Constants
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1094522"> </a>The following constants are used to specify information about categories:
</p>

<h5 class="TgTable">
  <a name="1094565"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="1094525"> </a><div class="CellHeading">Constant</div></th>
    <th><a name="1094527"> </a><div class="CellHeading">Value</div></th>
    <th><a name="1094529"> </a><div class="CellHeading">Description</div></th>
  </tr>
  <tr valign="top">
    <td><a name="1094532"> </a><div class="CellBody"><span style="font-family: monospace">dmAllCategories</span> </div></td>
    <td><a name="1094534"> </a><div class="CellBody">0xFF</div></td>
    <td><a name="1094536"> </a><div class="CellBody">A mask used to represent all categories. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094539"> </a><div class="CellBody"><span style="font-family: monospace">dmCategoryLength</span> </div></td>
    <td><a name="1094541"> </a><div class="CellBody">16</div></td>
    <td><a name="1094543"> </a><div class="CellBody">The length of a category name. Currently, this is 16 bytes, which includes the null terminator. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094546"> </a><div class="CellBody"><span style="font-family: monospace">dmRecAttrCategoryMask</span> </div></td>
    <td><a name="1094548"> </a><div class="CellBody">0x0F</div></td>
    <td><a name="1094550"> </a><div class="CellBody">A mask used to retrieve the category information from the record's attributes field.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094553"> </a><div class="CellBody"><span style="font-family: monospace">dmRecNumCategories</span> </div></td>
    <td><a name="1094555"> </a><div class="CellBody">16</div></td>
    <td><a name="1094557"> </a><div class="CellBody">The number of categories allowed. Currently, this is 16, which includes the "Unfiled" category. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094560"> </a><div class="CellBody"><span style="font-family: monospace">dmUnfiledCategory</span> </div></td>
    <td><a name="1094562"> </a><div class="CellBody">0</div></td>
    <td><a name="1094564"> </a><div class="CellBody">A mask used to indicate the Unfiled category.</div></td>
  </tr>
</table>




</h5>
<h2 class="HBHeadB">
  <a name="1094567"> </a>Record Attribute Constants
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1094568"> </a>The following constants specify a database record's attributes. 
</p>

<h5 class="TgTable">
  <a name="1094634"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="1094571"> </a><div class="CellHeading">Constant</div></th>
    <th><a name="1094573"> </a><div class="CellHeading">Value</div></th>
    <th><a name="1094575"> </a><div class="CellHeading">Description</div></th>
  </tr>
  <tr valign="top">
    <td><a name="1094578"> </a><div class="CellBody"><span style="font-family: monospace">dmMaxRecordIndex</span> </div></td>
    <td><a name="1094580"> </a><div class="CellBody">0xFFFF</div></td>
    <td><a name="1094582"> </a><div class="CellBody">Indicates the highest record index allowed.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094585"> </a><div class="CellBody"><span style="font-family: monospace">dmAllRecAttrs</span> </div></td>
    <td><a name="1094587"> </a><div class="CellBody">0xF0</div></td>
    <td><a name="1094589"> </a><div class="CellBody">A mask used to specify all record attributes. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094592"> </a><div class="CellBody"><span style="font-family: monospace">dmRecAttrBusy</span> </div></td>
    <td><a name="1094594"> </a><div class="CellBody">0x20</div></td>
    <td><a name="1094596"> </a><div class="CellBody">Busy (the application has locked access to this record). A call to <a href="DataAndResourceManager.html#1096247"><span style="font-family: monospace">DmGetRecord</span></a> fails on a record that has this bit set, otherwise it sets this bit. Call <a href="DataAndResourceManager.html#1097185"><span style="font-family: monospace">DmReleaseRecord</span></a> to release the record and clear this bit. The <a href="DataAndResourceManager.html#1097669"><span style="font-family: monospace">DmSetRecordInfo</span></a> function cannot be used to alter the state of <span style="font-family: monospace">dmRecAttrBusy</span>.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094608"> </a><div class="CellBody"><span style="font-family: monospace">dmRecAttrDelete</span> </div></td>
    <td><a name="1094610"> </a><div class="CellBody">0x80</div></td>
    <td><a name="1094612"> </a><div class="CellBody">Deleted</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094615"> </a><div class="CellBody"><span style="font-family: monospace">dmRecAttrDirty</span> </div></td>
    <td><a name="1094617"> </a><div class="CellBody">0x40</div></td>
    <td><a name="1094619"> </a><div class="CellBody">Dirty (has been modified since last sync)</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094622"> </a><div class="CellBody"><span style="font-family: monospace">dmRecAttrSecret</span> </div></td>
    <td><a name="1094624"> </a><div class="CellBody">0x10</div></td>
    <td><a name="1094626"> </a><div class="CellBody">Private</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094629"> </a><div class="CellBody"><span style="font-family: monospace">dmSysOnlyRecAttrs</span> </div></td>
    <td><a name="1094631"> </a><div class="CellBody">0x20</div></td>
    <td><a name="1094633"> </a><div class="CellBody">A mask used to specify record attributes that only the system can change. (In other words, the busy attribute.)</div></td>
  </tr>
</table>




</h5>
<h2 class="HBHeadB">
  <a name="1094637"> </a>Database Attribute Constants
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1094638"> </a>The following constants define a database's attributes:
</p>

<h5 class="TgTable">
  <a name="1094734"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="1094641"> </a><div class="CellHeading">Constant</div></th>
    <th><a name="1094643"> </a><div class="CellHeading">Description</div></th>
  </tr>
  <tr valign="top">
    <td><a name="1094646"> </a><div class="CellBody"><span style="font-family: monospace">dmAllHdrAttrs</span> </div></td>
    <td><a name="1094648"> </a><div class="CellBody">A mask used to specify all header attributes. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094656"> </a><div class="CellBody"><span style="font-family: monospace">dmHdrAttrAppInfoDirty</span> </div></td>
    <td><a name="1094658"> </a><div class="CellBody">The application info block is dirty (has been modified since the last sync). </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094661"> </a><div class="CellBody"><span style="font-family: monospace">dmHdrAttrBackup</span> </div></td>
    <td><a name="1094663"> </a><div class="CellBody">The database should be backed up to the desktop computer if no application-specific conduit is available. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094666"> </a><div class="CellBody"><span style="font-family: monospace">dmHdrAttrBundle</span> </div></td>
    <td><a name="1094668"> </a><div class="CellBody">The database is bundled with its application during a beam. That is, if the user chooses to beam the application from the Launcher, the Launcher beams this database along with the application's resource database and overlay database. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094670"> </a><div class="CellBody"><br></div></td>
    <td><a name="1094672"> </a><div class="CellBody">This attribute applies to Palm OS<sup>®</sup> 4.0 and higher. Note that overlay databases are automatically beamed with the application database on Palm OS 4.0 and higher. You do not need to set this bit in overlay databases. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094675"> </a><div class="CellBody"><span style="font-family: monospace">dmHdrAttrCopyPrevention</span> </div></td>
    <td><a name="1094677"> </a><div class="CellBody">Prevents the database from being copied by methods such as IR beaming.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094680"> </a><div class="CellBody"><span style="font-family: monospace">dmHdrAttrHidden</span> </div></td>
    <td><a name="1094682"> </a><div class="CellBody">This database should be hidden from view. For example, this attribute is set to hide some applications in the launcher's main view. You can set it on record databases to have the launcher disregard the database's records when showing a count of records.</div><a name="1094683"> </a><div class="CellBody"><br></div><a name="1094687"> </a><div class="CellBody">This attribute applies to Palm OS version 3.2 and higher. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094690"> </a><div class="CellBody"><span style="font-family: monospace">dmHdrAttrLaunchableData</span> </div></td>
    <td><a name="1094692"> </a><div class="CellBody">This database is a data database but it can be "launched" from the launcher. For example, this attribute is set in Palm Query Applications (PQAs) launched by the Web Clipping Application Viewer application. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094695"> </a><div class="CellBody"><span style="font-family: monospace">dmHdrAttrOpen</span> </div></td>
    <td><a name="1094697"> </a><div class="CellBody">The database is open.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094700"> </a><div class="CellBody"><span style="font-family: monospace">dmHdrAttrOKToInstallNewer</span> </div></td>
    <td><a name="1094702"> </a><div class="CellBody">The backup conduit can install a newer version of this database with a different name if the current database is open. This mechanism is used to update the Graffiti<sup>®</sup> and Graffiti 2 Shortcuts databases, for example. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094705"> </a><div class="CellBody"><span style="font-family: monospace">dmHdrAttrReadOnly</span> </div></td>
    <td><a name="1094707"> </a><div class="CellBody">The database is a read-only database.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094709"> </a><div class="CellBody"><span style="font-family: monospace">dmHdrAttrRecyclable</span> </div></td>
    <td><a name="1094711"> </a><div class="CellBody">The database is recyclable. Recyclable databases are deleted when they are closed or upon a system reset. </div><a name="1094712"> </a><div class="CellBody"><br></div><a name="1094713"> </a><div class="CellBody">This attribute applies to Palm OS 4.0 and higher. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094716"> </a><div class="CellBody"><span style="font-family: monospace">dmHdrAttrResDB</span> </div></td>
    <td><a name="1094718"> </a><div class="CellBody">The database is a resource database.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094721"> </a><div class="CellBody"><span style="font-family: monospace">dmHdrAttrResetAfterInstall</span> </div></td>
    <td><a name="1094723"> </a><div class="CellBody">The device must be reset after this database is installed. That is, the HotSync<sup>®</sup> application forces a reset after installing this database. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094726"> </a><div class="CellBody"><span style="font-family: monospace">dmHdrAttrStream</span> </div></td>
    <td><a name="1094728"> </a><div class="CellBody">The database is a file stream.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094731"> </a><div class="CellBody"><span style="font-family: monospace">dmSysOnlyHdrAttrs</span> </div></td>
    <td><a name="1094733"> </a><div class="CellBody">A mask specifying the attributes that only the system can change (open and resource database).</div></td>
  </tr>
</table>




</h5>
<h2 class="HBHeadB">
  <a name="1094735"> </a>Error Codes
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1094737"> </a>The following constants define error codes that are returned by the data manager and resource manager functions. Several functions return a failure value such as <span style="font-family: monospace">NULL</span> or 0 instead of an error code. In many cases, you can call <a href="DataAndResourceManager.html#1096057"><span style="font-family: monospace">DmGetLastErr</span></a> upon receiving this value and receive a more descriptive error code. 
</p>
<p class="Body">
  <a name="1094741"> </a>Also, note that on releases prior to Palm OS release 3.5, many data manager functions display a fatal error message using the <a href="ErrorManager.html#1103684"><span style="font-family: monospace">ErrFatalDisplayIf</span></a> macro if certain error conditions are true. Because the Palm OS ROMs are usually shipped with error checking set to partial, you receive the fatal error message. If a ROM is built with error checking set to none, the function returns one of the error codes listed here. (Note that Palm<sup>&#8482;</sup> has never released a ROM with error checking set to none and has no plans to do so.)
</p>

<h5 class="TgTable">
  <a name="1094915"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="1094747"> </a><div class="CellHeading">Constant</div></th>
    <th><a name="1094749"> </a><div class="CellHeading">Description</div></th>
  </tr>
  <tr valign="top">
    <td><a name="1094752"> </a><div class="CellBody"><span style="font-family: monospace">dmErrAlreadyExists</span> </div></td>
    <td><a name="1094754"> </a><div class="CellBody">Another database with the same name already exists in RAM store.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094756"> </a><div class="CellBody"><span style="font-family: monospace">dmErrAlreadyOpenForWrites</span> </div></td>
    <td><a name="1094758"> </a><div class="CellBody">The database is already open with write access.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094761"> </a><div class="CellBody"><span style="font-family: monospace">dmErrCantFind</span> </div></td>
    <td><a name="1094763"> </a><div class="CellBody">The specified resource can't be found.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094766"> </a><div class="CellBody"><span style="font-family: monospace">dmErrCantOpen</span> </div></td>
    <td><a name="1094768"> </a><div class="CellBody">The database cannot be opened.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094771"> </a><div class="CellBody"><span style="font-family: monospace">dmErrCorruptDatabase</span> </div></td>
    <td><a name="1094773"> </a><div class="CellBody">The database is corrupted.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094776"> </a><div class="CellBody"><span style="font-family: monospace">dmErrDatabaseOpen</span> </div></td>
    <td><a name="1094778"> </a><div class="CellBody">The function cannot be performed on an open database, and the database is open. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094782"> </a><div class="CellBody"><span style="font-family: monospace">dmErrDatabaseNotProtected</span> </div></td>
    <td><a name="1094787"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1095376"><span style="font-family: monospace">DmDatabaseProtect</span></a> failed to protect the specified database. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094790"> </a><div class="CellBody"><span style="font-family: monospace">dmErrIndexOutOfRange</span> </div></td>
    <td><a name="1094792"> </a><div class="CellBody">The specified index is out of range.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094795"> </a><div class="CellBody"><span style="font-family: monospace">dmErrInvalidDatabaseName</span> </div></td>
    <td><a name="1094797"> </a><div class="CellBody">The name you've specified for the database is invalid.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094800"> </a><div class="CellBody"><span style="font-family: monospace">dmErrInvalidParam</span> </div></td>
    <td><a name="1094802"> </a><div class="CellBody">The function received an invalid parameter.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094805"> </a><div class="CellBody"><span style="font-family: monospace">dmErrMemError</span> </div></td>
    <td><a name="1094807"> </a><div class="CellBody">A memory error occurred.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094809"> </a><div class="CellBody"><span style="font-family: monospace">dmErrNoOpenDatabase</span> </div></td>
    <td><a name="1094811"> </a><div class="CellBody">The function is to search all open databases, but there are none. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094814"> </a><div class="CellBody"><span style="font-family: monospace">dmErrNotRecordDB</span> </div></td>
    <td><a name="1094816"> </a><div class="CellBody">You've attempted to perform a record function on a resource database. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094818"> </a><div class="CellBody"><span style="font-family: monospace">dmErrNotResourceDB</span> </div></td>
    <td><a name="1094820"> </a><div class="CellBody">You've attempted to perform a resource manager function on a record database. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094823"> </a><div class="CellBody"><span style="font-family: monospace">dmErrNotValidRecord</span> </div></td>
    <td><a name="1094825"> </a><div class="CellBody">The record handle is invalid.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094827"> </a><div class="CellBody"><span style="font-family: monospace">dmErrOpenedByAnotherTask</span> </div></td>
    <td><a name="1094829"> </a><div class="CellBody">You've attempted to open a database that another task already has open. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094832"> </a><div class="CellBody"><span style="font-family: monospace">dmErrReadOnly</span> </div></td>
    <td><a name="1094834"> </a><div class="CellBody">You've attempted to write to or modify a database that is in read-only mode.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094838"> </a><div class="CellBody"><span style="font-family: monospace">dmErrRecordArchived</span> </div></td>
    <td><a name="1094840"> </a><div class="CellBody">The function requires that the record not be archived, but it is. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094842"> </a><div class="CellBody"><span style="font-family: monospace">dmErrRecordBusy</span> </div></td>
    <td><a name="1094844"> </a><div class="CellBody">The function requires that the record not be busy, but it is.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094847"> </a><div class="CellBody"><span style="font-family: monospace">dmErrRecordDeleted</span> </div></td>
    <td><a name="1094849"> </a><div class="CellBody">The record has been deleted.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094852"> </a><div class="CellBody"><span style="font-family: monospace">dmErrRecordInWrongCard</span> </div></td>
    <td><a name="1094854"> </a><div class="CellBody">You've attempted to attach a record to a database when the record and database reside on different memory cards. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094856"> </a><div class="CellBody"><span style="font-family: monospace">dmErrResourceNotFound</span> </div></td>
    <td><a name="1094858"> </a><div class="CellBody">The resource can't be found.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094861"> </a><div class="CellBody"><span style="font-family: monospace">dmErrROMBased</span> </div></td>
    <td><a name="1094863"> </a><div class="CellBody">You've attempted to delete or modify a ROM-based database.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094866"> </a><div class="CellBody"><span style="font-family: monospace">dmErrSeekFailed</span></div></td>
    <td><a name="1094868"> </a><div class="CellBody">The operation of seeking the next record in the category failed. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094871"> </a><div class="CellBody"><span style="font-family: monospace">dmErrUniqueIDNotFound</span> </div></td>
    <td><a name="1094873"> </a><div class="CellBody">A record with the specified unique ID can't be found.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094876"> </a><div class="CellBody"><span style="font-family: monospace">dmErrWriteOutOfBounds</span> </div></td>
    <td><a name="1094878"> </a><div class="CellBody">A write operation exceeded the bounds of the record. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094881"> </a><div class="CellBody"><span style="font-family: monospace">memErrCardNotPresent</span> </div></td>
    <td><a name="1094883"> </a><div class="CellBody">The specified card can't be found.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094886"> </a><div class="CellBody"><span style="font-family: monospace">memErrChunkLocked</span> </div></td>
    <td><a name="1094888"> </a><div class="CellBody">The associated memory chunk is locked. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094891"> </a><div class="CellBody"><span style="font-family: monospace">memErrInvalidParam</span> </div><a name="1094893"> </a><div class="CellBody"><span style="font-family: monospace">memErrNotEnoughSpace</span> </div></td>
    <td><a name="1094895"> </a><div class="CellBody">A memory error occurred.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094898"> </a><div class="CellBody"><span style="font-family: monospace">memErrInvalidStoreHeader</span></div><a name="1094900"> </a><div class="CellBody"><span style="font-family: monospace">memErrRAMOnlyCard</span> </div></td>
    <td><a name="1094902"> </a><div class="CellBody">The specified card has no storage RAM.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094907"> </a><div class="CellBody"><span style="font-family: monospace">omErrBaseRequiresOverlay</span> </div></td>
    <td><a name="1094909"> </a><div class="CellBody">An attempt was made to open a stripped resource database, but no associated overlay could be found. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094912"> </a><div class="CellBody"><span style="font-family: monospace">omErrUnknownLocale</span> </div></td>
    <td><a name="1094914"> </a><div class="CellBody">An attempt was made to open a resource database with overlays using an unknown locale. </div></td>
  </tr>
</table>




</h5>
<h2 class="HBHeadB">
  <a name="1094917"> </a>Open Mode Constants
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1094918"> </a>The following constants define the mode in which a database can be opened. You pass one or more of these as a parameter to <a href="DataAndResourceManager.html#1096792"><span style="font-family: monospace">DmOpenDatabase</span></a>, <a href="DataAndResourceManager.html#1096877"><span style="font-family: monospace">DmOpenDatabaseByTypeCreator</span></a>, or <a href="DataAndResourceManager.html#1096951"><span style="font-family: monospace">DmOpenDBNoOverlay</span></a>: 
</p>

<h5 class="TgTable">
  <a name="1094965"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="1094932"> </a><div class="CellHeading">Constant</div></th>
    <th><a name="1094934"> </a><div class="CellHeading">Description</div></th>
  </tr>
  <tr valign="top">
    <td><a name="1094937"> </a><div class="CellBody"><span style="font-family: monospace">dmModeReadWrite</span> </div></td>
    <td><a name="1094939"> </a><div class="CellBody">Read-write access.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094942"> </a><div class="CellBody"><span style="font-family: monospace">dmModeReadOnly</span> </div></td>
    <td><a name="1094944"> </a><div class="CellBody">Read-only access.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094947"> </a><div class="CellBody"><span style="font-family: monospace">dmModeWrite</span> </div></td>
    <td><a name="1094949"> </a><div class="CellBody">Write-only access. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094952"> </a><div class="CellBody"><span style="font-family: monospace">dmModeLeaveOpen</span> </div></td>
    <td><a name="1094954"> </a><div class="CellBody">Leave database open even after application quits.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094957"> </a><div class="CellBody"><span style="font-family: monospace">dmModeExclusive</span> </div></td>
    <td><a name="1094959"> </a><div class="CellBody">Don't let anyone else open this database.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094962"> </a><div class="CellBody"><span style="font-family: monospace">dmModeShowSecret</span> </div></td>
    <td><a name="1094964"> </a><div class="CellBody">Show records marked private. </div></td>
  </tr>
</table>




</h5>
<h2 class="HBHeadB">
  <a name="1111233"> </a>Miscellaneous Constants
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1111234"> </a>The following additional constants are used in conjunction with the Data Manager.
</p>

<h5 class="TgTable">
  <a name="1111281"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="1111248"> </a><div class="CellHeading">Constant</div></th>
    <th><a name="1111408"> </a><div class="CellHeading">Value</div></th>
    <th><a name="1111250"> </a><div class="CellHeading">Description</div></th>
  </tr>
  <tr valign="top">
    <td><a name="1111253"> </a><div class="CellBody"><span style="font-family: monospace">dmDBNameLength</span></div></td>
    <td><a name="1111410"> </a><div class="CellBody">32</div></td>
    <td><a name="1111255"> </a><div class="CellBody">Maximum length of a database name, including the null terminator. Database names must use only 7-bit ASCII characters (0x20 through 0x7E). </div></td>
  </tr>
</table>




</h5>
<h2 class="HaHeadA">
  <a name="1094967"> </a>Data Manager Functions 
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>


<h2 class="HBHeadB">
  <a name="1094970"> </a>DmArchiveRecord
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1094971"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1094972"> </a>Mark a record as archived by leaving the record's chunk intact and setting the delete bit for the next sync.
</p>
<h4 class="RefSide">
  <a name="1094974"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1094975"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1094976"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1094978"> </a>Err DmArchiveRecord (DmOpenRef dbP, UInt16 index)
</p>
<h4 class="RefSide">
  <a name="1094979"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1094980"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbP</span></td><td valign="top"><span style="font-family: monospace">DmOpenRef</span> to open database.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1094981"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">index</span></td><td valign="top">Which record to archive.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1094982"> </a>Result 
</h4>
<p class="Body">
  <a name="1094983"> </a>Returns <span style="font-family: monospace">errNone</span> if no error, or one of the following if an error occurs: 
</p>

  <a name="1094987"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094832"><span style="font-family: monospace">dmErrReadOnly</span></a></p>

  <a name="1094991"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094790"><span style="font-family: monospace">dmErrIndexOutOfRange</span></a></p>

  <a name="1094995"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094838"><span style="font-family: monospace">dmErrRecordArchived</span></a></p>

  <a name="1094999"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094847"><span style="font-family: monospace">dmErrRecordDeleted</span></a></p>

  <a name="1095003"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094891"><span style="font-family: monospace">memErrInvalidParam</span></a></p>
<p class="Body">
  <a name="1095004"> </a>Some releases may display a fatal error message instead of returning the error code. 
</p>
<h4 class="RefSide">
  <a name="1095005"> </a>Comments 
</h4>
<p class="Body">
  <a name="1095006"> </a>When a record is archived, the deleted bit is set but the chunk is not freed and the local ID is preserved. This way, the next time the user synchronizes with the desktop system, the desktop can save the record data on the PC before it permanently removes the record entry and data from the Palm Powered<sup>&#8482;</sup> device. 
</p>
<p class="Body">
  <a name="1095007"> </a>Based on the assumption that a call to <span style="font-family: monospace">DmArchiveRecord</span> indicates that you are finished with the record and aren't going to refer to it again, this function sets the chunk's lock count to zero.
</p>
<h4 class="RefSide">
  <a name="1095008"> </a>See Also 
</h4>
<p class="Body">
  <a name="1095018"> </a><a href="DataAndResourceManager.html#1097242"><span style="font-family: monospace">DmRemoveRecord</span></a>, <a href="DataAndResourceManager.html#1095645"><span style="font-family: monospace">DmDetachRecord</span></a>, <a href="DataAndResourceManager.html#1096544"><span style="font-family: monospace">DmNewRecord</span></a>, <a href="DataAndResourceManager.html#1095591"><span style="font-family: monospace">DmDeleteRecord</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1095023"> </a>DmAttachRecord
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1095024"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1095025"> </a>Attach an existing chunk ID handle to a database as a record. 
</p>
<h4 class="RefSide">
  <a name="1095026"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1095027"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1095028"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1095030"> </a>Err DmAttachRecord (DmOpenRef dbP, UInt16 *atP,<br>MemHandle newH, MemHandle *oldHP)
</p>
<h4 class="RefSide">
  <a name="1095031"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1095032"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbP</span></td><td valign="top"><span style="font-family: monospace">DmOpenRef</span> to open database.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095033"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;-&gt; <span style="font-family: monospace">atP</span></td><td valign="top">Pointer to the index where the new record should be placed. Specify the value <span style="font-family: monospace">dmMaxRecordIndex</span> to add the record to the end of the database. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095035"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">newH</span></td><td valign="top">Handle of the new record.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095036"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;-&gt; <span style="font-family: monospace">oldHP</span></td><td valign="top">If non-<span style="font-family: monospace">NULL</span> upon entry, indicates that the record at <span style="font-family: monospace">*atP</span> should be replaced. Upon return, contains the handle to the replaced record.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1095037"> </a>Result 
</h4>
<p class="Body">
  <a name="1095038"> </a>Returns <span style="font-family: monospace">errNone</span> if no error, or one of the following if an error occurs: 
</p>

  <a name="1095042"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094805"><span style="font-family: monospace">dmErrMemError</span></a> </p>

  <a name="1095046"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094886"><span style="font-family: monospace">memErrChunkLocked</span></a> </p>

  <a name="1095050"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094891"><span style="font-family: monospace">memErrInvalidParam</span></a> </p>

  <a name="1095054"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094893"><span style="font-family: monospace">memErrNotEnoughSpace</span></a> </p>

  <a name="1095058"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094832"><span style="font-family: monospace">dmErrReadOnly</span></a> </p>

  <a name="1095062"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094814"><span style="font-family: monospace">dmErrNotRecordDB</span></a> </p>

  <a name="1095066"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094852"><span style="font-family: monospace">dmErrRecordInWrongCard</span></a> </p>

  <a name="1095070"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094790"><span style="font-family: monospace">dmErrIndexOutOfRange</span></a> </p>
<p class="Body">
  <a name="1095071"> </a>Some releases may display a fatal error message instead of returning some of these error codes. 
</p>
<h4 class="RefSide">
  <a name="1095072"> </a>Comments 
</h4>
<p class="Body">
  <a name="1095073"> </a>Given the handle of an existing chunk, this routine makes that chunk a new record in a database and sets the dirty bit. The parameter <span style="font-family: monospace">atP</span> points to an index variable. If <span style="font-family: monospace">oldHP</span> is <span style="font-family: monospace">NULL</span>, the new record is inserted at index *<span style="font-family: monospace">atP</span> and all record indices that follow are shifted down. If *<span style="font-family: monospace">atP</span> is greater than the number of records currently in the database, the new record is appended to the end and its index is returned in *<span style="font-family: monospace">atP</span>. If <span style="font-family: monospace">oldHP</span> is not <span style="font-family: monospace">NULL</span>, the new record replaces an existing record at index *<span style="font-family: monospace">atP</span> and the handle of the old record is returned in *<span style="font-family: monospace">oldHP</span> so that the application can free it or attach it to another database.
</p>
<p class="Body">
  <a name="1095075"> </a>This function is useful for cutting and pasting between databases.
</p>
<h4 class="RefSide">
  <a name="1095076"> </a>See Also 
</h4>
<p class="Body">
  <a name="1095086"> </a><a href="DataAndResourceManager.html#1095645"><span style="font-family: monospace">DmDetachRecord</span></a>, <a href="DataAndResourceManager.html#1096544"><span style="font-family: monospace">DmNewRecord</span></a>, <a href="DataAndResourceManager.html#1096523"><span style="font-family: monospace">DmNewHandle</span></a>, <a href="DataAndResourceManager.html#1095899"><span style="font-family: monospace">DmFindSortPosition</span></a> 
</p>

<h2 class="HBHeadB">
  <a name="1095091"> </a>DmAttachResource
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1095092"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1095093"> </a>Attach an existing chunk ID to a resource database as a new resource.
</p>
<h4 class="RefSide">
  <a name="1095094"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1095095"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1095096"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1095098"> </a>Err DmAttachResource (DmOpenRef dbP,<br>MemHandle newH, DmResType resType, DmResID resID)
</p>
<h4 class="RefSide">
  <a name="1095099"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1095100"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbP</span></td><td valign="top"><span style="font-family: monospace">DmOpenRef</span> to open database.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095101"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">newH</span></td><td valign="top">Handle of new resource's data.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095102"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">resType</span></td><td valign="top">Type of the new resource.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095103"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">resID</span></td><td valign="top">ID of the new resource.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1095104"> </a>Result 
</h4>
<p class="Body">
  <a name="1095105"> </a>Returns <span style="font-family: monospace">errNone</span> if no error, or one of the following if an error occurs: 
</p>

  <a name="1095109"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094805"><span style="font-family: monospace">dmErrMemError</span></a> </p>

  <a name="1095113"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094886"><span style="font-family: monospace">memErrChunkLocked</span></a> </p>

  <a name="1095117"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094891"><span style="font-family: monospace">memErrInvalidParam</span></a> </p>

  <a name="1095121"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094893"><span style="font-family: monospace">memErrNotEnoughSpace</span></a> </p>

  <a name="1095125"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094832"><span style="font-family: monospace">dmErrReadOnly</span></a> </p>

  <a name="1095129"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094852"><span style="font-family: monospace">dmErrRecordInWrongCard</span></a> </p>
<p class="Body">
  <a name="1095130"> </a>Some releases may display a fatal error message instead of returning some of these error codes. All releases may display a fatal error message if the database is not a resource database. 
</p>
<h4 class="RefSide">
  <a name="1095131"> </a>Comments 
</h4>
<p class="Body">
  <a name="1095132"> </a>Given the handle of an existing chunk with resource data in it, this routine makes that chunk a new resource in a resource database. The new resource will have the given type and ID. 
</p>
<h4 class="RefSide">
  <a name="1095133"> </a>See Also 
</h4>
<p class="Body">
  <a name="1095143"> </a><a href="DataAndResourceManager.html#1095702"><span style="font-family: monospace">DmDetachResource</span></a>, <a href="DataAndResourceManager.html#1097293"><span style="font-family: monospace">DmRemoveResource</span></a>, <a href="DataAndResourceManager.html#1096523"><span style="font-family: monospace">DmNewHandle</span></a>, <a href="DataAndResourceManager.html#1096584"><span style="font-family: monospace">DmNewResource</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1095148"> </a>DmCloseDatabase
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1095149"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1095151"> </a>Close a database.
</p>
<h4 class="RefSide">
  <a name="1095152"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1095153"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1095154"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1095156"> </a>Err DmCloseDatabase (DmOpenRef dbP)
</p>
<h4 class="RefSide">
  <a name="1095157"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1095158"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbP</span></td><td valign="top">Database access pointer.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1095159"> </a>Result 
</h4>
<p class="Body">
  <a name="1095163"> </a>Returns <span style="font-family: monospace">errNone</span> if no error, or <a href="DataAndResourceManager.html#1094800"><span style="font-family: monospace">dmErrInvalidParam</span></a> if an error occurs. Some releases may display a fatal error message instead of returning the error code. 
</p>
<h4 class="RefSide">
  <a name="1095164"> </a>Comments 
</h4>
<p class="Body">
  <a name="1095165"> </a>This routine doesn't unlock any records that were left locked. Records and resources should not be left locked. If a record/resource is left locked, you should not use its reference because the record can disappear during a HotSync operation or if the database is deleted by the user. To prevent the database from being deleted, you can use <a href="DataAndResourceManager.html#1095376"><span style="font-family: monospace">DmDatabaseProtect</span></a> before closing. 
</p>
<p class="Body">
  <a name="1095170"> </a>If there is an overlay associated with the database passed in, <span style="font-family: monospace">DmCloseDatabase</span> closes the overlay as well. 
</p>
<p class="Body">
  <a name="1095172"> </a>If the database has the recyclable bit set (<span style="font-family: monospace">dmHdrAttrRecyclable</span>), <span style="font-family: monospace">DmCloseDatabase</span> calls <a href="DataAndResourceManager.html#1095503"><span style="font-family: monospace">DmDeleteDatabase</span></a> to delete it. 
</p>
<h4 class="RefSide">
  <a name="1095177"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1095178"> </a>Starting with Palm OS 2.0, <span style="font-family: monospace">DmCloseDatabase</span> updates the database's modification date. 
</p>

  <a name="1095179"> </a><p class="B1Bullet"> &#8226; On Palm OS 2.0, the modification date is updated if the database was opened with write access. </p>

  <a name="1095180"> </a><p class="B1Bullet"> &#8226; On Palm OS 3.0 and higher, the modification date is updated only if a change has been made and the database was opened with write access. Changes that trigger an update include adding, deleting, archiving, rearranging, or resizing records, setting a record's dirty bit in <a href="DataAndResourceManager.html#1097185"><span style="font-family: monospace">DmReleaseRecord</span></a>, rearranging or deleting categories, or updating the database header fields using <a href="DataAndResourceManager.html#1097604"><span style="font-family: monospace">DmSetDatabaseInfo</span></a>. </p>
<p class="Body">
  <a name="1095187"> </a>Under Palm OS 1.0, the modification date was never updated. 
</p>
<p class="Body">
  <a name="1095188"> </a>If you need to ensure that the modification date is updated the same way regardless of the operating system version, use <a href="DataAndResourceManager.html#1097604"><span style="font-family: monospace">DmSetDatabaseInfo</span></a> to set the modification date explicitly. 
</p>
<h4 class="RefSide">
  <a name="1095192"> </a>See Also 
</h4>
<p class="Body">
  <a name="1095199"> </a><a href="DataAndResourceManager.html#1096792"><span style="font-family: monospace">DmOpenDatabase</span></a>, <a href="DataAndResourceManager.html#1095503"><span style="font-family: monospace">DmDeleteDatabase</span></a><span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: underline; text-transform: none; vertical-align: baseline">, </span><a href="DataAndResourceManager.html#1096877"><span style="font-family: monospace">DmOpenDatabaseByTypeCreator</span></a> 
</p>

<h2 class="HBHeadB">
  <a name="1095205"> </a>DmCreateDatabase
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1095206"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1095207"> </a>Create a new database on the specified card with the given name, creator, and type.
</p>
<h4 class="RefSide">
  <a name="1095209"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1095210"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1095211"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1095213"> </a>Err DmCreateDatabase (UInt16 cardNo,<br>const Char *nameP, UInt32 creator, UInt32 type,<br>Boolean resDB)
</p>
<h4 class="RefSide">
  <a name="1095214"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1095215"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">cardNo</span></td><td valign="top">The card number to create the database on.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095216"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">nameP</span></td><td valign="top">Name of new database, up to 32 ASCII bytes long, including the null terminator (as specified by <span style="font-family: monospace">dmDBNameLength</span>). Database names must use only 7-bit ASCII characters (0x20 through 0x7E). </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095218"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">creator</span></td><td valign="top">Creator of the database. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095219"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">type</span></td><td valign="top">Type of the database.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095220"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">resDB</span></td><td valign="top">If <span style="font-family: monospace">true</span>, create a resource database.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1095221"> </a>Result 
</h4>
<p class="Body">
  <a name="1095222"> </a>Returns <span style="font-family: monospace">errNone</span> if no error, or one of the following if an error occurs: 
</p>

  <a name="1095226"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094795"><span style="font-family: monospace">dmErrInvalidDatabaseName</span></a> </p>

  <a name="1095230"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094752"><span style="font-family: monospace">dmErrAlreadyExists</span></a> </p>

  <a name="1095234"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094881"><span style="font-family: monospace">memErrCardNotPresent</span></a> </p>

  <a name="1095238"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094805"><span style="font-family: monospace">dmErrMemError</span></a> </p>

  <a name="1095242"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094886"><span style="font-family: monospace">memErrChunkLocked</span></a> </p>

  <a name="1095246"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094891"><span style="font-family: monospace">memErrInvalidParam</span></a> </p>

  <a name="1095250"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094898"><span style="font-family: monospace">memErrInvalidStoreHeader</span></a> </p>

  <a name="1095254"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094893"><span style="font-family: monospace">memErrNotEnoughSpace</span></a> </p>

  <a name="1095258"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094900"><span style="font-family: monospace">memErrRAMOnlyCard</span></a> </p>
<p class="Body">
  <a name="1095259"> </a>May display a fatal error message if the master database list cannot be found. 
</p>
<h4 class="RefSide">
  <a name="1095260"> </a>Comments 
</h4>
<p class="Body">
  <a name="1095261"> </a>Call this routine to create a new database on a specific card. If another database with the same name already exists in RAM store, this routine returns a <a href="DataAndResourceManager.html#1094752"><span style="font-family: monospace">dmErrAlreadyExists</span></a> error code. Once created, the database ID can be retrieved by calling <a href="DataAndResourceManager.html#1095749"><span style="font-family: monospace">DmFindDatabase</span></a>. The database can be opened using the database ID. To create a resource database instead of a record-based database, set the <span style="font-family: monospace">resDB</span> Boolean to <span style="font-family: monospace">true</span>.
</p>
<p class="Body">
  <a name="1095269"> </a>After you create a database, it's recommended that you call <a href="DataAndResourceManager.html#1097604"><span style="font-family: monospace">DmSetDatabaseInfo</span></a> to set the version number. Databases default to version 0 if the version isn't explicitly set. 
</p>
<h4 class="RefSide">
  <a name="1095273"> </a>See Also 
</h4>
<p class="Body">
  <a name="1095280"> </a><a href="DataAndResourceManager.html#1095286"><span style="font-family: monospace">DmCreateDatabaseFromImage</span></a>, <a href="DataAndResourceManager.html#1096792"><span style="font-family: monospace">DmOpenDatabase</span></a>, <a href="DataAndResourceManager.html#1095503"><span style="font-family: monospace">DmDeleteDatabase</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1095286"> </a>DmCreateDatabaseFromImage
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1095287"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1095288"> </a>Create an entire database from a single resource that contains an image of the database.
</p>
<h4 class="RefSide">
  <a name="1095289"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1095290"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1095291"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1095292"> </a>Err DmCreateDatabaseFromImage (MemPtr bufferP)
</p>
<h4 class="RefSide">
  <a name="1095293"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1095294"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">bufferP</span></td><td valign="top">Pointer to locked resource containing database image.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1095295"> </a>Result 
</h4>
<p class="Body">
  <a name="1095296"> </a>Returns <span style="font-family: monospace">errNone</span> if no error. 
</p>
<h4 class="RefSide">
  <a name="1095297"> </a>Comments 
</h4>
<p class="Body">
  <a name="1095298"> </a>An image is the same as a desktop file representation of a prc or pdb file. 
</p>
<p class="Body">
  <a name="1095299"> </a>This function is intended for applications in the ROM to install default databases after a hard reset. RAM-based applications that want to install a default database should install a pdb file separately to save storage heap space. 
</p>
<h4 class="RefSide">
  <a name="1105341"> </a>See Also 
</h4>
<p class="Body">
  <a name="1105348"> </a><a href="DataAndResourceManager.html#1095205"><span style="font-family: monospace">DmCreateDatabase</span></a>, <a href="DataAndResourceManager.html#1096792"><span style="font-family: monospace">DmOpenDatabase</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1105351"> </a>DmDatabaseInfo
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1095311"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1095312"> </a>Retrieve information about a database.
</p>
<h4 class="RefSide">
  <a name="1095313"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1095314"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1095315"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1095317"> </a>Err DmDatabaseInfo (UInt16 cardNo, LocalID dbID,<br>Char *nameP, UInt16 *attributesP,<br>UInt16 *versionP, UInt32 *crDateP,<br>UInt32 *modDateP, UInt32 *bckUpDateP,<br>UInt32 *modNumP, LocalID *appInfoIDP,<br>LocalID *sortInfoIDP, UInt32 *typeP,<br>UInt32 *creatorP)
</p>
<h4 class="RefSide">
  <a name="1095318"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1095319"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">cardNo</span></td><td valign="top">Number of the card the database resides on.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095320"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbID</span></td><td valign="top">Database ID of the database.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095321"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;- <span style="font-family: monospace">nameP</span></td><td valign="top">The database's name. Pass a pointer to 32-byte character array for this parameter, or <span style="font-family: monospace">NULL</span> if you don't care about the name.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095322"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;- <span style="font-family: monospace">attributesP</span></td><td valign="top">The database's attribute flags. The section <a href="DataAndResourceManager.html#1094637">"Database Attribute Constants"</a> lists constants you can use to query the values returned in this parameter. Pass <span style="font-family: monospace">NULL</span> for this parameter if you don't want to retrieve it. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095326"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;- <span style="font-family: monospace">versionP</span></td><td valign="top">The application-specific version number. The default version number is 0. Pass <span style="font-family: monospace">NULL</span> for this parameter if you don't want to retrieve it. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095327"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;- <span style="font-family: monospace">crDateP</span></td><td valign="top">The date the database was created, expressed as the number of seconds since the first instant of Jan. 1, 1904. Pass <span style="font-family: monospace">NULL</span> for this parameter if you don't want to retrieve it. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095328"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;- <span style="font-family: monospace">modDateP</span></td><td valign="top">The date the database was last modified, expressed as the number of seconds since the first instant of Jan. 1, 1904. Pass <span style="font-family: monospace">NULL</span> for this parameter if you don't want to retrieve it. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095329"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;- <span style="font-family: monospace">bckUpDateP</span></td><td valign="top">The date the database was backed up, expressed as the number of seconds since the first instant of Jan. 1, 1904. Pass <span style="font-family: monospace">NULL</span> for this parameter if you don't want to retrieve it. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095330"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;- <span style="font-family: monospace">modNumP</span></td><td valign="top">The modification number, which is incremented every time a record in the database is added, modified, or deleted. Pass <span style="font-family: monospace">NULL</span> for this parameter if you don't want to retrieve it. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095331"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;- <span style="font-family: monospace">appInfoIDP</span></td><td valign="top">The local ID of the application info block, or <span style="font-family: monospace">NULL</span>. The application info block is an optional field that the database may use to store application-specific information about the database. Pass <span style="font-family: monospace">NULL</span> for this parameter if you don't want to retrieve it. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095332"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;- <span style="font-family: monospace">sortInfoIDP</span></td><td valign="top">The local ID of the database's sort table. This is an optional field in the database header. Pass <span style="font-family: monospace">NULL</span> for this parameter if you don't want to retrieve it. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095333"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;- <span style="font-family: monospace">typeP</span></td><td valign="top">The database's type, specified when it is created. Pass <span style="font-family: monospace">NULL</span> for this parameter if you don't want to retrieve it. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095334"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;- <span style="font-family: monospace">creatorP</span></td><td valign="top">The database's creator, specified when it is created. Pass <span style="font-family: monospace">NULL</span> for this parameter if you don't want to retrieve it. </td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1095335"> </a>Result 
</h4>
<p class="Body">
  <a name="1095339"> </a>Returns <span style="font-family: monospace">errNone</span> if no error, or <a href="DataAndResourceManager.html#1094800"><span style="font-family: monospace">dmErrInvalidParam</span></a> if an error occurs.
</p>
<h4 class="RefSide">
  <a name="1095340"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1095341"> </a>Updating of the modification date differs based on which version of the OS your application is running on. 
</p>

  <a name="1095342"> </a><p class="B1Bullet"> &#8226; Under Palm OS 1.0, the modification date is never updated. </p>

  <a name="1095343"> </a><p class="B1Bullet"> &#8226; Under Palm OS 2.0, the modification date is updated every time a database opened with write access is closed. </p>

  <a name="1095344"> </a><p class="B1Bullet"> &#8226; Beginning with Palm OS 3.0, the modification date is updated only if a change has been made to the database opened with write access. (The update still occurs upon closing the database.) Changes that trigger an update include adding, deleting, archiving, rearranging, or resizing records, setting a record's dirty bit in <a href="DataAndResourceManager.html#1097185"><span style="font-family: monospace">DmReleaseRecord</span></a>, rearranging or deleting categories, or updating the database header fields using <a href="DataAndResourceManager.html#1097604"><span style="font-family: monospace">DmSetDatabaseInfo</span></a>. </p>
<p class="Body">
  <a name="1095351"> </a>If you need to ensure that the modification date is updated the same way regardless of the operating system version, use <a href="DataAndResourceManager.html#1097604"><span style="font-family: monospace">DmSetDatabaseInfo</span></a> to set the modification date explicitly. 
</p>
<h4 class="RefSide">
  <a name="1095355"> </a>See Also 
</h4>
<p class="Body">
  <a name="1095362"> </a><a href="DataAndResourceManager.html#1097604"><span style="font-family: monospace">DmSetDatabaseInfo</span></a>, <a href="DataAndResourceManager.html#1095426"><span style="font-family: monospace">DmDatabaseSize</span></a>, <a href="DataAndResourceManager.html#1096925"><span style="font-family: monospace">DmOpenDatabaseInfo</span></a>, <a href="DataAndResourceManager.html#1095749"><span style="font-family: monospace">DmFindDatabase</span></a>, <a href="DataAndResourceManager.html#1096175"><span style="font-family: monospace">DmGetNextDatabaseByTypeCreator</span></a>, <a href="DateAndTimeManager.html#1174736"><span style="font-family: monospace">TimSecondsToDateTime</span></a> 
</p>

<h2 class="HBHeadB">
  <a name="1095376"> </a>DmDatabaseProtect
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1095377"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1095379"> </a>Increment or decrement the database's protection count. 
</p>
<h4 class="RefSide">
  <a name="1095380"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1095381"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1095382"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1095384"> </a>Err DmDatabaseProtect (UInt16 cardNo,<br>LocalID dbID, Boolean protect)
</p>
<h4 class="RefSide">
  <a name="1095385"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1095386"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">cardNo</span> </td><td valign="top">Card number of database to protect/unprotect.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095387"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbID</span></td><td valign="top">Local ID of database to protect/unprotect.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095388"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">protect</span></td><td valign="top">If <span style="font-family: monospace">true</span>, <span style="font-family: monospace">protect</span> count will be incremented. If <span style="font-family: monospace">false</span>, <span style="font-family: monospace">protect</span> count will be decremented.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1095389"> </a>Result 
</h4>
<p class="Body">
  <a name="1095390"> </a>Returns <span style="font-family: monospace">errNone</span> if no error, or one of the following if an error occurs: 
</p>

  <a name="1095394"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094881"><span style="font-family: monospace">memErrCardNotPresent</span></a></p>

  <a name="1095398"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094861"><span style="font-family: monospace">dmErrROMBased</span></a></p>

  <a name="1095402"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094761"><span style="font-family: monospace">dmErrCantFind</span></a></p>

  <a name="1095406"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094893"><span style="font-family: monospace">memErrNotEnoughSpace</span></a></p>

  <a name="1095410"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094782"><span style="font-family: monospace">dmErrDatabaseNotProtected</span></a></p>
<h4 class="RefSide">
  <a name="1095411"> </a>Comments 
</h4>
<p class="Body">
  <a name="1095412"> </a>This routine can be used to prevent a database from being deleted (by passing <span style="font-family: monospace">true</span> for the <span style="font-family: monospace">protect</span> parameter). It increments the protect count if <span style="font-family: monospace">protect</span> is <span style="font-family: monospace">true</span> and decrements it if <span style="font-family: monospace">protect</span> is <span style="font-family: monospace">false</span>. All <span style="font-family: monospace">true</span> calls should be balanced by <span style="font-family: monospace">false</span> calls before the application terminates. 
</p>
<p class="Body">
  <a name="1095414"> </a>Use this function if you want to keep a particular record or resource in a database locked down but don't want to keep the database open. This information is kept in the dynamic heap, so all databases are "unprotected" at system reset. 
</p>
<p class="Body">
  <a name="1095415"> </a>If the database is a resource database that has an overlay associated with it for the current locale, the overlay is also protected or unprotected by this call. 
</p>
<h4 class="RefSide">
  <a name="1095416"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1095420"> </a>Implemented only if <a href="CompatibilityApdx.html#969280">2.0 New Feature Set</a> is present. Overlay support is only available if <a href="CompatibilityApdx.html#971113">3.5 New Feature Set</a> is present.
</p>

<h2 class="HBHeadB">
  <a name="1095426"> </a>DmDatabaseSize
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1095427"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1095428"> </a>Retrieve size information on a database.
</p>
<h4 class="RefSide">
  <a name="1095429"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1095430"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1095431"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1095433"> </a>Err DmDatabaseSize (UInt16 cardNo, LocalID dbID,<br>UInt32 *numRecordsP, UInt32 *totalBytesP,<br>UInt32 *dataBytesP)
</p>
<h4 class="RefSide">
  <a name="1095434"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1095435"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">cardNo</span></td><td valign="top">Card number the database resides on.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095436"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbID</span></td><td valign="top">Database ID of the database.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095437"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;- <span style="font-family: monospace">numRecordsP</span></td><td valign="top">The total number of records in the database. Pass <span style="font-family: monospace">NULL</span> for this parameter if you don't want to retrieve it.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095438"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;- <span style="font-family: monospace">totalBytesP</span></td><td valign="top">The total number of bytes used by the database including the overhead. Pass <span style="font-family: monospace">NULL</span> for this parameter if you don't want to retrieve it.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095439"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;- <span style="font-family: monospace">dataBytesP</span></td><td valign="top">The total number of bytes used to store just each record's data, not including overhead. Pass <span style="font-family: monospace">NULL</span> for this parameter if you don't want to retrieve it.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1095440"> </a>Result 
</h4>
<p class="Body">
  <a name="1095444"> </a>Returns <span style="font-family: monospace">errNone</span> if no error, or <a href="DataAndResourceManager.html#1094805"><span style="font-family: monospace">dmErrMemError</span></a> if an error occurs. 
</p>
<h4 class="RefSide">
  <a name="1095445"> </a>See Also 
</h4>
<p class="Body">
  <a name="1095455"> </a><a href="DataAndResourceManager.html#1105351"><span style="font-family: monospace">DmDatabaseInfo</span></a>, <a href="DataAndResourceManager.html#1096925"><span style="font-family: monospace">DmOpenDatabaseInfo</span></a>, <a href="DataAndResourceManager.html#1095749"><span style="font-family: monospace">DmFindDatabase</span></a>, <a href="DataAndResourceManager.html#1096175"><span style="font-family: monospace">DmGetNextDatabaseByTypeCreator</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1095460"> </a>DmDeleteCategory
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1095461"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1095462"> </a>Delete all records in a category. The category name is not changed.
</p>
<h4 class="RefSide">
  <a name="1095463"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1095464"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1095465"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1095467"> </a>Err DmDeleteCategory (DmOpenRef dbR,<br>UInt16 categoryNum)
</p>
<h4 class="RefSide">
  <a name="1095468"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1095469"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbR</span></td><td valign="top">Database access pointer.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095470"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">categoryNum</span></td><td valign="top">Category of records to delete. Category masks such as <span style="font-family: monospace">dmAllCategories</span> are invalid. </td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1095471"> </a>Result 
</h4>
<p class="Body">
  <a name="1095472"> </a>Returns <span style="font-family: monospace">errNone</span> if no error, or one of the following if an error occurs: 
</p>

  <a name="1095476"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094832"><span style="font-family: monospace">dmErrReadOnly</span></a></p>

  <a name="1095480"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094891"><span style="font-family: monospace">memErrInvalidParam</span></a></p>
<p class="Body">
  <a name="1095481"> </a>Some releases may display a fatal error message instead of returning the error code. 
</p>
<h4 class="RefSide">
  <a name="1095482"> </a>Comments 
</h4>
<p class="Body">
  <a name="1095483"> </a>This function deletes all records in a category, but does not delete the category itself (note that it deletes the record data and header info, and doesn't just set the deleted bit). For each record in the category, <span style="font-family: monospace">DmDeleteCategory</span> marks the <span style="font-family: monospace">delete</span> bit in the database header for the record and disposes of the record's data chunk. The record entry in the database header remains, but its <span style="font-family: monospace">localChunkID</span> is set to <span style="font-family: monospace">NULL</span>. 
</p>
<p class="Body">
  <a name="1095485"> </a>If the category contains no records, this function does nothing and returns <span style="font-family: monospace">errNone</span> to indicate success. The <span style="font-family: monospace">categoryNum</span> parameter is assumed to represent a single category. If you pass a category mask to specify more than one category, this function interprets that value as a single category, finds no records to delete in that category, and returns <span style="font-family: monospace">errNone</span>. 
</p>
<p class="Body">
  <a name="1095489"> </a>You can use the <a href="DataAndResourceManager.html#1097150"><span style="font-family: monospace">DmRecordInfo</span></a> call to obtain a category index from a given record. For example: 
</p>
<pre  class="Preformatted">
DmOpenRef myDB;<a name="1095490"> </a>
UInt16 record, attr, category, total;<a name="1095491"> </a>
 <a name="1095492"> </a>
DmRecordInfo(myDB, record, &amp;attr, NULL, NULL);<a name="1095493"> </a>
category = attr &amp; dmRecAttrCategoryMask;<a name="1095494"> </a>
err = DmDeleteCategory(myDB, category);<a name="1095495"> </a>
</pre>
<h4 class="RefSide">
  <a name="1095496"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1095500"> </a>Implemented only if <a href="CompatibilityApdx.html#969280">2.0 New Feature Set</a> is present.
</p>

<h2 class="HBHeadB">
  <a name="1095503"> </a>DmDeleteDatabase
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1095504"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1095505"> </a>Delete a database and all its records.
</p>
<h4 class="RefSide">
  <a name="1095506"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1095507"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1095508"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1095510"> </a>Err DmDeleteDatabase (UInt16 cardNo, LocalID dbID)
</p>
<h4 class="RefSide">
  <a name="1095511"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1095512"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">cardNo</span></td><td valign="top">Card number the database resides on.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095513"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbID</span></td><td valign="top">Database ID.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1095514"> </a>Result 
</h4>
<p class="Body">
  <a name="1095515"> </a>Returns <span style="font-family: monospace">errNone</span> if no error, or one of the following if an error occurs: 
</p>

  <a name="1095519"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094761"><span style="font-family: monospace">dmErrCantFind</span></a> </p>

  <a name="1095523"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094766"><span style="font-family: monospace">dmErrCantOpen</span></a> </p>

  <a name="1095527"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094886"><span style="font-family: monospace">memErrChunkLocked</span></a> </p>

  <a name="1095531"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094776"><span style="font-family: monospace">dmErrDatabaseOpen</span></a> </p>

  <a name="1095535"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094861"><span style="font-family: monospace">dmErrROMBased</span></a> </p>

  <a name="1095539"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094891"><span style="font-family: monospace">memErrInvalidParam</span></a> </p>

  <a name="1095543"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094893"><span style="font-family: monospace">memErrNotEnoughSpace</span></a> </p>
<h4 class="RefSide">
  <a name="1095544"> </a>Comments 
</h4>
<p class="Body">
  <a name="1095545"> </a>Call this routine to delete a database. This routine deletes the database, the application info block, the sort info block, and any other overhead information that is associated with this database. After deleting the database, this function enqueues a deferred <a href="Notifications.html#979924"><span style="font-family: monospace">sysNotifyDBDeletedEvent</span></a> notification, which will be broadcast at the top of the event loop. 
</p>
<p class="Body">
  <a name="1095550"> </a>If the database has an overlay associated with it, this function does <b>not</b> delete the overlay. You can delete the overlay with a separate call to <span style="font-family: monospace">DmDeleteDatabase</span>. 
</p>
<p class="Body">
  <a name="1095551"> </a>This routine accepts a database ID as a parameter. To determine the database ID, call either <a href="DataAndResourceManager.html#1095749"><span style="font-family: monospace">DmFindDatabase</span></a> or <a href="DataAndResourceManager.html#1095999"><span style="font-family: monospace">DmGetDatabase</span></a> with a database index.
</p>
<h4 class="RefSide">
  <a name="1095561"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1095565"> </a>The <a href="Notifications.html#979924"><span style="font-family: monospace">sysNotifyDBDeletedEvent</span></a> notification is only broadcast if the <a href="CompatibilityApdx.html#971763">4.0 New Feature Set</a> is present. 
</p>
<h4 class="RefSide">
  <a name="1095569"> </a>See Also 
</h4>
<p class="Body">
  <a name="1095579"> </a><a href="DataAndResourceManager.html#1095591"><span style="font-family: monospace">DmDeleteRecord</span></a>, <a href="DataAndResourceManager.html#1097242"><span style="font-family: monospace">DmRemoveRecord</span></a>, <a href="DataAndResourceManager.html#1097293"><span style="font-family: monospace">DmRemoveResource</span></a>, <a href="DataAndResourceManager.html#1095205"><span style="font-family: monospace">DmCreateDatabase</span></a>, <a href="DataAndResourceManager.html#1096175"><span style="font-family: monospace">DmGetNextDatabaseByTypeCreator</span></a>, <a href="DataAndResourceManager.html#1095749"><span style="font-family: monospace">DmFindDatabase</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1095591"> </a>DmDeleteRecord
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1095592"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1095593"> </a>Delete a record's chunk from a database but leave the record entry in the header and set the <span style="font-family: monospace">delete</span> bit for the next sync.
</p>
<h4 class="RefSide">
  <a name="1095595"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1095596"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1095597"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1095599"> </a>Err DmDeleteRecord (DmOpenRef dbP, UInt16 index)
</p>
<h4 class="RefSide">
  <a name="1095600"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1095601"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbP</span></td><td valign="top"><span style="font-family: monospace">DmOpenRef</span> to open database.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095602"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">index</span></td><td valign="top">Which record to delete.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1095603"> </a>Result 
</h4>
<p class="Body">
  <a name="1095604"> </a>Returns <span style="font-family: monospace">errNone</span> if no error, or one of the following if an error occurs: 
</p>

  <a name="1095608"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094832"><span style="font-family: monospace">dmErrReadOnly</span></a></p>

  <a name="1095612"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094790"><span style="font-family: monospace">dmErrIndexOutOfRange</span></a></p>

  <a name="1095616"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094838"><span style="font-family: monospace">dmErrRecordArchived</span></a></p>

  <a name="1095620"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094847"><span style="font-family: monospace">dmErrRecordDeleted</span></a></p>

  <a name="1095624"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094891"><span style="font-family: monospace">memErrInvalidParam</span></a></p>
<p class="Body">
  <a name="1095625"> </a>Some releases may display a fatal error message instead of returning the error code. 
</p>
<h4 class="RefSide">
  <a name="1095626"> </a>Comments 
</h4>
<p class="Body">
  <a name="1095628"> </a>Marks the <span style="font-family: monospace">delete</span> bit in the database header for the record and disposes of the record's data chunk. Does not remove the record entry from the database header, but simply sets the <span style="font-family: monospace">localChunkID</span> of the record entry to <span style="font-family: monospace">NULL</span>.
</p>
<h4 class="RefSide">
  <a name="1095629"> </a>See Also 
</h4>
<p class="Body">
  <a name="1095639"> </a><a href="DataAndResourceManager.html#1095645"><span style="font-family: monospace">DmDetachRecord</span></a>, <a href="DataAndResourceManager.html#1097242"><span style="font-family: monospace">DmRemoveRecord</span></a>, <a href="DataAndResourceManager.html#1094970"><span style="font-family: monospace">DmArchiveRecord</span></a>, <a href="DataAndResourceManager.html#1096544"><span style="font-family: monospace">DmNewRecord</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1095645"> </a>DmDetachRecord
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1095646"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1095647"> </a>Detach and orphan a record from a database but don't delete the record's chunk.
</p>
<h4 class="RefSide">
  <a name="1095648"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1095649"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1095650"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1095652"> </a>Err DmDetachRecord (DmOpenRef dbP, UInt16 index,<br>MemHandle *oldHP)
</p>
<h4 class="RefSide">
  <a name="1095653"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1095654"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbP</span></td><td valign="top"><span style="font-family: monospace">DmOpenRef</span> to open.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095655"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">index</span></td><td valign="top">Index of the record to detach.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095656"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;-&gt; <span style="font-family: monospace">oldHP</span></td><td valign="top">Pointer to return handle of the detached record.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1095657"> </a>Result 
</h4>
<p class="Body">
  <a name="1095658"> </a>Returns <span style="font-family: monospace">errNone</span> if no error, or one of the following if an error occurs: 
</p>

  <a name="1095662"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094832"><span style="font-family: monospace">dmErrReadOnly</span></a></p>

  <a name="1095666"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094790"><span style="font-family: monospace">dmErrIndexOutOfRange</span></a></p>

  <a name="1095670"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094814"><span style="font-family: monospace">dmErrNotRecordDB</span></a></p>

  <a name="1095674"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094886"><span style="font-family: monospace">memErrChunkLocked</span></a></p>

  <a name="1095678"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094891"><span style="font-family: monospace">memErrInvalidParam</span></a></p>
<p class="Body">
  <a name="1095679"> </a>Some releases may display a fatal error message instead of returning the error code. 
</p>
<h4 class="RefSide">
  <a name="1095680"> </a>Comments 
</h4>
<p class="Body">
  <a name="1095682"> </a>This routine detaches a record from a database by removing its entry from the database header and returns the handle of the record's data chunk in <span style="font-family: monospace">*oldHP</span>. Unlike <a href="DataAndResourceManager.html#1095591"><span style="font-family: monospace">DmDeleteRecord</span></a>, this routine removes its entry in the database header but it does not delete the actual record.
</p>
<h4 class="RefSide">
  <a name="1095686"> </a>See Also 
</h4>
<p class="Body">
  <a name="1095696"> </a><a href="DataAndResourceManager.html#1095023"><span style="font-family: monospace">DmAttachRecord</span></a>, <a href="DataAndResourceManager.html#1097242"><span style="font-family: monospace">DmRemoveRecord</span></a>, <a href="DataAndResourceManager.html#1094970"><span style="font-family: monospace">DmArchiveRecord</span></a>, <a href="DataAndResourceManager.html#1095591"><span style="font-family: monospace">DmDeleteRecord</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1095702"> </a>DmDetachResource
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1095703"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1095704"> </a>Detach a resource from a database and return the handle of the resource's data.
</p>
<h4 class="RefSide">
  <a name="1095705"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1095706"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1095707"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1095709"> </a>Err DmDetachResource (DmOpenRef dbP, UInt16 index,<br>MemHandle *oldHP)
</p>
<h4 class="RefSide">
  <a name="1095710"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1095711"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbP</span></td><td valign="top"><span style="font-family: monospace">DmOpenRef</span> to open database.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095712"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">index</span></td><td valign="top">Index of resource to detach.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095713"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;-&gt; <span style="font-family: monospace">oldHP</span></td><td valign="top">Pointer to return handle of the detached record.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1095714"> </a>Result 
</h4>
<p class="Body">
  <a name="1095715"> </a>Returns <span style="font-family: monospace">errNone</span> if no error, or one of the following if an error occurs: 
</p>

  <a name="1095719"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094832"><span style="font-family: monospace">dmErrReadOnly</span></a></p>

  <a name="1095723"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094790"><span style="font-family: monospace">dmErrIndexOutOfRange</span></a></p>

  <a name="1095727"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094771"><span style="font-family: monospace">dmErrCorruptDatabase</span></a></p>

  <a name="1095731"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094886"><span style="font-family: monospace">memErrChunkLocked</span></a></p>

  <a name="1095735"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094891"><span style="font-family: monospace">memErrInvalidParam</span></a></p>
<p class="Body">
  <a name="1095736"> </a>Some releases may display a fatal error message instead of returning the error code. All releases may display a fatal error message if the database is not a resource database. 
</p>
<h4 class="RefSide">
  <a name="1095737"> </a>Comments 
</h4>
<p class="Body">
  <a name="1095738"> </a>This routine detaches a resource from a database by removing its entry from the database header and returns the handle of the resource's data chunk in *<span style="font-family: monospace">oldHP</span>. 
</p>
<h4 class="RefSide">
  <a name="1095739"> </a>See Also 
</h4>
<p class="Body">
  <a name="1095746"> </a><a href="DataAndResourceManager.html#1095091"><span style="font-family: monospace">DmAttachResource</span></a>, <a href="DataAndResourceManager.html#1097293"><span style="font-family: monospace">DmRemoveResource</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1095749"> </a>DmFindDatabase
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1095750"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1095752"> </a>Return the database ID of a database by card number and name.
</p>
<h4 class="RefSide">
  <a name="1095753"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1095754"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1095755"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1095757"> </a>LocalID DmFindDatabase (UInt16 cardNo,<br>const Char *nameP)
</p>
<h4 class="RefSide">
  <a name="1095758"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1095759"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">cardNo</span></td><td valign="top">Number of card to search.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095760"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">nameP</span></td><td valign="top">Name of the database to look for.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1095761"> </a>Result 
</h4>
<p class="Body">
  <a name="1095762"> </a>Returns the database ID. If the database can't be found, this function returns 0, and <a href="DataAndResourceManager.html#1096057"><span style="font-family: monospace">DmGetLastErr</span></a> returns an error code indicating the reason for failure.
</p>
<h4 class="RefSide">
  <a name="1095766"> </a>See Also 
</h4>
<p class="Body">
  <a name="1095773"> </a><a href="DataAndResourceManager.html#1096175"><span style="font-family: monospace">DmGetNextDatabaseByTypeCreator</span></a>, <a href="DataAndResourceManager.html#1105351"><span style="font-family: monospace">DmDatabaseInfo</span></a>, <a href="DataAndResourceManager.html#1096792"><span style="font-family: monospace">DmOpenDatabase</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1095778"> </a>DmFindRecordByID
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1095779"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1095781"> </a>Return the index of the record with the given unique ID.
</p>
<h4 class="RefSide">
  <a name="1095782"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1095783"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1095784"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1095786"> </a>Err DmFindRecordByID (DmOpenRef dbP,<br>UInt32 uniqueID, UInt16 *indexP)
</p>
<h4 class="RefSide">
  <a name="1095787"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1095788"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbP</span></td><td valign="top">Database access pointer.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095789"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">uniqueID</span></td><td valign="top">Unique ID to search for.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095790"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;- <span style="font-family: monospace">indexP</span></td><td valign="top">Return index.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1095791"> </a>Result 
</h4>
<p class="Body">
  <a name="1095795"> </a>Returns 0 if found, otherwise <a href="DataAndResourceManager.html#1094871"><span style="font-family: monospace">dmErrUniqueIDNotFound</span></a>. May display a fatal error message if the unique ID is invalid. 
</p>
<h4 class="RefSide">
  <a name="1095796"> </a>See Also 
</h4>
<p class="Body">
  <a name="1095806"> </a><a href="DataAndResourceManager.html#1097086"><span style="font-family: monospace">DmQueryRecord</span></a>, <a href="DataAndResourceManager.html#1096247"><span style="font-family: monospace">DmGetRecord</span></a>, <a href="DataAndResourceManager.html#1097150"><span style="font-family: monospace">DmRecordInfo</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1095809"> </a>DmFindResource
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1095810"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1095811"> </a>Search the given database for a resource by type and ID, or by pointer if it is non-<span style="font-family: monospace">NULL</span>.
</p>
<h4 class="RefSide">
  <a name="1095812"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1095813"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1095814"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1095816"> </a>UInt16 DmFindResource (DmOpenRef dbP,<br>DmResType resType, DmResID resID, MemHandle resH)
</p>
<h4 class="RefSide">
  <a name="1095817"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1095818"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbP</span></td><td valign="top">Open resource database access pointer.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095819"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">resType</span></td><td valign="top">Type of resource to search for.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095820"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">resID</span></td><td valign="top">ID of resource to search for.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095821"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt;<span style="font-family: monospace">resH</span></td><td valign="top">Pointer to locked resource, or <span style="font-family: monospace">NULL</span>.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1095822"> </a>Result 
</h4>
<p class="Body">
  <a name="1095823"> </a>Returns index of resource in resource database, or <span style="font-family: monospace">0xFFFF</span> if not found.
</p>
<p class="Body">
  <a name="1095824"> </a>May display a fatal error message if the database is not a resource database. 
</p>
<h4 class="RefSide">
  <a name="1095825"> </a>Comments 
</h4>
<p class="Body">
  <a name="1095826"> </a>Use this routine to find a resource in a particular resource database by type and ID or by pointer. It is particularly useful when you want to search only one database for a resource and that database is not the topmost one. 
</p>
<div class="NINoteImportant"><hr>
  <a name="1095827"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">IMPORTANT:  </span> This function searches for the resource only in the database you specify. If you pass a pointer to a base resource database, its overlay is <b>not</b> searched. To search both a base database and its overlay for a localized resource, use <a href="DataAndResourceManager.html#1096369"><span style="font-family: monospace">DmGet1Resource</span></a> instead of this function.
<hr>
</div>
<p class="Body">
  <a name="1095831"> </a>If <span style="font-family: monospace">resH</span> is <span style="font-family: monospace">NULL</span>, the resource is searched for by type and ID.
</p>
<p class="Body">
  <a name="1095832"> </a>If <span style="font-family: monospace">resH</span> is not <span style="font-family: monospace">NULL</span>, <span style="font-family: monospace">resType</span> and <span style="font-family: monospace">resID</span> are ignored and the index of the given locked resource is returned. 
</p>
<p class="Body">
  <a name="1095833"> </a>Once the index of a resource is determined, it can be locked down and accessed by calling <a href="DataAndResourceManager.html#1096326"><span style="font-family: monospace">DmGetResourceIndex</span></a>. 
</p>
<h4 class="RefSide">
  <a name="1095837"> </a>See Also 
</h4>
<p class="Body">
  <a name="1095847"> </a><a href="DataAndResourceManager.html#1096290"><span style="font-family: monospace">DmGetResource</span></a>, <a href="DataAndResourceManager.html#1097502"><span style="font-family: monospace">DmSearchResource</span></a>, <a href="DataAndResourceManager.html#1097436"><span style="font-family: monospace">DmResourceInfo</span></a>, <a href="DataAndResourceManager.html#1096326"><span style="font-family: monospace">DmGetResourceIndex</span></a>, <a href="DataAndResourceManager.html#1095856"><span style="font-family: monospace">DmFindResourceType</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1095856"> </a>DmFindResourceType
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1095857"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1095859"> </a>Search the given database for a resource by type and type index.
</p>
<h4 class="RefSide">
  <a name="1095860"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1095861"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1095862"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1095864"> </a>UInt16 DmFindResourceType (DmOpenRef dbP,<br>DmResType resType, UInt16 typeIndex)
</p>
<h4 class="RefSide">
  <a name="1095865"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1095866"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbP</span></td><td valign="top">Open resource database access pointer.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095867"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">resType</span></td><td valign="top">Type of resource to search for.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095868"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">typeIndex</span></td><td valign="top">Index of given resource type.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1095869"> </a>Result 
</h4>
<p class="Body">
  <a name="1095870"> </a>Index of resource in resource database, or <span style="font-family: monospace">0xFFFF</span> if not found.
</p>
<p class="Body">
  <a name="1095871"> </a>May display a fatal error message if the database is not a resource database. 
</p>
<h4 class="RefSide">
  <a name="1095872"> </a>Comments 
</h4>
<p class="Body">
  <a name="1095873"> </a>Use this routine to retrieve all the resources of a given type in a resource database. By starting at <span style="font-family: monospace">typeIndex</span> 0 and incrementing until an error is returned, the total number of resources of a given type and the index of each of these resources can be determined. Once the index of a resource is determined, it can be locked down and accessed by calling <a href="DataAndResourceManager.html#1096326"><span style="font-family: monospace">DmGetResourceIndex</span></a>.
</p>
<div class="NINoteImportant"><hr>
  <a name="1095877"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">IMPORTANT:  </span> This function searches for resources only in the database you specify. If you pass a pointer to a base resource database, its overlay is <b>not</b> searched. To search both a base database and its overlay for a localized resource, use <a href="DataAndResourceManager.html#1096369"><span style="font-family: monospace">DmGet1Resource</span></a> instead of this function.
<hr>
</div>
<h4 class="RefSide">
  <a name="1095881"> </a>See Also 
</h4>
<p class="Body">
  <a name="1095891"> </a><a href="DataAndResourceManager.html#1096290"><span style="font-family: monospace">DmGetResource</span></a>, <a href="DataAndResourceManager.html#1097502"><span style="font-family: monospace">DmSearchResource</span></a>, <a href="DataAndResourceManager.html#1097436"><span style="font-family: monospace">DmResourceInfo</span></a>, <a href="DataAndResourceManager.html#1096326"><span style="font-family: monospace">DmGetResourceIndex</span></a>, <a href="DataAndResourceManager.html#1095809"><span style="font-family: monospace">DmFindResource</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1095899"> </a>DmFindSortPosition
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1095900"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1095901"> </a>Returns where in a sorted list of records a given record would be located. Useful to find where to insert a record with <a href="DataAndResourceManager.html#1095023"><span style="font-family: monospace">DmAttachRecord</span></a>. Uses a binary search.
</p>
<h4 class="RefSide">
  <a name="1095905"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1095906"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1095907"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1095909"> </a>UInt16 DmFindSortPosition (DmOpenRef dbP,<br>void *newRecord, SortRecordInfoPtr newRecordInfo,<br>DmComparF *compar, Int16 other)
</p>
<h4 class="RefSide">
  <a name="1095911"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1095912"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbP</span></td><td valign="top">Database access pointer. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095913"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">newRecord</span></td><td valign="top">Pointer to the new record. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095914"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">newRecordInfo</span></td><td valign="top">Sort information about the new record. See <a href="DataAndResourceManager.html#1094493"><span style="font-family: monospace">SortRecordInfoType</span></a>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095918"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">compar</span></td><td valign="top">Pointer to comparison function. See <a href="DataAndResourceManager.html#1097824"><span style="font-family: monospace">DmComparF</span></a>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095922"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">other</span></td><td valign="top">Any value the application wants to pass to the comparison function. This parameter is often used to indicate a sort direction (ascending or descending).</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1095923"> </a>Result 
</h4>
<p class="Body">
  <a name="1095924"> </a>The position where the record should be inserted.
</p>
<p class="Body">
  <a name="1095925"> </a>The position should be viewed as between the record returned and the record before it. Note that the return value may be one greater than the number of records.
</p>
<h4 class="RefSide">
  <a name="1095926"> </a>Comments 
</h4>
<p class="Body">
  <a name="1095927"> </a>If <span style="font-family: monospace">newRecord</span> has the same key as another record in the database, <span style="font-family: monospace">DmFindSortPosition</span> assumes that <span style="font-family: monospace">newRecord</span> should be inserted after that record. If there are several records with the same key, <span style="font-family: monospace">newRecord</span> is inserted after all of them. For this reason, if you use <span style="font-family: monospace">DmFindSortPosition</span> to search for the location of a record that you know is already in the database, you must subtract 1 from the result. (Be sure to check that the value is not 0.)
</p>
<p class="Body">
  <a name="1095928"> </a>If there are deleted records in the database, <span style="font-family: monospace">DmFindSortPosition</span> only works if those records are at the end of the database. <span style="font-family: monospace">DmFindSortPosition</span> always assumes that a deleted record is greater than or equal to any other record.
</p>
<h4 class="RefSide">
  <a name="1095929"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1095933"> </a>Implemented only if <a href="CompatibilityApdx.html#969280">2.0 New Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1095934"> </a>See Also 
</h4>
<p class="Body">
  <a name="1095938"> </a><a href="DataAndResourceManager.html#1095941"><span style="font-family: monospace">DmFindSortPositionV10</span></a> 
</p>

<h2 class="HBHeadB">
  <a name="1095941"> </a>DmFindSortPositionV10
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1095942"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1095943"> </a>Return where a record should be. Useful to find where to insert a record with <a href="DataAndResourceManager.html#1095023"><span style="font-family: monospace">DmAttachRecord</span></a>. Uses a binary search.
</p>
<h4 class="RefSide">
  <a name="1095947"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1095948"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1095949"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1095950"> </a>UInt16 DmFindSortPositionV10 (DmOpenRef dbP,<br>void *newRecord, DmComparF *compar, Int16 other)
</p>
<h4 class="RefSide">
  <a name="1095951"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1095952"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbP</span></td><td valign="top">Database access pointer.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095953"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">newRecord</span></td><td valign="top">Pointer to the new record.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095954"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">compar</span></td><td valign="top">Pointer to comparison function. See <a href="DataAndResourceManager.html#1097824"><span style="font-family: monospace">DmComparF</span></a>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1095958"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">other</span></td><td valign="top">Any value the application wants to pass to the comparison function.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1095959"> </a>Result 
</h4>
<p class="Body">
  <a name="1095960"> </a>Returns the position where the record should be inserted. The position should be viewed as between the record returned and the record before it. Note that the return value may be one greater than the number of records.
</p>
<h4 class="RefSide">
  <a name="1095961"> </a>Comments 
</h4>
<p class="Body">
  <a name="1095962"> </a>If there are deleted records in the database, <span style="font-family: monospace">DmFindSortPositionV10</span> only works if those records are at the end of the database. <span style="font-family: monospace">DmFindSortPositionV10</span> always assumes that a deleted record is greater than or equal to any other record.
</p>
<h4 class="RefSide">
  <a name="1095963"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1095964"> </a>This function corresponds to the 1.0 version of <span style="font-family: monospace">DmFindSortPosition</span>.
</p>
<h4 class="RefSide">
  <a name="1095965"> </a>See Also 
</h4>
<p class="Body">
  <a name="1095975"> </a><a href="DataAndResourceManager.html#1095899"><span style="font-family: monospace">DmFindSortPosition</span></a>, <a href="DataAndResourceManager.html#1097108"><span style="font-family: monospace">DmQuickSort</span></a>, <a href="DataAndResourceManager.html#1096402"><span style="font-family: monospace">DmInsertionSort</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1095977"> </a>DmGetAppInfoID
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1095978"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1095979"> </a>Return the local ID of the application info block.
</p>
<h4 class="RefSide">
  <a name="1095980"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1095981"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1095982"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1095984"> </a>LocalID DmGetAppInfoID (DmOpenRef dbP).
</p>
<h4 class="RefSide">
  <a name="1095985"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1095986"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbP</span></td><td valign="top">Database access pointer.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1095987"> </a>Result 
</h4>
<p class="Body">
  <a name="1095988"> </a>Returns local ID of the application info block. The application info block is an optional field that the database may use to store application-specific information about the database; if the database doesn't have an application info block, <span style="font-family: monospace">DmGetAppInfoID</span> returns zero.
</p>
<h4 class="RefSide">
  <a name="1095989"> </a>See Also 
</h4>
<p class="Body">
  <a name="1095996"> </a><a href="DataAndResourceManager.html#1105351"><span style="font-family: monospace">DmDatabaseInfo</span></a>, <a href="DataAndResourceManager.html#1096792"><span style="font-family: monospace">DmOpenDatabase</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1095999"> </a>DmGetDatabase
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1096000"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1096001"> </a>Return the database header ID of a database by index and card number.
</p>
<h4 class="RefSide">
  <a name="1096002"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1096003"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1096004"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1096006"> </a>LocalID DmGetDatabase (UInt16 cardNo,<br>UInt16 index)
</p>
<h4 class="RefSide">
  <a name="1096007"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1096008"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">cardNo</span></td><td valign="top">Card number of database. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1096009"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">index</span></td><td valign="top">Index of database.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1096010"> </a>Result 
</h4>
<p class="Body">
  <a name="1096011"> </a>Returns the database ID, or 0 if an invalid parameter is passed.
</p>
<h4 class="RefSide">
  <a name="1096012"> </a>Comments 
</h4>
<p class="Body">
  <a name="1096013"> </a>Call this routine to retrieve the database ID of a database by index. The index should range from 0 to <a href="DataAndResourceManager.html#1096673"><span style="font-family: monospace">DmNumDatabases</span></a>-1. 
</p>
<p class="Body">
  <a name="1096017"> </a>This routine is useful for getting a directory of all databases on a card. The databases returned may reside in either the ROM or the RAM. The order in which databases are returned is not fixed; therefore, you should not rely on receiving a list of databases in a particular order. 
</p>
<h4 class="RefSide">
  <a name="1096018"> </a>See Also 
</h4>
<p class="Body">
  <a name="1096028"> </a><a href="DataAndResourceManager.html#1096792"><span style="font-family: monospace">DmOpenDatabase</span></a>, <a href="DataAndResourceManager.html#1096673"><span style="font-family: monospace">DmNumDatabases</span></a>, <a href="DataAndResourceManager.html#1105351"><span style="font-family: monospace">DmDatabaseInfo</span></a>, <a href="DataAndResourceManager.html#1095426"><span style="font-family: monospace">DmDatabaseSize</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1096034"> </a>DmGetDatabaseLockState
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1096035"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1096036"> </a>Return information about the number of locked and busy records in a database.
</p>
<h4 class="RefSide">
  <a name="1096037"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1096038"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1096039"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1096040"> </a>void DmGetDatabaseLockState (DmOpenRef dbR,<br>UInt8 *highest, UInt32 *count, UInt32 *busy)
</p>
<h4 class="RefSide">
  <a name="1096041"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1096042"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbR</span></td><td valign="top">Database access pointer.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1096043"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;- <span style="font-family: monospace">highest</span></td><td valign="top">The highest lock count found for all of the records in the database. If a database has two records, one has a lock count of 2 and one has a lock count of 1, the highest lock count is 2. Pass <span style="font-family: monospace">NULL</span> for this parameter if you don't want to retrieve it. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1096044"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;- <span style="font-family: monospace">count</span></td><td valign="top">The number of records that have the lock count that is returned in the <span style="font-family: monospace">highest</span> parameter. Pass <span style="font-family: monospace">NULL</span> for this parameter if you don't want to retrieve it. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1096045"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;- <span style="font-family: monospace">busy</span></td><td valign="top">The number of records that have the busy bit set. Pass <span style="font-family: monospace">NULL</span> for this parameter if you don't want to retrieve it. </td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1096046"> </a>Result 
</h4>
<p class="Body">
  <a name="1096047"> </a>No return value. Returns all information in the parameters you pass. 
</p>
<h4 class="RefSide">
  <a name="1096048"> </a>Comments 
</h4>
<p class="Body">
  <a name="1096049"> </a>This function is intended to be used for debugging purposes. You can use it to obtain information about how many records are busy and how much locking occurs. 
</p>
<h4 class="RefSide">
  <a name="1096050"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1096054"> </a>Implemented only if <a href="CompatibilityApdx.html#970392">3.2 New Feature Set</a> is present.
</p>

<h2 class="HBHeadB">
  <a name="1096057"> </a>DmGetLastErr
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1096058"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1096060"> </a>Return error code from last data manager call.
</p>
<h4 class="RefSide">
  <a name="1096061"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1096062"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1096063"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1096065"> </a>Err DmGetLastErr (void)
</p>
<h4 class="RefSide">
  <a name="1096066"> </a>Parameters 
</h4>
<p class="Body">
  <a name="1096067"> </a>None.
</p>
<h4 class="RefSide">
  <a name="1096068"> </a>Result 
</h4>
<p class="Body">
  <a name="1096069"> </a>Error code from last unsuccessful data manager call.
</p>
<h4 class="RefSide">
  <a name="1096070"> </a>Comments 
</h4>
<p class="Body">
  <a name="1096071"> </a>Use this routine to determine why a data manager call failed. In particular, calls like <a href="DataAndResourceManager.html#1096247"><span style="font-family: monospace">DmGetRecord</span></a> return 0 if unsuccessful, so calling <a href="DataAndResourceManager.html#1096057"><span style="font-family: monospace">DmGetLastErr</span></a> is the only way to determine why they failed.
</p>
<p class="Body">
  <a name="1096079"> </a>Note that <span style="font-family: monospace">DmGetLastErr</span> does not always reflect the error status of the last data manager call. Rather, it reflects the error status of data manager calls that don't return an error code. For some of those calls, the saved error code value is not set to 0 when the call is successful. 
</p>
<p class="Body">
  <a name="1096083"> </a>For example, if a call to <a href="DataAndResourceManager.html#1096877"><span style="font-family: monospace">DmOpenDatabaseByTypeCreator</span></a> returns <span style="font-family: monospace">NULL</span> for database reference (that is, it fails), <span style="font-family: monospace">DmGetLastErr</span> returns something meaningful; otherwise, it returns the error value of some previous data manager call. 
</p>
<p class="Body">
  <a name="1096084"> </a>Only the following data manager functions currently affect the value returned by <span style="font-family: monospace">DmGetLastErr</span>:
</p>

<h5 class="TgTable">
  <a name="1096173"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="1096090"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1095749"><span style="font-family: monospace">DmFindDatabase</span></a></div></td>
    <td><a name="1096095"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1096877">DmOpenDatabaseByTypeCreator</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="1096100"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1096792"><span style="font-family: monospace">DmOpenDatabase</span></a></div></td>
    <td><a name="1096105"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1096544"><span style="font-family: monospace">DmNewRecord</span></a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="1096110"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1097086"><span style="font-family: monospace">DmQueryRecord</span></a></div></td>
    <td><a name="1096115"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1096247"><span style="font-family: monospace">DmGetRecord</span></a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="1096120"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1097040">DmQueryNextInCategory</a></div></td>
    <td><a name="1096125"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1097003"><span style="font-family: monospace">DmPositionInCategory</span></a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="1096130"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1097539"><span style="font-family: monospace">DmSeekRecordInCategory</span></a></div></td>
    <td><a name="1096135"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1097395"><span style="font-family: monospace">DmResizeRecord</span></a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="1096140"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1096290"><span style="font-family: monospace">DmGetResource</span></a></div></td>
    <td><a name="1096145"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1096369"><span style="font-family: monospace">DmGet1Resource</span></a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="1096150"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1096584"><span style="font-family: monospace">DmNewResource</span></a></div></td>
    <td><a name="1096155"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1096326"><span style="font-family: monospace">DmGetResourceIndex</span></a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="1096160"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1096523"><span style="font-family: monospace">DmNewHandle</span></a></div></td>
    <td><a name="1096165"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1096951"><span style="font-family: monospace">DmOpenDBNoOverlay</span></a> </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1096170"> </a><div class="CellBody"><a href="DataAndResourceManager.html#1097416"><span style="font-family: monospace">DmResizeResource</span></a></div></td>
    <td><a name="1096172"> </a><div class="CellBody"><br></div></td>
  </tr>
</table>




</h5>
<h2 class="HBHeadB">
  <a name="1096175"> </a>DmGetNextDatabaseByTypeCreator
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1096176"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1096177"> </a>Return a database header ID and card number given the type and/or creator. This routine searches all memory cards for a match. 
</p>
<h4 class="RefSide">
  <a name="1096178"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1096179"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1096180"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1096182"> </a>Err DmGetNextDatabaseByTypeCreator<br>(Boolean newSearch, DmSearchStatePtr stateInfoP,<br>UInt32 type, UInt32 creator,<br>Boolean onlyLatestVers, UInt16 *cardNoP,<br>LocalID *dbIDP)
</p>
<h4 class="RefSide">
  <a name="1096183"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1096184"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">newSearch</span> </td><td valign="top"><span style="font-family: monospace">true</span> if starting a new search.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1096185"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;-&gt; <span style="font-family: monospace">stateInfoP</span></td><td valign="top">If <span style="font-family: monospace">newSearch</span> is <span style="font-family: monospace">false</span>, this must point to the same data used for the previous invocation. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1096186"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">type</span></td><td valign="top">Type of database to search for, pass 0 as a wildcard.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1096187"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">creator</span></td><td valign="top">Creator of database to search for, pass 0 as a wildcard.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1096188"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">onlyLatestVers</span></td><td valign="top">If <span style="font-family: monospace">true</span>, only the latest version of a database with a given type and creator is returned.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1096189"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;- <span style="font-family: monospace">cardNoP</span></td><td valign="top">On exit, the card number of the found database. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1096190"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;- <span style="font-family: monospace">dbIDP</span></td><td valign="top">Database local ID of the found database.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1096191"> </a>Result 
</h4>
<p class="Body">
  <a name="1096195"> </a>Returns <span style="font-family: monospace">errNone</span> if no error, or <a href="DataAndResourceManager.html#1094761"><span style="font-family: monospace">dmErrCantFind</span></a> if no matches were found.
</p>
<h4 class="RefSide">
  <a name="1096196"> </a>Comments 
</h4>
<p class="Body">
  <a name="1096197"> </a>You may need to call this function successively to discover all databases having a specified type/creator pair. 
</p>
<p class="Body">
  <a name="1096198"> </a>To start the search, pass <span style="font-family: monospace">true</span> for <span style="font-family: monospace">newSearch</span>. Allocate a <span style="font-family: monospace">DmSearchStateType</span> structure and pass it as the <span style="font-family: monospace">stateInfoP</span> parameter. <span style="font-family: monospace">DmGetNextDatabaseByTypeCreator</span> stores private information in <span style="font-family: monospace">stateInfoP</span> and uses it if the search is continued. 
</p>
<p class="Body">
  <a name="1096200"> </a>To continue a search where the previous one left off, pass <span style="font-family: monospace">false</span> for <span style="font-family: monospace">newSearch</span> and pass the same <span style="font-family: monospace">stateInfoP</span> that you used during the previous call to this function. 
</p>
<p class="Body">
  <a name="1096201"> </a>You can pass <span style="font-family: monospace">NULL</span> as a wildcard operator for the <span style="font-family: monospace">type</span> or <span style="font-family: monospace">creator</span> parameter to conduct searches of wider scope. If the <span style="font-family: monospace">type</span> parameter is <span style="font-family: monospace">NULL</span>, this routine can be called successively to return all databases of the given creator. If the <span style="font-family: monospace">creator</span> parameter is <span style="font-family: monospace">NULL</span>, this routine can be called successively to return all databases of the given type. You can also pass <span style="font-family: monospace">NULL</span> as the value for both of these parameters to return all available databases without regard to type or creator.
</p>
<p class="Body">
  <a name="1096202"> </a>Because databases are scattered freely throughout memory space, they are not returned in any particular order-any database matching the specified type/creator criteria can be returned.Thus, if the value of the <span style="font-family: monospace">onlyLatestVers</span> parameter is <span style="font-family: monospace">false</span>, this function may return a database which is not the most recent version matching the specified type/creator pair. To obtain only the latest version of a database matching the search criteria, set the value of the <span style="font-family: monospace">onlyLatestVers</span> parameter to <span style="font-family: monospace">true</span>. 
</p>
<p class="Body">
  <a name="1096203"> </a>When determining which is the latest version of the database, RAM databases are considered newer than ROM databases that have the same version number. Because of this, you can replace any ROM-based application with your own version of it. Also, a RAM database on card 1 is considered newer than a RAM database on card 0 if the version numbers are identical. 
</p>
<div class="NWNoteWarning"><hr>
  <a name="1096204"> </a> <span style="color: #FF0000;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">WARNING!  </span> Don't create or delete a database while using <span style="font-family: monospace">DmGetNextDatabaseByTypeCreator</span> to iterate through the existing databases. This could cause databases to be skipped, or it could result in a given database being returned more than once.
<hr>
</div>
<h4 class="RefSide">
  <a name="1096205"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1096206"> </a>In Palm OS version 3.1 and higher, if <span style="font-family: monospace">onlyLatestVers</span> is <span style="font-family: monospace">true</span>, you only receive one matching database for each type/creator pair. In version 3.0 and earlier, you could receive multiple matching databases if <span style="font-family: monospace">onlyLatestVers</span> was <span style="font-family: monospace">true</span>. 
</p>
<p class="Body">
  <a name="1096207"> </a>Note that the behavior is different only when you have specified a value for both <span style="font-family: monospace">type</span> and <span style="font-family: monospace">creator</span> and <span style="font-family: monospace">onlyLatestVers</span> is <span style="font-family: monospace">true</span>.
</p>
<p class="Body">
  <a name="1096208"> </a>For example, suppose your application maintains three databases that all have the same type, creator, and version number and you write this code to process them in some way:
</p>
<pre  class="Preformatted">
DmSearchStateType state;<a name="1096209"> </a>
Boolean latestVer;<a name="1096210"> </a>
UInt16 card;<a name="1096211"> </a>
LocalID currentDB = 0;<a name="1096212"> </a>
 <a name="1096213"> </a>
theErr = DmGetNextDatabaseByTypeCreator(true, <a name="1096214"> </a>
  &amp;state, myType, myCreator, latestVer, &amp;card, <a name="1096215"> </a>
  &amp;currentDB);<a name="1096216"> </a>
while (!theErr &amp;&amp; currentDB) {<a name="1096217"> </a>
  /* do something with currentDB */<a name="1096218"> </a>
  /* now get the next DB */<a name="1096219"> </a>
  theErr = DmGetNextDatabaseByTypeCreator(<a name="1096220"> </a>
    false, &amp;state, myType, myCreator, <a name="1096221"> </a>
  vlatestVer, &amp;card, &amp;currentDB);<a name="1096222"> </a>
}<a name="1096223"> </a>
</pre>
<p class="Body">
  <a name="1096224"> </a>If <span style="font-family: monospace">latestVer</span> is <span style="font-family: monospace">false</span>, then your code will work the same on all versions of Palm OS and will return all three databases whose type and creator match those specified. If <span style="font-family: monospace">latestVer</span> is <span style="font-family: monospace">true</span>, this code returns all three databases on Palm OS version 3.0 and earlier, but only returns one database on version 3.1 and higher. (Exactly which database it returns is unspecified.) 
</p>
<p class="Body">
  <a name="1096225"> </a>If you expect multiple databases to match your search criteria, make sure you call <span style="font-family: monospace">DmGetNextDatabaseByTypeCreator</span> in one of the following ways to ensure that your code operates the same on all Palm OS versions:
</p>

  <a name="1096226"> </a><p class="B1Bullet"> &#8226; Set <span style="font-family: monospace">onlyLatestVers</span> to <span style="font-family: monospace">false</span> if you specify both a <span style="font-family: monospace">type</span> and <span style="font-family: monospace">creator</span>. </p>

  <a name="1096227"> </a><p class="B1Bullet"> &#8226; Specify <span style="font-family: monospace">NULL</span> for either the <span style="font-family: monospace">type</span> or <span style="font-family: monospace">creator</span> parameter (or both). </p>
<h4 class="RefSide">
  <a name="1096228"> </a>See Also 
</h4>
<p class="Body">
  <a name="1096238"> </a><a href="DataAndResourceManager.html#1095999"><span style="font-family: monospace">DmGetDatabase</span></a>, <a href="DataAndResourceManager.html#1095749"><span style="font-family: monospace">DmFindDatabase</span></a>, <a href="DataAndResourceManager.html#1105351"><span style="font-family: monospace">DmDatabaseInfo</span></a>, <a href="DataAndResourceManager.html#1096877"><span style="font-family: monospace">DmOpenDatabaseByTypeCreator</span></a>, <a href="DataAndResourceManager.html#1095426"><span style="font-family: monospace">DmDatabaseSize</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1096247"> </a>DmGetRecord
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1096248"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1096249"> </a>Return a handle to a record by index and mark the record busy.
</p>
<h4 class="RefSide">
  <a name="1096250"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1096251"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1096252"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1096254"> </a>MemHandle DmGetRecord (DmOpenRef dbP,<br>UInt16 index)
</p>
<h4 class="RefSide">
  <a name="1096255"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1096256"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbP</span></td><td valign="top"><span style="font-family: monospace">DmOpenRef</span> to open database.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1096257"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">index</span></td><td valign="top">Which record to retrieve.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1096258"> </a>Result 
</h4>
<p class="Body">
  <a name="1096259"> </a>Returns a handle to record data. If another call to <span style="font-family: monospace">DmGetRecord</span> for the same record is attempted before the record is released, <span style="font-family: monospace">NULL</span> is returned and <a href="DataAndResourceManager.html#1096057"><span style="font-family: monospace">DmGetLastErr</span></a> returns an error code indicating the reason for failure.
</p>
<h4 class="RefSide">
  <a name="1096263"> </a>Comments 
</h4>
<p class="Body">
  <a name="1096264"> </a>Returns a handle to given record and sets the <span style="font-family: monospace">busy</span> bit for the record. 
</p>
<p class="Body">
  <a name="1096265"> </a>If the record is ROM-based (pointer accessed), this routine makes a fake handle to it and stores this handle in the <span style="font-family: monospace">DmAccessType</span> structure.
</p>
<p class="Body">
  <a name="1096270"> </a><a href="DataAndResourceManager.html#1097185"><span style="font-family: monospace">DmReleaseRecord</span></a> should be called as soon as the caller finishes viewing or editing the record.
</p>
<h4 class="RefSide">
  <a name="1096271"> </a>See Also 
</h4>
<p class="Body">
  <a name="1096281"> </a><a href="DataAndResourceManager.html#1097476"><span style="font-family: monospace">DmSearchRecord</span></a>, <a href="DataAndResourceManager.html#1095778"><span style="font-family: monospace">DmFindRecordByID</span></a>, <a href="DataAndResourceManager.html#1097150"><span style="font-family: monospace">DmRecordInfo</span></a>, <a href="DataAndResourceManager.html#1097185"><span style="font-family: monospace">DmReleaseRecord</span></a>, <a href="DataAndResourceManager.html#1097086"><span style="font-family: monospace">DmQueryRecord</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1096290"> </a>DmGetResource
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1096291"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1096292"> </a>Search all open resource databases and return a handle to a resource, given the resource type and ID.
</p>
<h4 class="RefSide">
  <a name="1096294"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1096295"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1096296"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1096298"> </a>MemHandle DmGetResource (DmResType type,<br>DmResID resID)
</p>
<h4 class="RefSide">
  <a name="1096299"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1096300"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">type</span></td><td valign="top">The resource type.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1096301"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt;<span style="font-family: monospace">resID</span></td><td valign="top">The resource ID.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1096302"> </a>Result 
</h4>
<p class="Body">
  <a name="1096303"> </a>Handle to resource data. If the specified resource cannot be found, this function returns <span style="font-family: monospace">NULL</span> and <a href="DataAndResourceManager.html#1096057"><span style="font-family: monospace">DmGetLastErr</span></a> returns an error code indicating the reason for failure.
</p>
<h4 class="RefSide">
  <a name="1096307"> </a>Comments 
</h4>
<p class="Body">
  <a name="1096308"> </a>Searches all open resource databases starting with the most recently opened one for a resource of the given type and ID. If found, the resource handle is returned. The application should call <a href="DataAndResourceManager.html#1097216"><span style="font-family: monospace">DmReleaseResource</span></a> as soon as it finishes accessing the resource data. The resource handle is not locked by this function. 
</p>
<p class="Body">
  <a name="1096312"> </a>This function always returns the resource located in the overlay if any open overlay has a resource matching that type and ID. If there is no overlay version of the resource, this function returns the resource from the base database. 
</p>
<h4 class="RefSide">
  <a name="1096313"> </a>See Also 
</h4>
<p class="Body">
  <a name="1096323"> </a><a href="DataAndResourceManager.html#1096369"><span style="font-family: monospace">DmGet1Resource</span></a>, <a href="DataAndResourceManager.html#1097216"><span style="font-family: monospace">DmReleaseResource</span></a>, <a href="MiscUI.html#1079164"><span style="font-family: monospace">ResLoadConstant</span></a> 
</p>

<h2 class="HBHeadB">
  <a name="1096326"> </a>DmGetResourceIndex
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1096327"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1096328"> </a>Return a handle to a resource by index.
</p>
<h4 class="RefSide">
  <a name="1096329"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1096330"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1096331"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1096333"> </a>MemHandle DmGetResourceIndex (DmOpenRef dbP,<br>UInt16 index)
</p>
<h4 class="RefSide">
  <a name="1096334"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1096335"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbP</span></td><td valign="top">Access pointer to open database.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1096336"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">index</span></td><td valign="top">Index of the resource whose handle you want.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1096337"> </a>Result 
</h4>
<p class="Body">
  <a name="1096338"> </a>Handle to resource data. If the specified index is out of range, this function returns <span style="font-family: monospace">NULL</span> and <a href="DataAndResourceManager.html#1096057"><span style="font-family: monospace">DmGetLastErr</span></a> returns an error code indicating the reason for failure.
</p>
<p class="Body">
  <a name="1096342"> </a>May display a fatal error message if the database is not a resource database. 
</p>
<div class="NINoteImportant"><hr>
  <a name="1096343"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">IMPORTANT:  </span> This function accesses the resource only in the database you specify. If you pass a pointer to a base resource database, its overlay is <b>not</b> accessed. Therefore, you should use care when using this function to access a potentially localized resource. You can use <a href="DataAndResourceManager.html#1097502"><span style="font-family: monospace">DmSearchResource</span></a> to obtain a pointer to the overlay database if the resource is localized; however, it's more convenient to use <a href="DataAndResourceManager.html#1096290"><span style="font-family: monospace">DmGetResource</span></a> or <a href="DataAndResourceManager.html#1096369"><span style="font-family: monospace">DmGet1Resource</span></a>. 
<hr>
</div>
<h4 class="RefSide">
  <a name="1096356"> </a>See Also 
</h4>
<p class="Body">
  <a name="1096366"> </a><a href="DataAndResourceManager.html#1095809"><span style="font-family: monospace">DmFindResource</span></a>, <a href="DataAndResourceManager.html#1095856"><span style="font-family: monospace">DmFindResourceType</span></a>, <a href="DataAndResourceManager.html#1097502"><span style="font-family: monospace">DmSearchResource</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1096369"> </a>DmGet1Resource
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1096370"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1096371"> </a>Search the most recently opened resource database and return a handle to a resource given the resource type and ID.
</p>
<h4 class="RefSide">
  <a name="1096372"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1096373"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1096374"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1096376"> </a>MemHandle DmGet1Resource (DmResType type,<br>DmResID resID)
</p>
<h4 class="RefSide">
  <a name="1096377"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1096378"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">type</span></td><td valign="top">The resource type.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1096379"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">resID</span></td><td valign="top">The resource ID.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1096380"> </a>Result 
</h4>
<p class="Body">
  <a name="1096381"> </a>Handle to resource data. If unsuccessful, this function returns <span style="font-family: monospace">NULL</span> and <a href="DataAndResourceManager.html#1096057"><span style="font-family: monospace">DmGetLastErr</span></a> returns an error code indicating the reason for failure.
</p>
<h4 class="RefSide">
  <a name="1096385"> </a>Comments 
</h4>
<p class="Body">
  <a name="1096386"> </a>Searches the most recently opened resource database for a resource of the given type and ID. If the database has an overlay associated with it, the overlay is searched first, and then the base database is searched if the overlay does not contain the resource. If found, the resource handle is returned. The application should call <a href="DataAndResourceManager.html#1097216"><span style="font-family: monospace">DmReleaseResource</span></a> as soon as it finishes accessing the resource data. The resource handle is not locked by this function. 
</p>
<h4 class="RefSide">
  <a name="1096390"> </a>See Also 
</h4>
<p class="Body">
  <a name="1096400"> </a><a href="DataAndResourceManager.html#1096290"><span style="font-family: monospace">DmGetResource</span></a>, <a href="DataAndResourceManager.html#1097216"><span style="font-family: monospace">DmReleaseResource</span></a>, <a href="MiscUI.html#1079164"><span style="font-family: monospace">ResLoadConstant</span></a> 
</p>

<h2 class="HBHeadB">
  <a name="1096402"> </a>DmInsertionSort
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1096403"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1096404"> </a>Sort records in a database. 
</p>
<h4 class="RefSide">
  <a name="1096405"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1096406"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1096407"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1096409"> </a>Err DmInsertionSort (DmOpenRef dbR,<br>DmComparF *compar, Int16 other)
</p>
<h4 class="RefSide">
  <a name="1096411"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1096412"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbR</span></td><td valign="top">Database access pointer.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1096416"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">compar</span></td><td valign="top">Comparison function. See <a href="DataAndResourceManager.html#1097824"><span style="font-family: monospace">DmComparF</span></a>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1096417"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">other</span></td><td valign="top">Any value the application wants to pass to the comparison function. This parameter is often used to indicate a sort direction (ascending or descending).</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1096418"> </a>Result 
</h4>
<p class="Body">
  <a name="1096419"> </a>Returns <span style="font-family: monospace">errNone</span> if no error, or one of the following if an error occurs: 
</p>

  <a name="1096423"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094832"><span style="font-family: monospace">dmErrReadOnly</span></a></p>

  <a name="1096427"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094814"><span style="font-family: monospace">dmErrNotRecordDB</span></a></p>
<p class="Body">
  <a name="1096428"> </a>Some releases may display a fatal error message instead of returning the error code. 
</p>
<h4 class="RefSide">
  <a name="1096429"> </a>Comments 
</h4>
<p class="Body">
  <a name="1096430"> </a>Deleted records are placed last in any order. All others are sorted according to the passed comparison function. Only records which are out of order move. Moved records are moved to the end of the range of equal records. If a large number of records are being sorted, try to use the quick sort.
</p>
<p class="Body">
  <a name="1096431"> </a>The following insertion-sort algorithm is used: Starting with the second record, each record is compared to the preceding record. Each record not greater than the last is inserted into sorted position within those already sorted. A binary insertion is performed. A moved record is inserted after any other equal records.
</p>
<h4 class="RefSide">
  <a name="1096432"> </a>See Also 
</h4>
<p class="Body">
  <a name="1096436"> </a><a href="DataAndResourceManager.html#1097108"><span style="font-family: monospace">DmQuickSort</span></a> 
</p>

<h2 class="HBHeadB">
  <a name="1096438"> </a>DmMoveCategory
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1096439"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1096441"> </a>Move all records in a category to another category. 
</p>
<h4 class="RefSide">
  <a name="1096442"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1096443"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1096444"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1096446"> </a>Err DmMoveCategory (DmOpenRef dbP,<br>UInt16 toCategory, UInt16 fromCategory,<br>Boolean dirty)
</p>
<h4 class="RefSide">
  <a name="1096447"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1096448"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbP</span></td><td valign="top"><span style="font-family: monospace">DmOpenRef</span> to open database.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1096449"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt;<span style="font-family: monospace">toCategory</span></td><td valign="top">Category to which the records should be added.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1096450"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">fromCategory</span></td><td valign="top">Category from which to remove records.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1096451"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dirty</span></td><td valign="top">If <span style="font-family: monospace">true</span>, set the dirty bit.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1096452"> </a>Result 
</h4>
<p class="Body">
  <a name="1096456"> </a>Returns 0 if successful, or <a href="DataAndResourceManager.html#1094832"><span style="font-family: monospace">dmErrReadOnly</span></a> if the database is in read-only mode. Some releases may display a fatal error message instead of returning the error code. 
</p>
<h4 class="RefSide">
  <a name="1096457"> </a>Comments 
</h4>
<p class="Body">
  <a name="1096458"> </a>If <span style="font-family: monospace">dirty</span> is <span style="font-family: monospace">true</span>, the moved records are marked as dirty.
</p>
<p class="Body">
  <a name="1096459"> </a>The <span style="font-family: monospace">toCategory</span> and <span style="font-family: monospace">fromCategory</span> parameters hold category index values. You can learn which category a record is in with the <a href="DataAndResourceManager.html#1097150"><span style="font-family: monospace">DmRecordInfo</span></a> call and use that value in this function. For example, the following code, ensures that the records <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">rec1</span> and <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">rec2</span> are in the same category: 
</p>
<pre  class="Preformatted">
DmOpenRef myDB;<a name="1096463"> </a>
UInt16 rec1, rec2;<a name="1096464"> </a>
UInt16 rec1Attr, rec2Attr;<a name="1096465"> </a>
UInt16 category1, category2;<a name="1096466"> </a>
 <a name="1096467"> </a>
DmRecordInfo (myDB, rec1, &amp;rec1Attr, NULL, <a name="1096468"> </a>
  NULL);<a name="1096469"> </a>
category1 = rec1Attr &amp; dmRecAttrCategoryMask;<a name="1096471"> </a>
DmRecordInfo(myDB, rec2, &amp;rec2Attr, NULL, <a name="1096472"> </a>
  NULL);<a name="1096473"> </a>
category2 = rec2Attr &amp; dmRecAttrCategoryMask;<a name="1096474"> </a>
if (category1 != category2) <a name="1096475"> </a>
  DmMoveCategory(myDB, category1, category2, <a name="1096476"> </a>
    true);<a name="1096477"> </a>
</pre>

<h2 class="HBHeadB">
  <a name="1096480"> </a>DmMoveRecord
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1096481"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1096482"> </a>Move a record from one index to another. 
</p>
<h4 class="RefSide">
  <a name="1096483"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1096484"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1096485"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1096487"> </a>Err DmMoveRecord (DmOpenRef dbP, UInt16 from, UInt16 to)
</p>
<h4 class="RefSide">
  <a name="1096488"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1096489"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbP</span></td><td valign="top"><span style="font-family: monospace">DmOpenRef</span> to open database.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1096490"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">from</span></td><td valign="top">Index of record to move.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1096491"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">to</span></td><td valign="top">Where to move the record.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1096492"> </a>Result 
</h4>
<p class="Body">
  <a name="1096493"> </a>Returns <span style="font-family: monospace">errNone</span> if no error, or one of the following if an error occurs: 
</p>

  <a name="1096497"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094832"><span style="font-family: monospace">dmErrReadOnly</span></a></p>

  <a name="1096501"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094790"><span style="font-family: monospace">dmErrIndexOutOfRange</span></a></p>

  <a name="1096505"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094814"><span style="font-family: monospace">dmErrNotRecordDB</span></a></p>

  <a name="1096509"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094805"><span style="font-family: monospace">dmErrMemError</span></a></p>

  <a name="1096513"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094891"><span style="font-family: monospace">memErrInvalidParam</span></a></p>

  <a name="1096517"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094886"><span style="font-family: monospace">memErrChunkLocked</span></a></p>
<p class="Body">
  <a name="1096518"> </a>Some releases may display a fatal error message instead of returning the error code. 
</p>
<h4 class="RefSide">
  <a name="1096519"> </a>Comments 
</h4>
<p class="Body">
  <a name="1096520"> </a>Insert the record at the <span style="font-family: monospace">to</span> index and move other records down. The <span style="font-family: monospace">to</span> position should be viewed as an insertion position. This value may be one greater than the index of the last record in the database. In cases where <span style="font-family: monospace">to</span> is greater than <span style="font-family: monospace">from</span>, the new index of the record becomes <span style="font-family: monospace">to</span>-1 after the move is complete. 
</p>

<h2 class="HBHeadB">
  <a name="1096523"> </a>DmNewHandle
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1096524"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1096525"> </a>Attempt to allocate a new chunk in the same data heap or card as the database header of the passed database access pointer. If there is not enough space in that data heap, try other heaps.
</p>
<h4 class="RefSide">
  <a name="1096526"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1096527"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1096528"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1096530"> </a>MemHandle DmNewHandle (DmOpenRef dbP, UInt32 size) 
</p>
<h4 class="RefSide">
  <a name="1096531"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1096532"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbP</span></td><td valign="top"><span style="font-family: monospace">DmOpenRef</span> to open database.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1096533"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">size</span></td><td valign="top">Size of new handle.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1096534"> </a>Result 
</h4>
<p class="Body">
  <a name="1096535"> </a>Returns the <span style="font-family: monospace">chunkID</span> of new chunk. If an error occurs, returns 0, and <a href="DataAndResourceManager.html#1096057"><span style="font-family: monospace">DmGetLastErr</span></a> returns an error code indicating the reason for failure. 
</p>
<h4 class="RefSide">
  <a name="1096539"> </a>Comments 
</h4>
<p class="Body">
  <a name="1096540"> </a>Allocates a new handle of the given size. Ensures that the new handle is in the same memory card as the given database. This guarantees that you can attach the handle to the database as a record to obtain and save its <span style="font-family: monospace">LocalID</span> in the <span style="font-family: monospace">appInfoID</span> or <span style="font-family: monospace">sortInfoID</span> fields of the header.
</p>
<p class="Body">
  <a name="1096541"> </a>The handle should be attached to a database as soon as possible. If it is not attached to a database and the application crashes, the memory used by the new handle is unavailable until the next soft reset. 
</p>

<h2 class="HBHeadB">
  <a name="1096544"> </a>DmNewRecord
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1096545"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1096546"> </a>Return a handle to a new record in the database and mark the record busy.
</p>
<h4 class="RefSide">
  <a name="1096547"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1096548"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1096549"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1096551"> </a>MemHandle DmNewRecord (DmOpenRef dbP, UInt16 *atP,<br>UInt32 size)
</p>
<h4 class="RefSide">
  <a name="1096552"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1096553"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbP</span></td><td valign="top"><span style="font-family: monospace">DmOpenRef</span> to open database.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1096554"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;-&gt; <span style="font-family: monospace">atP</span></td><td valign="top">Pointer to index where new record should be placed. Specify the value <span style="font-family: monospace">dmMaxRecordIndex</span> to add the record to the end of the database. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1096556"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">size</span></td><td valign="top">Size of new record.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1096557"> </a>Result 
</h4>
<p class="Body">
  <a name="1096558"> </a>Handle to record data. If an error occurs, this function returns 0 and <a href="DataAndResourceManager.html#1096057"><span style="font-family: monospace">DmGetLastErr</span></a> returns an error code indicating the reason for failure. 
</p>
<p class="Body">
  <a name="1096562"> </a>Some releases may display a fatal error message if the database is opened in read-only mode or it is a resource database. 
</p>
<h4 class="RefSide">
  <a name="1096563"> </a>Comments 
</h4>
<p class="Body">
  <a name="1096564"> </a>Allocates a new record of the given size, and returns a handle to the record data. The parameter <span style="font-family: monospace">atP</span> points to an index variable. The new record is inserted at index <span style="font-family: monospace">*atP</span> and all record indices that follow are shifted down. If <span style="font-family: monospace">*atP</span> is greater than the number of records currently in the database, the new record is appended to the end and its index is returned in <span style="font-family: monospace">*atP</span>. 
</p>
<p class="Body">
  <a name="1096565"> </a>Both the <span style="font-family: monospace">busy</span> and <span style="font-family: monospace">dirty</span> bits are set for the new record and a unique ID is automatically created. 
</p>
<p class="Body">
  <a name="1096570"> </a><a href="DataAndResourceManager.html#1097185"><span style="font-family: monospace">DmReleaseRecord</span></a> should be called as soon as the caller finishes viewing or editing the record.
</p>
<h4 class="RefSide">
  <a name="1096571"> </a>See Also 
</h4>
<p class="Body">
  <a name="1096581"> </a><a href="DataAndResourceManager.html#1095023"><span style="font-family: monospace">DmAttachRecord</span></a>, <a href="DataAndResourceManager.html#1097242"><span style="font-family: monospace">DmRemoveRecord</span></a>, <a href="DataAndResourceManager.html#1095591"><span style="font-family: monospace">DmDeleteRecord</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1096584"> </a>DmNewResource
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1096585"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1096586"> </a>Allocate and add a new resource to a resource database.
</p>
<h4 class="RefSide">
  <a name="1096587"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1096588"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1096589"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1096591"> </a>MemHandle DmNewResource (DmOpenRef dbP,<br>DmResType resType, DmResID resID, UInt32 size)
</p>
<h4 class="RefSide">
  <a name="1096592"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1096593"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbP</span></td><td valign="top"><span style="font-family: monospace">DmOpenRef</span> to open database.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1096594"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">resType</span></td><td valign="top">Type of the new resource.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1096595"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">resID</span></td><td valign="top">ID of the new resource.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1096596"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">size</span></td><td valign="top">Desired size of the new resource.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1096597"> </a>Result 
</h4>
<p class="Body">
  <a name="1096598"> </a>Returns a handle to the new resource. If an error occurs, this function returns <span style="font-family: monospace">NULL</span> and <a href="DataAndResourceManager.html#1096057"><span style="font-family: monospace">DmGetLastErr</span></a> returns an error code indicating the reason for failure.
</p>
<p class="Body">
  <a name="1096602"> </a>May display a fatal error message if the database is not a resource database. 
</p>
<h4 class="RefSide">
  <a name="1096603"> </a>Comments 
</h4>
<p class="Body">
  <a name="1096604"> </a>Allocates a memory chunk for a new resource and adds it to the given resource database. The new resource has the given type and ID. If successful, the application should call <a href="DataAndResourceManager.html#1097216"><span style="font-family: monospace">DmReleaseResource</span></a> as soon as it finishes initializing the resource.
</p>
<h4 class="RefSide">
  <a name="1096609"> </a>See Also 
</h4>
<p class="Body">
  <a name="1096616"> </a><a href="DataAndResourceManager.html#1095091"><span style="font-family: monospace">DmAttachResource</span></a>, <a href="DataAndResourceManager.html#1097293"><span style="font-family: monospace">DmRemoveResource</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1096619"> </a>DmNextOpenDatabase
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1096620"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1096621"> </a>Return <span style="font-family: monospace">DmOpenRef</span> to next open database for the current task.
</p>
<h4 class="RefSide">
  <a name="1096622"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1096623"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1096624"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1096626"> </a>DmOpenRef DmNextOpenDatabase (DmOpenRef currentP)
</p>
<h4 class="RefSide">
  <a name="1096627"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1096628"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">currentP</span></td><td valign="top">Current database access pointer or <span style="font-family: monospace">NULL</span>.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1096629"> </a>Result 
</h4>
<p class="Body">
  <a name="1096630"> </a><span style="font-family: monospace">DmOpenRef</span> to next open database, or <span style="font-family: monospace">NULL</span> if there are no more.
</p>
<h4 class="RefSide">
  <a name="1096631"> </a>Comments 
</h4>
<p class="Body">
  <a name="1096632"> </a>Call this routine successively to get the <span style="font-family: monospace">DmOpenRefs</span> of all open databases. Pass <span style="font-family: monospace">NULL</span> for <span style="font-family: monospace">currentP</span> to get the first one. Applications don't usually call this function, but is useful for system information.
</p>
<h4 class="RefSide">
  <a name="1096633"> </a>See Also 
</h4>
<p class="Body">
  <a name="1096640"> </a><a href="DataAndResourceManager.html#1096925"><span style="font-family: monospace">DmOpenDatabaseInfo</span></a>, <a href="DataAndResourceManager.html#1105351"><span style="font-family: monospace">DmDatabaseInfo</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1096643"> </a>DmNextOpenResDatabase
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1096644"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1096645"> </a>Return access pointer to next open resource database in the search chain.
</p>
<h4 class="RefSide">
  <a name="1096646"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1096647"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1096648"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1096650"> </a>DmOpenRef DmNextOpenResDatabase (DmOpenRef dbP) 
</p>
<h4 class="RefSide">
  <a name="1096651"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1096652"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbP</span></td><td valign="top">Database reference, or 0 to start search from the top.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1096653"> </a>Result 
</h4>
<p class="Body">
  <a name="1096654"> </a>Pointer to next open resource database.
</p>
<h4 class="RefSide">
  <a name="1096655"> </a>Comments 
</h4>
<p class="Body">
  <a name="1096656"> </a>Returns pointer to next open resource database. To get a pointer to the first one in the search chain, pass <span style="font-family: monospace">NULL</span> for <span style="font-family: monospace">dbP</span>. This is the database that is searched when <a href="DataAndResourceManager.html#1096369"><span style="font-family: monospace">DmGet1Resource</span></a> is called. 
</p>
<p class="Body">
  <a name="1096661"> </a>If you use this function to access a resource database that might have an overlay associated with it, be careful how you use the result. The <span style="font-family: monospace">DmOpenRef</span> returned by this function is a pointer to the overlay database, not the base database. If you subsequently pass this pointer to <a href="DataAndResourceManager.html#1095809"><span style="font-family: monospace">DmFindResource</span></a>, you'll receive a handle to the overlaid resource. If you're searching for a resource that is found only in the base, you won't find it. Instead, always use <a href="DataAndResourceManager.html#1096290"><span style="font-family: monospace">DmGetResource</span></a> or <a href="DataAndResourceManager.html#1096369"><span style="font-family: monospace">DmGet1Resource</span></a> to obtain a resource. Both of those functions search both the overlay databases and their associated base databases. 
</p>

<h2 class="HBHeadB">
  <a name="1096673"> </a>DmNumDatabases
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1096674"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1096675"> </a>Determine how many databases reside on a memory card.
</p>
<h4 class="RefSide">
  <a name="1096676"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1096677"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1096678"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1096680"> </a>UInt16 DmNumDatabases (UInt16 cardNo)
</p>
<h4 class="RefSide">
  <a name="1096681"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1096682"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">cardNo</span></td><td valign="top">Number of the card to check. </td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1096683"> </a>Result 
</h4>
<p class="Body">
  <a name="1096684"> </a>The number of databases found.
</p>
<h4 class="RefSide">
  <a name="1096685"> </a>Comments 
</h4>
<p class="Body">
  <a name="1096686"> </a>This routine is helpful for getting a directory of all databases on a card. The routine <a href="DataAndResourceManager.html#1095999"><span style="font-family: monospace">DmGetDatabase</span></a> accepts an index from 0 to <a href="DataAndResourceManager.html#1096673"><span style="font-family: monospace">DmNumDatabases</span></a> -1 and returns a database ID by index.
</p>
<h4 class="RefSide">
  <a name="1096693"> </a>See Also 
</h4>
<p class="Body">
  <a name="1096697"> </a><a href="DataAndResourceManager.html#1095999"><span style="font-family: monospace">DmGetDatabase</span></a> 
</p>

<h2 class="HBHeadB">
  <a name="1096700"> </a>DmNumRecords
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1096701"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1096702"> </a>Return the number of records in a database.
</p>
<h4 class="RefSide">
  <a name="1096703"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1096704"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1096705"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1096707"> </a>UInt16 DmNumRecords (DmOpenRef dbP)
</p>
<h4 class="RefSide">
  <a name="1096708"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1096709"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbP</span></td><td valign="top"><span style="font-family: monospace">DmOpenRef</span> to open database.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1096710"> </a>Result 
</h4>
<p class="Body">
  <a name="1096711"> </a>The number of records in a database.
</p>
<h4 class="RefSide">
  <a name="1096712"> </a>Comments 
</h4>
<p class="Body">
  <a name="1096713"> </a>Records that have that have the <span style="font-family: monospace">deleted</span> bit set (that is, records that will be deleted during the next synchronization because the user has marked them deleted) are included in the count. If you want to exclude these records from your count, use <a href="DataAndResourceManager.html#1096730"><span style="font-family: monospace">DmNumRecordsInCategory</span></a> and pass <span style="font-family: monospace">dmAllCategories</span> as the category.
</p>
<h4 class="RefSide">
  <a name="1096718"> </a>See Also 
</h4>
<p class="Body">
  <a name="1096725"> </a><a href="DataAndResourceManager.html#1096730"><span style="font-family: monospace">DmNumRecordsInCategory</span></a>, <a href="DataAndResourceManager.html#1097150"><span style="font-family: monospace">DmRecordInfo</span></a>, <a href="DataAndResourceManager.html#1097669"><span style="font-family: monospace">DmSetRecordInfo</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1096730"> </a>DmNumRecordsInCategory
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1096731"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1096732"> </a>Return the number of records of a specified category in a database. 
</p>
<h4 class="RefSide">
  <a name="1096733"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1096734"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1096735"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1096737"> </a>UInt16 DmNumRecordsInCategory (DmOpenRef dbP,<br>UInt16 category)
</p>
<h4 class="RefSide">
  <a name="1096738"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1096739"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbP</span></td><td valign="top"><span style="font-family: monospace">DmOpenRef</span> to open database.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1096740"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">category</span></td><td valign="top">Category index.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1096741"> </a>Result 
</h4>
<p class="Body">
  <a name="1096742"> </a>The number of records in the category.
</p>
<h4 class="RefSide">
  <a name="1096743"> </a>Comments 
</h4>
<p class="Body">
  <a name="1096744"> </a>Because this function must examine all records in the database, it can be slow to return, especially when called on a large database.
</p>
<p class="Body">
  <a name="1096745"> </a>Records that have the <span style="font-family: monospace">deleted</span> bit set are not counted, and if the user has specified to hide or mask private records, private records are not counted either. 
</p>
<p class="Body">
  <a name="1096749"> </a>You can use the <a href="DataAndResourceManager.html#1097150"><span style="font-family: monospace">DmRecordInfo</span></a> call to obtain a category index from a given record. For example: 
</p>
<pre  class="Preformatted">
DmOpenRef myDB;<a name="1096750"> </a>
UInt16 record, attr, category, total;<a name="1096751"> </a>
 <a name="1096752"> </a>
DmRecordInfo(myDB, record, &amp;attr, NULL, NULL);<a name="1096753"> </a>
category = attr &amp; dmRecAttrCategoryMask;<a name="1096754"> </a>
total = DmNumRecordsInCategory(myDB, category);<a name="1096755"> </a>
</pre>
<h4 class="RefSide">
  <a name="1096756"> </a>See Also 
</h4>
<p class="Body">
  <a name="1096763"> </a><a href="DataAndResourceManager.html#1096700"><span style="font-family: monospace">DmNumRecords</span></a>, <a href="DataAndResourceManager.html#1097040"><span style="font-family: monospace">DmQueryNextInCategory</span></a>, <a href="DataAndResourceManager.html#1097003"><span style="font-family: monospace">DmPositionInCategory</span></a>, <a href="DataAndResourceManager.html#1097539"><span style="font-family: monospace">DmSeekRecordInCategory</span></a>, <a href="DataAndResourceManager.html#1096438"><span style="font-family: monospace">DmMoveCategory</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1096775"> </a>DmNumResources
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1096776"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1096777"> </a>Return the total number of resources in a given resource database.
</p>
<h4 class="RefSide">
  <a name="1096778"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1096779"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1096780"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1096782"> </a>UInt16 DmNumResources (DmOpenRef dbP)
</p>
<h4 class="RefSide">
  <a name="1096783"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1096784"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbP</span></td><td valign="top"><span style="font-family: monospace">DmOpenRef</span> to open database.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1096785"> </a>Result 
</h4>
<p class="Body">
  <a name="1096786"> </a>The total number of resources in the given database.
</p>
<p class="Body">
  <a name="1096787"> </a>May display a fatal error message if the database is not a resource database. 
</p>
<h4 class="RefSide">
  <a name="1096788"> </a>Comments 
</h4>
<p class="Body">
  <a name="1096789"> </a><span style="font-family: monospace">DmNumResources</span> only counts the resources in the database indicated by the <span style="font-family: monospace">DmOpenRef</span> parameter. If the database is a resource database that has an overlay associated with it, this function only returns the number of resources in the base database, not in the overlay. 
</p>

<h2 class="HBHeadB">
  <a name="1096792"> </a>DmOpenDatabase
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1096793"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1096794"> </a>Open a database and return a reference to it. If the database is a resource database, also open its overlay for the current locale. 
</p>
<h4 class="RefSide">
  <a name="1096795"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1096796"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1096797"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1096799"> </a>DmOpenRef DmOpenDatabase (UInt16 cardNo,<br>LocalID dbID, UInt16 mode)
</p>
<h4 class="RefSide">
  <a name="1096800"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1096801"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">cardNo</span></td><td valign="top">Card number database resides on.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1096802"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbID</span></td><td valign="top">The database ID of the database.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1096805"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">mode</span></td><td valign="top">Which mode to open database in (see <a href="DataAndResourceManager.html#1094917">"Open Mode Constants"</a>).</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1096807"> </a>Result 
</h4>
<p class="Body">
  <a name="1096808"> </a>Returns <span style="font-family: monospace">DmOpenRef</span> to open database. May display a fatal error message if the database parameter is <span style="font-family: monospace">NULL</span>. On all other errors, this function returns 0 and <a href="DataAndResourceManager.html#1096057"><span style="font-family: monospace">DmGetLastErr</span></a> returns an error code indicating the reason for failure.
</p>
<h4 class="RefSide">
  <a name="1096812"> </a>Comments 
</h4>
<p class="Body">
  <a name="1096813"> </a>Call this routine to open a database for reading or writing. 
</p>
<p class="Body">
  <a name="1096814"> </a>This routine returns a <span style="font-family: monospace">DmOpenRef</span> which must be used to access particular records in a database. If unsuccessful, 0 is returned and the cause of the error can be determined by calling <a href="DataAndResourceManager.html#1096057"><span style="font-family: monospace">DmGetLastErr</span></a>.
</p>
<p class="Body">
  <a name="1096819"> </a>When you use this routine to open a resource database in read-only mode, it also opens the overlay associated with this database for the current locale, if it exists. (The function <a href="OverlayMgr.html#1141467"><span style="font-family: monospace">OmGetCurrentLocale</span></a> returns the current locale.) Overlays are resource databases typically used to localize applications, shared libraries, and panels. They have the same creator as the base database, a type of <span style="font-family: monospace">'ovly'</span> (symbolically named <span style="font-family: monospace">omOverlayDBType</span>), and contain resources with the same IDs and types as the resources in the base database. When you request a resource from the database using <a href="DataAndResourceManager.html#1096290"><span style="font-family: monospace">DmGetResource</span></a> or <a href="DataAndResourceManager.html#1096369"><span style="font-family: monospace">DmGet1Resource</span></a>, the overlay is searched first. If the overlay contains a resource for the given ID, it is returned. If not, the resource from the base database is returned. 
</p>
<p class="Body">
  <a name="1096830"> </a>The <span style="font-family: monospace">DmOpenRef</span> returned by this function is the pointer to the base database, not to the overlay database, so care should be taken when passing this pointer to functions such as <a href="DataAndResourceManager.html#1095809"><span style="font-family: monospace">DmFindResource</span></a> because this circumvents the overlay. 
</p>
<p class="Body">
  <a name="1096834"> </a>It's possible to create a "stripped" base resource database, one that does not contain any user interface resources. <span style="font-family: monospace">DmOpenDatabase</span> only opens a stripped database if its corresponding overlay exists. If the overlay does not exist or if the overlay doesn't match the resource database, <span style="font-family: monospace">DmOpenDatabase</span> returns <span style="font-family: monospace">NULL</span> and <a href="DataAndResourceManager.html#1096057"><span style="font-family: monospace">DmGetLastErr</span></a> returns the error code <a href="DataAndResourceManager.html#1094907"><span style="font-family: monospace">omErrBaseRequiresOverlay</span></a>.
</p>
<p class="Body">
  <a name="1096842"> </a>If you open a resource database in a writable mode, the associated overlay is not opened. If you make changes to the resource database, the overlay database is invalidated if those changes affect any resources that are also in the overlay. This means that on future occasions where you open the resource database in read-only mode, the overlay will not be opened because Palm OS considers it to be invalid. 
</p>
<div class="NINoteImportant"><hr>
  <a name="1096843"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">TIP:  </span> If you want to prevent your resource database from being overlaid, include an <span style="font-family: monospace">'xprf'</span> resource (symbolically named <span style="font-family: monospace">sysResTExtPrefs</span>) in the database with the ID 0 (<span style="font-family: monospace">sysResIDExtPrefs</span>) and set its <span style="font-family: monospace">disableOverlays</span> flag. This resource is defined in <span style="font-family: monospace">UIResources.r</span>. 
<hr>
</div>
<h4 class="RefSide">
  <a name="1096847"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1096851"> </a>Overlay support is only available if <a href="CompatibilityApdx.html#971113">3.5 New Feature Set</a> is present. On earlier releases, this function opens resource databases without looking for an associated overlay. 
</p>
<p class="Body">
  <a name="1096855"> </a>If <a href="CompatibilityApdx.html#971763">4.0 New Feature Set</a> is present, when <span style="font-family: monospace">DmOpenDatabase</span> attempts to open a stripped resource database and cannot find an overlay for it, it searches for an overlay matching the default locale if the system locale is different from the default locale. 
</p>
<h4 class="RefSide">
  <a name="1096856"> </a>See Also 
</h4>
<p class="Body">
  <a name="1096866"> </a><a href="DataAndResourceManager.html#1095148"><span style="font-family: monospace">DmCloseDatabase</span></a>, <a href="DataAndResourceManager.html#1095205"><span style="font-family: monospace">DmCreateDatabase</span></a>, <a href="DataAndResourceManager.html#1095749"><span style="font-family: monospace">DmFindDatabase</span></a>, <a href="DataAndResourceManager.html#1096877"><span style="font-family: monospace">DmOpenDatabaseByTypeCreator</span></a>, <a href="DataAndResourceManager.html#1095503"><span style="font-family: monospace">DmDeleteDatabase</span></a>, <a href="DataAndResourceManager.html#1096951"><span style="font-family: monospace">DmOpenDBNoOverlay</span></a> 
</p>

<h2 class="HBHeadB">
  <a name="1096877"> </a>DmOpenDatabaseByTypeCreator
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1096878"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1096879"> </a>Open the most recent revision of a database with the given type and creator. If the database is a resource database, also open its overlay for the current locale. 
</p>
<h4 class="RefSide">
  <a name="1096880"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1096881"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1096882"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1096884"> </a>DmOpenRef DmOpenDatabaseByTypeCreator<br>(UInt32 type, UInt32 creator, UInt16 mode)
</p>
<h4 class="RefSide">
  <a name="1096885"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1096886"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">type</span></td><td valign="top">Type of database.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1096887"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">creator</span></td><td valign="top">Creator of database.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1096890"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">mode</span></td><td valign="top">Which mode to open database in (see <a href="DataAndResourceManager.html#1094917">"Open Mode Constants"</a>).</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1096892"> </a>Result 
</h4>
<p class="Body">
  <a name="1096893"> </a><span style="font-family: monospace">DmOpenRef</span> to open database. If the database couldn't be found, this function returns 0 and <a href="DataAndResourceManager.html#1096057"><span style="font-family: monospace">DmGetLastErr</span></a> returns an error code indicating the reason for failure.
</p>
<h4 class="RefSide">
  <a name="1096897"> </a>Comments 
</h4>
<p class="Body">
  <a name="1096898"> </a>If you use this routine to open a resource database in read-only mode, it also opens the overlay associated with this database for the current locale. See <a href="DataAndResourceManager.html#1096792"><span style="font-family: monospace">DmOpenDatabase</span></a> for more information on overlays and resource databases. 
</p>
<h4 class="RefSide">
  <a name="1096902"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1096906"> </a>Overlay support is only available if <a href="CompatibilityApdx.html#971113">3.5 New Feature Set</a> is present. On earlier releases, this function opens resource databases without looking for an associated overlay. 
</p>
<h4 class="RefSide">
  <a name="1096907"> </a>See Also 
</h4>
<p class="Body">
  <a name="1096917"> </a><a href="DataAndResourceManager.html#1095205"><span style="font-family: monospace">DmCreateDatabase</span></a>, <a href="DataAndResourceManager.html#1096792"><span style="font-family: monospace">DmOpenDatabase</span></a>, <a href="DataAndResourceManager.html#1096925"><span style="font-family: monospace">DmOpenDatabaseInfo</span></a>, <a href="DataAndResourceManager.html#1095148"><span style="font-family: monospace">DmCloseDatabase</span></a>, <a href="DataAndResourceManager.html#1096951"><span style="font-family: monospace">DmOpenDBNoOverlay</span></a> 
</p>

<h2 class="HBHeadB">
  <a name="1096925"> </a>DmOpenDatabaseInfo
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1096926"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1096927"> </a>Retrieve information about an open database.
</p>
<h4 class="RefSide">
  <a name="1096928"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1096929"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1096930"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1096932"> </a>Err DmOpenDatabaseInfo (DmOpenRef dbP,<br>LocalID *dbIDP, UInt16 *openCountP, UInt16 *modeP,<br>UInt16 *cardNoP, Boolean *resDBP)
</p>
<h4 class="RefSide">
  <a name="1096933"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1096934"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbP</span></td><td valign="top"><span style="font-family: monospace">DmOpenRef</span> to open database.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1096935"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;- <span style="font-family: monospace">dbIDP</span></td><td valign="top">The ID of the database. Pass <span style="font-family: monospace">NULL</span> for this parameter if you don't want to retrieve this information.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1096936"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;- <span style="font-family: monospace">openCountP</span></td><td valign="top">The number of applications that have this database open. Pass <span style="font-family: monospace">NULL</span> for this parameter if you don't want to retrieve this information.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1096937"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;- <span style="font-family: monospace">modeP</span></td><td valign="top">The mode used to open the database (see <a href="DataAndResourceManager.html#1094917">"Open Mode Constants"</a>). Pass <span style="font-family: monospace">NULL</span> for this parameter if you don't want to retrieve this information.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1096941"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;- <span style="font-family: monospace">cardNoP</span></td><td valign="top">The number of the card on which this database resides. Pass <span style="font-family: monospace">NULL</span> for this parameter if you don't want to retrieve this information.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1096942"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;- <span style="font-family: monospace">resDBP</span></td><td valign="top">If <span style="font-family: monospace">true</span> upon return, the database is a resource database, <span style="font-family: monospace">false</span> otherwise. Pass <span style="font-family: monospace">NULL</span> for this parameter if you don't want to retrieve this information.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1096943"> </a>Result 
</h4>
<p class="Body">
  <a name="1096944"> </a>Returns <span style="font-family: monospace">errNone</span> if no error. 
</p>
<h4 class="RefSide">
  <a name="1096945"> </a>See Also 
</h4>
<p class="Body">
  <a name="1096949"> </a><a href="DataAndResourceManager.html#1105351"><span style="font-family: monospace">DmDatabaseInfo</span></a> 
</p>

<h2 class="HBHeadB">
  <a name="1096951"> </a>DmOpenDBNoOverlay
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1096952"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1096953"> </a>Open a database and return a reference to it.
</p>
<h4 class="RefSide">
  <a name="1096954"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1096955"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1096956"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1096958"> </a>DmOpenRef DmOpenDBNoOverlay (UInt16 cardNo,<br>LocalID dbID, UInt16 mode)
</p>
<h4 class="RefSide">
  <a name="1096959"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1096960"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">cardNo</span></td><td valign="top">Card number database resides on.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1096961"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbID</span></td><td valign="top">The database ID of the database.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1096964"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">mode</span></td><td valign="top">Which mode to open database in (see <a href="DataAndResourceManager.html#1094917">"Open Mode Constants"</a>). </td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1096966"> </a>Result 
</h4>
<p class="Body">
  <a name="1096967"> </a><span style="font-family: monospace">DmOpenRef</span> to open database. May display a fatal error message if the database parameter is <span style="font-family: monospace">NULL</span>. On all other errors, this function returns 0 and <a href="DataAndResourceManager.html#1096057"><span style="font-family: monospace">DmGetLastErr</span></a> returns an error code indicating the reason for failure.
</p>
<h4 class="RefSide">
  <a name="1096971"> </a>Comments 
</h4>
<p class="Body">
  <a name="1096972"> </a>Call this routine to open a database for reading or writing, while ignoring any overlay databases that might be associated with it. 
</p>
<p class="Body">
  <a name="1096973"> </a>This routine returns a <span style="font-family: monospace">DmOpenRef</span> which must be used to access particular records in a database. If unsuccessful, 0 is returned and the cause of the error can be determined by calling <a href="DataAndResourceManager.html#1096057"><span style="font-family: monospace">DmGetLastErr</span></a>.
</p>
<h4 class="RefSide">
  <a name="1096977"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1096981"> </a>Implemented only if <a href="CompatibilityApdx.html#971113">3.5 New Feature Set</a> is present. 
</p>
<h4 class="RefSide">
  <a name="1096982"> </a>See Also 
</h4>
<p class="Body">
  <a name="1096992"> </a><a href="DataAndResourceManager.html#1095148"><span style="font-family: monospace">DmCloseDatabase</span></a>, <a href="DataAndResourceManager.html#1095205"><span style="font-family: monospace">DmCreateDatabase</span></a>, <a href="DataAndResourceManager.html#1095749"><span style="font-family: monospace">DmFindDatabase</span></a>, <a href="DataAndResourceManager.html#1096877"><span style="font-family: monospace">DmOpenDatabaseByTypeCreator</span></a>, <a href="DataAndResourceManager.html#1095503"><span style="font-family: monospace">DmDeleteDatabase</span></a>, <a href="DataAndResourceManager.html#1096792"><span style="font-family: monospace">DmOpenDatabase</span></a> 
</p>

<h2 class="HBHeadB">
  <a name="1097003"> </a>DmPositionInCategory
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1097004"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1097005"> </a>Return a position of a record within the specified category. 
</p>
<h4 class="RefSide">
  <a name="1097006"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1097007"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1097008"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1097010"> </a>UInt16 DmPositionInCategory (DmOpenRef dbP,<br>UInt16 index, UInt16 category) 
</p>
<h4 class="RefSide">
  <a name="1097011"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1097012"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbP</span></td><td valign="top"><span style="font-family: monospace">DmOpenRef</span> to open database.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097013"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">index</span></td><td valign="top">Index of the record.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097014"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">category</span></td><td valign="top">Index of category to search.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1097015"> </a>Result 
</h4>
<p class="Body">
  <a name="1097016"> </a>Returns the position (zero-based). If the specified index is out of range, this function returns 0 and <a href="DataAndResourceManager.html#1096057"><span style="font-family: monospace">DmGetLastErr</span></a> returns an error code indicating the reason for failure. Note that this means a 0 return value might indicate either success or failure. If this function returns 0 and <span style="font-family: monospace">DmGetLastErr</span> returns <span style="font-family: monospace">errNone</span>, the return value indicates that this is the first record in the category. 
</p>
<h4 class="RefSide">
  <a name="1097020"> </a>Comments 
</h4>
<p class="Body">
  <a name="1097021"> </a>Because this function must examine all records up to the current record, it can be slow to return, especially when called on a large database.
</p>
<p class="Body">
  <a name="1108663"> </a>Records that have the <span style="font-family: monospace">deleted</span> bit set are ignored, and if the user has specified that private records should be hidden or masked, private records are ignored as well. 
</p>
<p class="Body">
  <a name="1097023"> </a>If the record is ROM-based (pointer accessed) this routine makes a fake handle to it and stores this handle in the <span style="font-family: monospace">DmAccessType</span> structure.
</p>
<p class="Body">
  <a name="1097027"> </a>To learn which category a record is in, use <a href="DataAndResourceManager.html#1097150"><span style="font-family: monospace">DmRecordInfo</span></a>. 
</p>
<h4 class="RefSide">
  <a name="1097028"> </a>See Also 
</h4>
<p class="Body">
  <a name="1097035"> </a><a href="DataAndResourceManager.html#1097040"><span style="font-family: monospace">DmQueryNextInCategory</span></a>, <a href="DataAndResourceManager.html#1097539"><span style="font-family: monospace">DmSeekRecordInCategory</span></a>, <a href="DataAndResourceManager.html#1096438"><span style="font-family: monospace">DmMoveCategory</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1097040"> </a>DmQueryNextInCategory
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1097041"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1097042"> </a>Return a handle to the next record in the specified category for reading only (does not set the <span style="font-family: monospace">busy</span> bit).
</p>
<h4 class="RefSide">
  <a name="1097044"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1097045"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1097046"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1097048"> </a>MemHandle DmQueryNextInCategory (DmOpenRef dbP,<br>UInt16 *indexP, UInt16 category)
</p>
<h4 class="RefSide">
  <a name="1097049"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1097050"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbP</span></td><td valign="top"><span style="font-family: monospace">DmOpenRef</span> to open database. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097051"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;-&gt; <span style="font-family: monospace">indexP</span></td><td valign="top">Index of a known record (often retrieved with <a href="DataAndResourceManager.html#1097003"><span style="font-family: monospace">DmPositionInCategory</span></a>). If a "next" record is found, this index is updated to indicate that record.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097055"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">category</span></td><td valign="top">Index of category to query, or <span style="font-family: monospace">dmAllCategories</span> to find the next record in any category. </td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1097056"> </a>Result 
</h4>
<p class="Body">
  <a name="1097057"> </a>Returns a handle to the record following a known record, along with the index of that record. If a record couldn't be found, this function returns <span style="font-family: monospace">NULL</span>, and <a href="DataAndResourceManager.html#1096057"><span style="font-family: monospace">DmGetLastErr</span></a> returns an error code indicating the reason for failure. 
</p>
<h4 class="RefSide">
  <a name="1097061"> </a>Comments 
</h4>
<p class="Body">
  <a name="1097062"> </a>This function begins searching the database from the record at <span style="font-family: monospace">*indexP</span> for a record that is in the specified category. If the record at <span style="font-family: monospace">*indexP</span> belongs to that category, then a handle to it is returned. If not, the function continues searching until it finds a record in the category. 
</p>
<p class="Body">
  <a name="1108831"> </a>Records that have the <span style="font-family: monospace">deleted</span> bit set are skipped, and if the user has specified that private records should be hidden or masked, private records are skipped as well. 
</p>
<p class="Body">
  <a name="1097063"> </a>Thus, if you want to find the next record in the category after the one you have an index for, increment the index value before calling this function. For example: 
</p>
<pre  class="Preformatted">
DmOpenRef myDB;<a name="1097064"> </a>
UInt16 record, attr, category, pos;<a name="1097065"> </a>
MemHandle newRecH;<a name="1097066"> </a>
 <a name="1097067"> </a>
DmRecordInfo(myDB, record, &amp;attr, NULL, NULL);<a name="1097068"> </a>
category = attr &amp; dmRecAttrCategoryMask;<a name="1097069"> </a>
pos = DmPositionInCategory(myDB, record, <a name="1097070"> </a>
  category);<a name="1097071"> </a>
pos++;<a name="1097072"> </a>
newRecH = DmQueryNextInCategory(myDB, &amp;pos, category);<a name="1097073"> </a>
</pre>
<h4 class="RefSide">
  <a name="1097074"> </a>See Also 
</h4>
<p class="Body">
  <a name="1097081"> </a><a href="DataAndResourceManager.html#1096730"><span style="font-family: monospace">DmNumRecordsInCategory</span></a>, <a href="DataAndResourceManager.html#1097003"><span style="font-family: monospace">DmPositionInCategory</span></a>, <a href="DataAndResourceManager.html#1097539"><span style="font-family: monospace">DmSeekRecordInCategory</span></a> 
</p>

<h2 class="HBHeadB">
  <a name="1097086"> </a>DmQueryRecord
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1097087"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1097088"> </a>Return a handle to a record for reading only (does not set the <span style="font-family: monospace">busy</span> bit).
</p>
<h4 class="RefSide">
  <a name="1097089"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1097090"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1097091"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1097093"> </a>MemHandle DmQueryRecord (DmOpenRef dbP,<br>UInt16 index)
</p>
<h4 class="RefSide">
  <a name="1097094"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1097095"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbP</span></td><td valign="top"><span style="font-family: monospace">DmOpenRef</span> to open database.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097096"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">index</span></td><td valign="top">Which record to retrieve.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1097097"> </a>Result 
</h4>
<p class="Body">
  <a name="1097098"> </a>Returns a record handle. If an error occurs, this function returns <span style="font-family: monospace">NULL</span>, and <a href="DataAndResourceManager.html#1096057"><span style="font-family: monospace">DmGetLastErr</span></a> returns an error code indicating the reason for failure. 
</p>
<p class="Body">
  <a name="1097102"> </a>Some releases may display a fatal error message if the specified index is out of range. 
</p>
<h4 class="RefSide">
  <a name="1097103"> </a>Comments 
</h4>
<p class="Body">
  <a name="1097104"> </a>Returns a handle to the given record. Use this routine only when viewing the record. This routine successfully returns a handle to the record even if the record is busy.
</p>
<p class="Body">
  <a name="1097106"> </a>If the record is ROM-based (pointer accessed) this routine returns the fake handle to it.
</p>

<h2 class="HBHeadB">
  <a name="1097108"> </a>DmQuickSort
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1097109"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1097110"> </a>Sort records in a database. 
</p>
<h4 class="RefSide">
  <a name="1097111"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1097112"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1097113"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1097115"> </a>Err DmQuickSort (DmOpenRef dbP, DmComparF *compar,<br>Int16 other)
</p>
<h4 class="RefSide">
  <a name="1097117"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1097118"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbP</span></td><td valign="top">Database access pointer.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097122"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">compar</span></td><td valign="top">Comparison function. See <a href="DataAndResourceManager.html#1097824"><span style="font-family: monospace">DmComparF</span></a>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097123"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">other</span></td><td valign="top">Any value the application wants to pass to the comparison function. This parameter is often used to indicate a sort direction (ascending or descending).</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1097124"> </a>Result 
</h4>
<p class="Body">
  <a name="1097125"> </a>Returns <span style="font-family: monospace">errNone</span> if no error, or one of the following if an error occurs:
</p>

  <a name="1097129"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094832"><span style="font-family: monospace">dmErrReadOnly</span></a></p>

  <a name="1097133"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094814"><span style="font-family: monospace">dmErrNotRecordDB</span></a></p>
<p class="Body">
  <a name="1097134"> </a>Some releases may display a fatal error message instead of returning the error code. 
</p>
<h4 class="RefSide">
  <a name="1097135"> </a>Comments 
</h4>
<p class="Body">
  <a name="1097136"> </a>Deleted records are placed last in any order. All others are sorted according to the passed comparison function.
</p>
<p class="Body">
  <a name="1097137"> </a>After <span style="font-family: monospace">DmQuickSort</span> returns, equal database records do not have a consistent order. That is, if <span style="font-family: monospace">DmQuickSort</span> is passed two equal records, their resulting order is unpredictable. To prevent records that contain the same data from being rearranged in an unpredictable order, pass the record's unique ID to the comparison function (using the <a href="DataAndResourceManager.html#1094493"><span style="font-family: monospace">SortRecordInfoType</span></a> structure). 
</p>
<p class="Body">
  <a name="1109277"> </a><span style="font-family: monospace">DmQuickSort</span> contains its own stack to limit uncontrolled recursion. When the stack is full <span style="font-family: monospace">DmQuickSort</span> instead performs an insertion sort. An insertion sort is also performed when the number of records is low, avoiding the noticeable overhead of a quick sort with a small number of records. Finally, if the records seem mostly sorted an insertion sort is performed to move only those records that need moving.
</p>
<h4 class="RefSide">
  <a name="1097141"> </a>See Also 
</h4>
<p class="Body">
  <a name="1097148"> </a><a href="DataAndResourceManager.html#1095941"><span style="font-family: monospace">DmFindSortPositionV10</span></a>, <a href="DataAndResourceManager.html#1096402"><span style="font-family: monospace">DmInsertionSort</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1097150"> </a>DmRecordInfo
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1097151"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1097153"> </a>Retrieve the record information as stored in the database header.
</p>
<h4 class="RefSide">
  <a name="1097154"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1097155"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1097156"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1097158"> </a>Err DmRecordInfo (DmOpenRef dbP, UInt16 index,<br>UInt16 *attrP, UInt32 *uniqueIDP,<br>LocalID *chunkIDP)
</p>
<h4 class="RefSide">
  <a name="1097159"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1097160"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbP</span></td><td valign="top"><span style="font-family: monospace">DmOpenRef</span> to open database.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097161"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">index</span></td><td valign="top">Index of the record.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097164"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;- <span style="font-family: monospace">attrP</span></td><td valign="top">The record's attributes. See <a href="DataAndResourceManager.html#1094567">"Record Attribute Constants."</a> Pass <span style="font-family: monospace">NULL</span> for this parameter if you don't want to retrieve this value.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097166"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;- <span style="font-family: monospace">uniqueIDP</span></td><td valign="top">The record's unique ID. Pass <span style="font-family: monospace">NULL</span> for this parameter if you don't want to retrieve this value.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097167"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;- <span style="font-family: monospace">chunkIDP</span></td><td valign="top">The record's local ID. Pass <span style="font-family: monospace">NULL</span> for this parameter if you don't want to retrieve this value.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1097168"> </a>Result 
</h4>
<p class="Body">
  <a name="1097172"> </a>Returns <span style="font-family: monospace">errNone</span> if no error or <a href="DataAndResourceManager.html#1094790"><span style="font-family: monospace">dmErrIndexOutOfRange</span></a> if the specified record can't be found. Some releases may display a fatal error message instead of returning the error code. 
</p>
<h4 class="RefSide">
  <a name="1097173"> </a>See Also 
</h4>
<p class="Body">
  <a name="1097183"> </a><a href="DataAndResourceManager.html#1096700"><span style="font-family: monospace">DmNumRecords</span></a>, <a href="DataAndResourceManager.html#1097669"><span style="font-family: monospace">DmSetRecordInfo</span></a>, <a href="DataAndResourceManager.html#1097040"><span style="font-family: monospace">DmQueryNextInCategory</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1097185"> </a>DmReleaseRecord
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1097186"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1097187"> </a>Clear the <span style="font-family: monospace">busy</span> bit for the given record and set the <span style="font-family: monospace">dirty</span> bit if dirty is <span style="font-family: monospace">true</span>.
</p>
<h4 class="RefSide">
  <a name="1097188"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1097189"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1097190"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1097192"> </a>Err DmReleaseRecord (DmOpenRef dbP, UInt16 index,<br>Boolean dirty)
</p>
<h4 class="RefSide">
  <a name="1097193"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1097194"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbP</span></td><td valign="top"><span style="font-family: monospace">DmOpenRef</span> to open database. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097195"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">index</span></td><td valign="top">The record to unlock.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097196"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dirty</span></td><td valign="top">If <span style="font-family: monospace">true</span>, set the <span style="font-family: monospace">dirty</span> bit.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1097197"> </a>Result 
</h4>
<p class="Body">
  <a name="1097201"> </a>Returns <span style="font-family: monospace">errNone</span> if no error, or <a href="DataAndResourceManager.html#1094790"><span style="font-family: monospace">dmErrIndexOutOfRange</span></a> if the specified index is out of range. Some releases may display a fatal error message instead of returning the error code. 
</p>
<h4 class="RefSide">
  <a name="1097202"> </a>Comments 
</h4>
<p class="Body">
  <a name="1097203"> </a>Call this routine when you finish modifying or reading a record that you've called <a href="DataAndResourceManager.html#1096247"><span style="font-family: monospace">DmGetRecord</span></a> on or created using <a href="DataAndResourceManager.html#1096544"><span style="font-family: monospace">DmNewRecord</span></a>. 
</p>
<h4 class="RefSide">
  <a name="1097210"> </a>See Also 
</h4>
<p class="Body">
  <a name="1097214"> </a><a href="DataAndResourceManager.html#1096247"><span style="font-family: monospace">DmGetRecord</span></a> 
</p>

<h2 class="HBHeadB">
  <a name="1097216"> </a>DmReleaseResource
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1097217"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1097221"> </a>Release a resource acquired with <a href="DataAndResourceManager.html#1096290"><span style="font-family: monospace">DmGetResource</span></a>.
</p>
<h4 class="RefSide">
  <a name="1097222"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1097223"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1097224"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1097226"> </a>Err DmReleaseResource (MemHandle resourceH)
</p>
<h4 class="RefSide">
  <a name="1097227"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1097228"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">resourceH</span></td><td valign="top">Handle to resource.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1097229"> </a>Result 
</h4>
<p class="Body">
  <a name="1097230"> </a>Returns <span style="font-family: monospace">errNone</span> if no error.
</p>
<h4 class="RefSide">
  <a name="1097231"> </a>Comments 
</h4>
<p class="Body">
  <a name="1097232"> </a>Marks a resource as being no longer needed by the application.
</p>
<h4 class="RefSide">
  <a name="1097233"> </a>See Also 
</h4>
<p class="Body">
  <a name="1097240"> </a><a href="DataAndResourceManager.html#1096369"><span style="font-family: monospace">DmGet1Resource</span></a>, <a href="DataAndResourceManager.html#1096290"><span style="font-family: monospace">DmGetResource</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1097242"> </a>DmRemoveRecord
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1097243"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1097244"> </a>Remove a record from a database and dispose of its data chunk.
</p>
<h4 class="RefSide">
  <a name="1097245"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1097246"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1097247"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1097249"> </a>Err DmRemoveRecord (DmOpenRef dbP, UInt16 index)
</p>
<h4 class="RefSide">
  <a name="1097250"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1097251"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbP</span></td><td valign="top"><span style="font-family: monospace">DmOpenRef</span> to open database.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097252"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">index</span></td><td valign="top">Index of the record to remove.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1097253"> </a>Result 
</h4>
<p class="Body">
  <a name="1097254"> </a>Returns <span style="font-family: monospace">errNone</span> if no error, or one of the following if an error occurs: 
</p>

  <a name="1097258"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094832"><span style="font-family: monospace">dmErrReadOnly</span></a></p>

  <a name="1097262"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094790"><span style="font-family: monospace">dmErrIndexOutOfRange</span></a></p>

  <a name="1097266"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094814"><span style="font-family: monospace">dmErrNotRecordDB</span></a></p>

  <a name="1097270"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094886"><span style="font-family: monospace">memErrChunkLocked</span></a></p>

  <a name="1097274"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094891"><span style="font-family: monospace">memErrInvalidParam</span></a></p>
<p class="Body">
  <a name="1097275"> </a>Some releases may display a fatal error message instead of returning the error code. 
</p>
<h4 class="RefSide">
  <a name="1097276"> </a>Comments 
</h4>
<p class="Body">
  <a name="1097277"> </a>Disposes of a the record's data chunk and removes the record's entry from the database header. <span style="font-family: monospace">DmRemoveRecord</span> should only be used for newly-created records that have just been deleted or records that have never been sync'ed.
</p>
<h4 class="RefSide">
  <a name="1097278"> </a>See Also 	
</h4>
<p class="Body">
  <a name="1097288"> </a><a href="DataAndResourceManager.html#1095645"><span style="font-family: monospace">DmDetachRecord</span></a>, <a href="DataAndResourceManager.html#1095591"><span style="font-family: monospace">DmDeleteRecord</span></a>, <a href="DataAndResourceManager.html#1094970"><span style="font-family: monospace">DmArchiveRecord</span></a>, <a href="DataAndResourceManager.html#1096544"><span style="font-family: monospace">DmNewRecord</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1097293"> </a>DmRemoveResource
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1097294"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1097295"> </a>Delete a resource from a resource database.
</p>
<h4 class="RefSide">
  <a name="1097296"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1097297"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1097298"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1097300"> </a>Err DmRemoveResource (DmOpenRef dbP, UInt16 index) 
</p>
<h4 class="RefSide">
  <a name="1097301"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1097302"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbP</span></td><td valign="top"><span style="font-family: monospace">DmOpenRef</span> to open database.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097303"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">index</span></td><td valign="top">Index of resource to delete.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1097304"> </a>Result 
</h4>
<p class="Body">
  <a name="1097305"> </a>Returns <span style="font-family: monospace">errNone</span> if no error, or one of the following if an error occurs: 
</p>

  <a name="1097309"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094771"><span style="font-family: monospace">dmErrCorruptDatabase</span></a> </p>

  <a name="1097313"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094790"><span style="font-family: monospace">dmErrIndexOutOfRange</span></a> </p>

  <a name="1097317"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094832"><span style="font-family: monospace">dmErrReadOnly</span></a> </p>

  <a name="1097321"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094886"><span style="font-family: monospace">memErrChunkLocked</span></a> </p>

  <a name="1097325"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094891"><span style="font-family: monospace">memErrInvalidParam</span></a> </p>

  <a name="1097329"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094893"><span style="font-family: monospace">memErrNotEnoughSpace</span></a> </p>
<p class="Body">
  <a name="1097330"> </a>May display a fatal error message if the database is not a resource database.
</p>
<h4 class="RefSide">
  <a name="1097331"> </a>Comments 
</h4>
<p class="Body">
  <a name="1097332"> </a>This routine disposes of the memory manager chunk that holds the given resource and removes its entry from the database header.
</p>
<h4 class="RefSide">
  <a name="1097333"> </a>See Also 
</h4>
<p class="Body">
  <a name="1097343"> </a><a href="DataAndResourceManager.html#1095702"><span style="font-family: monospace">DmDetachResource</span></a>, <a href="DataAndResourceManager.html#1097293"><span style="font-family: monospace">DmRemoveResource</span></a>, <a href="DataAndResourceManager.html#1095091"><span style="font-family: monospace">DmAttachResource</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1097345"> </a>DmRemoveSecretRecords
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1097346"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1097348"> </a>Remove all secret records.
</p>
<h4 class="RefSide">
  <a name="1097349"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1097350"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1097351"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1097353"> </a>Err DmRemoveSecretRecords (DmOpenRef dbP)
</p>
<h4 class="RefSide">
  <a name="1097354"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1097355"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbP</span></td><td valign="top"><span style="font-family: monospace">DmOpenRef</span> to open database. </td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1097356"> </a>Result 
</h4>
<p class="Body">
  <a name="1097357"> </a>Returns <span style="font-family: monospace">errNone</span> if no error, or one of the following if an error occurs: 
</p>

  <a name="1097361"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094832"><span style="font-family: monospace">dmErrReadOnly</span></a></p>

  <a name="1097365"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094814"><span style="font-family: monospace">dmErrNotRecordDB</span></a></p>
<p class="Body">
  <a name="1097366"> </a>Some releases may display a fatal error message instead of returning the error code. 
</p>
<h4 class="RefSide">
  <a name="1097367"> </a>See Also 
</h4>
<p class="Body">
  <a name="1097377"> </a><a href="DataAndResourceManager.html#1097242"><span style="font-family: monospace">DmRemoveRecord</span></a>, <a href="DataAndResourceManager.html#1097150"><span style="font-family: monospace">DmRecordInfo</span></a>, <a href="DataAndResourceManager.html#1097669"><span style="font-family: monospace">DmSetRecordInfo</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1097395"> </a>DmResizeRecord
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1097396"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1097397"> </a>Resize a record by index.
</p>
<h4 class="RefSide">
  <a name="1097398"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1097399"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1097400"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1097402"> </a>MemHandle DmResizeRecord (DmOpenRef dbP,<br>UInt16 index, UInt32 newSize)
</p>
<h4 class="RefSide">
  <a name="1097403"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1097404"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbP</span></td><td valign="top"><span style="font-family: monospace">DmOpenRef</span> to open database.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097405"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">index</span></td><td valign="top">Which record to retrieve.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097406"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">newSize</span></td><td valign="top">New size of record.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1097407"> </a>Result 
</h4>
<p class="Body">
  <a name="1097408"> </a>Handle to resized record. Returns <span style="font-family: monospace">NULL</span> if there is not enough space to resize the record, and <a href="DataAndResourceManager.html#1096057"><span style="font-family: monospace">DmGetLastErr</span></a> returns an error code indicating the reason for failure. Some releases may display a fatal error message instead of returning the error code. 
</p>
<h4 class="RefSide">
  <a name="1097412"> </a>Comments 
</h4>
<p class="Body">
  <a name="1097413"> </a>This routine reallocates the record in another heap of the same memory card if the current heap is not big enough. If this happens, the handle changes, so be sure to use the returned handle to access the resized record.
</p>

<h2 class="HBHeadB">
  <a name="1097416"> </a>DmResizeResource
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1097417"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1097418"> </a>Resize a resource and return the new handle. 
</p>
<h4 class="RefSide">
  <a name="1097419"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1097420"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1097421"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1097423"> </a>MemHandle DmResizeResource (MemHandle resourceH,<br>UInt32 newSize)
</p>
<h4 class="RefSide">
  <a name="1097424"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1097425"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">resourceH</span></td><td valign="top">Handle to resource.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097426"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">newSize</span></td><td valign="top">Desired new size of resource.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1097427"> </a>Result 
</h4>
<p class="Body">
  <a name="1097428"> </a>Returns a handle to newly sized resource. Returns <span style="font-family: monospace">NULL</span> if there is not enough space to resize the resource, and <a href="DataAndResourceManager.html#1096057"><span style="font-family: monospace">DmGetLastErr</span></a> returns an error code indicating the reason for failure. Some releases may display a fatal error message instead of returning the error code. 
</p>
<h4 class="RefSide">
  <a name="1097432"> </a>Comments 
</h4>
<p class="Body">
  <a name="1097433"> </a>Resizes the resource and returns a new handle. If necessary in order to grow the resource, this routine will reallocate it in another heap on the same memory card that it is currently in.
</p>
<p class="Body">
  <a name="1097434"> </a>The handle may change if the resource had to be reallocated in a different data heap because there was not enough space in its present data heap.
</p>

<h2 class="HBHeadB">
  <a name="1097436"> </a>DmResourceInfo
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1097437"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1097439"> </a>Retrieve information on a given resource.
</p>
<h4 class="RefSide">
  <a name="1097440"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1097441"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1097442"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1097444"> </a>Err DmResourceInfo (DmOpenRef dbP, UInt16 index,<br>DmResType *resTypeP, DmResID *resIDP,<br>LocalID *chunkLocalIDP)
</p>
<h4 class="RefSide">
  <a name="1097445"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1097446"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbP</span></td><td valign="top"><span style="font-family: monospace">DmOpenRef</span> to open database.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097447"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">index</span></td><td valign="top">Index of resource to get info on.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097448"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;- <span style="font-family: monospace">resTypeP</span></td><td valign="top">The resource type. Pass <span style="font-family: monospace">NULL</span> if you don't want to retrieve this information.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097449"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;- <span style="font-family: monospace">resIDP</span></td><td valign="top">The resource ID. Pass <span style="font-family: monospace">NULL</span> if you don't want to retrieve this information.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097450"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;- <span style="font-family: monospace">chunkLocalIDP</span></td><td valign="top">The memory manager local ID of the resource data. Pass <span style="font-family: monospace">NULL</span> if you don't want to retrieve this information.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1097451"> </a>Result 
</h4>
<p class="Body">
  <a name="1097455"> </a>Returns <span style="font-family: monospace">errNone</span> if no error or <a href="DataAndResourceManager.html#1094790"><span style="font-family: monospace">dmErrIndexOutOfRange</span></a> if an error occurred. May display a fatal error message if the database is not a resource database. 
</p>
<h4 class="RefSide">
  <a name="1097456"> </a>Comments 
</h4>
<p class="Body">
  <a name="1097457"> </a>If <span style="font-family: monospace">dbP</span> is a pointer to a base resource database, the information returned is about the resource from that database alone; this function ignores any associated overlay. 
</p>
<h4 class="RefSide">
  <a name="1097458"> </a>See Also 
</h4>
<p class="Body">
  <a name="1097468"> </a><a href="DataAndResourceManager.html#1096290"><span style="font-family: monospace">DmGetResource</span></a>, <a href="DataAndResourceManager.html#1096369"><span style="font-family: monospace">DmGet1Resource</span></a>, <a href="DataAndResourceManager.html#1097721"><span style="font-family: monospace">DmSetResourceInfo</span></a>, <a href="DataAndResourceManager.html#1095809"><span style="font-family: monospace">DmFindResource</span></a>, <a href="DataAndResourceManager.html#1095856"><span style="font-family: monospace">DmFindResourceType</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1097476"> </a>DmSearchRecord
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1097477"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1097478"> </a>Search all open record databases for a record with the handle passed.
</p>
<h4 class="RefSide">
  <a name="1097479"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1097480"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1097481"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1097483"> </a>UInt16 DmSearchRecord (MemHandle recH,<br>DmOpenRef *dbPP)
</p>
<h4 class="RefSide">
  <a name="1097484"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1097485"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">recH</span></td><td valign="top">Record handle.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097486"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;- <span style="font-family: monospace">dbPP</span></td><td valign="top">The database that contains the record <span style="font-family: monospace">recH</span>.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1097487"> </a>Result 
</h4>
<p class="Body">
  <a name="1097488"> </a>Returns the index of the record and database access pointer; if not found, returns -1 and <span style="font-family: monospace">*dbPP</span> is 0.
</p>
<h4 class="RefSide">
  <a name="1097489"> </a>See Also 
</h4>
<p class="Body">
  <a name="1097499"> </a><a href="DataAndResourceManager.html#1096247"><span style="font-family: monospace">DmGetRecord</span></a>, <a href="DataAndResourceManager.html#1095778"><span style="font-family: monospace">DmFindRecordByID</span></a>, <a href="DataAndResourceManager.html#1097150"><span style="font-family: monospace">DmRecordInfo</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1097502"> </a>DmSearchResource
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1097503"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1097504"> </a>Search all open resource databases for a resource by type and ID, or by pointer if it is non-<span style="font-family: monospace">NULL</span>.
</p>
<h4 class="RefSide">
  <a name="1097505"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1097506"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1097507"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1097509"> </a>UInt16 DmSearchResource (DmResType resType,<br>DmResID resID, MemHandle resH, DmOpenRef *dbPP)
</p>
<h4 class="RefSide">
  <a name="1097510"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1097511"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">resType</span></td><td valign="top">Type of resource to search for.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097512"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">resID</span></td><td valign="top">ID of resource to search for.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097513"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">resH</span></td><td valign="top">Pointer to locked resource, or <span style="font-family: monospace">NULL</span>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097514"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;- <span style="font-family: monospace">dbPP</span></td><td valign="top">The resource database that contains the specified resource.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1097515"> </a>Result 
</h4>
<p class="Body">
  <a name="1097516"> </a>Returns the index of the resource, stores <span style="font-family: monospace">DmOpenRef</span> in <span style="font-family: monospace">dbPP</span>. 
</p>
<h4 class="RefSide">
  <a name="1097517"> </a>Comments 
</h4>
<p class="Body">
  <a name="1097518"> </a>This routine can be used to find a resource in all open resource databases by type and ID or by pointer. If <span style="font-family: monospace">resH</span> is <span style="font-family: monospace">NULL</span>, the resource is searched for by type and ID. If <span style="font-family: monospace">resH</span> is not <span style="font-family: monospace">NULL</span>, <span style="font-family: monospace">resType</span> and <span style="font-family: monospace">resID </span>is ignored and the index of the resource handle is returned. On return, <span style="font-family: monospace">*dbPP</span> contains the access pointer of the resource database that the resource was eventually found in. Once the index of a resource is determined, it can be locked down and accessed by calling <a href="DataAndResourceManager.html#1096326"><span style="font-family: monospace">DmGetResourceIndex</span></a><span style="font-family: monospace">.</span>
</p>
<p class="Body">
  <a name="1097522"> </a>If any of the open databases are overlaid, this function finds and returns the localized version of the resource when searching by type and creator. In this case, the <span style="font-family: monospace">dbPP</span> return value is a pointer to the overlay database, not the base resource database. 
</p>
<h4 class="RefSide">
  <a name="1097523"> </a>See Also 
</h4>
<p class="Body">
  <a name="1097533"> </a><a href="DataAndResourceManager.html#1096290"><span style="font-family: monospace">DmGetResource</span></a>, <a href="DataAndResourceManager.html#1095856"><span style="font-family: monospace">DmFindResourceType</span></a>, <a href="DataAndResourceManager.html#1097436"><span style="font-family: monospace">DmResourceInfo</span></a>, <a href="DataAndResourceManager.html#1095809"><span style="font-family: monospace">DmFindResource</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1097539"> </a>DmSeekRecordInCategory
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1097540"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1097541"> </a>Return the index of the record nearest the offset from the passed record index whose category matches the passed category. (The <span style="font-family: monospace">offset</span> parameter indicates the number of records to move forward or backward.)
</p>
<h4 class="RefSide">
  <a name="1097543"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1097544"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1097545"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1097547"> </a>Err DmSeekRecordInCategory (DmOpenRef dbP,<br>UInt16 *indexP, UInt16 offset, Int16 direction,<br>UInt16 category)
</p>
<h4 class="RefSide">
  <a name="1097548"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1097549"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbP</span></td><td valign="top"><span style="font-family: monospace">DmOpenRef</span> to open database. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097550"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;-&gt; <span style="font-family: monospace">index</span></td><td valign="top">The index to start the search at. Upon return, contains the index of the record at <span style="font-family: monospace">offset</span> from the index that you passed in. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097551"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">offset</span> </td><td valign="top">Offset of the passed record index. This must be a positive number; use <span style="font-family: monospace">dmSeekBackward</span> for the <span style="font-family: monospace">direction</span> parameter to search backwards.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097553"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">direction</span></td><td valign="top">Must be either <span style="font-family: monospace">dmSeekForward</span> or <span style="font-family: monospace">dmSeekBackward</span>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097554"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">category</span></td><td valign="top">Category index.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1097555"> </a>Result 
</h4>
<p class="Body">
  <a name="1097559"> </a>Returns <span style="font-family: monospace">errNone</span> if no error; returns <a href="DataAndResourceManager.html#1094790"><span style="font-family: monospace">dmErrIndexOutOfRange</span></a> or <a href="DataAndResourceManager.html#1094866"><span style="font-family: monospace">dmErrSeekFailed</span></a> if an error occurred.
</p>
<h4 class="RefSide">
  <a name="1097563"> </a>Comments 
</h4>
<p class="Body">
  <a name="1097564"> </a><span style="font-family: monospace">DmSeekRecordInCategory</span> searches for a record in the specified category. The search begins with the record at <span style="font-family: monospace">index</span>. When it finds a record in the specified category, it decrements the <span style="font-family: monospace">offset</span> parameter and continues searching until a match is found and <span style="font-family: monospace">offset</span> is 0. 
</p>
<p class="Body">
  <a name="1097565"> </a>Because of this, if you use <span style="font-family: monospace">DmSeekRecordInCategory</span> to find the nearest matching record in a particular category, you must pass different <span style="font-family: monospace">offset</span> parameters if the starting record is in the category than if it isn't. If the record at <span style="font-family: monospace">index</span> is in the category, then you must pass an <span style="font-family: monospace">offset</span> of 1 to find the next record in the category because the comparison is performed before the <span style="font-family: monospace">index</span> value changes. If the record at <span style="font-family: monospace">index</span> isn't in the category, you must pass an <span style="font-family: monospace">offset</span> of 0 to find the next record in the category. In this case, an <span style="font-family: monospace">offset</span> of 1 skips the first matching record. 
</p>
<p class="Body">
  <a name="1108973"> </a>Records that have the <span style="font-family: monospace">deleted</span> bit set are ignored, and if the user has specified that private records should be hidden or masked, private records are ignored as well. 
</p>
<h4 class="RefSide">
  <a name="1097566"> </a>See Also 
</h4>
<p class="Body">
  <a name="1097573"> </a><a href="DataAndResourceManager.html#1096730"><span style="font-family: monospace">DmNumRecordsInCategory</span></a>, <a href="DataAndResourceManager.html#1097040"><span style="font-family: monospace">DmQueryNextInCategory</span></a>, <a href="DataAndResourceManager.html#1097003"><span style="font-family: monospace">DmPositionInCategory</span></a>, <a href="DataAndResourceManager.html#1096438"><span style="font-family: monospace">DmMoveCategory</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1097581"> </a>DmSet
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1097582"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1097583"> </a>Write a specified value into a section of a record. This function also checks the validity of the pointer for the record and makes sure the writing of the record information doesn't exceed the bounds of the record.
</p>
<h4 class="RefSide">
  <a name="1097584"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1097585"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1097586"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1097588"> </a>Err DmSet (void *recordP, UInt32 offset,<br>UInt32 bytes, UInt8 value)
</p>
<h4 class="RefSide">
  <a name="1097589"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1097590"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">recordP</span></td><td valign="top">Pointer to locked data record (chunk pointer).</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097591"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">offset</span></td><td valign="top">Offset within record to start writing.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097592"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">bytes</span></td><td valign="top">Number of bytes to write.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097593"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">value</span></td><td valign="top">Byte value to write.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1097594"> </a>Result 
</h4>
<p class="Body">
  <a name="1097595"> </a>Returns <span style="font-family: monospace">errNone</span> if no error. May display a fatal error message if the record pointer is invalid or the function overwrites the record. 
</p>
<h4 class="RefSide">
  <a name="1097596"> </a>Comments 
</h4>
<p class="Body">
  <a name="1097597"> </a>Must be used to write to data manager records because the data storage area is write-protected. 
</p>
<h4 class="RefSide">
  <a name="1097598"> </a>See Also 
</h4>
<p class="Body">
  <a name="1097602"> </a><a href="DataAndResourceManager.html#1097774"><span style="font-family: monospace">DmWrite</span></a> 
</p>

<h2 class="HBHeadB">
  <a name="1097604"> </a>DmSetDatabaseInfo
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1097605"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1097606"> </a>Set information about a database.
</p>
<h4 class="RefSide">
  <a name="1097607"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1097608"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1097609"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1097611"> </a>Err DmSetDatabaseInfo (UInt16 cardNo,<br>LocalID dbID, const Char *nameP,<br>UInt16 *attributesP, UInt16 *versionP,<br>UInt32 *crDateP, UInt32 *modDateP,<br>UInt32 *bckUpDateP, UInt32 *modNumP,<br>LocalID *appInfoIDP, LocalID *sortInfoIDP,<br>UInt32 *typeP, UInt32 *creatorP)
</p>
<h4 class="RefSide">
  <a name="1097612"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1097613"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">cardNo</span></td><td valign="top">Card number the database resides on.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097614"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbID</span></td><td valign="top">Database ID of the database.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1111059"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">nameP</span></td><td valign="top">Pointer to the new name of the database, or <span style="font-family: monospace">NULL</span>. A database name can be up to 32 ASCII bytes long, including the null terminator (as specified by <span style="font-family: monospace">dmDBNameLength</span>). Database names must use only 7-bit ASCII characters (0x20 through 0x7E). </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097616"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">attributesP</span></td><td valign="top">Pointer to new attributes variable, or <span style="font-family: monospace">NULL</span>. See <a href="DataAndResourceManager.html#1094637">"Database Attribute Constants"</a> for a list of possible values.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097620"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">versionP</span></td><td valign="top">Pointer to new version, or <span style="font-family: monospace">NULL</span>. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097621"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">crDateP</span></td><td valign="top">Pointer to new creation date variable, or <span style="font-family: monospace">NULL</span>. Specify the value as a number of seconds since Jan. 1, 1904.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097622"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">modDateP</span></td><td valign="top">Pointer to new modification date variable, or <span style="font-family: monospace">NULL</span>. Specify the value as a number of seconds since Jan. 1, 1904.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097623"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">bckUpDateP</span></td><td valign="top">Pointer to new backup date variable, or <span style="font-family: monospace">NULL</span>. Specify the value as a number of seconds since Jan. 1, 1904.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097624"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">modNumP</span></td><td valign="top">Pointer to new modification number variable, or <span style="font-family: monospace">NULL</span>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097625"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">appInfoIDP</span></td><td valign="top">Pointer to new <span style="font-family: monospace">appInfoID</span> variable, or <span style="font-family: monospace">NULL</span>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097626"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">sortInfoIDP</span></td><td valign="top">Pointer to new <span style="font-family: monospace">sortInfoID</span> variable, or <span style="font-family: monospace">NULL</span>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097627"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">typeP</span></td><td valign="top">Pointer to new <span style="font-family: monospace">type</span> variable, or <span style="font-family: monospace">NULL</span>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097628"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">creatorP</span></td><td valign="top">Pointer to new <span style="font-family: monospace">creator</span> variable, or <span style="font-family: monospace">NULL</span>.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1097629"> </a>Result 
</h4>
<p class="Body">
  <a name="1097630"> </a>Returns <span style="font-family: monospace">errNone</span> if no error or one of the following if an error occurred: 
</p>

  <a name="1097634"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094795"><span style="font-family: monospace">dmErrInvalidDatabaseName</span></a> </p>

  <a name="1097638"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094752"><span style="font-family: monospace">dmErrAlreadyExists</span></a> </p>

  <a name="1097642"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094800"><span style="font-family: monospace">dmErrInvalidParam</span></a> </p>
<h4 class="RefSide">
  <a name="1097643"> </a>Comments 
</h4>
<p class="Body">
  <a name="1097644"> </a>When this call changes <span style="font-family: monospace">appInfoID</span> or <span style="font-family: monospace">sortInfoID</span>, the old chunk ID (if any) is marked as an orphaned chunk<a href="#1097647"><span class="Footnote">1</span></a> and the new chunk ID is unorphaned. Consequently, you shouldn't replace an existing <span style="font-family: monospace">appInfoID</span> or <span style="font-family: monospace">sortInfoID</span> if that chunk has already been attached to another database.
</p>
<p class="Body">
  <a name="1097650"> </a>Call this routine to set any or all information about a database except for the card number and database ID. This routine sets the new value for any non-<span style="font-family: monospace">NULL</span> parameter.
</p>
<h4 class="RefSide">
  <a name="1097651"> </a>See Also 
</h4>
<p class="Body">
  <a name="1097661"> </a><a href="DataAndResourceManager.html#1105351"><span style="font-family: monospace">DmDatabaseInfo</span></a>, <a href="DataAndResourceManager.html#1096925"><span style="font-family: monospace">DmOpenDatabaseInfo</span></a>, <a href="DataAndResourceManager.html#1095749"><span style="font-family: monospace">DmFindDatabase</span></a>, <a href="DataAndResourceManager.html#1096175"><span style="font-family: monospace">DmGetNextDatabaseByTypeCreator</span></a>, <a href="DateAndTimeManager.html#1174674"><span style="font-family: monospace">TimDateTimeToSeconds</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1097669"> </a>DmSetRecordInfo
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1097670"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1097671"> </a>Set record information stored in the database header.
</p>
<h4 class="RefSide">
  <a name="1097672"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1097673"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1097674"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1097676"> </a>Err DmSetRecordInfo (DmOpenRef dbP, UInt16 index,<br>UInt16 *attrP, UInt32 *uniqueIDP)
</p>
<h4 class="RefSide">
  <a name="1097677"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1097678"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbP</span></td><td valign="top"><span style="font-family: monospace">DmOpenRef</span> to open database.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097679"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">index</span></td><td valign="top">Index of record.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097680"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">attrP</span></td><td valign="top">Pointer to new attribute variable, or <span style="font-family: monospace">NULL</span>. See <a href="DataAndResourceManager.html#1094567">"Record Attribute Constants"</a> for a list of possible values.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097684"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">uniqueIDP</span></td><td valign="top">Pointer to new unique ID variable, or <span style="font-family: monospace">NULL</span>.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1097685"> </a>Result 
</h4>
<p class="Body">
  <a name="1097686"> </a>Returns <span style="font-family: monospace">errNone</span> if no error, or one of the following if an error occurred:
</p>

  <a name="1097690"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094832"><span style="font-family: monospace">dmErrReadOnly</span></a> </p>

  <a name="1097694"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094814"><span style="font-family: monospace">dmErrNotRecordDB</span></a> </p>

  <a name="1097698"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094790"><span style="font-family: monospace">dmErrIndexOutOfRange</span></a> </p>
<p class="Body">
  <a name="1097699"> </a>Some releases may display a fatal error message instead of returning the error code. 
</p>
<h4 class="RefSide">
  <a name="1097700"> </a>Comments 
</h4>
<p class="Body">
  <a name="1097701"> </a>Sets information about a record. This routine cannot be used to set the <span style="font-family: monospace">dmRecAttrBusy</span> bit; instead, use <a href="DataAndResourceManager.html#1096247"><span style="font-family: monospace">DmGetRecord</span></a> to set the bit and <a href="DataAndResourceManager.html#1097185"><span style="font-family: monospace">DmReleaseRecord</span></a> to clear it.
</p>
<p class="Body">
  <a name="1097708"> </a>Normally, the unique ID for a record is automatically created by the data manager when a record is created using <a href="DataAndResourceManager.html#1096544"><span style="font-family: monospace">DmNewRecord</span></a>, so an application would not typically change the unique ID. 
</p>
<h4 class="RefSide">
  <a name="1097712"> </a>See Also 
</h4>
<p class="Body">
  <a name="1097719"> </a><a href="DataAndResourceManager.html#1096700"><span style="font-family: monospace">DmNumRecords</span></a>, <a href="DataAndResourceManager.html#1097150"><span style="font-family: monospace">DmRecordInfo</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1097721"> </a>DmSetResourceInfo
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1097722"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1097723"> </a>Set information on a given resource.
</p>
<h4 class="RefSide">
  <a name="1097724"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1097725"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1097726"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1097728"> </a>Err DmSetResourceInfo (DmOpenRef dbP,<br>UInt16 index, DmResType *resTypeP,<br>DmResID *resIDP)
</p>
<h4 class="RefSide">
  <a name="1097729"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1097730"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dbP</span></td><td valign="top"><span style="font-family: monospace">DmOpenRef</span> to open database.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097731"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">index</span></td><td valign="top">Index of resource to set info for.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097732"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">resTypeP</span></td><td valign="top">Pointer to new <span style="font-family: monospace">resType</span> (resource type), or <span style="font-family: monospace">NULL</span>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097733"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">resIDP</span></td><td valign="top">Pointer to new resource ID, or <span style="font-family: monospace">NULL</span>.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1097734"> </a>Result 
</h4>
<p class="Body">
  <a name="1097735"> </a>Returns <span style="font-family: monospace">errNone</span> if no error, or one of the following if an error occurred: 
</p>

  <a name="1097739"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094790"><span style="font-family: monospace">dmErrIndexOutOfRange</span></a> </p>

  <a name="1097743"> </a><p class="B1Bullet"> &#8226; <a href="DataAndResourceManager.html#1094832"><span style="font-family: monospace">dmErrReadOnly</span></a> </p>
<p class="Body">
  <a name="1097744"> </a>May display a fatal error message if the database is not a resource database. 
</p>
<h4 class="RefSide">
  <a name="1097745"> </a>Comments 
</h4>
<p class="Body">
  <a name="1097746"> </a>Use this routine to set all or a portion of the information on a particular resource. Any or all of the new info pointers can be <span style="font-family: monospace">NULL</span>. If not <span style="font-family: monospace">NULL</span>, the type and ID of the resource are changed to *<span style="font-family: monospace">resTypeP</span> and *<span style="font-family: monospace">resIDP</span>.
</p>

<h2 class="HBHeadB">
  <a name="1097748"> </a>DmStrCopy
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1097749"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1097750"> </a>Copies a string to a record within a database that is open for writing.
</p>
<h4 class="RefSide">
  <a name="1097751"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1097752"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1097753"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1125134"> </a>Err DmStrCopy (void *recordP, UInt32 offset,<br>const Char *srcP)
</p>
<h4 class="RefSide">
  <a name="1125355"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1125137"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;-&gt; <span style="font-family: monospace">recordP</span></td><td valign="top">Pointer to data record (chunk pointer).</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097759"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">offset</span></td><td valign="top">Offset within record to start writing.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097760"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">srcP</span></td><td valign="top">Pointer to null-terminated string.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1097761"> </a>Result 
</h4>
<p class="Body">
  <a name="1097762"> </a>Returns <span style="font-family: monospace">errNone</span> if no error. May display a fatal error message if the record pointer is invalid or the function overwrites the record. 
</p>
<h4 class="RefSide">
  <a name="1097763"> </a>Comments 
</h4>
<p class="Body">
  <a name="1097764"> </a>This is one of the routines that must be used to write to Data Manager records; because the data storage area is write-protected, you cannot write to it directly. This routine checks the validity of the chunk pointer for the record to insure that writing the record will not exceed the chunk bounds. DmStrCopy is a convenience method that determines the size of the supplied string and then simply calls <a href="DataAndResourceManager.html#1097774"><span style="font-family: monospace">DmWrite</span></a>.
</p>
<h4 class="RefSide">
  <a name="1097768"> </a>See Also 
</h4>
<p class="Body">
  <a name="1097772"> </a><a href="DataAndResourceManager.html#1097581"><span style="font-family: monospace">DmSet</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1097774"> </a>DmWrite
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1097775"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1097776"> </a>Copies a specified number of bytes to a record within a database that is open for writing.
</p>
<h4 class="RefSide">
  <a name="1097777"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1097778"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1097779"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1097781"> </a>Err DmWrite (void *recordP, UInt32 offset,<br>const void *srcP, UInt32 bytes)
</p>
<h4 class="RefSide">
  <a name="1097782"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1097783"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;-&gt; <span style="font-family: monospace">recordP</span></td><td valign="top">Pointer to locked data record (chunk pointer).</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097784"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">offset</span></td><td valign="top">Offset within record to start writing.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097785"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">srcP</span></td><td valign="top">Pointer to data to copy into record.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097786"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">bytes</span></td><td valign="top">Number of bytes to write.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1097787"> </a>Result 
</h4>
<p class="Body">
  <a name="1097788"> </a>Returns <span style="font-family: monospace">errNone</span> if no error. May display a fatal error message if the record pointer is invalid or the function overwrites the record. 
</p>
<h4 class="RefSide">
  <a name="1097789"> </a>Comments 
</h4>
<p class="Body">
  <a name="1097790"> </a>This is one of the routines that must be used to write to Data Manager records; because the data storage area is write-protected, you cannot write to it directly. This routine checks the validity of the chunk pointer for the record to insure that writing the record will not exceed the chunk bounds.
</p>
<h4 class="RefSide">
  <a name="1097791"> </a>See Also 
</h4>
<p class="Body">
  <a name="1097798"> </a><a href="DataAndResourceManager.html#1097748"><span style="font-family: monospace">DmStrCopy</span></a><span style="font-family: monospace">, </span><a href="DataAndResourceManager.html#1097581"><span style="font-family: monospace">DmSet</span></a> 
</p>

<h2 class="HBHeadB">
  <a name="1097800"> </a>DmWriteCheck
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1097801"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1097802"> </a>Check the parameters of a write operation to a data storage chunk before actually performing the write.
</p>
<h4 class="RefSide">
  <a name="1097803"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1097804"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1097805"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1097807"> </a>Err DmWriteCheck (void *recordP, UInt32 offset,<br>UInt32 bytes)
</p>
<h4 class="RefSide">
  <a name="1097808"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1097809"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">recordP</span></td><td valign="top">Locked pointer to <span style="font-family: monospace">recordH</span>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097810"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">offset</span></td><td valign="top">Offset into record to start writing.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097811"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">bytes</span></td><td valign="top">Number of bytes to write.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1097812"> </a>Result 
</h4>
<p class="Body">
  <a name="1097816"> </a>Returns <span style="font-family: monospace">errNone</span> if no error; returns <a href="DataAndResourceManager.html#1094823"><span style="font-family: monospace">dmErrNotValidRecord</span></a> or <a href="DataAndResourceManager.html#1094876"><span style="font-family: monospace">dmErrWriteOutOfBounds</span></a> if an error occurred.
</p>

<h2 class="HaHeadA">
  <a name="1097821"> </a>Application-Defined Functions 
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>


<h2 class="HBHeadB">
  <a name="1097824"> </a>DmComparF
<a href="#1094449"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1097825"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1097826"> </a>Compares two records in a database. 
</p>
<h4 class="RefSide">
  <a name="1097827"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1097828"> </a>DataMgr.h
</p>
<h4 class="RefSide">
  <a name="1097829"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1097830"> </a>typedef Int16 DmComparF (void *rec1, void *rec2,<br>Int16 other, SortRecordInfoPtr rec1SortInfo,<br>SortRecordInfoPtr rec2SortInfo,<br>MemHandle appInfoH)
</p>
<h4 class="RefSide">
  <a name="1097831"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1097832"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">rec1</span>, <span style="font-family: monospace">rec2</span></td><td valign="top">Pointers to the two records to compare. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097833"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">other</span></td><td valign="top">Any other custom information you want passed to the comparison function. This parameter is often used to indicate a sort direction (ascending or descending).</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097834"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">rec1SortInfo</span>, <span style="font-family: monospace">rec2SortInfo</span></td><td valign="top">Pointers to <a href="DataAndResourceManager.html#1094493"><span style="font-family: monospace">SortRecordInfoType</span></a> structures that specify unique sorting information for the two records.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1097838"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">appInfoH</span></td><td valign="top">A handle to the database's application info block.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1097839"> </a>Result 
</h4>
<p class="Body">
  <a name="1097840"> </a>Returns:
</p>

  <a name="1097841"> </a><p class="B1Bullet"> &#8226; 0 if <span style="font-family: monospace">rec1</span> = <span style="font-family: monospace">rec2</span>.</p>

  <a name="1097842"> </a><p class="B1Bullet"> &#8226; &lt; 0 if <span style="font-family: monospace">rec1</span> &lt; <span style="font-family: monospace">rec2</span>. </p>

  <a name="1097843"> </a><p class="B1Bullet"> &#8226; &gt; 0 if <span style="font-family: monospace">rec1</span> &gt; <span style="font-family: monospace">rec2</span>. </p>
<h4 class="RefSide">
  <a name="1097844"> </a>Comments 
</h4>
<p class="Body">
  <a name="1097845"> </a>This function is used to sort the records in a database. It is specifically called by <a href="DataAndResourceManager.html#1095899"><span style="font-family: monospace">DmFindSortPosition</span></a>, <a href="DataAndResourceManager.html#1096402"><span style="font-family: monospace">DmInsertionSort</span></a>, and <a href="DataAndResourceManager.html#1097108"><span style="font-family: monospace">DmQuickSort</span></a>. 
</p>
<h4 class="RefSide">
  <a name="1097855"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1097856"> </a>The <span style="font-family: monospace">DmComparF</span> prototype changed in Palm OS version 2.0. Previously, the prototype only defined the first three parameters. 
</p>
<p class="Body">
  <a name="1097857"> </a>As a rule, the change in the number of arguments from three to six doesn't cause problems when a 1.0 application is run on a 2.0 device because the system only pulls the arguments from the stack that are there.
</p>
<p class="Body">
  <a name="1097858"> </a>Keep in mind, however, that some optimized applications built with tools other than Metrowerks CodeWarrior for Palm OS may have problems as a result of the change in arguments when running on a 2.0 or later device.
</p>
 

<p class="Body">&nbsp;</p><hr> <p class="FNFootnote">
  <a name="1097647"> </a><a href="#1097644"><span class="FootnoteNumber">1. </span></a><p class="FNFootnote">
  <a name="1097647"> </a>An "orphaned chunk" is one that is allocated in the storage heap, but to which nothing refers. If the orphaned chunk is not put into a database as a record, an appInfo block, or the like, and if the application doesn't keep track of it-in a global variable, perhaps-it could get lost. If the application doesn't get around to freeing the chunk before it quits or crashes, or before the device is reset, that storage will be forever unusable: the user can't delete it since the user only deletes databases.
</p>
<p class="FNFootnote">
  <a name="1097648"> </a>
</p>
<p class="FNFootnote">
  <a name="1097649"> </a>	During a soft reset, the OS walks through the storage heap and frees any orphaned chunks that it finds. Since most users reset only rarely, however, you shouldn't rely on this happening.
</p>

</p>
&nbsp;<br>
				<!-- CONTENT_END -->

		</td>
		<td width="5">&nbsp;&nbsp;</td>
	</tr>
      </table>
    </td>
			</tr>
  <tr>
				<td>
					<table border="0" cellpadding="0" cellspacing="0" width="760">
        <!-- CONTENTCELL_END -->
        <tr valign="top"> 
          <td width="10">&nbsp;<!-- FOOTER_START --></td>
          <td width="72">&nbsp;</td>
          <td width="25" bgcolor="white" background="images/bkgrnd.gif">&nbsp;</td>
          <td width="600"> 
            <table border="0" cellpadding="0" cellspacing="0" width="600">
              <tr> 
                <td><img src="images/rule_10-1-5_ltblue.gif" width="600" height="16" border="0"></td>
              </tr>
              <tr> 
                <td> 
                  <p align="center" class="footer"> ©2002 PalmSource, Inc. and its affiliates.  All rights reserved. 
<a href="http://www.palmos.com/dev/training/">Training</a>&nbsp;|&nbsp;<a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a>&nbsp;|&nbsp;<a href="http://www.palmos.com/">Palm&nbsp;OS&nbsp;Platform</a>&nbsp;|&nbsp;<a href="Reference_Front.html" target="_blank">Legal Notices</a>&nbsp;<br>
												<!-- FOOTER_END --><br>
											</p>
                </td>
              </tr>
            </table>
          </td>
        </tr>
      </table>
				</td>
			</tr>
</table>
</BODY>
</HTML>