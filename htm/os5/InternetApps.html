<HTML>

<HEAD>
<SMALLSCREENIGNORE> 
<LINK HREF="copy_of_palmos.css" REL="stylesheet" TYPE="text/css">
<LINK HREF="document.css" REL="StyleSheet" TYPE="text/css" media="screen">
<!-- SCRIPT_START -->
<!-- SCRIPT_END -->
</SMALLSCREENIGNORE>
<TITLE>Internet and Messaging Applications</TITLE>

<META NAME="PALMTEMPLATE" CONTENT="1006-002 Palm HTML 20020513">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks Publisher Professional Edition 6.0.7">
<META NAME="TEMPLATEBASE" CONTENT="Palm HTML 20010625">
<META NAME="LASTUPDATED" CONTENT="12/13/02 10:04:23">
<META HTTP-EQUIV="content-type" CONTENT="text/html;charset=ISO-8859-1">

</HEAD>

<BODY LEFTMARGIN="0" MARGINWIDTH="0" TOPMARGIN="0" MARGINHEIGHT="0">
<SMALLSCREENIGNORE> 
<table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr>
	<td><a name="1003429"></a>
      <table border="0" cellpadding="0" cellspacing="0" width="100%">
        <tr height="35"> 
          <td height="35" colspan="2" bgcolor="#6699CC">&nbsp;</td>
        </tr>
        <tr valign="top"> 
          <td width="160" align="left"><a href="http://www.palmos.com"><img src="images/bigorb.gif" width="160" height="110" border="0"></a></td>
          <td align="left" width="100%"> 
            </SMALLSCREENIGNORE>
            <!-- CONTENTCELL_START -->
            <img border="0" height="45" src="images/orb_bkgrnd_600.gif" width="600"><br>
            <!--PAGENAV_START-->
            <SPAN CLASS="subnav">&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/index.html">Home</a> 
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/">Developers</a> 
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/support/">Development Support</a>
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/support/docs/">Documentation</a></span><BR>
             <img src="images/pixel_ltblue.gif" width="600" height="1" border="0" vspace="2"><br>
             <h2 class="HeadDocPage">9  Internet and Messaging Applications</h2>
             <img src="images/pixel_ltblue.gif" width="600" height="1" border="0" vspace="2"><br>
             &nbsp;<span class="subnav"><a href="Companion2TOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="SSLIntro.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="TelephonyMgr.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="Companion2IX.html">Index</a></span>  
            <!--PAGENAV_END-->
          </td>
        </tr>
      </table>
    </td>
			</tr>
  <tr>
				<td> 
      <table width="100%" border="0" cellspacing="0" cellpadding="0">
        <tr>
							<td>&nbsp;&nbsp;&nbsp;</td>
						</tr>
        <tr>
		<td valign="top" width="10">&nbsp;&nbsp;&nbsp;</td>
		<td valign="top" width="175">
			<p class="SideTitle">Title - <br><a href="Companion2Front.html">Palm OS® Programmer's Companion</a></p>
			<p class="SideTOC1-PartTab">Volume II Communications </p>
			<p class="SideTOC1"><a href="InternetApps.html">9  Internet and Messaging Applications</a></p>
			
<p class="SideTOC2">
<a href="#1003466">Internet Access on Palm Powered Handhelds
</a></p>

<p class="SideTOC2">
<a href="#1003475">Overview of Web Clipping Architecture
</a></p>

<p class="SideTOC3">
<a href="#1003493">About Web Clipping Applications
</a></p>

<p class="SideTOC2">
<a href="#1003512">Using the Viewer to Display Information
</a></p>

<p class="SideTOC2">
<a href="#1003586">Sending Email Messages
</a></p>

<p class="SideTOC3">
<a href="#1003603">Registering an Email Application
</a></p>

<p class="SideTOC3">
<a href="#1003618">Sending Mail from the Viewer
</a></p>

<p class="SideTOC3">
<a href="#1003624">Launching the Email Application for Editing
</a></p>

<p class="SideTOC3">
<a href="#1003630">Adding an Email to the Outbox
</a></p>

<p class="SideTOC2">
<a href="#1003642">Using Wireless Capabilities in Your Applications
</a></p>

<p class="SideTOC3">
<a href="#1003727">System Version Checking
</a></p>

<p class="SideTOC3">
<a href="#1003750">Wireless keyDownEvent Key Codes
</a></p>

<p class="SideTOC3">
<a href="#1003782">Including Over-the-Air Characters
</a></p>

		</td>

		<td width="5">&nbsp;&nbsp;</td>
		<td width="1" bgcolor="#6699cc">&nbsp;</td>
		<td width="5">&nbsp;&nbsp;</td>
		<td> 

				<!-- CONTENT_START -->

<p class="Body">
  <a name="1003430"> </a>This chapter provides an overview of wireless Internet access with the Palm OS<sup>®</sup> and describes the programmatic interfaces to the Web Clipping Application Viewer and email applications.
</p>
<div class="NINoteImportant"><hr>
  <a name="1003431"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">NOTE:  </span> You cannot use the features described in this chapter with a version of the Palm OS earlier than version 3.2. 
<hr>
</div>
<p class="Body">
  <a name="1003432"> </a>This chapter begins with a brief discussion of Internet access on Palm Powered<sup>&#8482;</sup> handhelds and then provides a brief overview of how web clipping applications work in the following sections:
</p>

  <a name="1003436"> </a><p class="B1Bullet"> &#8226; <a href="InternetApps.html#1003466">Internet Access on Palm Powered Handhelds</a></p>

  <a name="1003440"> </a><p class="B1Bullet"> &#8226; <a href="InternetApps.html#1003475">Overview of Web Clipping Architecture</a></p>
<p class="Body">
  <a name="1003441"> </a>For more information about web clipping applications, displaying HTML pages on Palm Powered handhelds, and the Palm.Net system, see the <i>Web Clipping Developer's Guide</i>.
</p>
<p class="Body">
  <a name="1003445"> </a>This chapter also describes how to programmatically access the Web Clipping Application Viewer (the <i>Viewer</i>) and IMessenger applications in the following sections:
</p>

  <a name="1003449"> </a><p class="B1Bullet"> &#8226; <a href="InternetApps.html#1003512">Using the Viewer to Display Information</a></p>

  <a name="1003453"> </a><p class="B1Bullet"> &#8226; <a href="InternetApps.html#1003586">Sending Email Messages</a></p>

  <a name="1003457"> </a><p class="B1Bullet"> &#8226; <a href="InternetApps.html#1003642">Using Wireless Capabilities in Your Applications</a></p>
<p class="Body">
  <a name="1003458"> </a>For more information about programmatic access to the Internet, see <a href="INetLib.html#1363843">Chapter 74, "Internet Library,"</a> in the <i>Palm OS Programmer's API Reference</i>.
</p>

<h2 class="HaHeadA">
  <a name="1003466"> </a>Internet Access on Palm Powered Handhelds 
<a href="#1003429"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1003467"> </a>Starting with version 3.2, the Palm OS added support for wireless Internet access and messaging. Version 3.5 of the Palm OS extended those capabilities, and along with the Mobile Internet Kit, extended wireless access capabilities to other Palm Powered handhelds. Version 4.0 extends the wireless communications features even further, adding numerous additional messaging, telephony, and web access capabilities.
</p>
<p class="Body">
  <a name="1003468"> </a>Two of the fundamental communications capabilities that Palm OS users can take advantage of are:
</p>

  <a name="1003469"> </a><p class="B1Bullet"> &#8226; sending and receiving email communications</p>

  <a name="1003470"> </a><p class="B1Bullet"> &#8226; viewing and interacting with the Internet</p>
<p class="Body">
  <a name="1003471"> </a>Users can access these capabilities with the built-in wireless antenna on the Palm VII<sup>&#8482;</sup> family of devices, or with a PPP connection that uses a wireline or a wireless modem and cell phone on other Palm Powered handhelds.
</p>

<h2 class="HaHeadA">
  <a name="1003475"> </a>Overview of Web Clipping Architecture 
<a href="#1003429"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1003477"> </a>PalmSource, Inc. invented web clippings to make it possible for users to easily access information on the Internet with a small screen and low connection bandwidth. Web clipping technology allows users to extract and receive specific information from a web page, much like clipping a specific article out of a newspaper.
</p>
<p class="Body">
  <a name="1003478"> </a>Numerous web sites are now enabled for web clipping, which means that the site's content is available in web clipping format. In the typical scenario, a web clipping application running on a Palm Powered handheld sends a query to the web site. The web site responds to the query by sending a clipping back to the handheld, and the web clipping application displays the returned clipping.
</p>
<p class="Body">
  <a name="1003479"> </a>You create web clipping applications by compiling standard HTML 3.2 pages with Palm's Web Clipping Application Builder tool, which generates a <span style="font-family: monospace">.pqa</span> that operates like a mini-web site and can execute on Palm Powered handhelds. These <span style="font-family: monospace">.pqa</span> files are actually databases that are run by the Viewer, which communicates with the Internet.
</p>
<p class="Body">
  <a name="1003480"> </a>The Viewer sends requests for information to the Internet via a Palm Proxy server, which converts the compressed format used by the Viewer into standard format and relays the request to the destination server. The server sends information back to the proxy server in standard format, and the proxy server converts the information into compressed format and relays it to the user's device, on which the Viewer displays it.
</p>
<div class="NINoteImportant"><hr>
  <a name="1003481"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">NOTE:  </span> The Palm OS automatically launches the Viewer when the user taps on a web clipping application icon in the Applications Launcher. The Viewer is not visible to users as an application in the Launcher.
<hr>
</div>
<p class="Body">
  <a name="1003482"> </a>For a more complete description of how web clipping works, including a discussion of the Palm Proxy Servers, see the <i>Web Clipping Developer's Guide</i>.
</p>

<h2 class="HBHeadB">
  <a name="1003493"> </a>About Web Clipping Applications
<a href="#1003429"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1003494"> </a>A web clipping application might contain hyperlinks or an HTML form that displays information and allows the sending or requesting of information. The information can be stored locally, on the handheld device, or remotely, on a web site that can be accessed on the Internet. A web clipping application can also be a self-contained web site.
</p>
<p class="Body">
  <a name="1003498"> </a><a href="InternetApps.html#1003500">Figure 9.1</a> shows a typical web clipping application. This application contains a number of links; when the user taps on any of these links, the HTTP(S) request is sent to the Internet, and the web site sends back a web clipping page that is displayed on the handheld screen.
</p>

<p class="FFigureCaption">
  <a name="1003500"> </a>Figure 9.1	 Typical web clipping application
</p>
<p class="FgFigure">
  <a name="1003506"> </a><div align="left"><img src="images/InternetAppsa.gif" height="188" width="480" border="0" hspace="20" vspace="0">
</div>
</p>
<p class="Body">
  <a name="1003507"> </a>For complete information about creating and building web clipping applications, including reference information about the HTML language features and extensions you can use in these applications, see the <i>Web Clipping Developer's Guide</i>.
</p>

<h2 class="HaHeadA">
  <a name="1003512"> </a>Using the Viewer to Display Information 
<a href="#1003429"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1003513"> </a>The Viewer program is a Palm OS program that displays web clipping applications, interacts with the Palm Proxy Server, and displays web clippings sent back from the Internet. You can also use the Viewer to display HTML content that you have created by launching the Viewer from your Palm OS applications.
</p>
<p class="Body">
  <a name="1003514"> </a>Before using the features described in this section, you should verify that the wireless access features are available in the system on which your application is running. For more information, see <a href="InternetApps.html#1003727">"System Version Checking"</a>.
</p>
<p class="Body">
  <a name="1003518"> </a>To launch the Viewer and display a web clipping page, use the launch code <a href="AppLaunchCodes.html#970936"><span style="font-family: monospace">sysAppLaunchCmdOpenDB</span></a>. Pass the database ID and card number for the <span style="font-family: monospace">.pqa </span>that you want to display.
</p>
<p class="Body">
  <a name="1003522"> </a>To launch the Viewer and display a specific URL, use the launch code <a href="AppLaunchCodes.html#970856"><span style="font-family: monospace">sysAppLaunchCmdGoToURL</span></a>. Pass a pointer to the URL string as a parameter to this launch code. <a href="InternetApps.html#1003531">Listing 9.1</a> shows an example.
</p>
<div class="NINoteImportant"><hr>
  <a name="1003529"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">NOTE:  </span> The Viewer was previously known as the Clipper; thus you see "Clipper" used in various constant names.
<hr>
</div>
<p class="CCodeCaption">
  <a name="1003531"> </a>Listing 9.1  Launching Viewer with a URL
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
Err GoToURL(Char* origurl) <a name="1003532"> </a>
{         // parameter is ptr to URL string<a name="1003533"> </a>
   Err err;<a name="1003534"> </a>
   Char* url;<a name="1003535"> </a>
   DmSearchStateType searchState;<a name="1003536"> </a>
   UInt16* cardNo;<a name="1003537"> </a>
   LocalID* dbID;<a name="1003538"> </a>
   <a name="1003539"> </a>
         // make a copy of the URL, since the OS will free <a name="1003540"> </a>
         // the parameter once Viewer quits<a name="1003541"> </a>
   url = MemPtrNew(StrLen(origurl)+1);<a name="1003542"> </a>
   if (!url) return sysErrNoFreeRAM;<a name="1003543"> </a>
   StrCopy(url, origurl);<a name="1003544"> </a>
   MemPtrSetOwner(url, 0);<a name="1003545"> </a>
   <a name="1003546"> </a>
         // find Viewer and launch it<a name="1003547"> </a>
   err = DmGetNextDatabaseByTypeCreator (true, &amp;searchState,
sysFileTApplication, sysFileCClipper, true, &amp;cardNo, &amp;dbID);<a name="1003548"> </a>
   if (err) { // Viewer is not present<a name="1003549"> </a>
      FrmAlert(NoClipperAlert);<a name="1003550"> </a>
      MemPtrFree(url);<a name="1003551"> </a>
   }<a name="1003552"> </a>
   else<a name="1003553"> </a>
      err = SysUIAppSwitch(cardNo,dbID,sysAppLaunchCmdGoToURL,url);<a name="1003554"> </a>
   <a name="1003555"> </a>
   return err; // ErrNone (0) means no error<a name="1003556"> </a>
}<a name="1003557"> </a>
</pre><div class="CodeRule"><hr></div>
<div class="NINoteImportant"><hr>
  <a name="1003558"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">IMPORTANT:  </span> When programmatically launching an application that connects to the Internet, remember that many Palm users pay for their wireless transmissions on a per-byte basis, and that web sites that are not designed to be Palm-friendly can result in increased airtime charges. For more information about Palm-friendly web pages, see the <i>Web Clipping Developer's Guide</i>.
<hr>
</div>

<h2 class="HaHeadA">
  <a name="1003586"> </a>Sending Email Messages 
<a href="#1003429"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1003587"> </a>You can send email messages from your Palm OS applications in three different ways:
</p>

  <a name="1003588"> </a><p class="B1Bullet"> &#8226; Use the standard <span style="font-family: monospace">mailto</span> URL in the Viewer.</p>

  <a name="1003592"> </a><p class="B1Bullet"> &#8226; Use the <a href="AppLaunchCodes.html#970220"><span style="font-family: monospace">sysAppLaunchCmdAddRecord</span></a> launch code to launch the email program with its editor open.</p>

  <a name="1003596"> </a><p class="B1Bullet"> &#8226; Use the <a href="AppLaunchCodes.html#970220"><span style="font-family: monospace">sysAppLaunchCmdAddRecord</span></a> launch code to silently add the email item to the outbox.</p>
<p class="Body">
  <a name="1003597"> </a>Each of these message-sending methods is described in this section.
</p>
<p class="Body">
  <a name="1003598"> </a>Before using the features described in this section, you should verify that the wireless access are available in the system on which your application is running. For more information, see <a href="InternetApps.html#1003727">"System Version Checking"</a>.
</p>

<h2 class="HBHeadB">
  <a name="1003603"> </a>Registering an Email Application
<a href="#1003429"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1003604"> </a>The standard, default email application on the Palm OS is either the Palm <span style="font-family: monospace">iMessenger</span> program (for the Palm VII device family) or MultiMail (for other Palm Powered handhelds). Starting with version 4.0 of the Palm OS, you can register additional email handling applications by calling the Exchange Manager from within a Palm OS application:
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
ExgRegisterDatatype(  CRID,            // ID of registering app<a name="1003605"> </a>
                      exgReg           // URL scheme registry<a name="1003606"> </a>
                      "mailto",        // the scheme to associate<a name="1003607"> </a>
                      "Email URL",     // description<a name="1003608"> </a>
                      0 );             // any flags <a name="1003609"> </a>
</pre><div class="CodeRule"><hr></div>
<p class="Body">
  <a name="1003610"> </a>When you register a new email-handling application, the Exchange Manager makes that application the default handler for email messages. 
</p>
<p class="Body">
  <a name="1003611"> </a>For more information about the Palm Exchange Manager, see <a href="ExchangeManager.html#1232736">Chapter 57, "Exchange Manager,"</a> and the <i>Palm OS Programmer's API Reference</i> book. 
</p>

<h2 class="HBHeadB">
  <a name="1003618"> </a>Sending Mail from the Viewer
<a href="#1003429"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1003619"> </a>You can send an email message with the Viewer just like you do in standard HTML pages, by using the <span style="font-family: monospace">mailto:</span> tag. For example:
</p>
<pre  class="Preformatted">
&lt;a href="mailto:us@company.com"&gt;Email us&lt;/a&gt;<a name="1003620"> </a>
</pre>
<p class="Body">
  <a name="1003621"> </a>When the Viewer encounters the <span style="font-family: monospace">mailto</span> tag, it calls the Exchange Manager to handle sending the email message. The Exchange Manager calls the default email application.
</p>

<h2 class="HBHeadB">
  <a name="1003624"> </a>Launching the Email Application for Editing
<a href="#1003429"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1003628"> </a>Use the <a href="AppLaunchCodes.html#970220"><span style="font-family: monospace">sysAppLaunchCmdAddRecord</span></a> launch code to launch the iMessenger email program with its editor open (optionally filling in some of the fields via the passed parameter block). This allows the user to edit the email message. To make the email program display the message in its editor, set the <span style="font-family: monospace">edit</span> field in the parameter block to <span style="font-family: monospace">true</span>.
</p>
<div class="NINoteImportant"><hr>
  <a name="1003629"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">NOTE:  </span> The <span style="font-family: monospace">sysAppLaunchCmdAddRecord</span> method of launching an email program is only guaranteed to work with the iMessenger email program. 
<hr>
</div>

<h2 class="HBHeadB">
  <a name="1003630"> </a>Adding an Email to the Outbox
<a href="#1003429"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1003634"> </a>Use the <a href="AppLaunchCodes.html#970220"><span style="font-family: monospace">sysAppLaunchCmdAddRecord</span></a> launch code to silently add an item (the email message) to the default email program's outbox database. You must pass all the needed information in the parameter block. To prevent the email program from displaying the message in its editor, set the <span style="font-family: monospace">edit</span> field in the parameter block to <span style="font-family: monospace">false</span>.
</p>
<p class="Body">
  <a name="1003635"> </a>When launched via the <span style="font-family: monospace">sysAppLaunchCmdAddRecord</span> launch code, the email application returns an error code, or <span style="font-family: monospace">errNone</span> if there was no error.
</p>
<p class="Body">
  <a name="1003636"> </a>To send a launch code to the default email application, you need obtain its database ID. You can use <a href="DataAndResourceManager.html#1096175"><span style="font-family: monospace">DmGetNextDatabaseByTypeCreator</span></a> and pass the constant <span style="font-family: monospace">sysFileCMessaging</span> for the <span style="font-family: monospace">creator</span> parameter.
</p>
<p class="Body">
  <a name="1003640"> </a>Note that adding an item to the email outbox does not actually send the message over the radio. It simply stores the message in the outbox until the user later opens the email application and chooses to send queued messages. This always gives the user control over when the radio is used.
</p>

<h2 class="HaHeadA">
  <a name="1003642"> </a>Using Wireless Capabilities in Your Applications 
<a href="#1003429"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1003643"> </a>This section provides information about system-level features that you may need to use with your Palm OS applications that access wireless communications capabilities. The following topics are covered:
</p>

  <a name="1003647"> </a><p class="B1Bullet"> &#8226; <a href="InternetApps.html#1003727">System Version Checking</a></p>

  <a name="1003651"> </a><p class="B1Bullet"> &#8226; <a href="InternetApps.html#1003750">Wireless keyDownEvent Key Codes</a></p>

  <a name="1003655"> </a><p class="B1Bullet"> &#8226; <a href="InternetApps.html#1003782">Including Over-the-Air Characters</a></p>

<h2 class="HBHeadB">
  <a name="1003727"> </a>System Version Checking
<a href="#1003429"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1003728"> </a>Before using any special features of the operating system for wireless communications, you must ensure that your application is running on a device that supports the wireless internet access features of the Palm OS.
</p>
<div class="NINoteImportant"><hr>
  <a name="1003729"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">NOTE:  </span> In some Palm Powered handhelds, the web clipping components are not built into the operating system, but are installed as separate components.
<hr>
</div>
<p class="Body">
  <a name="1003731"> </a>You can check that this feature set is implemented by checking for the existence of the Viewer and iMessenger<sup>&#8482;</sup> applications. Here's an example of how to check for the Viewer:
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
DmSearchStateType searchState;<a name="1003734"> </a>
UInt cardNo;<a name="1003735"> </a>
LocalID dbID;<a name="1003736"> </a>
 <a name="1003737"> </a>
err = DmGetNextDatabaseByTypeCreator(true, &amp;searchState,
 sysFileTApplication, sysFileCClipper, true, &amp;cardNo, &amp;dbID);<a name="1003738"> </a>
</pre><div class="CodeRule"><hr></div>
<p class="Body">
  <a name="1003739"> </a>If Viewer is not present, the <span style="font-family: monospace">DmGetNextDatabaseByTypeCreator</span> function returns an error. To check for iMessenger, you can use the creator type <span style="font-family: monospace">sysFileCMessaging</span>.
</p>
<p class="Body">
  <a name="1003744"> </a>For more information on checking system compatibility, see <a href="CompatibilityApdx.html#987591">Appendix B, "Compatibility Guide."</a> 
</p>

<h2 class="HBHeadB">
  <a name="1003750"> </a>Wireless keyDownEvent Key Codes
<a href="#1003429"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1003751"> </a>Versions 3.2 and later of the Palm OS provide special <span style="font-family: monospace">keyDownEvent</span> virtual key codes to support the wireless capabilities of the Palm VII family of devices. These include:
</p>

  <a name="1003753"> </a><p class="B1Bullet"> &#8226; <span style="font-family: monospace">vchrHardAntenna</span>, which signals that the user has raised the antenna, activating the radio</p>

  <a name="1003755"> </a><p class="B1Bullet"> &#8226; <span style="font-family: monospace">vchrRadioCoverageOK</span>, which signals that the unit is within radio coverage following a coverage check</p>

  <a name="1003757"> </a><p class="B1Bullet"> &#8226; <span style="font-family: monospace">vchrRadioCoverageFail</span>, which signals that the unit is outside radio coverage following a coverage check, and thus cannot communicate with the Palm.Net system</p>
<p class="Body">
  <a name="1003758"> </a>Virtual key codes are passed in the <span style="font-family: monospace">chr</span> field of a <span style="font-family: monospace">keyDownEvent</span> data block, with the <span style="font-family: monospace">commandKeyMask</span> bit set in the <span style="font-family: monospace">modifiers</span> field, as described in the section <a href="EventRef.html#972716">"keyDownEvent"</a> of the <i>Palm OS Programmer's API Reference</i>.
</p>
<p class="Body">
  <a name="1003769"> </a>Normally, you ignore these events in your application event handler, and let the system event handler handle them. For example, the <span style="font-family: monospace">vchrHardAntenna</span> event causes the system to invoke the Launcher and switch to the Palm.Net category. If you want to do something different in your application, you must trap and handle the event in your application event handler.
</p>
<p class="Body">
  <a name="1003770"> </a>Alternatively, if you want your application to have control over the antenna (avoiding having the system switch to the Launcher on a <span style="font-family: monospace">vchrHardAntenna</span> event), you can open the Internet library when your application starts, by calling <a href="INetLib.html#1365231"><span style="font-family: monospace">INetLibOpen</span></a>. You need to open the Internet library with the default or wireless configuration. When your application exits, you must close the Internet library by calling <a href="INetLib.html#1364805"><span style="font-family: monospace">INetLibClose</span></a>. For more information about using the Internet library, see <a href="NetworkCommunication.html#996393">Chapter 7, "Network Communication."</a>
</p>

<h2 class="HBHeadB">
  <a name="1003782"> </a>Including Over-the-Air Characters
<a href="#1003429"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1003783"> </a>One of the overriding user interface design goals of the Palm wireless communications system is to always give the user control when making a wireless transaction, partly because of the costs associated with doing so. 
</p>
<p class="Body">
  <a name="1003784"> </a>You can use the Palm over-the-air characters in your user interface buttons to help the user recognize a wireless transaction. Palm provides two different characters: one for standard transactions, and another for secure transactions, as shown in <a href="InternetApps.html#1003789">Figure 9.2</a>.
</p>

<p class="FFigureCaption">
  <a name="1003789"> </a>Figure 9.2	 Over the Air Characters
</p>
<p class="FgFigure">
  <a name="1003797"> </a><div align="left"><img src="images/InternetApps2.gif" height="79" width="360" border="0" hspace="20" vspace="0">
</div>
</p>
<p class="Body">
  <a name="1003798"> </a>If your application includes a button that causes data to be transmitted when tapped, end the button text with the "Over-the-air" character (<span style="font-family: monospace">chrOta</span>). This alerts the user that tapping the button will cause data transmission and incur possible airtime charges. 
</p>
<p class="Body">
  <a name="1003799"> </a>If your application includes a button that causes data to be transmitted securely when tapped, end the button text with the "Over-the-air-secure" character (<span style="font-family: monospace">chrOtaSecure</span>). This alerts the user that tapping the button will cause secure data transmission and incur possible airtime charges. 
</p>
<p class="Body">
  <a name="1003800"> </a>Note that the Viewer application automatically adds these special characters when rendering remote hyperlinks or buttons. You only need to explicitly add these characters if you are building an application that doesn't use this capability of the Viewer.
</p>
<p class="Body">
  <a name="1003831"> </a>
</p>
&nbsp;<br>
				<!-- CONTENT_END -->

		</td>
		<td width="5">&nbsp;&nbsp;</td>
	</tr>
      </table>
    </td>
			</tr>
  <tr>
				<td>
					<table border="0" cellpadding="0" cellspacing="0" width="760">
        <!-- CONTENTCELL_END -->
        <tr valign="top"> 
          <td width="10">&nbsp;<!-- FOOTER_START --></td>
          <td width="72">&nbsp;</td>
          <td width="25" bgcolor="white" background="images/bkgrnd.gif">&nbsp;</td>
          <td width="600"> 
            <table border="0" cellpadding="0" cellspacing="0" width="600">
              <tr> 
                <td><img src="images/rule_10-1-5_ltblue.gif" width="600" height="16" border="0"></td>
              </tr>
              <tr> 
                <td> 
                  <p align="center" class="footer"> ©2002 PalmSource, Inc. and its affiliates.  All rights reserved. 
<a href="http://www.palmos.com/dev/training/">Training</a>&nbsp;|&nbsp;<a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a>&nbsp;|&nbsp;<a href="http://www.palmos.com/">Palm&nbsp;OS&nbsp;Platform</a>&nbsp;|&nbsp;<a href="Companion2Front.html" target="_blank">Legal Notices</a>&nbsp;<br>
												<!-- FOOTER_END --><br>
											</p>
                </td>
              </tr>
            </table>
          </td>
        </tr>
      </table>
				</td>
			</tr>
</table>
</BODY>
</HTML>