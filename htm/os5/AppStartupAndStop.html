<HTML>

<HEAD>
<SMALLSCREENIGNORE> 
<LINK HREF="copy_of_palmos.css" REL="stylesheet" TYPE="text/css">
<LINK HREF="document.css" REL="StyleSheet" TYPE="text/css" media="screen">
<!-- SCRIPT_START -->
<!-- SCRIPT_END -->
</SMALLSCREENIGNORE>
<TITLE>Application Startup and Stop</TITLE>

<META NAME="PALMTEMPLATE" CONTENT="1006-002 Palm HTML 20020513">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks Publisher Professional Edition 6.0.7">
<META NAME="TEMPLATEBASE" CONTENT="Palm HTML 20010625">
<META NAME="LASTUPDATED" CONTENT="12/13/02 10:05:15">
<META HTTP-EQUIV="content-type" CONTENT="text/html;charset=ISO-8859-1">

</HEAD>

<BODY LEFTMARGIN="0" MARGINWIDTH="0" TOPMARGIN="0" MARGINHEIGHT="0">
<SMALLSCREENIGNORE> 
<table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr>
	<td><a name="971704"></a>
      <table border="0" cellpadding="0" cellspacing="0" width="100%">
        <tr height="35"> 
          <td height="35" colspan="2" bgcolor="#6699CC">&nbsp;</td>
        </tr>
        <tr valign="top"> 
          <td width="160" align="left"><a href="http://www.palmos.com"><img src="images/bigorb.gif" width="160" height="110" border="0"></a></td>
          <td align="left" width="100%"> 
            </SMALLSCREENIGNORE>
            <!-- CONTENTCELL_START -->
            <img border="0" height="45" src="images/orb_bkgrnd_600.gif" width="600"><br>
            <!--PAGENAV_START-->
            <SPAN CLASS="subnav">&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/index.html">Home</a> 
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/">Developers</a> 
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/support/">Development Support</a>
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/support/docs/">Documentation</a></span><BR>
             <img src="images/pixel_ltblue.gif" width="600" height="1" border="0" vspace="2"><br>
             <h2 class="HeadDocPage">2  Application Startup and Stop</h2>
             <img src="images/pixel_ltblue.gif" width="600" height="1" border="0" vspace="2"><br>
             &nbsp;<span class="subnav"><a href="CompanionTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="Nutshell.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="EventLoop.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="CompanionIX.html">Index</a></span>  
            <!--PAGENAV_END-->
          </td>
        </tr>
      </table>
    </td>
			</tr>
  <tr>
				<td> 
      <table width="100%" border="0" cellspacing="0" cellpadding="0">
        <tr>
							<td>&nbsp;&nbsp;&nbsp;</td>
						</tr>
        <tr>
		<td valign="top" width="10">&nbsp;&nbsp;&nbsp;</td>
		<td valign="top" width="175">
			<p class="SideTitle">Title - <br><a href="Companion_Front.html">Palm OS® Programmer's Companion</a></p>
			<p class="SideTOC1-PartTab">Volume I </p>
			<p class="SideTOC1"><a href="AppStartupAndStop.html">2  Application Startup and Stop</a></p>
			
<p class="SideTOC2">
<a href="#971753">Launch Codes and Launching an Application
</a></p>

<p class="SideTOC2">
<a href="#971779">Responding to Launch Codes
</a></p>

<p class="SideTOC3">
<a href="#971867">Responding to Normal Launch
</a></p>

<p class="SideTOC3">
<a href="#971987">Responding to Other Launch Codes
</a></p>

<p class="SideTOC2">
<a href="#972010">Launching Applications Programmatically
</a></p>

<p class="SideTOC2">
<a href="#972075">Creating Your Own Launch Codes 
</a></p>

<p class="SideTOC2">
<a href="#972083">Stopping an Application 
</a></p>

<p class="SideTOC2">
<a href="#972127">Notifications
</a></p>

<p class="SideTOC3">
<a href="#972155">Registering for a Notification
</a></p>

<p class="SideTOC3">
<a href="#972223">Writing a Notification Handler
</a></p>

<p class="SideTOC3">
<a href="#972268">Sleep and Wake Notifications
</a></p>

<p class="SideTOC2">
<a href="#972327">Helper Notifications
</a></p>

<p class="SideTOC3">
<a href="#972381">When to Use the Helper API
</a></p>

<p class="SideTOC3">
<a href="#972402">Requesting a Helper Service
</a></p>

<p class="SideTOC3">
<a href="#972479">Implementing a Helper
</a></p>

<p class="SideTOC2">
<a href="#982563">Launch Code Summary
</a></p>

<p class="SideTOC2">
<a href="#972839">Notification Summary
</a></p>

<p class="SideTOC2">
<a href="#973073">Launch and Notification Function Summary
</a></p>

		</td>

		<td width="5">&nbsp;&nbsp;</td>
		<td width="1" bgcolor="#6699cc">&nbsp;</td>
		<td width="5">&nbsp;&nbsp;</td>
		<td> 

				<!-- CONTENT_START -->

<p class="Body">
  <a name="971706"> </a>On desktop computers, an application starts up when a user launches it and stops when the user chooses the Exit or Quit command. These things occur a little bit differently on the Palm OS<sup>®</sup> handheld. A Palm OS application does launch when the user requests it, but it may also launch in response to some other user action, such as a request for the global find facility. Palm OS applications don't have an Exit command; instead they exit when a user requests another application. 
</p>
<p class="Body">
  <a name="971707"> </a>This chapter describes how an application launches, how an application stops, and the code you must write to perform these tasks properly. It also covers notifications, which is another way for the system to launch your code when certain events occur. Notifications are available in later releases of the Palm OS. This chapter covers: 
</p>

  <a name="971711"> </a><p class="B1Bullet"> &#8226; <a href="AppStartupAndStop.html#971753">Launch Codes and Launching an Application</a></p>

  <a name="971715"> </a><p class="B1Bullet"> &#8226; <a href="AppStartupAndStop.html#971779">Responding to Launch Codes</a></p>

  <a name="971719"> </a><p class="B1Bullet"> &#8226; <a href="AppStartupAndStop.html#972010">Launching Applications Programmatically</a></p>

  <a name="971723"> </a><p class="B1Bullet"> &#8226; <a href="AppStartupAndStop.html#972075">Creating Your Own Launch Codes</a></p>

  <a name="971727"> </a><p class="B1Bullet"> &#8226; <a href="AppStartupAndStop.html#972083">Stopping an Application</a></p>

  <a name="971731"> </a><p class="B1Bullet"> &#8226; <a href="AppStartupAndStop.html#972127">Notifications</a></p>

  <a name="971735"> </a><p class="B1Bullet"> &#8226; <a href="AppStartupAndStop.html#972327">Helper Notifications</a></p>

  <a name="971739"> </a><p class="B1Bullet"> &#8226; <a href="AppStartupAndStop.html#982563">Launch Code Summary</a></p>

  <a name="971743"> </a><p class="B1Bullet"> &#8226; <a href="AppStartupAndStop.html#972839">Notification Summary</a></p>

  <a name="971747"> </a><p class="B1Bullet"> &#8226; <a href="AppStartupAndStop.html#973073">Launch and Notification Function Summary</a></p>
<p class="Body">
  <a name="971748"> </a>This chapter does not cover the main application event loop. The event loop is covered in <a href="EventLoop.html#977418">Chapter 3, "Event Loop."</a>
</p>

<h2 class="HaHeadA">
  <a name="971753"> </a>Launch Codes and Launching an Application 
<a href="#971704"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="971755"> </a>An application launches when it receives a <b>launch code</b>. Launch codes are a means of communication between the Palm OS and the application (or between two applications). 
</p>
<p class="Body">
  <a name="971756"> </a>For example, an application typically launches when a user presses one of the buttons on the device or selects an application icon from the application launcher screen. When this happens, the system generates the launch code <span style="font-family: monospace">sysAppLaunchCmdNormalLaunch</span>, which tells the application to perform a full launch and display its user interface. 
</p>
<p class="Body">
  <a name="971759"> </a>Other launch codes specify that the application should perform some action but not necessarily become the current application (the application the user sees). A good example of this is the launch code used by the global find facility. The global find facility allows users to search all databases for a certain record, such as a name. In this case, it would be very wasteful to do a full launch-including the user interface-of each application only to access the application's databases in search of that item. Using a launch code avoids this overhead.
</p>
<p class="Body">
  <a name="971760"> </a>Each launch code may be accompanied by two types of information:
</p>

  <a name="971762"> </a><p class="B1Bullet"> &#8226; A parameter block, a pointer to a structure that contains several parameters. These parameters contain information necessary to handle the associated launch code. </p>

  <a name="971764"> </a><p class="B1Bullet"> &#8226; Launch flags indicate how the application should behave. For example, a flag could be used to specify whether the application should display UI or not. (See <a href="AppLaunchCodes.html#971071">"Launch Flags"</a> in the <i>Palm OS Programmer's API Reference</i>.) </p>
<p class="Body">
  <a name="971771"> </a>A complete list of all launch codes is provided at the end of this chapter in the section <a href="AppStartupAndStop.html#982563">"Launch Code Summary."</a> That section contains links into where each launch code is described in the <i>Palm OS Programmer's API Reference</i>. 
</p>

<h2 class="HaHeadA">
  <a name="971779"> </a>Responding to Launch Codes 
<a href="#971704"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="971780"> </a>Your application should respond to launch codes in a function named <a href="SystemManager.html#1166472"><span style="font-family: monospace">PilotMain</span></a>. <span style="font-family: monospace">PilotMain</span> is the entry point for all applications. 
</p>
<p class="Body">
  <a name="971785"> </a>When an application receives a launch code, it must first check whether it can handle this particular code. For example, only applications that have text data should respond to a launch code requesting a string search. If an application can't handle a launch code, it exits without failure. Otherwise, it performs the action immediately and returns. 
</p>
<p class="Body">
  <a name="971789"> </a><a href="AppStartupAndStop.html#971792">Listing 2.1</a> shows parts of <span style="font-family: monospace">PilotMain</span> from the Datebook application as an example. To see the complete example, go to the examples folder in the Palm OS SDK and look at the file <span style="font-family: monospace">Datebook.c</span>. 
</p>
<p class="CCodeCaption">
  <a name="971792"> </a>Listing 2.1  PilotMain in Datebook.c
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
UInt32 PilotMain (UInt16 cmd, void *cmdPBP, UInt16 launchFlags)<a name="971793"> </a>
{<a name="971794"> </a>
   return DBPilotMain(cmd, cmdPBP, launchFlags);<a name="971795"> </a>
}<a name="971796"> </a>
 <a name="971797"> </a>
static UInt32 DBPilotMain (UInt16 cmd, void *cmdPBP, UInt16 launchFlags)<a name="971798"> </a>
{<a name="971799"> </a>
   UInt16 error;<a name="971800"> </a>
   Boolean launched;<a name="971801"> </a>
 <a name="971802"> </a>
   // This app makes use of PalmOS 2.0 features.It will crash <a name="971803"> </a>
   // if run on an earlier version of PalmOS. Detect and warn <a name="971804"> </a>
   // if this happens, then exit.<a name="971805"> </a>
   error = RomVersionCompatible (version20, launchFlags);<a name="971806"> </a>
   if (error)<a name="971807"> </a>
      return error;<a name="971808"> </a>
 <a name="971809"> </a>
   // Launch code sent by the launcher or the datebook <a name="971810"> </a>
   // button.<a name="971811"> </a>
   if (cmd == sysAppLaunchCmdNormalLaunch) {<a name="971812"> </a>
      error = StartApplication ();<a name="971813"> </a>
      if (error) return (error);<a name="971814"> </a>
 <a name="971815"> </a>
      FrmGotoForm (DayView);<a name="971816"> </a>
      EventLoop ();<a name="971817"> </a>
      StopApplication ();<a name="971818"> </a>
   }<a name="971819"> </a>
   <a name="971820"> </a>
 <a name="971821"> </a>
   // Launch code sent by text search.<a name="971822"> </a>
   else if (cmd == sysAppLaunchCmdFind) {<a name="971823"> </a>
      Search ((FindParamsPtr)cmdPBP);<a name="971824"> </a>
   }<a name="971825"> </a>
   <a name="971826"> </a>
 <a name="971827"> </a>
   // This launch code might be sent to the app when it's <a name="971828"> </a>
   // already running if the user hits the "Go To" button in <a name="971829"> </a>
   // the Find Results dialog box.<a name="971830"> </a>
   else if (cmd == sysAppLaunchCmdGoTo) {<a name="971831"> </a>
      launched = launchFlags &amp; sysAppLaunchFlagNewGlobals;<a name="971832"> </a>
      if (launched) {<a name="971833"> </a>
         error = StartApplication ();<a name="971834"> </a>
         if (error) return (error);<a name="971835"> </a>
 <a name="971836"> </a>
         GoToItem ((GoToParamsPtr) cmdPBP, launched);<a name="971837"> </a>
 <a name="971838"> </a>
         EventLoop ();<a name="971839"> </a>
         StopApplication ();<a name="971840"> </a>
         else<a name="971841"> </a>
         GoToItem ((GoToParamsPtr) cmdPBP, launched);<a name="971842"> </a>
   }<a name="971843"> </a>
 <a name="971844"> </a>
   // Launch code sent by sync application to notify the <a name="971845"> </a>
   // datebook application that its database has been synced.<a name="971846"> </a>
   // ...<a name="971847"> </a>
   // Launch code sent by Alarm Manager to notify the <a name="971848"> </a>
   // datebook application that an alarm has triggered.<a name="971849"> </a>
   // ...<a name="971850"> </a>
   // Launch code sent by Alarm Manager to notify the <a name="971851"> </a>
   // datebook application that is should display its alarm <a name="971852"> </a>
   // dialog.<a name="971853"> </a>
   // ...<a name="971854"> </a>
   // Launch code sent when the system time is changed.<a name="971855"> </a>
   // ...<a name="971856"> </a>
   // Launch code sent after the system is reset. We use this <a name="971857"> </a>
   // time to create our default database if this is a hard <a name="971858"> </a>
   // reset<a name="971859"> </a>
   // ...<a name="971860"> </a>
   // Launch code sent by the DesktopLink server when it <a name="971861"> </a>
   // creates a new database.  We will initialize the new <a name="971862"> </a>
   // database.<a name="971863"> </a>
   return (0);<a name="971864"> </a>
}<a name="971865"> </a>
</pre><div class="CodeRule"><hr></div>

<h2 class="HBHeadB">
  <a name="971867"> </a>Responding to Normal Launch
<a href="#971704"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="971868"> </a>When an application receives the launch code <span style="font-family: monospace">sysAppLaunchCmdNormalLaunch</span>, it begins with a startup routine, then goes into an event loop, and finally exits with a stop routine. (The event loop is described in <a href="EventLoop.html#977418">Chapter 3, "Event Loop."</a> The stop routine is shown in the section <a href="AppStartupAndStop.html#972083">"Stopping an Application"</a> at the end of this chapter.) 
</p>
<p class="Body">
  <a name="971877"> </a>During the startup routine, your application should perform these actions: 
</p>
  <a name="971879"> </a><p class="N1NumList">1.	  Get system-wide preferences (for example for numeric or date and time formats) and use them to initialize global variables that will be referenced throughout the application. </p>  <a name="971880"> </a><p class="N1NumList">2.	  Find the application database by creator type. If none exists, create it and initialize it. </p>  <a name="971882"> </a><p class="N1NumList">3.	  Get application-specific preferences and initialize related global variables. </p>  <a name="971884"> </a><p class="N1NumList">4.	  Initialize any other global variables.</p><p class="Body">
  <a name="971888"> </a>As you saw in <a href="AppStartupAndStop.html#971792">Listing 2.1</a>, the Datebook application example responds to <span style="font-family: monospace">sysAppLaunchCmdNormalLaunch</span> by calling a function named <span style="font-family: monospace">StartApplication</span>. <a href="AppStartupAndStop.html#971893">Listing 2.2</a> shows the <span style="font-family: monospace">StartApplication</span> function. 
</p>
<p class="CCodeCaption">
  <a name="971893"> </a>Listing 2.2  StartApplication from Datebook.c
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
static UInt16 StartApplication (void)<a name="971894"> </a>
{<a name="971895"> </a>
   UInt16 error = 0;<a name="971896"> </a>
   Err err = 0;<a name="971897"> </a>
   UInt16 mode;<a name="971898"> </a>
   DateTimeType dateTime;<a name="971899"> </a>
   DatebookPreferenceType prefs;<a name="971900"> </a>
   SystemPreferencesType sysPrefs;<a name="971901"> </a>
   UInt16 prefsSize;<a name="971902"> </a>
 <a name="971903"> </a>
   // Step 1: Get system-wide preferences. <a name="971904"> </a>
   PrefGetPreferences (&amp;sysPrefs);<a name="971905"> </a>
   // Determime if secret records should be <a name="971906"> </a>
   // displayed.<a name="971907"> </a>
   HideSecretRecords = sysPrefs.hideSecretRecords;<a name="971908"> </a>
   <a name="971909"> </a>
   if (HideSecretRecords)<a name="971910"> </a>
      mode = dmModeReadWrite;<a name="971911"> </a>
   else<a name="971912"> </a>
      mode = dmModeReadWrite | dmModeShowSecret;<a name="971913"> </a>
 <a name="971914"> </a>
   // Get the time formats from the system preferences.<a name="971915"> </a>
   TimeFormat = sysPrefs.timeFormat;<a name="971916"> </a>
 <a name="971917"> </a>
   // Get the date formats from the system preferences.<a name="971918"> </a>
   LongDateFormat = sysPrefs.longDateFormat;<a name="971919"> </a>
   ShortDateFormat = sysPrefs.dateFormat;<a name="971920"> </a>
 <a name="971921"> </a>
   // Get the starting day of the week from the system <a name="971922"> </a>
   // preferences.<a name="971923"> </a>
   StartDayOfWeek = sysPrefs.weekStartDay;<a name="971924"> </a>
   <a name="971925"> </a>
 <a name="971926"> </a>
   // Get today's date.<a name="971927"> </a>
   TimSecondsToDateTime (TimGetSeconds(), &amp;dateTime);<a name="971928"> </a>
   Date.year = dateTime.year - firstYear;<a name="971929"> </a>
   Date.month = dateTime.month;<a name="971930"> </a>
   Date.day = dateTime.day;<a name="971931"> </a>
 <a name="971932"> </a>
 <a name="971933"> </a>
   // Step 2. Find the application's data file.  If it <a name="971934"> </a>
   // doesn't exist, create it.<a name="971935"> </a>
   ApptDB = DmOpenDatabaseByTypeCreator(datebookDBType, 
      sysFileCDatebook, mode);<a name="971936"> </a>
   if (! ApptDB) {<a name="971937"> </a>
      error = DmCreateDatabase (0, datebookDBName, <a name="971938"> </a>
         sysFileCDatebook, datebookDBType, false);<a name="971939"> </a>
      if (error) return error;<a name="971940"> </a>
      <a name="971941"> </a>
      ApptDB = <a name="971942"> </a>
         DmOpenDatabaseByTypeCreator(datebookDBType, 
         sysFileCDatebook, mode);<a name="971943"> </a>
      if (! ApptDB) return (1);<a name="971944"> </a>
 <a name="971945"> </a>
      error = ApptAppInfoInit (ApptDB);<a name="971946"> </a>
      if (error) return error;<a name="971947"> </a>
   }<a name="971948"> </a>
   <a name="971949"> </a>
 <a name="971950"> </a>
   // Step 3. Get application-specific preferences. <a name="971951"> </a>
   // Read the preferences/saved-state information. There is <a name="971952"> </a>
   // only one version of the DateBook preferences so don't <a name="971953"> </a>
   // worry about multiple versions.<a name="971954"> </a>
   prefsSize = sizeof (DatebookPreferenceType);<a name="971955"> </a>
   if (PrefGetAppPreferences (sysFileCDatebook, <a name="971956"> </a>
         datebookPrefID, &amp;prefs, &amp;prefsSize, true) <a name="971957"> </a>
         != noPreferenceFound) {<a name="971958"> </a>
      DayStartHour = prefs.dayStartHour;<a name="971959"> </a>
      DayEndHour = prefs.dayEndHour;<a name="971960"> </a>
      AlarmPreset = prefs.alarmPreset;<a name="971961"> </a>
      NoteFont = prefs.noteFont;<a name="971962"> </a>
      SaveBackup = prefs.saveBackup;<a name="971963"> </a>
      ShowTimeBars = prefs.showTimeBars;<a name="971964"> </a>
      CompressDayView = prefs.compressDayView;<a name="971965"> </a>
      ShowTimedAppts = prefs.showTimedAppts;<a name="971966"> </a>
      ShowUntimedAppts = prefs.showUntimedAppts;<a name="971967"> </a>
      ShowDailyRepeatingAppts = <a name="971968"> </a>
         prefs.showDailyRepeatingAppts;<a name="971969"> </a>
   }<a name="971970"> </a>
 <a name="971971"> </a>
   // Step 4. Initialize any other global variables. <a name="971972"> </a>
   TopVisibleAppt = 0;<a name="971973"> </a>
   CurrentRecord = noRecordSelected;	<a name="971974"> </a>
   <a name="971975"> </a>
 <a name="971976"> </a>
   // Load the far call jump table.<a name="971977"> </a>
   FarCalls.apptGetAppointments = ApptGetAppointments;<a name="971978"> </a>
   FarCalls.apptGetRecord = ApptGetRecord;<a name="971979"> </a>
   FarCalls.apptFindFirst = ApptFindFirst;<a name="971980"> </a>
   FarCalls.apptNextRepeat = ApptNextRepeat;<a name="971981"> </a>
   FarCalls.apptNewRecord = ApptNewRecord;<a name="971982"> </a>
   FarCalls.moveEvent = MoveEvent;<a name="971983"> </a>
 <a name="971984"> </a>
   return (error);<a name="971985"> </a>
}<a name="971986"> </a>
</pre><div class="CodeRule"><hr></div>

<h2 class="HBHeadB">
  <a name="971987"> </a>Responding to Other Launch Codes
<a href="#971704"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="971988"> </a>If an application receives a launch code other than <span style="font-family: monospace">sysAppLaunchCmdNormalLaunch</span>, it decides if it should respond to that launch code. If it responds to the launch code, it does so by implementing a launch code handler, which is invoked from its <a href="SystemManager.html#1166472"><span style="font-family: monospace">PilotMain</span></a> function. 
</p>
<p class="Body">
  <a name="971992"> </a>In most cases, when you respond to other launch codes, you are not able to access global variables. Global variables are generally only allocated after an application receives <span style="font-family: monospace">sysAppLaunchCmdNormalLaunch</span> (see <a href="AppStartupAndStop.html#971893">Listing 2.2</a>) or <a href="AppLaunchCodes.html#970812"><span style="font-family: monospace">sysAppLaunchCmdGoto</span></a>; so if the application hasn't received either of these launch codes, its global variables are usually not allocated and not accessible. In addition, if the application has multiple code segments, you cannot access code outside of segment 0 (the first segment) if the application has no access to global variables.
</p>
<p class="Body">
  <a name="971999"> </a>There is one other case where an application may have access to its global variables (and to code segments other than 0). This is when an application is launched with the code <a href="AppLaunchCodes.html#971055"><span style="font-family: monospace">sysAppLaunchCmdURLParams</span></a>. If this launch code results from a <span style="font-family: monospace">palm</span> URL, then globals are available. If the launch code results from a <span style="font-family: monospace">palmcall</span> URL, then globals are not available. The URL is passed to your application in the launch parameter block.
</p>
<div class="NINoteImportant"><hr>
  <a name="972003"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">NOTE:  </span> Static local variables are stored with the global variables on the system's dynamic heap. They are not accessible if global variables are not accessible.
<hr>
</div>
<p class="Body">
  <a name="972004"> </a>Checking launch codes is generally a good way to determine if your application has access to global variables. However, it actually depends on the setting of the launch flags that are sent with the launch code. In particular, if the <span style="font-family: monospace">sysAppLaunchFlagNewGlobals</span> flag is set, then your application's global variables have been allocated on this launch. This flag is set by the system and isn't (and shouldn't be) set by the sender of a launch code.
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
Boolean appHasGlobals = launchFlags &amp; sysAppLaunchFlag<span style="font-family: monospace">NewGlobals</span>;<a name="972005"> </a>
</pre><div class="CodeRule"><hr></div>
<p class="Body">
  <a name="972006"> </a>There's one case where this flag won't be set and your application will still have access to global variables. This is when your application is already running as the current application. In this case, its global variables have already been allocated through a previous launch.
</p>
<p class="Body">
  <a name="972007"> </a>If your application receives a launch code other than <span style="font-family: monospace">sysAppLaunchCmdNormalLaunch</span> or <span style="font-family: monospace">sysAppLaunchCmdGoTo</span>, you can find out if it is the current application by checking the launch flags that are sent with the launch code. If the application is the currently running application, the <span style="font-family: monospace">sysAppLaunchFlagSubCall</span> flag is set. This flag is set by the system and isn't (and shouldn't be) set by the sender of a launch code. 
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
Boolean appIsActive = launchFlags &amp; <span style="font-family: monospace">sysAppLaunchFlagSubCall</span>;<a name="972008"> </a>
</pre><div class="CodeRule"><hr></div>

<h2 class="HaHeadA">
  <a name="972010"> </a>Launching Applications Programmatically 
<a href="#971704"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="972012"> </a>Applications can send launch codes to each other, so your application might be launched from another application or it might be launched from the system. An application can use a launch code to request that another application perform an action or modify its data. For example, a data collection application could instruct an email application to queue up a particular message to be sent.
</p>
<div class="NINoteImportant"><hr>
  <a name="972013"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">TIP:  </span> In Palm OS 4.0 and higher, there are other ways for applications to communicate. See the section <a href="AppStartupAndStop.html#972381">"When to Use the Helper API"</a> to help you decide which method to use. 
<hr>
</div>
<p class="Body">
  <a name="972017"> </a>Sending a launch code to another application is like calling a specific subroutine in that application: the application responding to the launch code is responsible for determining what to do given the launch code constant passed on the stack as a parameter. 
</p>
<p class="Body">
  <a name="972018"> </a>To send a launch code to another application, use the system manager function <a href="SystemManager.html#1165530"><span style="font-family: monospace">SysAppLaunch</span></a>. Use this routine when you want to make use of another application's functionality and eventually return control of the system to your application. Usually, applications use it only for sending launch codes to other user-interface applications. 
</p>
<p class="Body">
  <a name="972023"> </a>For example, you would use this function to request that the built in Address Book application search its databases for a specified phone number and return the results of the search to your application. When calling <a href="SystemManager.html#1165530"><span style="font-family: monospace">SysAppLaunch</span></a> do not set launch flags yourself-the <a href="SystemManager.html#1165530"><span style="font-family: monospace">SysAppLaunch</span></a> function sets launch flags appropriately for you. 
</p>
<p class="Body">
  <a name="972034"> </a>An alternative, simpler method of sending launch codes is the <a href="SystemManager.html#1165708"><span style="font-family: monospace">SysBroadcastActionCode</span></a> call. This routine automatically finds all other user-interface applications and calls <a href="SystemManager.html#1165530"><span style="font-family: monospace">SysAppLaunch</span></a> to send the launch code to each of them.
</p>
<p class="Body">
  <a name="972042"> </a>When an application is called using <span style="font-family: monospace">SysAppLaunch</span>, the system considers that application to be the current application even though the application has not switched from the user's perspective. Thus, if your application is called from another application, it can still use the function <a href="SystemManager.html#1165839"><span style="font-family: monospace">SysCurAppDatabase</span></a> to get the card number and database ID of its own database. 
</p>
<p class="Body">
  <a name="972048"> </a>If you want to actually close your application and open another application, use <a href="SystemManager.html#1166426"><span style="font-family: monospace">SysUIAppSwitch</span></a> instead of <span style="font-family: monospace">SysAppLaunch</span>. This routine notifies the system which application to launch next and feeds an application-quit event into the event queue. If and when the current application responds to the quit event and returns, the system launches the new application.
</p>
<p class="Body">
  <a name="972053"> </a>When you allocate a parameter block to pass to <span style="font-family: monospace">SysUIAppSwitch</span>, you must call <a href="MemoryManager.html#1133408"><span style="font-family: monospace">MemPtrSetOwner</span></a> to grant ownership of the parameter block chunk to the OS (your application is originally set as the owner). If the parameter block structure contains references by pointer or handle to any other chunks, you also must set the owner of those chunks by calling <span style="font-family: monospace">MemPtrSetOwner</span> or <a href="MemoryManager.html#1132792"><span style="font-family: monospace">MemHandleSetOwner</span></a>. If you don't change the ownership of the parameter block, it will get freed before the application you're launching has a chance to use it.
</p>
<p class="Body">
  <a name="972060"> </a>In Palm OS 3.0 and higher, you can also use the Application Launcher to launch any application. For more information, see the section <a href="UserInterface.html#983047">"Application Launcher"</a> in the <a href="UserInterface.html#979973">"User Interface"</a> chapter. 
</p>
<div class="NWNoteWarning"><hr>
  <a name="972070"> </a> <span style="color: #FF0000;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">WARNING!  </span> Do not use the <a href="SystemManager.html#1166426"><span style="font-family: monospace">SysUIAppSwitch</span></a> or <a href="SystemManager.html#1165530"><span style="font-family: monospace">SysAppLaunch</span></a> functions to open the Application Launcher application. 
<hr>
</div>

<h2 class="HaHeadA">
  <a name="972075"> </a>Creating Your Own Launch Codes  
<a href="#971704"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="972077"> </a>The Palm OS contains predefined launch codes, which are listed in <a href="AppStartupAndStop.html#972610">Table 2.1</a> at the end of this chapter. In addition, developers can create their own launch codes to implement specific functionality. Both the sending and the receiving application must know about and handle any developer-defined launch codes. 
</p>
<p class="Body">
  <a name="972081"> </a>The launch code parameter is a 16-bit word value. All launch codes with values 0-32767 are reserved for use by the system and for future enhancements. Launch codes 32768-65535 are available for private use by applications.
</p>

<h2 class="HaHeadA">
  <a name="972083"> </a>Stopping an Application  
<a href="#971704"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="972084"> </a>An application shuts itself down when it receives the event <a href="EventRef.html#971975"><span style="font-family: monospace">appStopEvent</span></a>. Note that this is an event, not a launch code. The application must detect this event and terminate. (You'll learn more about events in the next chapter.) 
</p>
<p class="Body">
  <a name="972088"> </a>When an application stops, it is given an opportunity to perform cleanup activities including closing databases and saving state information. 
</p>
<p class="Body">
  <a name="972089"> </a>In the stop routine, an application should first flush all active records, then close the application's database, and finally save those aspects of the current state needed for startup. <a href="AppStartupAndStop.html#972094">Listing 2.3</a> is an example of a <span style="font-family: monospace">StopApplication</span> routine from <span style="font-family: monospace">Datebook.c</span>. 
</p>
<p class="CCodeCaption">
  <a name="972094"> </a>Listing 2.3  StopApplication from Datebook.c
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
static void StopApplication (void)<a name="972096"> </a>
{<a name="972097"> </a>
   DatebookPreferenceType prefs;<a name="972098"> </a>
   <a name="972099"> </a>
   // Write the preferences / saved-state information.<a name="972100"> </a>
   prefs.noteFont = NoteFont;<a name="972101"> </a>
   prefs.dayStartHour = DayStartHour;<a name="972102"> </a>
   prefs.dayEndHour = DayEndHour;<a name="972103"> </a>
   prefs.alarmPreset = AlarmPreset;<a name="972104"> </a>
   prefs.saveBackup = SaveBackup;<a name="972105"> </a>
   prefs.showTimeBars = ShowTimeBars;<a name="972106"> </a>
   prefs.compressDayView = CompressDayView;<a name="972107"> </a>
   prefs.showTimedAppts = ShowTimedAppts;<a name="972108"> </a>
   prefs.showUntimedAppts = ShowUntimedAppts;<a name="972109"> </a>
   prefs.showDailyRepeatingAppts = ShowDailyRepeatingAppts;<a name="972110"> </a>
 <a name="972111"> </a>
   // Write the state information.<a name="972112"> </a>
   PrefSetAppPreferences (sysFileCDatebook, datebookPrefID, <a name="972113"> </a>
      datebookVersionNum, &amp;prefs, sizeof <a name="972114"> </a>
      (DatebookPreferenceType), true);<a name="972115"> </a>
 <a name="972116"> </a>
   // Send a frmSave event to all the open forms.<a name="972117"> </a>
   FrmSaveAllForms ();<a name="972118"> </a>
   <a name="972119"> </a>
   // Close all the open forms.<a name="972120"> </a>
   FrmCloseAllForms ();<a name="972121"> </a>
 <a name="972122"> </a>
   // Close the application's data file.<a name="972123"> </a>
   DmCloseDatabase (ApptDB);<a name="972124"> </a>
}<a name="972125"> </a>
</pre><div class="CodeRule"><hr></div>

<h2 class="HaHeadA">
  <a name="972127"> </a>Notifications 
<a href="#971704"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="972131"> </a>On systems where the <a href="CompatibilityApdx.html#971727">Notification Feature Set</a> is present, your application can receive <b>notifications</b> and launch when certain system-level events or application-level events occur. Notifications are similar to application launch codes, but differ from them in two important ways: 
</p>

  <a name="972133"> </a><p class="B1Bullet"> &#8226; Notifications can be sent to any code resource, such as a shared library or a system extension (for example, a hack installed with the HackMaster program). Launch codes can only be sent to applications. Any code resource that is registered to receive a notification is called a <b>notification client</b>. </p>

  <a name="972135"> </a><p class="B1Bullet"> &#8226; Notifications are only sent to applications or code resources that have specifically registered to receive them, making them more efficient than launch codes. Many launch codes are sent to all installed applications to give each application a chance to respond. </p>
<p class="Body">
  <a name="972136"> </a>The Palm OS system and the built-in applications send notifications when certain events occur. See the <a href="AppStartupAndStop.html#972839">"Notification Summary"</a> in this chapter for a complete list. 
</p>
<p class="Body">
  <a name="972140"> </a>It's also possible for your application to create and broadcast its own notifications. However, doing so is rare. It's more likely that you'll want to register to receive the predefined notifications or that you'll broadcast the predefined <a href="Notifications.html#980093"><span style="font-family: monospace">sysNotifyHelperEvent</span></a> described in the <a href="AppStartupAndStop.html#972327">"Helper Notifications"</a> section. 
</p>
<p class="Body">
  <a name="972147"> </a>Three general types of event flow are possible using the notification manager:
</p>

  <a name="972148"> </a><p class="B1Bullet"> &#8226; Single consumer </p>
<p class="Indented1"> <a name="972149"> </a>Each client is notified that the event has occurred and handles it in its own way without modifying any information in the parameter block. </p>

  <a name="972150"> </a><p class="B1Bullet"> &#8226; Collaborative</p>
<p class="Indented1"> <a name="972151"> </a>The notification's parameter block contains a <span style="font-family: monospace">handled</span> flag. Clients can set this flag to communicate to other clients that the event has been handled, while still allowing them to receive the notification. An example of this is the <span style="font-family: monospace">sysNotifyAntennaRaisedEvent</span> for Palm VII<sup>&#8482;</sup> series handhelds. A client might decide to handle the antenna key down event and in this case, sets <span style="font-family: monospace">handled</span> to <span style="font-family: monospace">true</span> to inform other clients that the event has been handled. </p>

  <a name="972152"> </a><p class="B1Bullet"> &#8226; Collective</p>
<p class="Indented1"> <a name="972153"> </a>Each client can add information to the notification's parameter block, allowing the data to be accumulated for all clients. This style of notification could be used, for example, to build a menu dynamically by letting each client add its own menu text. The <span style="font-family: monospace">sysNotifyMenuCmdBarOpenEvent</span> is similar to this style of notification. </p>

<h2 class="HBHeadB">
  <a name="972155"> </a>Registering for a Notification
<a href="#971704"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="972156"> </a>To receive notification that an event has occurred, you must register for it using the <a href="NotifyMgr.html#1140099"><span style="font-family: monospace">SysNotifyRegister</span></a> function. Once you register for a notification, you remain registered until the system is reset or until you explicitly unregister for this notification using <a href="NotifyMgr.html#1140173"><span style="font-family: monospace">SysNotifyUnregister</span></a>.
</p>
<p class="Body">
  <a name="972165"> </a>To register an application for the HotSync<sup>®</sup> notification, you'd use a function call similar to the one in <a href="AppStartupAndStop.html#972170">Listing 2.4</a>.
</p>
<p class="CCodeCaption">
  <a name="972170"> </a>Listing 2.4  Registering an application for a notification
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
SysNotifyRegister(myCardNo, appDBID, sysNotifySyncStartEvent, <a name="972171"> </a>
   NULL, sysNotifyNormalPriority, myDataP);<a name="972172"> </a>
</pre><div class="CodeRule"><hr></div>
<p class="Body">
  <a name="972173"> </a>If you are writing a shared library instead of an application and you want to be notified about the HotSync event, your call to <span style="font-family: monospace">SysNotifyRegister</span> looks slightly different. See <a href="AppStartupAndStop.html#972178">Listing 2.5</a>.
</p>
<p class="CCodeCaption">
  <a name="972178"> </a>Listing 2.5  Registering a shared library for a notification
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
SysNotifyRegister(myCardNo, shlibDBID,<a name="972179"> </a>
   sysNotifySyncStartEvent, SyncNotifyHandler,<a name="972180"> </a>
   sysNotifyNormalPriority, myDataP);<a name="972181"> </a>
</pre><div class="CodeRule"><hr></div>
<p class="Body">
  <a name="972182"> </a>The parameters you pass to the <span style="font-family: monospace">SysNotifyRegister</span> function specify the following:
</p>

  <a name="972183"> </a><p class="B1Bullet"> &#8226; The first two parameters are the card number and database ID for the <span style="font-family: monospace">prc</span> file. Be sure you're not passing the local ID of the record database that your application accesses. You use the record database's local ID more frequently than you do the application's local ID, so this is a common mistake to make. </p>

  <a name="972185"> </a><p class="B1Bullet"> &#8226; <span style="font-family: monospace">sysNotifySyncStartEvent</span> specifies that you want to be informed when a HotSync operation is about to start. There is also a <span style="font-family: monospace">sysNotifySyncFinishEvent</span> that specifies that a HotSync operation has ended. </p>

  <a name="972187"> </a><p class="B1Bullet"> &#8226; The next parameter specifies how the notification should be received. This is where <a href="AppStartupAndStop.html#972170">Listing 2.4</a> and <a href="AppStartupAndStop.html#972178">Listing 2.5</a> differ. </p>
<p class="Indented1"> <a name="972194"> </a>Applications use <span style="font-family: monospace">NULL</span> for this parameter to specify that they should be notified through the application launch code <a href="AppLaunchCodes.html#970919"><span style="font-family: monospace">sysAppLaunchCmdNotify</span></a>. As with all other launch codes, the system passes this to the application's <a href="SystemManager.html#1166472"><span style="font-family: monospace">PilotMain</span></a> function. </p>
<p class="Indented1"> <a name="972202"> </a>The shared library has no <span style="font-family: monospace">PilotMain</span> function and therefore no way to receive a launch code, so it passes a pointer to a callback function. Only use a callback function if your code doesn't have a <span style="font-family: monospace">PilotMain</span>. </p>
<p class="Indented1"> <a name="972203"> </a>Note that it's always necessary to pass the card number and database ID of your <span style="font-family: monospace">prc</span> file even if you specify a callback function. </p>

  <a name="972205"> </a><p class="B1Bullet"> &#8226; <span style="font-family: monospace">sysNotifyNormalPriority</span> means that you don't want your code to receive any special consideration when receiving the notification. Notifications are broadcast synchronously in priority order. The lower the number you specify here, the earlier you receive the notification in the list. </p>
<p class="Indented1"> <a name="972206"> </a>In virtually all cases, you should use <span style="font-family: monospace">sysNotifyNormalPriority</span>. If you absolutely must ensure that your code is notified in a certain order (either before most notifications or after most notifications), be sure to leave some space between priority values so that your code won't collide with the system's handling of notifications or with another application's handling of notifications. Never use the extreme maximum or minimum allowed value. In general, Palm<sup>&#8482;</sup> recommends using a value whose least significant bits are 0 (such as 32, 64, 96, and so on). </p>

  <a name="972207"> </a><p class="B1Bullet"> &#8226; <span style="font-family: monospace">myDataP</span> is a pointer to any data you need to access in your notification handler function. As with most launch codes, <span style="font-family: monospace">sysAppLaunchCmdNotify</span> does not provide access to global variables, so you should use this pointer to pass yourself any needed data. </p>
<p class="Body">
  <a name="972215"> </a>After you've made the calls shown in <a href="AppStartupAndStop.html#972170">Listing 2.4</a> and <a href="AppStartupAndStop.html#972178">Listing 2.5</a> and the system is about to begin a HotSync operation, it broadcasts the <span style="font-family: monospace">sysNotifySyncStartEvent</span> notification to both clients. 
</p>
<p class="Body">
  <a name="972216"> </a>The application is notified through the <span style="font-family: monospace">sysAppLaunchCmdNotify</span> launch code. This launch code's parameter block is a <a href="Notifications.html#979746"><span style="font-family: monospace">SysNotifyParamType</span></a> structure containing the notification name, the broadcaster, and a pointer to your specific data (<span style="font-family: monospace">myDataP</span> in the example above). Some notifications contain extra information in a <span style="font-family: monospace">notifyDetailsP</span> field in this structure. The HotSync notifications do not use the <span style="font-family: monospace">notifyDetailsP</span> field. 
</p>
<p class="Body">
  <a name="972221"> </a>The shared library is notified by a call to its <span style="font-family: monospace">SyncNotifyHandler</span> function. This function is passed the same <span style="font-family: monospace">SysNotifyParamType</span> structure that is passed through the launch code mechanism. 
</p>
<div class="NINoteImportant"><hr>
  <a name="972222"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">IMPORTANT:  </span> Because the callback pointer is used to directly call the function, the pointer must remain valid from the time <span style="font-family: monospace">SysNotifyRegister</span> is called to the time the notification is broadcast. If the function is in a shared library, you must keep the library open. If the function is in a separately loaded code resource, the resource must remain locked while registered for the notification. When you close a library or unlock a resource, you must first unregister for any notifications. If you don't, the system will crash when the notification is broadcast. 
<hr>
</div>

<h2 class="HBHeadB">
  <a name="972223"> </a>Writing a Notification Handler
<a href="#971704"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="972224"> </a>The application's response to <span style="font-family: monospace">sysAppLaunchCmdNotify</span> and the shared library's callback function are called <b>notification handlers</b>. A notification handler may perform any processing necessary, including displaying a user interface or broadcasting other notifications. 
</p>
<p class="Body">
  <a name="972226"> </a>When displaying a user interface, consider the possibility that you may be blocking other applications from receiving the notification. For this reason, it's generally not a good idea to display a modal form or do anything else that requires waiting for the user to respond. Also, many of the notifications are broadcast during <a href="SystemManager.html#1166025"><span style="font-family: monospace">SysHandleEvent</span></a>, which means your application event loop may not have progressed to the point where it is possible for you to display a user interface, or that you may overflow the stack. 
</p>
<p class="Body">
  <a name="972230"> </a>If you need to perform some lengthy process in a notification handler, one way to ensure that you aren't blocking other events is to send yourself a deferred notification. For example, <a href="AppStartupAndStop.html#972235">Listing 2.6</a> shows a notification handler for the <span style="font-family: monospace">sysNotifyTimeChangeEvent</span> notification that performs no work other than setting up a deferred notification (<span style="font-family: monospace">myDeferredNotifyEvent</span>) and scheduling it for broadcast. When the application receives the <span style="font-family: monospace">myDeferredNotifyEvent</span>, it calls the <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">MyNotifyHandler</span> function, which is where the application really handles the time change event.
</p>
<p class="CCodeCaption">
  <a name="972235"> </a>Listing 2.6  Deferring notification within a handler
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
case sysAppLaunchCmdNotify : <a name="972236"> </a>
   if (cmdPBP-&gt;notify-&gt;notifyType == <span style="font-family: monospace">sysNotifyTimeChangeEvent</span>) {<a name="972237"> </a>
      SysNotifyParamType notifyParm;<a name="972238"> </a>
      MyGlobalsToAccess myData;<a name="972239"> </a>
 <a name="972240"> </a>
      /* initialize myData here */<a name="972241"> </a>
 <a name="972242"> </a>
      /* Create the notification block. */<a name="972243"> </a>
      notifyParam.notifyType = myDeferredNotifyEvent;<a name="972244"> </a>
      notifyParam.broadcaster = myCreatorID;<a name="972245"> </a>
      notifyParam.notifyDetailsP= NULL;<a name="972246"> </a>
      notifyParam.handled = false;<a name="972247"> </a>
 <a name="972248"> </a>
      /* Register for my notification */<a name="972249"> </a>
      SysNotifyRegister(myCardNo, appDBID, myDeferredNotifyEvent, NULL, 
         sysNotifyNormalPriority, &amp;myData);<a name="972250"> </a>
 <a name="972251"> </a>
      /* Broadcast the notification */<a name="972252"> </a>
      SysNotifyBroadcastDeferred(&amp;notifyParam, NULL);<a name="972253"> </a>
 <a name="972254"> </a>
   } else if (cmdPBP-&gt;notify-&gt;notifyType == myDeferredNotifyEvent)<a name="972255"> </a>
      MyNotifyHandler(cmdPBP-&gt;notify);<a name="972256"> </a>
break;<a name="972257"> </a>
</pre><div class="CodeRule"><hr></div>
<p class="Body">
  <a name="972261"> </a>The <a href="NotifyMgr.html#1140018"><span style="font-family: monospace">SysNotifyBroadcastDeferred</span></a> function broadcasts the specified notification to all interested parties; however, it waits to do so until the current event has completed processing. Thus, by using a separate deferred notification, you can be sure that all other clients have had a chance to respond to the first notification. 
</p>
<p class="Body">
  <a name="972262"> </a>There are several functions that broadcast notifications. Notification handlers should use <span style="font-family: monospace">SysNotifyBroadcastDeferred</span> to avoid the possibility of overflowing the notification stack. 
</p>
<p class="Body">
  <a name="972263"> </a>A special case of dealing with lengthy computations in a notification handler occurs when the system is being put to sleep. See <a href="AppStartupAndStop.html#972268">"Sleep and Wake Notifications"</a> below. 
</p>

<h2 class="HBHeadB">
  <a name="972268"> </a>Sleep and Wake Notifications
<a href="#971704"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="972269"> </a>Several notifications are broadcast at various stages when the system goes to sleep and when the system wakes up. These are: 
</p>

  <a name="972274"> </a><p class="B1Bullet"> &#8226; <a href="Notifications.html#980324"><span style="font-family: monospace">sysNotifySleepRequestEvent</span></a> </p>

  <a name="972279"> </a><p class="B1Bullet"> &#8226; <a href="Notifications.html#980302"><span style="font-family: monospace">sysNotifySleepNotifyEvent</span></a> </p>

  <a name="972284"> </a><p class="B1Bullet"> &#8226; <a href="Notifications.html#980030"><span style="font-family: monospace">sysNotifyEarlyWakeupEvent</span></a> </p>

  <a name="972289"> </a><p class="B1Bullet"> &#8226; <a href="Notifications.html#980133"><span style="font-family: monospace">sysNotifyLateWakeupEvent</span></a> </p>
<p class="Body">
  <a name="972290"> </a>These notifications are <b>not</b> guaranteed to be broadcast. For example, if the system goes to sleep because the user removes the batteries, sleep notifications are not sent. Thus, these notifications are unsuitable for applications where external hardware must be shut off to conserve power before the system goes to sleep. 
</p>
<p class="Body">
  <a name="972291"> </a>If you want to know when the system is going to sleep because you have a small amount of cleanup that should occur beforehand, then register for <span style="font-family: monospace">sysNotifySleepNotifyEvent</span>. 
</p>
<p class="Body">
  <a name="972292"> </a>It is recommended that you not perform any sort of prolonged activity, such as displaying an alert panel that requests confirmation, in response to a sleep notification. If you do, the alert might be displayed long enough to trigger another auto-off event, which could be detrimental to other handlers of the sleep notify event. 
</p>
<p class="Body">
  <a name="972293"> </a>In a few instances, you might need to prevent the system from going to sleep. For example, your code might be in the middle of performing some lengthy computation or in the middle of attempting a network connection. If so, register for the <span style="font-family: monospace">sysNotifySleepRequestEvent</span> instead. This notification informs all clients that the system might go to sleep. If necessary, your handler can delay the sleep request by doing the following:
</p>
<pre  class="Preformatted">
((SleepEventParamType *)
  (notify-&gt;notifyDetailsP))-&gt;deferSleep++;<a name="972294"> </a>
</pre>
<p class="Body">
  <a name="972295"> </a>The system checks the <span style="font-family: monospace">deferSleep</span> value when each notification handler returns. If it is nonzero, it cancels the sleep event. 
</p>
<p class="Body">
  <a name="972296"> </a>After you defer sleep, your code is free to finish what it was doing. When it is finished, you must allow the system to continue with the sleep event. To do so, create a <a href="EventRef.html#972716"><span style="font-family: monospace">keyDownEvent</span></a> with the <span style="font-family: monospace">resumeSleepChr</span> and the command key bit set (to signal that the character is virtual) and add it to the event queue. When the system receives this event, it will again broadcast the <span style="font-family: monospace">sysNotifySleepRequestEvent</span> to all clients. If <span style="font-family: monospace">deferSleep</span> is 0 after all clients return, then the system knows it is safe to go to sleep, and it broadcasts the <span style="font-family: monospace">sysNotifySleepNotifyEvent</span> to all of its clients. 
</p>
<p class="Body">
  <a name="972303"> </a>Notice that you may potentially receive the <span style="font-family: monospace">sysNotifySleepRequestEvent</span> many times before the system actually goes to sleep, but you receive the <span style="font-family: monospace">sysNotifySleepNotifyEvent</span> exactly once. 
</p>
<p class="Body">
  <a name="972304"> </a>During a wake-up event, the other two notifications listed above are broadcast. The <span style="font-family: monospace">sysNotifyEarlyWakeupEvent</span> is broadcast very early on in the wakeup process, generally before the screen has turned on. At this stage, it is not guaranteed that the system will fully wake up. It may simply handle an alarm or a battery charger event and go back to sleep. Most applications that need notification of a wakeup event will probably want to register for <span style="font-family: monospace">sysNotifyLateWakeupEvent</span> instead. At this stage, the screen has been turned on and the system is guaranteed to fully wake up. 
</p>
<p class="Body">
  <a name="972305"> </a>When the handheld receives the <span style="font-family: monospace">sysNotifyLateWakeupEvent</span> notification, it may be locked and waiting for the user to enter the password. If this is the case, you must wait for the user to unlock the handheld before you display a user interface. Therefore, if you intend to display a user interface when the handheld wakes up, you should make sure the handheld is not locked. If the handheld is locked, you should register for <a href="Notifications.html#979983"><span style="font-family: monospace">sysNotifyDeviceUnlocked</span></a> notification and display your user interface when it is received. See <a href="AppStartupAndStop.html#972314">Listing 2.7</a>. 
</p>
<p class="CCodeCaption">
  <a name="972314"> </a>Listing 2.7  Responding to Late Wakeup Notification
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
case sysNotifyLateWakeupEvent: <a name="972315"> </a>
   if ((Boolean) <a name="972316"> </a>
         PrefGetPreference(prefDeviceLocked)) {<a name="972317"> </a>
      SysNotifyRegister(myCardNo, myDbID, <a name="972318"> </a>
         sysNotifyDeviceUnlocked, NULL, <a name="972319"> </a>
         sysNotifyNormalPriority, NULL);<a name="972320"> </a>
   } else {<a name="972321"> </a>
      HandleDeviceWakeup();<a name="972322"> </a>
   }<a name="972323"> </a>
case sysNotifyDeviceUnlocked: <a name="972324"> </a>
   HandleDeviceWakeup();<a name="972325"> </a>
</pre><div class="CodeRule"><hr></div>

<h2 class="HaHeadA">
  <a name="972327"> </a>Helper Notifications 
<a href="#971704"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="972331"> </a>If the <a href="CompatibilityApdx.html#971763"><span style="font-family: monospace">4.0 New Feature Set</span></a> is present, the helper notification, <a href="Notifications.html#980093"><span style="font-family: monospace">sysNotifyHelperEvent</span></a>, is defined. This notification is a way for one application to request a service from another application. On Palm OS 4.0, the Dial application is the only application that performs a service through <span style="font-family: monospace">sysNotifyHelperEvent</span>. Specifically, the Dial application dials a phone in response to this notification. The Address Book uses the Dial application to dial the phone number that the user has selected. You can use the Dial application in a similar way by broadcasting the <span style="font-family: monospace">sysNotifyHelperEvent</span> from your application. You may also choose to write a provider of services. 
</p>
<p class="Body">
  <a name="972336"> </a>In this section, the application that responds to the <span style="font-family: monospace">sysNotifyHelperEvent</span> notification is called the <b>helper</b>, and the application that broadcasts the notification is called the <b>broadcaster</b>.
</p>
<p class="Body">
  <a name="972340"> </a>A helper registers for the <a href="Notifications.html#980093"><span style="font-family: monospace">sysNotifyHelperEvent</span></a> notification. In the notification handler, the helper responds to action requests pertaining to the <b>service</b> that it provides. 
</p>
<p class="Body">
  <a name="972341"> </a><b>Actions</b> are requests to provide information about the service or to perform the service. The details structure for <a href="Notifications.html#980093"><span style="font-family: monospace">sysNotifyHelperEvent</span></a> (a <a href="Helper.html#1127225"><span style="font-family: monospace">HelperNotifyEventType</span></a> structure) defines three possible actions: 
</p>

  <a name="972351"> </a><p class="B1Bullet"> &#8226; <span style="font-family: monospace">kHelperNotifyActionCodeEnumerate</span> is a request for the helper to list the services that it can perform. </p>

  <a name="972353"> </a><p class="B1Bullet"> &#8226; <span style="font-family: monospace">kHelperNotifyActionCodeValidate</span> is a request for the helper to make sure that it can perform the service. </p>

  <a name="972355"> </a><p class="B1Bullet"> &#8226; <span style="font-family: monospace">kHelperNotifyActionCodeExecute</span> is a request to actually perform the service. </p>
<p class="Body">
  <a name="972357"> </a>The possible <b>services</b> are defined in <span style="font-family: monospace">HelperServiceClass.h</span> and described in the chapter <a href="Helper.html#1127142">"Helper API"</a> of the <i>Palm OS Programmer's API Reference</i>. These services are to dial a number, email a message, send an SMS message, or send a fax. If you want to define your own service, you must register a unique creator ID for that service. Alternatively, you can use the creator ID of your application. 
</p>
<p class="Body">
  <a name="972364"> </a>This section discusses the helper APIs, which include the <span style="font-family: monospace">sysNotifyHelperEvent</span> notification and the data structures that it passes as the <span style="font-family: monospace">notifyDetailsP</span> portion of the <a href="Notifications.html#979746"><span style="font-family: monospace">SysNotifyParamType</span></a> structure. It covers: 
</p>

  <a name="972371"> </a><p class="B1Bullet"> &#8226; <a href="AppStartupAndStop.html#972381">When to Use the Helper API</a></p>

  <a name="972375"> </a><p class="B1Bullet"> &#8226; <a href="AppStartupAndStop.html#972402">Requesting a Helper Service</a></p>

  <a name="972379"> </a><p class="B1Bullet"> &#8226; <a href="AppStartupAndStop.html#972479">Implementing a Helper</a></p>

<h2 class="HBHeadB">
  <a name="972381"> </a>When to Use the Helper API
<a href="#971704"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="972385"> </a>If the <a href="CompatibilityApdx.html#971763">4.0 New Feature Set</a> is present, there are several means by which one application can communicate with another application on the same handheld. Specifically, an application can send a launch code to another application (see <a href="AppStartupAndStop.html#972010">"Launching Applications Programmatically"</a> in this chapter), can use the Exchange Manager and Local Exchange Library to send data to another application (see the <a href="ExchangeManagerConcept.html#969979">"Object Exchange"</a> chapter), or can use the helper API to request that a service be performed. It can be difficult to determine which is the best method to use for your particular situation. 
</p>
<p class="Body">
  <a name="972392"> </a>The helper API is best used in these circumstances: 
</p>

  <a name="972396"> </a><p class="B1Bullet"> &#8226; The <a href="CompatibilityApdx.html#971763">4.0 New Feature Set</a> is present. </p>

  <a name="972397"> </a><p class="B1Bullet"> &#8226; You do not know anything about the receiving application. </p>
<p class="Indented1"> <a name="972398"> </a>The helper API provides a means of communication where the sending and receiving application do not need to know anything about each other. This contrasts with the launch code mechanism, in which the sending application must know the card number and local ID of the receiving database as well as which launch code to send. </p>

  <a name="972399"> </a><p class="B1Bullet"> &#8226; You want to communicate with any type of program. </p>
<p class="Indented1"> <a name="972400"> </a>Because the helper API uses a notification, the helper can be a shared library or another separately loaded code resource. Launch codes can only be received by applications. Because the Exchange Manager works through launch codes, it also only works with applications. </p>

<h2 class="HBHeadB">
  <a name="972402"> </a>Requesting a Helper Service
<a href="#971704"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="972406"> </a><a href="AppStartupAndStop.html#972422">Listing 2.8</a> shows how an application should request the dial service. In general, you should do the following to request a service: 
</p>

  <a name="972410"> </a><p class="B1Bullet"> &#8226; Broadcast a <a href="Notifications.html#980093"><span style="font-family: monospace">sysNotifyHelperEvent</span></a> with a <span style="font-family: monospace">kHelperNotifyActionCodeValidate</span> action each time you want to advertise that the service is available. </p>
<p class="Indented1"> <a name="972411"> </a>For example, when the Address Book initializes the List view form, it checks to see if the dial service is available by broadcasting the notification with the action code <span style="font-family: monospace">kHelperNotifyActionCodeValidate</span>. The Dial application makes sure the Telephony Library is open. If so, it sets <span style="font-family: monospace">handled</span> to <span style="font-family: monospace">true</span> in the <a href="Notifications.html#979746"><span style="font-family: monospace">SysNotifyParamType</span></a> structure. If not, it sets <span style="font-family: monospace">handled</span> to <span style="font-family: monospace">false</span>. If <span style="font-family: monospace">handled</span> is <span style="font-family: monospace">false</span> after the notification is broadcast, the Address Book does not display the Dial menu item. </p>

  <a name="972416"> </a><p class="B1Bullet"> &#8226; Broadcast a <span style="font-family: monospace">sysNotifyHelperEvent</span> with a <span style="font-family: monospace">kHelperNotifyActionCodeExecute</span> action when you want the service performed. See <a href="AppStartupAndStop.html#972422">Listing 2.8</a>.</p>

  <a name="972420"> </a><p class="B1Bullet"> &#8226; If you want to obtain a list of all possible services, broadcast a <span style="font-family: monospace">sysNotifyHelperEvent</span> with a <span style="font-family: monospace">kHelperNotifyActionCodeEnumerate</span> action. You might do so when your application is launched, upon system reset, or any time the user performs a task where you might want to provide a service. </p>
<p class="CCodeCaption">
  <a name="972422"> </a>Listing 2.8  Requesting a helper service
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
Boolean PrvDialListDialSelected(FormType* frmP) {<a name="972423"> </a>
   SysNotifyParamType param;<a name="972424"> </a>
   HelperNotifyEventType details;<a name="972425"> </a>
   HelperNotifyExecuteType execute;<a name="972426"> </a>
 <a name="972427"> </a>
   param.notifyType = sysNotifyHelperEvent;<a name="972428"> </a>
   param.broadcaster = sysFileCAddress;<a name="972429"> </a>
   param.notifyDetailsP = &amp;details;<a name="972430"> </a>
   param.handled = false;<a name="972431"> </a>
 <a name="972432"> </a>
   details.version = kHelperNotifyCurrentVersion;<a name="972433"> </a>
   details.actionCode = kHelperNotifyActionCodeExecute;<a name="972434"> </a>
   details.data.executeP = &amp;execute;<a name="972435"> </a>
 <a name="972436"> </a>
   execute.serviceClassID = kHelperServiceClassIDVoiceDial;<a name="972437"> </a>
   execute.helperAppID = 0;<a name="972438"> </a>
   execute.dataP = FldGetTextPtr(ToolsGetFrmObjectPtr(frmP, <a name="972439"> </a>
      DialListNumberField));<a name="972440"> </a>
   execute.displayedName = gDisplayName;<a name="972441"> </a>
   execute.detailsP = 0;<a name="972442"> </a>
   execute.err = errNone;<a name="972443"> </a>
 <a name="972444"> </a>
   SysNotifyBroadcast(&amp;param);<a name="972445"> </a>
 <a name="972446"> </a>
   // Check error code<a name="972447"> </a>
   if (!param.handled)<a name="972448"> </a>
   // Not handled so exit the list - Unexpected error<a name="972449"> </a>
      return true;<a name="972450"> </a>
   else<a name="972451"> </a>
      return (execute.err == errNone);<a name="972452"> </a>
}<a name="972453"> </a>
</pre><div class="CodeRule"><hr></div>
<p class="Body">
  <a name="972454"> </a>When you broadcast the <span style="font-family: monospace">sysNotifyHelperEvent</span>, it's important to note the following: 
</p>

  <a name="972459"> </a><p class="B1Bullet"> &#8226; Always use <a href="NotifyMgr.html#1139980"><span style="font-family: monospace">SysNotifyBroadcast</span></a>, which broadcasts the notification synchronously. </p>

  <a name="972460"> </a><p class="B1Bullet"> &#8226; The notification's <span style="font-family: monospace">notifyDetailsP</span> parameter points to a <a href="Helper.html#1127225"><span style="font-family: monospace">HelperNotifyEventType</span></a>. This structure allows the broadcaster to communicate with the helper. </p>

  <a name="972465"> </a><p class="B1Bullet"> &#8226; The helper may allocate memory and add it to the <span style="font-family: monospace">HelperNotifyEventType</span> structure. In particular, if the action code is <span style="font-family: monospace">kHelperNotifyActionCodeEnumerate</span>, the helper allocates at least one structure of type <a href="Helper.html#1127170"><span style="font-family: monospace">HelperNotifyEnumerateListType</span></a> and adds it to the <span style="font-family: monospace">data</span> field in the <span style="font-family: monospace">HelperNotifyEventType</span> structure. The broadcaster must free this memory, even though the helper allocated it. </p>

  <a name="972469"> </a><p class="B1Bullet"> &#8226; The broadcaster uses the <span style="font-family: monospace">helperAppID</span> field to communicate directly with a particular provider of the requested service. For example, suppose two applications provide a dial service. The broadcaster might discover these two applications through the enumerate action and then allow the user to specify which application should dial the phone number. When broadcasting the enumerate action, no helper ID is specified, so all helpers respond. After the user has set the preferred helper, the broadcaster sets the <span style="font-family: monospace">helperAppID</span> field for the validate and execute actions to that helper's creator ID. A helper must check the <span style="font-family: monospace">helperAppID</span> field and only respond to the notification if its creator ID matches the value in that field or if that field is 0. </p>

  <a name="972470"> </a><p class="B1Bullet"> &#8226; The <span style="font-family: monospace">dataP</span> field contains the data required to perform the service. For the dial service, <span style="font-family: monospace">dataP</span> contains the phone number to dial. If any extra information is required or desired, then it is provided in the <span style="font-family: monospace">detailsP</span> field. If you're requesting the email or SMS service, you use <span style="font-family: monospace">detailsP</span> to provide the message to be sent. See the chapter <a href="Helper.html#1127142">"Helper API"</a> of the <i>Palm OS Programmer's API Reference</i> for more information. </p>

  <a name="972477"> </a><p class="B1Bullet"> &#8226; The <span style="font-family: monospace">handled</span> field of <span style="font-family: monospace">SysNotifyParamType</span> and the <span style="font-family: monospace">err</span> field of the <span style="font-family: monospace">HelperNotifyEventType</span> structure are used to return the result. Always set <span style="font-family: monospace">handled</span> to <span style="font-family: monospace">false</span> and <span style="font-family: monospace">err</span> to <span style="font-family: monospace">errNone</span> before broadcasting and check their values after the broadcast is complete. The helper uses <span style="font-family: monospace">handled</span> to indicate if it attempted to handle the service. If <span style="font-family: monospace">handled</span> is <span style="font-family: monospace">true</span>, it uses <span style="font-family: monospace">err</span> to indicate the success or failure of performing that service. </p>

<h2 class="HBHeadB">
  <a name="972479"> </a>Implementing a Helper
<a href="#971704"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="972480"> </a>To implement a helper, do the following: 
</p>

  <a name="972485"> </a><p class="B1Bullet"> &#8226; Register to receive the <a href="Notifications.html#980093"><span style="font-family: monospace">sysNotifyHelperEvent</span></a>. It is best to register for this notification in response to the <a href="AppLaunchCodes.html#970999"><span style="font-family: monospace">sysAppLaunchCmdSyncNotify</span></a> and <a href="AppLaunchCodes.html#971020"><span style="font-family: monospace">sysAppLaunchCmdSystemReset</span></a> launch codes. This registers your helper when it is first installed and re-registers it upon each system reset. </p>

  <a name="972494"> </a><p class="B1Bullet"> &#8226; In the notification handler, handle the three possible actions: enumerate, execute, and validate. Note that even though the enumerate action is optional and not currently used by Address Book, a helper must respond to this action in its handler because another third party application might send the enumerate action. </p>
<p class="Body">
  <a name="972501"> </a><a href="AppStartupAndStop.html#972512">Listing 2.9</a> and <a href="AppStartupAndStop.html#972558">Listing 2.10</a> show how the Dial application responds to the enumerate and validate actions. Note that the enumerate action requires the helper to allocate memory and add that memory to the <a href="Helper.html#1127225"><span style="font-family: monospace">HelperNotifyEventType</span></a> structure pointed to by <span style="font-family: monospace">notifyDetailsP</span> in the <a href="Notifications.html#979746"><span style="font-family: monospace">SysNotifyParamType</span></a> parameter block. In this case, the <span style="font-family: monospace">notifyDetailsP-&gt;dataP</span> field is a linked list of <a href="Helper.html#1127170"><span style="font-family: monospace">HelperNotifyEnumerateListType</span></a> structures. Each helper must allocate one of these structure per service and add it to the end of the list. The broadcaster is responsible for freeing all of these structures after the notification broadcast is complete. 
</p>
<p class="CCodeCaption">
  <a name="972512"> </a>Listing 2.9  Enumerating services provided 
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
Boolean PrvAppEnumerate (HelperNotifyEventType *helperNotifyEventP)<a name="972513"> </a>
{<a name="972514"> </a>
   HelperNotifyEnumerateListType* newNodeP;<a name="972515"> </a>
   MemHandle handle;<a name="972516"> </a>
   MemPtr stringP;<a name="972517"> </a>
   <a name="972518"> </a>
   newNodeP = MemPtrNew 
      (sizeof(HelperNotifyEnumerateListType));<a name="972519"> </a>
 <a name="972520"> </a>
   // Get name to display in user interface. <a name="972521"> </a>
   handle = DmGetResource(strRsc, HelperAppNameString);<a name="972522"> </a>
   stringP = MemHandleLock(handle);<a name="972523"> </a>
   StrCopy(newNodeP-&gt;helperAppName, stringP);<a name="972524"> </a>
   MemHandleUnlock(handle);<a name="972525"> </a>
   DmReleaseResource(handle);<a name="972526"> </a>
 <a name="972527"> </a>
   // Get name of service to display in UI. <a name="972528"> </a>
   handle = DmGetResource(strRsc, HelperActionNameString);<a name="972529"> </a>
   stringP = MemHandleLock(handle);<a name="972530"> </a>
   StrCopy(newNodeP-&gt;actionName, stringP);<a name="972531"> </a>
   MemHandleUnlock(handle);<a name="972532"> </a>
   DmReleaseResource(handle);<a name="972533"> </a>
 <a name="972534"> </a>
   newNodeP-&gt;serviceClassID = kHelperServiceClassIDVoiceDial;<a name="972535"> </a>
   newNodeP-&gt;helperAppID = kDialCreator;<a name="972536"> </a>
   newNodeP-&gt;nextP = 0;<a name="972537"> </a>
 <a name="972538"> </a>
   // Add the new node.<a name="972539"> </a>
   if (helperNotifyEventP-&gt;data.enumerateP == 0) {<a name="972540"> </a>
      helperNotifyEventP-&gt;data.enumerateP = newNodeP;<a name="972541"> </a>
   else {<a name="972542"> </a>
      HelperNotifyEnumerateListType* nodeP;<a name="972543"> </a>
      nodeP = helperNotifyEventP-&gt;data.enumerateP;<a name="972544"> </a>
      //Look for the end of the list. <a name="972545"> </a>
      while ( nodeP-&gt;nextP != 0 )<a name="972546"> </a>
         nodeP = nodeP-&gt;nextP;<a name="972547"> </a>
      nodeP-&gt;nextP = newNodeP;<a name="972548"> </a>
   }<a name="972549"> </a>
 <a name="972550"> </a>
   return true;<a name="972551"> </a>
}<a name="972552"> </a>
</pre><div class="CodeRule"><hr></div>
<p class="Body">
  <a name="972556"> </a><a href="AppStartupAndStop.html#972558">Listing 2.10</a> show how the Dial application responds to the validate action. 
</p>
<p class="CCodeCaption">
  <a name="972558"> </a>Listing 2.10  Responding to validate action
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
Boolean PrvAppValidate (SysNotifyParamType *sysNotifyParamP)<a name="972559"> </a>
{<a name="972560"> </a>
   HelperNotifyEventType* helperNotifyEvent;<a name="972561"> </a>
   <a name="972562"> </a>
   helperNotifyEvent = sysNotifyParamP-&gt;notifyDetailsP;<a name="972563"> </a>
   // Check version<a name="972564"> </a>
   if (helperNotifyEvent-&gt;version &lt; 1)<a name="972565"> </a>
      return false;<a name="972566"> </a>
      <a name="972567"> </a>
   // Check service<a name="972568"> </a>
   if (helperNotifyEvent-&gt; data.validateP-&gt;serviceClassID <a name="972569"> </a>
         != kHelperServiceClassIDVoiceDial)<a name="972570"> </a>
      return false;<a name="972571"> </a>
      <a name="972572"> </a>
   // check appId (either null or me)<a name="972573"> </a>
   if ((helperNotifyEvent-&gt;data.validateP-&gt;helperAppID != 0) <a name="972574"> </a>
      &amp;&amp; (helperNotifyEvent-&gt;data.validateP-&gt;helperAppID != <a name="972575"> </a>
         kDialCreator))<a name="972576"> </a>
      return false;<a name="972577"> </a>
   <a name="972578"> </a>
   // Check Telephony library presence<a name="972579"> </a>
   if (!PrvAppCheckTelephony())<a name="972580"> </a>
      return false;<a name="972581"> </a>
 <a name="972582"> </a>
   sysNotifyParamP-&gt;handled = true;<a name="972583"> </a>
   return true;<a name="972584"> </a>
}<a name="972585"> </a>
</pre><div class="CodeRule"><hr></div>
<p class="Body">
  <a name="972586"> </a>When writing a helper, it is also important to note the following: 
</p>

  <a name="972587"> </a><p class="B1Bullet"> &#8226; Always check the <span style="font-family: monospace">helperAppID</span> field and only respond if it is 0 or if it matches your creator ID. For the validate and execute actions, a broadcaster may use <span style="font-family: monospace">helperAppID</span> to only communicate with the desired helper. </p>

  <a name="972588"> </a><p class="B1Bullet"> &#8226; If you handle the action, set <span style="font-family: monospace">handled</span> to <span style="font-family: monospace">true</span>. If the handling of the service was unsuccessful, set the <span style="font-family: monospace">err</span> field in <span style="font-family: monospace">notifyDetailsP</span>. </p>

  <a name="972589"> </a><p class="B1Bullet"> &#8226; Always check the <span style="font-family: monospace">handled</span> field before performing the service. If any helper can perform the service, you must make sure that the service has not already been performed before you perform it. If <span style="font-family: monospace">handled</span> is <span style="font-family: monospace">true</span>, the service has already been performed. </p>

  <a name="982557"> </a><p class="B1Bullet"> &#8226; Remember that, as with all notifications, your notification handler does not have access to global variables. If there is data you need to access, pass it in the <span style="font-family: monospace">userDataP</span> parameter to <a href="NotifyMgr.html#1140099"><span style="font-family: monospace">SysNotifyRegister</span></a>. If you want to have the notification handler return before the service is fully complete, make a copy of any data in the parameter block that you will need to complete the service. </p>

<h2 class="HaHeadA">
  <a name="982563"> </a>Launch Code Summary 
<a href="#971704"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="982569"> </a><a href="AppStartupAndStop.html#972610">Table 2.1</a> lists all Palm OS standard launch codes. These launch codes are declared in the header <span style="font-family: monospace">SystemMgr.h</span>. All the parameters for a launch code are passed in a single parameter block, and the results are returned in the same parameter block. 
</p>

<h5 class="TgTable">
  <a name="972837"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption><a name="972610"> </a><div class="TableTitle">Table 2.1  Palm OS Launch Codes </div></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="972614"> </a><div class="CellHeading">Code</div></th>
    <th><a name="972616"> </a><div class="CellHeading">Request</div></th>
  </tr>
  <tr valign="top">
    <td><a name="972622"> </a><div class="CellBody"><a href="ScriptPlugin.html#1278334"><span style="font-family: monospace">scptLaunchCmdExecuteCmd</span></a></div></td>
    <td><a name="972624"> </a><div class="CellBody">Execute the specified Network login script plugin command.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="972630"> </a><div class="CellBody"><a href="ScriptPlugin.html#1278324"><span style="font-family: monospace">scptLaunchCmdListCmds</span></a></div></td>
    <td><a name="972632"> </a><div class="CellBody">Provide information about the commands that your Network script plugin executes.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="972638"> </a><div class="CellBody"><a href="AppLaunchCodes.html#970220"><span style="font-family: monospace">sysAppLaunchCmdAddRecord</span></a> </div></td>
    <td><a name="972640"> </a><div class="CellBody">Add a record to a database.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="972646"> </a><div class="CellBody"><a href="AppLaunchCodes.html#970299"><span style="font-family: monospace">sysAppLaunchCmdAlarmTriggered</span></a> </div></td>
    <td><a name="972648"> </a><div class="CellBody">Schedule next alarm or perform quick actions such as sounding alarm tones.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="972654"> </a><div class="CellBody"><a href="AppLaunchCodes.html#970327"><span style="font-family: monospace">sysAppLaunchCmdAttention</span></a> </div></td>
    <td><a name="972656"> </a><div class="CellBody">Perform the action requested by the attention manager.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="972662"> </a><div class="CellBody"><a href="AppLaunchCodes.html#970473"><span style="font-family: monospace">sysAppLaunchCmdCardLaunch</span></a></div></td>
    <td><a name="972664"> </a><div class="CellBody">Launch the application. This launch code signifies that the application is being launched from an expansion card.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="972670"> </a><div class="CellBody"><a href="AppLaunchCodes.html#970504"><span style="font-family: monospace">sysAppLaunchCmdCountryChange</span></a> </div></td>
    <td><a name="972672"> </a><div class="CellBody">Respond to country change.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="972678"> </a><div class="CellBody"><a href="AppLaunchCodes.html#970515"><span style="font-family: monospace">sysAppLaunchCmdDisplayAlarm</span></a> </div></td>
    <td><a name="972680"> </a><div class="CellBody">Display specified alarm dialog or perform time-consuming alarm-related actions.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="972686"> </a><div class="CellBody"><a href="AppLaunchCodes.html#970542"><span style="font-family: monospace">sysAppLaunchCmdExgAskUser</span></a> </div></td>
    <td><a name="972688"> </a><div class="CellBody">Let application override display of dialog asking user if they want to receive incoming data via the Exchange Manager.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="972694"> </a><div class="CellBody"><a href="AppLaunchCodes.html#970581"><span style="font-family: monospace">sysAppLaunchCmdExgGetData</span></a> </div></td>
    <td><a name="972696"> </a><div class="CellBody">Notify application that it should send data using the Exchange Manager.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="972702"> </a><div class="CellBody"><a href="AppLaunchCodes.html#970614"><span style="font-family: monospace">sysAppLaunchCmdExgPreview</span></a> </div></td>
    <td><a name="972704"> </a><div class="CellBody">Notify application that it should display a preview using the Exchange Manager. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="972710"> </a><div class="CellBody"><a href="AppLaunchCodes.html#970682"><span style="font-family: monospace">sysAppLaunchCmdExgReceiveData</span></a> </div></td>
    <td><a name="972712"> </a><div class="CellBody">Notify application that it should receive incoming data using the Exchange Manager.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="972718"> </a><div class="CellBody"><a href="AppLaunchCodes.html#970719"><span style="font-family: monospace">sysAppLaunchCmdFind</span></a> </div></td>
    <td><a name="972720"> </a><div class="CellBody">Find a text string.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="972726"> </a><div class="CellBody"><a href="AppLaunchCodes.html#970812"><span style="font-family: monospace">sysAppLaunchCmdGoto</span></a> </div></td>
    <td><a name="972728"> </a><div class="CellBody">Go to a particular record, display it, and optionally select the specified text.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="972734"> </a><div class="CellBody"><a href="AppLaunchCodes.html#970856"><span style="font-family: monospace">sysAppLaunchCmdGoToURL</span></a> </div></td>
    <td><a name="972736"> </a><div class="CellBody">Launch an application and open a URL.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="981921"> </a><div class="CellBody"><a href="AppLaunchCodes.html#970882"><span style="font-family: monospace">sysAppLaunchCmdHandleSyncCallApp</span></a></div></td>
    <td><a name="981923"> </a><div class="CellBody">Perform some application-specific operation at the behest of the application's conduit.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="972742"> </a><div class="CellBody"><a href="AppLaunchCodes.html#973642"><span style="font-family: monospace">sysAppLaunchCmdInitDatabase</span></a> </div></td>
    <td><a name="972744"> </a><div class="CellBody">Initialize database.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="972750"> </a><div class="CellBody"><a href="AppLaunchCodes.html#970904"><span style="font-family: monospace">sysAppLaunchCmdLookup</span></a> </div></td>
    <td><a name="972752"> </a><div class="CellBody">Look up data. In contrast to <span style="font-family: monospace">sysAppLaunchCmdFind</span>, a level of indirection is implied. For example, look up a phone number associated with a name.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="972754"> </a><div class="CellBody"><span style="font-family: monospace">sysAppLaunchCmdNormalLaunch</span> </div></td>
    <td><a name="972756"> </a><div class="CellBody">Launch normally. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="972761"> </a><div class="CellBody"><a href="AppLaunchCodes.html#970919"><span style="font-family: monospace">sysAppLaunchCmdNotify</span></a> </div></td>
    <td><a name="972763"> </a><div class="CellBody">Broadcast a notification. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="972769"> </a><div class="CellBody"><a href="AppLaunchCodes.html#970936"><span style="font-family: monospace">sysAppLaunchCmdOpenDB</span></a></div></td>
    <td><a name="972771"> </a><div class="CellBody">Launch application and open a database.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="972777"> </a><div class="CellBody"><a href="AppLaunchCodes.html#970953"><span style="font-family: monospace">sysAppLaunchCmdPanelCalledFromApp</span></a></div></td>
    <td><a name="972779"> </a><div class="CellBody">Tell preferences panel that it was invoked from an application, not the Preferences application.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="972785"> </a><div class="CellBody"><a href="AppLaunchCodes.html#970973"><span style="font-family: monospace">sysAppLaunchCmdReturnFromPanel</span></a></div></td>
    <td><a name="972787"> </a><div class="CellBody">Tell an application that it's restarting after preferences panel had been called. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="972793"> </a><div class="CellBody"><a href="AppLaunchCodes.html#970985"><span style="font-family: monospace">sysAppLaunchCmdSaveData</span></a></div></td>
    <td><a name="972795"> </a><div class="CellBody">Save data. Often sent before find operations. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="972801"> </a><div class="CellBody"><a href="AppLaunchCodes.html#970999"><span style="font-family: monospace">sysAppLaunchCmdSyncNotify</span></a></div></td>
    <td><a name="972803"> </a><div class="CellBody">Notify applications that a HotSync has been completed.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="972809"> </a><div class="CellBody"><a href="AppLaunchCodes.html#971011"><span style="font-family: monospace">sysAppLaunchCmdSystemLock</span></a></div></td>
    <td><a name="972811"> </a><div class="CellBody">Sent to the Security application to request that the system be locked down. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="972817"> </a><div class="CellBody"><a href="AppLaunchCodes.html#971020"><span style="font-family: monospace">sysAppLaunchCmdSystemReset</span></a></div></td>
    <td><a name="972819"> </a><div class="CellBody">Respond to system reset. No UI is allowed during this launch code. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="972825"> </a><div class="CellBody"><a href="AppLaunchCodes.html#971045"><span style="font-family: monospace">sysAppLaunchCmdTimeChange</span></a></div></td>
    <td><a name="972828"> </a><div class="CellBody">Respond to system time change.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="972834"> </a><div class="CellBody"><a href="AppLaunchCodes.html#971055"><span style="font-family: monospace">sysAppLaunchCmdURLParams</span></a></div></td>
    <td><a name="972836"> </a><div class="CellBody">Launch an application with parameters from the Web Clipping Application Viewer. </div></td>
  </tr>
</table>




</h5>
<h2 class="HaHeadA">
  <a name="972839"> </a>Notification Summary 
<a href="#971704"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="972845"> </a><a href="AppStartupAndStop.html#972856">Table 2.2</a> lists all Palm OS standard notifications. These notifications are declared in the header <span style="font-family: monospace">NotifyMgr.h</span>. All the parameters for a notification are passed in a <a href="Notifications.html#979746"><span style="font-family: monospace">SysNotifyParamType</span></a> structure and the results are returned in that same structure. 
</p>

<h5 class="TgTable">
  <a name="973071"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption><a name="972856"> </a><div class="TableTitle">Table 2.2  Notification Constants </div></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="972860"> </a><div class="CellHeading">Constant</div></th>
    <th><a name="972862"> </a><div class="CellHeading">Description</div></th>
  </tr>
  <tr valign="top">
    <td><a name="972867"> </a><div class="CellBody"><a href="Notifications.html#979801"><span style="font-family: monospace">cncNotifyProfileEvent</span></a></div></td>
    <td><a name="972869"> </a><div class="CellBody">The connection profile used by the Connection Panel has changed. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="972874"> </a><div class="CellBody"><a href="Notifications.html#979842"><span style="font-family: monospace">sysExternalConnectorAttachEvent</span></a></div></td>
    <td><a name="972876"> </a><div class="CellBody">A device has been attached to an external connector. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="972881"> </a><div class="CellBody"><a href="Notifications.html#979853"><span style="font-family: monospace">sysExternalConnectorDetachEvent</span></a></div></td>
    <td><a name="972883"> </a><div class="CellBody">A device has been detached from an external connector. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="972888"> </a><div class="CellBody"><a href="Notifications.html#979865"><span style="font-family: monospace">sysNotifyAntennaRaisedEvent</span></a> </div></td>
    <td><a name="972890"> </a><div class="CellBody">The antenna has been raised on a Palm VII series handheld. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="972895"> </a><div class="CellBody"><a href="Notifications.html#979884"><span style="font-family: monospace">sysNotifyCardInsertedEvent</span></a></div></td>
    <td><a name="972897"> </a><div class="CellBody">An expansion card has been inserted into the expansion slot. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="972902"> </a><div class="CellBody"><a href="Notifications.html#979904"><span style="font-family: monospace">sysNotifyCardRemovedEvent</span></a></div></td>
    <td><a name="972904"> </a><div class="CellBody">An expansion card has been removed from the expansion slot. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="981936"> </a><div class="CellBody"><a href="Notifications.html#986388"><span style="font-family: monospace">sysNotifyDBCreatedEvent</span></a></div></td>
    <td><a name="981938"> </a><div class="CellBody">A database has been created.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="981940"> </a><div class="CellBody"><a href="Notifications.html#986333"><span style="font-family: monospace">sysNotifyDBChangedEvent</span></a></div></td>
    <td><a name="981942"> </a><div class="CellBody">Database info has been set on a database, such as with <a href="DataAndResourceManager.html#1097604"><span style="font-family: monospace">DmSetDatabaseInfo</span></a>.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="972909"> </a><div class="CellBody"><a href="Notifications.html#979924"><span style="font-family: monospace">sysNotifyDBDeletedEvent</span></a></div></td>
    <td><a name="972911"> </a><div class="CellBody">A database has been deleted. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="981932"> </a><div class="CellBody"><a href="Notifications.html#986538"><span style="font-family: monospace">sysNotifyDBDirtyEvent</span></a></div></td>
    <td><a name="981934"> </a><div class="CellBody">An overlay has been opened, a database has been opened for write, or another event has occurred which has made the database info "dirty."</div></td>
  </tr>
  <tr valign="top">
    <td><a name="972916"> </a><div class="CellBody"><a href="Notifications.html#979954"><span style="font-family: monospace">sysNotifyDeleteProtectedEvent</span></a></div></td>
    <td><a name="972918"> </a><div class="CellBody">The Launcher has attempted to delete a protected database. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="972923"> </a><div class="CellBody"><a href="Notifications.html#979983"><span style="font-family: monospace">sysNotifyDeviceUnlocked</span></a></div></td>
    <td><a name="972925"> </a><div class="CellBody">The user has unlocked the handheld. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="972930"> </a><div class="CellBody"><a href="Notifications.html#980001"><span style="font-family: monospace">sysNotifyDisplayChangeEvent</span></a></div></td>
    <td><a name="972932"> </a><div class="CellBody">The color table or bit depth has changed. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="972937"> </a><div class="CellBody"><a href="Notifications.html#980030"><span style="font-family: monospace">sysNotifyEarlyWakeupEvent</span></a> </div></td>
    <td><a name="972939"> </a><div class="CellBody">The system is starting to wake up.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="972951"> </a><div class="CellBody"><a href="Notifications.html#980059"><span style="font-family: monospace">sysNotifyForgotPasswordEvent</span></a> </div></td>
    <td><a name="972953"> </a><div class="CellBody">The user has tapped the Lost Password button in the Security application. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="972958"> </a><div class="CellBody"><a href="Notifications.html#980070"><span style="font-family: monospace">sysNotifyGotUsersAttention</span></a></div></td>
    <td><a name="972960"> </a><div class="CellBody">The Attention Manager has informed the user of an event. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="972965"> </a><div class="CellBody"><a href="Notifications.html#980093"><span style="font-family: monospace">sysNotifyHelperEvent</span></a></div></td>
    <td><a name="972967"> </a><div class="CellBody">An application has requested that a particular service be performed. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="972969"> </a><div class="CellBody"><span style="font-family: monospace">sysNotifyIrDASniffEvent</span> </div></td>
    <td><a name="972971"> </a><div class="CellBody">Not used. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="972976"> </a><div class="CellBody"><a href="Notifications.html#980133"><span style="font-family: monospace">sysNotifyLateWakeupEvent</span></a> </div></td>
    <td><a name="972978"> </a><div class="CellBody">The system has finished waking up.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="972983"> </a><div class="CellBody"><a href="Notifications.html#980166"><span style="font-family: monospace">sysNotifyLocaleChangedEvent</span></a></div></td>
    <td><a name="972985"> </a><div class="CellBody">The system locale has changed.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="972990"> </a><div class="CellBody"><a href="Notifications.html#980196"><span style="font-family: monospace">sysNotifyMenuCmdBarOpenEvent</span></a> </div></td>
    <td><a name="972992"> </a><div class="CellBody">The system is about to display the menu command toolbar. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="972997"> </a><div class="CellBody"><a href="Notifications.html#980220"><span style="font-family: monospace">sysNotifyNetLibIFMediaEvent</span></a></div></td>
    <td><a name="972999"> </a><div class="CellBody">The system has been connected to or disconnected from the network. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="973001"> </a><div class="CellBody"><span style="font-family: monospace">sysNotifyPhoneEvent</span> </div></td>
    <td><a name="973003"> </a><div class="CellBody">Reserved for future use. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="973005"> </a><div class="CellBody"><span style="font-family: monospace">sysNotifyPOSEMountEvent</span> </div></td>
    <td><a name="973007"> </a><div class="CellBody">System use only. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="973012"> </a><div class="CellBody"><a href="Notifications.html#980273"><span style="font-family: monospace">sysNotifyResetFinishedEvent</span></a> </div></td>
    <td><a name="973014"> </a><div class="CellBody">The system has finished a reset. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="973019"> </a><div class="CellBody"><a href="Notifications.html#980289"><span style="font-family: monospace">sysNotifyRetryEnqueueKey</span></a></div></td>
    <td><a name="973021"> </a><div class="CellBody">The Attention Manager has failed to post a virtual character to the key queue. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="973026"> </a><div class="CellBody"><a href="Notifications.html#980302"><span style="font-family: monospace">sysNotifySleepNotifyEvent</span></a> </div></td>
    <td><a name="973028"> </a><div class="CellBody">The system is about to go to sleep. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="973033"> </a><div class="CellBody"><a href="Notifications.html#980324"><span style="font-family: monospace">sysNotifySleepRequestEvent</span></a> </div></td>
    <td><a name="973035"> </a><div class="CellBody">The system has decided to go to sleep. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="973040"> </a><div class="CellBody"><a href="Notifications.html#980368"><span style="font-family: monospace">sysNotifySyncFinishEvent</span></a> </div></td>
    <td><a name="973042"> </a><div class="CellBody">A HotSync operation has just completed. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="973047"> </a><div class="CellBody"><a href="Notifications.html#980379"><span style="font-family: monospace">sysNotifySyncStartEvent</span></a> </div></td>
    <td><a name="973049"> </a><div class="CellBody">A HotSync operation is about to begin. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="973054"> </a><div class="CellBody"><a href="Notifications.html#980391"><span style="font-family: monospace">sysNotifyTimeChangeEvent</span></a> </div></td>
    <td><a name="973056"> </a><div class="CellBody">The system time has just changed. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="973061"> </a><div class="CellBody"><a href="Notifications.html#980406"><span style="font-family: monospace">sysNotifyVolumeMountedEvent</span></a></div></td>
    <td><a name="973063"> </a><div class="CellBody">A file system has been mounted. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="973068"> </a><div class="CellBody"><a href="Notifications.html#980428"><span style="font-family: monospace">sysNotifyVolumeUnmountedEvent</span></a></div></td>
    <td><a name="973070"> </a><div class="CellBody">A file system has been unmounted. </div></td>
  </tr>
</table>




</h5>
<h2 class="HaHeadA">
  <a name="973073"> </a>Launch and Notification Function Summary 
<a href="#971704"><img src="images/top.gif" border="0"></a></h2>


<h5 class="TgTable">
  <a name="973119"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th colspan="2" rowspan="1"><a name="973076"> </a><div class="CellHeading">Launching Applications</div></th>
  </tr>
  <tr valign="top">
    <td><a name="973083"> </a><div class="CellBody"><a href="SystemManager.html#1165530">SysAppLaunch</a></div></td>
    <td><a name="973085"> </a><div class="CellBody"><a href="SystemManager.html#1166426">SysUIAppSwitch</a></div><a name="973095"> </a><div class="CellBody"><a href="SystemManager.html#1165708">SysBroadcastActionCode</a></div></td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><a name="973097"> </a><div class="CellHeading">Notification Manager Functions</div></td>
  </tr>
  <tr valign="top">
    <td><a name="973104"> </a><div class="CellBody"><a href="NotifyMgr.html#1140099">SysNotifyRegister</a> <br><a href="NotifyMgr.html#1139980">SysNotifyBroadcast</a></div></td>
    <td><a name="973112"> </a><div class="CellBody"><a href="NotifyMgr.html#1140173">SysNotifyUnregister</a> <br><a href="NotifyMgr.html#1140018">SysNotifyBroadcastDeferred</a> <br><a href="NotifyMgr.html#1140054">SysNotifyBroadcastFromInterrupt</a></div></td>
  </tr>
</table>



 
</h5>
&nbsp;<br>
				<!-- CONTENT_END -->

		</td>
		<td width="5">&nbsp;&nbsp;</td>
	</tr>
      </table>
    </td>
			</tr>
  <tr>
				<td>
					<table border="0" cellpadding="0" cellspacing="0" width="760">
        <!-- CONTENTCELL_END -->
        <tr valign="top"> 
          <td width="10">&nbsp;<!-- FOOTER_START --></td>
          <td width="72">&nbsp;</td>
          <td width="25" bgcolor="white" background="images/bkgrnd.gif">&nbsp;</td>
          <td width="600"> 
            <table border="0" cellpadding="0" cellspacing="0" width="600">
              <tr> 
                <td><img src="images/rule_10-1-5_ltblue.gif" width="600" height="16" border="0"></td>
              </tr>
              <tr> 
                <td> 
                  <p align="center" class="footer"> ©2002 PalmSource, Inc. and its affiliates.  All rights reserved. 
<a href="http://www.palmos.com/dev/training/">Training</a>&nbsp;|&nbsp;<a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a>&nbsp;|&nbsp;<a href="http://www.palmos.com/">Palm&nbsp;OS&nbsp;Platform</a>&nbsp;|&nbsp;<a href="Companion_Front.html" target="_blank">Legal Notices</a>&nbsp;<br>
												<!-- FOOTER_END --><br>
											</p>
                </td>
              </tr>
            </table>
          </td>
        </tr>
      </table>
				</td>
			</tr>
</table>
</BODY>
</HTML>