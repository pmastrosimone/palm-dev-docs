<HTML>

<HEAD>
<SMALLSCREENIGNORE> 
<LINK HREF="copy_of_palmos.css" REL="stylesheet" TYPE="text/css">
<LINK HREF="document.css" REL="StyleSheet" TYPE="text/css" media="screen">
<!-- SCRIPT_START -->
<!-- SCRIPT_END -->
</SMALLSCREENIGNORE>
<TITLE>Text Services Manager</TITLE>

<META NAME="PALMTEMPLATE" CONTENT="1006-002 Palm HTML 20020513">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks Publisher Professional Edition 6.0.7">
<META NAME="TEMPLATEBASE" CONTENT="Palm HTML 20010625">
<META NAME="LASTUPDATED" CONTENT="12/13/02 10:10:29">
<META HTTP-EQUIV="content-type" CONTENT="text/html;charset=ISO-8859-1">

</HEAD>

<BODY LEFTMARGIN="0" MARGINWIDTH="0" TOPMARGIN="0" MARGINHEIGHT="0">
<SMALLSCREENIGNORE> 
<table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr>
	<td><a name="1172646"></a>
      <table border="0" cellpadding="0" cellspacing="0" width="100%">
        <tr height="35"> 
          <td height="35" colspan="2" bgcolor="#6699CC">&nbsp;</td>
        </tr>
        <tr valign="top"> 
          <td width="160" align="left"><a href="http://www.palmos.com"><img src="images/bigorb.gif" width="160" height="110" border="0"></a></td>
          <td align="left" width="100%"> 
            </SMALLSCREENIGNORE>
            <!-- CONTENTCELL_START -->
            <img border="0" height="45" src="images/orb_bkgrnd_600.gif" width="600"><br>
            <!--PAGENAV_START-->
            <SPAN CLASS="subnav">&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/index.html">Home</a> 
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/">Developers</a> 
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/support/">Development Support</a>
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/support/docs/">Documentation</a></span><BR>
             <img src="images/pixel_ltblue.gif" width="600" height="1" border="0" vspace="2"><br>
             <h2 class="HeadDocPage">51  Text Services Manager</h2>
             <img src="images/pixel_ltblue.gif" width="600" height="1" border="0" vspace="2"><br>
             &nbsp;<span class="subnav"><a href="ReferenceTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="TextMgr.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="DateAndTimeManager.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ReferenceIX.html">Index</a></span>  
            <!--PAGENAV_END-->
          </td>
        </tr>
      </table>
    </td>
			</tr>
  <tr>
				<td> 
      <table width="100%" border="0" cellspacing="0" cellpadding="0">
        <tr>
							<td>&nbsp;&nbsp;&nbsp;</td>
						</tr>
        <tr>
		<td valign="top" width="10">&nbsp;&nbsp;&nbsp;</td>
		<td valign="top" width="175">
			<p class="SideTitle">Title - <br><a href="Reference_Front.html">Palm OS® Programmer's API Reference</a></p>
			<p class="SideTOC1-PartTab">Palm OS® 5 SDK </p>
			<p class="SideTOC1-PartTab">Part II: System Management</a> </p>
			<p class="SideTOC1"><a href="TextServicesManager.html">51  Text Services Manager</a></p>
			
<p class="SideTOC2">
<a href="#1172657">Text Services Manager Data Structures
</a></p>

<p class="SideTOC3">
<a href="#1172658">TsmFepModeType
</a></p>

<p class="SideTOC2">
<a href="#1172695">Text Services Manager Functions
</a></p>

<p class="SideTOC3">
<a href="#1172697">TsmGetFepMode
</a></p>

<p class="SideTOC3">
<a href="#1172724">TsmSetFepMode
</a></p>

		</td>

		<td width="5">&nbsp;&nbsp;</td>
		<td width="1" bgcolor="#6699cc">&nbsp;</td>
		<td width="5">&nbsp;&nbsp;</td>
		<td> 

				<!-- CONTENT_START -->

<p class="Body">
  <a name="1172647"> </a>This chapter provides information about the Text Services Manager API as declared in <span style="font-family: monospace">TextServicesMgr.h</span>. The Text Services Manager provides the caller with an API for interacting with various text services, including front-end processors (FEPs), which are sometimes known as input methods. This chapter discusses the following topics:
</p>

  <a name="1172651"> </a><p class="B1Bullet"> &#8226; <a href="TextServicesManager.html#1172657">Text Services Manager Data Structures</a></p>

  <a name="1172655"> </a><p class="B1Bullet"> &#8226; <a href="TextServicesManager.html#1172695">Text Services Manager Functions</a></p>

<h2 class="HaHeadA">
  <a name="1172657"> </a>Text Services Manager Data Structures 
<a href="#1172646"><img src="images/top.gif" border="0"></a></h2>


<h2 class="HBHeadB">
  <a name="1172658"> </a>TsmFepModeType
<a href="#1172646"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1172659"> </a>The <span style="font-family: monospace">TsmFepModeType</span> type specifies the input modes used by the functions <a href="TextServicesManager.html#1172697"><span style="font-family: monospace">TsmGetFepMode</span></a> and <a href="TextServicesManager.html#1172724"><span style="font-family: monospace">TsmSetFepMode</span></a>.
</p>
<pre  class="Preformatted">
typedef UInt16 TsmFepModeType;<a name="1172666"> </a>
</pre>
<p class="Body">
  <a name="1172667"> </a><span style="font-family: monospace">TsmFepModeType</span> can be set to one of the defined modes listed in the following table.
</p>

<h5 class="TgTable">
  <a name="1172693"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="1172670"> </a><div class="CellHeading">Constant</div></th>
    <th><a name="1172672"> </a><div class="CellHeading">Value</div></th>
    <th><a name="1172674"> </a><div class="CellHeading">Description</div></th>
  </tr>
  <tr valign="top">
    <td><a name="1172676"> </a><div class="CellBody"><span style="font-family: monospace">tsmFepModeDefault</span></div></td>
    <td><a name="1172678"> </a><div class="CellBody">0</div></td>
    <td><a name="1172680"> </a><div class="CellBody">The default input mode for the FEP. For example, with the Japanese FEP, the default mode is Hiragana.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1172682"> </a><div class="CellBody"><span style="font-family: monospace">tsmFepModeOff</span></div></td>
    <td><a name="1172684"> </a><div class="CellBody">1</div></td>
    <td><a name="1172686"> </a><div class="CellBody">Indicates that there is no active FEP input mode (the FEP is off).</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1172688"> </a><div class="CellBody"><span style="font-family: monospace">tsmFepModeCustom</span></div></td>
    <td><a name="1172690"> </a><div class="CellBody">128</div></td>
    <td><a name="1172692"> </a><div class="CellBody">A custom FEP input mode. You can have more than one custom mode; the starting value is 128. Katagana is an example of a custom input mode for the Japanese FEP. </div></td>
  </tr>
</table>




</h5>
<h2 class="HaHeadA">
  <a name="1172695"> </a>Text Services Manager Functions 
<a href="#1172646"><img src="images/top.gif" border="0"></a></h2>


<h2 class="HBHeadB">
  <a name="1172697"> </a>TsmGetFepMode
<a href="#1172646"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1172698"> </a>Purpose 	
</h4>
<p class="Body">
  <a name="1172699"> </a>Return the current input mode for the active front-end processor (FEP).
</p>
<h4 class="RefSide">
  <a name="1172700"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1172701"> </a>TextServicesMgr.h
</p>
<h4 class="RefSide">
  <a name="1172702"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1172703"> </a>TsmFepModeType TsmGetFepMode (void *nullParam)
</p>
<h4 class="RefSide">
  <a name="1172704"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1172705"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; nullParam</span></td><td valign="top">An unused status pointer that must be set to <span style="font-family: monospace">NULL</span>.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1172706"> </a>Result 
</h4>
<p class="Body">
  <a name="1172707"> </a>If there is an active FEP, returns the current mode for the active FEP. If there is no active FEP, returns <span style="font-family: monospace">tsmFepModeOff</span>.
</p>
<h4 class="RefSide">
  <a name="1172708"> </a>Comments 
</h4>
<p class="Body">
  <a name="1172709"> </a>The most common use for this function is to save the current FEP mode. You could then call <a href="TextServicesManager.html#1172724"><span style="font-family: monospace">TsmSetFepMode</span></a> to set the current mode to "off" and again to restore the saved mode once the application has finished using a special text field.
</p>
<h4 class="RefSide">
  <a name="1172713"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1172717"> </a>Implemented only if <a href="CompatibilityApdx.html#971113">3.5 New Feature Set</a> is present. In Palm OS 3.5, the <span style="font-family: monospace">nullParam</span> parameter takes a non-<span style="font-family: monospace">NULL</span> value, allowing the caller to maintain its own status record. In Palm OS 4.0, this parameter is unused and must be set to <span style="font-family: monospace">NULL</span>. Any other value generates a non-fatal alert.
</p>
<h4 class="RefSide">
  <a name="1172718"> </a>See Also 
</h4>
<p class="Body">
  <a name="1172722"> </a><a href="TextServicesManager.html#1172724"><span style="font-family: monospace">TsmSetFepMode</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1172724"> </a>TsmSetFepMode
<a href="#1172646"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1172725"> </a>Purpose 	
</h4>
<p class="Body">
  <a name="1172726"> </a>Set the input mode for the active front-end processor (FEP) to be the mode defined by the parameter <span style="font-family: monospace">inNewMode</span>.
</p>
<h4 class="RefSide">
  <a name="1172727"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1172728"> </a>TextServicesMgr.h
</p>
<h4 class="RefSide">
  <a name="1172729"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1172730"> </a>TsmFepModeType TsmSetFepMode (void *nullParam,<br>TsmFepModeType inNewMode)
</p>
<h4 class="RefSide">
  <a name="1172731"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1172732"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; nullParam</span></td><td valign="top">An unused status pointer that must be set to <span style="font-family: monospace">NULL</span>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1172733"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; inNewMode</span></td><td valign="top">The new FEP input mode.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1172734"> </a>Result 
</h4>
<p class="Body">
  <a name="1172735"> </a>Returns the previous input mode. If there is no active FEP, returns <span style="font-family: monospace">tsmFepModeOff</span>.
</p>
<h4 class="RefSide">
  <a name="1172736"> </a>Comments 
</h4>
<p class="Body">
  <a name="1172737"> </a>The most common use for this function is to set the FEP mode to "off" while the application is using a special text field, and then to restore the previous mode. See <a href="TextServicesManager.html#1172697"><span style="font-family: monospace">TsmGetFepMode</span></a> for more information on saving and restoring the FEP mode. 
</p>
<p class="Body">
  <a name="1172741"> </a>One common reason for explicitly disabling the FEP in code is when a text field will only contain 7-bit ASCII (numeric fields automatically turn off the FEP). For example, if the application has a password field and the contents of that field will always be 7-bit ASCII, the application should turn off the FEP to help prevent the user from entering invalid characters into the field. 
</p>
<p class="Body">
  <a name="1172742"> </a>Another common case occurs when the application has a numeric field, but cannot just rely on the numeric field attribute. For example, if you want the user to be able to enter the minus ("-") sign, you cannot use a numeric field because the field code prevents the user from entering this character: its not a digit or a period. In this case, you should make it a regular field and have the application screen the characters. The application should disable the FEP when such a pseudo-numeric field is active.
</p>
<div class="NINoteImportant"><hr>
  <a name="1172743"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">IMPORTANT:  </span> A mode change is currently enqueued as a keyDown event so that the field and FEP can remain properly synchronized and so that the mode change doesn't affect any pending keyDown events. The mode change does not happen until the enqueued keyDown event is passed to <span style="font-family: monospace">FrmHandleEvent</span>; if you call <a href="TextServicesManager.html#1172697"><span style="font-family: monospace">TsmGetFepMode</span></a> immediately after calling <a href="TextServicesManager.html#1172724"><span style="font-family: monospace">TsmSetFepMode</span></a>, you won't see a mode change.<br><br>There are also some current limitations with changing the mode: there must be an active form; and if there is an active field in the form, it must not be a numeric field.
<hr>
</div>
<h4 class="RefSide">
  <a name="1172750"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1172754"> </a>Implemented only if <a href="CompatibilityApdx.html#971113">3.5 New Feature Set</a> is present. In Palm OS 3.5, the <span style="font-family: monospace">nullParam</span> parameter takes a non-<span style="font-family: monospace">NULL</span> value, allowing the caller to maintain its own status record. In Palm OS 4.0, this parameter is unused and must be set to <span style="font-family: monospace">NULL</span>. Any other value generates a non-fatal alert.
</p>
<h4 class="RefSide">
  <a name="1172755"> </a>See Also 
</h4>
<p class="Body">
  <a name="1172765"> </a><a href="TextServicesManager.html#1172697"><span style="font-family: monospace">TsmGetFepMode</span></a>, <a href="SystemEventManager.html#1160915"><span style="font-family: monospace">EvtEnqueueKey</span></a>,<span style="font-family: monospace"> </span><a href="Form.html#1023306"><span style="font-family: monospace">FrmHandleEvent</span></a>
</p>
&nbsp;<br>
				<!-- CONTENT_END -->

		</td>
		<td width="5">&nbsp;&nbsp;</td>
	</tr>
      </table>
    </td>
			</tr>
  <tr>
				<td>
					<table border="0" cellpadding="0" cellspacing="0" width="760">
        <!-- CONTENTCELL_END -->
        <tr valign="top"> 
          <td width="10">&nbsp;<!-- FOOTER_START --></td>
          <td width="72">&nbsp;</td>
          <td width="25" bgcolor="white" background="images/bkgrnd.gif">&nbsp;</td>
          <td width="600"> 
            <table border="0" cellpadding="0" cellspacing="0" width="600">
              <tr> 
                <td><img src="images/rule_10-1-5_ltblue.gif" width="600" height="16" border="0"></td>
              </tr>
              <tr> 
                <td> 
                  <p align="center" class="footer"> ©2002 PalmSource, Inc. and its affiliates.  All rights reserved. 
<a href="http://www.palmos.com/dev/training/">Training</a>&nbsp;|&nbsp;<a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a>&nbsp;|&nbsp;<a href="http://www.palmos.com/">Palm&nbsp;OS&nbsp;Platform</a>&nbsp;|&nbsp;<a href="Reference_Front.html" target="_blank">Legal Notices</a>&nbsp;<br>
												<!-- FOOTER_END --><br>
											</p>
                </td>
              </tr>
            </table>
          </td>
        </tr>
      </table>
				</td>
			</tr>
</table>
</BODY>
</HTML>