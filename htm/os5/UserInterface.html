<HTML>

<HEAD>
<SMALLSCREENIGNORE> 
<LINK HREF="copy_of_palmos.css" REL="stylesheet" TYPE="text/css">
<LINK HREF="document.css" REL="StyleSheet" TYPE="text/css" media="screen">
<!-- SCRIPT_START -->
<!-- SCRIPT_END -->
</SMALLSCREENIGNORE>
<TITLE>User Interface</TITLE>

<META NAME="PALMTEMPLATE" CONTENT="1006-002 Palm HTML 20020513">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks Publisher Professional Edition 6.0.7">
<META NAME="TEMPLATEBASE" CONTENT="Palm HTML 20010625">
<META NAME="LASTUPDATED" CONTENT="12/13/02 10:05:19">
<META HTTP-EQUIV="content-type" CONTENT="text/html;charset=ISO-8859-1">

</HEAD>

<BODY LEFTMARGIN="0" MARGINWIDTH="0" TOPMARGIN="0" MARGINHEIGHT="0">
<SMALLSCREENIGNORE> 
<table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr>
	<td><a name="979973"></a>
      <table border="0" cellpadding="0" cellspacing="0" width="100%">
        <tr height="35"> 
          <td height="35" colspan="2" bgcolor="#6699CC">&nbsp;</td>
        </tr>
        <tr valign="top"> 
          <td width="160" align="left"><a href="http://www.palmos.com"><img src="images/bigorb.gif" width="160" height="110" border="0"></a></td>
          <td align="left" width="100%"> 
            </SMALLSCREENIGNORE>
            <!-- CONTENTCELL_START -->
            <img border="0" height="45" src="images/orb_bkgrnd_600.gif" width="600"><br>
            <!--PAGENAV_START-->
            <SPAN CLASS="subnav">&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/index.html">Home</a> 
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/">Developers</a> 
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/support/">Development Support</a>
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/support/docs/">Documentation</a></span><BR>
             <img src="images/pixel_ltblue.gif" width="600" height="1" border="0" vspace="2"><br>
             <h2 class="HeadDocPage">4  User Interface</h2>
             <img src="images/pixel_ltblue.gif" width="600" height="1" border="0" vspace="2"><br>
             &nbsp;<span class="subnav"><a href="CompanionTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="EventLoop.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="Memory.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="CompanionIX.html">Index</a></span>  
            <!--PAGENAV_END-->
          </td>
        </tr>
      </table>
    </td>
			</tr>
  <tr>
				<td> 
      <table width="100%" border="0" cellspacing="0" cellpadding="0">
        <tr>
							<td>&nbsp;&nbsp;&nbsp;</td>
						</tr>
        <tr>
		<td valign="top" width="10">&nbsp;&nbsp;&nbsp;</td>
		<td valign="top" width="175">
			<p class="SideTitle">Title - <br><a href="Companion_Front.html">Palm OS® Programmer's Companion</a></p>
			<p class="SideTOC1-PartTab">Volume I </p>
			<p class="SideTOC1"><a href="UserInterface.html">4  User Interface</a></p>
			
<p class="SideTOC2">
<a href="#980048">Palm OS Resource Summary
</a></p>

<p class="SideTOC2">
<a href="#980293">Drawing on the Palm Powered Handheld
</a></p>

<p class="SideTOC3">
<a href="#1019888">The Draw State
</a></p>

<p class="SideTOC3">
<a href="#1021547">Drawing Functions
</a></p>

<p class="SideTOC3">
<a href="#1017967">High-Density Displays
</a></p>

<p class="SideTOC2">
<a href="#980406">Forms, Windows, and Dialogs
</a></p>

<p class="SideTOC3">
<a href="#980456">Alert Dialogs
</a></p>

<p class="SideTOC3">
<a href="#980498">Progress Dialogs
</a></p>

<p class="SideTOC3">
<a href="#980546">The Keyboard Dialog
</a></p>

<p class="SideTOC3">
<a href="#1018534">Offscreen Windows
</a></p>

<p class="SideTOC2">
<a href="#980665">Controls
</a></p>

<p class="SideTOC3">
<a href="#980673">Buttons
</a></p>

<p class="SideTOC3">
<a href="#980756">Pop-Up Trigger
</a></p>

<p class="SideTOC3">
<a href="#980861">Selector Trigger
</a></p>

<p class="SideTOC3">
<a href="#980944">Repeating Button
</a></p>

<p class="SideTOC3">
<a href="#981030">Push Buttons
</a></p>

<p class="SideTOC3">
<a href="#981100">Check Boxes
</a></p>

<p class="SideTOC3">
<a href="#981184">Sliders and Feedback Sliders
</a></p>

<p class="SideTOC2">
<a href="#981403">Fields
</a></p>

<p class="SideTOC2">
<a href="#981587">Menus
</a></p>

<p class="SideTOC3">
<a href="#981702">Checking Menu Visibility
</a></p>

<p class="SideTOC3">
<a href="#981731">Dynamic Menus
</a></p>

<p class="SideTOC3">
<a href="#981761">Menu Shortcuts
</a></p>

<p class="SideTOC2">
<a href="#981873">Tables
</a></p>

<p class="SideTOC3">
<a href="#981885">Table Event
</a></p>

<p class="SideTOC2">
<a href="#981900">Lists
</a></p>

<p class="SideTOC3">
<a href="#982021">Using Lists in Place of Tables
</a></p>

<p class="SideTOC2">
<a href="#982076">Categories
</a></p>

<p class="SideTOC3">
<a href="#982113">Initializing Categories in a Database
</a></p>

<p class="SideTOC3">
<a href="#982200">Initializing the Category Pop-up Trigger
</a></p>

<p class="SideTOC3">
<a href="#982240">Managing a Category Pop-up List 
</a></p>

<p class="SideTOC2">
<a href="#982297">Bitmaps
</a></p>

<p class="SideTOC3">
<a href="#982392">Versions of Bitmap Support
</a></p>

<p class="SideTOC3">
<a href="#1020513">Bitmap Families
</a></p>

<p class="SideTOC3">
<a href="#982401">Drawing a Bitmap
</a></p>

<p class="SideTOC3">
<a href="#982441">Color Tables and Bitmaps
</a></p>

<p class="SideTOC2">
<a href="#982449">Labels
</a></p>

<p class="SideTOC2">
<a href="#982463">Scroll Bars
</a></p>

<p class="SideTOC2">
<a href="#982541">Custom UI Objects (Gadgets)
</a></p>

<p class="SideTOC2">
<a href="#982652">Dynamic UI
</a></p>

<p class="SideTOC3">
<a href="#982702">Dynamic User Interface Functions
</a></p>

<p class="SideTOC2">
<a href="#982756">Color and Grayscale Support
</a></p>

<p class="SideTOC3">
<a href="#982766">Indexed Versus Direct Color Display
</a></p>

<p class="SideTOC3">
<a href="#982772">Color Table
</a></p>

<p class="SideTOC3">
<a href="#982807">UI Color List
</a></p>

<p class="SideTOC3">
<a href="#982897">Direct Color Functions
</a></p>

<p class="SideTOC3">
<a href="#982934">Pixel Reading and Writing
</a></p>

<p class="SideTOC3">
<a href="#982996">Direct Color Bitmaps
</a></p>

<p class="SideTOC2">
<a href="#983042">Insertion Point
</a></p>

<p class="SideTOC2">
<a href="#983047">Application Launcher 
</a></p>

<p class="SideTOC3">
<a href="#983050">Icons in the Launcher
</a></p>

<p class="SideTOC3">
<a href="#983065">Application Version String
</a></p>

<p class="SideTOC3">
<a href="#983070">The Default Application Category
</a></p>

<p class="SideTOC3">
<a href="#983117">Opening the Launcher Programmatically
</a></p>

<p class="SideTOC2">
<a href="#983154">Summary of User Interface API
</a></p>

		</td>

		<td width="5">&nbsp;&nbsp;</td>
		<td width="1" bgcolor="#6699cc">&nbsp;</td>
		<td width="5">&nbsp;&nbsp;</td>
		<td> 

				<!-- CONTENT_START -->

<p class="Body">
  <a name="979974"> </a>This chapter describes the user interface (UI) elements that you can use in your application. To create a user interface element, you create a resource that defines what that element looks like and where it is displayed. You interact with the element programmatically as a UI object. A Palm OS<sup>®</sup> UI object is a C structure that is linked with one or more items on the screen. Note that Palm UI objects are just structures, not the more elaborate objects found in some systems. This is useful because in general a C structure is more compact than these other objects.
</p>
<p class="Body">
  <a name="979975"> </a>This chapter introduces each of the user interface objects. It also describes Palm system managers that aid in working with the user interface. The chapter covers:
</p>

  <a name="979979"> </a><p class="B1Bullet"> &#8226; <a href="UserInterface.html#980048">Palm OS Resource Summary</a></p>

  <a name="979983"> </a><p class="B1Bullet"> &#8226; <a href="UserInterface.html#980293">Drawing on the Palm Powered Handheld</a></p>

  <a name="979987"> </a><p class="B1Bullet"> &#8226; <a href="UserInterface.html#980406">Forms, Windows, and Dialogs</a></p>

  <a name="979991"> </a><p class="B1Bullet"> &#8226; <a href="UserInterface.html#980665">Controls</a></p>

  <a name="979995"> </a><p class="B1Bullet"> &#8226; <a href="UserInterface.html#981403">Fields</a></p>

  <a name="979999"> </a><p class="B1Bullet"> &#8226; <a href="UserInterface.html#981587">Menus</a></p>

  <a name="980003"> </a><p class="B1Bullet"> &#8226; <a href="UserInterface.html#981873">Tables</a></p>

  <a name="980007"> </a><p class="B1Bullet"> &#8226; <a href="UserInterface.html#981900">Lists</a></p>

  <a name="980011"> </a><p class="B1Bullet"> &#8226; <a href="UserInterface.html#982076">Categories</a></p>

  <a name="980015"> </a><p class="B1Bullet"> &#8226; <a href="UserInterface.html#982297">Bitmaps</a></p>

  <a name="980019"> </a><p class="B1Bullet"> &#8226; <a href="UserInterface.html#982449">Labels</a></p>

  <a name="980023"> </a><p class="B1Bullet"> &#8226; <a href="UserInterface.html#982463">Scroll Bars</a></p>

  <a name="980027"> </a><p class="B1Bullet"> &#8226; <a href="UserInterface.html#982541">Custom UI Objects (Gadgets)</a></p>

  <a name="980031"> </a><p class="B1Bullet"> &#8226; <a href="UserInterface.html#982652">Dynamic UI</a></p>

  <a name="980035"> </a><p class="B1Bullet"> &#8226; <a href="UserInterface.html#982756">Color and Grayscale Support</a></p>

  <a name="980039"> </a><p class="B1Bullet"> &#8226; <a href="UserInterface.html#983042">Insertion Point</a></p>

  <a name="980043"> </a><p class="B1Bullet"> &#8226; <a href="UserInterface.html#983047">Application Launcher</a></p>
<p class="Body">
  <a name="980044"> </a>For guidelines on designing a user interface, see the book <i>Palm OS User Interface Guidelines</i>.
</p>
<div class="NINoteImportant"><hr>
  <a name="980045"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">TIP:  </span> The Palm OS web site contains recipes for writing code to work with the various user interface objects. See the following URL: <a href=" http://www.palmos.com/dev/tech/docs/recipes">http://www.palmos.com/dev/tech/docs/recipes</a> 
<hr>
</div>

<h2 class="HaHeadA">
  <a name="980048"> </a>Palm OS Resource Summary 
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="980049"> </a>The Palm OS development environment provides a set of resource templates that application developers use to implement the buttons, dialogs, and other UI elements. <a href="UserInterface.html#980067">Table 4.1</a> maps user interface elements to resources. The ResEdit name is included for developers using that tool. It is not relevant for users of Constructor for Palm OS.
</p>
<p class="Body">
  <a name="1032113"> </a>All resources are discussed in detail in the book <i>Palm OS User Interface Guidelines</i>. In addition, specific design recommendations are provided for some of the elements. 
</p>

<h5 class="TgTable">
  <a name="1032189"> </a>
</h5>
<h5 class="TgTable">
  <a name="980291"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption><a name="980067"> </a><div class="TableTitle">Table 4.1  UI resource summary </div></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="980073"> </a><div class="CellHeading">UI Element and Functionality</div></th>
    <th><a name="980075"> </a><div class="CellHeading">Example</div></th>
    <th><a name="980077"> </a><div class="CellHeading">Resource(s)</div></th>
  </tr>
  <tr valign="top">
    <td><a name="980079"> </a><div class="CellBody">Alert-</div><a name="980080"> </a><div class="CellBody">Display a warning, error, or confirmation message</div></td>
    <td><a name="980085"> </a><div class="CellBody"><div align="left"><img src="images/UserInterface2.gif" height="76" width="164" border="0" hspace="20" vspace="0">
</div></div></td>
    <td><a name="980087"> </a><div class="CellBody">Alert (Talt)</div></td>
  </tr>
  <tr valign="top">
    <td><a name="980089"> </a><div class="CellBody">Application icon-</div><a name="980090"> </a><div class="CellBody">Icon to display in Launcher</div></td>
    <td><a name="980095"> </a><div class="CellBody"><div align="left"><img src="images/Icon.gif" height="27" width="33" border="0" hspace="20" vspace="0">
</div></div></td>
    <td><a name="980097"> </a><div class="CellBody">Application icon (tAIB)</div><a name="980098"> </a><div class="CellBody">Application icon family (taif)</div></td>
  </tr>
  <tr valign="top">
    <td><a name="980100"> </a><div class="CellBody">Bitmap-</div><a name="980101"> </a><div class="CellBody">Display a bitmap</div></td>
    <td><a name="980106"> </a><div class="CellBody"><div align="left"><img src="images/FormBitmap.gif" height="19" width="22" border="0" hspace="20" vspace="0">
</div></div></td>
    <td><a name="980108"> </a><div class="CellBody">Form bitmap (tFBM)</div><a name="980109"> </a><div class="CellBody">Bitmap (Tbmp)</div><a name="980110"> </a><div class="CellBody">Bitmap family (tbmf)</div></td>
  </tr>
  <tr valign="top">
    <td><a name="980112"> </a><div class="CellBody">Command button-</div><a name="980113"> </a><div class="CellBody">Execute command</div></td>
    <td><a name="980118"> </a><div class="CellBody"><div align="left"><img src="images/CmdButton.gif" height="28" width="67" border="0" hspace="20" vspace="0">
</div></div></td>
    <td><a name="980121"> </a><div class="CellBody">Button (tBTN)</div><a name="980122"> </a><div class="CellBody">Graphic button (tgbn)</div></td>
  </tr>
  <tr valign="top">
    <td><a name="980124"> </a><div class="CellBody">Check box-</div><a name="980125"> </a><div class="CellBody">Toggle on or off</div></td>
    <td><a name="980130"> </a><div class="CellBody"><div align="left"><img src="images/CheckBox.gif" height="28" width="100" border="0" hspace="20" vspace="0">
</div></div></td>
    <td><a name="980133"> </a><div class="CellBody">Checkbox (tCBX)</div></td>
  </tr>
  <tr valign="top">
    <td><a name="980135"> </a><div class="CellBody">Form-</div><a name="980136"> </a><div class="CellBody">Window that displays other UI objects</div></td>
    <td><a name="980141"> </a><div class="CellBody"><div align="left"><img src="images/FormAddressMain.gif" height="109" width="109" border="0" hspace="20" vspace="0">
</div></div></td>
    <td><a name="980143"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="980145"> </a><div class="CellBody">Gadget-</div><a name="980146"> </a><div class="CellBody">Custom control</div></td>
    <td><a name="980151"> </a><div class="CellBody"><div align="left"><img src="images/Gadget.gif" height="20" width="22" border="0" hspace="20" vspace="0">
</div></div></td>
    <td><a name="980153"> </a><div class="CellBody">Gadget (tGDT)</div></td>
  </tr>
  <tr valign="top">
    <td><a name="980155"> </a><div class="CellBody">Shift Indicator-</div><a name="980156"> </a><div class="CellBody">Display shift status</div></td>
    <td><a name="980161"> </a><div class="CellBody"><div align="left"><img src="images/GSI.gif" height="20" width="22" border="0" hspace="20" vspace="0">
</div></div></td>
    <td><a name="980163"> </a><div class="CellBody">Shift Indicator (tGSI)</div></td>
  </tr>
  <tr valign="top">
    <td><a name="980165"> </a><div class="CellBody">Label-</div><a name="980166"> </a><div class="CellBody">Display noneditable text</div></td>
    <td><a name="980171"> </a><div class="CellBody"><div align="left"><img src="images/Label.gif" height="14" width="56" border="0" hspace="20" vspace="0">
</div></div></td>
    <td><a name="980173"> </a><div class="CellBody">Label (tLBL)</div></td>
  </tr>
  <tr valign="top">
    <td><a name="980175"> </a><div class="CellBody">List-</div><a name="980176"> </a><div class="CellBody">Display a series of items</div></td>
    <td><a name="980181"> </a><div class="CellBody"><div align="left"><img src="images/List.gif" height="72" width="103" border="0" hspace="20" vspace="0">
</div></div></td>
    <td><a name="980183"> </a><div class="CellBody">List (tLST)</div></td>
  </tr>
  <tr valign="top">
    <td><a name="980185"> </a><div class="CellBody">Menu-</div><a name="980186"> </a><div class="CellBody">Execute commands </div></td>
    <td><a name="980191"> </a><div class="CellBody"><div align="left"><img src="images/MenuBar.gif" height="62" width="112" border="0" hspace="20" vspace="0">
</div></div></td>
    <td><a name="980194"> </a><div class="CellBody">Menu Bar (MBAR)</div><a name="980196"> </a><div class="CellBody">Menu (MENU)</div></td>
  </tr>
  <tr valign="top">
    <td><a name="980198"> </a><div class="CellBody">Pop-up list-</div><a name="980199"> </a><div class="CellBody">Choose a setting from a list </div></td>
    <td><a name="980205"> </a><div class="CellBody"><div align="left"><img src="images/UserInterface13.gif" height="45" width="54" border="0" hspace="20" vspace="0">
</div></div></td>
    <td><a name="980208"> </a><div class="CellBody">Pop-up trigger (tPUT)</div><a name="980210"> </a><div class="CellBody">Pop-up list (tPUL)</div><a name="980212"> </a><div class="CellBody">List (tLST)</div></td>
  </tr>
  <tr valign="top">
    <td><a name="980214"> </a><div class="CellBody">Push button-</div><a name="980215"> </a><div class="CellBody">Select a value</div></td>
    <td><a name="980220"> </a><div class="CellBody"><div align="left"><img src="images/PushButtons.gif" height="22" width="51" border="0" hspace="20" vspace="0">
</div></div></td>
    <td><a name="980223"> </a><div class="CellBody">Push button (tPBN)</div><a name="980224"> </a><div class="CellBody">Graphic push button (tgpb)</div></td>
  </tr>
  <tr valign="top">
    <td><a name="980226"> </a><div class="CellBody">Repeating button -</div><a name="980227"> </a><div class="CellBody">Increment/decrement values or scroll</div></td>
    <td><a name="980232"> </a><div class="CellBody"><div align="left"><img src="images/RepeatButton.gif" height="20" width="22" border="0" hspace="20" vspace="0">
</div></div></td>
    <td><a name="980235"> </a><div class="CellBody">Repeating button (tREP)</div><a name="980236"> </a><div class="CellBody">Graphic repeating button (tgrb)</div></td>
  </tr>
  <tr valign="top">
    <td><a name="980238"> </a><div class="CellBody">Scroll bar-</div><a name="980239"> </a><div class="CellBody">Scroll fields or tables</div></td>
    <td><a name="980244"> </a><div class="CellBody"><div align="left"><img src="images/Scrollbar.gif" height="57" width="14" border="0" hspace="20" vspace="0">
</div></div></td>
    <td><a name="980246"> </a><div class="CellBody">Scroll bar (tSCL)</div></td>
  </tr>
  <tr valign="top">
    <td><a name="980248"> </a><div class="CellBody">Selector trigger -</div><a name="980249"> </a><div class="CellBody">Invoke dialog that changes text of the control</div></td>
    <td><a name="980254"> </a><div class="CellBody"><div align="left"><img src="images/selector.gif" border="0" hspace="20" vspace="0">
</div></div><a name="980255"> </a><div class="CellBody"><br></div></td>
    <td><a name="980258"> </a><div class="CellBody">Selector trigger (tSLT)</div></td>
  </tr>
  <tr valign="top">
    <td><a name="980260"> </a><div class="CellBody">Slider-</div><a name="980261"> </a><div class="CellBody">Adjust a setting</div></td>
    <td><a name="980266"> </a><div class="CellBody"><div align="left"><img src="images/Slider.gif" border="0" hspace="20" vspace="0">
</div></div></td>
    <td><a name="980268"> </a><div class="CellBody">Slider (tsld)</div><a name="980269"> </a><div class="CellBody">Feedback slider (tslf)</div></td>
  </tr>
  <tr valign="top">
    <td><a name="980271"> </a><div class="CellBody">Table-</div><a name="980272"> </a><div class="CellBody">Display columns of data</div></td>
    <td><a name="980277"> </a><div class="CellBody"><div align="left"><img src="images/Table.gif" height="46" width="81" border="0" hspace="20" vspace="0">
</div></div></td>
    <td><a name="980279"> </a><div class="CellBody">Table (tTBL)</div></td>
  </tr>
  <tr valign="top">
    <td><a name="980281"> </a><div class="CellBody">Text field-</div><a name="980282"> </a><div class="CellBody">Display text (single or multiple lines)</div></td>
    <td><a name="980287"> </a><div class="CellBody"><div align="left"><img src="images/Field.gif" height="14" width="60" border="0" hspace="20" vspace="0">
</div></div></td>
    <td><a name="980290"> </a><div class="CellBody">Field (tFLD)</div></td>
  </tr>
</table>




</h5>
<h2 class="HaHeadA">
  <a name="980293"> </a>Drawing on the Palm Powered Handheld 
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="980295"> </a>The first Palm Powered<sup>&#8482;</sup> handhelds had an LCD screen of 160x160 pixels. Since then, handhelds with screens resolutions of 320 X 320 pixels have been introduced. The built-in LCD controller maps a portion of system memory to the LCD. The capabilities of the controller depend on the particular handheld, but be aware that hardware may still limit the actual displayable depths. Given that, <a href="UserInterface.html#980302">Table 4.2</a> lists the screen bit depths that the Palm OS supports.
</p>

<h5 class="TgTable">
  <a name="980337"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption><a name="980302"> </a><div class="TableTitle">Table 4.2  Supported bit depths </div></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="980306"> </a><div class="CellHeading">Palm OS Version </div></th>
    <th><a name="980308"> </a><div class="CellHeading">Supported Resolutions</div></th>
  </tr>
  <tr valign="top">
    <td><a name="980310"> </a><div class="CellBody">1.0</div></td>
    <td><a name="980312"> </a><div class="CellBody">1 bit/pixel</div></td>
  </tr>
  <tr valign="top">
    <td><a name="980314"> </a><div class="CellBody">2.0</div></td>
    <td><a name="980316"> </a><div class="CellBody">1 bit/pixel</div></td>
  </tr>
  <tr valign="top">
    <td><a name="980318"> </a><div class="CellBody">3.0</div></td>
    <td><a name="980320"> </a><div class="CellBody">1 or 2 bits/pixel</div></td>
  </tr>
  <tr valign="top">
    <td><a name="980322"> </a><div class="CellBody">3.3</div></td>
    <td><a name="980324"> </a><div class="CellBody">1, 2, or 4 bits/pixel</div></td>
  </tr>
  <tr valign="top">
    <td><a name="980326"> </a><div class="CellBody">3.5 </div></td>
    <td><a name="980328"> </a><div class="CellBody">1, 2, 4 or 8 bits/pixel</div></td>
  </tr>
  <tr valign="top">
    <td><a name="980330"> </a><div class="CellBody">4.0, 5.0</div></td>
    <td><a name="980332"> </a><div class="CellBody">1, 2, 4, 8, or 16 bits/pixel</div><a name="980336"> </a><div class="CellBody">(See <a href="UserInterface.html#982756">"Color and Grayscale Support"</a> for more information.)</div></td>
  </tr>
</table>




</h5><p class="Body">
  <a name="980338"> </a>Usually, the Form Manager handles all necessary drawing and redrawing to the screen when it receives certain events. (In Palm OS, a <b>form</b> is analogous to a window in a desktop application, and a <b>window</b> is an abstract drawing region.) You don't have to explicitly call drawing routines. However, if you're performing animation or if you have any custom user interface objects (known as gadgets), you might need to use the drawing functions provided by the Window Manager. 
</p>
<p class="Body">
  <a name="980339"> </a>The Window Manager defines a window object and provides functions for drawing to windows. A window is a drawing region that is either onscreen or offscreen. The window's data structure contains a bitmap that contains the actual data displayed in the window. Windows add clipping regions over the top of bitmaps. 
</p>

<h2 class="HBHeadB">
  <a name="1019888"> </a>The Draw State
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1019889"> </a>The Window Manager also defines a draw state: pen color, pattern, graphics state, and so on. The draw state is handled differently depending on the operating system version. 
</p>
<p class="Body">
  <a name="1019891"> </a>On pre-3.5 versions of Palm OS, the system maintains several individual global variables that each track an element of the draw state. If you want to change some aspect of the draw state, you use a <span style="font-family: monospace">WinSet</span>... function (such as <a href="Window.html#1199271"><span style="font-family: monospace">WinSetUnderlineMode</span></a>). Each <span style="font-family: monospace">WinSet</span>... function returns the old value. It's your responsibility to save the old value returned by the function and to restore the variable's value when you are finished by calling the function again. Using such routines can be inconvenient because it means using application stack space to track system state. Further, if a caller forgets to restore the value, the entire look and feel of the handheld may be altered.
</p>
<p class="Body">
  <a name="1019895"> </a>Palm OS 3.5 and later has two improvements to make tracking changes to the draw state easier. First, it groups the drawing-related global variables and treats them as a single unit. This draw state is the Palm OS implementation of a <b>pen</b>. It contains the current transfer (or draw) mode, pattern mode and pattern data for <span style="font-family: monospace">WinFill</span>... routines, and foreground and background colors. It also contains text-related drawing information: the font ID, the font pointer, the underline mode, and the text color. (Palm OS does not currently support other common pen-like concepts such as line width, pen shape, or corner join.) Only one draw state exists in the system. 
</p>
<p class="Body">
  <a name="1019897"> </a>Second, Palm OS 3.5 can track changes to the draw state by storing states on a stack. Your application no longer needs to use its own stack for pieces of the draw state. Instead, use <a href="Window.html#1198348"><span style="font-family: monospace">WinPushDrawState</span></a> to push a copy of the current draw state on the top of the stack. Then use the existing <span style="font-family: monospace">WinSet...</span> functions to make your changes. When you've finished your drawing and want to restore the draw state, call <a href="Window.html#1198324"><span style="font-family: monospace">WinPopDrawState</span></a>. 
</p>
<p class="Body">
  <a name="1019906"> </a>The new drawing state stack allows for additional debugging help. If an application exits without popping sufficiently or it pops too much, this is detected and flagged on debug ROMs. When switching applications, the system pops to a default state on application exit, guaranteeing a consistent draw state when a new application is launched.
</p>

<h2 class="HBHeadB">
  <a name="1021547"> </a>Drawing Functions
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1021548"> </a>The Window Manager can draw rectangles, lines, characters, bitmaps, and (starting in version 3.5) pixels. The Window Manager supports five flavors of most calls, as described in <a href="UserInterface.html#1021558">Table 4.3</a>.
</p>

<h5 class="TgTable">
  <a name="1021585"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption><a name="1021558"> </a><div class="TableTitle">Table 4.3  Window Manager drawing operations </div></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="1021562"> </a><div class="CellHeading">Mode</div></th>
    <th><a name="1021564"> </a><div class="CellHeading">Operation</div></th>
  </tr>
  <tr valign="top">
    <td><a name="1021566"> </a><div class="CellBody">Draw</div></td>
    <td><a name="1021568"> </a><div class="CellBody">Render object outline only, using current foreground color and pattern. For a bitmap, draws the bitmap.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1021570"> </a><div class="CellBody">Fill</div></td>
    <td><a name="1021572"> </a><div class="CellBody">Render object internals only, using current foreground color and pattern.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1021574"> </a><div class="CellBody">Erase</div></td>
    <td><a name="1021576"> </a><div class="CellBody">Erase object outline and internals to window background color.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1021578"> </a><div class="CellBody">Invert</div></td>
    <td><a name="1021580"> </a><div class="CellBody">Swap foreground and background colors within region defined by object.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1021582"> </a><div class="CellBody">Paint</div></td>
    <td><a name="1021584"> </a><div class="CellBody">Supported only in version 3.5 and higher. Render object using all of the current draw state: transfer mode, foreground and background colors, pattern, font, text color, and underline mode. </div></td>
  </tr>
</table>




</h5><p class="Body">
  <a name="1021587"> </a>The drawing functions always draw to the current draw window. This window may be either an onscreen window or an offscreen window. Use <a href="Window.html#1198976"><span style="font-family: monospace">WinSetDrawWindow</span></a> to set the draw window before calling these functions. 
</p>

<h2 class="HBHeadB">
  <a name="1017967"> </a>High-Density Displays
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1017968"> </a>The screens on most Palm Powered handhelds are 160 pixels wide and 160 pixels high. Prior to High-Density Display feature set, the operating system provided little support for other screen sizes. Palm OS 5, with the addition of the <a href="CompatibilityApdx.html#976512">High-Density Display Feature Set</a>, adds support for 320 by 320, or <span style="color: #333;;  font-style: italic; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">double-density</span>, screens and resources. This support is designed so that a Palm Powered handheld with a double-density screen runs, unaltered, nearly all applications designed for a single-density (160 by 160) screen.
</p>

<h4 class="HCHeadC">
  <a name="1030600"> </a>Display Density
</h4>
<p class="Body">
  <a name="1030609"> </a>The density of a display refers to the ratio of the screen's width and height, in number of pixels, to the width and height of a standard 160 by 160 pixel screen. The screen's density has no relation to the screen's physical size; given the form factor of the typical Palm Powered handheld screens tend to be roughly the same size regardless of the display density.
</p>
<p class="Body">
  <a name="1017969"> </a>A double-density screen packs twice as many pixels in each dimension into the same physical space as a single-density screen. Regardless of the screen density, graphic primitives have the same footprint, taking up the same percentage of screen space. The Address Book application, for example, shows 11 lines of text on both single- and double-density screens. The text looks better on the double-density screen, however, because the blitter uses double-density font data when drawing the text, and each character is composed of more pixels.
</p>
<div class="NINoteImportant"><hr>
  <a name="1017970"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">NOTE:  </span> The High-Density Display feature set is designed to allow screen sizes of various densities. The blitter that is part of the Palm OS 5 reference platform, however, only supports single- and double-density displays.
<hr>
</div>
<p class="Body">
  <a name="1030644"> </a>When writing applications for Palm OS 5, you generally can stop thinking in terms of pixels and start thinking in terms of screen coordinates. The operating system takes care of mapping coordinates to physical pixels, and drawing functions now work in terms of coordinates. So, for example, if you draw a line of text using one of the built-in fonts, that line of text is 12 standard coordinates high. Depending on the display density, that text might be 12 pixels high, 24 pixels high (on a double-density display), or even some other multiple of 12. 
</p>

<h4 class="HCHeadC">
  <a name="1017972"> </a>Terminology
</h4>
<p class="Body">
  <a name="1017973"> </a>A clear understanding of the following terms is essential to understanding the concepts introduced by the High-Density Display feature set.
</p>
<p class="Body">
  <a name="1017974"> </a><span style="color: #333;;  font-style: italic; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">default density</span> -a pixel layout with one pixel per standard coordinate.
</p>
<p class="Body">
  <a name="1017976"> </a><span style="color: #333;;  font-style: italic; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">high density</span> - a pixel layout that uses more pixels per standard coordinate than a low-density layout.
</p>
<p class="Body">
  <a name="1017977"> </a><span style="color: #333;;  font-style: italic; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">low density</span> - equivalent to default density; one pixel per standard coordinate.
</p>
<p class="Body">
  <a name="1017978"> </a><span style="color: #333;;  font-style: italic; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">native coordinate system</span> - a coordinate system based on physical screen pixels. For offscreen windows, the native coordinates are based on the offscreen bitmap rather than the physical screen.
</p>
<p class="Body">
  <a name="1017979"> </a><span style="color: #333;;  font-style: italic; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">standard coordinate system</span> - The coordinate system used by most handhelds that don't have the High-Density Display feature set installed. On a single density screen, there is one screen pixel per standard coordinate. On a high-density screen, there is more than one screen pixel per standard coordinate.
</p>

<h4 class="HCHeadC">
  <a name="1017981"> </a>Implementation
</h4>
<p class="Body">
  <a name="1017982"> </a>Applications running on Palm OS 5 default to the standard coordinate system, even if the handheld has a high-density screen. When creating forms, you continue to use the standard coordinate system for form dimensions and for the placement of UI widgets.
</p>
<p class="Body">
  <a name="1017983"> </a>In Palm OS 5, every drawing operation uses a draw state. Added to this draw state by the High-Density Display feature set is a scaling factor, which is used by the Window Manager to transform coordinates passed as arguments to the drawing functions (such as <a href="Window.html#1196591"><span style="font-family: monospace">WinDrawLine</span></a>, <a href="Window.html#1196062"><span style="font-family: monospace">WinCopyRectangle</span></a>, and <a href="Window.html#1198120"><span style="font-family: monospace">WinPaintPixel</span></a>) into native coordinates. This scaling factor is a ratio of the active coordinates to native coordinates.
</p>
<p class="Body">
  <a name="1017984"> </a>Drawing is a function of the Window Manager, which initializes the graphic state and then calls the blitter-the low-level code that draws lines and rectangles and places all primitives at the appropriate location on the screen. The Window Manager converts coordinates passed as drawing function arguments from the window's coordinate system to the native coordinate system used by the blitter. Because the blitter needs with integer coordinates, most of the <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">WinScale...</span> and <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">WinUnscale...</span> functions have a <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">ceiling</span> parameter that lets you control whether the integer results are obtained by truncation or rounding. <a href="Window.html#1222485"><span style="font-family: monospace">WinScaleRectangle</span></a> and <a href="Window.html#1225207"><span style="font-family: monospace">WinUnscaleRectangle</span></a> are the exceptions to this rule: the calculated extent is always rounded up if either the extent or the top left coordinate has a fractional part after scaling.
</p>
<p class="Body">
  <a name="1017988"> </a>Using <a href="Window.html#1224953"><span style="font-family: monospace">WinSetCoordinateSystem</span></a>, an application can define the coordinate system used by its calls to the drawing functions. On a handheld with a high-density screen, this allows applications to draw using either the standard coordinate system or the native coordinate system. Note that the <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">bounds</span> and <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">clippingBounds</span> fields in the <a href="Window.html#1195729"><span style="font-family: monospace">WindowType</span></a> data structure are always stored using native coordinates. The various functions that access these fields convert the native coordinates to the coordinate system being used by the window.
</p>
<p class="Body">
  <a name="1017989"> </a>Which coordinate system a window uses affects the placement and dimensions of graphic primitives. It does not affect bitmap contents, however. You can create bitmaps that contain either low- high-density bitmap data; the bitmap's density is recorded in the <a href="Bitmap.html#1094929"><span style="font-family: monospace">BitmapTypeV3</span></a> data structure. The Window Manager uses the window's coordinate system to determine where to place the top left corner of the bitmap on the screen, while the blitter uses the bitmap structure's <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">density</span> field to determine if it needs to stretch or shrink the bitmap data as it blits.
</p>
<p class="Body">
  <a name="1017993"> </a>As an example, suppose you have an application that draws a low-density bitmap containing data 30 pixels wide and 70 pixels high on a Palm Powered handheld with a double-density screen. Using the standard coordinate system, the application instructs the Window Manager to place the bitmap at window coordinates (10,20). The Window Manager converts (10,20) to native coordinates and instructs the blitter to draw the bitmap at native coordinates (20,40). Recognizing that the bitmap is low density, the blitter pixel-doubles the source data as it is blitted. The result is that on the double-density screen, the bitmap is displayed with 60 pixels per row and contains 140 rows.
</p>
<p class="Body">
  <a name="1017994"> </a>Regardless of the coordinate system used for the placement and dimensions of graphic primitives, no new functions are needed to take advantage of high-density fonts. High-density fonts are used by default when drawing text in a high-density window.
</p>

<h4 class="HCHeadC">
  <a name="1017995"> </a>Maintaining Compatibility
</h4>
<p class="Body">
  <a name="1017996"> </a>The <a href="CompatibilityApdx.html#976512">High-Density Display Feature Set</a> is designed to ensure the greatest degree of compatibility with applications that weren't written using the High-Density Display feature set. When running in low-density mode on a handheld with a high-density screen, the window's <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">scale</span> attribute is set to the ratio of the handheld's screen density to the default density. This causes the Window Manager to scale the low-density coordinates used to position graphic primitives into high-density ones used by the blitter. Because low-density mode is the default on all Palm Powered handhelds, applications not designed for high-density screens behave as expected on handhelds with screens of both low and high-density.
</p>
<p class="Body">
  <a name="1017997"> </a>Offscreen windows are allocated by default with low-density bitmaps, so direct manipulation of offscreen bitmaps by applications unaware of the High-Density Displays feature set works consistently on handhelds with either low- high-density screens.
</p>
<p class="Body">
  <a name="1017998"> </a>On the other hand, applications that employ the High-Density Display feature set need to include both low-density and high-density bitmaps in order to function consistently on handhelds that don't have high-density displays.
</p>
<p class="Body">
  <a name="1017999"> </a>Some Sony CLIE'&#8482; handhelds have a double-density screen but don't have the High-Density Display feature set. The High-Density Display feature set recognizes bitmaps created for these handhelds and properly displays them as double-density bitmaps.
</p>
<p class="Body">
  <a name="1018002"> </a>The one area of incompatibility involves applications that directly access the handheld's screen. <i>Applications not designed for a high-density screen that directly access the screen give unexpected results when accessing a high-density screen.</i> For example, if such an application directly manipulates the screen pixels, expecting a 160 by 160 screen, modifying pixel 161 on a double-density screen modifies a pixel in the middle of the first row, not the first pixel on the second row. As well, <i>if the handheld's processor is ARM-based, improper drawing can also result due to differences in endianness between ARM-based platforms and those based upon a 68k-family processor.</i>
</p>

<h4 class="HCHeadC">
  <a name="1018746"> </a>Text
</h4>
<p class="Body">
  <a name="1018747"> </a>By default, text is always drawn at the best possible density, even for applications unaware of a handheld's high-density capability. Because of this, handhelds contain system fonts that match the density of the screen. The high-density font metrics match those of the low-density system fonts.
</p>
<p class="Body">
  <a name="1018748"> </a>Because the system fonts match the screen density, the blitter does not need to perform scaling when blitting text to the screen. If an application running on a handheld with a high-density screen allocates a low-density offscreen window, however, and there are no low-density fonts available, the blitter shrinks the high-density system font bitmaps. This results in poor quality text when the offscreen bitmap is subsequently transferred, and pixel-doubled, to a high-density display. If a low-density font is available, the blitter substitutes a low-density font when drawing text to the window in an attempt to produce the best possible aesthetic result.
</p>
<p class="Body">
  <a name="1018749"> </a>The blitter uses the following selection algorithm when selecting the font, from high to low priority:
</p>
  <a name="1018750"> </a><p class="N1NumList">1.	  Select the font with the correct density.</p>  <a name="1018751"> </a><p class="N1NumList">2.	  Select the font whose density is one-half of the correct density.</p>  <a name="1018752"> </a><p class="N1NumList">3.	  Select the font with the closest density, with a tie going to the lower-density font.</p><p class="Body">
  <a name="1018754"> </a>The Font Manager uses the <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">stdToActiveScale</span> field in the offscreen window's draw state to transform the font metrics. To draw text using high-density coordinates, set the high-density coordinate system by calling <a href="Window.html#1224953"><span style="font-family: monospace">WinSetCoordinateSystem</span></a> before using the Font Manager functions to position text or extract font metrics.
</p>
<p class="Body">
  <a name="1018759"> </a>On a high-density screen, underline mode is always drawn using a high-density pattern.
</p>

<h4 class="HCHeadC">
  <a name="1018761"> </a>Lines and Rectangles
</h4>
<p class="Body">
  <a name="1018762"> </a>When drawing lines and rectangles with the standard coordinate system on a double-density screen, the primitives are drawn with improved resolution. This behavior prevents an inconsistent appearance when drawing to and from offscreen windows, and prevents unintended overlap and unintended gaps between primitives.
</p>
<p class="Body">
  <a name="1027534"> </a>As with other primitives, the Window Manager performs the conversion to the destination coordinate system before calling the blitter. This converts line coordinates as well as a rectangle's <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">topLeft</span> and <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">extent</span> fields.
</p>
<p class="Body">
  <a name="1027535"> </a>The diagram on the left in <a href="UserInterface.html#1026442">Figure 4.1</a> results from drawing a diagonal line from (2,1) to (6,3) in the screen's standard coordinate system. The diagram on the right shows the same line drawn in the screen's native coordinate system with the following code:
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
WinPushDrawState();<a name="1018768"> </a>
oldScale = WinSetCoordinateSystem(kCoordinatesNative);<a name="1018769"> </a>
WinDrawLine(2, 1, 6, 3);  // x1, y1, x2, y2<a name="1018770"> </a>
WinPopDrawState();<a name="1018771"> </a>
</pre><div class="CodeRule"><hr></div>
<div class="NINoteImportant"><hr>
  <a name="1028531"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">NOTE:  </span> In these illustrations, the top-left grid coordinate is the screen origin (0,0) on a double-density screen. 
<hr>
</div>

<p class="FFigureCaption">
  <a name="1026442"> </a>Figure 4.1	 A diagonal line drawn using the standard coordinate system (left) and the native coordinate system (right)
</p>
<p class="FgFigure">
  <a name="1026469"> </a><div align="left"><img src="images/UserInterface35.gif" height="157" width="360" border="0" hspace="20" vspace="0">
</div>
</p>
<p class="Body">
  <a name="1028452"> </a>The result of drawing a rectangle with a <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">topLeft</span> of (1,1) and an <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">extent</span> of (4,4) when using the standard and native coordinate systems on a double-density screen is shown in <a href="UserInterface.html#1018793">Figure 4.2</a>.
</p>

<p class="FFigureCaption">
  <a name="1018793"> </a>Figure 4.2	 A rectangle drawn using the standard coordinate system (left) and the native coordinate system (right)
</p>
<p class="FgFigure">
  <a name="1018797"> </a><div align="left"><img src="images/UserInterface41.gif" height="155" width="360" border="0" hspace="20" vspace="0">
</div>
</p>
<p class="Body">
  <a name="1018808"> </a>A rounded rectangle would be pixel-doubled in a similar fashion when drawn using the standard coordinate system on a double-density screen. In double-density mode, the rounded corners are drawn in the native double-density coordinates, resulting in more detailed corners.
</p>

<h4 class="HCHeadC">
  <a name="1018809"> </a>Patterns
</h4>
<p class="Body">
  <a name="1018810"> </a>In prior versions of the Palm OS, patterns are 8 by 8 bits, and are 1 bit deep. To support high-density patterns, a new Window Manager function, <a href="Window.html#1221875"><span style="font-family: monospace">WinPaintTiledBitmap</span></a>, gives applications the ability to fill a rectangle with an arbitrary pattern defined in a bitmap argument.
</p>
<p class="Body">
  <a name="1018814"> </a>Patterns are expanded to the destination bit depth by the blitter when drawing patterned lines and filled rectangles. The blitter uses the density fields in the pattern's source bitmap and the destination bitmap so that the pattern is drawn using the appropriate density. This makes it possible for an application to define both low-density and high-density patterns.
</p>
<p class="Body">
  <a name="1018818"> </a>To supplement the standard <a href="Window.html#1195593"><span style="font-family: monospace">PatternType</span></a> <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">grayPattern</span>, the High-Density Display feature set defines two additional gray patterns: <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">lightGrayPattern</span> and <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">darkGrayPattern</span>. These patterns are shown in <a href="UserInterface.html#1018826">Figure 4.3</a> and <a href="UserInterface.html#1018832">Figure 4.4</a>, respectively.
</p>

<p class="FFigureCaption">
  <a name="1018826"> </a>Figure 4.3	 lightGrayPattern
</p>
<p class="FgFigure">
  <a name="1018830"> </a><div align="left"><img src="images/LightGrayPattern.gif" border="0" hspace="20" vspace="0">
</div>
</p>

<p class="FFigureCaption">
  <a name="1018832"> </a>Figure 4.4	 darkGrayPattern
</p>
<p class="FgFigure">
  <a name="1018836"> </a><div align="left"><img src="images/DarkGrayPattern.gif" border="0" hspace="20" vspace="0">
</div>
</p>
<p class="Body">
  <a name="1018837"> </a>These three standard gray patterns are always drawn by the blitter using the screen density, improving the appearance of gray fills. Custom 8 by 8 patterns, however, are stretched as appropriate by the blitter based on the ratio of the destination density and <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">kDensityLow</span>.
</p>

<h2 class="HaHeadA">
  <a name="980406"> </a>Forms, Windows, and Dialogs 
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="980413"> </a>A form is the GUI area for each view of your application. For example the Address Book offers an Address List view, Address Edit view, and so on. Each application has to have one form, and most applications have more than one. To actually create the view, you have to add other UI elements to the form; either by dragging them onto the form from the catalog or by providing their ID as the value of some of the form's fields. 
</p>
<p class="Body">
  <a name="980417"> </a><a href="UserInterface.html#980419">Figure 4.5</a> shows an example of a form. Typical forms are as large as the screen, as shown here. Other forms are modal dialogs, which are shorter than the screen but just as wide. 
</p>

<p class="FFigureCaption">
  <a name="980419"> </a>Figure 4.5	 Form
</p>
<p class="FgFigure">
  <a name="980423"> </a><div align="left"><img src="images/Lista.gif" border="0" hspace="20" vspace="0">
</div>
</p>
<p class="Body">
  <a name="980425"> </a>A window defines a drawing region. This region may be on the display or in a memory buffer (an off-screen window). Off-screen windows are useful for saving and restoring regions of the display that are obscured by other UI objects. All forms are windows, but not all windows are forms. 
</p>
<p class="Body">
  <a name="980427"> </a>The window object is the portion of the form object that determines how the form's window looks and behaves. A window object contains viewing coordinates of the window and clipping bounds.
</p>
<p class="Body">
  <a name="980433"> </a>When a form is opened, a <a href="EventRef.html#972473"><span style="font-family: monospace">frmOpenEvent</span></a> is triggered and the form's ID is stored. A <a href="EventRef.html#973541"><span style="font-family: monospace">winExitEvent</span></a> is triggered whenever a form is closed, and a <a href="EventRef.html#973500"><span style="font-family: monospace">winEnterEvent</span></a> is triggered whenever a form is drawn.
</p>
<p class="Body">
  <a name="980442"> </a>The following sections describe special types of forms: 
</p>

  <a name="980446"> </a><p class="B1Bullet"> &#8226; <a href="UserInterface.html#980456">Alert Dialogs</a></p>

  <a name="980450"> </a><p class="B1Bullet"> &#8226; <a href="UserInterface.html#980498">Progress Dialogs</a></p>

  <a name="980454"> </a><p class="B1Bullet"> &#8226; <a href="UserInterface.html#980546">The Keyboard Dialog</a></p>

<h2 class="HBHeadB">
  <a name="980456"> </a>Alert Dialogs
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="980460"> </a>If you want to display an alert dialog (see <a href="UserInterface.html#980473">Figure 4.6</a>) or prompt the user for a response to a question, use the alert manager. The alert manager defines the following functions: 
</p>

  <a name="980466"> </a><p class="B1Bullet"> &#8226; <a href="Form.html#1022328"><span style="font-family: monospace">FrmAlert</span></a> </p>

  <a name="980471"> </a><p class="B1Bullet"> &#8226; <a href="Form.html#1022443"><span style="font-family: monospace">FrmCustomAlert</span></a> </p>

<p class="FFigureCaption">
  <a name="980473"> </a>Figure 4.6	 Alert dialog
</p>
<p class="FgFigure">
  <a name="980477"> </a><div align="left"><img src="images/alert.gif" border="0" hspace="20" vspace="0">
</div>
</p>
<p class="Body">
  <a name="980478"> </a>Given a resource ID that defines an alert, the alert manager creates and displays a modal dialog box. When the user taps one of the buttons in the dialog, the alert manager disposes of the dialog box and returns to the caller the item number of the button the user tapped.
</p>
<p class="Body">
  <a name="980480"> </a>There are four types of system-defined alerts: 
</p>

  <a name="980481"> </a><p class="B1Bullet"> &#8226; Question</p>

  <a name="980482"> </a><p class="B1Bullet"> &#8226; Warning</p>

  <a name="980483"> </a><p class="B1Bullet"> &#8226; Notification</p>

  <a name="980484"> </a><p class="B1Bullet"> &#8226; Error</p>
<p class="Body">
  <a name="980485"> </a>The alert type determines which icon is drawn in the alert window and which sound plays when the alert is displayed. 
</p>
<p class="Body">
  <a name="980486"> </a>When the alert manager is invoked, it's passed an alert resource that contains the following information:
</p>

  <a name="980493"> </a><p class="B1Bullet"> &#8226; The rectangle that specifies the size and position of the alert window</p>

  <a name="980494"> </a><p class="B1Bullet"> &#8226; The alert type (question, warning, notification, or error)</p>

  <a name="980495"> </a><p class="B1Bullet"> &#8226; The null-terminated text string; that is, the message the alert displays</p>

  <a name="980496"> </a><p class="B1Bullet"> &#8226; The text labels for one or more buttons</p>

<h2 class="HBHeadB">
  <a name="980498"> </a>Progress Dialogs
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="980500"> </a>If your application performs a lengthy process, such as data transfer during a communications session, consider displaying a progress dialog to inform the user of the status of the process. The Progress Manager provides the mechanism to display progress dialogs. 
</p>
<p class="Body">
  <a name="980506"> </a>You display a progress dialog by calling <a href="ProgressManager.html#1054893"><span style="font-family: monospace">PrgStartDialog</span></a>. Then, as your process progresses, you call <a href="ProgressManager.html#1055019"><span style="font-family: monospace">PrgUpdateDialog</span></a> to update the dialog with new information for the user. In your event loop you call <a href="ProgressManager.html#1054835"><span style="font-family: monospace">PrgHandleEvent</span></a> to handle the progress dialog update events queued by <span style="font-family: monospace">PrgUpdateDialog</span>. The <span style="font-family: monospace">PrgHandleEvent</span> function makes a callback to a <span style="font-family: monospace">textCallback</span> function that you supply to get the latest progress information.
</p>
<p class="Body">
  <a name="980515"> </a>Note that whatever operation you are doing that is the lengthy process, you do the work inside your normal event loop, not in the callback function. That is, you call <a href="SystemEventManager.html#1161014"><span style="font-family: monospace">EvtGetEvent</span></a> and do work when you get a <a href="EventRef.html#973028"><span style="font-family: monospace">nilEvent</span></a>. Each time you get a <span style="font-family: monospace">nilEvent</span>, do a chunk of work, but be sure to continue to call <span style="font-family: monospace">EvtGetEvent</span> frequently (like every half second), so that pen taps and other events get noticed quickly enough.
</p>
<p class="Body">
  <a name="980524"> </a>The dialog can display a few lines of text that are automatically centered and formatted. You can also specify an icon that identifies the operation in progress. The dialog has one optional button that can be a cancel or an OK button. The type of the button is automatically controlled by the Progress Manager and depends on the current progress state (no error, error, or user canceled operation).
</p>

<h4 class="HCHeadC">
  <a name="980527"> </a>Progress textCallback Function
</h4>
<p class="Body">
  <a name="980528"> </a>When you want to update the progress dialog with new information, you call the function <span style="font-family: monospace">PrgUpdateDialog</span>. To get the current progress information to display in the progress dialog, <span style="font-family: monospace">PrgHandleEvent</span> makes a callback to a function, <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">textCallback</span>, that you supplied in your call to <a href="ProgressManager.html#1054893"><span style="font-family: monospace">PrgStartDialog</span></a>.
</p>
<p class="Body">
  <a name="980533"> </a>The system passes the <span style="font-family: monospace">textCallback</span> function one parameter, a pointer to a <span style="font-family: monospace">PrgCallbackData</span> structure. To learn what type of information is passed in this structure, see the chapter <a href="ProgressManager.html#1054813">"Progress Manager"</a> in the <i>Palm OS Programmer's API Reference</i>. 
</p>
<p class="Body">
  <a name="980540"> </a>Your <span style="font-family: monospace">textCallback</span> function should return a Boolean. Return <span style="font-family: monospace">true</span> if the progress dialog should be updated using the values you specified in the <span style="font-family: monospace">PrgCallbackData</span> structure. If you specify <span style="font-family: monospace">false</span>, the dialog is still updated, but with default status messages. (Returning <span style="font-family: monospace">false</span> is not recommended.)
</p>
<p class="Body">
  <a name="980541"> </a>In the <span style="font-family: monospace">textCallback</span> function, you should set the value of the <span style="font-family: monospace">textP</span> buffer to the string you want to display in the progress dialog when it is updated. You can use the value in the <span style="font-family: monospace">stage</span> field to look up a message in a string resource. You also might want to append the text in the <span style="font-family: monospace">message</span> field to your base string. Typically, the <span style="font-family: monospace">message</span> field would contain more dynamic information that depends on a user selection, such as a phone number, device name, or network identifier, etc.
</p>
<p class="Body">
  <a name="980542"> </a>For example, the <span style="font-family: monospace">PrgUpdateDialog</span> function might have been called with a <span style="font-family: monospace">stage</span> of 1 and a <span style="font-family: monospace">messageP</span> parameter value of a phone number string, "555-1212". Based on the stage, you might find the string "Dialing" in a string resource, and append the phone number, to form the final text "Dialing 555-1212" that you place in the text buffer <span style="font-family: monospace">textP</span>.
</p>
<p class="Body">
  <a name="980543"> </a>Keeping the static strings corresponding to various stages in a resource makes it easier to localize your application. More dynamic information can be passed in via the <span style="font-family: monospace">messageP</span> parameter to <span style="font-family: monospace">PrgUpdateDialog</span>.
</p>
<div class="NINoteImportant"><hr>
  <a name="980544"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">NOTE:  </span> The <span style="font-family: monospace">textCallback</span> function is called only if the parameters passed to <span style="font-family: monospace">PrgUpdateDialog</span> have changed from the last time it was called. If <span style="font-family: monospace">PrgUpdateDialog</span> is called twice with exactly the same parameters, the <span style="font-family: monospace">textCallback</span> function is called only once. 
<hr>
</div>

<h2 class="HBHeadB">
  <a name="980546"> </a>The Keyboard Dialog
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="980547"> </a>The keyboard dialog is an onscreen keyboard on which the user taps to input information into a text field. When the insertion point is in a text field, the user can open the onscreen keyboard by tapping on the silk-screen letters ("abc" or "123") in the lower corners of the input area. The keyboard dialog appears:
</p>

<p class="FFigureCaption">
  <a name="980548"> </a>Figure 4.7	 The Keyboard Dialog
</p>
<p class="FgFigure">
  <a name="980569"> </a><div align="left"><img src="images/UserInterface23.gif" height="194" width="480" border="0" hspace="20" vspace="0">
</div>
</p>
<p class="Body">
  <a name="980570"> </a>The keyboard dialog's text field contains the full text of the original field, with the insertion point in the same position as in the original field. Users can start inserting and deleting characters immediately, or they can scroll up or down and then insert and delete. When one of the software keys is tapped, the corresponding character is inserted in the text field of the keyboard dialog.
</p>
<p class="Body">
  <a name="980571"> </a>As the user taps, the keyboard dialog code captures pen events, maps them to characters, and posts <span style="font-family: monospace">keyDownEvents</span>. The text field in the keyboard dialog handles each <a href="EventRef.html#972716"><span style="font-family: monospace">keyDownEvent</span></a>, displaying the character onscreen and inserting it into the memory chunk associated with the field. Since the keyboard dialog has its own event loop, you cannot handle the key events yourself. If you need to capture the key events, you should consider creating a custom version of the onscreen keyboard dialog, as outlined in <a href="UserInterface.html#980640">"Creating a Custom Keyboard Layout."</a>
</p>
<p class="Body">
  <a name="980578"> </a>The keyboard code edits the text string of the original field in-place. Each field has a text handle that points to the memory chunk containing the text string for the field. When the keyboard dialog is opened, the association between the text handle and the original field is removed. The text handle is then assigned to the text field of the keyboard dialog and edited according to user input. When the keyboard dialog is closed, the text handle is reassigned to the original field. 
</p>
<p class="Body">
  <a name="980582"> </a>For details on how <a href="Field.html#999020"><span style="font-family: monospace">FldHandleEvent</span></a> manipulates the memory chunk that holds a field's text string, see <a href="Field.html#997879">Chapter 9, "Fields,"</a> in the <i>Palm OS Programmer's API Reference</i>. Read about the <a href="Field.html#998843"><span style="font-family: monospace">FldGetTextHandle</span></a> and <a href="Field.html#999736"><span style="font-family: monospace">FldSetText</span></a> functions. 
</p>

<h4 class="HCHeadC">
  <a name="980595"> </a>Opening the Keyboard Dialog Programmatically
</h4>
<p class="Body">
  <a name="980596"> </a>In most applications, the keyboard dialog appears only when explicitly opened by the user. There are occasions, however, when you may wish to force the user to input characters via the onscreen keyboard. For example, the service activation application shipped with all Palm VIIs displays the keyboard dialog automatically. Palm made this choice because the activation application must be usable by completely new Palm users, who may not know how to write Graffiti<sup>®</sup> or Graffiti 2 or open the keyboard dialog themselves. Other reasons for imposing the keyboard dialog include accurate input of passwords or account numbers.
</p>
<p class="Body">
  <a name="980597"> </a>To display the keyboard dialog programmatically, use one of the following functions:
</p>

  <a name="980601"> </a><p class="B1Bullet"> &#8226; <a href="SystemManager.html#1166115"><span style="font-family: monospace">SysKeyboardDialog</span></a></p>

  <a name="980605"> </a><p class="B1Bullet"> &#8226; <a href="SystemManager.html#1166141"><span style="font-family: monospace">SysKeyboardDialogV10</span></a></p>
<p class="Body">
  <a name="980606"> </a>Normally, use <span style="font-family: monospace">SysKeyboardDialog</span> only. <span style="font-family: monospace">SysKeyboardDialogV10</span> is for compatibility with Palm OS 1.0.
</p>
<p class="Body">
  <a name="980607"> </a>See <span style="font-family: monospace">Keyboard.h</span> for the function prototypes and the <span style="font-family: monospace">KeyboardType</span> they use. Note that the rest of the functions listed in <span style="font-family: monospace">Keyboard.h</span> are for system use only and do not form part of the Palm OS API.
</p>

<h4 class="HCHeadC">
  <a name="980608"> </a>Keyboard Layouts
</h4>
<p class="Body">
  <a name="980609"> </a>The keyboard dialog has three views, one for each of the pre-defined layouts: the English alphabet, numerals and punctuation, and Latin characters with diacritic marks. The default is the English alphabet. To display a particular layout, call the <span style="font-family: monospace">SysKeyboardDialog</span> function and pass it one of the following constants, which are defined in an enumeration named <span style="font-family: monospace">KeyboardType</span>:
</p>

<h5 class="TgTable">
  <a name="980638"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption><a name="980615"> </a><div class="TableTitle">Table 4.4  Constants defined in KeyboardType  </div></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="980619"> </a><div class="CellHeading">Constant</div></th>
    <th><a name="980621"> </a><div class="CellHeading">Character Set</div></th>
  </tr>
  <tr valign="top">
    <td><a name="980623"> </a><div class="CellBody"><span style="font-family: monospace">kbdAlpha</span> </div></td>
    <td><a name="980625"> </a><div class="CellBody">The English language character set.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="980627"> </a><div class="CellBody"><span style="font-family: monospace">kbdNumbersAndPunc</span> </div></td>
    <td><a name="980629"> </a><div class="CellBody">A set containing numbers and some advanced punctuation.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="980631"> </a><div class="CellBody"><span style="font-family: monospace">kbdAccent</span> </div></td>
    <td><a name="980633"> </a><div class="CellBody">The International character set, made up of Latin characters with diacritic marks.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="980635"> </a><div class="CellBody"><span style="font-family: monospace">kbdDefault</span> </div></td>
    <td><a name="980637"> </a><div class="CellBody">The value of <span style="font-family: monospace">kbdDefault</span> is the same as <span style="font-family: monospace">kdbAlpha</span> and cannot be changed.</div></td>
  </tr>
</table>




</h5>
<h4 class="HCHeadC">
  <a name="980640"> </a>Creating a Custom Keyboard Layout
</h4>
<p class="Body">
  <a name="980641"> </a>You cannot add an extra keyboard layout or modify an existing one. You can, however, create your own keyboard dialog module that implements the functionality outlined below. 
</p>
<p class="Body">
  <a name="980645"> </a>First, your application should intercept the <a href="EventRef.html#972716"><span style="font-family: monospace">keyDownEvent</span></a> generated when the user taps the "abc" or "123" letters in the input area. Create a custom keyboard dialog loader routine to handle it. Your keyboard code should then do the following: 
</p>

  <a name="980646"> </a><p class="B1Bullet"> &#8226; Get the text handle of the original field and save it in a variable. Use <a href="Field.html#998843"><span style="font-family: monospace">FldGetTextHandle</span></a>.</p>

  <a name="980650"> </a><p class="B1Bullet"> &#8226; Remove the association between the text handle and the original field. Use <a href="Field.html#999807"><span style="font-family: monospace">FldSetTextHandle</span></a> or <a href="Field.html#999736"><span style="font-family: monospace">FldSetText</span></a>, passing <span style="font-family: monospace">NULL</span> as the second argument.</p>

  <a name="980657"> </a><p class="B1Bullet"> &#8226; Assign the text handle to the text field of the keyboard dialog.</p>

  <a name="980658"> </a><p class="B1Bullet"> &#8226; Define a Keyboard event handler that:</p>
  <a name="980659"> </a><p class="B2BulletSub"> -	 captures pen events in your onscreen keyboard region, which may be a bitmap of a keyboard or may consist of individual push buttons,</p>  <a name="980660"> </a><p class="B2BulletSub"> -	 maps pen events to characters, </p>  <a name="980661"> </a><p class="B2BulletSub"> -	 creates <span style="font-family: monospace">keyDownEvents</span> and posts them to the event queue so that the dialog's text field can automatically handle them and insert them in its text chunk. </p>
  <a name="980662"> </a><p class="B1Bullet"> &#8226; When the dialog is closed, remove the association between the text handle and keyboard's field, and then re-assign the text handle to the original text field.</p>
<p class="Body">
  <a name="980663"> </a>Finally, if you wish more than one layout, your custom keyboard dialog must contain a button to open each layout.
</p>

<h2 class="HBHeadB">
  <a name="1018534"> </a>Offscreen Windows
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1030695"> </a>Offscreen windows are generally used for one of two reasons: to do offscreen drawing (for double-buffering, smooth animations, or to reduce flicker) or so that the application can capture or import graphics.
</p>
<p class="Body">
  <a name="1018538"> </a><a href="Window.html#1196160"><span style="font-family: monospace">WinCreateOffscreenWindow</span></a> allocates a bitmap for the offscreen window. Unless you specify a format of <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">nativeFormat</span>, the offscreen window's bitmap is always low density. This allows applications that expect low-density bitmaps, and that directly manipulate bitmap data, to still function as expected. If you call <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">WinCreateOffscreenWindow</span> and specify a format of <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">nativeFormat</span>, <i>do not access the data in the offscreen window's bitmap directly</i>: the format of bitmaps created by Palm OS can change from release to release, from device to device, and may even differ on a single device depending on the screen depth or compatibility mode.
</p>
<p class="Body">
  <a name="1018539"> </a>Functions that return window dimensions-such as <a href="Window.html#1198532"><span style="font-family: monospace">WinScreenMode</span></a>, <a href="Window.html#1197180"><span style="font-family: monospace">WinGetBounds</span></a>, and <a href="Window.html#1197304"><span style="font-family: monospace">WinGetDrawWindowBounds</span></a>-use the window's scaling factor to return coordinates in terms of the active coordinate system. This ensures that the window has the expected dimensions and that graphic primitives have coordinates expected by the application.
</p>
<p class="Body">
  <a name="1018540"> </a><a href="Window.html#1196103"><span style="font-family: monospace">WinCreateBitmapWindow</span></a> gives you the ability to allocate a high-density bitmap for an offscreen window. Use <a href="Bitmap.html#1089658"><span style="font-family: monospace">BmpCreate</span></a> and <a href="Bitmap.html#1097724"><span style="font-family: monospace">BmpSetDensity</span></a> to allocate a high-density bitmap, then associate it with a window by calling <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">WinCreateBitmapWindow</span>.
</p>

<h2 class="HaHeadA">
  <a name="980665"> </a>Controls 
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="980666"> </a>Control objects allow for user interaction when you add them to the forms in your application. Events in control objects are handled by <a href="Control.html#989574"><span style="font-family: monospace">CtlHandleEvent</span></a>. There are several types of control objects, which are all described in this section.
</p>
<div class="NINoteImportant"><hr>
  <a name="980672"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">NOTE:  </span> Palm OS 3.5 and later support graphical controls for all control types other than check box. Graphical controls behave the same as their non-graphical counterparts, but they display a bitmap instead of a text label. On releases prior to Palm OS 3.5, you can create a graphical control by setting the text label to the empty string and placing the control on top of a bitmap. 
<hr>
</div>

<h2 class="HBHeadB">
  <a name="980673"> </a>Buttons
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="980677"> </a>Buttons (see <a href="UserInterface.html#980686">Figure 4.8</a>) display a text or graphic label in a box. The default style for a button is a text string centered within a rounded rectangle. Buttons have rounded corners unless a rectangular frame is specified. A button without a frame inverts a rectangular region when pressed.
</p>
<p class="Body">
  <a name="980680"> </a>When the user taps a button with the pen, the button highlights until the user releases the pen or drags it outside the bounds of the button.
</p>
<p class="Body">
  <a name="980684"> </a><a href="UserInterface.html#980697">Table 4.5</a> shows the system events generated when the user interacts with the button and <span style="font-family: monospace">CtlHandleEvent</span>'s response to the events. 
</p>

<p class="FFigureCaption">
  <a name="980686"> </a>Figure 4.8	 Buttons
</p>
<p class="FgFigure">
  <a name="980690"> </a><div align="left"><img src="images/buttons.gif" border="0" hspace="20" vspace="0">
</div>
</p>

<h5 class="TgTable">
  <a name="980755"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption><a name="980697"> </a><div class="TableTitle">Table 4.5  Event flow for buttons </div></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="980703"> </a><div class="CellHeading">User Action</div></th>
    <th><a name="980705"> </a><div class="CellHeading">System Response</div></th>
    <th><a name="980707"> </a><div class="CellHeading">CtlHandleEvent Response</div></th>
  </tr>
  <tr valign="top">
    <td><a name="980709"> </a><div class="CellBody">Pen goes down on a button.</div></td>
    <td><a name="980715"> </a><div class="CellBody"><a href="EventRef.html#973039"><span style="font-family: monospace">penDownEvent</span></a> with the x and y coordinates stored in <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>. </div></td>
    <td><a name="980717"> </a><div class="CellBody">Adds the <span style="font-family: monospace">ctlEnterEvent</span> to the event queue. </div><a name="980718"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="980720"> </a><div class="CellBody"><br></div></td>
    <td><a name="980726"> </a><div class="CellBody"><a href="EventRef.html#971981"><span style="font-family: monospace">ctlEnterEvent</span></a> with button's ID number. </div></td>
    <td><a name="980728"> </a><div class="CellBody">Inverts the button's display.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="980730"> </a><div class="CellBody">Pen is lifted from button.</div></td>
    <td><a name="980736"> </a><div class="CellBody"><a href="EventRef.html#973088"><span style="font-family: monospace">penUpEvent</span></a> with the x and y coordinates stored in <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>.</div></td>
    <td><a name="980741"> </a><div class="CellBody">Adds the <a href="EventRef.html#972101"><span style="font-family: monospace">ctlSelectEvent</span></a> to the event queue. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="980743"> </a><div class="CellBody">Pen is lifted outside button.</div></td>
    <td><a name="980749"> </a><div class="CellBody"><a href="EventRef.html#973088"><span style="font-family: monospace">penUpEvent</span></a> with the x and y coordinates stored in <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>.</div></td>
    <td><a name="980754"> </a><div class="CellBody">Adds the <a href="EventRef.html#972013"><span style="font-family: monospace">ctlExitEvent</span></a> to the event queue. </div></td>
  </tr>
</table>




</h5>
<h2 class="HBHeadB">
  <a name="980756"> </a>Pop-Up Trigger
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="980761"> </a>A<b> </b>pop-up trigger (see <a href="UserInterface.html#980770">Figure 4.9</a>) displays a text label and a graphic element (always on the left) that signifies the control initiates a pop-up list. If the text label changes, the width of the control expands or contracts to the width of the new label plus the graphic element. 
</p>
<p class="Body">
  <a name="980765"> </a><a href="UserInterface.html#980781">Table 4.6</a> shows the system events generated when the user interacts with the pop-up trigger and <span style="font-family: monospace">CtlHandleEvent</span>'s response to the events. Because pop-up triggers are used to display list objects, also see the section <a href="UserInterface.html#981900">"Lists"</a> in this chapter. 
</p>

<p class="FFigureCaption">
  <a name="980770"> </a>Figure 4.9	 Pop-up trigger
</p>
<p class="FgFigure">
  <a name="980774"> </a><div align="left"><img src="images/popup.gif" border="0" hspace="20" vspace="0">
</div>
</p>

<h5 class="TgTable">
  <a name="980859"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption><a name="980781"> </a><div class="TableTitle">Table 4.6  Event flow for pop-up triggers </div></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="980787"> </a><div class="CellHeading">User Action</div></th>
    <th><a name="980789"> </a><div class="CellHeading">System Response</div></th>
    <th><a name="980791"> </a><div class="CellHeading">CtlHandleEvent Response</div></th>
  </tr>
  <tr valign="top">
    <td><a name="980793"> </a><div class="CellBody">Pen goes down on the pop-up trigger.</div></td>
    <td><a name="980799"> </a><div class="CellBody"><a href="EventRef.html#973039"><span style="font-family: monospace">penDownEvent</span></a> with the x and y coordinates stored in <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>. </div></td>
    <td><a name="980801"> </a><div class="CellBody">Adds the <span style="font-family: monospace">ctlEnterEvent</span> to the event queue. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="980804"> </a><div class="CellBody"><br></div></td>
    <td><a name="980810"> </a><div class="CellBody"><a href="EventRef.html#971981"><span style="font-family: monospace">ctlEnterEvent</span></a> with pop-up trigger's ID number. </div></td>
    <td><a name="980812"> </a><div class="CellBody">Inverts the trigger's display.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="980814"> </a><div class="CellBody">Pen is lifted from button.</div></td>
    <td><a name="980820"> </a><div class="CellBody"><a href="EventRef.html#973088"><span style="font-family: monospace">penUpEvent</span></a> with the x and y coordinates stored in <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>.</div></td>
    <td><a name="980822"> </a><div class="CellBody">Adds the <span style="font-family: monospace">ctlSelectEvent</span> to the event queue. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="980824"> </a><div class="CellBody"><br></div></td>
    <td><a name="980830"> </a><div class="CellBody"><a href="EventRef.html#972101"><span style="font-family: monospace">ctlSelectEvent</span></a> with pop-up trigger's ID number. </div></td>
    <td><a name="980836"> </a><div class="CellBody">Adds a <a href="EventRef.html#973500"><span style="font-family: monospace">winEnterEvent</span></a> for the list object's window to the event queue. Control passes to <a href="Form.html#1023306"><span style="font-family: monospace">FrmHandleEvent</span></a>, which displays the list and adds a <a href="EventRef.html#973127"><span style="font-family: monospace">popSelectEvent</span></a> to the event queue. Control then passes to <a href="List.html#1043023"><span style="font-family: monospace">LstHandleEvent</span></a>. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="980847"> </a><div class="CellBody">Pen is lifted outside button.</div></td>
    <td><a name="980853"> </a><div class="CellBody"><a href="EventRef.html#973088"><span style="font-family: monospace">penUpEvent</span></a> with the x and y coordinates stored in <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>.</div></td>
    <td><a name="980858"> </a><div class="CellBody">Adds the <a href="EventRef.html#972013"><span style="font-family: monospace">ctlExitEvent</span></a> to the event queue. </div></td>
  </tr>
</table>




</h5><div class="NINoteImportant"><hr>
  <a name="980860"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">TIP:  </span> To create a pop-up list in Constructor for Palm OS, add a pop-up trigger to your form, then add a list at the same coordinates, uncheck the usable check box in the list resource settings, and then set the List ID in the pop-up trigger to match the ID of the list resource. 
<hr>
</div>

<h2 class="HBHeadB">
  <a name="980861"> </a>Selector Trigger
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="980866"> </a>A selector trigger (see <a href="UserInterface.html#980872">Figure 4.10</a>) displays a text label surrounded by a gray rectangular frame. If the text label changes, the width of the control expands or contracts to the width of the new label.
</p>
<p class="Body">
  <a name="980870"> </a><a href="UserInterface.html#980883">Table 4.7</a> shows the system events generated when the user interacts with the selector trigger and <span style="font-family: monospace">CtlHandleEvent</span>'s response to the events. 
</p>

<p class="FFigureCaption">
  <a name="980872"> </a>Figure 4.10	 Selector trigger
</p>
<p class="FgFigure">
  <a name="980876"> </a><div align="left"><img src="images/selector.gif" border="0" hspace="20" vspace="0">
</div>
</p>

<h5 class="TgTable">
  <a name="980943"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption><a name="980883"> </a><div class="TableTitle">Table 4.7  Event flow for selector triggers </div></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="980889"> </a><div class="CellHeading">User Action</div></th>
    <th><a name="980891"> </a><div class="CellHeading">System Response</div></th>
    <th><a name="980893"> </a><div class="CellHeading">CtlHandleEvent Response</div></th>
  </tr>
  <tr valign="top">
    <td><a name="980895"> </a><div class="CellBody">Pen goes down on a selector trigger.</div></td>
    <td><a name="980901"> </a><div class="CellBody"><a href="EventRef.html#973039"><span style="font-family: monospace">penDownEvent</span></a> with the x and y coordinates stored in <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>. </div></td>
    <td><a name="980903"> </a><div class="CellBody">Adds the <span style="font-family: monospace">ctlEnterEvent</span> to the event queue. </div><a name="980904"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="980906"> </a><div class="CellBody"><br></div></td>
    <td><a name="980912"> </a><div class="CellBody"><a href="EventRef.html#971981"><span style="font-family: monospace">ctlEnterEvent</span></a> with selector trigger's ID number. </div></td>
    <td><a name="980914"> </a><div class="CellBody">Inverts the button's display.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="980916"> </a><div class="CellBody">Pen is lifted from the selector trigger.</div></td>
    <td><a name="980922"> </a><div class="CellBody"><a href="EventRef.html#973088"><span style="font-family: monospace">penUpEvent</span></a> with the x and y coordinates stored in <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>.</div></td>
    <td><a name="980924"> </a><div class="CellBody">Adds the <span style="font-family: monospace">ctlSelectEvent</span> to the event queue. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="980926"> </a><div class="CellBody"><br></div></td>
    <td><a name="980932"> </a><div class="CellBody"><a href="EventRef.html#972101"><span style="font-family: monospace">ctlSelectEvent</span></a> with selector trigger's ID number. </div></td>
    <td><a name="980938"> </a><div class="CellBody">Adds a <a href="EventRef.html#972473"><span style="font-family: monospace">frmOpenEvent</span></a> followed by a <a href="EventRef.html#973541"><span style="font-family: monospace">winExitEvent</span></a> to the event queue. Control is passed to the form object. </div></td>
  </tr>
</table>




</h5>
<h2 class="HBHeadB">
  <a name="980944"> </a>Repeating Button
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="980946"> </a>A repeat control looks like a button. In contrast to buttons, however, users can repeatedly select repeat controls if they don't lift the pen when the control has been selected. The object is selected repeatedly until the pen is lifted.
</p>
<p class="Body">
  <a name="980950"> </a><a href="UserInterface.html#980957">Table 4.8</a> shows the system events generated when the user interacts with the repeating button and <span style="font-family: monospace">CtlHandleEvent</span>'s response to the events. 
</p>

<h5 class="TgTable">
  <a name="981029"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption><a name="980957"> </a><div class="TableTitle">Table 4.8  Event flow for repeating buttons </div></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="980963"> </a><div class="CellHeading">User Action</div></th>
    <th><a name="980965"> </a><div class="CellHeading">System Response</div></th>
    <th><a name="980967"> </a><div class="CellHeading">CtlHandleEvent Response</div></th>
  </tr>
  <tr valign="top">
    <td><a name="980969"> </a><div class="CellBody">Pen goes down on a repeating button.</div></td>
    <td><a name="980975"> </a><div class="CellBody"><a href="EventRef.html#973039"><span style="font-family: monospace">penDownEvent</span></a> with the x and y coordinates stored in <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>. </div></td>
    <td><a name="980977"> </a><div class="CellBody">Adds the <span style="font-family: monospace">ctlEnterEvent</span> to the event queue. </div><a name="980978"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="980980"> </a><div class="CellBody"><br></div></td>
    <td><a name="980986"> </a><div class="CellBody"><a href="EventRef.html#971981"><span style="font-family: monospace">ctlEnterEvent</span></a> with button's ID number. </div></td>
    <td><a name="980988"> </a><div class="CellBody">Adds the <span style="font-family: monospace">ctlRepeatEvent</span> to the event queue. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="980990"> </a><div class="CellBody">Pen remains on repeating button. </div></td>
    <td><a name="980996"> </a><div class="CellBody"><a href="EventRef.html#972051"><span style="font-family: monospace">ctlRepeatEvent</span></a> </div></td>
    <td><a name="980998"> </a><div class="CellBody">Tracks the pen for a period of time, then sends another <span style="font-family: monospace">ctlRepeatEvent</span> if the pen is still within the bounds of the control. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="981000"> </a><div class="CellBody">Pen is dragged off the repeating button.</div></td>
    <td><a name="981002"> </a><div class="CellBody"><br></div></td>
    <td><a name="981004"> </a><div class="CellBody">No <span style="font-family: monospace">ctlRepeatEvent</span> occurs. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="981006"> </a><div class="CellBody">Pen is dragged back onto the button. </div></td>
    <td><a name="981012"> </a><div class="CellBody"><a href="EventRef.html#972051"><span style="font-family: monospace">ctlRepeatEvent</span></a></div></td>
    <td><a name="981014"> </a><div class="CellBody">See above. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="981016"> </a><div class="CellBody">Pen is lifted from button.</div></td>
    <td><a name="981022"> </a><div class="CellBody"><a href="EventRef.html#973088"><span style="font-family: monospace">penUpEvent</span></a> with the x and y coordinates stored in <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>.</div></td>
    <td><a name="981028"> </a><div class="CellBody">Adds the <a href="EventRef.html#972013"><span style="font-family: monospace">ctlExitEvent</span></a> to the event queue. </div></td>
  </tr>
</table>




</h5>
<h2 class="HBHeadB">
  <a name="981030"> </a>Push Buttons
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="981034"> </a>Push buttons (see <a href="UserInterface.html#981041">Figure 4.11</a>) look like buttons, but the frame always has square corners. Touching a push button with the pen inverts the bounds. If the pen is released within the bounds, the button remains inverted. 
</p>
<p class="Body">
  <a name="981039"> </a><a href="UserInterface.html#981053">Table 4.9</a> shows the system events generated when the user interacts with the push button and <span style="font-family: monospace">CtlHandleEvent</span>'s response to the events. 
</p>

<p class="FFigureCaption">
  <a name="981041"> </a>Figure 4.11	 Push buttons
</p>
<p class="FgFigure">
  <a name="981045"> </a><div align="left"><img src="images/pushbuttons.gif" border="0" hspace="20" vspace="0">
</div>.
</p>

<h5 class="TgTable">
  <a name="981099"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption><a name="981053"> </a><div class="TableTitle">Table 4.9  Event flow for push buttons </div></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="981059"> </a><div class="CellHeading">User Action</div></th>
    <th><a name="981061"> </a><div class="CellHeading">System Response</div></th>
    <th><a name="981063"> </a><div class="CellHeading">CtlHandleEvent Response</div></th>
  </tr>
  <tr valign="top">
    <td><a name="981065"> </a><div class="CellBody">Pen goes down on a push button.</div></td>
    <td><a name="981071"> </a><div class="CellBody"><a href="EventRef.html#973039"><span style="font-family: monospace">penDownEvent</span></a> with the x and y coordinates stored in <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>. </div></td>
    <td><a name="981073"> </a><div class="CellBody">Adds the <span style="font-family: monospace">ctlEnterEvent</span> to the event queue. </div><a name="981074"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="981076"> </a><div class="CellBody"><br></div></td>
    <td><a name="981082"> </a><div class="CellBody"><a href="EventRef.html#971981"><span style="font-family: monospace">ctlEnterEvent</span></a> with push button's ID number. </div></td>
    <td><a name="981084"> </a><div class="CellBody">If push button is grouped and highlighted, no change. If push button is ungrouped and highlighted, it becomes unhighlighted. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="981086"> </a><div class="CellBody">Pen is lifted from push button.</div></td>
    <td><a name="981092"> </a><div class="CellBody"><a href="EventRef.html#973088"><span style="font-family: monospace">penUpEvent</span></a> with the x and y coordinates stored in <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>.</div></td>
    <td><a name="981098"> </a><div class="CellBody">Adds the <a href="EventRef.html#972101"><span style="font-family: monospace">ctlSelectEvent</span></a> to the event queue. </div></td>
  </tr>
</table>




</h5>
<h2 class="HBHeadB">
  <a name="981100"> </a>Check Boxes
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="981104"> </a>Check boxes (see <a href="UserInterface.html#981111">Figure 4.12</a>) display a setting, either on (checked) or off (unchecked). Touching a check box with the pen toggles the setting. The check box appears as a square, which contains a check mark if the check box's setting is on. A check box can have a text label attached to it; selecting the label also toggles the check box.
</p>
<p class="Body">
  <a name="981109"> </a><a href="UserInterface.html#981122">Table 4.10</a> shows the system events generated when the user interacts with the check box and <span style="font-family: monospace">CtlHandleEvent</span>'s response to the events. 
</p>

<p class="FFigureCaption">
  <a name="981111"> </a>Figure 4.12	 Check boxes
</p>
<p class="FgFigure">
  <a name="981115"> </a><div align="left"><img src="images/checkbox.gif" border="0" hspace="20" vspace="0">
</div>
</p>

<h5 class="TgTable">
  <a name="981183"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption><a name="981122"> </a><div class="TableTitle">Table 4.10  Event flow for check boxes </div></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="981128"> </a><div class="CellHeading">User Action</div></th>
    <th><a name="981130"> </a><div class="CellHeading">Event Generated</div></th>
    <th><a name="981132"> </a><div class="CellHeading">CtlHandleEvent Response</div></th>
  </tr>
  <tr valign="top">
    <td><a name="981134"> </a><div class="CellBody">Pen goes down on check box.</div></td>
    <td><a name="981140"> </a><div class="CellBody"><a href="EventRef.html#973039"><span style="font-family: monospace">penDownEvent</span></a> with the x and y coordinates stored in <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>. </div></td>
    <td><a name="981142"> </a><div class="CellBody">Adds the <span style="font-family: monospace">ctlEnterEvent</span> to the event queue. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="981144"> </a><div class="CellBody"><br></div></td>
    <td><a name="981150"> </a><div class="CellBody"><a href="EventRef.html#971981"><span style="font-family: monospace">ctlEnterEvent</span></a> with check box's ID number. </div></td>
    <td><a name="981152"> </a><div class="CellBody">Tracks the pen until the user lifts it. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="981154"> </a><div class="CellBody">Pen is lifted from check box.</div></td>
    <td><a name="981160"> </a><div class="CellBody"><a href="EventRef.html#973088"><span style="font-family: monospace">penUpEvent</span></a> with the x and y coordinates stored in <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>.</div></td>
    <td>
  <a name="981162"> </a><p class="B1Bullet"> &#8226; If the check box is unchecked, a check appears. </p>

  <a name="981163"> </a><p class="B1Bullet"> &#8226; If the check box is already checked and is grouped, there is no change in appearance.</p>

  <a name="981164"> </a><p class="B1Bullet"> &#8226; If the check box is already checked and is ungrouped, the check disappears. </p>
<p class="Body">
  <a name="981169"> </a>Adds the <a href="EventRef.html#972101"><span style="font-family: monospace">ctlSelectEvent</span></a> to the event queue. 
</p>
</td>
  </tr>
  <tr valign="top">
    <td><a name="981171"> </a><div class="CellBody">Pen is lifted outside box.</div></td>
    <td><a name="981177"> </a><div class="CellBody"><a href="EventRef.html#973088"><span style="font-family: monospace">penUpEvent</span></a> with the x and y coordinates stored in <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>.</div></td>
    <td><a name="981182"> </a><div class="CellBody">Adds the <a href="EventRef.html#972013"><span style="font-family: monospace">ctlExitEvent</span></a> to the event queue. </div></td>
  </tr>
</table>




</h5>
<h2 class="HBHeadB">
  <a name="981184"> </a>Sliders and Feedback Sliders
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="981188"> </a>Starting in Palm OS 3.5, slider controls (see <a href="UserInterface.html#981191">Figure 4.13</a>) are supported. Sliders represent a value that falls within a particular range. For example, a slider might represent a value that can be between 0 and 10. 
</p>

<p class="FFigureCaption">
  <a name="981191"> </a>Figure 4.13	 Slider 
</p>
<p class="FgFigure">
  <a name="981195"> </a><div align="left"><img src="images/Slider.gif" border="0" hspace="20" vspace="0">
</div>
</p>
<p class="Body">
  <a name="981196"> </a>There are four attributes that are unique to slider controls:
</p>

  <a name="981197"> </a><p class="B1Bullet"> &#8226; The minimum value the slider can represent</p>

  <a name="981198"> </a><p class="B1Bullet"> &#8226; The maximum value the slider can represent </p>

  <a name="981199"> </a><p class="B1Bullet"> &#8226; The current value </p>

  <a name="981200"> </a><p class="B1Bullet"> &#8226; The page jump value, or the amount by which the value is increased or decreased when the user clicks to the left or right of the slider thumb </p>
<p class="Body">
  <a name="981202"> </a>Palm OS supports two types of sliders: regular slider and feedback slider. Sliders and feedback sliders look alike but behave differently. Specifically, a regular slider control does not send events while the user is dragging its thumb. A feedback slider control sends an event each time the thumb moves one pixel, whether the pen has been lifted or not. 
</p>
<p class="Body">
  <a name="981206"> </a><a href="UserInterface.html#981213">Table 4.11</a> shows the system events generated when the user interfaces with a slider and how <span style="font-family: monospace">CtlHandleEvent</span> responds to the events. 
</p>

<h5 class="TgTable">
  <a name="981283"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption><a name="981213"> </a><div class="TableTitle">Table 4.11  Event flow for sliders </div></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="981219"> </a><div class="CellHeading">User Action</div></th>
    <th><a name="981221"> </a><div class="CellHeading">System Response</div></th>
    <th><a name="981223"> </a><div class="CellHeading">CtlHandleEvent Response</div></th>
  </tr>
  <tr valign="top">
    <td><a name="981225"> </a><div class="CellBody">Pen tap on slider's background. </div></td>
    <td><a name="981231"> </a><div class="CellBody"><a href="EventRef.html#973039"><span style="font-family: monospace">penDownEvent</span></a> with the x and y coordinates stored in <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>. </div></td>
    <td><a name="981233"> </a><div class="CellBody">Adds the <span style="font-family: monospace">ctlEnterEvent</span> to the event queue. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="981235"> </a><div class="CellBody"><br></div></td>
    <td><a name="981240"> </a><div class="CellBody"><a href="EventRef.html#971981"><span style="font-family: monospace">ctlEnterEvent</span></a> with slider's ID number. </div></td>
    <td><a name="981242"> </a><div class="CellBody">Adds or subtracts the slider's page jump value from its current value, and adds a <a href="EventRef.html#972101"><span style="font-family: monospace">ctlSelectEvent</span></a> with the new value to the event queue. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="981247"> </a><div class="CellBody">Pen goes down on the slider's thumb.</div></td>
    <td><a name="981253"> </a><div class="CellBody"><a href="EventRef.html#973039"><span style="font-family: monospace">penDownEvent</span></a> with the x and y coordinates stored in <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>. </div></td>
    <td><a name="981255"> </a><div class="CellBody">Adds the <span style="font-family: monospace">ctlEnterEvent</span> to the event queue. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="981257"> </a><div class="CellBody"><br></div></td>
    <td><a name="981260"> </a><div class="CellBody"><span style="font-family: monospace">ctlEnterEvent</span> with slider's ID number. </div></td>
    <td><a name="981262"> </a><div class="CellBody">Tracks the pen. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="981264"> </a><div class="CellBody">Pen drags slider's thumb to the left or right. </div></td>
    <td><a name="981266"> </a><div class="CellBody"><br></div></td>
    <td><a name="981268"> </a><div class="CellBody">Continues tracking the pen. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="981270"> </a><div class="CellBody">Pen is lifted from slider.</div></td>
    <td><a name="981276"> </a><div class="CellBody"><a href="EventRef.html#973088"><span style="font-family: monospace">penUpEvent</span></a> with the x and y coordinates stored in <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>.</div></td>
    <td><a name="981278"> </a><div class="CellBody">Adds the <span style="font-family: monospace">ctlSelectEvent</span> with the slider's ID number and new value if the coordinates are within the bounds of the slider. </div><p class="Body">
  <a name="981282"> </a>Adds the <a href="EventRef.html#972013"><span style="font-family: monospace">ctlExitEvent</span></a> if the coordinates are outside of the slider's bounds. 
</p>
</td>
  </tr>
</table>




</h5><p class="Body">
  <a name="981287"> </a><a href="UserInterface.html#981294">Table 4.12</a> shows the system events generated when the user interacts with a feedback slider and <span style="font-family: monospace">CtlHandleEvent</span>'s response to the events. 
</p>

<h5 class="TgTable">
  <a name="981390"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption><a name="981294"> </a><div class="TableTitle">Table 4.12  Event flow for feedback sliders </div></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="981300"> </a><div class="CellHeading">User Action</div></th>
    <th><a name="981302"> </a><div class="CellHeading">System Response</div></th>
    <th><a name="981304"> </a><div class="CellHeading">CtlHandleEvent Response</div></th>
  </tr>
  <tr valign="top">
    <td><a name="981306"> </a><div class="CellBody">Pen tap on slider's background. </div></td>
    <td><a name="981312"> </a><div class="CellBody"><a href="EventRef.html#973039"><span style="font-family: monospace">penDownEvent</span></a> with the x and y coordinates stored in <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>. </div></td>
    <td><a name="981314"> </a><div class="CellBody">Adds the <span style="font-family: monospace">ctlEnterEvent</span> to the event queue. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="981316"> </a><div class="CellBody"><br></div></td>
    <td><a name="981321"> </a><div class="CellBody"><a href="EventRef.html#971981"><span style="font-family: monospace">ctlEnterEvent</span></a> with slider's ID number. </div></td>
    <td><a name="981323"> </a><div class="CellBody">Adds or subtracts the slider's page jump value from its current value and then sends a <span style="font-family: monospace">ctlRepeatEvent</span> with the slider's new value. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="981325"> </a><div class="CellBody"><br></div></td>
    <td><a name="981330"> </a><div class="CellBody"><a href="EventRef.html#972051"><span style="font-family: monospace">ctlRepeatEvent</span></a> </div></td>
    <td><a name="981332"> </a><div class="CellBody">Adds or subtracts the slider's page jump value from its current value repeatedly until the thumb reaches the pen position or the slider's minimum or maximum. Then sends a <a href="EventRef.html#972101"><span style="font-family: monospace">ctlSelectEvent</span></a> with slider's ID number and new value. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="981338"> </a><div class="CellBody">Pen goes down on the slider's thumb.</div></td>
    <td><a name="981344"> </a><div class="CellBody"><a href="EventRef.html#973039"><span style="font-family: monospace">penDownEvent</span></a> with the x and y coordinates stored in <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>. </div></td>
    <td><a name="981346"> </a><div class="CellBody">Adds the <span style="font-family: monospace">ctlEnterEvent</span> to the event queue. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="981348"> </a><div class="CellBody"><br></div></td>
    <td><a name="981351"> </a><div class="CellBody"><span style="font-family: monospace">ctlEnterEvent</span> with slider's ID number. </div></td>
    <td><a name="981353"> </a><div class="CellBody">Tracks the pen and updates the display. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="981355"> </a><div class="CellBody">Pen drags slider's thumb to the left or right. </div></td>
    <td><a name="981361"> </a><div class="CellBody"><a href="EventRef.html#972051"><span style="font-family: monospace">ctlRepeatEvent</span></a> with slider's ID number and new value. </div></td>
    <td><a name="981363"> </a><div class="CellBody">Tracks the pen. Each time pen moves to the left or right, sends another <span style="font-family: monospace">ctlRepeatEvent</span> if the pen is still within the bounds of the control. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="981365"> </a><div class="CellBody">Pen is dragged off the slider vertically.</div></td>
    <td><a name="981367"> </a><div class="CellBody"><br></div></td>
    <td><a name="981369"> </a><div class="CellBody"><span style="font-family: monospace">ctlRepeatEvent</span> with the slider's ID number and old value. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="981371"> </a><div class="CellBody">Pen is dragged back onto the slider. </div></td>
    <td><a name="981373"> </a><div class="CellBody"><br></div></td>
    <td><a name="981375"> </a><div class="CellBody"><span style="font-family: monospace">ctlRepeatEvent</span> with the slider's ID number and new value. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="981377"> </a><div class="CellBody">Pen is lifted from slider.</div></td>
    <td><a name="981383"> </a><div class="CellBody"><a href="EventRef.html#973088"><span style="font-family: monospace">penUpEvent</span></a> with the x and y coordinates stored in <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>.</div></td>
    <td><a name="981389"> </a><div class="CellBody">Adds the <a href="EventRef.html#972013"><span style="font-family: monospace">ctlExitEvent</span></a> to the event queue. </div></td>
  </tr>
</table>




</h5><p class="Body">
  <a name="981391"> </a>Sliders are drawn using two bitmaps: one for the slider background, and the other for the thumb. You may use the default bitmaps to draw sliders, or you may specify your own bitmaps when you create the slider. 
</p>
<p class="Body">
  <a name="981392"> </a>The background bitmap you provide can be smaller than the slider's bounding rectangle. This allows you to provide one bitmap for sliders of several different sizes. If the background bitmap isn't as tall as the slider's bounding rectangle, it's vertically centered in the rectangle. If the bitmap isn't as wide as the slider's bounding rectangle, the bitmap is drawn twice. First, it's drawn left-justified in the left half of the bounding rectangle and clipped to exactly half of the rectangle's width. Then, it's drawn right-justified in the right half of the bounding rectangle and clipped to exactly half of the rectangle's width. (See <a href="UserInterface.html#981397">Figure 4.14</a>.) Note that this means that the bitmap you provide must be at least half the width of the bounding rectangle. 
</p>

<p class="FFigureCaption">
  <a name="981397"> </a>Figure 4.14	 Drawing a slider background
</p>
<p class="FgFigure">
  <a name="981401"> </a><div align="left"><img src="images/UserInterface30.gif" height="241" width="360" border="0" hspace="20" vspace="0">
</div>
</p>

<h2 class="HaHeadA">
  <a name="981403"> </a>Fields 
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="981414"> </a>A field object displays one or more lines of text. <a href="UserInterface.html#981416">Figure 4.15</a> is an underlined, left-justified field containing data.
</p>

<p class="FFigureCaption">
  <a name="981416"> </a>Figure 4.15	 Field
</p>
<p class="FgFigure">
  <a name="981420"> </a><div align="left"><img src="images/field.gif" border="0" hspace="20" vspace="0">
</div>
</p>
<p class="Body">
  <a name="981421"> </a>The field object supports these features:
</p>

  <a name="981422"> </a><p class="B1Bullet"> &#8226; Proportional fonts (only one font per field)</p>

  <a name="981423"> </a><p class="B1Bullet"> &#8226; Drag-selection</p>

  <a name="981424"> </a><p class="B1Bullet"> &#8226; Scrolling for multiline fields</p>

  <a name="981425"> </a><p class="B1Bullet"> &#8226; Cut, copy, and paste</p>

  <a name="981426"> </a><p class="B1Bullet"> &#8226; Left and right text justification</p>

  <a name="981427"> </a><p class="B1Bullet"> &#8226; Tab stops</p>

  <a name="981428"> </a><p class="B1Bullet"> &#8226; Editable/noneditable attribute</p>

  <a name="981429"> </a><p class="B1Bullet"> &#8226; Expandable field height (the height of the field expands as more text is entered)</p>

  <a name="981430"> </a><p class="B1Bullet"> &#8226; Underlined text (each line of the field is underlined)</p>

  <a name="981431"> </a><p class="B1Bullet"> &#8226; Maximum character limit (the field stops accepting characters when the maximum is reached)</p>

  <a name="981432"> </a><p class="B1Bullet"> &#8226; Special keys (Graffiti and Graffiti 2 strokes) to support cut, copy, and paste</p>

  <a name="981433"> </a><p class="B1Bullet"> &#8226; Insertion point positioning with pen (the insertion point is positioned by touching the pen between characters)</p>

  <a name="981434"> </a><p class="B1Bullet"> &#8226; Scroll bars</p>
<p class="Body">
  <a name="981435"> </a>The field object does <b>not</b> support overstrike input mode; horizontal scrolling; numeric formatting; or special keys for page up, page down, left word, right word, home, end, left margin, right margin, and backspace. On Palm OS versions earlier than 3.5, the field object also does not support word selection. Starting in version 3.5, double-tapping a word selects that word, and triple-tapping selects the entire line. 
</p>
<div class="NINoteImportant"><hr>
  <a name="981437"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">NOTE:  </span> Field objects can handle line feeds-\0A-but not carriage returns-\0D. PalmRez translates any carriage returns it finds in any Palm OS resources into line feeds, but doesn't touch static data. 
<hr>
</div>
<p class="Body">
  <a name="981446"> </a>Events in field objects are handled by <a href="Field.html#999020"><span style="font-family: monospace">FldHandleEvent</span></a>. <a href="UserInterface.html#981454">Table 4.13</a> provides an overview of how <span style="font-family: monospace">F</span><span style="font-family: monospace">ldHandleEvent</span> deals with the different events
</p>

<h5 class="TgTable">
  <a name="981585"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption><a name="981454"> </a><div class="TableTitle">Table 4.13  Event flow for fields </div></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="981460"> </a><div class="CellHeading">User Action</div></th>
    <th><a name="981462"> </a><div class="CellHeading">Event Generated</div></th>
    <th><a name="981464"> </a><div class="CellHeading">FldHandleEvent Response</div></th>
  </tr>
  <tr valign="top">
    <td><a name="981466"> </a><div class="CellBody">Pen goes down on a field.</div></td>
    <td><a name="981472"> </a><div class="CellBody"><a href="EventRef.html#973039"><span style="font-family: monospace">penDownEvent</span></a> with the x and y coordinates stored in <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>. </div></td>
    <td><a name="981474"> </a><div class="CellBody">Adds the <span style="font-family: monospace">fldEnterEvent</span> to the event queue. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="981476"> </a><div class="CellBody"><br></div></td>
    <td><a name="981482"> </a><div class="CellBody"><a href="EventRef.html#972217"><span style="font-family: monospace">fldEnterEvent</span></a> with the field's ID number.</div></td>
    <td><a name="981484"> </a><div class="CellBody">Sets the insertion point position to the position of the pen and tracks the pen until it is released. Drag-selection and drag-scrolling are supported.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="981486"> </a><div class="CellBody"><br></div></td>
    <td><a name="981488"> </a><div class="CellBody"><br></div></td>
    <td><a name="981490"> </a><div class="CellBody">Starting in Palm OS 3.5, double-tapping in a field selects the word at that location, and triple-tapping selects the line. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="981492"> </a><div class="CellBody">Pen is lifted.</div></td>
    <td><a name="981498"> </a><div class="CellBody"><a href="EventRef.html#973088"><span style="font-family: monospace">penUpEvent</span></a> with the x and y coordinates. </div></td>
    <td><a name="981500"> </a><div class="CellBody">Nothing happens; a field remains selected until another field is selected or the form that contains the field is closed.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="981502"> </a><div class="CellBody">Enters characters into selected field. </div></td>
    <td><a name="981508"> </a><div class="CellBody"><a href="EventRef.html#972716"><span style="font-family: monospace">keyDownEvent</span></a> with character value in <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>.</div></td>
    <td><a name="981510"> </a><div class="CellBody">Character added to field's text string. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="981513"> </a><div class="CellBody">Presses up arrow key</div></td>
    <td><a name="981519"> </a><div class="CellBody"><a href="EventRef.html#972716"><span style="font-family: monospace">keyDownEvent</span></a></div></td>
    <td><a name="981521"> </a><div class="CellBody">Moves insertion point up a line.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="981524"> </a><div class="CellBody">Presses down arrow</div></td>
    <td><a name="981530"> </a><div class="CellBody"><a href="EventRef.html#972716"><span style="font-family: monospace">keyDownEvent</span></a></div></td>
    <td><a name="981532"> </a><div class="CellBody">Moves insertion point down a line; the insertion point doesn't move beyond the last line that contains text.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="981535"> </a><div class="CellBody">Presses left arrow</div></td>
    <td><a name="981541"> </a><div class="CellBody"><a href="EventRef.html#972716"><span style="font-family: monospace">keyDownEvent</span></a></div></td>
    <td><a name="981543"> </a><div class="CellBody">Moves insertion point one character position to the left. When the left margin is reached, move to the end of the previous line.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="981546"> </a><div class="CellBody">Presses right arrow</div></td>
    <td><a name="981552"> </a><div class="CellBody"><a href="EventRef.html#972716"><span style="font-family: monospace">keyDownEvent</span></a></div></td>
    <td><a name="981554"> </a><div class="CellBody">Moves insertion point one character position to the right. When the right margin is reached, move to the start of the next line.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="981556"> </a><div class="CellBody">Cut command</div></td>
    <td><a name="981562"> </a><div class="CellBody"><a href="EventRef.html#972716"><span style="font-family: monospace">keyDownEvent</span></a></div></td>
    <td><a name="981564"> </a><div class="CellBody">Cuts the current selection to the text clipboard.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="981566"> </a><div class="CellBody">Copy command</div></td>
    <td><a name="981572"> </a><div class="CellBody"><a href="EventRef.html#972716"><span style="font-family: monospace">keyDownEvent</span></a></div></td>
    <td><a name="981574"> </a><div class="CellBody">Copies the current selection to the text clipboard.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="981576"> </a><div class="CellBody">Paste command</div></td>
    <td><a name="981582"> </a><div class="CellBody"><a href="EventRef.html#972716"><span style="font-family: monospace">keyDownEvent</span></a></div></td>
    <td><a name="981584"> </a><div class="CellBody">Inserts clipboard text into the field at insertion point.</div></td>
  </tr>
</table>




</h5>
<h2 class="HaHeadA">
  <a name="981587"> </a>Menus 
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="981591"> </a>A menu bar is displayed whenever the user taps a menu icon. Starting in Palm OS 3.5, the menu bar is also displayed when the user taps in a form's titlebar. The menu bar, a horizontal list of menu titles, appears at the top of the screen in its own window, above all application windows. Pressing a menu title highlights the title and "pulls down" the menu below the title (see <a href="UserInterface.html#981596">Figure 4.16</a>). 
</p>

<p class="FFigureCaption">
  <a name="981596"> </a>Figure 4.16	 Menu
</p>
<p class="FgFigure">
  <a name="981614"> </a><div align="left"><img src="images/UserInterface32.gif" height="124" width="360" border="0" hspace="20" vspace="0">
</div>
</p>
<p class="Body">
  <a name="981616"> </a>User actions have the following effect on a menu:
</p>

<h5 class="TgTable">
  <a name="981642"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="981619"> </a><div class="CellHeading">When...</div></th>
    <th><a name="981621"> </a><div class="CellHeading">Then...</div></th>
  </tr>
  <tr valign="top">
    <td><a name="981623"> </a><div class="CellBody">User drags the pen through the menu</div></td>
    <td><a name="981625"> </a><div class="CellBody">Command under the pen is highlighted</div></td>
  </tr>
  <tr valign="top">
    <td><a name="981627"> </a><div class="CellBody">Pen is released over a menu item</div></td>
    <td><a name="981629"> </a><div class="CellBody">That item is selected and the menu bar and menu disappear</div></td>
  </tr>
  <tr valign="top">
    <td><a name="981631"> </a><div class="CellBody">Pen is released outside both the menu bar and the menu</div></td>
    <td><a name="981633"> </a><div class="CellBody">Both menu and menu bar disappear and no selection is made</div></td>
  </tr>
  <tr valign="top">
    <td><a name="981635"> </a><div class="CellBody">Pen is released in a menu title (Palm OS 3.5 and later only)</div></td>
    <td><a name="981637"> </a><div class="CellBody">Menu bar and Menu remain displayed until a selection is made from the menu. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="981639"> </a><div class="CellBody">Pen is tapped outside menu and menu bar</div></td>
    <td><a name="981641"> </a><div class="CellBody">Both menu and menu bar are dismissed</div></td>
  </tr>
</table>




</h5><p class="Body">
  <a name="981643"> </a>A menu has the following features:
</p>

  <a name="981644"> </a><p class="B1Bullet"> &#8226; Item separators, which are lines to group menu items.</p>

  <a name="981645"> </a><p class="B1Bullet"> &#8226; Menu shortcuts; the shortcut labels are right justified in menu items.</p>

  <a name="981646"> </a><p class="B1Bullet"> &#8226; A menu remembers its last selection; the next time a menu is displayed the prior selection appears highlighted.</p>

  <a name="981648"> </a><p class="B1Bullet"> &#8226; The bits behind the menu bar and the menus are saved and restored by the menu routines.</p>

  <a name="981649"> </a><p class="B1Bullet"> &#8226; When the menu is visible, the insertion point is turned off.</p>
<p class="Body">
  <a name="981657"> </a>Menu events are handled by <a href="Menu.html#1049069"><span style="font-family: monospace">MenuHandleEvent</span></a>. <a href="UserInterface.html#981664">Table 4.14</a> describes how user actions get translated into events and what <span style="font-family: monospace">MenuHandleEvent</span> does in response. 
</p>

<h5 class="TgTable">
  <a name="981699"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption><a name="981664"> </a><div class="TableTitle">Table 4.14  Event flow for menus </div></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="981670"> </a><div class="CellHeading">User Action</div></th>
    <th><a name="981672"> </a><div class="CellHeading">Event Generated</div></th>
    <th><a name="981674"> </a><div class="CellHeading">MenuHandleEvent Response</div></th>
  </tr>
  <tr valign="top">
    <td><a name="981676"> </a><div class="CellBody">Pen enters menu bar.</div></td>
    <td><a name="981682"> </a><div class="CellBody"><a href="EventRef.html#973500"><span style="font-family: monospace">winEnterEvent</span></a> identifying menu's window. </div></td>
    <td><a name="981684"> </a><div class="CellBody">Tracks the pen.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="981686"> </a><div class="CellBody">User selects a menu item. </div></td>
    <td><a name="981692"> </a><div class="CellBody"><a href="EventRef.html#973088"><span style="font-family: monospace">penUpEvent</span></a> with the x and y coordinates. </div></td>
    <td><a name="981698"> </a><div class="CellBody">Adds a <a href="EventRef.html#972953"><span style="font-family: monospace">menuEvent</span></a> with the item's ID to the event queue. </div></td>
  </tr>
</table>




</h5>
<h2 class="HBHeadB">
  <a name="981702"> </a>Checking Menu Visibility
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="981703"> </a>When the operating system draws a menu, the menu's window becomes the active drawing window. The operating system generates a <a href="EventRef.html#973541"><span style="font-family: monospace">winExitEvent</span></a> for the previous active drawing window and a <a href="EventRef.html#973500"><span style="font-family: monospace">winEnterEvent</span></a> for the menu's window. When the menu is erased, the system generates a <span style="font-family: monospace">winExitEvent</span> for the menu's window and a <span style="font-family: monospace">winEnterEvent</span> for the window that was active before the menu was drawn. 
</p>
<p class="Body">
  <a name="981712"> </a>It's common to want to check if the menu is visible in applications that perform custom drawing to a window. Such applications want to make sure that they don't draw on top of the menu. The recommended way to do this is to stop drawing when you receive a <span style="font-family: monospace">winExitEvent</span> matching your drawing window and resume drawing when you receive the corresponding <span style="font-family: monospace">winEnterEvent</span>. For example, the following code is excerpted from the Reptoids example application's main event loop:
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
EvtGetEvent (&amp;event, TimeUntillNextPeriod());<a name="981713"> </a>
 <a name="981714"> </a>
if (event.eType == winExitEvent) {<a name="981715"> </a>
  if (event.data.winExit.exitWindow == <a name="981716"> </a>
    (WinHandle) FrmGetFormPtr(MainView)) {<a name="981717"> </a>
      // stop drawing. <a name="981718"> </a>
  }<a name="981719"> </a>
}<a name="981720"> </a>
 <a name="981721"> </a>
else if (event.eType == winEnterEvent) {<a name="981722"> </a>
  if (event.data.winEnter.enterWindow == <a name="981723"> </a>
    (WinHandle) FrmGetFormPtr(MainView) &amp;&amp;<a name="981724"> </a>
    event.data.winEnter.enterWindow == <a name="981725"> </a>
    (WinHandle) FrmGetFirstForm ()) {<a name="981726"> </a>
      // start drawing<a name="981727"> </a>
  }<a name="981728"> </a>
}<a name="981729"> </a>
</pre><div class="CodeRule"><hr></div>
<p class="Body">
  <a name="981730"> </a>Note that this technique is not specific to menus-your application should stop drawing if any window obscures your drawing window, and it will do so if you check for <span style="font-family: monospace">winEnterEvent</span> and <span style="font-family: monospace">winExitEvent</span>. 
</p>

<h2 class="HBHeadB">
  <a name="981731"> </a>Dynamic Menus
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="981733"> </a>In releases of Palm OS prior to release 3.5, the menu was loaded from a menu resource (created with Constructor or some other tool) and could not be modified in code. Starting in Palm OS 3.5, you can add, hide, or unhide menu items while the menu resource is being loaded. 
</p>
<p class="Body">
  <a name="981738"> </a>A <a href="EventRef.html#972977"><span style="font-family: monospace">menuOpenEvent</span></a> is sent when the menu resource is loaded. (Note that this event is new in version 3.5. Previous releases do not use it.) In response to this event, you can call <a href="Menu.html#1048677"><span style="font-family: monospace">MenuAddItem</span></a> to add a menu item to one of the pull-down menus, <a href="Menu.html#1049143"><span style="font-family: monospace">MenuHideItem</span></a> to hide a menu item, or <a href="Menu.html#1049267"><span style="font-family: monospace">MenuShowItem</span></a> to display a menu item. 
</p>
<p class="Body">
  <a name="981751"> </a>You might receive <span style="font-family: monospace">menuOpenEvent</span> several times during an application session. The menu resource is loaded each time the menu is made the active menu. A menu becomes active the first time the user either requests that the menu be displayed or enters the command keystroke on the current form. That menu remains active as long as the form with which it is associated is active. A menu loses its active status under these conditions:
</p>

  <a name="981756"> </a><p class="B1Bullet"> &#8226; When <a href="Form.html#1024238"><span style="font-family: monospace">FrmSetMenu</span></a> is called to change the active menu on the form. </p>

  <a name="981757"> </a><p class="B1Bullet"> &#8226; When a new form, even a modal form or alert panel, becomes active.</p>
<p class="Body">
  <a name="981758"> </a>Suppose a user selects your application's About item from the Options menu then clicks the OK button to return to the main form. When the About dialog is displayed, it becomes the active form, which causes the main form's menu state to be erased. This menu state is not restored when the main form becomes active again. The next time the user requests the menu, the menu resource is reloaded, and a new <span style="font-family: monospace">menuOpenEvent</span> is queued. 
</p>
<p class="Body">
  <a name="981759"> </a>You should only make changes to a menu the first time it is loaded after a form becomes active. You should not add, hide, or show items based on user context. Such practice is discouraged in the Palm OS user interface guidelines.
</p>

<h2 class="HBHeadB">
  <a name="981761"> </a>Menu Shortcuts
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="981763"> </a>As an alternative to selecting a menu command through the user interface, users can instead enter a menu shortcut. This support is present in all versions of the Palm OS, but it was extended in Palm OS 3.5. 
</p>
<p class="Body">
  <a name="981764"> </a>On all versions of Palm OS, the user can enter a Graffiti or Graffiti 2 command keystroke followed by another character. If the next character matches one of the shortcut characters for an item on the active menu, a <a href="EventRef.html#972953"><span style="font-family: monospace">menuEvent</span></a> with that menu item is generated. To support this behavior, you simply specify a shortcut character when you create a menu item resource. The default behavior of Palm OS handles this shortcut appropriately. 
</p>
<div class="NINoteImportant"><hr>
  <a name="1034557"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">NOTE:  </span> If the <a href="CompatibilityApdx.html#995574">Graffiti 2 Feature Set</a> is present, avoid using a multi-stroke character as a keyboard shortcut if its first stroke matches the stroke of another letter (such as the letter "l" or the space character). 
<hr>
</div>
<p class="Body">
  <a name="981769"> </a>Starting in Palm OS 3.5, drawing the command stroke displays the command toolbar (see <a href="UserInterface.html#981775">Figure 4.17</a>). This toolbar is the width of the screen. (Previous versions of Palm OS simply display the string "Command:" in the lower-left portion of the screen.) The command toolbar displays a status message on the left and buttons on the right. After drawing the command stroke, the user has the choice of writing a character or of tapping one of the buttons on the command toolbar. Both of these actions cause the status message to be briefly displayed and (in most cases) a <span style="font-family: monospace">menuEvent</span> to be added to the event queue. 
</p>

<p class="FFigureCaption">
  <a name="981775"> </a>Figure 4.17	 Command toolbar
</p>
<p class="FgFigure">
  <a name="981779"> </a><div align="left"><img src="images/Toolbar.gif" border="0" hspace="20" vspace="0">
</div>
</p>
<p class="Body">
  <a name="981780"> </a>The buttons displayed on the toolbar depend on the user context. If the focus is in an editable field, the Field Manager displays buttons for cut, copy, and paste on the command toolbar. If there is an action to undo, the field manager also displays a button for undo. 
</p>
<p class="Body">
  <a name="981781"> </a>The active application may also add its own buttons to the toolbar. To do so, respond to the <a href="EventRef.html#972915"><span style="font-family: monospace">menuCmdBarOpenEvent</span></a> and use <a href="Menu.html#1048730"><span style="font-family: monospace">MenuCmdBarAddButton</span></a> to add the button. <a href="UserInterface.html#981794">Listing 4.1</a> shows some code from the Memo application that adds to the command toolbar a button that displays the security dialog and then prevents the field manager from adding other buttons. 
</p>
<p class="CCodeCaption">
  <a name="981794"> </a>Listing 4.1  Responding to menuCmdBarOpenEvent
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
else if (event-&gt;eType == menuCmdBarOpenEvent) {<a name="981795"> </a>
 <a name="981796"> </a>
   MenuCmdBarAddButton(menuCmdBarOnLeft, <a name="981797"> </a>
      BarSecureBitmap, menuCmdBarResultMenuItem, <a name="981798"> </a>
      ListOptionsSecurityCmd, 0);<a name="981799"> </a>
 <a name="981800"> </a>
   // Tell the field package to not add buttons <a name="981801"> </a>
   // automatically; we've done it all ourselves.<a name="981802"> </a>
   event-&gt;data.menuCmdBarOpen.preventFieldButtons = <a name="981803"> </a>
      true;<a name="981804"> </a>
 <a name="981805"> </a>
   // Don't set handled to true; this event must <a name="981806"> </a>
   // fall through to the system.<a name="981807"> </a>
}<a name="981808"> </a>
</pre><div class="CodeRule"><hr></div>
<p class="Body">
  <a name="981809"> </a>The system contains bitmaps that represent such commands as beaming and deleting records. If your application performs any of these actions, it should use the system bitmap. <a href="UserInterface.html#981819">Table 4.15</a> shows the system bitmaps and the commands they represent. If you use any of these, you should use them in the order shown, from right to left. That is, <span style="font-family: monospace">BarDeleteBitmap</span> should always be the rightmost of these bitmaps, and <span style="font-family: monospace">BarInfoBitmap</span> should always be the leftmost. 
</p>

<h5 class="TgTable">
  <a name="981866"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption><a name="981819"> </a><div class="TableTitle">Table 4.15  System command toolbar bitmaps </div></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="981823"> </a><div class="CellHeading">Bitmap</div></th>
    <th><a name="981825"> </a><div class="CellHeading">Command</div></th>
  </tr>
  <tr valign="top">
    <td><a name="981828"> </a><div class="CellBody"><span style="font-family: monospace">BarDeleteBitmap</span> </div></td>
    <td><a name="981830"> </a><div class="CellBody">Delete record. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="981833"> </a><div class="CellBody"><span style="font-family: monospace">BarPasteBitmap</span> </div></td>
    <td><a name="981835"> </a><div class="CellBody">Paste clipboard contents at insertion point. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="981838"> </a><div class="CellBody"><span style="font-family: monospace">BarCopyBitmap</span> </div></td>
    <td><a name="981840"> </a><div class="CellBody">Copy selection. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="981843"> </a><div class="CellBody"><span style="font-family: monospace">BarCutBitmap</span> </div></td>
    <td><a name="981845"> </a><div class="CellBody">Cut selection. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="981848"> </a><div class="CellBody"><span style="font-family: monospace">BarUndoBitmap</span> </div></td>
    <td><a name="981850"> </a><div class="CellBody">Undo previous action. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="981853"> </a><div class="CellBody"><span style="font-family: monospace">BarSecureBitmap</span> </div></td>
    <td><a name="981855"> </a><div class="CellBody">Show Security dialog. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="981858"> </a><div class="CellBody"><span style="font-family: monospace">BarBeamBitmap</span> </div></td>
    <td><a name="981860"> </a><div class="CellBody">Beam current record. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="981863"> </a><div class="CellBody"><span style="font-family: monospace">BarInfoBitmap</span> </div></td>
    <td><a name="981865"> </a><div class="CellBody">Show Info dialog (Launcher). </div></td>
  </tr>
</table>




</h5><p class="Body">
  <a name="981867"> </a>You should limit the buttons displayed on the command toolbar to 4 or 5. There are two reasons to limit the number of buttons. You must leave room for the status message to be displayed before the action is performed. Also, consider that the toolbar is displayed only briefly. Users must be able to instantly understand the meaning of each of the buttons on the toolbar. If there are too many buttons, it reduces the chance that users can find what they need. 
</p>
<p class="Body">
  <a name="981868"> </a>Note that the field manager already potentially displays 4 buttons by itself. If you want to suppress this behavior and display your own buttons when a field has focus, set the <span style="font-family: monospace">preventFieldButtons</span> flag of the <span style="font-family: monospace">menuCmdBarOpenEvent</span> to <span style="font-family: monospace">true</span> as is shown in <a href="UserInterface.html#981794">Listing 4.1</a>. 
</p>

<h2 class="HaHeadA">
  <a name="981873"> </a>Tables 
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="981878"> </a>Tables support multi-column displays. Examples are: 
</p>

  <a name="981879"> </a><p class="B1Bullet"> &#8226; the List view of the ToDo application</p>

  <a name="981880"> </a><p class="B1Bullet"> &#8226; the Day view in the Datebook </p>
<p class="Body">
  <a name="981881"> </a>The table object is used to organize several types of UI objects. The number of rows and the number of columns must be specified for each table object. A UI object can be placed inside a cell of a table. Tables often consist of rows or columns of the same object. For example, a table might have one column of labels and another column of fields. Tables can only be scrolled vertically. Tables can't include bitmaps.
</p>
<p class="Body">
  <a name="981882"> </a>A problem may arise if non-text elements are used in the table. For example, assume you have a table with two columns. In the first column is an icon that displays information, the second column is a text column. The table only allows users to select elements in the first column that are as high as one row of text. If the icon is larger, only a narrow strip at the top of the column can be selected. 
</p>

<h2 class="HBHeadB">
  <a name="981885"> </a>Table Event
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="981890"> </a>The table object generates the event <a href="EventRef.html#973366"><span style="font-family: monospace">tblSelectEvent</span></a>. This event contains:
</p>

  <a name="981891"> </a><p class="B1Bullet"> &#8226; The table's ID number </p>

  <a name="981892"> </a><p class="B1Bullet"> &#8226; The row of the selected table </p>

  <a name="981893"> </a><p class="B1Bullet"> &#8226; The column of the selected table </p>
<p class="Body">
  <a name="981898"> </a>When <a href="EventRef.html#973366"><span style="font-family: monospace">tblSelectEvent</span></a> is sent to a table, the table generates an event to handle any possible events within the item's UI object.
</p>

<h2 class="HaHeadA">
  <a name="981900"> </a>Lists 
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="981902"> </a>The list object appears as a vertical list of choices in a box. The current selection of the list is inverted. 
</p>

<p class="FFigureCaption">
  <a name="981903"> </a>Figure 4.18	 List
</p>
<p class="FgFigure">
  <a name="981907"> </a><div align="left"><img src="images/List.gif" height="72" width="103" border="0" hspace="20" vspace="0">
</div>
</p>
<p class="Body">
  <a name="981909"> </a>A list is meant for static data. Users can choose from a predetermined number of items. Examples include: 
</p>

  <a name="981910"> </a><p class="B1Bullet"> &#8226; the time list in the time edit window of the datebook </p>

  <a name="981914"> </a><p class="B1Bullet"> &#8226; the Category pop-up list (see <a href="UserInterface.html#982076">"Categories"</a> in this chapter)</p>
<p class="Body">
  <a name="981915"> </a>If there are more choices than can be displayed, the system draws small arrows (scroll indicators) in the right margin next to the first and last visible choice. When the pen comes down and up on a scroll indicator, the list is scrolled. When the user scrolls down, the last visible item becomes the first visible item if there are enough items to fill the list. If not, the list is scrolled so that the last item of the list appears at the bottom of the list. The reverse is true for scrolling up. Scrolling doesn't change the current selection.
</p>
<p class="Body">
  <a name="981916"> </a>Bringing the pen down on a list item unhighlights the current selection and highlights the item under the pen. Dragging the pen through the list highlights the item under the pen. Dragging the pen above or below the list causes the list to scroll if it contains more choices than are visible.
</p>
<p class="Body">
  <a name="981917"> </a>When the pen is released over an item, that item becomes the current selection. When the pen is dragged outside the list, the item that was highlighted before the <a href="EventRef.html#973039"><span style="font-family: monospace">penDownEvent</span></a> is highlighted again if it's visible. If it's not, no item is highlighted.
</p>
<p class="Body">
  <a name="981922"> </a>An application can use a list in two ways: 
</p>

  <a name="981923"> </a><p class="B1Bullet"> &#8226; Initialize a structure with all data for all entries in the list and let the list manage its own data. </p>

  <a name="981924"> </a><p class="B1Bullet"> &#8226; Provide list drawing functions but don't keep any data in memory. The list picks up the data as it's drawing. </p>
<p class="Indented1"> <a name="981925"> </a>Not keeping data in memory avoids unacceptable memory overhead if the list is large and the contents of the list depends on choices made by the user. An example would be a time conversion application that provides a list of clock times for a number of cities based on a city the user selects. Note that only lists can pick up the display information on the fly like this; tables cannot.</p>
<p class="Body">
  <a name="981933"> </a>The <a href="List.html#1043023"><span style="font-family: monospace">LstHandleEvent</span></a> function handles list events. <a href="UserInterface.html#981940">Table 4.16</a> provides an overview of how <span style="font-family: monospace">LstHandleEvent</span> deals with the different events.
</p>

<h5 class="TgTable">
  <a name="982020"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption><a name="981940"> </a><div class="TableTitle">Table 4.16  Event flow for lists </div></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="981946"> </a><div class="CellHeading">User Action</div></th>
    <th><a name="981948"> </a><div class="CellHeading">System Response</div></th>
    <th><a name="981950"> </a><div class="CellHeading">LstHandleEvent Response</div></th>
  </tr>
  <tr valign="top">
    <td><a name="981952"> </a><div class="CellBody">Pen goes down on pop-up trigger button.</div></td>
    <td><a name="981958"> </a><div class="CellBody"><a href="EventRef.html#973500"><span style="font-family: monospace">winEnterEvent</span></a> identifying list's window. </div></td>
    <td><a name="981960"> </a><div class="CellBody">Adds the <span style="font-family: monospace">lstEnterEvent</span> to the event queue. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="981962"> </a><div class="CellBody"><br></div></td>
    <td><a name="981968"> </a><div class="CellBody"><a href="EventRef.html#983492"><span style="font-family: monospace">lstEnterEvent</span></a> with list's ID number and selected item. </div></td>
    <td><a name="981970"> </a><div class="CellBody">Tracks the pen.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="981972"> </a><div class="CellBody">Pen goes down on a list box.</div></td>
    <td><a name="981978"> </a><div class="CellBody"><a href="EventRef.html#973039"><span style="font-family: monospace">penDownEvent</span></a> with the x and y coordinates stored in <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>. </div></td>
    <td><a name="981980"> </a><div class="CellBody">Highlights the selection underneath the pen. </div><a name="981981"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="981983"> </a><div class="CellBody">Pen is lifted from the list box.</div></td>
    <td><a name="981989"> </a><div class="CellBody"><a href="EventRef.html#973088"><span style="font-family: monospace">penUpEvent</span></a> with the x and y coordinates stored in <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>.</div></td>
    <td><a name="981991"> </a><div class="CellBody">Adds the <span style="font-family: monospace">lstSelectEvent</span> to the event queue. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="981993"> </a><div class="CellBody"><br></div></td>
    <td><a name="981999"> </a><div class="CellBody"><a href="EventRef.html#972870"><span style="font-family: monospace">lstSelectEvent</span></a> with list's ID number and number of selected item. </div></td>
    <td><a name="982001"> </a><div class="CellBody">Stores the new selection. If the list is associated with a pop-up trigger, adds a <a href="EventRef.html#973127"><span style="font-family: monospace">popSelectEvent</span></a> to the event queue. with the pop-up trigger ID, the pop-up list ID, and the item number selected in <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>. Control passes to <span style="font-family: monospace">FrmHandleEvent</span>. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="982007"> </a><div class="CellBody">Pen is lifted outside the list box.</div></td>
    <td><a name="982013"> </a><div class="CellBody"><a href="EventRef.html#973088"><span style="font-family: monospace">penUpEvent</span></a> with the x and y coordinates stored in <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>.</div></td>
    <td><a name="982019"> </a><div class="CellBody">Adds <a href="EventRef.html#973541"><span style="font-family: monospace">winExitEvent</span></a> to event queue. </div></td>
  </tr>
</table>




</h5>
<h2 class="HBHeadB">
  <a name="982021"> </a>Using Lists in Place of Tables
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="982022"> </a>Lists really consist of single-column rows of text, but it is possible to imitate a multi-column display if you provide a custom list drawing function. Many programmers choose to use list objects instead of tables for multi-column displays because lists are generally easier to program than tables are. Doing so is acceptable, but it is somewhat problematic because the list object always displays a rectangular border around the list. If you choose to use lists to display multi-column data that would normally be displayed in a table, you must suppress the drawing of the list border. The safest way to do so is to set the draw window's clipping rectangle to the bounds of the list before drawing the list, as shown in <a href="UserInterface.html#982027">Listing 4.2</a>. See the <i>Palm OS User Interface Guidelines</i> for more information. 
</p>
<p class="CCodeCaption">
  <a name="982027"> </a>Listing 4.2  Suppressing the list border
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
void DrawFormWithNoListBorder(FormType *frmP,
UInt16 listIndex)<a name="982028"> </a>
{<a name="982029"> </a>
   RectangleType *clip;<a name="982030"> </a>
   RectangleType *newClip;<a name="982031"> </a>
   ListType *listP = FrmGetObjectPtr(frmP, listIndex);<a name="982032"> </a>
<a name="982033"> </a>
   // Hide the list object and then draw the rest of the <a name="982034"> </a>
   // form. <a name="982035"> </a>
   FrmHideObject(frmP, listIndex);<a name="982036"> </a>
   FrmDrawForm (frmP);<a name="982037"> </a>
<a name="982038"> </a>
   // Set the clipping rectangle to the list boundaries and <a name="982039"> </a>
   // draw the list. This suppreses the list border.<a name="982040"> </a>
   WinGetClip(&amp;clip);<a name="982041"> </a>
   FrmGetObjectBounds(frmP, listIndex, &amp;newClip);<a name="982042"> </a>
   WinSetClip(&amp;newClip);<a name="982043"> </a>
   LstSetSelection(listP, noListSelection);<a name="982044"> </a>
   FrmShowObject(frmP, listIndex);<a name="982045"> </a>
<a name="982046"> </a>
   // Reset the clipping rectangle. <a name="982047"> </a>
   WinSetClip(&amp;clip);<a name="982048"> </a>
}<a name="982049"> </a>
<a name="982050"> </a>
Boolean MyFormHandleEvent(EventPtr eventP)<a name="982051"> </a>
{<a name="982052"> </a>
   Boolean handled = false;<a name="982053"> </a>
   FormType *frmP;<a name="982054"> </a>
   UInt16 listIndex;<a name="982055"> </a>
<a name="982056"> </a>
   switch (eventP-&gt;eType) {<a name="982057"> </a>
      case frmOpenEvent:<a name="982058"> </a>
         frmP = FrmGetActiveForm();<a name="982059"> </a>
         listIndex = FrmGetObjectIndex(frmP, MyListRscID);<a name="982060"> </a>
         // initialize form here.<a name="982061"> </a>
         DrawFormWithNoListBorder(frmP, listIndex);<a name="982062"> </a>
         handled = true;<a name="982063"> </a>
         break;<a name="982064"> </a>
      case frmUpdateEvent:<a name="982065"> </a>
         frmP = FrmGetActiveForm();<a name="982066"> </a>
         listIndex = FrmGetObjectIndex(frmP, MyListRscID);<a name="982067"> </a>
         DrawFormWithNoListBorder(frmP, listIndex);<a name="982068"> </a>
         handled = true;<a name="982069"> </a>
         break;<a name="982070"> </a>
      ...<a name="982071"> </a>
   }<a name="982072"> </a>
}<a name="982073"> </a>
</pre><div class="CodeRule"><hr></div>

<h2 class="HaHeadA">
  <a name="982076"> </a>Categories 
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="982077"> </a>Categories allow you to group records logically into manageable lists. In the user interface, categories typically appear in a pop-up list in a form's titlebar and in dialogs that allow you to edit a single database record. 
</p>
<p class="Body">
  <a name="982078"> </a>You create a category pop-up list the same way you create any other pop-up list: create the list resource, create the pop-up trigger control resource with a width of 0, and set the trigger's list ID to be the ID of the list. You manage the category pop-up list using the category API described in the chapter <a href="Category.html#984069">"Categories"</a> of the <i>Palm OS Programmer's API Reference</i>. 
</p>
<p class="Body">
  <a name="982085"> </a>For the most part, you can handle a category pop-up list using only these calls: 
</p>

  <a name="982089"> </a><p class="B1Bullet"> &#8226; Call <a href="Category.html#984524"><span style="font-family: monospace">CategoryInitialize</span></a> when you create a new database as described in <a href="UserInterface.html#982113">"Initializing Categories in a Database"</a> below). </p>

  <a name="982096"> </a><p class="B1Bullet"> &#8226; Call <a href="Category.html#984674"><span style="font-family: monospace">CategorySetTriggerLabel</span></a> to set the category pop-up trigger's label when the form is opened (as described in <a href="UserInterface.html#982200">"Initializing the Category Pop-up Trigger"</a>). </p>

  <a name="982103"> </a><p class="B1Bullet"> &#8226; Call <a href="Category.html#984559"><span style="font-family: monospace">CategorySelect</span></a> when the user selects the category pop-up trigger (as described in <a href="UserInterface.html#982240">"Managing a Category Pop-up List"</a>).</p>
<p class="Body">
  <a name="982107"> </a>You typically don't need to use the other functions declared in <span style="font-family: monospace">Category.h</span> unless you want more control over what happens when the user selects the category trigger. 
</p>
<p class="Body">
  <a name="982108"> </a>This section focuses on the user interface aspects of categories. For information on how categories are stored and how to manage categories in a database, read <a href="FilesAndDatabases.html#998419">Chapter 6, "Files and Databases."</a> 
</p>

<h2 class="HBHeadB">
  <a name="982113"> </a>Initializing Categories in a Database
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="982114"> </a>Before you can use the category API calls, you must set up the database appropriately. The category functions expect to find information at a certain location. If the information is not there, the functions will fail. 
</p>
<p class="Body">
  <a name="982119"> </a>Category information is stored in the <a href="Category.html#984103"><span style="font-family: monospace">AppInfoType</span></a> structure within the database's application info block. As described in the chapter titled <a href="FilesAndDatabases.html#998419">"Files and Databases"</a> in this book, the application info block may contain any information that your database needs. If you want to use the category API, the first field in the application info block must be an <span style="font-family: monospace">AppInfoType</span> structure. 
</p>
<p class="Body">
  <a name="982123"> </a>The <span style="font-family: monospace">AppInfoType</span> structure maps category names to category indexes and category unique IDs. Category names are displayed in the user interface. Category indexes are used to associate a database record with a category. That is, the database record's attribute word contains the index of the category to which the record belongs. Category unique IDs are used when synchronizing the database with the desktop computer. 
</p>
<p class="Body">
  <a name="982124"> </a>To initialize the <span style="font-family: monospace">AppInfoType</span> structure, you call <a href="Category.html#984524"><span style="font-family: monospace">CategoryInitialize</span></a>, passing a string list resource containing category names. This function creates as many category indexes and unique IDs as are necessary. You only need to make this call when the database is first created or when you newly assign the application info block to the database. 
</p>
<p class="Body">
  <a name="982130"> </a>The string list resource is an <span style="font-family: monospace">appInfoStringsRsc</span> (<span style="font-family: monospace">'tAIS'</span>) resource. It contains predefined categories that new users see when they start the application for the first time. Note that the call to <span style="font-family: monospace">CategoryInitialize</span> is the only place where you use an <span style="font-family: monospace">appInfoStringsRsc</span>. Follow these guidelines when creating the resource: 
</p>

  <a name="982131"> </a><p class="B1Bullet"> &#8226; Place any categories that you don't want the user to be able to change at the beginning of the list. For example, it's common to have at least one uneditable category named Unfiled, so it should be the first item in the list. </p>

  <a name="982132"> </a><p class="B1Bullet"> &#8226; The string list must have 16 entries. Typically, you don't want to predefine 16 categories. You might define one or two and leave the remaining entries blank. The unused slots should have 0 length. </p>

  <a name="982133"> </a><p class="B1Bullet"> &#8226; Keep in mind that there is a limit of 16 categories. That includes both the predefined categories and the categories your users will create. </p>

  <a name="982134"> </a><p class="B1Bullet"> &#8226; Each category name has a maximum length defined by the <span style="font-family: monospace">dmCategoryLength</span> constant (currently, 16 bytes).</p>

  <a name="982136"> </a><p class="B1Bullet"> &#8226; Don't include strings for "All" or "Edit Categories." While these two items often appear in category lists, they are not categories, and they are treated differently by the category functions. </p>
<p class="Body">
  <a name="982140"> </a><a href="UserInterface.html#982144">Listing 4.3</a> shows an example function that creates and initializes a database with an application info block. Notice that because the application info block is stored with the database, you allocate memory for it using <span style="font-family: monospace">DmNewHandle</span>, not with <span style="font-family: monospace">MemHandleNew</span>. 
</p>
<p class="CCodeCaption">
  <a name="982144"> </a>Listing 4.3  Creating a database with an app info block
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
typedef struct {<a name="982145"> </a>
   AppInfoType appInfo;<a name="982146"> </a>
   UInt16 myCustomAppInfo;<a name="982147"> </a>
} MyAppInfoType;<a name="982148"> </a>
 <a name="982149"> </a>
Err CreateAndOpenDatabase(DmOpenRef *dbPP, UInt16 mode)<a name="982150"> </a>
{<a name="982151"> </a>
   Err error = errNone;<a name="982152"> </a>
   DmOpenRef dbP;<a name="982153"> </a>
   UInt16 cardNo;<a name="982154"> </a>
   MemHandle h;<a name="982155"> </a>
   LocalID dbID;<a name="982156"> </a>
   LocalID appInfoID;<a name="982157"> </a>
   MyAppInfoType *appInfoP;<a name="982158"> </a>
 <a name="982159"> </a>
   // Create the database. <a name="982160"> </a>
   error = DmCreateDatabase (0, MyDBName, MyDBCreator, MyDBType, <a name="982161"> </a>
      false);<a name="982162"> </a>
   if (error) return error;<a name="982163"> </a>
 <a name="982164"> </a>
   // Open the database. <a name="982165"> </a>
   dbP = DmOpenDatabaseByTypeCreator(MyDBType, MyDBCreator, <a name="982166"> </a>
      mode);<a name="982167"> </a>
   if (!dbP) return (dmErrCantOpen);<a name="982168"> </a>
 <a name="982169"> </a>
   // Get database local ID and card number. We need these to <a name="982170"> </a>
   // initialize app info block.<a name="982171"> </a>
   if (DmOpenDatabaseInfo(dbP, &amp;dbID, NULL, NULL, &amp;cardNo, NULL))<a name="982172"> </a>
      return dmErrInvalidParam;<a name="982173"> </a>
 <a name="982174"> </a>
   // Allocate app info in storage heap. <a name="982175"> </a>
   h = DmNewHandle(dbP, sizeof(MyAppInfoType));<a name="982176"> </a>
   if (!h) return dmErrMemError;<a name="982177"> </a>
 <a name="982178"> </a>
   // Associate app info with database. <a name="982179"> </a>
   appInfoID = MemHandleToLocalID (h);<a name="982180"> </a>
   DmSetDatabaseInfo(cardNo, dbID, NULL, NULL, NULL, NULL, NULL, <a name="982181"> </a>
      NULL, NULL, &amp;appInfoID, NULL, NULL, NULL);<a name="982182"> </a>
 <a name="982183"> </a>
   // Initialize app info block to 0. <a name="982184"> </a>
   appInfoP = MemHandleLock(h);<a name="982185"> </a>
   DmSet(appInfoP, 0, sizeof(MyAppInfoType), 0); <a name="982186"> </a>
 <a name="982187"> </a>
   // Initialize the categories.<a name="982188"> </a>
   CategoryInitialize ((AppInfoPtr) appInfoP, <a name="982189"> </a>
      MyLocalizedAppInfoStr);<a name="982190"> </a>
 <a name="982191"> </a>
   // Unlock the app info block.<a name="982192"> </a>
   MemPtrUnlock(appInfoP);<a name="982193"> </a>
 <a name="982194"> </a>
   // Set the output parameter and return. <a name="982195"> </a>
   *dbPP = dbP;<a name="982196"> </a>
   return error;<a name="982197"> </a>
}<a name="982198"> </a>
</pre><div class="CodeRule"><hr></div>

<h2 class="HBHeadB">
  <a name="982200"> </a>Initializing the Category Pop-up Trigger
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="982201"> </a>When a form is opened, you need to set the text that the category pop-up trigger should display. To do this, use <a href="Category.html#984466"><span style="font-family: monospace">CategoryGetName</span></a> to look up the name in the <span style="font-family: monospace">AppInfoType</span> structure and then use <a href="Category.html#984674"><span style="font-family: monospace">CategorySetTriggerLabel</span></a> to set the pop-up trigger. 
</p>
<p class="Body">
  <a name="982210"> </a>For the main form of the application, it's common to store the index of the previously selected category in a preference and restore it when the application starts up again. 
</p>
<p class="Body">
  <a name="982211"> </a>Forms that display information from a single record should show that record's category in the pop-up list. Each database record stores the index of its category in its attribute word. You can retrieve the record attribute using <a href="DataAndResourceManager.html#1097150"><span style="font-family: monospace">DmRecordInfo</span></a> and then AND it with the mask <span style="font-family: monospace">dmRecAttrCategoryMask</span> to obtain the category index. 
</p>
<p class="Body">
  <a name="982220"> </a><a href="UserInterface.html#982222">Listing 4.4</a> shows how to set the trigger label to match the category for a particular database record. 
</p>
<p class="CCodeCaption">
  <a name="982222"> </a>Listing 4.4  Setting the category trigger label 
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
   UInt16 attr, category;<a name="982223"> </a>
   Char categoryName [dmCategoryLength];<a name="982224"> </a>
   ControlType *ctl;<a name="982225"> </a>
 <a name="982226"> </a>
   // If current category is All, we need to look <a name="982227"> </a>
   // up category.<a name="982228"> </a>
   if (CurrentCategory == dmAllCategories) {<a name="982229"> </a>
      DmRecordInfo (AddrDB, CurrentRecord, &amp;attr, <a name="982230"> </a>
         NULL, NULL);   <a name="982231"> </a>
      category = attr &amp; dmRecAttrCategoryMask;<a name="982232"> </a>
   } else <a name="982233"> </a>
      category = CurrentCategory;<a name="982234"> </a>
   CategoryGetName (AddrDB, category, <a name="982235"> </a>
      categoryName);<a name="1032247"> </a>
   ctl = FrmGetObjectPtr(frm, <a name="982236"> </a>
      FrmGetObjectIndex(frm, objectID));<a name="982237"> </a>
   CategorySetTriggerLabel (ctl, categoryName);<a name="982238"> </a>
</pre><div class="CodeRule"><hr></div>

<h2 class="HBHeadB">
  <a name="982240"> </a>Managing a Category Pop-up List 
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="982241"> </a>When the user taps the category pop-up trigger, call <a href="Category.html#984559"><span style="font-family: monospace">CategorySelect</span></a>. That is, call <span style="font-family: monospace">CategorySelect</span> in response to a <a href="EventRef.html#972101"><span style="font-family: monospace">ctlSelectEvent</span></a> when the ID stored in the event matches the ID of the category's trigger. The <span style="font-family: monospace">CategorySelect</span> function displays the pop-up list, manages the user selection, displays the Edit Categories modal dialog as necessary, and sets the pop-up trigger label to the item the user selected. 
</p>

<h4 class="HCHeadC">
  <a name="982249"> </a>Calling CategorySelect
</h4>
<p class="Body">
  <a name="982250"> </a>The following is a typical call to <span style="font-family: monospace">CategorySelect</span>: 
</p>
<p class="CCodeCaption">
  <a name="982251"> </a>Listing 4.5  Calling CategorySelect 
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
categoryEdited = CategorySelect (AddrDB, frm, <a name="982252"> </a>
  ListCategoryTrigger, ListCategoryList, true, &amp;category, <a name="982253"> </a>
  CategoryName, 1, categoryDefaultEditCategoryString);<a name="982254"> </a>
</pre><div class="CodeRule"><hr></div>
<p class="Body">
  <a name="982255"> </a>This example uses the following as parameters: 
</p>

  <a name="982256"> </a><p class="B1Bullet"> &#8226; <span style="font-family: monospace">AddrDB</span> is the database with the categories to be displayed. </p>

  <a name="982257"> </a><p class="B1Bullet"> &#8226; <span style="font-family: monospace">frm</span>, <span style="font-family: monospace">ListCategoryTrigger</span>, and <span style="font-family: monospace">ListCategoryList</span> identify the form, pop-up trigger resource, and list resource. </p>

  <a name="982258"> </a><p class="B1Bullet"> &#8226; <span style="font-family: monospace">true</span> indicates that the list should contain an "All" item. The "All" item should appear only in forms that display multiple records. It should not appear in forms that display a single record because selecting it would have no meaning. </p>

  <a name="982259"> </a><p class="B1Bullet"> &#8226; <span style="font-family: monospace">category</span> and <span style="font-family: monospace">CategoryName</span> are pointers to the index and name of the currently selected category. When you call this function, these two parameters should specify the category currently displayed in the pop-up trigger. Unfiled is the default. </p>

  <a name="982260"> </a><p class="B1Bullet"> &#8226; The number 1 is the number of uneditable categories. <span style="font-family: monospace">CategorySelect</span> needs this information when the user chooses the Edit Categories list item. Categories that the user cannot edit should not appear in the Edit Categories dialog. </p>
<p class="Indented1"> <a name="982261"> </a>Because uneditable categories are assumed to be at the beginning of the category list, passing 1 for this parameter means that <span style="font-family: monospace">CategorySelect</span> does not allow the user to edit the category at index 0. </p>

  <a name="982262"> </a><p class="B1Bullet"> &#8226; <span style="font-family: monospace">categoryDefaultEditCategoryString</span> is a constant that means include an Edit Categories item in the list and use the default string for its name ("Edit Categories" on US English ROMs). </p>
<p class="Indented1"> <a name="982263"> </a>To use a different name (for example, if you don't have enough room for the default name), pass the ID of a string resource containing the desired name. </p>
<p class="Indented1"> <a name="982264"> </a>In some cases, you might not want to include the Edit Categories item. If so, pass the constant <span style="font-family: monospace">categoryHideEditCategory</span>. </p>
<div class="NINoteImportant"><hr>
  <a name="982266"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">NOTE:  </span> The <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">categoryDefaultEditCategoryString</span> and <span style="font-family: monospace">categoryHideEditCategory</span> constants are only defined if <a href="CompatibilityApdx.html#971113">3.5 New Feature Set</a> is present. See the <a href="Category.html#984559"><span style="font-family: monospace">CategorySelect</span></a> function description in the <i>Palm OS Programmer's API Reference</i> for further compatibility information. 
<hr>
</div>

<h4 class="HCHeadC">
  <a name="982276"> </a>Interpreting the Return Value
</h4>
<p class="Body">
  <a name="982277"> </a>The <span style="font-family: monospace">CategorySelect</span> return value is somewhat tricky: <span style="font-family: monospace">CategorySelect</span> returns <span style="font-family: monospace">true</span> if the user edited the category list, <span style="font-family: monospace">false</span> otherwise. That is, if the user chose the Edit Categories item and added, deleted, or changed category names, the function returns <span style="font-family: monospace">true</span>. If the user never selects Edit Categories, the function returns <span style="font-family: monospace">false</span>. In most cases, a user simply selects a different category from the existing list without editing categories. In such cases, <span style="font-family: monospace">CategorySelect</span> returns <span style="font-family: monospace">false</span>. 
</p>
<p class="Body">
  <a name="982278"> </a>This means you should not rely solely on the return value to see if you need to take action. Instead, you should store the value that you passed for the category index and compare it to the index that <span style="font-family: monospace">CategorySelect</span> passes back. For example: 
</p>
<p class="CCodeCaption">
  <a name="982279"> </a>Listing 4.6  CategorySelect return value
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
Int16 category;<a name="982280"> </a>
Boolean categoryEdited;<a name="982281"> </a>
 <a name="982282"> </a>
category = CurrentCategory;<a name="982283"> </a>
 <a name="982284"> </a>
categoryEdited = CategorySelect (AddrDB, frm, <a name="982285"> </a>
  ListCategoryTrigger, ListCategoryList, true, &amp;category,<a name="982286"> </a>
  CategoryName, 1, categoryDefaultEditCategoryString);<a name="1032252"> </a>
 <a name="982287"> </a>
if ( categoryEdited || (category != CurrentCategory)) {<a name="982288"> </a>
  /* user changed category selection or edited category list. <a name="982289"> </a>
     Do something. */<a name="982290"> </a>
}<a name="982291"> </a>
</pre><div class="CodeRule"><hr></div>
<p class="Body">
  <a name="982292"> </a>If the user has selected a different category, you probably want to do one of two things: 
</p>

  <a name="982293"> </a><p class="B1Bullet"> &#8226; Update the display so that only records in that category are displayed. See the function <span style="font-family: monospace">ListViewUpdateRecords</span> in the Address Book example application for sample code. </p>

  <a name="982294"> </a><p class="B1Bullet"> &#8226; Change the current record's category from the previous category to the newly selected category. See the function <span style="font-family: monospace">EditViewSelectCategory</span> in the Address Book example application for sample code. </p>
<p class="Body">
  <a name="982295"> </a>Note that the <span style="font-family: monospace">CategorySelect</span> function handles the results of the Edit Categories dialog for you. It adds, deletes, and renames items in the database's <span style="font-family: monospace">AppInfoType</span> structure. If the user deletes a category that contains records, it moves those records to the Unfiled category. If the user changes the name of an existing category to the name of another existing category, it prompts the user and, if confirmed, moves the records from the old category to the new category. Therefore, you never have to worry about managing the category list after a call to <span style="font-family: monospace">CategorySelect</span>. 
</p>

<h2 class="HaHeadA">
  <a name="982297"> </a>Bitmaps 
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="982299"> </a>A bitmap is a graphic displayed by Palm OS. There are several ways to create a bitmap resource in Constructor: 
</p>

  <a name="982300"> </a><p class="B1Bullet"> &#8226; If you simply want to display a bitmap at a fixed location on a form, drag a Form Bitmap object to the form. Assign a resource ID in the Bitmap ID field, and you can then create a bitmap resource. The bitmap resource is a <span style="font-family: monospace">'Tbmp'</span> resource, and the Form Bitmap object that contains it is a <span style="font-family: monospace">'tFBM'</span> resource.</p>

  <a name="982304"> </a><p class="B1Bullet"> &#8226; If you want to create a bitmap for some other purpose (for example, to use in animation or to display a gadget), create either a Bitmap resource or a Bitmap Family resource in the main project window. In this case, Constructor creates a <span style="font-family: monospace">'tbmf' </span>resource, and the PalmRez post linker converts it and its associated PICTs to a <span style="font-family: monospace">'Tbmp'</span> resource. (Constructor creates PICT format images on both the Macintosh and Microsoft Windows operating systems.)</p>

<h2 class="HBHeadB">
  <a name="982392"> </a>Versions of Bitmap Support
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="982393"> </a>There are four different bitmap encodings:
</p>

  <a name="982394"> </a><p class="B1Bullet"> &#8226; Version 0 encoding is supported by all Palm OS releases. </p>

  <a name="982395"> </a><p class="B1Bullet"> &#8226; Version 1 encoding is supported on Palm OS 3.0 and later. PalmRez creates version 1 bitmaps unless you've explicitly specified a transparency index or a compression type when creating the bitmap in Constructor. </p>

  <a name="982396"> </a><p class="B1Bullet"> &#8226; Version 2 encoding is supported on Palm OS 3.5 and later. This encoding supports transparency indices and RLE compression. </p>
<p class="Indented1"> <a name="982397"> </a>With a version 2 bitmap, you can specify one index value as a transparent color at creation time. The transparency index is an alternative to masking. The system does not draw bits that have the transparency index value. </p>
<p class="Indented1"> <a name="982400"> </a>When a bitmap with a transparency index is rendered at a depth other than the one at which it was created, the transparent color is first translated to the corresponding depth color, and the resulting color is named transparent. This may result in a group of colors becoming transparent. </p>

  <a name="1020167"> </a><p class="B1Bullet"> &#8226; Version 3 encoding is supported on Palm OS 5 and handhelds running the <a href="CompatibilityApdx.html#976512">High-Density Display Feature Set</a>, and adds support for displays of varying densities.</p>

<h4 class="HCHeadC">
  <a name="1018195"> </a>High-Density Bitmaps
</h4>
<p class="Body">
  <a name="1033531"> </a>The <a href="Bitmap.html#1094929"><span style="font-family: monospace">BitmapTypeV3</span></a> data structure contains a 16-bit density field. For the screen bitmap, this field represents the screen density. An enumerated list representing density is defined in <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">Bitmap.h</span>:
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
typedef enum {<a name="1033622"> </a>
	kDensityLow = 72,<a name="1033623"> </a>
	kDensityOneAndAHalf = 108,<a name="1033667"> </a>
	kDensityDouble = 144,<a name="1033668"> </a>
	kDensityTriple = 216,<a name="1033669"> </a>
	kDensityQuadruple = 288<a name="1033702"> </a>
} DensityType;<a name="1033741"> </a>
</pre><div class="CodeRule"><hr></div>
<p class="Body">
  <a name="1025038"> </a>The <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">kDensityLow</span> value of 72 is arbitrary. Although this value doesn't necessarily represent pixels per inch, it is useful to think of it that way.
</p>
<div class="NINoteImportant"><hr>
  <a name="1018204"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">IMPORTANT:  </span> Not all densities listed in the <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">DensityType</span> enum are supported by this version of the High-Density Display feature set. For this release, only <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">kDensityLow</span> and <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">kDensityDouble</span> are supported.
<hr>
</div>
<p class="Body">
  <a name="1018205"> </a>Palm OS 4.0 was released with a version 2 <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">BitmapType</span> structure. The density field is defined only on <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">BitmapType</span> structures with a version greater than 2. If a given bitmap structure is version 2 or less, the operating system assumes that the bitmap contains low-density data.
</p>
<p class="Body">
  <a name="1018206"> </a>The blitter uses the density field in the source and destination bitmaps to determine an appropriate scaling factor. Because default density bitmaps must be scaled for high-density displays, some handhelds with high-density screens may use graphic accelerators. Nevertheless, the software blitter incorporates pixel-scaling logic for when the destination is an offscreen window.
</p>
<p class="Body">
  <a name="1018207"> </a>When scaling down from a density of <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">kDensityDouble</span> to <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">kDensityLow</span>, the software shrinks the bitmap data. The result is almost always a poorer quality image when compared with a bitmap originally generated with a density of <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">kDensityLow</span>.
</p>
<p class="Body">
  <a name="1018208"> </a>The following examples demonstrate the above concepts.
</p>

  <a name="1018209"> </a><p class="B1Bullet"> &#8226; <i>An application draws a low-density bitmap to a double-density screen.</i></p>
<p class="Indented1"> <a name="1018210"> </a>The source data is a 16 by 16 bitmap. The application calls</p>
<pre  class="Preformatted">
WinDrawBitmap(bitmapP, 31, 23);<a name="1018211"> </a>
</pre>
<p class="Indented1"> <a name="1018212"> </a>with the intention of placing the bitmap on the screen beginning at screen coordinate (31, 23), assuming the standard 160 by 160 coordinate system.</p>
<p class="Indented1"> <a name="1018213"> </a>Since Palm OS by default uses the standard coordinate system and since the handheld has a double-density screen, the draw window's draw state contains a scale field value of 2.0. <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">WinDrawBitmap</span> transforms (31, 23) to high-density coordinates by multiplying (31, 23) by the scale field, and then calls the blitter with coordinates (62, 46).</p>
<p class="Indented1"> <a name="1018214"> </a>The blitter receives the screen coordinates (62, 46) along with the low-density bitmap. The blitter recognizes the bitmap as low density, based upon the version of its <a href="Bitmap.html#1094646"><span style="font-family: monospace">BitmapType</span></a> structure, and pixel-doubles the source data when blitting to the double-density screen.</p>
<p class="Indented1"> <a name="1018218"> </a>The following illustration shows the source data on the left, with low-density window coordinates for the top-left and bottom-right corners. The illustration on the right shows the result as displayed on the screen, with top-left coordinates scaled by the Window Manager and bitmap data pixel-doubled by the blitter.</p>

<p class="FFigureCaption">
  <a name="1018219"> </a>Figure 4.19	 Low-density bitmap on a double-density screen
</p>
<p class="FgFigure">
  <a name="1018223"> </a><div align="left"><img src="images/UserInterfacea.gif" height="247" width="424" border="0" hspace="20" vspace="0">
</div>
</p>

  <a name="1018224"> </a><p class="B1Bullet"> &#8226; <i>A new application draws a double-density bitmap to a double-density screen.</i></p>
<p class="Indented1"> <a name="1018225"> </a>The source data is a 32 by 32 double-density bitmap. Recognizing that the bitmap is being drawn to a double-density screen, the application uses the new functions to establish the double-density coordinate system, and calls <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">WinDrawBitmap</span> with high-density coordinates:</p>
<pre  class="Preformatted">
WinPushDrawState();<a name="1018226"> </a>
oldScale =
WinSetCoordinateSystem(kCoordinatesNative);<a name="1018227"> </a>
WinDrawBitmap(bitmapP, 61, 45);<a name="1018228"> </a>
WinPopDrawState();<a name="1018229"> </a>
</pre>

<p class="FFigureCaption">
  <a name="1018230"> </a>Figure 4.20	 Double-density bitmap on a double-density screen
</p>
<p class="FgFigure">
  <a name="1018234"> </a><div align="left"><img src="images/UserInterface38.gif" height="313" width="360" border="0" hspace="20" vspace="0">
</div>
</p>
<p class="Indented1"> <a name="1018235"> </a>The double-density coordinates (61, 45) allow the application to position the bitmap more precisely on the screen; these coordinates are equivalent to coordinates (30.5, 22.5) in the standard coordinate system.</p>
<p class="Indented1"> <a name="1018236"> </a>Since the window's native coordinate system is active, the Window Manager leaves the double-density coordinates (61, 45) unchanged. The blitter receives these coordinates along with the double-density source bitmap. Because the screen bitmap has the same density, the blitter copies the source data to the screen unchanged.</p>
<p class="Indented1"> <a name="1018240"> </a>Note that the point of calling <a href="Window.html#1224953"><span style="font-family: monospace">WinSetCoordinateSystem</span></a> is not to have the OS draw the double-density bitmap, but to place the top-left corner of the bitmap at a double-density coordinate. If the application does not need the precision of double-density coordinates, the application can simply call <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">WinDrawBitmap</span>:</p>
<pre  class="Preformatted">
WinDrawBitmap(bitmapP, x, y);<a name="1018241"> </a>
</pre>
<p class="Indented1"> <a name="1018242"> </a>and pass standard coordinates for <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">x</span> and <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">y</span>. The Window Manager transforms (<span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">x</span>, <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">y</span>) to the screen coordinate system, and the blitter draws the double-density bitmap at that location.</p>
<p class="Indented1"> <a name="1018243"> </a>If standard coordinates are acceptable, and if the application's bitmap family contains both low-density and double-density bitmaps, <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">WinDrawBitmap</span> selects the appropriate bitmap from the bitmap family based on the destination window's density; no additional logic is needed in the application. By providing both double-density and low-density bitmaps in a bitmap family, applications can display images properly on handhelds with various screen densities without separate code paths.</p>
<p class="Indented1"> <a name="1018247"> </a>See <a href="UserInterface.html#1018264">"High-Density Bitmap Families"</a> for a more complete description of bitmap families.</p>

  <a name="1018248"> </a><p class="B1Bullet"> &#8226; <i>A new application draws a double-density bitmap to a low-density screen.</i></p>
<p class="Indented1"> <a name="1018249"> </a>If an application includes only high-density bitmaps, the blitter needs to shrink them when drawing them to the screen. The application can determine the screen density like this:</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
UInt32 density;<a name="1018250"> </a>
<a name="1018251"> </a>
err = WinScreenGetAttribute(winScreenDensity, &amp;density);<a name="1018252"> </a>
</pre><div class="CodeRule"><hr></div>
<p class="Indented1"> <a name="1018253"> </a>Understanding that the destination is low density, the application calls <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">WinDrawBitmap</span> using the standard coordinate system:</p>
<pre  class="Preformatted">
WinDrawBitmap(bitmapP, 31, 23);<a name="1018254"> </a>
</pre>
<p class="Indented1"> <a name="1018255"> </a>Because the destination window is low density, and because the passed coordinates are standard coordinates, the Window Manager does not scale the passed coordinates. The blitter, however, recognizes that the source bitmap has a density of <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">kDensityDouble</span> and shrinks the data to one-half the original size when blitting it to the low-density screen.</p>

<p class="FFigureCaption">
  <a name="1018256"> </a>Figure 4.21	 Double-density bitmap on a low-density screen
</p>
<p class="FgFigure">
  <a name="1018260"> </a><div align="left"><img src="images/UserInterface39.gif" height="232" width="428" border="0" hspace="20" vspace="0">
</div>
</p>
<p class="Indented1"> <a name="1018261"> </a>The result, shown above on the right, is poor. Because of this, for an application to look good on both low and high-density screens it should include both low and high-density bitmaps.</p>
<p class="Indented1"> <a name="1018262"> </a>Note that although the blitter included with the High-Density Display feature set can expand or shrink a bitmap as necessary, on handhelds without this feature set if an application contains a bitmap family with only high-density bitmaps, nothing is drawn.</p>

<h2 class="HBHeadB">
  <a name="1020513"> </a>Bitmap Families
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1020514"> </a>A <span style="font-family: monospace">'Tbmp'</span> resource defines either a single bitmap or a bitmap family. A <b>bitmap family</b> is a group of bitmaps, each containing the same drawing but at a different pixel depth (see <a href="UserInterface.html#1020526">Figure 4.22</a>). When requested to draw a bitmap family, the operating system chooses the version of the bitmap with the pixel depth equal to the display. If such a bitmap doesn't exist, the bitmap with the pixel depth closest to but less than the display depth is chosen. If there are no bitmaps less than the display depth, then the bitmap with the pixel depth closest to the display depth is used. 
</p>
<p class="Body">
  <a name="1020520"> </a>Programmatically, a bitmap or bitmap family is represented by a <a href="Bitmap.html#1094646"><span style="font-family: monospace">BitmapType</span></a> structure. This structure is simply a header. It is followed by the bitmap data in the same memory block. Bitmaps in Palm OS 3.0 and higher are also allowed to have their own color tables. When a bitmap has its own color table, it is stored between the bitmap header and the bitmap data. 
</p>

<p class="FFigureCaption">
  <a name="1020526"> </a>Figure 4.22	 Single-density bitmap family
</p>
<p class="FgFigure">
  <a name="1020598"> </a><div align="left"><img src="images/UserInterface36.gif" height="314" width="579" border="0" hspace="20" vspace="0">
</div>
</p>

<h4 class="HCHeadC">
  <a name="1018264"> </a>High-Density Bitmap Families
</h4>
<p class="Body">
  <a name="1018265"> </a>Bitmap families represent a single image across a variety of Palm handhelds with screens of different bit depths. Prior to the <a href="CompatibilityApdx.html#976512">High-Density Display Feature Set</a>, a bitmap family is a null-terminated linked list of bitmaps ordered from low to high bit depth. <a href="Window.html#1196325"><span style="font-family: monospace">WinDrawBitmap</span></a> iterated through the linked list and selected the bitmap with the greatest bit depth less than or equal to the draw window's bit depth.
</p>
<p class="Body">
  <a name="1024390"> </a>Although bitmap families are still represented using a null-terminated linked list of bitmaps, the algorithm used to select the appropriate bitmap for a given situation changes with the High-Density Display feature set. There are two reasons for this change. First, when the draw window is 8-bit, it is better to select a 16-bit image over a grayscale image. Second, density must now be taken into account when selecting a bitmap.
</p>
<p class="Body">
  <a name="1018272"> </a>The algorithm that is used in the High-Density Display feature set depends upon the density of the draw window. If the draw window is low density, low-density bitmaps are always favored over double-density bitmaps, regardless of source bitmap depth. If the draw window is double density, however, the color domain match (color vs. grayscale) is favored over a double-density bitmap with a color domain mismatch. The following algorithm is used on a handheld with a double-density screen:
</p>
<pre  class="Preformatted">
If draw window is low density {<a name="1018273"> </a>
    Favor low-density over double-density<a name="1018274"> </a>
    If draw window is color {<a name="1018275"> </a>
        Favor color bitmap<a name="1018276"> </a>
    } else {<a name="1018277"> </a>
        Favor grayscale, picking greatest depth<a name="1018278"> </a>
          less than or equal to draw window's<a name="1032281"> </a>
          depth<a name="1032282"> </a>
    }<a name="1018279"> </a>
} else {<a name="1018280"> </a>
        If draw window is color {<a name="1018281"> </a>
            Favor color<a name="1018282"> </a>
        } else {<a name="1018283"> </a>
            Favor grayscale<a name="1018284"> </a>
        }<a name="1018285"> </a>
    }<a name="1018286"> </a>
}<a name="1018287"> </a>
</pre>
<p class="Body">
  <a name="1018288"> </a>The following table provides the results of applying this double-density algorithm. The two left columns represent the draw window's depth and density. The third column lists the bitmap selection preferences, ordered from best to worst (a 'd' in this third column indicates double-density).
</p>

<h5 class="TgTable">
  <a name="1018368"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption><a name="1018291"> </a><div class="TableTitle">Table 4.17	 Double-density algorithm results </div></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th colspan="2" rowspan="1"><a name="1018297"> </a><div class="CellHeading">Draw Window </div></th>
    <th colspan="1" rowspan="2"><a name="1018301"> </a><div class="CellHeading">Bitmap selection preferences</div></th>
  </tr>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="1018303"> </a><div class="CellHeading">Depth</div></th>
    <th><a name="1018305"> </a><div class="CellHeading">Density</div></th>
  </tr>
  <tr valign="top">
    <td><a name="1018309"> </a><div class="CellBody">1</div></td>
    <td><a name="1018311"> </a><div class="CellBody">Single</div></td>
    <td><a name="1018313"> </a><div class="CellBody">1, 2, 4, 8, 16</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1018315"> </a><div class="CellBody">2</div></td>
    <td><a name="1018317"> </a><div class="CellBody">Single</div></td>
    <td><a name="1018319"> </a><div class="CellBody">2, 1, 4, 8, 16</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1018321"> </a><div class="CellBody">4</div></td>
    <td><a name="1018323"> </a><div class="CellBody">Single</div></td>
    <td><a name="1018325"> </a><div class="CellBody">4, 2, 1, 8, 16</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1018327"> </a><div class="CellBody">8</div></td>
    <td><a name="1018329"> </a><div class="CellBody">Single</div></td>
    <td><a name="1018331"> </a><div class="CellBody">8, 16, 4, 2, 1</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1018333"> </a><div class="CellBody">16</div></td>
    <td><a name="1018335"> </a><div class="CellBody">Single</div></td>
    <td><a name="1018337"> </a><div class="CellBody">16, 8, 4, 2, 1</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1018339"> </a><div class="CellBody">1</div></td>
    <td><a name="1018341"> </a><div class="CellBody">Double</div></td>
    <td><a name="1018343"> </a><div class="CellBody">1d, 2d, 4d, 1, 2, 4, 8d, 16d, 8, 16</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1018345"> </a><div class="CellBody">2</div></td>
    <td><a name="1018347"> </a><div class="CellBody">Double</div></td>
    <td><a name="1018349"> </a><div class="CellBody">2d, 1d, 4d, 2, 1, 4, 8d, 16d, 8, 16</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1018351"> </a><div class="CellBody">4</div></td>
    <td><a name="1018353"> </a><div class="CellBody">Double</div></td>
    <td><a name="1018355"> </a><div class="CellBody">4d, 2d, 1d, 4, 2, 1, 8d, 16d, 8, 16</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1018357"> </a><div class="CellBody">8</div></td>
    <td><a name="1018359"> </a><div class="CellBody">Double</div></td>
    <td><a name="1018361"> </a><div class="CellBody">8d, 16d, 8, 16, 4d, 2d, 1d, 4, 2, 1</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1018363"> </a><div class="CellBody">16</div></td>
    <td><a name="1018365"> </a><div class="CellBody">Double</div></td>
    <td><a name="1018367"> </a><div class="CellBody">16d, 8d, 16, 8, 4d, 2d, 1d, 4, 2, 1</div></td>
  </tr>
</table>




</h5><p class="Body">
  <a name="1018369"> </a>Bitmaps in a bitmap family are grouped by density. For backward compatibility, the linked list of default density bitmaps occur first, and remain ordered from low to high bit depths. If the family contains high-density bitmaps, the high-density bitmaps follow the low-density bitmaps, again ordered from low to high bit depths. If the family contains multiple densities, then the density sets are ordered from low to high density.
</p>
<div class="NINoteImportant"><hr>
  <a name="1018370"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">IMPORTANT:  </span> A bitmap family used for a graphic button, slider, or form bitmap must include at least one low-density version of the image in the bitmap family. This restriction doesn't apply to bitmaps used for custom gadgets: if your application will only run on handhelds with high-density displays, you don't need to have any low-density images in your custom gadget bitmap families.
<hr>
</div>
<p class="Body">
  <a name="1018371"> </a>Handhelds that don't have the High-Density Display feature set don't display high-density bitmaps. They do, however, display any low-density bitmaps in applications that contain both low and high-density bitmaps. This is because the older versions of the OS don't attempt to follow the linked list of bitmaps in a bitmap family as it crosses over from low-density to high-density bitmaps. This is accomplished by inserting a dummy version 1 bitmap structure between the low-density and high-density bitmaps within a bitmap family. The dummy bitmap contains no bitmap data, no color table, and an invalid bit depth. By setting the bit depth of the dummy bitmap to 0xFF, the logic in older versions of the OS that traverse the linked list of bitmaps stops at the appropriate place in the list.
</p>
<p class="Body">
  <a name="1018372"> </a>The High-Density Display feature set recognizes that the dummy bitmap is followed by high-density bitmaps and continues the traversal, skipping over the dummy bitmap. Note that the dummy bitmap is only present if there are one or more high-density bitmaps, and is always present if there are any high-density bitmaps. The dummy bitmap is the first bitmap if there are high-density bitmaps but no low-density bitmaps.
</p>
<p class="Body">
  <a name="1018376"> </a><a href="UserInterface.html#1018378">Figure 4.23</a> illustrates the process of traversing the bitmaps in a bitmap family. The dotted line indicates a step that is taken only in handhelds running the High-Density Display feature set.
</p>

<p class="FFigureCaption">
  <a name="1018378"> </a>Figure 4.23	 Linked list of bitmaps in a bitmap family
</p>
<p class="FgFigure">
  <a name="1018382"> </a><div align="left"><img src="images/UserInterface40.gif" height="590" width="480" border="0" hspace="20" vspace="0">
</div>
</p>

<h2 class="HBHeadB">
  <a name="982401"> </a>Drawing a Bitmap
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="982402"> </a>If you use a Form Bitmap object, your bitmap is drawn when the form is drawn. No extra coding is required on your part. 
</p>
<p class="Body">
  <a name="982403"> </a>If you're not using a Form Bitmap object, to draw the bitmap you obtain it from the resource database and then call either <a href="Window.html#1196325"><span style="font-family: monospace">WinDrawBitmap</span></a> or <a href="Window.html#1197879"><span style="font-family: monospace">WinPaintBitmap</span></a>. (The form manager code uses <span style="font-family: monospace">WinDrawBitmap</span> to draw Form Bitmap objects.) If passed a bitmap family, these two functions draw the bitmap that has the depth equal to the current draw window depth or the closest depth that is less than the current draw window depth if available, or the closest depth greater than the current draw depth if not.
</p>
<p class="CCodeCaption">
  <a name="982412"> </a>Listing 4.7  Drawing a bitmap
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
MemHandle resH = DmGetResource (bitmapRsc, rscID);<a name="982413"> </a>
BitmapType *bitmap = MemHandleLock (resH);<a name="982414"> </a>
WinPaintBitmap(bitmap, 0, 0);<a name="982415"> </a>
</pre><div class="CodeRule"><hr></div>
<p class="Body">
  <a name="982416"> </a>If you want to modify a bitmap, starting in Palm OS 3.5 you can create the bitmap programmatically with <a href="Bitmap.html#1089658"><span style="font-family: monospace">BmpCreate</span></a>, create an offscreen window wrapper around the bitmap using <a href="Window.html#1196103"><span style="font-family: monospace">WinCreateBitmapWindow</span></a>, set the active window to the new bitmap window, and use the window drawing functions to draw to the bitmap: 
</p>
<p class="CCodeCaption">
  <a name="982425"> </a>Listing 4.8  Programmatically creating a bitmap
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
BitmapType *bmpP;<a name="982426"> </a>
WinHandle win;<a name="982427"> </a>
Err error;<a name="982428"> </a>
 <a name="982429"> </a>
bmpP = BmpCreate(10, 10, 8, NULL, &amp;error);<a name="982430"> </a>
if (bmpP) {<a name="982431"> </a>
  win = WinCreateBitmapWindow(bmpP, &amp;error);<a name="982432"> </a>
  if (win) {<a name="982433"> </a>
    WinSetDrawWindow(win);<a name="982434"> </a>
    WinDrawLines(win, ...);<a name="982435"> </a>
    /* etc */<a name="982436"> </a>
  }<a name="982437"> </a>
}<a name="1025260"> </a>
</pre><div class="CodeRule"><hr></div>
<p class="Body">
  <a name="1025261"> </a>Note that <span style="font-family: monospace">BmpCreate</span> always creates a version 2 bitmap 
</p>
<p class="Body">
  <a name="1025262"> </a>To learn how to modify a bitmap in releases prior to Palm OS 3.5, download the Signatures example application from the Knowledge Base on the Palm OS Developer website. 
</p>

<h2 class="HBHeadB">
  <a name="982441"> </a>Color Tables and Bitmaps
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="982442"> </a>As mentioned previously, bitmaps can have their own color tables attached to them. A bitmap might have a custom color table if it requires a palette that differs from the default system palettes. If a bitmap has its own color table, the system must create a conversion table to convert the color table of the current draw window before it can draw the bitmap. This conversion is a drain on performance, so using custom color tables with bitmaps is not recommended if performance is critical. 
</p>
<p class="Body">
  <a name="982443"> </a>As an alternative, if your bitmap needs a custom palette, use the <a href="Window.html#1198281"><span style="font-family: monospace">WinPalette</span></a> function to change the system palette that is currently in use, then draw your bitmap. After the bitmap is no longer visible, use <span style="font-family: monospace">WinPalette</span> again to set the system palette back to its previous state. 
</p>

<h2 class="HaHeadA">
  <a name="982449"> </a>Labels 
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="982452"> </a>You can create a label in a form by creating a label resource. 
</p>
<p class="Body">
  <a name="982454"> </a>The label resource displays noneditable text or labels on a form (dialog or full-screen). It's used, for example, to have text appear to the left of a checkbox instead of the right. 
</p>
<p class="Body">
  <a name="982455"> </a>You don't interact with a label as a programmatic entity; however, you can use Form API to create new labels or to change labels dynamically. See the <a href="UserInterface.html#983154">"Summary of User Interface API"</a><a href="UserInterface.html#983154"></a> at the end of this chapter.
</p>

<h2 class="HaHeadA">
  <a name="982463"> </a>Scroll Bars 
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="982470"> </a>Palm OS 2.0 and later provides vertical scroll bar support. As a result, you can attach scroll bars to fields, tables, or lists, and the system sends the appropriate events when the end user interacts with the scroll bar (see <a href="UserInterface.html#982475">Figure 4.24</a>). 
</p>

<p class="FFigureCaption">
  <a name="982475"> </a>Figure 4.24	 Scroll bar
</p>
<p class="FgFigure">
  <a name="982482"> </a><div align="left"><img src="images/UserInterface37.gif" height="186" width="360" border="0" hspace="20" vspace="0">
</div>
</p>
<p class="Body">
  <a name="982483"> </a>Here's what you have to do to include a scroll bar in your user interface: 
</p>
  <a name="982484"> </a><p class="N1NumList">1.	  Create a scroll bar (tSCL) UI resource. </p><p class="Indented1"> <a name="982485"> </a>Provide the ID and the bounds for the scroll bar rectangle. The height has to match the object you want to attach it to. The width should be 7.</p>
  <a name="982486"> </a><p class="N1NumList">2.	  Provide a minimum and maximum value as well as a page size. </p>
  <a name="982487"> </a><p class="B1Bullet"> &#8226; Minimum is usually 0.</p>

  <a name="982488"> </a><p class="B1Bullet"> &#8226; Maximum is usually 0 and set programmatically.</p>

  <a name="982489"> </a><p class="B1Bullet"> &#8226; The page size determines how many lines the scroll bar moves when the text scrolls. </p>
  <a name="982490"> </a><p class="N1NumList">3.	  Make the scroll bar part of the form.</p><p class="Indented1"> <a name="982491"> </a>When you compile your application, the system creates the appropriate scroll bar UI object. (See the chapter <a href="Scrollbar.html#1058129">"Scroll Bars"</a> in the <i>Palm OS Programmer's API Reference</i> for more information on the scroll bar UI object.)</p>
<p class="Body">
  <a name="982498"> </a>There are two ways in which the scroll bar and the user interface object that it's attached to need to interact: 
</p>

  <a name="982499"> </a><p class="B1Bullet"> &#8226; When the user adds or removes text, the scroll bar needs to know about the change in size. </p>
<p class="Indented1"> <a name="982500"> </a>To get this functionality, set the <span style="font-family: monospace">hasScrollbar</span> attribute of the field, table, or list. (For tables, you must set this programmatically with the function <a href="Table.html#1062144"><span style="font-family: monospace">TblHasScrollBar</span></a>.)</p>
<p class="Indented1"> <a name="982504"> </a>If <span style="font-family: monospace">hasScrollbar</span> is set for a field, you'll receive a <a href="EventRef.html#972188"><span style="font-family: monospace">fldChangedEvent</span></a> whenever the field's size changes. Your application should handle these events by computing new values for the scroll bar's minimum, maximum, and current position and then use <a href="Scrollbar.html#1058432"><span style="font-family: monospace">SclSetScrollBar</span></a> to update it. </p>
<p class="Indented1"> <a name="982512"> </a>If <span style="font-family: monospace">hasScrollbar</span> is set for a table, you should keep track of when the table's size changes. Whenever it does, you should compute new values for the scroll bar's minimum, maximum, and current position and then use <span style="font-family: monospace">SclSetScrollBar</span> to update it. </p>
<p class="Indented1"> <a name="982513"> </a>Lists are intended for static data, so you typically don't have to worry about the size of a list changing. </p>
<p class="Indented1"> <a name="982514"> </a>You should also call <span style="font-family: monospace">SclSetScrollBar</span> when the form is initialized to set the current position of the scroll bar. </p>

  <a name="982515"> </a><p class="B1Bullet"> &#8226; When the user moves the scroll bar, the text needs to move accordingly. This can either happen dynamically (as the user moves the scroll bar) or statically (after the user has released the scroll bar). </p>
<p class="Indented1"> <a name="982516"> </a>The system sends the following scroll bar events:</p>
  <a name="982521"> </a><p class="B2BulletSub"> -	 <a href="EventRef.html#973177"><span style="font-family: monospace">sclEnterEvent</span></a> is sent when a <span style="font-family: monospace">penDownEvent</span> occurs within the bounds of the scroll bar. </p>  <a name="982526"> </a><p class="B2BulletSub"> -	 <a href="EventRef.html#973239"><span style="font-family: monospace">sclRepeatEvent</span></a> is sent when the user drags the scroll bar. </p>  <a name="982531"> </a><p class="B2BulletSub"> -	 <a href="EventRef.html#973202"><span style="font-family: monospace">sclExitEvent</span></a> is sent when the user lifts the pen. This event is sent regardless of previous <span style="font-family: monospace">sclRepeatEvent</span>s. </p><p class="Indented1"> <a name="982532"> </a>Applications that want to support immediate-mode scrolling (that is, scrolling happens as the user drags the pen) need to watch for occurrences of <span style="font-family: monospace">sclRepeatEvent</span>. In response to this event, call the scrolling function associated with the UI object (<a href="Field.html#999349"><span style="font-family: monospace">FldScrollField</span></a>, <a href="List.html#1043145"><span style="font-family: monospace">LstScrollList</span></a>, or your own scrolling function in the case of tables).</p>
<p class="Indented1"> <a name="982539"> </a>Applications that don't support immediate-mode scrolling should ignore occurrences of <span style="font-family: monospace">sclRepeatEvent</span> and wait only for the <span style="font-family: monospace">sclExitEvent</span>. </p>

<h2 class="HaHeadA">
  <a name="982541"> </a>Custom UI Objects (Gadgets) 
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="982543"> </a>A gadget resource lets you implement a custom UI object. The gadget resource contains basic information about the custom gadget, which is useful to the gadget writer for drawing and processing user input.
</p>
<p class="Body">
  <a name="982544"> </a>You interact with gadgets programmatically using the Form API. See the <a href="UserInterface.html#983154">"Summary of User Interface API"</a><a href="UserInterface.html#983154"></a> at the end of this chapter. 
</p>
<p class="Body">
  <a name="982551"> </a>A gadget is best thought of as simply a reserved rectangle at a set location on the form. You must provide all drawing and event handling code. There is no default behavior for a gadget. 
</p>
<p class="Body">
  <a name="982552"> </a>Starting in Palm OS 3.5, you can create an extended gadget. An extended gadget is simply a gadget with a callback routine (<a href="Form.html#1024561"><span style="font-family: monospace">FormGadgetHandlerType</span></a>) that provides drawing and event handling code for the gadget. Use <a href="Form.html#1024198"><span style="font-family: monospace">FrmSetGadgetHandler</span></a> to set the callback function. (A pointer to the gadget is passed to the callback, so you can use the same function for multiple gadgets.) When the form receives certain requests to draw itself, delete itself, or to hide or show a gadget object, the form manager calls the gadget handler function you provide. When the form receives events intended for the gadget, it passes those to the gadget handler function as well. 
</p>
<p class="Body">
  <a name="982561"> </a>In versions prior to 3.5, gadgets do not have a callback function. Instead, you must write code to draw the gadget and respond to pen down events in the form's event handler. <a href="UserInterface.html#982569">Listing 4.9</a> shows the event handler for the main form in the Rock Music sample application. This code makes calls to draw the gadget in response to a <span style="font-family: monospace">frmOpenEvent</span> or <span style="font-family: monospace">frmUpdateEvent</span>, and if there is a <span style="font-family: monospace">penDownEvent</span> within the bounds of the gadget, it calls a function to handle that event as well. <a href="UserInterface.html#982607">Listing 4.10</a> shows how a gadget handler function might be written for Rock Music. 
</p>
<p class="CCodeCaption">
  <a name="982569"> </a>Listing 4.9  Pre-Palm OS 3.5 gadget example
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
Boolean MainViewHandleEvent(EventPtr event)<a name="982570"> </a>
{<a name="982571"> </a>
   Boolean handled = false;<a name="982572"> </a>
   Word objIndex;<a name="982573"> </a>
   FormPtr frm;<a name="982574"> </a>
   RectangleType r;<a name="982575"> </a>
 <a name="982576"> </a>
   switch (event-&gt;eType) {<a name="982577"> </a>
      case frmOpenEvent:<a name="982578"> </a>
         MainViewInit();<a name="982579"> </a>
         frm = FrmGetActiveForm ();<a name="982580"> </a>
         FrmDrawForm (frm);<a name="982581"> </a>
         DrawGadget();<a name="982582"> </a>
         handled = true;<a name="982583"> </a>
         break;<a name="982584"> </a>
      <a name="982585"> </a>
      case frmUpdateEvent:<a name="982586"> </a>
         frm = FrmGetActiveForm ();<a name="982587"> </a>
         FrmDrawForm (frm);<a name="982588"> </a>
         DrawGadget();<a name="982589"> </a>
         handled = true;<a name="982590"> </a>
         break;<a name="982591"> </a>
         <a name="982592"> </a>
      case penDownEvent:<a name="982593"> </a>
         frm = FrmGetActiveForm ();<a name="982594"> </a>
         objIndex = FrmGetObjectIndex (frm, <a name="982595"> </a>
            RockMusicMainInputGadget);<a name="982596"> </a>
         FrmGetObjectBounds (frm, objIndex, &amp;r);<a name="982597"> </a>
         if (RctPtInRectangle (event-&gt;screenX, <a name="982598"> </a>
            event-&gt;screenY, &amp;r)) {<a name="982599"> </a>
            GadgetTapped ();<a name="982600"> </a>
            handled=true;<a name="982601"> </a>
         }<a name="982602"> </a>
         break;<a name="982603"> </a>
      ...<a name="982604"> </a>
   }<a name="982605"> </a>
</pre><div class="CodeRule"><hr></div>
<p class="CCodeCaption">
  <a name="982607"> </a>Listing 4.10  Palm OS 3.5 gadget example
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
Boolean GadgetHandler (struct FormGadgetType *gadgetP,
UInt16 cmd, void *paramP)<a name="982608"> </a>
{<a name="982609"> </a>
   Boolean handled = false;<a name="982610"> </a>
 <a name="982611"> </a>
   switch (cmd) {<a name="982612"> </a>
      case formGadgetDrawCmd:<a name="982614"> </a>
      //Sent to active gadgets any time form is <a name="982615"> </a>
      //drawn or redrawn.<a name="982616"> </a>
         DrawGadget();<a name="982617"> </a>
         gadgetP-&gt;attr.visible = true;<a name="982618"> </a>
         handled = true;<a name="982619"> </a>
         break;<a name="982620"> </a>
      <a name="982621"> </a>
      case formGadgetHandleEventCmd:<a name="982623"> </a>
      //Sent when form receives a gadget event. <a name="982624"> </a>
      //paramP points to EventType structure. <a name="982625"> </a>
         if (paramP-&gt;eType == frmGadgetEnterEvent) {<a name="982627"> </a>
         // penDown in gadget's bounds. <a name="982628"> </a>
            GadgetTapped ();<a name="982629"> </a>
            handled = true;<a name="982630"> </a>
         }<a name="982631"> </a>
         if (paramP-&gt;eType == frmGadgetMiscEvent) {<a name="982633"> </a>
            //This event is sent by your application<a name="982634"> </a>
            //when it needs to send info to the gadget<a name="982635"> </a>
         }<a name="982636"> </a>
         break;<a name="982637"> </a>
      case formGadgetDeleteCmd: <a name="982639"> </a>
         //Perform any cleanup prior to deletion.<a name="982640"> </a>
         break;<a name="982641"> </a>
      case formGadgetEraseCmd: <a name="982643"> </a>
      //FrmHideObject takes care of this if you <a name="982644"> </a>
      //return false. <a name="982645"> </a>
         handled = false;<a name="982646"> </a>
         break;<a name="982647"> </a>
   }<a name="982648"> </a>
   return handled;<a name="982649"> </a>
}<a name="982650"> </a>
</pre><div class="CodeRule"><hr></div>

<h2 class="HaHeadA">
  <a name="982652"> </a>Dynamic UI 
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="982653"> </a>Palm OS 3.0 and higher provide functions that can be used to create forms and form elements at runtime. Most applications will never need to change any user interface elements at runtime-the built-in applications don't do so, and the Palm user interface guidelines discourage it. The preferred method of having UI objects appear as needed is to create the objects in Constructor and set their usable attributes to false. Then use <a href="Form.html#1024370"><span style="font-family: monospace">FrmShowObject</span></a> and <a href="Form.html#1023568"><span style="font-family: monospace">FrmHideObject</span></a> to make the object appear and disappear as needed. 
</p>
<p class="Body">
  <a name="982660"> </a>Some applications, such as forms packages, must create their displays at runtime-it is for applications such as these that the Dynamic UI API is provided. If you're not absolutely sure that you need to change your UI dynamically, don't do it-unexpected changes to an application's interface are likely to confuse or frustrate the end user. 
</p>
<p class="Body">
  <a name="982665"> </a>You can use the <a href="Form.html#1023666"><span style="font-family: monospace">FrmNewForm</span></a> function to create new forms dynamically. Palm's UI guidelines encourage you to keep modal dialogs at the bottom of the screen, using the entire screen width. This isn't enforced by the routine, but is strongly encouraged in order to maintain a look and feel that is consistent with the built-in applications.
</p>
<p class="Body">
  <a name="982678"> </a>The <a href="Form.html#1023767"><span style="font-family: monospace">FrmNewLabel</span></a>, <a href="Form.html#1023639"><span style="font-family: monospace">FrmNewBitmap</span></a>, <a href="Form.html#1023704"><span style="font-family: monospace">FrmNewGadget</span></a>, <a href="List.html#1043090"><span style="font-family: monospace">LstNewList</span></a>, <a href="Field.html#999160"><span style="font-family: monospace">FldNewField</span></a> and <a href="Control.html#989667"><span style="font-family: monospace">CtlNewControl</span></a> functions can be used to create new objects on forms. 
</p>
<p class="Body">
  <a name="982691"> </a>It is fine to add new items to an active form, but doing so is very likely to move the form structure in memory; therefore, any pointers to the form or to controls on the form might change. Make sure to update any variables or pointers that you are using so that they refer to the form's new memory location, which is returned when you create the object.
</p>
<p class="Body">
  <a name="982696"> </a>The <a href="Form.html#1023848"><span style="font-family: monospace">FrmRemoveObject</span></a> function removes an object from a form. This function doesn't free memory referenced by the object (if any) but it does shrink the form chunk. For best efficiency when removing items from forms, remove items in order of decreasing index values, beginning with the item having the highest index value. When removing items from a form, you need to be mindful of the same concerns as when adding items: the form pointer and pointers to controls on the form may change as a result of any call that moves the form structure in memory.
</p>
<p class="Body">
  <a name="982697"> </a>When creating forms dynamically, or just to make your application more robust, use the <a href="Form.html#1024455"><span style="font-family: monospace">FrmValidatePtr</span></a> function to ensure that your form pointer is valid and the form it points to is valid. This routine can catch lots of bugs for you-use it!
</p>

<h2 class="HBHeadB">
  <a name="982702"> </a>Dynamic User Interface Functions
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="982703"> </a>The following API can be used to create forms dynamically:
</p>

  <a name="982707"> </a><p class="B1Bullet"> &#8226; <a href="Control.html#989667"><span style="font-family: monospace">CtlNewControl</span></a> </p>

  <a name="982711"> </a><p class="B1Bullet"> &#8226; <a href="Control.html#990039"><span style="font-family: monospace">CtlValidatePointer</span></a> </p>

  <a name="982715"> </a><p class="B1Bullet"> &#8226; <a href="Field.html#999160"><span style="font-family: monospace">FldNewField</span></a> </p>

  <a name="982719"> </a><p class="B1Bullet"> &#8226; <a href="Form.html#1023639"><span style="font-family: monospace">FrmNewBitmap</span></a> </p>

  <a name="982723"> </a><p class="B1Bullet"> &#8226; <a href="Form.html#1023666"><span style="font-family: monospace">FrmNewForm</span></a> </p>

  <a name="982727"> </a><p class="B1Bullet"> &#8226; <a href="Form.html#1023704"><span style="font-family: monospace">FrmNewGadget</span></a> </p>

  <a name="982731"> </a><p class="B1Bullet"> &#8226; <a href="Form.html#1023767"><span style="font-family: monospace">FrmNewLabel</span></a> </p>

  <a name="982735"> </a><p class="B1Bullet"> &#8226; <a href="Form.html#1023848"><span style="font-family: monospace">FrmRemoveObject</span></a> </p>

  <a name="982739"> </a><p class="B1Bullet"> &#8226; <a href="Form.html#1024455"><span style="font-family: monospace">FrmValidatePtr</span></a> </p>

  <a name="982743"> </a><p class="B1Bullet"> &#8226; <a href="List.html#1043090"><span style="font-family: monospace">LstNewList</span></a> </p>

  <a name="982747"> </a><p class="B1Bullet"> &#8226; <a href="Window.html#1199301"><span style="font-family: monospace">WinValidateHandle</span></a> </p>

  <a name="982754"> </a><p class="B1Bullet"> &#8226; <a href="Form.html#1023737"><span style="font-family: monospace">FrmNewGsi</span></a> (available only if <a href="CompatibilityApdx.html#971113">3.5 New Feature Set</a> is present)</p>

<h2 class="HaHeadA">
  <a name="982756"> </a>Color and Grayscale Support 
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="982757"> </a>Starting in Palm OS version 3.5, the operating system supports system palettes of 1, 2, 4, or 8 bits-per-pixel, as follows: 
</p>

  <a name="982759"> </a><p class="B1Bullet"> &#8226; 1-bit: white (0) and black (1) </p>

  <a name="982760"> </a><p class="B1Bullet"> &#8226; 2-bit: white (0), light gray (1), dark gray (2), and black (3) </p>

  <a name="982761"> </a><p class="B1Bullet"> &#8226; 4-bit: 16 shades of gray, from white (0) to black (0xF) </p>

  <a name="982762"> </a><p class="B1Bullet"> &#8226; 8-bit: 216 color "Web-safe" palette, which includes all combinations of red, green, and blue at these levels: 0x00, 0x33, 0x66, 0x99, 0xCC, and 0xFF. Also, it includes all 16 gray shades at these levels: 0x00, 0x11, 0x22, ... 0xFF. Finally, it includes these extra named HTML colors: 0xC0C0C0 (silver), 0x808080 (gray), 0x800000 (maroon), 0x800080 (purple), 0x008000 (green), and 0x008080 (teal). The remaining 24 entries (indexes 0xE7 through 0xFE) are unspecified and filled with black. These entries may be defined by an application. </p>
<p class="Body">
  <a name="982763"> </a>Generalized support for color tables in all bit depths is included, with performance degrading if the color tables are not standard. 
</p>
<p class="Body">
  <a name="982764"> </a>Starting in Palm OS version 4.0, the operating system supports 16-bit color. However, support is not provided to allow the UI layer of the OS to utilize 16-bit color mode. Buttons, controls, and other gadgets continue to be displayed with a color bit depth of no more than 8-bits.
</p>

<h2 class="HBHeadB">
  <a name="982766"> </a>Indexed Versus Direct Color Display
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="982767"> </a>Displays that support 1, 2, 4, or 8 bits per pixel rely on a color lookup table in the display hardware in order to map pixel values into colors. The only colors that can be displayed on the screen at any given time are those that are found in the display's color lookup table.
</p>
<p class="Body">
  <a name="982769"> </a>Direct color displays on the other hand, do not rely on a color lookup table because the value stored into each pixel location specifies the amount of red, green, and blue components directly. For example, a 16-bit direct color display could have 5 bits of each pixel assigned as the red component, 6 bits as the green component, and 5 bits as the blue component. With this type of display, the application is no longer limited to drawing with a color that is in the color lookup table.
</p>
<p class="Body">
  <a name="982770"> </a>The color indexed mode for setting the foreground, background, and text colors used previous to Palm OS release 4.0 continues to work even with direct color displays because the system uses a translation table for mapping color index values into direct colors.
</p>
<p class="Body">
  <a name="982771"> </a>When the screen is a direct color display, the color lookup table for the screen is present only for compatibility with the indexed mode color calls. The lookup table has no effect on the display hardware, since the hardware derives the color from the red, green, and blue bits stored in each pixel location of the frame buffer.
</p>

<h2 class="HBHeadB">
  <a name="982772"> </a>Color Table
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="982773"> </a>The system color table is stored in a <span style="font-family: monospace">'tclt'</span> resource (symbolically named <span style="font-family: monospace">colorTableRsc</span>). The color table is a count of the number of entries, followed by an array of <a href="Bitmap.html#1089473"><span style="font-family: monospace">RGBColorType</span></a> colors. An <span style="font-family: monospace">RGBColorType</span> struct holds 8 bits each of red, green, and blue plus an "extra" byte to hold an index value. 
</p>
<p class="Body">
  <a name="982779"> </a>A color's index is used in different ways by different software layers. When querying for a color or doing color fitting, the index holds the index of the closest match to the RGB value in the reference color table. When setting a color in a color table, the index can specify which slot the color should occupy. In some routines, the index is ignored. 
</p>
<p class="Body">
  <a name="982780"> </a>Generally, the drawing routines and the operating system use indexed colors rather than RGB. Indexed colors are used for performance reasons; it allows the RGB-to-index translation to be skipped for most drawing operations. 
</p>
<p class="Body">
  <a name="982781"> </a>Care should be taken not to confuse a full color table (which includes the count) with an array of RGB color values. Some routines operate on entire color tables, others operate on lists of color entries.
</p>

<h4 class="HCHeadC">
  <a name="982782"> </a>Color Translation Table
</h4>
<p class="Body">
  <a name="982783"> </a>When rendering requires a translation from one depth to another, a color translation table is used. For example, suppose you are trying to display an 8-bit color bitmap image on a 2-bit display. Palm OS must translate the color bitmap to a grayscale bitmap in order to display it. To do so, it creates the translation table by stepping through each element of the source color table (the 8-bit bitmap) and finding the best fit for the RGB value in the destination color table (which has exactly 4 values). This table is generated once and is reused for all drawing operations until it is no longer valid. 
</p>
<p class="Body">
  <a name="982785"> </a>Palm OS uses one of two algorithms to build the translation table: 
</p>

  <a name="982786"> </a><p class="B1Bullet"> &#8226; Luminosity fitting if the destination color table is grayscale. </p>

  <a name="982787"> </a><p class="B1Bullet"> &#8226; Shortest distance in the RGB space if the destination color table is color. </p>
<p class="Body">
  <a name="982788"> </a>Although shortest distance RGB fitting does not always produce the best perceptual match, it is fast, and it works well for the available palettes on Palm OS. 
</p>

<h4 class="HCHeadC">
  <a name="982789"> </a>Color Table Management
</h4>
<p class="Body">
  <a name="982790"> </a>If you want to change the color table used by the current draw window, you can do so with the <a href="Window.html#1198281"><span style="font-family: monospace">WinPalette</span></a> function. If the current draw window is onscreen, the palette for the display hardware is also changed. For more information see the <span style="font-family: monospace">WinPalette</span> function description in the <i>Palm OS Programmer's API Reference</i>. 
</p>
<p class="Body">
  <a name="982798"> </a>If your application needs to know which RGB color corresponds to which index color in the current palette, it can do so with the function calls <a href="Window.html#1198442"><span style="font-family: monospace">WinRGBToIndex</span></a> and <a href="Window.html#1197584"><span style="font-family: monospace">WinIndexToRGB</span></a>. When calling <span style="font-family: monospace">WinRGBToIndex</span>, an exact match may not be available. That is, you may be calling <span style="font-family: monospace">WinRGBToIndex</span> with an RGB value that is not in the palette and thus does not have an index. If there is no exact RGB match, the best-fit algorithm currently in place is used to determine the index value. For <span style="font-family: monospace">WinIndexToRGB</span>, the RGB value returned is always the exact match. (An error is displayed on debug ROMs if the index is out of range.)
</p>

<h2 class="HBHeadB">
  <a name="982807"> </a>UI Color List
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="982808"> </a>The system builds a UI color list in addition to the system color table. The UI color list contains the colors used by the various user interface elements. Each UI color is represented by a symbolic color constant. See <a href="UserInterface.html#982823">Table 4.18</a> for a list of colors used. 
</p>
<p class="Body">
  <a name="982812"> </a>Each bit depth has its own list of UI colors, allowing for a different color scheme in monochrome, grayscale, and color modes. This is important because even with a default monochrome look and feel, highlighted field text is black-on-yellow in color and white-on-black in other modes. 
</p>
<p class="Body">
  <a name="982813"> </a>To obtain the color list, the system first tries to load it from the synchronized preferences database using the value <span style="font-family: monospace">sysResIDPrefUIColorTableBase</span> plus the current screen depth. The use of a preference allows for the possibility that individual users could customize the look using a third party "personality" or "themes" editor. If the preference is not defined, it loads the default color table from the system color table resource  plus the current screen depth. 
</p>
<p class="Body">
  <a name="982816"> </a>Using a list allows easy variation of the colors of UI elements to either personalize the overall color scheme of a given Palm Powered handheld or to adjust it within an application. Defining these as color classes ensures that the user interface elements are consistent with each other. 
</p>

<h5 class="TgTable">
  <a name="982878"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption><a name="982823"> </a><div class="TableTitle">Table 4.18  UI objects and colors </div></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="982827"> </a><div class="CellHeading">UI Object</div></th>
    <th><a name="982829"> </a><div class="CellHeading">Symbolic Colors Used</div></th>
  </tr>
  <tr valign="top">
    <td><a name="982831"> </a><div class="CellBody">Forms</div></td>
    <td><a name="982833"> </a><div class="CellBody"><span style="font-family: monospace">UIFormFrame</span>, <span style="font-family: monospace">UIFormFill</span> </div></td>
  </tr>
  <tr valign="top">
    <td><a name="982835"> </a><div class="CellBody">Modal dialogs </div></td>
    <td><a name="982837"> </a><div class="CellBody"><span style="font-family: monospace">UIDialogFrame</span>, <span style="font-family: monospace">UIDialogFill</span> </div></td>
  </tr>
  <tr valign="top">
    <td><a name="982839"> </a><div class="CellBody">Alert dialogs </div></td>
    <td><a name="982841"> </a><div class="CellBody"><span style="font-family: monospace">UIAlertFrame</span>, <span style="font-family: monospace">UIAlertFill</span> </div></td>
  </tr>
  <tr valign="top">
    <td><a name="982843"> </a><div class="CellBody">Buttons (push button, repeating button, check boxes, and selector triggers)</div></td>
    <td><a name="982845"> </a><div class="CellBody"><span style="font-family: monospace">UIObjectFrame</span>, <span style="font-family: monospace">UIObjectFill</span>, <span style="font-family: monospace">UIObjectForeground</span>, <span style="font-family: monospace">UIObjectSelectedFill</span>, <span style="font-family: monospace">UIObjectSelectedForeground</span> </div></td>
  </tr>
  <tr valign="top">
    <td><a name="982847"> </a><div class="CellBody">Fields</div></td>
    <td><a name="982849"> </a><div class="CellBody"><span style="font-family: monospace">UIFieldBackground</span>, <span style="font-family: monospace">UIFieldText</span>, <span style="font-family: monospace">UIFieldTextLines</span>, <span style="font-family: monospace">UIFieldTextHighlightBackground</span>, <span style="font-family: monospace">UIFieldTextHighlightForeground</span> </div></td>
  </tr>
  <tr valign="top">
    <td><a name="982851"> </a><div class="CellBody">Menus</div></td>
    <td><a name="982853"> </a><div class="CellBody"><span style="font-family: monospace">UIMenuFrame</span>, <span style="font-family: monospace">UIMenuFill</span>, <span style="font-family: monospace">UIMenuForeground</span>, <span style="font-family: monospace">UIMenuSelectedFill</span>, <span style="font-family: monospace">UIMenuSelectedForeground</span> </div></td>
  </tr>
  <tr valign="top">
    <td><a name="982855"> </a><div class="CellBody">Tables</div></td>
    <td><a name="982857"> </a><div class="CellBody">Uses <span style="font-family: monospace">UIFieldBackground</span> for the background, other colors controlled by the object in the table cell. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="982859"> </a><div class="CellBody">Lists and pop-up triggers</div></td>
    <td><a name="982861"> </a><div class="CellBody"><span style="font-family: monospace">UIObjectFrame</span>, <span style="font-family: monospace">UIObjectFill</span>, <span style="font-family: monospace">UIObjectForeground</span>, <span style="font-family: monospace">UIObjectSelectedFill</span>, <span style="font-family: monospace">UIObjectSelectedForeground</span> </div></td>
  </tr>
  <tr valign="top">
    <td><a name="982863"> </a><div class="CellBody">Labels</div></td>
    <td><a name="982865"> </a><div class="CellBody">Labels on a control and noneditable fields use <span style="font-family: monospace">UIObjectForeground</span>, and text written to a form using <span style="font-family: monospace">WinDrawChars</span> or <span style="font-family: monospace">WinPaintChars</span> use the current text setting in the draw state. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="982867"> </a><div class="CellBody">Scroll bars</div></td>
    <td><a name="982869"> </a><div class="CellBody"><span style="font-family: monospace">UIObjectFill</span>, <span style="font-family: monospace">UIObjectForeground</span>, <span style="font-family: monospace">UIObjectSelectedFill</span>, <span style="font-family: monospace">UIObjectSelectedForeground</span> </div></td>
  </tr>
  <tr valign="top">
    <td><a name="982871"> </a><div class="CellBody">Insertion point</div></td>
    <td><a name="982873"> </a><div class="CellBody"><span style="font-family: monospace">UIFieldCaret</span> </div></td>
  </tr>
  <tr valign="top">
    <td><a name="982875"> </a><div class="CellBody">Front-end processor (currently only used on Japanese systems)</div></td>
    <td><a name="982877"> </a><div class="CellBody"><span style="font-family: monospace">UIFieldFepRawText</span>, <span style="font-family: monospace">UIFieldFepRawBackground</span>, <span style="font-family: monospace">UIFieldFepConvertedText</span>, <span style="font-family: monospace">UIFieldFepConvertedBackground</span>, <span style="font-family: monospace">UIFieldFepUnderline</span> </div></td>
  </tr>
</table>




</h5><p class="Body">
  <a name="982879"> </a>Should your application need to change the colors used by the UI color list, it can do so with <a href="UIColor.html#1076209"><span style="font-family: monospace">UIColorSetTableEntry</span></a>. If you need to retrieve a color used, it can do so with <a href="UIColor.html#1076120"><span style="font-family: monospace">UIColorGetTableEntryIndex</span></a> or <a href="UIColor.html#1076173"><span style="font-family: monospace">UIColorGetTableEntryRGB</span></a>. 
</p>
<p class="Body">
  <a name="982892"> </a>If you change the UI color list, your changes are in effect only while your application is active. The UI color list is reset as soon as control switches to another application. When control switches back to your application, you'll have to call <a href="UIColor.html#1076209"><span style="font-family: monospace">UIColorSetTableEntry</span></a> again. 
</p>

<h2 class="HBHeadB">
  <a name="982897"> </a>Direct Color Functions
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="982898"> </a>The direct color function calls are more generic than their indexed forms and can be used with both indexed (1, 2, 4, or 8 bit) or direct 16-bit color displays. The system automatically looks up the color index value of the closest color if necessary.
</p>
<p class="Body">
  <a name="982903"> </a>The direct color functions are: <a href="Window.html#1199042"><span style="font-family: monospace">WinSetForeColorRGB</span></a>, <a href="Window.html#1198845"><span style="font-family: monospace">WinSetBackColorRGB</span></a>, <a href="Window.html#1199219"><span style="font-family: monospace">WinSetTextColorRGB</span></a>, and <a href="Window.html#1197480"><span style="font-family: monospace">WinGetPixelRGB</span></a>
</p>
<p class="Body">
  <a name="982916"> </a>Because these calls are only available on systems with the direct color enhancements present, applications should generally stick to using the indexed form of these calls: <a href="Window.html#1199000"><span style="font-family: monospace">WinSetForeColor</span></a>, <a href="Window.html#1198803"><span style="font-family: monospace">WinSetBackColor</span></a>, <a href="Window.html#1199176"><span style="font-family: monospace">WinSetTextColor</span></a>, and <a href="Window.html#1197453"><span style="font-family: monospace">WinGetPixel</span></a> unless they need finer control over the choice and dynamic range of colors.
</p>

<h2 class="HBHeadB">
  <a name="982934"> </a>Pixel Reading and Writing
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="982939"> </a>The Palm OS 3.5 API call for reading a pixel value, <a href="Window.html#1197453"><span style="font-family: monospace">WinGetPixel</span></a>, is designed to return a color index value. When this call is performed on a direct color display, it must first get the actual pixel value (a 16 or 24 bit direct color value). The system then looks up the closest color from the system's virtual 8-bit color lookup table, and returns the index of the closest color from that table. This mode of operation ensures compatibility for applications that take the return value from <span style="font-family: monospace">WinGetPixel</span> and use it as an indexed color to <a href="Window.html#1199000"><span style="font-family: monospace">WinSetForeColor</span></a>, <a href="Window.html#1198803"><span style="font-family: monospace">WinSetBackColor</span></a>, and <a href="Window.html#1199176"><span style="font-family: monospace">WinSetTextColor</span></a>.
</p>
<p class="Body">
  <a name="982952"> </a>Applications that need to copy pixels exactly from one location to another on direct color displays should use <a href="Window.html#1197480"><span style="font-family: monospace">WinGetPixelRGB</span></a> instead of <a href="Window.html#1197453"><span style="font-family: monospace">WinGetPixel</span></a>. If you use <a href="Window.html#1197453"><span style="font-family: monospace">WinGetPixel</span></a> on a direct color display, it can result in a loss of color because of the closest-match color table lookup operation that <a href="Window.html#1197453"><span style="font-family: monospace">WinGetPixel</span></a> performs.
</p>
<p class="Body">
  <a name="982972"> </a><a href="Window.html#1197480"><span style="font-family: monospace">WinGetPixelRGB</span></a> returns the pixel as an <a href="Bitmap.html#1089473"><span style="font-family: monospace">RGBColorType</span></a> with a full 8 bits each of red, green, and blue, assuring no loss of color resolution. This call is more generic than the <a href="Window.html#1197453"><span style="font-family: monospace">WinGetPixel</span></a> call and can be used with both indexed (1, 2, 4, or 8 bit) or direct color modes. The system automatically looks up the RGB components of indexed color pixels as necessary.
</p>
<p class="Body">
  <a name="982982"> </a>The pixel setting API calls (<a href="Window.html#1198120"><span style="font-family: monospace">WinPaintPixel</span></a>, <a href="Window.html#1196635"><span style="font-family: monospace">WinDrawPixel</span></a>, and so on) all rely on using the current foreground and background colors and do not require new forms for the direct color mode. An application can simply pass in the return <a href="Bitmap.html#1089473"><span style="font-family: monospace">RGBColorType</span></a> from <a href="Window.html#1197480"><span style="font-family: monospace">WinGetPixelRGB</span></a> to <a href="Window.html#1199042"><span style="font-family: monospace">WinSetForeColorRGB</span></a> and then call <a href="Window.html#1196635"><span style="font-family: monospace">WinDrawPixel</span></a> in order to copy a direct color pixel.
</p>

<h2 class="HBHeadB">
  <a name="982996"> </a>Direct Color Bitmaps
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="982997"> </a>In Palm OS release 4.0 the Window Manager supports16 bits per pixel direct color bitmaps, as well as the previously supported 1, 2, 4, and 8 bit indexed color bitmaps. A direct color bitmap is indicated by the new <span style="font-family: monospace">directColor</span> bit in the <a href="Bitmap.html#1094385"><span style="font-family: monospace">BitmapFlagsType</span></a> bit-field of the <a href="Bitmap.html#1094646"><span style="font-family: monospace">BitmapType</span></a> data structure. In addition to this flag, a direct color bitmap must also include the <a href="Bitmap.html#1089217"><span style="font-family: monospace">BitmapDirectInfoType</span></a> fields: <span style="font-family: monospace">redBits</span>, <span style="font-family: monospace">greenBits</span>, <span style="font-family: monospace">blueBits</span>, <span style="font-family: monospace">reserved</span>, and <span style="font-family: monospace">transparentColor</span>.
</p>
<p class="Body">
  <a name="983013"> </a>The <span style="font-family: monospace">redBits</span>, <span style="font-family: monospace">greenBits</span>, and <span style="font-family: monospace">blueBits</span> fields indicate the number of bits in each pixel for each color component. The current implementation only supports 16 bits per pixel, with 5 bits of red, 6 bits of green, and 5 bits of blue:
</p>
<pre  class="Preformatted">
R R R R  R G G G  G G G B  B B B B<a name="983014"> </a>
MSB                           LSB<a name="983015"> </a>
</pre>
<p class="Body">
  <a name="983017"> </a>The <span style="font-family: monospace">transparentColor</span> field contains the red, green, and blue components of the transparent color of the bitmap. For direct color bitmaps, this field is used instead of the <span style="font-family: monospace">transparentIndex</span> field to designate the transparent color value of the bitmap, because the <span style="font-family: monospace">transparentIndex</span> field is only 8 bits wide and can only represent an indexed color. The <span style="font-family: monospace">transparentColor</span> field, like the <span style="font-family: monospace">transparentIndex</span> field, is ignored unless the <span style="font-family: monospace">hasTransparency</span> bit is set in the bitmap's flags field.
</p>
<p class="Body">
  <a name="983020"> </a>With Palm OS 4.0, a 16-bit direct color bitmap can always be rendered, regardless of the actual screen depth. The 16-bit color functions automatically perform the necessary bit depth conversion to render the bitmap into whatever depth the destination is in. 
</p>
<p class="Body">
  <a name="983021"> </a>Bitmap resources can be built to contain multiple depth images in the same bitmap resource, one image for each possible depth. A potential incompatibility could arise if an application includes only a direct color version of a bitmap. Therefore, applications need to either check that version 4.0 of Palm OS is present before drawing a direct color bitmap, or they must always include a 1, 2, 4, or 8 bit per pixel image of the bitmap in the bitmap resource along with the direct color version.
</p>

<h4 class="HCHeadC">
  <a name="983022"> </a>Special Drawing Modes
</h4>
<p class="Body">
  <a name="983027"> </a>The special drawing modes of <span style="font-family: monospace">winErase</span>, <span style="font-family: monospace">winMask</span>, <span style="font-family: monospace">winInvert</span>, and <span style="font-family: monospace">winOverlay</span> introduce a complication when it comes to direct color models. These drawing modes were originally designed for use with monochrome bitmaps where black is designated by 1 bits and white is designated by 0 bits. With these color assignments, these various modes can be described as: 
</p>

  <a name="983029"> </a><p class="B1Bullet"> &#8226; <span style="font-family: monospace">WinErase</span> becomes an AND operation (black pixels in the source leave the destination alone whereas white pixels in the source make the destination white). </p>

  <a name="983030"> </a><p class="B1Bullet"> &#8226; <span style="font-family: monospace">WinMask</span> becomes an AND NOT operation (black pixels in the source make the destination white whereas white pixels leave the destination alone) </p>

  <a name="983031"> </a><p class="B1Bullet"> &#8226; <span style="font-family: monospace">WinInvert</span> becomes an XOR operation (black pixels in the source invert the destination whereas white pixels leave the destination alone) </p>

  <a name="983032"> </a><p class="B1Bullet"> &#8226; <span style="font-family: monospace">WinOverlay</span> becomes an OR operation (black pixels in the source make the destination black, white pixels in the source leave the destination alone)</p>
<p class="Body">
  <a name="983033"> </a>In a direct color bitmap, black is designated by all 0s and white is designated by all 1s. Because of this, if all the drawing modes were implemented as logical operations in the same way as they are for indexed color modes, the desired effect would not be achieved.
</p>
<p class="Body">
  <a name="983034"> </a>The assumption made by direct color functions is that the desired effect is more important to the caller than the actual logical operation that is performed. Thus, the various drawing modes, when drawing to a direct color bitmap, become:
</p>

  <a name="983035"> </a><p class="B1Bullet"> &#8226; <span style="font-family: monospace">WinErase</span> becomes an OR operation (black pixels in the source leave the destination alone whereas white pixels in the source make the destination white). </p>

  <a name="983036"> </a><p class="B1Bullet"> &#8226; <span style="font-family: monospace">WinMask</span> becomes an OR NOT operation (black pixels in the source make the destination white whereas white pixels leave the destination alone) </p>

  <a name="983037"> </a><p class="B1Bullet"> &#8226; <span style="font-family: monospace">WinInvert</span> becomes an XOR NOT operation (black pixels in the source invert the destination whereas white pixels leave the destination alone) </p>

  <a name="983038"> </a><p class="B1Bullet"> &#8226; <span style="font-family: monospace">WinOverlay</span> becomes an AND operation (black pixels in the source make the destination black, white pixels in the source leave the destination alone)</p>
<p class="Body">
  <a name="983039"> </a>As long as the source and destination bitmaps contain only black and white colors, the new interpretations of the drawing modes in direct color modes produce the same effects as they would have with an indexed color mode. 
</p>
<p class="Body">
  <a name="983040"> </a>With non-black and white pixels however, an application may get unexpected results from these drawing modes if they assume that the direct color function calls perform the same logical operation in direct color mode as they do in indexed color mode.
</p>

<h2 class="HaHeadA">
  <a name="983042"> </a>Insertion Point 
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="983044"> </a>The insertion point is a blinking indicator that shows where text is inserted when users write characters in the input area or paste clipboard text.
</p>
<p class="Body">
  <a name="983045"> </a>In general, an application doesn't need to be concerned with the insertion point; the Palm OS UI manages the insertion point.
</p>

<h2 class="HaHeadA">
  <a name="983047"> </a>Application Launcher  
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="983048"> </a>The Application Launcher is the screen from which most applications are launched. Users navigate to the Launcher by tapping the Applications icon in the input area. They then launch a specific application by tappings its icon. 
</p>
<p class="Body">
  <a name="983049"> </a>To integrate well with the Application Launcher, you must provide application icons and a version string as described in the following sections. In rare cases, you may need to provide a default application category as well. 
</p>

<h2 class="HBHeadB">
  <a name="983050"> </a>Icons in the Launcher
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="983051"> </a>Applications installed on the Palm Powered handheld (resource databases of type <span style="font-family: monospace">'appl'</span>) appear in the Application Launcher automatically. Specifically, the Launcher displays an application icon and an application name. 
</p>
<p class="Body">
  <a name="983052"> </a>Your application needs to have two icons:
</p>

  <a name="983053"> </a><p class="B1Bullet"> &#8226; A large icon of type <span style="font-family: monospace">tAIB</span>, with an ID of 1000. For compatibility with Palm OS 2.0, this icon should be 22 x 32 pixels; for all other Palm OS versions, you can make this icon 22 x 22 pixels.</p>

  <a name="983054"> </a><p class="B1Bullet"> &#8226; A smaller icon, also of type <span style="font-family: monospace">tAIB</span>, with an ID of 1001. This icon should be 15 x 9 pixels.</p>
<div class="NINoteImportant"><hr>
  <a name="983055"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">NOTE:  </span> The Constructor program supplied with Palm OS SDK versions 3.5 and later allows you to create an Application Icon Family. You should not use the App Icon or Multi-bit Icon resources if the Application Icon Family is available.
<hr>
</div>
<p class="Body">
  <a name="983057"> </a>The application name is defined in two ways: 
</p>

  <a name="983058"> </a><p class="B1Bullet"> &#8226; The application name (required) is specified in the PalmRez panel of your CodeWarrior project and used by HotSync application, the About box, the Memory display, and the database header. </p>

  <a name="983060"> </a><p class="B1Bullet"> &#8226; The application icon name (optional) is a string resource in the application's resource file. It is used by the Launcher screen and in the Button Assignment preferences panel (available in OS versions 2.0 and later). You assign the name using Constructor.</p>
<p class="Indented1"> <a name="983061"> </a>The application icon name is technically optional, but if you want the name to appear with the icon in the Launcher's main view, you must supply it. </p>
<p class="Indented1"> <a name="983062"> </a><b>Note:</b> If you use an application icon name, make it short!</p>

  <a name="983063"> </a><p class="B1Bullet"> &#8226; Together with the application name, each application displays a application icon in the launcher. </p>

<h2 class="HBHeadB">
  <a name="983065"> </a>Application Version String
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="983066"> </a>The Launcher displays a version string from each application's <span style="font-family: monospace">tver</span> resource, ID <span style="font-family: monospace">1000</span>. This short string (usually 3 to 7 characters) is displayed in the Info dialog.
</p>
<p class="Body">
  <a name="983067"> </a>A version string should have the format:
</p>
<p class="Body">
  <a name="983068"> </a><i>major</i>.<i>minor</i>.[<i>stage</i>.<i>change</i>]
</p>
<p class="Body">
  <a name="983069"> </a>where <i>major</i> is the major version number, <i>minor</i> is a minor version number, <i>stage</i> is a letter denoting a development stage (a for alpha b for beta or d for developer release) and <i>change</i> is the build number. Remove the <i>stage</i> and <i>change</i> numbers for the final release. 
</p>

<h2 class="HBHeadB">
  <a name="983070"> </a>The Default Application Category
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="983071"> </a>Launcher divides applications into categories starting in Palm OS 3.5. You can store an application's category in a <span style="font-family: monospace">'taic'</span> resource (symbolically named <span style="font-family: monospace">defaultCategoryRscType</span>) with the ID 1000 in the PRC file. Starting in Palm OS 3.5, the Launcher application installs your application into the specified category. In Constructor, you can specify the <span style="font-family: monospace">'taic'</span> resource by providing a value for the Default App Category field in the main window.
</p>
<p class="Body">
  <a name="983073"> </a>Most applications should <b>not</b> specify a <span style="font-family: monospace">'taic'</span> resource. By default, Launcher installs applications in the Unfiled category, and each user chooses where to file the application. 
</p>
<p class="Body">
  <a name="983074"> </a>Only specify a <span style="font-family: monospace">'taic'</span> resource in these instances: 
</p>

  <a name="983075"> </a><p class="B1Bullet"> &#8226; Your application is intended for consumers and clearly belongs to one of the Launcher predefined categories (see <a href="UserInterface.html#983088">Table 4.19</a>). </p>
<p class="Indented1"> <a name="983079"> </a>Always specify the Launcher predefined categories in US English in ASCII characters. Launcher provides the appropriate translations for localized ROMs. </p>

  <a name="983080"> </a><p class="B1Bullet"> &#8226; Your application is intended for a vertical market or you've created a suite of custom applications that work together to provide a complete custom solution. </p>
<p class="Indented1"> <a name="983081"> </a>In this case, you might define a <span style="font-family: monospace">'taic'</span> resource with a custom category name. Launcher creates the category if it doesn't already exist in the Launcher database. When you're not identifying one of Launcher's predefined categories, you may identify the category in any language. </p>

<h5 class="TgTable">
  <a name="983115"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption><a name="983088"> </a><div class="TableTitle">Table 4.19  Launcher predefined categories </div></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="983092"> </a><div class="CellHeading">Default Launcher Category</div></th>
    <th><a name="983094"> </a><div class="CellHeading">Description</div></th>
  </tr>
  <tr valign="top">
    <td><a name="983096"> </a><div class="CellBody">Games</div></td>
    <td><a name="983098"> </a><div class="CellBody">Any game. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="983100"> </a><div class="CellBody">Main</div></td>
    <td><a name="983102"> </a><div class="CellBody">Applications that would be used on a daily basis, such as Date Book or Address Book.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="983104"> </a><div class="CellBody">System</div></td>
    <td><a name="983106"> </a><div class="CellBody">Applications that control how the system behaves, such as the Preferences, HotSync, and Security. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="983108"> </a><div class="CellBody">Utilities</div></td>
    <td><a name="983110"> </a><div class="CellBody">Applications that help the user with system management. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="983112"> </a><div class="CellBody">Unfiled</div></td>
    <td><a name="983114"> </a><div class="CellBody">The default category. </div></td>
  </tr>
</table>




</h5><p class="Body">
  <a name="983116"> </a>Do not treat the default application category as something analogous to the Microsoft Windows Start menu category. On a Palm Powered handheld, the user is limited to 16 categories including Unfiled. Obviously, that limit would be quickly reached if each application defines its own category. Only assign a default category where it is a clear benefit to your users. 
</p>

<h2 class="HBHeadB">
  <a name="983117"> </a>Opening the Launcher Programmatically
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="983118"> </a>Situations in which you need to open the Application Launcher programmatically are rare, but the system does provide an API for doing so. To activate the Launcher from within your application, enqueue a <a href="EventRef.html#972716"><span style="font-family: monospace">keyDownEvent</span></a> that contains a <span style="font-family: monospace">launchChr</span>, as shown in <a href="UserInterface.html#983137">Listing 4.11</a>.
</p>
<div class="NWNoteWarning"><hr>
  <a name="983130"> </a> <span style="color: #FF0000;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">WARNING!  </span> Do not use the <a href="SystemManager.html#1166426"><span style="font-family: monospace">SysUIAppSwitch</span></a> or <a href="SystemManager.html#1165530"><span style="font-family: monospace">SysAppLaunch</span></a> functions to open the Application Launcher application. 
<hr>
</div>
<p class="CCodeCaption">
  <a name="983137"> </a>Listing 4.11  Opening the Launcher
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
EventType newEvent;<a name="1026421"> </a>
<a name="1026428"> </a>
MemSet(&amp;newEvent, sizeof(newEvent), 0);<a name="1026427"> </a>
newEvent.eType = keyDownEvent;<a name="983139"> </a>
newEvent.data.keyDown.chr = launchChr;<a name="1026431"> </a>
newEvent.data.keyDown.modifiers = commandKeyMask;<a name="1026432"> </a>
EvtAddEventToQueue (&amp;newEvent);<a name="983140"> </a>
</pre><div class="CodeRule"><hr></div>
<p class="Body">
  <a name="1017689"> </a>Note that this technique will run whatever is run whenever you tap on the Applications icon. For information on launching other applications programmatically, see <a href="AppStartupAndStop.html#972010">"Launching Applications Programmatically"</a> in the chapter <a href="AppStartupAndStop.html#971704">"Application Startup and Stop."</a>
</p>
<div class="NINoteImportant"><hr>
  <a name="983148"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">NOTE:  </span> Versions of Palm OS prior to 3.0 implemented the Launcher as a pop-up. The <a href="SystemDialogs.html#1060092"><span style="font-family: monospace">SysAppLauncherDialog</span></a> function, which provides the API to the old pop-up launcher, is still present in Palm OS for compatibility purposes, but it has not been updated and, in most cases, should not be used.
<hr>
</div>

<h2 class="HaHeadA">
  <a name="983154"> </a>Summary of User Interface API 
<a href="#979973"><img src="images/top.gif" border="0"></a></h2>


<h5 class="TgTable">
  <a name="983179"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="983157"> </a><div class="CellHeading">Progress Manager Functions</div></th>
    <th><a name="983159"> </a><div class="CellHeading"><br></div></th>
  </tr>
  <tr valign="top">
    <td><a name="983164"> </a><div class="CellBody"><a href="ProgressManager.html#1054835">PrgHandleEvent</a><br><a href="ProgressManager.html#1054981">PrgStopDialog</a><br><a href="ProgressManager.html#1055067">PrgUserCancel</a></div></td>
    <td><a name="983175"> </a><div class="CellBody"><a href="ProgressManager.html#1054893">PrgStartDialog</a><br><a href="ProgressManager.html#1055019">PrgUpdateDialog</a></div></td>
  </tr>
</table>




</h5>
<h5 class="TgTable">
  <a name="983516"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="983182"> </a><div class="CellHeading">Form Functions</div></th>
    <th><a name="983184"> </a><div class="CellHeading"><br></div></th>
  </tr>
  <tr valign="top">
    <td><a name="983186"> </a><div class="CellHeading">Initialization</div></td>
    <td><a name="983188"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="983193"> </a><div class="CellBody"><a href="Form.html#1023605">FrmInitForm</a></div></td>
    <td><a name="983195"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="983197"> </a><div class="CellHeading">Event Handling</div></td>
    <td><a name="983199"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="983204"> </a><div class="CellBody"><a href="Form.html#1024104">FrmSetEventHandler</a><br><a href="Form.html#1023306">FrmHandleEvent</a></div></td>
    <td><a name="983212"> </a><div class="CellBody"><a href="Form.html#1022557">FrmDispatchEvent</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="983214"> </a><div class="CellHeading">Displaying a Form</div></td>
    <td><a name="983216"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="983221"> </a><div class="CellBody"><a href="Form.html#1023267">FrmGotoForm</a><br><a href="Form.html#1022619">FrmDrawForm</a><br><a href="Form.html#1023992">FrmSetActiveForm</a></div></td>
    <td><a name="983232"> </a><div class="CellBody"><a href="Form.html#1023820">FrmPopupForm</a><br><a href="Form.html#1023666">FrmNewForm</a></div></td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><a name="983237"> </a><div class="CellHeading">Displaying a Modal Dialog</div></td>
  </tr>
  <tr valign="top">
    <td><a name="983244"> </a><div class="CellBody"><a href="Form.html#1022443">FrmCustomAlert</a><br><a href="Form.html#1022474">FrmCustomResponseAlert</a><br><a href="Form.html#1022328">FrmAlert</a><br><a href="Form.html#1022589">FrmDoDialog</a></div></td>
    <td><a name="983258"> </a><div class="CellBody"><a href="Form.html#1023553">FrmHelp</a><br><a href="Form.html#1023945">FrmSaveActiveState</a><br><a href="Form.html#1023896">FrmRestoreActiveState</a><br><a href="Form.html#1023737">FrmNewGsi</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="983269"> </a><div class="CellHeading">Updating the Display</div></td>
    <td><a name="983271"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="983276"> </a><div class="CellBody"><a href="Form.html#1024406">FrmUpdateForm</a><br><a href="Form.html#1024370">FrmShowObject</a><br><a href="Form.html#1023848">FrmRemoveObject</a></div></td>
    <td><a name="983287"> </a><div class="CellBody"><a href="Form.html#1023921">FrmReturnToForm</a><br><a href="Form.html#1023568">FrmHideObject</a><br><a href="Form.html#1024432">FrmUpdateScrollers</a></div></td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><a name="983295"> </a><div class="CellHeading">Form Attributes</div></td>
  </tr>
  <tr valign="top">
    <td><a name="983306"> </a><div class="CellBody"><a href="Form.html#1024480">FrmVisible</a></div></td>
    <td><a name="983315"> </a><div class="CellBody"><a href="Form.html#1023970">FrmSaveAllForms</a></div></td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><a name="983317"> </a><div class="CellHeading">Accessing a Form Programmatically</div></td>
  </tr>
  <tr valign="top">
    <td><a name="983324"> </a><div class="CellBody"><a href="Form.html#1022715">FrmGetActiveForm</a><br><a href="Form.html#1022823">FrmGetFirstForm</a><br><a href="Form.html#1022905">FrmGetFormPtr</a><br><a href="Form.html#1024455">FrmValidatePtr</a></div></td>
    <td><a name="983338"> </a><div class="CellBody"><a href="Form.html#1022742">FrmGetActiveFormID</a><br><a href="Form.html#1022884">FrmGetFormId</a><br><a href="Form.html#1023247">FrmGetWindowHandle</a></div></td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><a name="983346"> </a><div class="CellHeading">Accessing Objects Within a Form</div></td>
  </tr>
  <tr valign="top">
    <td><a name="983353"> </a><div class="CellBody"><a href="Form.html#1022839">FrmGetFocus</a><br><a href="Form.html#1023030">FrmGetObjectId</a><br><a href="Form.html#1023178">FrmGetObjectType</a><br><a href="Form.html#1023153">FrmGetObjectPtr</a></div></td>
    <td><a name="983367"> </a><div class="CellBody"><a href="Form.html#1024130">FrmSetFocus</a><br><a href="Form.html#1023056">FrmGetObjectIndex</a><br><a href="Form.html#1023124">FrmGetObjectPosition</a><br><a href="Form.html#1022977">FrmGetNumberOfObjects</a></div></td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><a name="983378"> </a><div class="CellHeading">Title and Menu </div></td>
  </tr>
  <tr valign="top">
    <td><a name="983385"> </a><div class="CellBody"><a href="Form.html#1022415">FrmCopyTitle</a><br><a href="Form.html#1023798">FrmPointInTitle</a><br><a href="Form.html#1024238">FrmSetMenu</a></div></td>
    <td><a name="983396"> </a><div class="CellBody"><a href="Form.html#1023201">FrmGetTitle</a><br><a href="Form.html#1024337">FrmSetTitle</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="983401"> </a><div class="CellHeading">Labels</div></td>
    <td><a name="983403"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="983408"> </a><div class="CellBody"><a href="Form.html#1022382">FrmCopyLabel</a><br><a href="Form.html#1022953">FrmGetLabel</a></div></td>
    <td><a name="983416"> </a><div class="CellBody"><a href="Form.html#1024027">FrmSetCategoryLabel</a><br><a href="Form.html#1023767">FrmNewLabel</a></div></td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><a name="983421"> </a><div class="CellHeading">Controls</div></td>
  </tr>
  <tr valign="top">
    <td><a name="983428"> </a><div class="CellBody"><a href="Form.html#1022796">FrmGetControlValue</a><br><a href="Form.html#1022761">FrmGetControlGroupSelection</a></div></td>
    <td><a name="983436"> </a><div class="CellBody"><a href="Form.html#1024076">FrmSetControlValue</a><br><a href="Form.html#1024050">FrmSetControlGroupSelection</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="983441"> </a><div class="CellHeading">Gadgets</div></td>
    <td><a name="983443"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="983448"> </a><div class="CellBody"><a href="Form.html#1022923">FrmGetGadgetData</a><br><a href="Form.html#1023704">FrmNewGadget</a></div></td>
    <td><a name="983456"> </a><div class="CellBody"><a href="Form.html#1024164">FrmSetGadgetData</a><br><a href="Form.html#1024198">FrmSetGadgetHandler</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="983461"> </a><div class="CellHeading">Bitmaps</div></td>
    <td><a name="983463"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="983468"> </a><div class="CellBody"><a href="Form.html#1023639">FrmNewBitmap</a> </div></td>
    <td><a name="983470"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><a name="983472"> </a><div class="CellHeading">Coordinates and Boundaries</div></td>
  </tr>
  <tr valign="top">
    <td><a name="983479"> </a><div class="CellBody"><a href="Form.html#1023001">FrmGetObjectBounds</a><br><a href="Form.html#1024307">FrmSetObjectPosition</a></div></td>
    <td><a name="983487"> </a><div class="CellBody"><a href="Form.html#1024279">FrmSetObjectBounds</a><br><a href="Form.html#1022867">FrmGetFormBounds</a></div></td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><a name="983492"> </a><div class="CellHeading">Removing a Form From the Display</div></td>
  </tr>
  <tr valign="top">
    <td><a name="983499"> </a><div class="CellBody"><a href="Form.html#1022355">FrmCloseAllForms</a></div></td>
    <td><a name="983504"> </a><div class="CellBody"><a href="Form.html#1022669">FrmEraseForm</a></div></td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><a name="983506"> </a><div class="CellHeading">Releasing a Form's Memory</div></td>
  </tr>
  <tr valign="top">
    <td><a name="983513"> </a><div class="CellBody"><a href="Form.html#1022521">FrmDeleteForm</a></div></td>
    <td><a name="983515"> </a><div class="CellBody"><br></div></td>
  </tr>
</table>




</h5>
<h5 class="TgTable">
  <a name="983941"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="983519"> </a><div class="CellHeading">Window Functions</div></th>
    <th><a name="983521"> </a><div class="CellHeading"><br></div></th>
  </tr>
  <tr valign="top">
    <td><a name="983523"> </a><div class="CellHeading">Initialization</div></td>
    <td><a name="983525"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="983534"> </a><div class="CellBody"><a href="Window.html#1196210">WinCreateWindow</a></div></td>
    <td><a name="983536"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="983538"> </a><div class="CellHeading">Making a Window Active</div></td>
    <td><a name="983540"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><p class="Body">
  <a name="983542"> </a><a href="Window.html#1198765">WinSetActiveWindow</a>
</p>
</td>
    <td><p class="Body">
  <a name="983550"> </a><a href="Window.html#1198976">WinSetDrawWindow</a>
</p>
</td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><a name="983558"> </a><div class="CellHeading">Accessing a Window Programmatically</div></td>
  </tr>
  <tr valign="top">
    <td><a name="983565"> </a><div class="CellBody"><a href="Window.html#1197133">WinGetActiveWindow</a><br><a href="Window.html#1197254">WinGetDisplayWindow</a><br><a href="Window.html#1199301">WinValidateHandle</a></div></td>
    <td><p class="Body">
  <a name="983576"> </a><a href="Window.html#1197280">WinGetDrawWindow</a><br><a href="Window.html#1197326">WinGetFirstWindow</a><br>
</p>
</td>
  </tr>
  <tr valign="top">
    <td><a name="983584"> </a><div class="CellHeading">Offscreen Windows</div></td>
    <td><a name="983586"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="983591"> </a><div class="CellBody"><a href="Window.html#1198417">WinRestoreBits</a><br><a href="Window.html#1196160">WinCreateOffscreenWindow</a></div></td>
    <td><a name="983599"> </a><div class="CellBody"><a href="Window.html#1198482">WinSaveBits</a></div><a name="983603"> </a><div class="CellBody"><a href="Window.html#1196103">WinCreateBitmapWindow</a> </div></td>
  </tr>
  <tr valign="top">
    <td><a name="983605"> </a><div class="CellHeading">Displaying Characters</div></td>
    <td><a name="983607"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="983612"> </a><div class="CellBody"><a href="Window.html#1196359">WinDrawChar</a><br><a href="Window.html#1197633">WinInvertChars</a><br><a href="Window.html#1196747">WinDrawTruncChars</a></div><a name="983622"> </a><div class="CellBody"><a href="Window.html#1197921">WinPaintChar</a></div></td>
    <td><a name="983627"> </a><div class="CellBody"><a href="Window.html#1196417">WinDrawChars</a><br><a href="Window.html#1196543">WinDrawInvertedChars</a><br><a href="Window.html#1196852">WinEraseChars</a><br><a href="Window.html#1197970">WinPaintChars</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="983638"> </a><div class="CellHeading">Bitmaps</div></td>
    <td><a name="983640"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="983645"> </a><div class="CellBody"><a href="Window.html#1196325">WinDrawBitmap</a><br><a href="Window.html#1197879">WinPaintBitmap</a></div></td>
    <td><a name="983653"> </a><div class="CellBody"><a href="Window.html#1197161">WinGetBitmap</a><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="983655"> </a><div class="CellHeading">Lines</div></td>
    <td><a name="983657"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="983662"> </a><div class="CellBody"><a href="Window.html#1196591">WinDrawLine</a><br><a href="Window.html#1197058">WinFillLine</a><br><a href="Window.html#1196896">WinEraseLine</a><br><a href="Window.html#1198073">WinPaintLines</a></div></td>
    <td><a name="983676"> </a><div class="CellBody"><a href="Window.html#1196469">WinDrawGrayLine</a><br><a href="Window.html#1197688">WinInvertLine</a></div><a name="983683"> </a><div class="CellBody"><a href="Window.html#1198027">WinPaintLine</a><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="983685"> </a><div class="CellHeading">Rectangles</div></td>
    <td><a name="983687"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="983692"> </a><div class="CellBody"><a href="Window.html#1196668">WinDrawRectangle</a><br><a href="Window.html#1197763">WinInvertRectangle</a><br><a href="Window.html#1197099">WinFillRectangle</a><br><a href="Window.html#1196965">WinEraseRectangle</a><br><a href="Window.html#1196507">WinDrawGrayRectangleFrame</a><br><a href="Window.html#1198196">WinPaintRectangle</a></div></td>
    <td><a name="983715"> </a><div class="CellBody"><a href="Window.html#1196062">WinCopyRectangle</a><br><a href="Window.html#1196702">WinDrawRectangleFrame</a><br><a href="Window.html#1197797">WinInvertRectangleFrame</a><br><a href="Window.html#1198745">WinScrollRectangle</a><br><a href="Window.html#1196995">WinEraseRectangleFrame</a><br><a href="Window.html#1198235">WinPaintRectangleFrame</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="983732"> </a><div class="CellHeading">Pixels</div></td>
    <td><a name="983734"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="983739"> </a><div class="CellBody"><a href="Window.html#1196635">WinDrawPixel</a><br><a href="Window.html#1196932">WinErasePixel</a><br><a href="Window.html#1197453">WinGetPixel</a></div></td>
    <td><a name="983750"> </a><div class="CellBody"><a href="Window.html#1197727">WinInvertPixel</a><br><a href="Window.html#1198120">WinPaintPixel</a><br><a href="Window.html#1198158">WinPaintPixels</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="983758"> </a><div class="CellHeading">Clipping Rectangle</div></td>
    <td><a name="983760"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="983765"> </a><div class="CellBody"><a href="Window.html#1197222">WinGetClip</a><br><a href="Window.html#1198399">WinResetClip</a></div></td>
    <td><a name="983773"> </a><div class="CellBody"><a href="Window.html#1198923">WinSetClip</a><br><a href="Window.html#1196023">WinClipRectangle</a></div></td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><a name="983778"> </a><div class="CellHeading">Setting the Drawing State</div></td>
  </tr>
  <tr valign="top">
    <td><a name="983785"> </a><div class="CellBody"><a href="Window.html#1198324">WinPopDrawState</a><br><a href="Window.html#1197834">WinModal</a><br><a href="Window.html#1199094">WinSetPattern</a><br><a href="Window.html#1197416">WinGetPatternType</a><br><a href="Window.html#1198803">WinSetBackColor</a><br><a href="Window.html#1199131">WinSetPatternType</a></div></td>
    <td><a name="983805"> </a><div class="CellBody"><a href="Window.html#1198348">WinPushDrawState</a><br><a href="Window.html#1197377">WinGetPattern</a><br><a href="Window.html#1199271">WinSetUnderlineMode</a><br><a href="Window.html#1198947">WinSetDrawMode</a><br><a href="Window.html#1199000">WinSetForeColor</a><br><a href="Window.html#1199176">WinSetTextColor</a></div></td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><a name="983822"> </a><div class="CellHeading">Coordinates and Boundaries</div></td>
  </tr>
  <tr valign="top">
    <td><a name="983829"> </a><div class="CellBody"><a href="Window.html#1196305">WinDisplayToWindowPt</a><br><a href="Window.html#1197240">WinGetDisplayExtent</a><br><a href="Window.html#1198897">WinSetBounds</a><br><a href="Window.html#1197349">WinGetFramesRectangle</a></div></td>
    <td><a name="983843"> </a><div class="CellBody"><a href="Window.html#1199328">WinWindowToDisplayPt</a><br><a href="Window.html#1197505">WinGetWindowExtent</a><br><a href="Window.html#1197180">WinGetBounds</a><br><a href="Window.html#1197527">WinGetWindowFrameRect</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="983854"> </a><div class="CellHeading">Working with the Screen</div></td>
    <td><a name="983856"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="983861"> </a><div class="CellBody"><a href="Window.html#1198532">WinScreenMode</a></div><a name="983865"> </a><div class="CellBody"><a href="Window.html#1198719">WinScreenUnlock</a></div></td>
    <td><a name="983870"> </a><div class="CellBody"><a href="Window.html#1198504">WinScreenLock</a></div></td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><a name="983872"> </a><div class="CellHeading">Removing a Window From the Display</div></td>
  </tr>
  <tr valign="top">
    <td><a name="983879"> </a><div class="CellBody"><a href="Window.html#1197029">WinEraseWindow</a></div></td>
    <td><a name="983884"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><a name="983889"> </a><div class="CellHeading">Releasing a Window's Memory</div></td>
  </tr>
  <tr valign="top">
    <td><a name="983896"> </a><div class="CellBody"><a href="Window.html#1196257">WinDeleteWindow</a></div></td>
    <td><a name="983898"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="983900"> </a><div class="CellHeading">Working with Colors</div></td>
    <td><a name="983902"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="983907"> </a><div class="CellBody"><a href="Window.html#1197584">WinIndexToRGB</a><br><a href="Window.html#1198442">WinRGBToIndex</a></div></td>
    <td><a name="983915"> </a><div class="CellBody"><a href="Window.html#1198281">WinPalette</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="983920"> </a><div class="CellBody"><a href="Window.html#1197480">WinGetPixelRGB</a><br><a href="Window.html#1198803">WinSetBackColor</a><br><a href="Window.html#1199000">WinSetForeColor</a><br><a href="Window.html#1199176">WinSetTextColor</a></div></td>
    <td><a name="1024012"> </a><div class="CellBody"><a href="Window.html#1199042">WinSetForeColorRGB</a><br><a href="Window.html#1198845">WinSetBackColorRGB</a><br><a href="Window.html#1199219">WinSetTextColorRGB</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="1024152"> </a><div class="CellHeading">High-Density Displays</div></td>
    <td><a name="1024154"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="1024161"> </a><div class="CellBody"><a href="Window.html#1220831">WinGetCoordinateSystem</a></div><a name="1024165"> </a><div class="CellBody"><a href="Window.html#1221259">WinGetSupportedDensity</a></div><a name="1024148"> </a><div class="CellBody"><a href="Window.html#1221853">WinPaintRoundedRectangleFrame</a></div><a name="1024264"> </a><div class="CellBody"><a href="Window.html#1221875">WinPaintTiledBitmap</a></div><a name="1024268"> </a><div class="CellBody"><a href="Window.html#1222425">WinScaleCoord</a></div><a name="1024272"> </a><div class="CellBody"><a href="Window.html#1222455">WinScalePoint</a></div></td>
    <td><a name="1024204"> </a><div class="CellBody"><a href="Window.html#1222485">WinScaleRectangle</a></div><a name="1024208"> </a><div class="CellBody"><a href="Window.html#1222515">WinScreenGetAttribute</a></div><a name="1024212"> </a><div class="CellBody"><a href="Window.html#1224953">WinSetCoordinateSystem</a></div><a name="1024216"> </a><div class="CellBody"><a href="Window.html#1225147">WinUnscaleCoord</a></div><a name="1024220"> </a><div class="CellBody"><a href="Window.html#1225177">WinUnscalePoint</a></div><a name="1024224"> </a><div class="CellBody"><a href="Window.html#1225207">WinUnscaleRectangle</a></div></td>
  </tr>
</table>




</h5>
<h5 class="TgTable">
  <a name="984069"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="983944"> </a><div class="CellHeading">Control Functions</div></th>
    <th><a name="983946"> </a><div class="CellHeading"><br></div></th>
  </tr>
  <tr valign="top">
    <td><a name="983948"> </a><div class="CellHeading">Displaying a Control</div></td>
    <td><a name="983950"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="983955"> </a><div class="CellBody"><a href="Control.html#990004">CtlShowControl</a><br><a href="Control.html#989931">CtlSetUsable</a></div><a name="983962"> </a><div class="CellBody"><a href="Control.html#989715">CtlNewGraphicControl</a> </div></td>
    <td><a name="983967"> </a><div class="CellBody"><a href="Control.html#989400">CtlDrawControl</a><br><a href="Control.html#989667">CtlNewControl</a></div><a name="983974"> </a><div class="CellBody"><a href="Control.html#989762">CtlNewSliderControl</a> </div></td>
  </tr>
  <tr valign="top">
    <td><a name="983976"> </a><div class="CellHeading">Control's Value</div></td>
    <td><a name="983978"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="983983"> </a><div class="CellBody"><a href="Control.html#989540">CtlGetValue</a></div><a name="983987"> </a><div class="CellBody"><a href="Control.html#989505">CtlGetSliderValues</a> </div></td>
    <td><a name="983992"> </a><div class="CellBody"><a href="Control.html#989962">CtlSetValue</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="983994"> </a><div class="CellHeading">Label</div></td>
    <td><a name="983996"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984001"> </a><div class="CellBody"><a href="Control.html#989866">CtlSetLabel</a></div></td>
    <td><a name="984006"> </a><div class="CellBody"><a href="Control.html#989482">CtlGetLabel</a></div></td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><a name="984008"> </a><div class="CellHeading">Enabling/Disabling</div></td>
  </tr>
  <tr valign="top">
    <td><a name="984015"> </a><div class="CellBody"><a href="Control.html#989812">CtlSetEnabled</a><br><a href="Control.html#989614">CtlHideControl</a></div></td>
    <td><a name="984023"> </a><div class="CellBody"><a href="Control.html#989435">CtlEnabled</a><br><a href="Control.html#989458">CtlEraseControl</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984028"> </a><div class="CellHeading">Event Handling</div></td>
    <td><a name="984030"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984035"> </a><div class="CellBody"><a href="Control.html#989574">CtlHandleEvent</a></div></td>
    <td><a name="984037"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984039"> </a><div class="CellHeading">Setting up controls </div></td>
    <td><a name="984041"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984046"> </a><div class="CellBody"><a href="Control.html#989505">CtlGetSliderValues</a> <br><a href="Control.html#989836">CtlSetGraphics</a> </div></td>
    <td><a name="984054"> </a><div class="CellBody"><a href="Control.html#989893">CtlSetSliderValues</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984056"> </a><div class="CellHeading">Debugging </div></td>
    <td><a name="984058"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984063"> </a><div class="CellBody"><a href="Control.html#989646">CtlHitControl</a></div></td>
    <td><a name="984068"> </a><div class="CellBody"><a href="Control.html#990039">CtlValidatePointer</a></div></td>
  </tr>
</table>




</h5>
<h5 class="TgTable">
  <a name="984321"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="984072"> </a><div class="CellHeading">Field Functions</div></th>
    <th><a name="984074"> </a><div class="CellHeading"><br></div></th>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><a name="984076"> </a><div class="CellHeading">Obtaining User Input </div></td>
  </tr>
  <tr valign="top">
    <td><a name="984083"> </a><div class="CellBody"><a href="Field.html#998930">FldGetTextPtr</a><br><a href="Field.html#999513">FldSetDirty</a><br><a href="Field.html#998796">FldGetSelection</a></div></td>
    <td><a name="984094"> </a><div class="CellBody"><a href="Field.html#998843">FldGetTextHandle</a><br><a href="Field.html#998472">FldDirty</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984099"> </a><div class="CellHeading">Updating the Display</div></td>
    <td><a name="984101"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984106"> </a><div class="CellBody"><a href="Field.html#998503">FldDrawField</a><br><a href="Field.html#999710">FldSetSelection</a><br><a href="Field.html#999250">FldRecalculateField</a></div></td>
    <td><a name="984117"> </a><div class="CellBody"><a href="Field.html#999126">FldMakeFullyVisible</a><br><a href="Field.html#999476">FldSetBounds</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984122"> </a><div class="CellHeading">Displaying Text </div></td>
    <td><a name="984124"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984129"> </a><div class="CellBody"><a href="Field.html#999858">FldSetTextPtr</a></div></td>
    <td><a name="984131"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984133"> </a><div class="CellHeading">Editing Text</div></td>
    <td><a name="984135"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984140"> </a><div class="CellBody"><a href="Field.html#999736">FldSetText</a><br><a href="Field.html#999081">FldInsert</a><br><a href="Field.html#998529">FldEraseField</a></div></td>
    <td><a name="984151"> </a><div class="CellBody"><a href="Field.html#999807">FldSetTextHandle</a><br><a href="Field.html#998433">FldDelete</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984156"> </a><div class="CellHeading">Cut/Copy/Paste</div></td>
    <td><a name="984158"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984163"> </a><div class="CellBody"><a href="Field.html#998373">FldCopy</a><br><a href="Field.html#999210">FldPaste</a></div></td>
    <td><a name="984171"> </a><div class="CellBody"><a href="Field.html#998401">FldCut</a><br><a href="Field.html#999934">FldUndo</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984176"> </a><div class="CellHeading">Scrolling</div></td>
    <td><a name="984178"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984183"> </a><div class="CellBody"><a href="Field.html#999349">FldScrollField</a><br><a href="Field.html#999674">FldSetScrollPosition</a><br><a href="Field.html#998961">FldGetVisibleLines</a><br><a href="Field.html#998702">FldGetNumberOfBlankLines</a></div></td>
    <td><a name="984197"> </a><div class="CellBody"><a href="Field.html#999326">FldScrollable</a><br><a href="Field.html#998725">FldGetScrollPosition</a><br><a href="Field.html#998749">FldGetScrollValues</a></div></td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><a name="984205"> </a><div class="CellHeading">Field Attributes</div></td>
  </tr>
  <tr valign="top">
    <td><a name="984212"> </a><div class="CellBody"><a href="Field.html#998584">FldGetAttributes</a><br><a href="Field.html#998636">FldGetFont</a><br><a href="Field.html#998681">FldGetMaxChars</a><br><a href="Field.html#999439">FldSetAttributes</a></div></td>
    <td><a name="984226"> </a><div class="CellBody"><a href="Field.html#999543">FldSetFont</a><br><a href="Field.html#999628">FldSetMaxChars</a><br><a href="Field.html#999653">FldSetMaxVisibleLines</a><br><a href="Field.html#998609">FldGetBounds</a></div></td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><a name="984237"> </a><div class="CellHeading">Text Attributes</div></td>
  </tr>
  <tr valign="top">
    <td><a name="984244"> </a><div class="CellBody"><a href="Field.html#998316">FldCalcFieldHeight</a><br><a href="Field.html#998822">FldGetTextAllocatedSize</a><br><a href="Field.html#999780">FldSetTextAllocatedSize</a></div></td>
    <td><a name="984255"> </a><div class="CellBody"><a href="Field.html#998891">FldGetTextHeight</a><br><a href="Field.html#998914">FldGetTextLength</a><br><a href="Field.html#999964">FldWordWrap</a></div></td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><a name="984263"> </a><div class="CellHeading">Working With the Insertion Point</div></td>
  </tr>
  <tr valign="top">
    <td><a name="984270"> </a><div class="CellBody"><a href="Field.html#998658">FldGetInsPtPosition</a><br><a href="Field.html#999568">FldSetInsertionPoint</a></div></td>
    <td><a name="984278"> </a><div class="CellBody"><a href="Field.html#999601">FldSetInsPtPosition</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984280"> </a><div class="CellHeading">Releasing Memory </div></td>
    <td><a name="984282"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984287"> </a><div class="CellBody"><a href="Field.html#998345">FldCompactText</a></div></td>
    <td><a name="984292"> </a><div class="CellBody"><a href="Field.html#998561">FldFreeMemory</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984294"> </a><div class="CellHeading">Event Handling</div></td>
    <td><a name="984296"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984301"> </a><div class="CellBody"><a href="Field.html#999020">FldHandleEvent</a><br><a href="Field.html#999418">FldSendHeightChangeNotification</a></div></td>
    <td><a name="984309"> </a><div class="CellBody"><a href="Field.html#999399">FldSendChangeNotification</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984311"> </a><div class="CellHeading">Dynamic UI</div></td>
    <td><a name="984313"> </a><div class="CellBody"> </div></td>
  </tr>
  <tr valign="top">
    <td><a name="984318"> </a><div class="CellBody"><a href="Field.html#999160">FldNewField</a></div></td>
    <td><a name="984320"> </a><div class="CellBody"><br></div></td>
  </tr>
</table>




</h5>
<h5 class="TgTable">
  <a name="984376"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="984324"> </a><div class="CellHeading">Menu Functions</div></th>
    <th><a name="984326"> </a><div class="CellHeading"><br></div></th>
  </tr>
  <tr valign="top">
    <td><a name="984331"> </a><div class="CellBody"><a href="Menu.html#1048934">MenuDispose</a><br><a href="Menu.html#1049002">MenuEraseStatus</a><br><a href="Menu.html#1049069">MenuHandleEvent</a><br><a href="Menu.html#1049215">MenuSetActiveMenu</a></div><a name="984344"> </a><div class="CellBody"><a href="Menu.html#1048677">MenuAddItem</a></div><a name="984348"> </a><div class="CellBody"><a href="Menu.html#1048856">MenuCmdBarDisplay</a><br><a href="Menu.html#1049143">MenuHideItem</a></div></td>
    <td><a name="984356"> </a><div class="CellBody"><a href="Menu.html#1048963">MenuDrawMenu</a><br><a href="Menu.html#1049180">MenuInit</a><br><a href="Menu.html#1049031">MenuGetActiveMenu</a><br><a href="Menu.html#1049240">MenuSetActiveMenuRscID</a></div><a name="984369"> </a><div class="CellBody"><a href="Menu.html#1048730">MenuCmdBarAddButton</a><br><a href="Menu.html#1048888">MenuCmdBarGetButtonData</a><br><a href="Menu.html#1049267">MenuShowItem</a></div></td>
  </tr>
</table>




</h5>
<h5 class="TgTable">
  <a name="984626"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="984379"> </a><div class="CellHeading">Table Functions</div></th>
    <th><a name="984381"> </a><div class="CellHeading"><br></div></th>
  </tr>
  <tr valign="top">
    <td><a name="984383"> </a><div class="CellHeading">Drawing Tables</div></td>
    <td><a name="984385"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984390"> </a><div class="CellBody"><a href="Table.html#1061390">TblDrawTable</a><br><a href="Table.html#1062938">TblSetLoadDataProcedure</a></div></td>
    <td><a name="984398"> </a><div class="CellBody"><a href="Table.html#1062748">TblSetCustomDrawProcedure</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984400"> </a><div class="CellHeading">Updating the Display</div></td>
    <td><a name="984402"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984407"> </a><div class="CellBody"><a href="Table.html#1062287">TblRedrawTable</a><br><a href="Table.html#1062342">TblReleaseFocus</a><br><a href="Table.html#1062376">TblRemoveRow</a><br><a href="Table.html#1062255">TblMarkTableInvalid</a><br><a href="Table.html#1063260">TblUnhighlightSelection</a></div></td>
    <td><a name="984424"> </a><div class="CellBody"><a href="Table.html#1062016">TblGrabFocus</a><br><a href="Table.html#1063260">TblUnhighlightSelection</a><br><a href="Table.html#1062212">TblMarkRowInvalid</a><br><a href="Table.html#1062537">TblSelectItem</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984435"> </a><div class="CellHeading">Retrieving Data </div></td>
    <td><a name="984437"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984442"> </a><div class="CellBody"><a href="Table.html#1061766">TblGetItemPtr</a><br><a href="Table.html#1061515">TblFindRowData</a><br><a href="Table.html#1061962">TblGetSelection</a><br><a href="Table.html#1063192">TblSetSaveDataProcedure</a></div></td>
    <td><a name="984456"> </a><div class="CellBody"><a href="Table.html#1061876">TblGetRowData</a><br><a href="Table.html#1061735">TblGetItemInt</a><br><a href="Table.html#1061657">TblGetCurrentField</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984464"> </a><div class="CellHeading">Displaying Data</div></td>
    <td><a name="984466"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984471"> </a><div class="CellBody"><a href="Table.html#1062818">TblSetItemInt</a><br><a href="Table.html#1062852">TblSetItemPtr</a><br><a href="Table.html#1062970">TblSetRowData</a></div></td>
    <td><a name="984482"> </a><div class="CellBody"><a href="Table.html#1062885">TblSetItemStyle</a><br><a href="Table.html#1063024">TblSetRowID</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984487"> </a><div class="CellHeading">Retrieving a Row</div></td>
    <td><a name="984489"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984494"> </a><div class="CellBody"><a href="Table.html#1061549">TblFindRowID</a></div></td>
    <td><a name="984499"> </a><div class="CellBody"><a href="Table.html#1061930">TblGetRowID</a></div></td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><a name="984501"> </a><div class="CellHeading">Table Information</div></td>
  </tr>
  <tr valign="top">
    <td><a name="984508"> </a><div class="CellBody"><a href="Table.html#1061453">TblEditing</a><br><a href="Table.html#1061681">TblGetItemBounds</a><br><a href="Table.html#1061858">TblGetNumberOfRows</a><br><a href="Table.html#1062144">TblHasScrollBar</a></div></td>
    <td><a name="984522"> </a><div class="CellBody"><a href="Table.html#1061578">TblGetBounds</a><br><a href="Table.html#1061800">TblGetLastUsableRow</a><br><a href="Table.html#1062571">TblSetBounds</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984530"> </a><div class="CellHeading">Row Information</div></td>
    <td><a name="984532"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984537"> </a><div class="CellBody"><a href="Table.html#1061905">TblGetRowHeight</a><br><a href="Table.html#1062482">TblRowSelectable</a><br><a href="Table.html#1062506">TblRowUsable</a><br><a href="Table.html#1063139">TblSetRowStaticHeight</a></div></td>
    <td><a name="984551"> </a><div class="CellBody"><a href="Table.html#1062997">TblSetRowHeight</a><br><a href="Table.html#1063107">TblSetRowSelectable</a><br><a href="Table.html#1063165">TblSetRowUsable</a><br><a href="Table.html#1062413">TblRowInvalid</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984562"> </a><div class="CellHeading">Masked Records</div></td>
    <td><a name="984564"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984569"> </a><div class="CellBody"><a href="Table.html#1062443">TblRowMasked</a><br><a href="Table.html#1062624">TblSetColumnMasked</a></div></td>
    <td><a name="984577"> </a><div class="CellBody"><a href="Table.html#1063055">TblSetRowMasked</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984579"> </a><div class="CellHeading">Column Information</div></td>
    <td><a name="984581"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984586"> </a><div class="CellBody"><a href="Table.html#1061600">TblGetColumnSpacing</a><br><a href="Table.html#1061629">TblGetColumnWidth</a><br><a href="Table.html#1062692">TblSetColumnUsable</a></div></td>
    <td><a name="984597"> </a><div class="CellBody"><a href="Table.html#1062665">TblSetColumnSpacing</a><br><a href="Table.html#1062721">TblSetColumnWidth</a><br><a href="Table.html#1062593">TblSetColumnEditIndicator</a></div></td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><a name="984605"> </a><div class="CellHeading">Removing a Table From the Display</div></td>
  </tr>
  <tr valign="top">
    <td><a name="984612"> </a><div class="CellBody"><a href="Table.html#1061486">TblEraseTable</a></div></td>
    <td><a name="984614"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984616"> </a><div class="CellHeading">Event Handling</div></td>
    <td><a name="984618"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984623"> </a><div class="CellBody"><a href="Table.html#1062080">TblHandleEvent</a></div></td>
    <td><a name="984625"> </a><div class="CellBody"><br></div></td>
  </tr>
</table>




</h5>
<h5 class="TgTable">
  <a name="984642"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="984629"> </a><div class="CellHeading">Private Record Functions</div></th>
    <th><a name="984631"> </a><div class="CellHeading"><br></div></th>
  </tr>
  <tr valign="top">
    <td><a name="984636"> </a><div class="CellBody"><a href="PrivateRecords.html#1054340">SecSelectViewStatus</a> </div></td>
    <td><a name="984641"> </a><div class="CellBody"><a href="PrivateRecords.html#1054373">SecVerifyPW</a> </div></td>
  </tr>
</table>




</h5>
<h5 class="TgTable">
  <a name="984742"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="984645"> </a><div class="CellHeading">List Functions</div></th>
    <th><a name="984647"> </a><div class="CellHeading"><br></div></th>
  </tr>
  <tr valign="top">
    <td><a name="984649"> </a><div class="CellHeading">Displaying a List</div></td>
    <td><a name="984651"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984656"> </a><div class="CellBody"><a href="List.html#1042845">LstDrawList</a><br><a href="List.html#1043124">LstPopupList</a></div></td>
    <td><a name="984664"> </a><div class="CellBody"><a href="List.html#1043165">LstSetDrawFunction</a><br><a href="List.html#1043090">LstNewList</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984669"> </a><div class="CellHeading">Updating the Display</div></td>
    <td><a name="984671"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984676"> </a><div class="CellBody"><a href="List.html#1043054">LstMakeItemVisible</a><br><a href="List.html#1043213">LstSetListChoices</a><br><a href="List.html#1043278">LstSetSelection</a><br><a href="List.html#1043145">LstScrollList</a></div></td>
    <td><a name="984690"> </a><div class="CellBody"><a href="List.html#1043192">LstSetHeight</a><br><a href="List.html#1043302">LstSetTopItem</a><br><a href="List.html#1043256">LstSetPosition</a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984698"> </a><div class="CellHeading">List Data and Attributes</div></td>
    <td><a name="984700"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984705"> </a><div class="CellBody"><a href="List.html#1042905">LstGetNumberOfItems</a><br><a href="List.html#1042929">LstGetSelection</a><br><a href="List.html#1042957">LstGetSelectionText</a></div></td>
    <td><a name="984716"> </a><div class="CellBody"><a href="List.html#1042984">LstGetTopItem</a><br><a href="List.html#1043005">LstGetVisibleItems</a></div></td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><a name="984721"> </a><div class="CellHeading">Removing a List From the Display</div></td>
  </tr>
  <tr valign="top">
    <td><a name="984728"> </a><div class="CellBody"><a href="List.html#1042879">LstEraseList</a></div></td>
    <td><a name="984730"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="984732"> </a><div class="CellHeading">Event Handling</div></td>
    <td><a name="984734"> </a><div class="CellBody"> </div></td>
  </tr>
  <tr valign="top">
    <td><a name="984739"> </a><div class="CellBody"><a href="List.html#1043023">LstHandleEvent</a></div></td>
    <td><a name="984741"> </a><div class="CellBody"><br></div></td>
  </tr>
</table>




</h5>
<h5 class="TgTable">
  <a name="984788"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="984745"> </a><div class="CellHeading">Category Functions</div></th>
    <th><a name="984747"> </a><div class="CellHeading"><br></div></th>
  </tr>
  <tr valign="top">
    <td><a name="984752"> </a><div class="CellBody"><a href="Category.html#984186">CategoryCreateList</a> <br><a href="Category.html#984274">CategoryEdit</a><br><a href="Category.html#984378">CategoryFind</a><br><a href="Category.html#984396">CategoryFreeList</a><br><a href="Category.html#984466">CategoryGetName</a><br><a href="Category.html#984504">CategoryGetNext</a></div></td>
    <td><a name="984772"> </a><div class="CellBody"><a href="Category.html#984524">CategoryInitialize</a><br><a href="Category.html#984559">CategorySelect</a><br><a href="Category.html#984646">CategorySetName</a><br><a href="Category.html#984674">CategorySetTriggerLabel</a><br><a href="Category.html#984559">CategorySelect</a><br><a href="Category.html#984703">CategoryTruncateName</a></div></td>
  </tr>
</table>




</h5>
<h5 class="TgTable">
  <a name="984825"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="984791"> </a><div class="CellHeading">Bitmap Functions</div></th>
    <th><a name="984793"> </a><div class="CellHeading"><br></div></th>
  </tr>
  <tr valign="top">
    <td><a name="984798"> </a><div class="CellBody"><a href="Bitmap.html#1089557">BmpBitsSize</a> <br><a href="Bitmap.html#1089595">BmpColortableSize</a><br><a href="Bitmap.html#1089627">BmpCompress</a><br><a href="Bitmap.html#1089658">BmpCreate</a></div><a name="1024104"> </a><div class="CellBody"><a href="Bitmap.html#1096227">BmpCreateBitmapV3</a><br><a href="Bitmap.html#1089725">BmpDelete</a></div><a name="1024090"> </a><div class="CellBody"><a href="Bitmap.html#1089752">BmpGetBits</a><br><a href="Bitmap.html#1089821">BmpGetColortable</a><br><a href="Bitmap.html#1096376">BmpGetCompressionType</a></div></td>
    <td><a name="1024059"> </a><div class="CellBody"><a href="Bitmap.html#1097183">BmpGetDensity</a></div><a name="1024063"> </a><div class="CellBody"><a href="Bitmap.html#1097277">BmpGetNextBitmapAnyDensity</a></div><a name="1024067"> </a><div class="CellBody"><a href="Bitmap.html#1097426">BmpGetTransparentValue</a></div><a name="1024071"> </a><div class="CellBody"><a href="Bitmap.html#1097450">BmpGetVersion</a></div><a name="1024075"> </a><div class="CellBody"><a href="Bitmap.html#1097724">BmpSetDensity</a></div><a name="1024079"> </a><div class="CellBody"><a href="Bitmap.html#1097756">BmpSetTransparentValue</a></div><a name="1024114"> </a><div class="CellBody"><a href="Bitmap.html#1089980">BmpSize</a></div><a name="1024124"> </a><div class="CellBody"><a href="Bitmap.html#1090014">ColorTableEntries</a></div></td>
  </tr>
</table>




</h5>
<h5 class="TgTable">
  <a name="984847"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="984828"> </a><div class="CellHeading">Scroll Bar Functions</div></th>
    <th><a name="984830"> </a><div class="CellHeading"><br></div></th>
  </tr>
  <tr valign="top">
    <td><a name="984835"> </a><div class="CellBody"><a href="Scrollbar.html#1058432">SclSetScrollBar</a> <br><a href="Scrollbar.html#1058378">SclHandleEvent</a></div></td>
    <td><a name="984843"> </a><div class="CellBody"><a href="Scrollbar.html#1058343">SclGetScrollBar</a> <br><a href="Scrollbar.html#1058314">SclDrawScrollBar</a></div></td>
  </tr>
</table>




</h5>
<h5 class="TgTable">
  <a name="984866"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="984850"> </a><div class="CellHeading">UI Color List Functions</div></th>
    <th><a name="984852"> </a><div class="CellHeading"><br></div></th>
  </tr>
  <tr valign="top">
    <td><a name="984857"> </a><div class="CellBody"><a href="UIColor.html#1076120">UIColorGetTableEntryIndex</a><br><a href="UIColor.html#1076209">UIColorSetTableEntry</a></div></td>
    <td><a name="984865"> </a><div class="CellBody"> <a href="UIColor.html#1076173">UIColorGetTableEntryRGB</a></div></td>
  </tr>
</table>




</h5>
<h5 class="TgTable">
  <a name="984885"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="984869"> </a><div class="CellHeading">UI Controls</div></th>
    <th><a name="984871"> </a><div class="CellHeading"><br></div></th>
  </tr>
  <tr valign="top">
    <td><a name="984876"> </a><div class="CellBody"><a href="UIControls.html#1078601">UIBrightnessAdjust</a> <br><a href="UIControls.html#1078640">UIPickColor</a> </div></td>
    <td><a name="984884"> </a><div class="CellBody"><a href="UIControls.html#1078621">UIContrastAdjust</a> </div></td>
  </tr>
</table>




</h5>
<h5 class="TgTable">
  <a name="984886"> </a>
</h5>
<h5 class="TgTable">
  <a name="984914"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="984889"> </a><div class="CellHeading">Insertion Point Functions</div></th>
    <th><a name="984891"> </a><div class="CellHeading"><br></div></th>
  </tr>
  <tr valign="top">
    <td><a name="984896"> </a><div class="CellBody"><a href="InsertionPoint.html#1042206">InsPtEnable</a> <br><a href="InsertionPoint.html#1042247">InsPtGetHeight</a><br><a href="InsertionPoint.html#1042260">InsPtGetLocation</a></div></td>
    <td><a name="984907"> </a><div class="CellBody"><a href="InsertionPoint.html#1042229">InsPtEnabled</a> <br><a href="InsertionPoint.html#1042275">InsPtSetHeight</a><br><a href="InsertionPoint.html#1042296">InsPtSetLocation</a></div></td>
  </tr>
</table>




</h5>
<h5 class="TgTable">
  <a name="984930"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="1032638"> </a><div class="CellHeading">Keyboard Dialog Functions</div></th>
  </tr>
  <tr valign="top">
    <td><a name="1032643"> </a><div class="CellBody"><a href="SystemManager.html#1166115">SysKeyboardDialog</a><br><a href="SystemManager.html#1166141">SysKeyboardDialogV10</a></div></td>
  </tr>
</table>




</h5>
&nbsp;<br>
				<!-- CONTENT_END -->

		</td>
		<td width="5">&nbsp;&nbsp;</td>
	</tr>
      </table>
    </td>
			</tr>
  <tr>
				<td>
					<table border="0" cellpadding="0" cellspacing="0" width="760">
        <!-- CONTENTCELL_END -->
        <tr valign="top"> 
          <td width="10">&nbsp;<!-- FOOTER_START --></td>
          <td width="72">&nbsp;</td>
          <td width="25" bgcolor="white" background="images/bkgrnd.gif">&nbsp;</td>
          <td width="600"> 
            <table border="0" cellpadding="0" cellspacing="0" width="600">
              <tr> 
                <td><img src="images/rule_10-1-5_ltblue.gif" width="600" height="16" border="0"></td>
              </tr>
              <tr> 
                <td> 
                  <p align="center" class="footer"> ©2002 PalmSource, Inc. and its affiliates.  All rights reserved. 
<a href="http://www.palmos.com/dev/training/">Training</a>&nbsp;|&nbsp;<a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a>&nbsp;|&nbsp;<a href="http://www.palmos.com/">Palm&nbsp;OS&nbsp;Platform</a>&nbsp;|&nbsp;<a href="Companion_Front.html" target="_blank">Legal Notices</a>&nbsp;<br>
												<!-- FOOTER_END --><br>
											</p>
                </td>
              </tr>
            </table>
          </td>
        </tr>
      </table>
				</td>
			</tr>
</table>
</BODY>
</HTML>