<HTML>

<HEAD>
<SMALLSCREENIGNORE> 
<LINK HREF="copy_of_palmos.css" REL="stylesheet" TYPE="text/css">
<LINK HREF="document.css" REL="StyleSheet" TYPE="text/css" media="screen">
<!-- SCRIPT_START -->
<!-- SCRIPT_END -->
</SMALLSCREENIGNORE>
<TITLE>Virtual File System Manager</TITLE>

<META NAME="PALMTEMPLATE" CONTENT="1006-002 Palm HTML 20020513">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks Publisher Professional Edition 6.0.7">
<META NAME="TEMPLATEBASE" CONTENT="Palm HTML 20010625">
<META NAME="LASTUPDATED" CONTENT="12/13/02 10:10:31">
<META HTTP-EQUIV="content-type" CONTENT="text/html;charset=ISO-8859-1">

</HEAD>

<BODY LEFTMARGIN="0" MARGINWIDTH="0" TOPMARGIN="0" MARGINHEIGHT="0">
<SMALLSCREENIGNORE> 
<table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr>
	<td><a name="1180996"></a>
      <table border="0" cellpadding="0" cellspacing="0" width="100%">
        <tr height="35"> 
          <td height="35" colspan="2" bgcolor="#6699CC">&nbsp;</td>
        </tr>
        <tr valign="top"> 
          <td width="160" align="left"><a href="http://www.palmos.com"><img src="images/bigorb.gif" width="160" height="110" border="0"></a></td>
          <td align="left" width="100%"> 
            </SMALLSCREENIGNORE>
            <!-- CONTENTCELL_START -->
            <img border="0" height="45" src="images/orb_bkgrnd_600.gif" width="600"><br>
            <!--PAGENAV_START-->
            <SPAN CLASS="subnav">&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/index.html">Home</a> 
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/">Developers</a> 
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/support/">Development Support</a>
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/support/docs/">Documentation</a></span><BR>
             <img src="images/pixel_ltblue.gif" width="600" height="1" border="0" vspace="2"><br>
             <h2 class="HeadDocPage">53  Virtual File System Manager</h2>
             <img src="images/pixel_ltblue.gif" width="600" height="1" border="0" vspace="2"><br>
             &nbsp;<span class="subnav"><a href="ReferenceTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="DateAndTimeManager.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="Window.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ReferenceIX.html">Index</a></span>  
            <!--PAGENAV_END-->
          </td>
        </tr>
      </table>
    </td>
			</tr>
  <tr>
				<td> 
      <table width="100%" border="0" cellspacing="0" cellpadding="0">
        <tr>
							<td>&nbsp;&nbsp;&nbsp;</td>
						</tr>
        <tr>
		<td valign="top" width="10">&nbsp;&nbsp;&nbsp;</td>
		<td valign="top" width="175">
			<p class="SideTitle">Title - <br><a href="Reference_Front.html">Palm OS® Programmer's API Reference</a></p>
			<p class="SideTOC1-PartTab">Palm OS® 5 SDK </p>
			<p class="SideTOC1-PartTab">Part II: System Management</a> </p>
			<p class="SideTOC1"><a href="VFSMgr.html">53  Virtual File System Manager</a></p>
			
<p class="SideTOC2">
<a href="#1181027">VFS Manager Data Structures
</a></p>

<p class="SideTOC3">
<a href="#1181030">FileInfoType
</a></p>

<p class="SideTOC3">
<a href="#1181060">FileRef
</a></p>

<p class="SideTOC3">
<a href="#1181065">VFSAnyMountParamType
</a></p>

<p class="SideTOC3">
<a href="#1181106">VFSSlotMountParamType
</a></p>

<p class="SideTOC3">
<a href="#1181136">VFSPOSEMountParamType
</a></p>

<p class="SideTOC3">
<a href="#1181158">VolumeInfoType
</a></p>

<p class="SideTOC2">
<a href="#1181227">VFS Manager Constants
</a></p>

<p class="SideTOC3">
<a href="#1181229">Defined File Systems
</a></p>

<p class="SideTOC3">
<a href="#1181329">Open Mode Constants
</a></p>

<p class="SideTOC3">
<a href="#1181400">File and Directory Attributes
</a></p>

<p class="SideTOC3">
<a href="#1181469">Volume Attributes
</a></p>

<p class="SideTOC3">
<a href="#1181504">Volume Mount Classes
</a></p>

<p class="SideTOC3">
<a href="#1181541">Error Codes
</a></p>

<p class="SideTOC2">
<a href="#1181648">VFS Manager Functions
</a></p>

<p class="SideTOC3">
<a href="#1181847">VFSCustomControl
</a></p>

<p class="SideTOC3">
<a href="#1181880">VFSDirCreate
</a></p>

<p class="SideTOC3">
<a href="#1181918">VFSDirEntryEnumerate
</a></p>

<p class="SideTOC3">
<a href="#1181987">VFSExportDatabaseToFile
</a></p>

<p class="SideTOC3">
<a href="#1182034">VFSExportDatabaseToFileCustom
</a></p>

<p class="SideTOC3">
<a href="#1182090">VFSFileClose
</a></p>

<p class="SideTOC3">
<a href="#1182117">VFSFileCreate
</a></p>

<p class="SideTOC3">
<a href="#1182173">VFSFileDBGetRecord
</a></p>

<p class="SideTOC3">
<a href="#1182230">VFSFileDBGetResource
</a></p>

<p class="SideTOC3">
<a href="#1182269">VFSFileDBInfo
</a></p>

<p class="SideTOC3">
<a href="#1182357">VFSFileDelete
</a></p>

<p class="SideTOC3">
<a href="#1182388">VFSFileEOF
</a></p>

<p class="SideTOC3">
<a href="#1182415">VFSFileGetAttributes
</a></p>

<p class="SideTOC3">
<a href="#1182455">VFSFileGetDate
</a></p>

<p class="SideTOC3">
<a href="#1182499">VFSFileOpen
</a></p>

<p class="SideTOC3">
<a href="#1182551">VFSFileRead
</a></p>

<p class="SideTOC3">
<a href="#1182601">VFSFileReadData
</a></p>

<p class="SideTOC3">
<a href="#1182655">VFSFileRename
</a></p>

<p class="SideTOC3">
<a href="#1182699">VFSFileResize
</a></p>

<p class="SideTOC3">
<a href="#1182734">VFSFileSeek
</a></p>

<p class="SideTOC3">
<a href="#1182776">VFSFileSetAttributes
</a></p>

<p class="SideTOC3">
<a href="#1182823">VFSFileSetDate
</a></p>

<p class="SideTOC3">
<a href="#1182865">VFSFileSize
</a></p>

<p class="SideTOC3">
<a href="#1182903">VFSFileTell
</a></p>

<p class="SideTOC3">
<a href="#1182938">VFSFileWrite
</a></p>

<p class="SideTOC3">
<a href="#1182983">VFSGetDefaultDirectory
</a></p>

<p class="SideTOC3">
<a href="#1183026">VFSImportDatabaseFromFile
</a></p>

<p class="SideTOC3">
<a href="#1183078">VFSImportDatabaseFromFileCustom
</a></p>

<p class="SideTOC3">
<a href="#1183134">VFSInstallFSLib
</a></p>

<p class="SideTOC3">
<a href="#1183168">VFSRegisterDefaultDirectory
</a></p>

<p class="SideTOC3">
<a href="#1183210">VFSRemoveFSLib
</a></p>

<p class="SideTOC3">
<a href="#1183236">VFSUnregisterDefaultDirectory
</a></p>

<p class="SideTOC3">
<a href="#1183274">VFSVolumeEnumerate
</a></p>

<p class="SideTOC3">
<a href="#1183315">VFSVolumeFormat
</a></p>

<p class="SideTOC3">
<a href="#1183388">VFSVolumeGetLabel
</a></p>

<p class="SideTOC3">
<a href="#1183424">VFSVolumeInfo
</a></p>

<p class="SideTOC3">
<a href="#1183461">VFSVolumeMount
</a></p>

<p class="SideTOC3">
<a href="#1183542">VFSVolumeSetLabel
</a></p>

<p class="SideTOC3">
<a href="#1183589">VFSVolumeSize
</a></p>

<p class="SideTOC3">
<a href="#1183622">VFSVolumeUnmount
</a></p>

<p class="SideTOC2">
<a href="#1183656">Application-Defined Functions
</a></p>

<p class="SideTOC3">
<a href="#1183659">VFSExportProcPtr
</a></p>

<p class="SideTOC3">
<a href="#1183698">VFSImportProcPtr
</a></p>

		</td>

		<td width="5">&nbsp;&nbsp;</td>
		<td width="1" bgcolor="#6699cc">&nbsp;</td>
		<td width="5">&nbsp;&nbsp;</td>
		<td> 

				<!-- CONTENT_START -->

<p class="Body">
  <a name="1180998"> </a>The Virtual File System (VFS) Manager is a layer of software that manages all installed file system libraries. It provides a unified API to application developers while allowing them to seamlessly access many different types of file systems -such as VFAT, HFS, and NFS-on many different types of media, including Compact Flash, Memory Stick, and SmartMedia.This chapter provides reference material for the VFS Manager API as follows:
</p>

  <a name="1181002"> </a><p class="B1Bullet"> &#8226; <a href="VFSMgr.html#1181027">VFS Manager Data Structures</a></p>

  <a name="1181006"> </a><p class="B1Bullet"> &#8226; <a href="VFSMgr.html#1181227">VFS Manager Constants</a></p>

  <a name="1181010"> </a><p class="B1Bullet"> &#8226; <a href="VFSMgr.html#1181648">VFS Manager Functions</a></p>

  <a name="1181014"> </a><p class="B1Bullet"> &#8226; <a href="VFSMgr.html#1183656">Application-Defined Functions</a></p>
<p class="Body">
  <a name="1181015"> </a>The header file <span style="font-family: monospace">VFSMgr.h</span> declares the VFS Manager API. For more information on the VFS Manager, see <a href="ExpAndVFSConcepts.html#1000865">Chapter 7, "Expansion,"</a> in <i>Palm OS Programmer's Companion</i>, vol. I.
</p>
<p class="Body">
  <a name="1181022"> </a>Note that the VFS Manager is an optional system extension; the functions described in this chapter are implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>

<h2 class="HaHeadA">
  <a name="1181027"> </a>VFS Manager Data Structures 
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>


<h2 class="HBHeadB">
  <a name="1181030"> </a>FileInfoType
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1181031"> </a>The <span style="font-family: monospace">FileInfoType</span> structure contains information about a specified file or directory. This information is returned as a parameter to <a href="VFSMgr.html#1181918"><span style="font-family: monospace">VFSDirEntryEnumerate</span></a>. The structure is defined as follows:
</p>
<pre  class="Preformatted">
typedef struct FileInfoTag {<a name="1181035"> </a>
  UInt32 attributes;<a name="1181036"> </a>
  Char *nameP;<a name="1181037"> </a>
  UInt16 nameBufLen;<a name="1181038"> </a>
} FileInfoType, *FileInfoPtr;<a name="1181039"> </a>
</pre>

<h4 class="HCHeadC">
  <a name="1181040"> </a>Field Descriptions
</h4>

<h5 class="TgTable">
  <a name="1181057"> </a>

<table width="450" border="0" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="1181043"> </a><div class="CellBody"><span style="font-family: monospace">attributes</span></div></td>
    <td><a name="1181047"> </a><div class="CellBody">Characteristics of the file or directory. See <a href="VFSMgr.html#1181400">File and Directory Attributes</a> for the bits that make up this field.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181050"> </a><div class="CellBody"><span style="font-family: monospace">nameP</span></div></td>
    <td><a name="1181052"> </a><div class="CellBody">Pointer to the buffer that receives the full name of the file or directory. Initialize this parameter to <span style="font-family: monospace">NULL</span> if you don't want to receive the name.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181054"> </a><div class="CellBody"><span style="font-family: monospace">nameBufLen</span></div></td>
    <td><a name="1181056"> </a><div class="CellBody">Size of the <span style="font-family: monospace">nameP</span> buffer, in bytes.</div></td>
  </tr>
</table>




</h5>
<h2 class="HBHeadB">
  <a name="1181060"> </a>FileRef
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1181061"> </a>The <span style="font-family: monospace">FileRef</span> type is used to encode references to files and directories.
</p>
<pre  class="Preformatted">
typedef UInt32 FileRef;<a name="1181062"> </a>
</pre>

<h2 class="HBHeadB">
  <a name="1181065"> </a>VFSAnyMountParamType
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1181066"> </a>The <span style="font-family: monospace">VFSAnyMountParamType</span> structure is a base structure for <a href="VFSMgr.html#1181106"><span style="font-family: monospace">VFSSlotMountParamType</span></a>, <a href="VFSMgr.html#1181136"><span style="font-family: monospace">VFSPOSEMountParamType</span></a>, and other similar structures that may be defined in the future. Use one or the other according to how you set the <span style="font-family: monospace">mountClass</span> parameter. 
</p>
<pre  class="Preformatted">
typedef struct VFSAnyMountParamTag {<a name="1181073"> </a>
  UInt16 volRefNum;<a name="1181074"> </a>
  UInt16 reserved;<a name="1181075"> </a>
  UInt32 mountClass;<a name="1181076"> </a>
} VFSAnyMountParamType;<a name="1181077"> </a>
 <a name="1181078"> </a>
typedef VFSAnyMountParamType *VFSAnyMountParamPtr;<a name="1181079"> </a>
</pre>

<h4 class="HCHeadC">
  <a name="1181080"> </a>Field Descriptions
</h4>

<h5 class="TgTable">
  <a name="1181103"> </a>

<table width="450" border="0" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="1181083"> </a><div class="CellBody"><span style="font-family: monospace">volRefNum</span></div></td>
    <td><a name="1181085"> </a><div class="CellBody">The volume reference number. This is initially obtained when you successfully mount a volume. It can then be used to format a volume with <a href="VFSMgr.html#1183315"><span style="font-family: monospace">VFSVolumeFormat</span></a> or unmount a volume with <a href="VFSMgr.html#1183622"><span style="font-family: monospace">VFSVolumeUnmount</span></a>. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181093"> </a><div class="CellBody"><span style="font-family: monospace">reserved</span></div></td>
    <td><a name="1181095"> </a><div class="CellBody">Reserved for future use.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181097"> </a><div class="CellBody"><span style="font-family: monospace">mountClass</span></div></td>
    <td><a name="1181099"> </a><div class="CellBody">Defines the type of mount to use with the specified volume. See <a href="VFSMgr.html#1181504">Volume Mount Classes</a> for a list of mount types.</div></td>
  </tr>
</table>




</h5>
<h2 class="HBHeadB">
  <a name="1181106"> </a>VFSSlotMountParamType
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1181107"> </a>The <span style="font-family: monospace">VFSSlotMountParamType </span>structure is used when you are mounting a card located in an Expansion Manager slot. The <span style="font-family: monospace">vfsMountParam-&gt;mountClass</span> field must be set to <span style="font-family: monospace">VFSMountClass_SlotDriver</span>. 
</p>
<pre  class="Preformatted">
typedef struct VFSSlotMountParamTag {<a name="1181108"> </a>
  VFSAnyMountParamType vfsMountParam;<a name="1181109"> </a>
  UInt16 slotLibRefNum;<a name="1181110"> </a>
  UInt16 slotRefNum;<a name="1181111"> </a>
} VFSSlotMountParamType;<a name="1181112"> </a>
</pre>

<h4 class="HCHeadC">
  <a name="1181113"> </a>Field Descriptions
</h4>

<h5 class="TgTable">
  <a name="1181133"> </a>

<table width="450" border="0" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="1181116"> </a><div class="CellBody"><span style="font-family: monospace">vfsMountParam</span></div></td>
    <td><a name="1181118"> </a><div class="CellBody">See the description of <a href="VFSMgr.html#1181065"><span style="font-family: monospace">VFSAnyMountParamType</span></a> for an explanation of the fields in this structure. Set <span style="font-family: monospace">vfsMountParam-&gt;mountClass</span> to <span style="font-family: monospace">VFSMountClass_SlotDriver</span> to mount an Expansion Manager slot.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181123"> </a><div class="CellBody"><span style="font-family: monospace">slotLibRefNum</span></div></td>
    <td><a name="1181125"> </a><div class="CellBody">Reference number for the slot driver library allocated to the given slot number. Obtain this field by calling <a href="ExpansionManager.html#1107698"><span style="font-family: monospace">ExpSlotLibFind</span></a>.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181130"> </a><div class="CellBody"><span style="font-family: monospace">slotRefNum</span></div></td>
    <td><a name="1181132"> </a><div class="CellBody">Number of the slot to be mounted.</div></td>
  </tr>
</table>




</h5>
<h2 class="HBHeadB">
  <a name="1181136"> </a>VFSPOSEMountParamType
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1181137"> </a>The <span style="font-family: monospace">VFSPOSEMountParamType </span>structure is used when you are mounting a volume through the Palm OS<sup>®</sup> Emulator. The <span style="font-family: monospace">vfsMountParam-&gt;mountClass</span> must be set to <span style="font-family: monospace">VFSMountClass_POSE</span>. Note that ordinary applications and file systems shouldn't use <span style="font-family: monospace">VFSPOSEMountParamType</span>.
</p>
<pre  class="Preformatted">
typedef struct VFSPOSEMountParamTag {<a name="1181138"> </a>
  VFSAnyMountParamType vfsMountParam; <a name="1181139"> </a>
  UInt8 poseSlotNum;<a name="1181140"> </a>
} VFSPOSEMountParamType<a name="1181141"> </a>
</pre>

<h4 class="HCHeadC">
  <a name="1181142"> </a>Field Descriptions
</h4>

<h5 class="TgTable">
  <a name="1181155"> </a>

<table width="450" border="0" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="1181145"> </a><div class="CellBody"><span style="font-family: monospace">vfsMountParam</span></div></td>
    <td><a name="1181147"> </a><div class="CellBody">See the description of <a href="VFSMgr.html#1181065"><span style="font-family: monospace">VFSAnyMountParamType</span></a> for an explanation of the fields in this structure. Set <span style="font-family: monospace">vfsMountParam-&gt;mountClass</span> to <span style="font-family: monospace">VFSMountClass_POSE</span> to mount a virtual slot.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181152"> </a><div class="CellBody"><span style="font-family: monospace">poseSlotNum</span></div></td>
    <td><a name="1181154"> </a><div class="CellBody">Number of the virtual slot number to be mounted by the Palm OS Emulator.</div></td>
  </tr>
</table>




</h5>
<h2 class="HBHeadB">
  <a name="1181158"> </a>VolumeInfoType
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1181159"> </a>The <span style="font-family: monospace">VolumeInfoType</span> structure defines information that is returned to <a href="VFSMgr.html#1183424"><span style="font-family: monospace">VFSVolumeInfo</span></a> and used throughout the VFS functions.
</p>
<pre  class="Preformatted">
typedef struct VolumeInfoTag {<a name="1181163"> </a>
  UInt32 attributes;<a name="1181164"> </a>
  UInt32 fsType;<a name="1181165"> </a>
  UInt32 fsCreator;<a name="1181166"> </a>
  UInt32 mountClass;<a name="1181167"> </a>
  UInt16 slotLibRefNum;<a name="1181168"> </a>
  UInt16 slotRefNum;<a name="1181169"> </a>
  UInt32 mediaType;<a name="1181170"> </a>
  UInt32 reserved;<a name="1181171"> </a>
} VolumeInfoType, *VolumeInfoPtr;<a name="1181172"> </a>
</pre>

<h4 class="HCHeadC">
  <a name="1181173"> </a>Field Descriptions
</h4>

<h5 class="TgTable">
  <a name="1181225"> </a>

<table width="450" border="0" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="1181176"> </a><div class="CellBody"><span style="font-family: monospace">attributes</span></div></td>
    <td><a name="1181180"> </a><div class="CellBody">Characteristics of the volume. See <a href="VFSMgr.html#1181469">Volume Attributes</a> for the bits that make up this field.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181183"> </a><div class="CellBody"><span style="font-family: monospace">fsType</span></div></td>
    <td><a name="1181185"> </a><div class="CellBody">File system type for this volume. See <a href="VFSMgr.html#1181229">Defined File Systems</a> for a list of the supported file systems.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181190"> </a><div class="CellBody"><span style="font-family: monospace">fsCreator</span></div></td>
    <td><a name="1181192"> </a><div class="CellBody">Creator ID of this volume's file system driver. This information is used with <a href="VFSMgr.html#1181847"><span style="font-family: monospace">VFSCustomControl</span></a>.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181197"> </a><div class="CellBody"><span style="font-family: monospace">mountClass</span></div></td>
    <td><a name="1181199"> </a><div class="CellBody">Mount class that mounted this volume. The supported mount classes are listed under <a href="VFSMgr.html#1181504">Volume Mount Classes</a>.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181204"> </a><div class="CellBody"><span style="font-family: monospace">slotLibRefNum</span></div></td>
    <td><a name="1181206"> </a><div class="CellBody">Reference to the slot driver library with which the volume is mounted. This field is only valid when the mount class is <span style="font-family: monospace">vfsMountClass_SlotDriver</span>.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181208"> </a><div class="CellBody"><span style="font-family: monospace">slotRefNum</span></div></td>
    <td><a name="1181210"> </a><div class="CellBody">Slot number where the card containing the volume is loaded. This field is only valid when the mount class is <span style="font-family: monospace">vfsMountClass_SlotDriver</span>.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181212"> </a><div class="CellBody"><span style="font-family: monospace">mediaType</span></div></td>
    <td><a name="1181216"> </a><div class="CellBody">Type of card media. See <a href="ExpansionManager.html#1107383">Defined Media Types</a> in the <a href="ExpansionManager.html#1107231">Expansion Manager</a> chapter for the list of values. This field is only valid when the mount class is <span style="font-family: monospace">vfsMountClass_SlotDriver</span>.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181222"> </a><div class="CellBody"><span style="font-family: monospace">reserved</span></div></td>
    <td><a name="1181224"> </a><div class="CellBody">Reserved for future use.</div></td>
  </tr>
</table>




</h5>
<h2 class="HaHeadA">
  <a name="1181227"> </a>VFS Manager Constants 
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>


<h2 class="HBHeadB">
  <a name="1181229"> </a>Defined File Systems
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1181230"> </a>The following file systems are currently defined by the VFS Manager. These values are used with <a href="VFSMgr.html#1183424"><span style="font-family: monospace">VFSVolumeInfo</span></a> in the <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">VolumeInfoType.fsType</span> parameter.
</p>

<h5 class="TgTable">
  <a name="1181325"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="1181236"> </a><div class="CellHeading">Constant</div></th>
    <th><a name="1181238"> </a><div class="CellHeading">Value</div></th>
    <th><a name="1181240"> </a><div class="CellHeading">Description</div></th>
  </tr>
  <tr valign="top">
    <td><a name="1181243"> </a><div class="TT11Tabletest11pt"><span style="font-family: monospace">vfsFilesystemType_AFS</span></div></td>
    <td><a name="1181245"> </a><div class="CellBody"><span style="font-family: monospace">'afsu'</span></div></td>
    <td><a name="1181247"> </a><div class="CellBody">Unix Andrew file system</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181250"> </a><div class="TT11Tabletest11pt"><span style="font-family: monospace">vfsFilesystemType_EXT2</span></div></td>
    <td><a name="1181252"> </a><div class="CellBody"><span style="font-family: monospace">'ext2'</span></div></td>
    <td><a name="1181254"> </a><div class="CellBody">Linux file system</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181257"> </a><div class="TT11Tabletest11pt"><span style="font-family: monospace">vfsFilesystemType_FAT</span></div></td>
    <td><a name="1181259"> </a><div class="CellBody"><span style="font-family: monospace">'fats'</span></div></td>
    <td><a name="1181261"> </a><div class="CellBody">FAT12 and FAT16, which only handles 8.3 filenames</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181264"> </a><div class="TT11Tabletest11pt"><span style="font-family: monospace">vfsFilesystemType_FFS</span></div></td>
    <td><a name="1181266"> </a><div class="CellBody"><span style="font-family: monospace">'ffsb'</span></div></td>
    <td><a name="1181268"> </a><div class="CellBody">Unix Berkeley block based file system</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181271"> </a><div class="TT11Tabletest11pt"><span style="font-family: monospace">vfsFilesystemType_HFS</span></div></td>
    <td><a name="1181273"> </a><div class="CellBody"><span style="font-family: monospace">'hfss'</span></div></td>
    <td><a name="1181275"> </a><div class="CellBody">Macintosh standard hierarchical file system</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181278"> </a><div class="TT11Tabletest11pt"><span style="font-family: monospace">vfsFilesystemType_HFSPlus</span></div></td>
    <td><a name="1181280"> </a><div class="CellBody"><span style="font-family: monospace">'hfse'</span></div></td>
    <td><a name="1181282"> </a><div class="CellBody">Macintosh extended hierarchical file system</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181285"> </a><div class="TT11Tabletest11pt"><span style="font-family: monospace">vfsFilesystemType_HPFS</span></div></td>
    <td><a name="1181287"> </a><div class="CellBody"><span style="font-family: monospace">'hpfs'</span></div></td>
    <td><a name="1181289"> </a><div class="CellBody">OS2 High Performance file system</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181292"> </a><div class="TT11Tabletest11pt"><span style="font-family: monospace">vfsFilesystemType_MFS</span></div></td>
    <td><a name="1181294"> </a><div class="CellBody"><span style="font-family: monospace">'mfso'</span></div></td>
    <td><a name="1181296"> </a><div class="CellBody">Macintosh original file system</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181299"> </a><div class="TT11Tabletest11pt"><span style="font-family: monospace">vfsFilesystemType_NFS</span></div></td>
    <td><a name="1181301"> </a><div class="CellBody"><span style="font-family: monospace">'nfsu'</span></div></td>
    <td><a name="1181303"> </a><div class="CellBody">Unix Networked file system</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181306"> </a><div class="TT11Tabletest11pt"><span style="font-family: monospace">vfsFilesystemType_Novell</span></div></td>
    <td><a name="1181308"> </a><div class="CellBody"><span style="font-family: monospace">'novl'</span></div></td>
    <td><a name="1181310"> </a><div class="CellBody">Novell file system</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181313"> </a><div class="TT11Tabletest11pt"><span style="font-family: monospace">vfsFilesystemType_NTFS</span></div></td>
    <td><a name="1181315"> </a><div class="CellBody"><span style="font-family: monospace">'ntfs'</span></div></td>
    <td><a name="1181317"> </a><div class="CellBody">Windows NT file system</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181320"> </a><div class="TT11Tabletest11pt"><span style="font-family: monospace">vfsFilesystemType_VFAT</span></div></td>
    <td><a name="1181322"> </a><div class="CellBody"><span style="font-family: monospace">'vfat'</span></div></td>
    <td><a name="1181324"> </a><div class="CellBody">FAT12 and FAT16 extended to handle long filenames</div></td>
  </tr>
</table>




</h5>
<h2 class="HBHeadB">
  <a name="1181329"> </a>Open Mode Constants
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1181330"> </a>This section describes constants that are used for the <span style="font-family: monospace">openMode</span> parameter to the <a href="VFSMgr.html#1182499"><span style="font-family: monospace">VFSFileOpen</span></a> function. These constants specify the mode in which a file or directory is opened. 
</p>

<h5 class="TgTable">
  <a name="1181398"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="1181336"> </a><div class="CellHeading">Constant</div></th>
    <th><a name="1181338"> </a><div class="CellHeading">Value</div></th>
    <th><a name="1181340"> </a><div class="CellHeading">Description</div></th>
  </tr>
  <tr valign="top">
    <td><a name="1181343"> </a><div class="CellBody"><span style="font-family: monospace">vfsModeExclusive</span></div></td>
    <td><a name="1181345"> </a><div class="CellBody"><span style="font-family: monospace">0x0001U</span></div></td>
    <td><a name="1181347"> </a><div class="CellBody">Open and lock the file or directory. This mode excludes anyone else from using the file or directory until it is closed. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181350"> </a><div class="CellBody"><span style="font-family: monospace">vfsModeRead</span></div></td>
    <td><a name="1181352"> </a><div class="CellBody"><span style="font-family: monospace">0x0002U</span></div></td>
    <td><a name="1181354"> </a><div class="CellBody">Open for read access.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181357"> </a><div class="CellBody"><span style="font-family: monospace">vfsModeWrite</span></div></td>
    <td><a name="1181359"> </a><div class="CellBody"><span style="font-family: monospace">0x0004U | vfsModeExclusive</span></div></td>
    <td><a name="1181361"> </a><div class="CellBody">Open for write access. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181364"> </a><div class="CellBody"><span style="font-family: monospace">vfsModeReadWrite</span></div></td>
    <td><a name="1181366"> </a><div class="CellBody"><span style="font-family: monospace">vfsModeWrite | vfsModeRead</span></div></td>
    <td><a name="1181368"> </a><div class="CellBody">Open for read/write access.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181371"> </a><div class="CellBody"><span style="font-family: monospace">vfsModeCreate</span></div></td>
    <td><a name="1181373"> </a><div class="CellBody"><span style="font-family: monospace">0x0008U</span></div></td>
    <td><a name="1181375"> </a><div class="CellBody">Create the file if it doesn't already exist. This open mode is implemented in the VFS layer, rather than in the file system library.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181378"> </a><div class="CellBody"><span style="font-family: monospace">vfsModeTruncate</span></div></td>
    <td><a name="1181380"> </a><div class="CellBody"><span style="font-family: monospace">0x0010U</span></div></td>
    <td><a name="1181382"> </a><div class="CellBody">Truncate the file to zero (0) bytes after opening, removing all existing data. This open mode is implemented in the VFS layer, rather than in the file system library. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181385"> </a><div class="CellBody"><span style="font-family: monospace">vfsModeVFSLayerOnly</span></div></td>
    <td><a name="1181387"> </a><div class="CellBody"><span style="font-family: monospace">vfsModeCreate | vfsModeTruncate</span></div></td>
    <td><a name="1181389"> </a><div class="CellBody">Mask used to isolate those flags that are only used by the VFS layer. These flags are not passed to the file system layer.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181392"> </a><div class="CellBody"><span style="font-family: monospace">vfsModeLeaveOpen</span></div></td>
    <td><a name="1181394"> </a><div class="CellBody"><span style="font-family: monospace">0x0020U</span></div></td>
    <td><a name="1181396"> </a><div class="CellBody">Leave the file open even after the </div><a name="1181397"> </a><div class="CellBody">application exits.</div></td>
  </tr>
</table>




</h5>
<h2 class="HBHeadB">
  <a name="1181400"> </a>File and Directory Attributes
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1181401"> </a>The constants in the following table define bits that can be used individually or in combination when setting or interpreting the file attributes for a given file or directory. See <a href="VFSMgr.html#1182415"><span style="font-family: monospace">VFSFileGetAttributes</span></a>, <a href="VFSMgr.html#1182776"><span style="font-family: monospace">VFSFileSetAttributes</span></a>, and the <a href="VFSMgr.html#1181030">FileInfoType</a> data structure for specific use.
</p>

<h5 class="TgTable">
  <a name="1181467"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="1181413"> </a><div class="CellHeading">Constant</div></th>
    <th><a name="1181415"> </a><div class="CellHeading">Value</div></th>
    <th><a name="1181417"> </a><div class="CellHeading">Description</div></th>
  </tr>
  <tr valign="top">
    <td><a name="1181420"> </a><div class="CellBody"><span style="font-family: monospace">vfsFileAttrReadOnly</span></div></td>
    <td><a name="1181422"> </a><div class="CellBody"><span style="font-family: monospace">0x00000001UL</span></div></td>
    <td><a name="1181424"> </a><div class="CellBody">Read-only file or directory</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181427"> </a><div class="CellBody"><span style="font-family: monospace">vfsFileAttrHidden</span></div></td>
    <td><a name="1181429"> </a><div class="CellBody"><span style="font-family: monospace">0x00000002UL</span></div></td>
    <td><a name="1181431"> </a><div class="CellBody">Hidden file or directory</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181434"> </a><div class="CellBody"><span style="font-family: monospace">vfsFileAttrSystem</span></div></td>
    <td><a name="1181436"> </a><div class="CellBody"><span style="font-family: monospace">0x00000004UL</span></div></td>
    <td><a name="1181438"> </a><div class="CellBody">System file or directory</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181441"> </a><div class="CellBody"><span style="font-family: monospace">vfsFileAttrVolumeLabel</span></div></td>
    <td><a name="1181443"> </a><div class="CellBody"><span style="font-family: monospace">0x00000008UL</span></div></td>
    <td><a name="1181445"> </a><div class="CellBody">Volume label</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181448"> </a><div class="CellBody"><span style="font-family: monospace">vfsFileAttrDirectory</span></div></td>
    <td><a name="1181450"> </a><div class="CellBody"><span style="font-family: monospace">0x00000010UL</span></div></td>
    <td><a name="1181452"> </a><div class="CellBody">Directory</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181455"> </a><div class="CellBody"><span style="font-family: monospace">vfsFileAttrArchive</span></div></td>
    <td><a name="1181457"> </a><div class="CellBody"><span style="font-family: monospace">0x00000020UL</span></div></td>
    <td><a name="1181459"> </a><div class="CellBody">Archived file or directory</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181462"> </a><div class="CellBody"><span style="font-family: monospace">vfsFileAttrLink</span></div></td>
    <td><a name="1181464"> </a><div class="CellBody"><span style="font-family: monospace">0x00000040UL</span></div></td>
    <td><a name="1181466"> </a><div class="CellBody">Link to another file or directory</div></td>
  </tr>
</table>




</h5>
<h2 class="HBHeadB">
  <a name="1181469"> </a>Volume Attributes
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1181470"> </a>The constants in the following table define bits that can be used individually or in combination to make up the attributes field in the <a href="VFSMgr.html#1181158"><span style="font-family: monospace">VolumeInfoType</span></a> structure.
</p>

<h5 class="TgTable">
  <a name="1181502"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="1181476"> </a><div class="CellHeading">Constant</div></th>
    <th><a name="1181478"> </a><div class="CellHeading">Value</div></th>
    <th><a name="1181480"> </a><div class="CellHeading">Description</div></th>
  </tr>
  <tr valign="top">
    <td><a name="1181483"> </a><div class="CellBody"><span style="font-family: monospace">vfsVolumeAttrHidden</span></div></td>
    <td><a name="1181485"> </a><div class="CellBody"><span style="font-family: monospace">0x00000004UL</span></div></td>
    <td><a name="1181487"> </a><div class="CellBody">The volume should not be visible to the user.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181490"> </a><div class="CellBody"><span style="font-family: monospace">vfsVolumeAttrReadOnly</span></div></td>
    <td><a name="1181492"> </a><div class="CellBody"><span style="font-family: monospace">0x00000002UL</span></div></td>
    <td><a name="1181494"> </a><div class="CellBody">The volume is read only.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181497"> </a><div class="CellBody"><span style="font-family: monospace">vfsVolumeAttrSlotBased</span></div></td>
    <td><a name="1181499"> </a><div class="CellBody"><span style="font-family: monospace">0x00000001UL</span></div></td>
    <td><a name="1181501"> </a><div class="CellBody">Reserved. Check the mount class to determine how a volume is mounted.</div></td>
  </tr>
</table>




</h5>
<h2 class="HBHeadB">
  <a name="1181504"> </a>Volume Mount Classes
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1181505"> </a>The following constants define how a given volume is mounted. The <span style="font-family: monospace">mountClass</span> field in the <a href="VFSMgr.html#1181065"><span style="font-family: monospace">VFSAnyMountParamType</span></a> and <a href="VFSMgr.html#1181158"><span style="font-family: monospace">VolumeInfoType</span></a> structures takes on one of these values.
</p>

<h5 class="TgTable">
  <a name="1181540"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="1181514"> </a><div class="CellHeading">Constant</div></th>
    <th><a name="1181516"> </a><div class="CellHeading">Value</div></th>
    <th><a name="1181518"> </a><div class="CellHeading">Description</div></th>
  </tr>
  <tr valign="top">
    <td><a name="1181521"> </a><div class="CellBody"><span style="font-family: monospace">vfsMountClass_POSE</span></div></td>
    <td><a name="1181523"> </a><div class="CellBody"><span style="font-family: monospace">'pose'</span></div></td>
    <td><a name="1181525"> </a><div class="CellBody">Mount the volume through the Palm OS Emulator. This is used for testing.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181528"> </a><div class="CellBody"><span style="font-family: monospace">vfsMountClass_Simulator</span></div></td>
    <td><a name="1181530"> </a><div class="CellBody"><span style="font-family: monospace">sysFileTSimulator</span></div></td>
    <td><a name="1181532"> </a><div class="CellBody">Mount the volume through the simulator. This is used for testing.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181535"> </a><div class="CellBody"><span style="font-family: monospace">vfsMountClass_SlotDriver</span></div></td>
    <td><a name="1181537"> </a><div class="CellBody"><span style="font-family: monospace">sysFileTSlotDriver</span></div></td>
    <td><a name="1181539"> </a><div class="CellBody">Mount the volume with a slot driver shared library.</div></td>
  </tr>
</table>




</h5>
<h2 class="HBHeadB">
  <a name="1181541"> </a>Error Codes
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1181542"> </a>The VFS Manager defines the following error codes:
</p>

<h5 class="TgTable">
  <a name="1181646"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="1181545"> </a><div class="CellHeading">Constant</div></th>
    <th><a name="1181547"> </a><div class="CellHeading">Description</div></th>
  </tr>
  <tr valign="top">
    <td><a name="1181550"> </a><div class="CellBody"><span style="font-family: monospace">vfsErrBadData</span></div></td>
    <td><a name="1181552"> </a><div class="CellBody">The operation could not be completed because of invalid data.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181555"> </a><div class="CellBody"><span style="font-family: monospace">vfsErrBadName</span></div></td>
    <td><a name="1181557"> </a><div class="CellBody">Invalid filename, path, or volume label.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181560"> </a><div class="CellBody"><span style="font-family: monospace">vfsErrBufferOverflow</span></div></td>
    <td><a name="1181562"> </a><div class="CellBody">The supplied buffer is too small.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181565"> </a><div class="CellBody"><span style="font-family: monospace">vfsErrDirectoryNotFound</span></div></td>
    <td><a name="1181567"> </a><div class="CellBody">Returned when the path leading up to the file does not exist.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181570"> </a><div class="CellBody"><span style="font-family: monospace">vfsErrDirNotEmpty</span></div></td>
    <td><a name="1181572"> </a><div class="CellBody">The directory is not empty and therefore cannot be deleted.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181575"> </a><div class="CellBody"><span style="font-family: monospace">vfsErrFileAlreadyExists</span></div></td>
    <td><a name="1181577"> </a><div class="CellBody">A file with this name exists already in this location.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181580"> </a><div class="CellBody"><span style="font-family: monospace">vfsErrFileBadRef</span></div></td>
    <td><a name="1181582"> </a><div class="CellBody">The file reference is invalid: it has been closed or was not obtained from <a href="VFSMgr.html#1182499"><span style="font-family: monospace">VFSFileOpen</span></a>.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181588"> </a><div class="CellBody"><span style="font-family: monospace">vfsErrFileEOF</span></div></td>
    <td><a name="1181590"> </a><div class="CellBody">The file pointer is at the end of the file.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181593"> </a><div class="CellBody"><span style="font-family: monospace">vfsErrFileGeneric</span></div></td>
    <td><a name="1181595"> </a><div class="CellBody">Generic file error.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181598"> </a><div class="CellBody"><span style="font-family: monospace">vfsErrFileNotFound</span></div></td>
    <td><a name="1181600"> </a><div class="CellBody">The file was not found at the specified location.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181603"> </a><div class="CellBody"><span style="font-family: monospace">vfsErrFilePermissionDenied</span></div></td>
    <td><a name="1181605"> </a><div class="CellBody">The requested permissions could not be granted.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181608"> </a><div class="CellBody"><span style="font-family: monospace">vfsErrFileStillOpen</span></div></td>
    <td><a name="1181610"> </a><div class="CellBody">Returned from the underlying file system's delete function if the file is still open.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181613"> </a><div class="CellBody"><span style="font-family: monospace">vfsErrIsADirectory</span></div></td>
    <td><a name="1181615"> </a><div class="CellBody">This operation can only be performed on a regular file, not a directory.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181618"> </a><div class="CellBody"><span style="font-family: monospace">vfsErrNameShortened</span></div></td>
    <td><a name="1181620"> </a><div class="CellBody">A volume name or filename was automatically shortened to conform to the file system specification.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181623"> </a><div class="CellBody"><span style="font-family: monospace">vfsErrNoFileSystem</span></div></td>
    <td><a name="1181625"> </a><div class="CellBody">None of the installed file systems support this operation.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181628"> </a><div class="CellBody"><span style="font-family: monospace">vfsErrNotADirectory</span></div></td>
    <td><a name="1181630"> </a><div class="CellBody">This operation can only performed on a directory.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181633"> </a><div class="CellBody"><span style="font-family: monospace">vfsErrVolumeBadRef</span></div></td>
    <td><a name="1181635"> </a><div class="CellBody">The volume reference number is invalid.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181638"> </a><div class="CellBody"><span style="font-family: monospace">vfsErrVolumeFull</span></div></td>
    <td><a name="1181640"> </a><div class="CellBody">There is insufficient space left on the volume.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1181643"> </a><div class="CellBody"><span style="font-family: monospace">vfsErrVolumeStillMounted</span></div></td>
    <td><a name="1181645"> </a><div class="CellBody">Returned from the underlying file system's format function if the volume is still mounted.</div></td>
  </tr>
</table>




</h5>
<h2 class="HaHeadA">
  <a name="1181648"> </a>VFS Manager Functions 
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>


<h2 class="HBHeadB">
  <a name="1181847"> </a>VFSCustomControl
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1181848"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1181849"> </a>Make a custom API call to a particular file system, given its creator ID. You can use <a href="VFSMgr.html#1183424"><span style="font-family: monospace">VFSVolumeInfo</span></a> to determine the creator ID of the file system for a given volume.
</p>
<h4 class="RefSide">
  <a name="1181853"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1181854"> </a>VfsMgr.h
</p>
<h4 class="RefSide">
  <a name="1181855"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1181856"> </a>Err VFSCustomControl(UInt32 fsCreator,<br>UInt32 apiCreator, UInt16 apiSelector,<br>void *valueP, UInt16 *valueLenP)
</p>
<h4 class="RefSide">
  <a name="1181857"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1181858"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; fsCreator</td><td valign="top"></span>Creator of the file system to call. A value of zero (0) tells the VFS Manager to check each registered file system, looking for one which supports the call.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1181859"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; apiCreator</td><td valign="top"></span>Registered creator ID.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1181860"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; apiSelector</td><td valign="top"></span>Custom operation to perform.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1181861"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;-&gt; valueP</td><td valign="top"></span>A pointer to a buffer containing data specific to the operation. On exit, depending on the function of the particular custom call and on the value of <span style="font-family: monospace">valueLenP</span>, the contents of this buffer may have been updated.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1181862"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;-&gt; valueLenP</td><td valign="top"></span>On entry, points to the size of the <span style="font-family: monospace">valueP</span> buffer. On exit, this value reflects the size of the data written to the <span style="font-family: monospace">valueP</span> buffer. If <span style="font-family: monospace">valueLenP</span> is <span style="font-family: monospace">NULL</span>, <span style="font-family: monospace">valueP</span> is passed to the file system but is not updated on exit.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1181863"> </a>Result 
</h4>
<p class="Body">
  <a name="1181864"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1181865"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</td><td valign="top"></span>No error.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1181866"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrNotOpen</td><td valign="top"></span>The file system library necessary for this call has not been installed or has not been opened.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1181867"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrUnsupportedOperation</td><td valign="top"></span>The specified opcode and/or creator is unsupported or undefined.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1181868"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">sysErrParamErr</td><td valign="top"></span>The <span style="font-family: monospace">valueP</span> buffer is too small.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1181869"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrNoFileSystem</td><td valign="top"></span>VFS Manager cannot find an appropriate file system to handle the request.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1181870"> </a>Comments 	
</h4>
<p class="Body">
  <a name="1181871"> </a>The driver identifies the call and its API by a registered creator ID and a selector. This allows file system developers to extend the API by defining selectors for their creator IDs. It also allows file system developers to support selectors (and custom calls) defined by other file system developers. 
</p>
<p class="Body">
  <a name="1181872"> </a>This function must return <span style="font-family: monospace">expErrUnsupportedOperation</span> for all unsupported or undefined opcodes and/or creators.
</p>
<h4 class="RefSide">
  <a name="1181873"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1181877"> </a>Implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>

<h2 class="HBHeadB">
  <a name="1181880"> </a>VFSDirCreate
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1181881"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1181882"> </a>Create a new directory.
</p>
<h4 class="RefSide">
  <a name="1181883"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1181884"> </a>VfsMgr.h
</p>
<h4 class="RefSide">
  <a name="1181885"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1181886"> </a>Err VFSDirCreate(UInt16 volRefNum,<br>const Char *dirNameP)
</p>
<h4 class="RefSide">
  <a name="1181887"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1181888"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; volRefNum</td><td valign="top"></span>Volume reference number returned from <a href="VFSMgr.html#1183274"><span style="font-family: monospace">VFSVolumeEnumerate</span></a>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1181892"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; dirNameP</td><td valign="top"></span>Pointer to the full path of the directory to be created.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1181893"> </a>Result 
</h4>
<p class="Body">
  <a name="1181894"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1181895"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span> </td><td valign="top">No error</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1181896"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrNotOpen</td><td valign="top"></span>The file system library necessary for this call has not been installed or has not been opened.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1181897"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrBadName</td><td valign="top"></span>Some or all of the path, up to but not including the last component specified in the <span style="font-family: monospace">dirNameP</span> parameter, does not exist.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1181898"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrFileAlreadyExists</td><td valign="top"></span>A file with this name already exists in this location.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1181899"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrNoFileSystem</td><td valign="top"></span>The VFS Manager cannot find an appropriate file system to handle the request.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1181900"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrVolumeBadRef</td><td valign="top"></span>The volume has not been mounted.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1181901"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrVolumeFull</td><td valign="top"></span>There is not enough space left on the volume.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1181902"> </a>Comments 
</h4>
<p class="Body">
  <a name="1181903"> </a>All parts of the path except the last component must already exist. The <span style="font-family: monospace">vfsFileAttrDirectory</span> attribute is set with this function.
</p>
<p class="Body">
  <a name="1181907"> </a><a href="VFSMgr.html#1181880"><span style="font-family: monospace">VFSDirCreate</span></a> does not open the directory. Any operations you want to perform on this directory require a reference, which is obtained through a call to <a href="VFSMgr.html#1182499"><span style="font-family: monospace">VFSFileOpen</span></a>.
</p>
<h4 class="RefSide">
  <a name="1181911"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1181915"> </a>Implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>

<h2 class="HBHeadB">
  <a name="1181918"> </a>VFSDirEntryEnumerate
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1181919"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1181920"> </a>Enumerate the entries in a given directory. Entries can include files, links, and other directories.
</p>
<h4 class="RefSide">
  <a name="1181921"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1181922"> </a>VfsMgr.h
</p>
<h4 class="RefSide">
  <a name="1181923"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1181924"> </a>Err VFSDirEntryEnumerate (FileRef dirRef,<br>UInt32 *dirEntryIteratorP, FileInfoType *infoP)
</p>
<h4 class="RefSide">
  <a name="1181925"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1181926"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; dirRef</td><td valign="top"></span>Directory reference returned from <a href="VFSMgr.html#1182499"><span style="font-family: monospace">VFSFileOpen</span></a>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1181930"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;-&gt; dirEntryIteratorP </td><td valign="top"></span>Pointer to the index of the last entry enumerated. For the first iteration, initialize this parameter to the constant <span style="font-family: monospace">vfsIteratorStart</span>. Upon return, this references the next entry in the directory. If <span style="font-family: monospace">infoP</span> is the last entry, this parameter is set to <span style="font-family: monospace">vfsIteratorStop</span>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1181934"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;-&gt; infoP</td><td valign="top"></span>Pointer to the <a href="VFSMgr.html#1181030"><span style="font-family: monospace">FileInfoType</span></a> data structure that contains information about the given directory entry. The <span style="font-family: monospace">nameP</span> and <span style="font-family: monospace">nameBufLen</span> fields in this structure must be initialized prior to calling <span style="font-family: monospace">VFSDirEntryEnumerate</span>.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1181935"> </a>Result 
</h4>
<p class="Body">
  <a name="1181936"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1181937"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</td><td valign="top"></span>No error.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1181938"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrEnumerationEmpty</td><td valign="top"></span>There are no directory entries left to enumerate.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1181939"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrNotOpen</td><td valign="top"></span>The file system library necessary for this call has not been installed or has not been opened.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1181940"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">sysErrParamErr</td><td valign="top"></span>The <span style="font-family: monospace">dirEntryIteratorP</span> is not valid.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1181941"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrFileBadRef</td><td valign="top"></span>The specified file reference is invalid.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1181942"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrIsNotADirectory</td><td valign="top"></span>The specified file reference is valid, but does not point to a directory. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1181943"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrNoFileSystem</td><td valign="top"></span>The VFS Manager cannot find an appropriate file system to handle the request.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1181944"> </a>Comments 
</h4>
<p class="Body">
  <a name="1181945"> </a>The directory to be enumerated must first be opened with <a href="VFSMgr.html#1182499"><span style="font-family: monospace">VFSFileOpen</span></a> in order to obtain a file reference. In order to obtain information on all entries in a directory you must make repeated calls to <span style="font-family: monospace">VFSDirEntryEnumerate</span> inside a loop. Boundaries on the iteration are the defined constants <span style="font-family: monospace">vfsIteratorStart</span> and <span style="font-family: monospace">vfsIteratorStop</span>. Before the first call to <span style="font-family: monospace">VFSDirEntryEnumerate</span>, <span style="font-family: monospace">dirEntryIteratorP</span> should be initialized to <span style="font-family: monospace">vfsIteratorStart</span>. Each iteration then changes the value pointed to by <span style="font-family: monospace">dirEntryIteratorP</span>. When information on the last entry in the directory is returned, <span style="font-family: monospace">dirEntryIteratorP</span> is set to <span style="font-family: monospace">vfsIteratorStop</span>.
</p>
<div class="NWNoteWarning"><hr>
  <a name="1181949"> </a> <span style="color: #FF0000;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">WARNING!  </span> Creating, renaming, or deleting any file or directory invalidates the enumeration. After any such operation, the enumeration will need to be restarted.
<hr>
</div>
<h4 class="RefSide">
  <a name="1181950"> </a>Example 
</h4>
<p class="Body">
  <a name="1181951"> </a>The following code excerpt illustrates how to use <span style="font-family: monospace">VFSDirEntryEnumerate</span>.
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
FileInfoType info;<a name="1181952"> </a>
FileRef dirRef;<a name="1181953"> </a>
UInt32 dirIterator;<a name="1181954"> </a>
Char *fileName = MemPtrNew(256);  // should check for err<a name="1181955"> </a>
 <a name="1181956"> </a>
// open the directory first, to get the directory reference<a name="1181957"> </a>
// volRefNum must have already been defined<a name="1181958"> </a>
err = VFSFileOpen(volRefNum, "/", vfsModeRead, &amp;dirRef);<a name="1181959"> </a>
if(err == errNone) {<a name="1181960"> </a>
 <a name="1181961"> </a>
   info.nameP = fileName;    // point to local buffer<a name="1181962"> </a>
   info.nameBufLen = 256;<a name="1181963"> </a>
   dirIterator = vfsIteratorStart<a name="1181964"> </a>
   while (dirIterator != vfsIteratorStop) {<a name="1181965"> </a>
      // Get the next file<a name="1181966"> </a>
      err = VFSDirEntryEnumerate (dirRef, &amp;dirIterator,
         &amp;info);<a name="1181967"> </a>
      if (err == errNone) {<a name="1181968"> </a>
         // Do something with the directory entry information<a name="1181969"> </a>
         // Pull the attributes from info.attributes<a name="1181970"> </a>
         // The file name is in fileName<a name="1181971"> </a>
      } else {<a name="1181972"> </a>
         // handle error, possibly by breaking out of the loop<a name="1181973"> </a>
      }<a name="1181974"> </a>
   } else {<a name="1181975"> </a>
      // handle directory open error here<a name="1181976"> </a>
   }<a name="1181977"> </a>
   MemPtrFree(fileName);<a name="1181978"> </a>
}<a name="1181979"> </a>
</pre><div class="CodeRule"><hr></div>
<h4 class="RefSide">
  <a name="1181980"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1181984"> </a>Implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>

<h2 class="HBHeadB">
  <a name="1181987"> </a>VFSExportDatabaseToFile
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1181988"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1181989"> </a>Save the specified database to a <span style="font-family: monospace">.pdb</span> or .<span style="font-family: monospace">prc</span> file on an external storage card. 
</p>
<h4 class="RefSide">
  <a name="1181990"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1181991"> </a>VfsMgr.h
</p>
<h4 class="RefSide">
  <a name="1181992"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1181993"> </a>Err VFSExportDatabaseToFile (UInt16 volRefNum,<br>const Char *pathNameP, UInt16 cardNo,<br>LocalID dbID) 
</p>
<h4 class="RefSide">
  <a name="1181994"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1181995"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; volRefNum</td><td valign="top"></span>Volume on which the destination file should be created.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1181996"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; pathNameP</td><td valign="top"></span>Pointer to the complete path and name of the destination file to be created.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1181997"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; cardNo</td><td valign="top"></span>Card number on which the <span style="font-family: monospace">.pdb</span> or <span style="font-family: monospace">.prc</span> being exported resides.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1181998"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; dbID</span></td><td valign="top">ID of the database being exported.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1181999"> </a>Result 
</h4>
<p class="Body">
  <a name="1182000"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1182001"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span> </td><td valign="top">No error</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182002"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrNotEnoughPower</td><td valign="top"></span>There is insufficient battery power to perform the database export operation.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182003"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrBadName</td><td valign="top"></span>The path name specified in <span style="font-family: monospace">pathNameP</span> is not valid.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182004"> </a>Comments 
</h4>
<p class="Body">
  <a name="1182005"> </a>This utility function exports a database from main memory to a <span style="font-family: monospace">.pdb</span> or <span style="font-family: monospace">.prc</span> file on an external storage card. This function is the opposite of <a href="VFSMgr.html#1183026"><span style="font-family: monospace">VFSImportDatabaseFromFile</span></a>. It first creates the file specified in the <span style="font-family: monospace">pathNameP</span> parameter with <a href="VFSMgr.html#1182117"><span style="font-family: monospace">VFSFileCreate</span></a>. After opening the file the Exchange Manager function <a href="ExchangeManager.html#1233629"><span style="font-family: monospace">ExgDBWrite</span></a> is called with an internal callback function for exporting the file from the Data Manager. The Exchange Manager makes repeated calls to this callback function, which receives the data back in blocks. Once all the data has been exported, VFS Manager closes the file.
</p>
<p class="Body">
  <a name="1182015"> </a>This function is used, for example, to copy applications from main memory to a storage card.
</p>
<h4 class="RefSide">
  <a name="1182016"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1182020"> </a>Implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1182021"> </a>See Also 
</h4>
<p class="Body">
  <a name="1182028"> </a><a href="VFSMgr.html#1182034"><span style="font-family: monospace">VFSExportDatabaseToFileCustom</span></a>, <a href="VFSMgr.html#1182938"><span style="font-family: monospace">VFSFileWrite</span></a>, <a href="VFSMgr.html#1183026"><span style="font-family: monospace">VFSImportDatabaseFromFile</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1182034"> </a>VFSExportDatabaseToFileCustom
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1182035"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1182036"> </a>Saves the specified database to a .<span style="font-family: monospace">pdb</span> or .<span style="font-family: monospace">prc</span> file on an external storage card. This function differs from <a href="VFSMgr.html#1181987"><span style="font-family: monospace">VFSExportDatabaseToFile</span></a> in that it allows you to track the progress of the export operation.
</p>
<h4 class="RefSide">
  <a name="1182040"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1182041"> </a>VfsMgr.h
</p>
<h4 class="RefSide">
  <a name="1182042"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1182043"> </a>Err VFSExportDatabaseToFileCustom<br>(UInt16 volRefNum, const Char *pathNameP,<br>UInt16 cardNo, LocalID dbID,<br>VFSExportProcPtr exportProcP, void *userDataP) 
</p>
<h4 class="RefSide">
  <a name="1182044"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1182045"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; volRefNum</td><td valign="top"></span>Volume on which the destination file should be created.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182046"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; pathNameP</td><td valign="top"></span>Pointer to the complete path and name of the destination file to be created.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182047"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; cardNo</td><td valign="top"></span>Card number on which the <span style="font-family: monospace">.pdb</span> or <span style="font-family: monospace">.prc</span> being exported resides.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182048"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; dbID</span></td><td valign="top">ID of the database being exported.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182049"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; exportProcP</span><span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"></td><td valign="top"></span>User-defined callback function that tracks the progress of the export. This function should allow the user to cancel the export. Pass <span style="font-family: monospace">NULL</span> if you don't have a progress callback function. See <a href="VFSMgr.html#1183659"><span style="font-family: monospace">VFSExportProcPtr</span></a> for the requirements of this function.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182053"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; userDataP</span><span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"></td><td valign="top"></span>Pointer to any data you want to pass to the callback function specified in <span style="font-family: monospace">exportProcP</span>. This information is not used internally by the VFS Manager. Pass <span style="font-family: monospace">NULL</span> if you don't have a progress callback function or if that function doesn't need any such data.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182054"> </a>Result 
</h4>
<p class="Body">
  <a name="1182055"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1182056"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone </td><td valign="top"></span>No error.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182057"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrNotEnoughPower</td><td valign="top"></span>There is insufficient battery power to perform the database export operation.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182058"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrBadName</td><td valign="top"></span>The path name specified in <span style="font-family: monospace">pathNameP</span> is not valid.</td>
  </tr>
</table>
</div></h5>
<p class="Body">
  <a name="1182059"> </a>This function can also return any error code other than <span style="font-family: monospace">errNone</span> produced by your callback function.
</p>
<h4 class="RefSide">
  <a name="1182060"> </a>Comments 
</h4>
<p class="Body">
  <a name="1182064"> </a>This function is similar to <a href="VFSMgr.html#1181987"><span style="font-family: monospace">VFSExportDatabaseToFile</span></a> in that it exports a database from main memory to a <span style="font-family: monospace">.pdb</span> or<span style="font-family: monospace"> .prc</span> file on an external storage card. It extends the functionality by allowing you to specify a callback function that tracks the progress of the export. It first creates the file specified in the <span style="font-family: monospace">pathNameP</span> parameter with <a href="VFSMgr.html#1182117"><span style="font-family: monospace">VFSFileCreate</span></a>. After opening the file, the Exchange Manager function <a href="ExchangeManager.html#1233629"><span style="font-family: monospace">ExgDBWrite</span></a> is called with an internal callback function for exporting the file from the Data Manager. Exchange Manager makes repeated calls to this function, which receives the data back in blocks. The progress tracker, if one has been specified, is also called every time a new chunk of data is passed back. Once all the data has been exported, the VFS Manager closes the file.
</p>
<p class="Body">
  <a name="1182071"> </a>This function is used, for example, to copy applications from main memory to a storage card.
</p>
<h4 class="RefSide">
  <a name="1182072"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1182076"> </a>Implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1182077"> </a>See Also 
</h4>
<p class="Body">
  <a name="1182084"> </a><a href="VFSMgr.html#1181987"><span style="font-family: monospace">VFSExportDatabaseToFile</span></a>, <a href="VFSMgr.html#1182938"><span style="font-family: monospace">VFSFileWrite</span></a>, <a href="VFSMgr.html#1183078"><span style="font-family: monospace">VFSImportDatabaseFromFileCustom</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1182090"> </a>VFSFileClose
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1182091"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1182095"> </a>Closes a file or directory that has been opened with <a href="VFSMgr.html#1182499"><span style="font-family: monospace">VFSFileOpen</span></a>.
</p>
<h4 class="RefSide">
  <a name="1182096"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1182097"> </a>VfsMgr.h
</p>
<h4 class="RefSide">
  <a name="1182098"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1182099"> </a>Err VFSFileClose (FileRef fileRef)
</p>
<h4 class="RefSide">
  <a name="1182100"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1182101"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; fileRef</td><td valign="top"></span>File reference number returned from <a href="VFSMgr.html#1182499"><span style="font-family: monospace">VFSFileOpen</span></a>.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182105"> </a>Result 
</h4>
<p class="Body">
  <a name="1182106"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1182107"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span> </td><td valign="top">No error.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182108"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrNotOpen</td><td valign="top"></span>The file system library necessary for this call has not been installed or has not been opened.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182109"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrFileBadRef</td><td valign="top"></span>The specified file reference is invalid.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182110"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1182114"> </a>Implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>

<h2 class="HBHeadB">
  <a name="1182117"> </a>VFSFileCreate
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1182118"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1182119"> </a>Create a file. This function cannot be used to create a directory; use <a href="VFSMgr.html#1181880"><span style="font-family: monospace">VFSDirCreate</span></a> instead.
</p>
<h4 class="RefSide">
  <a name="1182123"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1182124"> </a>VfsMgr.h
</p>
<h4 class="RefSide">
  <a name="1182125"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1182126"> </a>Err VFSFileCreate(UInt16 volRefNum,<br>const Char *pathNameP)
</p>
<h4 class="RefSide">
  <a name="1182127"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1182128"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; volRefNum</td><td valign="top"></span>Reference number of the volume on which to create the file. This volume reference number is returned from <a href="VFSMgr.html#1183274"><span style="font-family: monospace">VFSVolumeEnumerate</span></a>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182132"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; pathNameP</td><td valign="top"></span>Pointer to the full path of the file to be created. All parts of the path, excluding the filename, must already exist.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182133"> </a>Result 
</h4>
<p class="Body">
  <a name="1182134"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1182135"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span> </td><td valign="top">No error.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182136"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrNotOpen</td><td valign="top"></span>The file system library necessary for this call has not been installed or has not been opened.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182137"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrBadName</td><td valign="top"></span>The <span style="font-family: monospace">pathNameP</span> is invalid.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182138"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrFileAlreadyExists</td><td valign="top"></span>A file with this name already exists in this location.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182139"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrNoFileSystem</td><td valign="top"></span>The VFS Manager cannot find an appropriate file system to handle the request.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182140"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrVolumeBadRef</td><td valign="top"></span>The volume has not been mounted.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182141"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrVolumeFull</td><td valign="top"></span>There is not enough space left on the volume.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182142"> </a>Comments 	
</h4>
<p class="Body">
  <a name="1182143"> </a>It is the responsibility of the file system library to ensure that all filenames are translated into a format that is compatible with the native format of the file system, such as the 8.3 convention for a FAT file system without long filename support. See <a href="ExpAndVFSConcepts.html#1001623">Naming Files</a> in the <a href="ExpAndVFSConcepts.html#1000865">Expansion</a> chapter of the <i>Palm OS Programmer's Companion</i>, vol. I for a description of how to construct a valid path.
</p>
<p class="Body">
  <a name="1182156"> </a>This function does not open the file. Use <a href="VFSMgr.html#1182499"><span style="font-family: monospace">VFSFileOpen</span></a> to open the file. 
</p>
<p class="Body">
  <a name="1182157"> </a>This function should not be used to create a directory. To create a directory use <a href="VFSMgr.html#1181880"><span style="font-family: monospace">VFSDirCreate</span></a>.
</p>
<h4 class="RefSide">
  <a name="1182161"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1182165"> </a>Implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1182166"> </a>See Also 
</h4>
<p class="Body">
  <a name="1182170"> </a><a href="VFSMgr.html#1182357"><span style="font-family: monospace">VFSFileDelete</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1182173"> </a>VFSFileDBGetRecord
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1182174"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1182175"> </a>Load a record from an opened <span style="font-family: monospace">.pdb</span> file on an external card into the storage heap.
</p>
<h4 class="RefSide">
  <a name="1182176"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1182177"> </a>VfsMgr.h
</p>
<h4 class="RefSide">
  <a name="1182178"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1182179"> </a>Err VFSFileDBGetRecord (FileRef ref,<br>UInt16 recIndex, MemHandle *recHP,<br>UInt8 *recAttrP, UInt32 *uniqueIDP)
</p>
<h4 class="RefSide">
  <a name="1182180"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1182181"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; ref</td><td valign="top"></span>The file reference returned from <a href="VFSMgr.html#1182499"><span style="font-family: monospace">VFSFileOpen</span></a>. Note that the open file must be a <span style="font-family: monospace">.pdb </span>file.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182185"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; recIndex</td><td valign="top"></span>The index of the record to load.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182186"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- recHP</td><td valign="top"></span>Pointer to the record data's handle in the storage heap. If <span style="font-family: monospace">NULL</span> is returned in this parameter there is either no data in this field or an error occurred reading this data from the file. If the handle is not <span style="font-family: monospace">NULL</span>, you must dispose of the allocated handle using <a href="MemoryManager.html#1132656"><span style="font-family: monospace">MemHandleFree</span></a>. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182190"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- recAttrP</td><td valign="top"></span>Pointer to the attributes of the record. The values returned are identical to the atttributes returned from <a href="DataAndResourceManager.html#1097150"><span style="font-family: monospace">DmRecordInfo</span></a>. See <a href="DataAndResourceManager.html#1094567">Record Attribute Constants</a> in the <a href="DataAndResourceManager.html#1094449">Data and Resource Manager</a> chapter for a description of each attribute. Pass <span style="font-family: monospace">NULL</span> for this parameter if you do not want to retrieve this information.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182200"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- uniqueIDP</span></td><td valign="top">Pointer to the unique identifier for this record. Pass <span style="font-family: monospace">NULL</span> for this parameter if you do not want to retrieve this information.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182201"> </a>Result 
</h4>
<p class="Body">
  <a name="1182202"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1182203"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span> </td><td valign="top">No error.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182204"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">dmErrIndexOutOfRange</td><td valign="top"></span>The <span style="font-family: monospace">recIndex</span> is out of range.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182205"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">dmErrNotRecordDB</td><td valign="top"></span>The file referenced by <span style="font-family: monospace">ref</span> is not a record database.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182206"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">memErrNotEnoughSpace</td><td valign="top"></span>There is not enough space in memory for the requested record entry.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182207"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">sysErrParamErr</td><td valign="top"></span>A <span style="font-family: monospace">NULL</span> value was passed in for the <span style="font-family: monospace">recHP</span>, <span style="font-family: monospace">recAttrP</span>, and <span style="font-family: monospace">uniqueIDP</span> parameters.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182208"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrBadData</td><td valign="top"></span>The local offsets (<span style="font-family: monospace">localChunkID</span>) from the top of the <span style="font-family: monospace">.pdb</span> to the start of the raw record data for this entry are out of order.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182209"> </a>Comments 
</h4>
<p class="Body">
  <a name="1182213"> </a>This function is analogous to <a href="DataAndResourceManager.html#1096247"><span style="font-family: monospace">DmGetRecord</span></a> but works with files on an external card rather than databases in main memory. This function allocates a handle of the appropriate size from the storage heap and returns it in the <span style="font-family: monospace">recHP</span> parameter. The caller is responsible for freeing this memory, using <a href="MemoryManager.html#1132656"><span style="font-family: monospace">MemHandleFree</span></a>, when it is no longer needed.
</p>
<div class="NINoteImportant"><hr>
  <a name="1182217"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">NOTE:  </span> This function is not efficient for multiple accesses and should be used sparingly.
<hr>
</div>
<h4 class="RefSide">
  <a name="1182218"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1182222"> </a>Implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1182223"> </a>See Also 
</h4>
<p class="Body">
  <a name="1182227"> </a><a href="VFSMgr.html#1182601"><span style="font-family: monospace">VFSFileReadData</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1182230"> </a>VFSFileDBGetResource
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1182231"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1182232"> </a>Load a resource into the storage heap from an opened <span style="font-family: monospace">.prc</span> file.
</p>
<h4 class="RefSide">
  <a name="1182233"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1182234"> </a>VfsMgr.h
</p>
<h4 class="RefSide">
  <a name="1182235"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1182236"> </a>Err VFSFileDBGetResource (FileRef ref,<br>DmResType type, DmResID resID, MemHandle *resHP) 
</p>
<h4 class="RefSide">
  <a name="1182237"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1182238"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; ref</td><td valign="top"></span>The file reference returned from <a href="VFSMgr.html#1182499"><span style="font-family: monospace">VFSFileOpen</span></a>. Note that the open file must be a <span style="font-family: monospace">.prc</span> file.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182244"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; type</td><td valign="top"></span>The type of resource to load. See the <a href="DataAndResourceManager.html#1094449">Data and Resource Manager</a> chapter for more information on resources.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182246"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; resID</td><td valign="top"></span>The ID of resource to load.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182247"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- resHP</span></td><td valign="top">Pointer to the resource data handle that was loaded into memory.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182248"> </a>Result 
</h4>
<p class="Body">
  <a name="1182249"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1182250"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span> </td><td valign="top">No error.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182251"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">dmErrNotResourceDB</td><td valign="top"></span>The file referenced by <span style="font-family: monospace">ref</span> is not a resource database.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182252"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">dmErrResourceNotFound</td><td valign="top"></span>The requested resource was not found.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182253"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">memErrNotEnoughSpace</td><td valign="top"></span>There is not enough space in memory for the requested resource entries.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182254"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">sysErrParamErr</span></td><td valign="top"><span style="font-family: monospace">resHP</span> is <span style="font-family: monospace">NULL</span>.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182255"> </a>Comments 
</h4>
<p class="Body">
  <a name="1182256"> </a>This function locates the specified resource in the open <span style="font-family: monospace">.prc</span> file. See the <i>Palm OS File Format Specification</i> for more information on the layout of <span style="font-family: monospace">.prc</span> files. 
</p>
<p class="Body">
  <a name="1182257"> </a>Once the resource is found, <span style="font-family: monospace">VFSFileDBGetResource</span> allocates a handle of the appropriate size in the storage heap and reads it into memory. The handle to this memory location is returned through the <span style="font-family: monospace">resHP</span> parameter. The caller is responsible for freeing this memory, using <a href="MemoryManager.html#1132656"><span style="font-family: monospace">MemHandleFree</span></a>, when it is no longer needed.
</p>
<div class="NINoteImportant"><hr>
  <a name="1182261"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">NOTE:  </span> This function is not efficient for multiple accesses and should be used sparingly.
<hr>
</div>
<h4 class="RefSide">
  <a name="1182262"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1182266"> </a>Implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>

<h2 class="HBHeadB">
  <a name="1182269"> </a>VFSFileDBInfo
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1182270"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1182271"> </a>Get information about a database represented by an open <span style="font-family: monospace">.prc</span> or <span style="font-family: monospace">.pdb</span> file.
</p>
<h4 class="RefSide">
  <a name="1182272"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1182273"> </a>VfsMgr.h
</p>
<h4 class="RefSide">
  <a name="1182274"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1182275"> </a>Err VFSFileDBInfo (FileRef ref, Char *nameP,<br>UInt16 *attributesP, UInt16 *versionP,<br>UInt32 *crDateP, UInt32 *modDateP,<br>UInt32 *bckUpDateP, UInt32 *modNumP,<br>MemHandle *appInfoHP, MemHandle *sortInfoHP,<br>UInt32 *typeP, UInt32 *creatorP,<br>UInt16 *numRecordsP) 
</p>
<h4 class="RefSide">
  <a name="1182276"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1182277"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; ref</span></td><td valign="top">The file reference returned from <a href="VFSMgr.html#1182499"><span style="font-family: monospace">VFSFileOpen</span></a>. Note that the open file must be a <span style="font-family: monospace">.prc</span> or <span style="font-family: monospace">.pdb</span> file.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182281"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- nameP</td><td valign="top"></span>Pointer to a 32-byte character array in which the database name is returned. Pass <span style="font-family: monospace">NULL</span> for this parameter if you do not want to retrieve the database name.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182282"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- attributesP</td><td valign="top"></span>Pointer to the database attributes stored in the file. The values returned are identical to the atttributes returned from <a href="DataAndResourceManager.html#1105351"><span style="font-family: monospace">DmDatabaseInfo</span></a>. See the <a href="DataAndResourceManager.html#1094637">Database Attribute Constants</a> section for a description of each attribute. Pass <span style="font-family: monospace">NULL</span> for this parameter if you do not want to retrieve the database's attributes.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182289"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- versionP</td><td valign="top"></span>Pointer to the application-specific version number of the database. The default version number is zero (0). Pass <span style="font-family: monospace">NULL</span> for this parameter if you do not want to retrieve the version number.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182290"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- crDateP</td><td valign="top"></span>Pointer to the date the database was created, expressed in seconds since midnight (00:00:00) January 1, 1904. Pass <span style="font-family: monospace">NULL</span> for this parameter if you do not want to retrieve the creation date.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182291"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- modDateP</td><td valign="top"></span>Pointer to the date the database was last modified, expressed in seconds since midnight (00:00:00) January 1, 1904. A database's modification date is updated only if a change has been made to the database when it is opened with write access. Pass <span style="font-family: monospace">NULL</span> for this parameter if you do not want to retrieve the database's modification date.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182292"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- bckUpDateP</td><td valign="top"></span>Pointer to the date the database was last backed up, expressed in seconds since midnight (00:00:00) January 1, 1904. Pass <span style="font-family: monospace">NULL</span> for this parameter if you do not want to retrieve the database's backup date.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182293"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- modNumP</td><td valign="top"></span>Pointer to the number of times the database was modified. This number is updated every time a record is added, modified, or deleted. Pass <span style="font-family: monospace">NULL</span> for this parameter if you do not want to retrieve the modification count.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182294"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- appInfoHP</td><td valign="top"></span>Pointer to the application info block handle. If <span style="font-family: monospace">NULL</span> is returned in this parameter, either there is no data in this field or an error occurred reading this data from the file. If a value other than <span style="font-family: monospace">NULL</span> is returned, you must dispose of the allocated handle using <a href="MemoryManager.html#1132656"><span style="font-family: monospace">MemHandleFree</span></a>. If you do not want to retrieve the application info block, pass <span style="font-family: monospace">NULL</span> for this parameter</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182298"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- sortInfoHP</td><td valign="top"></span>Pointer to the sort info block handle. If <span style="font-family: monospace">NULL</span> is returned in this parameter, either there is no data in this field or an error occurred reading this data from the file. If a value other than <span style="font-family: monospace">NULL</span> is returned, you must dispose of the allocated handle using <a href="MemoryManager.html#1132656"><span style="font-family: monospace">MemHandleFree</span></a>. Pass <span style="font-family: monospace">NULL</span> for this parameter if you do not want to retrieve the sort info block handle.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182302"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- typeP</td><td valign="top"></span>Pointer to the type of database as it was created. This may be a user-defined database type or a database type defined by the Palm OS. Some of the more common database types returned here are:</td>
  </tr>
</table>
</div></h5>

<h5 class="TgTable">
  <a name="1182328"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="1182305"> </a><div class="CellHeading">Type</div></th>
    <th><a name="1182307"> </a><div class="CellHeading">Description</div></th>
  </tr>
  <tr valign="top">
    <td><a name="1182309"> </a><div class="CellBody"><span style="font-family: monospace">'appl'</span></div></td>
    <td><a name="1182311"> </a><div class="CellBody">Standard Palm<sup>&#8482;</sup> application (resource database)</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1182313"> </a><div class="CellBody"><span style="font-family: monospace">'libr'</span></div></td>
    <td><a name="1182315"> </a><div class="CellBody">Standard shared library</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1182317"> </a><div class="CellBody"><span style="font-family: monospace">'libf'</span></div></td>
    <td><a name="1182319"> </a><div class="CellBody">File system shared library</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1182321"> </a><div class="CellBody"><span style="font-family: monospace">'libs'</span></div></td>
    <td><a name="1182323"> </a><div class="CellBody">Slot driver shared library</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1182325"> </a><div class="CellBody"><span style="font-family: monospace">'data'</span></div></td>
    <td><a name="1182327"> </a><div class="CellBody">Standard Palm data file (record database)</div></td>
  </tr>
</table>




</h5><h5 class="P1"><a name="1182329"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"></td><td valign="top">Pass <span style="font-family: monospace">NULL</span> for this parameter if you do not want to retrieve the database's type.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182330"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- creatorP</span></td><td valign="top">Pointer to the database's creator. Pass NULL for this parameter if you do not want to retrieve this information.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182331"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- numRecordsP</span></td><td valign="top">Pointer to the number of records in the database. Pass <span style="font-family: monospace">NULL</span> for this parameter if you do not want to retrieve this information.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182332"> </a>Result 
</h4>
<p class="Body">
  <a name="1182333"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1182334"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span> </td><td valign="top">No error</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182335"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">memErrNotEnoughSpace</td><td valign="top"></span>There is not enough space in memory for the database header.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182336"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrBadData</td><td valign="top"></span>The file referenced by the <span style="font-family: monospace">ref</span> parameter is too small to contain a database header, or the database header is corrupted.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182337"> </a>Comments 
</h4>
<p class="Body">
  <a name="1182341"> </a>This function is analogous to <a href="DataAndResourceManager.html#1105351"><span style="font-family: monospace">DmDatabaseInfo</span></a>, but it works with files on an external card rather than with databases in main memory. See the <i>Palm OS File Format Specification </i>for a description of the header block in  <span style="font-family: monospace">.prc</span> and <span style="font-family: monospace">.pdb </span>files. 
</p>
<h4 class="RefSide">
  <a name="1182342"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1182346"> </a>Implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1182347"> </a>See Also 
</h4>
<p class="Body">
  <a name="1182354"> </a><a href="VFSMgr.html#1182415"><span style="font-family: monospace">VFSFileGetAttributes</span></a>, <a href="VFSMgr.html#1182455"><span style="font-family: monospace">VFSFileGetDate</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1182357"> </a>VFSFileDelete
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1182358"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1182359"> </a>Deletes a closed file or directory.
</p>
<h4 class="RefSide">
  <a name="1182360"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1182361"> </a>VfsMgr.h
</p>
<h4 class="RefSide">
  <a name="1182362"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1182363"> </a>Err VFSFileDelete(UInt16 volRefNum, const Char *pathNameP)
</p>
<h4 class="RefSide">
  <a name="1182364"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1182365"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; volRefNum</td><td valign="top"></span>Volume reference number returned from <a href="VFSMgr.html#1183274"><span style="font-family: monospace">VFSVolumeEnumerate</span></a>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182369"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; pathNameP</td><td valign="top"></span>Pointer to the full path of the file or directory to be deleted.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182370"> </a>Result 
</h4>
<p class="Body">
  <a name="1182371"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1182372"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span> </td><td valign="top">No error.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182373"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrNotOpen</td><td valign="top"></span>The file system library necessary for this call has not been installed or has not been opened.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182374"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrBadName</td><td valign="top"></span>The path name specified in <span style="font-family: monospace">pathNameP</span> is not valid.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182375"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrDirNotEmpty</td><td valign="top"></span>The directory being deleted is not empty.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182376"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrFileStillOpen</td><td valign="top"></span>The file is still open.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182377"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrFileNotFound</td><td valign="top"></span>The file could not be found.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182378"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrFilePermissionDenied</td><td valign="top"></span>The requested permissions could not be granted.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182379"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrNoFileSystem</td><td valign="top"></span>The VFS Manager cannot find an appropriate file system to handle the request.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182380"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrVolumeBadRef</td><td valign="top"></span>The volume has not been mounted.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182381"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1182385"> </a>Implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>

<h2 class="HBHeadB">
  <a name="1182388"> </a>VFSFileEOF
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1182389"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1182390"> </a>Get end-of-file status for an open file. This function only operates on files and cannot be used with directories.
</p>
<h4 class="RefSide">
  <a name="1182391"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1182392"> </a>VfsMgr.h
</p>
<h4 class="RefSide">
  <a name="1182393"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1182394"> </a>Err VFSFileEOF (FileRef fileRef)
</p>
<h4 class="RefSide">
  <a name="1182395"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1182399"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; fileRef</td><td valign="top"></span>File reference returned from <a href="VFSMgr.html#1182499"><span style="font-family: monospace">VFSFileOpen</span></a>.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182400"> </a>Result 
</h4>
<p class="Body">
  <a name="1182401"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1182402"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span> </td><td valign="top">No error. File pointer is not at end of the file.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182403"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrFileEOF</td><td valign="top"></span>The file pointer is at the end of file.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182404"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrNotOpen</td><td valign="top"></span>The file system library necessary for this call has not been installed or has not been opened.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182405"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrFileBadRef</td><td valign="top"></span>The specified file reference is invalid.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182406"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrIsADirectory</td><td valign="top"></span>The specified file reference points to a directory instead of a file. This is an invalid operation on a directory.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182407"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrNoFileSystem</td><td valign="top"></span>The VFS Manager cannot find an appropriate file system to handle the request.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182408"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1182412"> </a>Implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>

<h2 class="HBHeadB">
  <a name="1182415"> </a>VFSFileGetAttributes
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1182416"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1182417"> </a>Obtain the attributes of an open file or directory.
</p>
<h4 class="RefSide">
  <a name="1182418"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1182419"> </a>VfsMgr.h
</p>
<h4 class="RefSide">
  <a name="1182420"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1182421"> </a>Err VFSFileGetAttributes (FileRef fileRef, UInt32 *attributesP)
</p>
<h4 class="RefSide">
  <a name="1182422"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1182426"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; fileRef</td><td valign="top"></span>File reference returned from <a href="VFSMgr.html#1182499"><span style="font-family: monospace">VFSFileOpen</span></a>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182427"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- attributesP</td><td valign="top"></span>Pointer to the attributes associated with the file or directory. See <a href="VFSMgr.html#1181400">File and Directory Attributes</a> for a list of values that can be returned through this parameter.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182431"> </a>Result 
</h4>
<p class="Body">
  <a name="1182432"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1182433"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span> </td><td valign="top">No error</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182434"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrNotOpen</td><td valign="top"></span>The file system library necessary for this call has not been installed or has not been opened.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182435"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrFileBadRef</td><td valign="top"></span>The specified file reference is invalid.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182436"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrNoFileSystem</td><td valign="top"></span>The VFS Manager cannot find an appropriate file system to handle the request.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182437"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1182441"> </a>Implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1182442"> </a>See Also 
</h4>
<p class="Body">
  <a name="1182452"> </a><a href="VFSMgr.html#1182269"><span style="font-family: monospace">VFSFileDBInfo</span></a>, <a href="VFSMgr.html#1182455"><span style="font-family: monospace">VFSFileGetDate</span></a>, <a href="VFSMgr.html#1182776"><span style="font-family: monospace">VFSFileSetAttributes</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1182455"> </a>VFSFileGetDate
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1182456"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1182457"> </a>Obtain the dates on an open file or directory.
</p>
<h4 class="RefSide">
  <a name="1182458"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1182459"> </a>VfsMgr.h
</p>
<h4 class="RefSide">
  <a name="1182460"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1182461"> </a>Err VFSFileGetDate (FileRef fileRef, UInt16 whichDate, UInt32 *dateP)
</p>
<h4 class="RefSide">
  <a name="1182462"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1182466"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; fileRef</td><td valign="top"></span>File reference returned from <a href="VFSMgr.html#1182499"><span style="font-family: monospace">VFSFileOpen</span></a>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182467"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; whichDate</td><td valign="top"></span>Specifies which date-creation, modification, or last access-you want. Supply one of the following values:</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182468"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"></td><td valign="top"><span style="font-family: monospace">vfsFileDateCreated</span></td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182469"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"></td><td valign="top"><span style="font-family: monospace">vfsFileDateModified</span></td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182470"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"></td><td valign="top"><span style="font-family: monospace">vfsFileDateAccessed</span></td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182471"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"></td><td valign="top">Note that not all file systems are required to support the above dates. If the supplied date type is not supported by the file system, <span style="font-family: monospace">VFSFileGetDate</span> returns <span style="font-family: monospace">expErrUnsupportedOperation</span>. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182472"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- dateP</td><td valign="top"></span>Pointer to the requested date. This field is expressed in the standard Palm OS date format - the number of seconds since midnight (00:00:00) January 1, 1904. </td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182473"> </a>Result 
</h4>
<p class="Body">
  <a name="1182474"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1182475"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span> </td><td valign="top">No error.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182476"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrNotOpen</td><td valign="top"></span>The file system library necessary for this call has not been installed or has not been opened.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182477"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrUnsupportedOperation</td><td valign="top"></span>The specified date type is not supported by the underlying file system.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182479"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrFileBadRef</td><td valign="top"></span>The specified file reference is invalid.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182480"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">sysErrParamErr</td><td valign="top"></span>The <span style="font-family: monospace">whichDate</span> parameter is not one of the defined constants.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182481"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1182485"> </a>Implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1182486"> </a>See Also 
</h4>
<p class="Body">
  <a name="1182496"> </a><a href="VFSMgr.html#1182269"><span style="font-family: monospace">VFSFileDBInfo</span></a>, <a href="VFSMgr.html#1182415"><span style="font-family: monospace">VFSFileGetAttributes</span></a>, <a href="VFSMgr.html#1182823"><span style="font-family: monospace">VFSFileSetDate</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1182499"> </a>VFSFileOpen
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1182500"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1182501"> </a>Opens a file or directory and returns a reference for it.
</p>
<h4 class="RefSide">
  <a name="1182502"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1182503"> </a>VfsMgr.h
</p>
<h4 class="RefSide">
  <a name="1182504"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1182506"> </a>Err VFSFileOpen (UInt16 volRefNum, const Char *pathNameP, UInt16 openMode, FileRef *fileRefP)
</p>
<h4 class="RefSide">
  <a name="1182507"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1182508"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; volRefNum</td><td valign="top"></span>The volume reference number returned from <a href="VFSMgr.html#1183274"><span style="font-family: monospace">VFSVolumeEnumerate</span></a>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182512"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; pathNameP</span></td><td valign="top">Pointer to the full path of the file or directory to be opened. This must be a valid path. It cannot be empty and can not contain null characters. The format of the pathname should match what the underlying file system supports. See <a href="ExpAndVFSConcepts.html#1001623">"Naming Files"</a> in <a href="ExpAndVFSConcepts.html#1000865">Chapter 7, "Expansion,"</a> of the <i>Palm OS Programmer's Companion</i>, vol. I for a description of how to construct a valid path.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182522"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; openMode</td><td valign="top"></span>Mode to use when opening the file. See the <a href="VFSMgr.html#1181329">Open Mode Constants</a> section for a list of accepted modes.</td><td valign="top"></td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182526"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- fileRefP</td><td valign="top"></span>Pointer to the opened file or directory reference which is supplied to various other <span style="font-family: monospace">VFSFile... </span>operations. This value is filled in on return.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182527"> </a>Result 
</h4>
<p class="Body">
  <a name="1182528"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1182529"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span> </td><td valign="top">No error.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182530"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrCardReadOnly</td><td valign="top"></span>The open mode requested includes write access but the file is read-only.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182531"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrNotOpen</td><td valign="top"></span>The file system library necessary for this call has not been installed or has not been opened.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182532"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrBadName</td><td valign="top"></span>The <span style="font-family: monospace">pathNameP</span> parameter is invalid.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182533"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrFileNotFound</td><td valign="top"></span>The specified file or directory could not be found.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182534"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrFilePermissionDenied</td><td valign="top"></span>The file cannot be opened in the requested open mode, or it has already been opened with <span style="font-family: monospace">vfsModeExclusive</span>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182535"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrVolumeBadRef</td><td valign="top"></span>The specified volume has not been mounted.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182536"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1182540"> </a>Implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1182541"> </a>See Also 
</h4>
<p class="Body">
  <a name="1182548"> </a><a href="VFSMgr.html#1182090"><span style="font-family: monospace">VFSFileClose</span></a>, <a href="VFSMgr.html#1181918"><span style="font-family: monospace">VFSDirEntryEnumerate</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1182551"> </a>VFSFileRead
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1182552"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1182553"> </a>Read data from a file into the dynamic heap. This function only operates on files and cannot be used with directories; use <a href="VFSMgr.html#1181918"><span style="font-family: monospace">VFSDirEntryEnumerate</span></a> to explore the contents of a directory.
</p>
<h4 class="RefSide">
  <a name="1182557"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1182558"> </a>VfsMgr.h
</p>
<h4 class="RefSide">
  <a name="1182559"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1182560"> </a>Err VFSFileRead (FileRef fileRef, UInt32 numBytes, void *bufP, UInt32 *numBytesReadP)
</p>
<h4 class="RefSide">
  <a name="1182561"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1182565"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; fileRef</td><td valign="top"></span>File reference returned from <a href="VFSMgr.html#1182499"><span style="font-family: monospace">VFSFileOpen</span></a>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182566"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; numBytes</td><td valign="top"></span>Number of bytes to read.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182567"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- bufP</td><td valign="top"></span>Pointer to the destination chunk where the data is to be stored. This can be a pointer to any writable memory.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182568"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- numBytesReadP</td><td valign="top"></span>Pointer to an unsigned integer that reflects the number of bytes actually read. This value is set on return and does not need to be initialized. If no bytes are read the value is set to zero. Pass <span style="font-family: monospace">NULL</span> for this parameter if you do not need to know how many bytes were read.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182569"> </a>Result 
</h4>
<p class="Body">
  <a name="1182570"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1182571"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span> </td><td valign="top">No error.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182572"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrNotOpen</td><td valign="top"></span>The file system library necessary for this call has not been installed or has not been opened.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182573"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrFileBadRef</td><td valign="top"></span>The specified file reference is invalid.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182574"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrFileEOF</td><td valign="top"></span>The end of the file has been reached.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182575"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrFilePermissionDenied</td><td valign="top"></span>Read permission is not enabled for this file.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182576"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrIsADirectory</td><td valign="top"></span>The specified file reference is for a directory instead of a file. This is an invalid operation on a directory.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182577"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrNoFileSystem</td><td valign="top"></span>The VFS Manager cannot find an appropriate file system to handle the request.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182578"> </a>Comments 
</h4>
<p class="Body">
  <a name="1182582"> </a>The file system does not use <a href="DataAndResourceManager.html#1097774"><span style="font-family: monospace">DmWrite</span></a> and cannot be used to read data into the storage heap.
</p>
<h4 class="RefSide">
  <a name="1182583"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1182587"> </a>Implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1182588"> </a>See Also 
</h4>
<p class="Body">
  <a name="1182595"> </a><a href="VFSMgr.html#1182601"><span style="font-family: monospace">VFSFileReadData</span></a>, <a href="VFSMgr.html#1182938"><span style="font-family: monospace">VFSFileWrite</span></a>, <a href="VFSMgr.html#1183026"><span style="font-family: monospace">VFSImportDatabaseFromFile</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1182601"> </a>VFSFileReadData
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1182602"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1182603"> </a>Read data from a file into a chunk of memory in the storage heap. This function only operates on files and cannot be used with directories; use <a href="VFSMgr.html#1181918"><span style="font-family: monospace">VFSDirEntryEnumerate</span></a> to explore the contents of a directory.
</p>
<h4 class="RefSide">
  <a name="1182607"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1182608"> </a>VfsMgr.h
</p>
<h4 class="RefSide">
  <a name="1182609"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1182610"> </a>Err VFSFileReadData (FileRef fileRef, UInt32 numBytes, void *bufBaseP, UInt32 offset, UInt32 *numBytesReadP)
</p>
<h4 class="RefSide">
  <a name="1182611"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1182615"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; fileRef</td><td valign="top"></span>File reference returned in <a href="VFSMgr.html#1182499"><span style="font-family: monospace">VFSFileOpen</span></a>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182616"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; numBytes</td><td valign="top"></span>Number of bytes to read.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182617"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- bufBaseP</td><td valign="top"></span>Pointer to the destination chunk in the storage heap where the data is to be stored. This pointer must be obtained through the appropriate call to the <a href="MemoryManager.html#1132536">Memory Manager</a> API.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182621"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; offset</td><td valign="top"></span>Offset, in bytes, within the <span style="font-family: monospace">bufBaseP</span> chunk where the data is to be written. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182622"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- numBytesReadP</td><td valign="top"></span>Pointer to an unsigned integer that reflects the number of bytes actually read. This value is set on return and does not need to be initialized. If no bytes are read, the value is set to zero. Pass <span style="font-family: monospace">NULL</span> for this parameter if you do not need to know how many bytes were read.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182623"> </a>Result 
</h4>
<p class="Body">
  <a name="1182624"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1182625"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span> </td><td valign="top">No error.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182626"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrNotOpen</span></td><td valign="top">The file system library necessary for this call has not been installed or has not been opened.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182627"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrFileBadRef</td><td valign="top"></span>The specified file reference is invalid.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182628"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrFileEOF</td><td valign="top"></span>The end of the file has been reached.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182629"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrFilePermissionDenied</td><td valign="top"></span>Read permission is not enabled for this file.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182630"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrIsADirectory</td><td valign="top"></span>The specified file reference is for a directory instead of a file. This is an invalid operation on a directory.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182631"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrNoFileSystem</td><td valign="top"></span>The VFS Manager cannot find an appropriate file system to handle the request.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182632"> </a>Comments 
</h4>
<p class="Body">
  <a name="1182633"> </a>When data is read from an external card with <span style="font-family: monospace">VFSFileReadData</span>, it is copied into a chunk of memory in the storage heap. This chunk <b>must</b> be allocated by the application before the call to <a href="VFSMgr.html#1182601"><span style="font-family: monospace">VFSFileReadData</span></a>. This function calls <a href="DataAndResourceManager.html#1097774"><span style="font-family: monospace">DmWrite</span></a> to put the data in the storage heap. 
</p>
<h4 class="RefSide">
  <a name="1182640"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1182644"> </a>Implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1182645"> </a>See Also 
</h4>
<p class="Body">
  <a name="1182652"> </a><a href="VFSMgr.html#1182551"><span style="font-family: monospace">VFSFileRead</span></a>, <a href="VFSMgr.html#1182938"><span style="font-family: monospace">VFSFileWrite</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1182655"> </a>VFSFileRename
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1182656"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1182657"> </a>Rename a closed file or directory. This function cannot be used to move a file to another directory within the file system.
</p>
<h4 class="RefSide">
  <a name="1182658"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1182659"> </a>VfsMgr.h
</p>
<h4 class="RefSide">
  <a name="1182660"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1182661"> </a>Err VFSFileRename (UInt16 volRefNum, const Char *pathNameP, const Char *newNameP)
</p>
<h4 class="RefSide">
  <a name="1182662"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1182663"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; volRefNum</td><td valign="top"></span>Volume reference number returned from <a href="VFSMgr.html#1183274"><span style="font-family: monospace">VFSVolumeEnumerate</span></a>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182667"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; pathNameP</td><td valign="top"></span>Pointer to the full path of the file or directory to be renamed.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182668"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; newNameP</td><td valign="top"></span>Pointer to the new filename. Note that this is the name of the file only and does not include the path to the file.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182669"> </a>Result 
</h4>
<p class="Body">
  <a name="1182670"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1182671"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span> </td><td valign="top">No error.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182672"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrNotOpen</td><td valign="top"></span>The file system library necessary for this call has not been installed or has not been opened.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182673"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrBadName</td><td valign="top"></span>The name provided in either <span style="font-family: monospace">pathNameP</span> or <span style="font-family: monospace">newNameP</span> is invalid. This is also returned if the string pointed to by <span style="font-family: monospace">newNameP</span> is a path, rather than a filename.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182674"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrFileAlreadyExists</td><td valign="top"></span>A file with the new name already exists in this location.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182675"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrFileNotFound</td><td valign="top"></span>The source file could not be found.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182676"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrFilePermissionDenied</td><td valign="top"></span>Write permission is not enabled for this file.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182677"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrNoFileSystem</td><td valign="top"></span>The VFS Manager cannot find an appropriate file system to handle the request.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182678"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrVolumeBadRef</td><td valign="top"></span>The volume has not been mounted.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182679"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrVolumeFull</td><td valign="top"></span>There is not enough space left on the volume.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182680"> </a>Comments 	
</h4>
<div class="NWNoteWarning"><hr>
  <a name="1182681"> </a> <span style="color: #FF0000;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">WARNING!  </span> This function invalidates directory enumeration. You cannot continue enumerating files after renaming one of them with this function. If you need to operate on additional files in the directory, you must first restart the enumeration.
<hr>
</div>
<h4 class="RefSide">
  <a name="1182682"> </a>Example 
</h4>
<p class="Body">
  <a name="1182683"> </a>Below is an example of how to use <span style="font-family: monospace">VFSFileRename</span>. Note that the renamed file remains in the <span style="font-family: monospace">/PALM/Programs</span> directory; <span style="font-family: monospace">VFSFileRename</span> can't be used to move files from one directory to another.
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
// volRefNum must have been previously defined; most likely,<a name="1182685"> </a>
// it was returned by VFSVolumeEnumerate<a name="1182686"> </a>
 <a name="1182687"> </a>
err = VFSFileRename(volRefNum, "/PALM/Programs/foo.prc",
   "bar.prc");<a name="1182688"> </a>
if (err != errNone) {<a name="1182689"> </a>
      // handle error...<a name="1182690"> </a>
}<a name="1182691"> </a>
</pre><div class="CodeRule"><hr></div>
<h4 class="RefSide">
  <a name="1182692"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1182696"> </a>Implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>

<h2 class="HBHeadB">
  <a name="1182699"> </a>VFSFileResize
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1182700"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1182701"> </a>Change the size of an open file. This function only operates on files and cannot be used with directories.
</p>
<h4 class="RefSide">
  <a name="1182702"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1182703"> </a>VfsMgr.h
</p>
<h4 class="RefSide">
  <a name="1182704"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1182705"> </a>Err VFSFileResize (FileRef fileRef, UInt32 newSize)
</p>
<h4 class="RefSide">
  <a name="1182706"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1182710"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; fileRef</td><td valign="top"></span>File reference returned from <a href="VFSMgr.html#1182499"><span style="font-family: monospace">VFSFileOpen</span></a>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182711"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; newSize</td><td valign="top"></span>The desired new size of the file. This can be larger or smaller then the current file size.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182712"> </a>Result 
</h4>
<p class="Body">
  <a name="1182713"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1182714"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span> </td><td valign="top">No error.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182715"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrNotOpen</td><td valign="top"></span>The file system library necessary for this call has not been installed or has not been opened.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182716"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrFileBadRef</td><td valign="top"></span>The specified file reference is invalid.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182717"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrIsADirectory</td><td valign="top"></span>The specified file reference points to a directory instead of a file. This is an invalid operation on a directory.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182718"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrNoFileSystem</td><td valign="top"></span>The VFS Manager cannot find an appropriate file system to handle the request.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182719"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrVolumeFull</td><td valign="top"></span>There is not enough space left on the volume.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182720"> </a>Comments 
</h4>
<p class="Body">
  <a name="1182721"> </a>The location of the file pointer is undefined after a call to this function.
</p>
<h4 class="RefSide">
  <a name="1182722"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1182726"> </a>Implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1182727"> </a>See Also 
</h4>
<p class="Body">
  <a name="1182731"> </a><a href="VFSMgr.html#1182865"><span style="font-family: monospace">VFSFileSize</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1182734"> </a>VFSFileSeek
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1182735"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1182736"> </a>Set the position within an open file from which to read or write. This function only operates on files and cannot be used with directories.
</p>
<h4 class="RefSide">
  <a name="1182737"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1182738"> </a>VfsMgr.h
</p>
<h4 class="RefSide">
  <a name="1182739"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1182740"> </a>Err VFSFileSeek (FileRef fileRef, FileOrigin origin, Int32 offset)
</p>
<h4 class="RefSide">
  <a name="1182741"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1182745"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; fileRef</td><td valign="top"></span>File reference returned from <a href="VFSMgr.html#1182499"><span style="font-family: monospace">VFSFileOpen</span></a>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182746"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; origin</td><td valign="top"></span>Origin to use when calculating the new position. The <span style="font-family: monospace">offset</span> parameter indicates the desired new position relative to this origin, which can be one of the following:</td>
  </tr>
</table>
</div></h5>
<h5 class="P2"><a name="1182747"> </a><div class="P2ParameterSub"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="100" valign="top"><span style="font-family: monospace">vfsOriginBeginning</td><td valign="top"></span>The beginning of the file.</td>
  </tr>
</table>
</div></h5>
<h5 class="P2"><a name="1182748"> </a><div class="P2ParameterSub"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="100" valign="top"><span style="font-family: monospace">vfsOriginCurrent</td><td valign="top"></span>The current position within the file.</td>
  </tr>
</table>
</div></h5>
<h5 class="P2"><a name="1182749"> </a><div class="P2ParameterSub"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="100" valign="top"><span style="font-family: monospace">vfsOriginEnd</td><td valign="top"></span>The end of the file. Only negative offsets are allowed when <span style="font-family: monospace">origin</span> is set to <span style="font-family: monospace">vfsOriginEnd</span>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182750"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; offset</td><td valign="top"></span>Offset, either positive or negative, from the origin to which the current position should be set. A value of zero (0) positions you at the specified origin.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182751"> </a>Result 
</h4>
<p class="Body">
  <a name="1182752"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1182753"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span> </td><td valign="top">No error.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182754"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrNotOpen</td><td valign="top"></span>The file system library necessary for this call has not been installed or has not been opened.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182755"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrFileBadRef</td><td valign="top"></span>The specified file reference is invalid.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182756"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrFileEOF</td><td valign="top"></span>The file pointer is at the end of file.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182757"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrIsADirectory</td><td valign="top"></span>The specified file reference points to a directory instead of a file. This is an invalid operation on a directory.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182758"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">sysErrParamErr</span></td><td valign="top">The specified origin is not one of the defined constants.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182759"> </a>Comments 
</h4>
<p class="Body">
  <a name="1182760"> </a>During a call to this function, if the resulting position would be beyond the end of the file, it sets the position to the end of the file.
</p>
<h4 class="RefSide">
  <a name="1182761"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1182765"> </a>Implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1182766"> </a>See Also 
</h4>
<p class="Body">
  <a name="1182773"> </a><a href="VFSMgr.html#1182865"><span style="font-family: monospace">VFSFileSize</span></a>, <a href="VFSMgr.html#1182903"><span style="font-family: monospace">VFSFileTell</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1182776"> </a>VFSFileSetAttributes
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1182777"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1182778"> </a>Change the attributes of an open file or directory.
</p>
<h4 class="RefSide">
  <a name="1182779"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1182780"> </a>VfsMgr.h
</p>
<h4 class="RefSide">
  <a name="1182781"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1182782"> </a>Err VFSFileSetAttributes (FileRef fileRef, UInt32 attributes)
</p>
<h4 class="RefSide">
  <a name="1182784"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1182788"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; fileRef</td><td valign="top"></span>File reference returned from <a href="VFSMgr.html#1182499"><span style="font-family: monospace">VFSFileOpen</span></a>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182789"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; attributes</td><td valign="top"></span>Attributes to associate with the file or directory. See <a href="VFSMgr.html#1181400">File and Directory Attributes</a> for a list of values you can use when setting this parameter:</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182793"> </a>Result 
</h4>
<p class="Body">
  <a name="1182794"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1182795"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</td><td valign="top"></span>No error.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182796"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrNotOpen</td><td valign="top"></span>The file system library necessary for this call has not been installed or has not been opened.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182797"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">sysErrParamErr</td><td valign="top"></span>One of the parameters is invalid.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182798"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrFileBadRef</td><td valign="top"></span>The specified file reference is invalid.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182799"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrNoFileSystem</td><td valign="top"></span>The VFS Manager cannot find an appropriate file system to handle the request.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182800"> </a>Comments 
</h4>
<div class="NINoteImportant"><hr>
  <a name="1182801"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">NOTE:  </span> You cannot use this function to set the <span style="font-family: monospace">vfsFileAttrDirectory</span> or <span style="font-family: monospace">vfsFileAttrVolumeLabel</span> attributes. The <span style="font-family: monospace">vfsFileAttrDirectory</span> is set when you call <a href="VFSMgr.html#1181880"><span style="font-family: monospace">VFSDirCreate</span></a>. The <span style="font-family: monospace">vfsFileAttrVolumeLabel</span> is set when you call <a href="VFSMgr.html#1183542"><span style="font-family: monospace">VFSVolumeSetLabel</span></a>. This function may fail when setting other attributes, depending on the underlying file system.
<hr>
</div>
<h4 class="RefSide">
  <a name="1182808"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1182812"> </a>Implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1182813"> </a>See Also 
</h4>
<p class="Body">
  <a name="1182820"> </a><a href="VFSMgr.html#1182415"><span style="font-family: monospace">VFSFileGetAttributes</span></a>, <a href="VFSMgr.html#1182823"><span style="font-family: monospace">VFSFileSetDate</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1182823"> </a>VFSFileSetDate
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1182824"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1182825"> </a>Changes the dates on an open file or directory.
</p>
<h4 class="RefSide">
  <a name="1182826"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1182827"> </a>VfsMgr.h
</p>
<h4 class="RefSide">
  <a name="1182828"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1182829"> </a>Err VFSFileSetDate (FileRef fileRef, UInt16 whichDate, UInt32 date)
</p>
<h4 class="RefSide">
  <a name="1182830"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1182834"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; fileRef</td><td valign="top"></span>File reference returned in <a href="VFSMgr.html#1182499"><span style="font-family: monospace">VFSFileOpen</span></a>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182835"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; whichDate</td><td valign="top"></span>Specifies which date-creation, modification, or last access-to modify. Supply one of the following values:</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182836"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"></td><td valign="top"><span style="font-family: monospace">vfsFileDateCreated</span></td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182837"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"></td><td valign="top"><span style="font-family: monospace">vfsFileDateModified</span></td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182838"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"></td><td valign="top"><span style="font-family: monospace">vfsFileDateAccessed</span></td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182839"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"></td><td valign="top">Note that not all file systems are required to support the above dates. If the supplied date type is not supported by the file system, <span style="font-family: monospace">VFSFileGetDate</span> returns <span style="font-family: monospace">expErrUnsupportedOperation</span>. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182840"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; date</td><td valign="top"></span>The new date. This field should be expressed in the standard Palm OS date format - the number of seconds since midnight (00:00:00) January 1, 1904.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182841"> </a>Result 
</h4>
<p class="Body">
  <a name="1182842"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1182843"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span> </td><td valign="top">No error.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182844"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrNotOpen</td><td valign="top"></span>The file system library necessary for this call has not been installed or has not been opened.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182845"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrUnsupportedOperation</td><td valign="top"></span>The specified date type is not supported by the underlying file system.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182846"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">sysErrParamErr</td><td valign="top"></span>The <span style="font-family: monospace">whichDate</span> parameter is not one of the defined constants.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182847"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrFileBadRef</td><td valign="top"></span>The specified file reference is invalid.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182848"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrFilePermissionDenied</td><td valign="top"></span>Write permission is not enabled for this file.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182849"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrNoFileSystem</td><td valign="top"></span>The VFS Manager cannot find an appropriate file system to handle the request.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182850"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1182854"> </a>Implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1182855"> </a>See Also 
</h4>
<p class="Body">
  <a name="1182862"> </a><a href="VFSMgr.html#1182455"><span style="font-family: monospace">VFSFileGetDate</span></a>, <a href="VFSMgr.html#1182776"><span style="font-family: monospace">VFSFileSetAttributes</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1182865"> </a>VFSFileSize
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1182866"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1182867"> </a>Obtain the size of an open file. This function only operates on files and cannot be used with directories.
</p>
<h4 class="RefSide">
  <a name="1182868"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1182869"> </a>VfsMgr.h
</p>
<h4 class="RefSide">
  <a name="1182870"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1182871"> </a>Err VFSFileSize (FileRef fileRef, UInt32 *fileSizeP)
</p>
<h4 class="RefSide">
  <a name="1182872"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1182876"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; fileRef</td><td valign="top"></span>File reference returned from <a href="VFSMgr.html#1182499"><span style="font-family: monospace">VFSFileOpen</span></a>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182877"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- fileSizeP</td><td valign="top"></span>Pointer to the size of the open file.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182878"> </a>Result 
</h4>
<p class="Body">
  <a name="1182879"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1182880"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span> </td><td valign="top">No error.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182881"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrNotOpen</td><td valign="top"></span>The file system library necessary for this call has not been installed or has not been opened.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182882"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrFileBadRef</td><td valign="top"></span>The specified file reference is invalid.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182883"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrIsADirectory</td><td valign="top"></span>The specified file reference points to a directory instead of a file. This is an invalid operation on a directory.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182884"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrNoFileSystem</td><td valign="top"></span>The VFS Manager cannot find an appropriate file system to handle the request.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182885"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1182889"> </a>Implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1182890"> </a>See Also 
</h4>
<p class="Body">
  <a name="1182900"> </a><a href="VFSMgr.html#1182699"><span style="font-family: monospace">VFSFileResize</span></a>, <a href="VFSMgr.html#1182903"><span style="font-family: monospace">VFSFileTell</span></a>, <a href="VFSMgr.html#1183589"><span style="font-family: monospace">VFSVolumeSize</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1182903"> </a>VFSFileTell
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1182904"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1182905"> </a>Get the current position of the file pointer within an open file. This function only operates on files and cannot be used with directories.
</p>
<h4 class="RefSide">
  <a name="1182906"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1182907"> </a>VfsMgr.h
</p>
<h4 class="RefSide">
  <a name="1182908"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1182909"> </a>Err VFSFileTell (FileRef fileRef, UInt32 *filePosP)
</p>
<h4 class="RefSide">
  <a name="1182910"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1182914"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; fileRef</td><td valign="top"></span>File reference returned from <a href="VFSMgr.html#1182499"><span style="font-family: monospace">VFSFileOpen</span></a>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182915"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- filePosP</td><td valign="top"></span>Pointer to the current file position.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182916"> </a>Result 
</h4>
<p class="Body">
  <a name="1182917"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1182918"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span> </td><td valign="top">No error.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182919"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrNotOpen</td><td valign="top"></span>The file system library necessary for this call has not been installed or has not been opened.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182920"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrFileBadRef</td><td valign="top"></span>The specified file reference is invalid.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182921"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrIsADirectory</td><td valign="top"></span>The specified file reference points to a directory instead of a file. This is an invalid operation on a directory.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182922"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrNoFileSystem</td><td valign="top"></span>The VFS Manager cannot find an appropriate file system to handle the request.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182923"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1182927"> </a>Implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1182928"> </a>See Also 
</h4>
<p class="Body">
  <a name="1182935"> </a><a href="VFSMgr.html#1182734"><span style="font-family: monospace">VFSFileSeek</span></a>, <a href="VFSMgr.html#1182865"><span style="font-family: monospace">VFSFileSize</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1182938"> </a>VFSFileWrite
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1182939"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1182940"> </a>Write data to an open file. This function only operates on files and cannot be used with directories.
</p>
<h4 class="RefSide">
  <a name="1182941"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1182942"> </a>VfsMgr.h
</p>
<h4 class="RefSide">
  <a name="1182943"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1182944"> </a>Err VFSFileWrite (FileRef fileRef, UInt32 numBytes, const void *dataP, UInt32 *numBytesWrittenP)
</p>
<h4 class="RefSide">
  <a name="1182945"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1182949"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; fileRef</td><td valign="top"></span>File reference returned from <a href="VFSMgr.html#1182499"><span style="font-family: monospace">VFSFileOpen</span></a>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182950"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; numBytes</td><td valign="top"></span>The number of bytes to write.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182951"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; dataP</td><td valign="top"></span>Pointer to the data that is to be written.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182952"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- numBytesWrittenP</td><td valign="top"></span>Pointer to an unsigned integer that reflects the number of bytes actually written. This value is set on return and does not need to be initialized. If no bytes are written the value is set to zero. Pass <span style="font-family: monospace">NULL</span> for this parameter if you do not need to know how many bytes were written. </td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182953"> </a>Result 
</h4>
<p class="Body">
  <a name="1182954"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1182955"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span> </td><td valign="top">No error.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182956"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrNotOpen</td><td valign="top"></span>The file system library necessary for this call has not been installed or has not been opened.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182957"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrFileBadRef</td><td valign="top"></span>The specified file reference is invalid.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182958"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrFilePermissionDenied</td><td valign="top"></span>Write permission is not enabled for this file.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182959"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrIsADirectory</td><td valign="top"></span>The specified file reference points to a directory instead of a file. This is an invalid operation on a directory.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182960"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrNoFileSystem</td><td valign="top"></span>The VFS Manager cannot find an appropriate file system to handle the request.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182961"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrVolumeFull</td><td valign="top"></span>There is not enough space left on the volume.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182962"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1182966"> </a>Implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1182967"> </a>See Also 
</h4>
<p class="Body">
  <a name="1182973"> </a><a href="VFSMgr.html#1181987"><span style="font-family: monospace">VFSExportDatabaseToFile</span></a>, <a href="VFSMgr.html#1182034"><span style="font-family: monospace">VFSExportDatabaseToFileCustom</span></a>, <a href="VFSMgr.html#1182551"><span style="font-family: monospace">VFSFileRead</span></a>, <a href="VFSMgr.html#1182601"><span style="font-family: monospace">VFSFileReadData</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1182983"> </a>VFSGetDefaultDirectory
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1182984"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1182985"> </a>Determine the default location on the given volume for files of a particular type.
</p>
<h4 class="RefSide">
  <a name="1182986"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1182987"> </a>VfsMgr.h
</p>
<h4 class="RefSide">
  <a name="1182988"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1182989"> </a>Err VFSGetDefaultDirectory (UInt16 volRefNum, const Char *fileTypeStr, Char *pathStr, UInt16 *bufLenP)
</p>
<h4 class="RefSide">
  <a name="1182990"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1182991"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; volRefNum</td><td valign="top"></span>Volume reference number returned from <a href="VFSMgr.html#1183274"><span style="font-family: monospace">VFSVolumeEnumerate</span></a>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182995"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; fileTypeStr</td><td valign="top"></span>Pointer to the requested file type, as a null-terminated string. The file type may either be a MIME media type/subtype pair, such as "image/jpeg", "text/plain", or "audio/basic"; or a file extension, such as "<span style="font-family: monospace">.jpeg</span>."</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182996"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- pathStr</td><td valign="top"></span>Pointer to the buffer which receives the default directory path for the requested file type.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1182997"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;-&gt; bufLenP</td><td valign="top"></span>Pointer to the size of the path. Set this to the size of <span style="font-family: monospace">pathStr</span> buffer on input. Reflects the number of bytes copied to <span style="font-family: monospace">pathStr</span> on output.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1182999"> </a>Result 
</h4>
<p class="Body">
  <a name="1183000"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1183001"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span> </td><td valign="top">No error.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183002"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrBadName</td><td valign="top"></span>There is no default directory registered for the requested file type.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183003"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrBufferOverflow</td><td valign="top"></span>A match was found, but the <span style="font-family: monospace">pathStr</span> buffer is too small to hold the resulting path string. A partial path is returned in <span style="font-family: monospace">pathStr</span>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183004"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrFileNotFound</td><td valign="top"></span>No match was found for the specified volume. The error could have occurred with either the media type specified for this volume or the file type requested.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1183005"> </a>Comments 
</h4>
<p class="Body">
  <a name="1183006"> </a>This function returns the complete path to the default directory registered for the specified file type. A default directory can be registered for each type of media supported. The directory should be registered under media and file type. Note that this directory is typically a "root" directory for the file type; any subdirectories under this root directory should also be searched for files of the appropriate type.
</p>
<p class="Body">
  <a name="1183007"> </a>This function can be used by an image viewer application, for example, to find the directory containing images without having to know what type of media the volume was on. This could be <br>"/DCIM", "/images", or something else depending on the type of media.
</p>
<h4 class="RefSide">
  <a name="1183008"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1183012"> </a>Implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1183013"> </a>See Also 
</h4>
<p class="Body">
  <a name="1183020"> </a><a href="VFSMgr.html#1181918"><span style="font-family: monospace">VFSDirEntryEnumerate</span></a>, <a href="VFSMgr.html#1183168"><span style="font-family: monospace">VFSRegisterDefaultDirectory</span></a>, <a href="VFSMgr.html#1183236"><span style="font-family: monospace">VFSUnregisterDefaultDirectory</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1183026"> </a>VFSImportDatabaseFromFile
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1183027"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1183028"> </a>Creates a database from a <span style="font-family: monospace">.pdb</span> or .<span style="font-family: monospace">prc</span> file on an external storage card.
</p>
<h4 class="RefSide">
  <a name="1183029"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1183030"> </a>VfsMgr.h
</p>
<h4 class="RefSide">
  <a name="1183031"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1183032"> </a>Err VFSImportDatabaseFromFile (UInt16 volRefNum, const Char *pathNameP, UInt16 *cardNoP, LocalID *dbIDP)
</p>
<h4 class="RefSide">
  <a name="1183033"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1183034"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; volRefNum</span></td><td valign="top">Volume on which the source file resides.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183035"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; pathNameP</span></td><td valign="top">Pointer to the full path and name of the source file.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183036"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- cardNoP </td><td valign="top"></span>Pointer to a variable that receives the card number of the newly-created database. If the database already resides in the storage heap, the card number of the existing database is returned along with the error <span style="font-family: monospace">dmErrAlreadyExists</span>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183037"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- dbIDP</td><td valign="top"></span>Pointer to a variable that receives the database ID of the new database. If the database already resides in the storage heap, the database ID of the existing database is returned along with the error <span style="font-family: monospace">dmErrAlreadyExists</span>.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1183038"> </a>Result 
</h4>
<p class="Body">
  <a name="1183039"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1183040"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span> </td><td valign="top">No error.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183041"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">dmErrAlreadyExists</td><td valign="top"></span>The <span style="font-family: monospace">.prc</span> or <span style="font-family: monospace">.pdb</span> file already exists in the storage heap. In this case the <span style="font-family: monospace">cardNoP</span> and <span style="font-family: monospace">dbIDP</span> are set to point to the existing file.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183042"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrNotEnoughPower</td><td valign="top"></span>There is insufficient battery power to complete the requested operation.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183043"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrBadName</td><td valign="top"></span>The path name specified in <span style="font-family: monospace">pathNameP</span> is not valid.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1183044"> </a>Comments 
</h4>
<p class="Body">
  <a name="1183045"> </a>This utility function imports a <span style="font-family: monospace">.pdb</span> or <span style="font-family: monospace">.prc</span> file resident on an external storage card into a new database in the storage heap. It first calls <a href="VFSMgr.html#1182499"><span style="font-family: monospace">VFSFileOpen</span></a> to open the file specified in <span style="font-family: monospace">pathNameP</span>. Assuming that a corresponding <span style="font-family: monospace">.prc</span> or <span style="font-family: monospace">.pdb</span> does not already exist in the storage heap, <a href="VFSMgr.html#1183026"><span style="font-family: monospace">VFSImportDatabaseFromFile</span></a><span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"> </span>calls the Exchange Manager function <a href="ExchangeManager.html#1233561"><span style="font-family: monospace">ExgDBRead</span></a> with an internal callback function for importing a file to the Data Manager. The Exchange Manager makes repeated calls to this function, which passes the data back in blocks. Once the file has been successfully imported, the owner (the imported file, if it's an executable, or the associated application if it is not) is sent a <a href="AppLaunchCodes.html#970999"><span style="font-family: monospace">sysAppLaunchCmdSyncNotify</span></a> launch code to make it aware of the new database.
</p>
<p class="Body">
  <a name="1183058"> </a>This function doesn't provide any progress indication to the user. If you need to provide feedback to the user as the file import progresses, use <a href="VFSMgr.html#1183078"><span style="font-family: monospace">VFSImportDatabaseFromFileCustom</span></a> instead.
</p>
<p class="Body">
  <a name="1183062"> </a>This function is used, for example, to copy applications from a storage card to main memory.
</p>
<h4 class="RefSide">
  <a name="1183063"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1183067"> </a>Implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1183068"> </a>See Also 
</h4>
<p class="Body">
  <a name="1183075"> </a><a href="VFSMgr.html#1181987"><span style="font-family: monospace">VFSExportDatabaseToFile</span></a>, <a href="VFSMgr.html#1182551"><span style="font-family: monospace">VFSFileRead</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1183078"> </a>VFSImportDatabaseFromFileCustom
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1183079"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1183080"> </a>Create a database from the specified .<span style="font-family: monospace">pdb</span> or <span style="font-family: monospace">.prc</span> file on an external storage card. This function differs from <a href="VFSMgr.html#1183026"><span style="font-family: monospace">VFSImportDatabaseFromFile</span></a> in that it allows you to track the progress of the import operation.
</p>
<h4 class="RefSide">
  <a name="1183084"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1183085"> </a>VfsMgr.h
</p>
<h4 class="RefSide">
  <a name="1183086"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1183087"> </a>Err VFSImportDatabaseFromFileCustom (UInt16 volRefNum, const Char *pathNameP, UInt16 *cardNoP, LocalID *dbIDP, VFSImportProcPtr importProcP, void *userDataP)
</p>
<h4 class="RefSide">
  <a name="1183088"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1183089"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; volRefNum</span></td><td valign="top">Volume on which the source file resides.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183090"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; pathNameP</span></td><td valign="top">Pointer to the full path and name of the source file.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183091"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- cardNoP </td><td valign="top"></span>Pointer to the variable that receives the card number of the newly-created database. If the database already resides in the storage heap, the card number of the existing database is returned along with the error <span style="font-family: monospace">dmErrAlreadyExists</span>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183092"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- dbIDP</td><td valign="top"></span>Pointer to the variable that receives the database ID of the new database. If the database already resides in the storage heap, the database ID of the existing database is returned along with the error <span style="font-family: monospace">dmErrAlreadyExists</span>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183093"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">-&gt; importProcP</td><td valign="top"></span>User-defined callback function that tracks the progress of the import. This function should allow the user to cancel the import. Pass <span style="font-family: monospace">NULL</span> if you don't have a progress callback function. See <a href="VFSMgr.html#1183698"><span style="font-family: monospace">VFSImportProcPtr</span></a> for the requirements of this function.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183097"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; userDataP</span><span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"></td><td valign="top"></span>Pointer to any data you want to pass to the callback function specified in <span style="font-family: monospace">importProcP</span>. This information is not used internally by the VFS Manager. Pass <span style="font-family: monospace">NULL</span> if you don't have a progress callback function, or if that function doesn't need any such data.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1183098"> </a>Result 
</h4>
<p class="Body">
  <a name="1183099"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1183100"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span> </td><td valign="top">No error</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183101"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrBadName</td><td valign="top"></span>The path name specified in <span style="font-family: monospace">pathNameP</span> is not valid.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183102"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrNotEnoughPower</td><td valign="top"></span>The power required to import a database is not available.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183103"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">dmErrAlreadyExists</td><td valign="top"></span>The <span style="font-family: monospace">.prc</span> or <span style="font-family: monospace">.pdb</span> file already exists in main memory. In this case the <span style="font-family: monospace">cardNoP</span> and <span style="font-family: monospace">dbIDP</span> are set to point to the existing file.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1183104"> </a>Comments 
</h4>
<p class="Body">
  <a name="1183108"> </a>This function is similar to <a href="VFSMgr.html#1183026"><span style="font-family: monospace">VFSImportDatabaseFromFile</span></a> in that it imports a <span style="font-family: monospace">.pdb</span> or<span style="font-family: monospace"> .prc</span> file on an external storage card into a new database on the storage heap. It extends the functionality by allowing you to specify a callback function that tracks the progress of the export. It first calls <a href="VFSMgr.html#1182499"><span style="font-family: monospace">VFSFileOpen</span></a> to open the file specified in <span style="font-family: monospace">pathNameP</span>. If a corresponding <span style="font-family: monospace">.prc</span> or <span style="font-family: monospace"> .pdb</span> does not already exist in main memory, it calls the Exchange Manager function <a href="ExchangeManager.html#1233561"><span style="font-family: monospace">ExgDBRead</span></a> with an internal callback function for importing the file from the Data Manager. The Exchange Manager makes repeated calls to this function, which receives the data back in blocks. The progress tracker, if one has been specified, is also called every time a new chunk of data is passed back. Once the file has been successfully imported, the owner (the imported file, if it's an executable, or the associated application if it is not) is sent a <a href="AppLaunchCodes.html#970999"><span style="font-family: monospace">sysAppLaunchCmdSyncNotify</span></a> launch code to make it aware of the new database.
</p>
<p class="Body">
  <a name="1183118"> </a>This function is used, for example, to copy applications from a storage card to main memory.
</p>
<h4 class="RefSide">
  <a name="1183119"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1183123"> </a>Implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1183124"> </a>See Also 
</h4>
<p class="Body">
  <a name="1183131"> </a><a href="VFSMgr.html#1182551"><span style="font-family: monospace">VFSFileRead</span></a>, <a href="VFSMgr.html#1182034"><span style="font-family: monospace">VFSExportDatabaseToFileCustom</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1183134"> </a>VFSInstallFSLib
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1183135"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1183136"> </a>Install a file system library so that the VFS Manager can use it.
</p>
<h4 class="RefSide">
  <a name="1183137"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1183138"> </a>VfsMgr.h
</p>
<h4 class="RefSide">
  <a name="1183139"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1183140"> </a>Err VFSInstallFSLib (UInt32 creator, UInt16 *fsLibRefNumP)
</p>
<h4 class="RefSide">
  <a name="1183141"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1183142"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; creator</td><td valign="top"></span>Creator ID of the database containing the file system library to be installed.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183143"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- fsLibRefNumP</td><td valign="top"></span>Pointer to the reference number for the newly installed file system library. Supply <span style="font-family: monospace">NULL</span> for this parameter if you don't need the library reference number.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1183144"> </a>Result 
</h4>
<p class="Body">
  <a name="1183145"> </a>If the file system library was loaded and installed without error, <span style="font-family: monospace">errNone</span> is returned. Any error generated by the underlying file system while opening the file system library or determining its type will be returned from <span style="font-family: monospace">VFSInstallFSLib</span>. Other errors that can be generated during the file system library installation process include:
</p>
<h5 class="P1"><a name="1183146"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrIncompatibleAPIVer</td><td valign="top"></span>The file system library has an incompatible API version.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183147"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrNotOpen</td><td valign="top"></span>The file system library necessary for this call has not been installed or has not been opened.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183148"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">memErrNotEnoughSpace</span>, <span style="font-family: monospace">memErrChunkNotLocked</span>, or <span style="font-family: monospace">memErrChunkLocked</td><td valign="top"></span>A memory problem occurred while inserting the library reference into the list of installed libraries.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183149"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">sysErrLibNotFound</span>, <span style="font-family: monospace">sysErrNoFreeRAM</span>, <span style="font-family: monospace">sysErrNoFreeLibSlots</span> (or some other error returned from the library's install entry point)</td><td valign="top">An error occurred while loading the library.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1183150"> </a>Comments 
</h4>
<p class="Body">
  <a name="1183154"> </a>This function calls <a href="SystemManager.html#1166207"><span style="font-family: monospace">SysLibLoad</span></a> to load the file system library into the library table. Once loaded the appropriate file system is asked to open the library. At boot time <span style="font-family: monospace">VFSInstallFSLib</span> is called internally by the Expansion Manager to load all installed file system libraries and initialize them for use. 
</p>
<p class="Body">
  <a name="1183155"> </a><span style="font-family: monospace">VFSInstallFSLib</span> is not normally called by applications.
</p>
<h4 class="RefSide">
  <a name="1183156"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1183160"> </a>Implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1183161"> </a>See Also 
</h4>
<p class="Body">
  <a name="1183165"> </a><a href="VFSMgr.html#1183210"><span style="font-family: monospace">VFSRemoveFSLib</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1183168"> </a>VFSRegisterDefaultDirectory
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1183169"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1183170"> </a>Registers a specific directory as the default location for files of a given type on a particular kind of external storage card. This function is generally called by a slot driver for files and media types that are supported by that slot driver.
</p>
<h4 class="RefSide">
  <a name="1183171"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1183172"> </a>VfsMgr.h
</p>
<h4 class="RefSide">
  <a name="1183173"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1183174"> </a>Err VFSRegisterDefaultDirectory (const Char *fileTypeStr, UInt32 mediaType, const Char *pathStr)
</p>
<h4 class="RefSide">
  <a name="1183175"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1183176"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; fileTypeStr</td><td valign="top"></span>Pointer to the file type to register. This is a null-terminated string that can either be a MIME media type/subtype pair, such as "image/jpeg", "text/plain", or "audio/basic"; or a file extension, such as "<span style="font-family: monospace">.jpeg</span>".</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183177"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; mediaType</td><td valign="top"></span>Type of card media for which the default directory is being associated. See <a href="ExpansionManager.html#1107383">Defined Media Types</a> in the <a href="ExpansionManager.html#1107231">Expansion Manager</a> chapter for the list of accepted values.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183185"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; pathStr</span></td><td valign="top">Pointer to the default directory path to be associated with the specified file type. This string must be null-terminated, and must be the full path to the directory.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1183186"> </a>Result 
</h4>
<p class="Body">
  <a name="1183187"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1183188"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span> </td><td valign="top">No error.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183189"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">sysErrParamErr</td><td valign="top"></span>Either the <span style="font-family: monospace">fileTypeStr</span> parameter is <span style="font-family: monospace">NULL</span> or the <span style="font-family: monospace">pathStr</span> parameter is <span style="font-family: monospace">NULL</span>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183190"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrFileAlreadyExists</span> </td><td valign="top">A default directory has already been registered for this file type on the specified card media type.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1183192"> </a>Comments 
</h4>
<p class="Body">
  <a name="1183193"> </a>This function first verifies that a default directory has not already been registered for the specified combination of file type and media type, and returns <span style="font-family: monospace">vfsErrFileAlreadyExists</span> if one has been registered. To change an existing entry in the registry, you must first remove the existing entry with a call to <a href="VFSMgr.html#1183236"><span style="font-family: monospace">VFSUnregisterDefaultDirectory</span></a> before re-registering it with <span style="font-family: monospace">VFSRegisterDefaultDirectory</span>.
</p>
<p class="Body">
  <a name="1183197"> </a>The specified directory registered for a given file type is intended to be the "root" default directory. If a given default directory has one or more subdirectories, applications should also search those subdirectories for files of the appropriate type.
</p>
<h4 class="RefSide">
  <a name="1183198"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1183202"> </a>Implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1183203"> </a>See Also 
</h4>
<p class="Body">
  <a name="1183207"> </a><a href="VFSMgr.html#1182983"><span style="font-family: monospace">VFSGetDefaultDirectory</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1183210"> </a>VFSRemoveFSLib
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1183211"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1183212"> </a>Remove a file system library from the library table, so that the VFS Manager can no longer use it.
</p>
<h4 class="RefSide">
  <a name="1183213"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1183214"> </a>VfsMgr.h
</p>
<h4 class="RefSide">
  <a name="1183215"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1183216"> </a>Err VFSRemoveFSLib (UInt16 fsLibRefNum)
</p>
<h4 class="RefSide">
  <a name="1183217"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1183218"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; fsLibRefNum</span></td><td valign="top">Library reference number of the file system library to remove from the library table.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1183219"> </a>Result 
</h4>
<p class="Body">
  <a name="1183220"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1183221"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</td><td valign="top"></span>No error.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183222"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrNotOpen</td><td valign="top"></span>The file system library necessary for this call has not been installed or has not been opened.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183223"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrNoFileSystem</td><td valign="top"></span>VFS Manager can not find the file system specified in <span style="font-family: monospace">fsLibRefNum</span>.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1183224"> </a>Comments 
</h4>
<p class="Body">
  <a name="1183225"> </a>This function is not normally called by applications. It unmounts any volumes that the specified file system may have mounted. It then closes the library and removes it from the library table with <a href="SystemManager.html#1166237"><span style="font-family: monospace">SysLibRemove</span></a>.
</p>
<h4 class="RefSide">
  <a name="1183229"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1183233"> </a>Implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>

<h2 class="HBHeadB">
  <a name="1183236"> </a>VFSUnregisterDefaultDirectory
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1183237"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1183238"> </a>Sever the association between a particular file type and a default directory for a given type of card media.
</p>
<h4 class="RefSide">
  <a name="1183239"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1183240"> </a>VfsMgr.h
</p>
<h4 class="RefSide">
  <a name="1183241"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1183242"> </a>Err VFSUnregisterDefaultDirectory (const Char *fileTypeStr, UInt32 mediaType)
</p>
<h4 class="RefSide">
  <a name="1183243"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1183244"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; fileTypeStr</td><td valign="top"></span>Pointer to the file type with which the default directory is associated. This is a null-terminated string that can either be a MIME media type/subtype pair, such as "image/jpeg", "text/plain", or "audio/basic"; or a file extension, such as "<span style="font-family: monospace">.jpeg</span>".</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183245"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; mediaType</td><td valign="top"></span>Type of card media for which the default directory is associated. See <a href="ExpansionManager.html#1107383">Defined Media Types</a> in the <a href="ExpansionManager.html#1107231">Expansion Manager</a> chapter for the list of accepted values.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1183252"> </a>Result 
</h4>
<p class="Body">
  <a name="1183253"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1183254"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span> </td><td valign="top">No error.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183255"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">sysErrParamErr</td><td valign="top"></span>The <span style="font-family: monospace">fileTypeStr</span> parameter is <span style="font-family: monospace">NULL</span>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183256"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrFileNotFound</td><td valign="top"></span>A default directory could not be found in the registry for the specified file and media type.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1183257"> </a>Comments 
</h4>
<div class="NINoteImportant"><hr>
  <a name="1183258"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">NOTE:  </span> Caution is advised when using this function, since you may remove another application's registration, causing data to mysteriously disappear from those applications.
<hr>
</div>
<h4 class="RefSide">
  <a name="1183259"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1183263"> </a>Implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1183264"> </a>See Also 
</h4>
<p class="Body">
  <a name="1183271"> </a><a href="VFSMgr.html#1182983"><span style="font-family: monospace">VFSGetDefaultDirectory</span></a>, <a href="VFSMgr.html#1183168"><span style="font-family: monospace">VFSRegisterDefaultDirectory</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1183274"> </a>VFSVolumeEnumerate
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1183275"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1183276"> </a>Enumerate the mounted volumes.
</p>
<h4 class="RefSide">
  <a name="1183277"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1183278"> </a>VfsMgr.h
</p>
<h4 class="RefSide">
  <a name="1183279"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1183280"> </a>Err VFSVolumeEnumerate (UInt16 *volRefNumP, UInt32 *volIteratorP)
</p>
<h4 class="RefSide">
  <a name="1183281"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1183282"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- volRefNumP</td><td valign="top"></span>Pointer to the reference number for the volume represented by the current enumeration, or <span style="font-family: monospace">vfsInvalidVolRef</span> if there are no more volumes to be enumerated or an error occurred.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183283"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;-&gt; volIteratorP</td><td valign="top"></span>Pointer to a variable that holds the index of the current enumeration. Set the variable to <span style="font-family: monospace">vfsIteratorStart</span> prior to the first iteration. Each call to <span style="font-family: monospace">VFSVolumeEnumerate</span> updates the variable to the index of the next volume. When the last volume is reached, the variable pointed to by <span style="font-family: monospace">volIteratorP</span> is set to <span style="font-family: monospace">vfsIteratorStop</span>.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1183284"> </a>Result 
</h4>
<p class="Body">
  <a name="1183285"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1183286"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span> </td><td valign="top">No error</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183287"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrEnumerationEmpty</td><td valign="top"></span>There are no volumes to enumerate.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183288"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">sysErrParamErr</td><td valign="top"></span>The value pointed to by <span style="font-family: monospace">volIteratorP</span> is not valid. This error is also returned when <span style="font-family: monospace">volIteratorP</span> is <span style="font-family: monospace">vfsIteratorStop</span>.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1183289"> </a>Comments 
</h4>
<p class="Body">
  <a name="1183290"> </a>This function returns a pointer to the volume reference number in the <span style="font-family: monospace">volRefNumP</span> parameter. In order to traverse all volumes you must make repeated calls to <a href="VFSMgr.html#1183274"><span style="font-family: monospace">VFSVolumeEnumerate</span></a> inside a loop. Before the first call to <span style="font-family: monospace">VFSVolumeEnumerate</span>, the variable pointed to by <span style="font-family: monospace">volIteratorP</span> should be initialized to <span style="font-family: monospace">vfsIteratorStart</span>. Each iteration then increments <span style="font-family: monospace">volIteratorP</span> to the next entry after updating <span style="font-family: monospace">volRefNumP</span>. When the last volume is reached, <span style="font-family: monospace">*volIteratorP</span> is set to <span style="font-family: monospace">vfsIteratorStop</span>. If there are no volumes to enumerate, <span style="font-family: monospace">VFSVolumeEnumerate</span> returns <span style="font-family: monospace">expErrEnumerationEmpty</span> when first called.
</p>
<h4 class="RefSide">
  <a name="1183294"> </a>Example 
</h4>
<p class="Body">
  <a name="1183295"> </a>Below is an example of how to use <span style="font-family: monospace">VFSVolumeEnumerate</span>. 
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
UInt16 volRefNum;<a name="1183296"> </a>
UInt32 volIterator = vfsIteratorStart;<a name="1183297"> </a>
 <a name="1183298"> </a>
while (volIterator != vfsIteratorStop) {<a name="1183299"> </a>
   err = VFSVolumeEnumerate(&amp;volRefNum, &amp;volIterator); <a name="1183300"> </a>
   if (err == errNone) {<a name="1183301"> </a>
      // Do something with the volRefNum<a name="1183302"> </a>
   } else {<a name="1183303"> </a>
      // handle error... possibly by <a name="1183304"> </a>
      // breaking out of the loop<a name="1183305"> </a>
   }<a name="1183306"> </a>
}<a name="1183307"> </a>
</pre><div class="CodeRule"><hr></div>
<h4 class="RefSide">
  <a name="1183308"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1183312"> </a>Implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>

<h2 class="HBHeadB">
  <a name="1183315"> </a>VFSVolumeFormat
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1183316"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1183317"> </a>Format and mount the volume installed in a given slot.
</p>
<h4 class="RefSide">
  <a name="1183318"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1183319"> </a>VfsMgr.h
</p>
<h4 class="RefSide">
  <a name="1183320"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1183321"> </a>Err VFSVolumeFormat (UInt8 flags, UInt16 fsLibRefNum, VFSAnyMountParamPtr vfsMountParamP)
</p>
<h4 class="RefSide">
  <a name="1183322"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1183323"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; flags</span></td><td valign="top">Flags that control how the volume should be formatted. Currently, the only flag not reserved is <span style="font-family: monospace">vfsMountFlagsUseThisFileSystem</span>. Pass this flag to cause the volume to be formatted using the file system specified by <span style="font-family: monospace">fsLibRefNum</span>. Pass zero (0) to have the VFS Manager attempt to format the volume using a file system appropriate to the slot.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183324"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; fsLibRefNum</td><td valign="top"></span>Reference number of the file system library for which the volume should be formatted. This number is obtained through a call to <a href="SystemManager.html#1166164"><span style="font-family: monospace">SysLibFind</span></a> with the name of the library you want to use. If the <span style="font-family: monospace">flags</span> field is not set to <span style="font-family: monospace">vfsMountFlagsUseThisFileSystem</span>, this parameter is ignored.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183328"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;-&gt;vfsMountParamP</td><td valign="top"></span>Parameters to be used when formatting the volume and when mounting the volume after it has been formatted. Supply a pointer to either a <a href="VFSMgr.html#1181106"><span style="font-family: monospace">VFSSlotMountParamType</span></a> or a <a href="VFSMgr.html#1181136"><span style="font-family: monospace">VFSPOSEMountParamType</span></a> structure. Note that you'll need to cast your structure pointer to a <span style="font-family: monospace">VFSAnyMountParamPtr</span>. Set the <span style="font-family: monospace">mountClass</span> field to the appropriate value: if you are mounting to an Expansion Manager slot, set <span style="font-family: monospace">mountClass</span> to <span style="font-family: monospace">VFSMountClass_SlotDriver</span> and initialize <span style="font-family: monospace">slotLibRefNum</span> and <span style="font-family: monospace">slotRefNum</span> to the appropriate values. See the descriptions of <a href="VFSMgr.html#1181065"><span style="font-family: monospace">VFSAnyMountParamType</span></a>, <a href="VFSMgr.html#1181106"><span style="font-family: monospace">VFSSlotMountParamType</span></a>, and <a href="VFSMgr.html#1181136"><span style="font-family: monospace">VFSPOSEMountParamType</span></a> for information on the fields that make up these data structures.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1183344"> </a>Result 
</h4>
<p class="Body">
  <a name="1183345"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1183346"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone </td><td valign="top"></span>No error.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183347"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrNotEnoughPower</td><td valign="top"></span>There is insufficient battery power to format and/or mount a volume.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183348"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrNotOpen</td><td valign="top"></span>The file system library necessary for this call has not been installed or has not been opened.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183349"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrNoFileSystem</td><td valign="top"></span>The VFS Manager cannot find an appropriate file system to handle the request.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1183350"> </a>Comments 
</h4>
<p class="Body">
  <a name="1183351"> </a>The slot driver currently only supports one volume per slot. If the volume is successfully formatted and mounted, the reference number of the mounted volume is returned in <span style="font-family: monospace">vfsMountParamP-&gt;volRefNum</span>. If the format is unsuccessful or cancelled, <span style="font-family: monospace">vfsMountParamP-&gt;volRefNum</span> is set to <span style="font-family: monospace">vfsInvalidVolRef</span>.
</p>
<p class="Body">
  <a name="1183352"> </a>If <span style="font-family: monospace">vfsMountFlagsUseThisFileSystem</span> is passed as a flag, <span style="font-family: monospace">VFSVolumeFormat</span> attempts to format the volume using the file system library specified by <span style="font-family: monospace">fsLibRefNum</span>. Typically the flag parameter is not set. In this case <span style="font-family: monospace">VFSVolumeFormat</span> tries to find a compatible library to format the volume, as follows:
</p>
  <a name="1183353"> </a><p class="N1NumList">1.	  Check to see if the default file system library feature is set. If it is, and if that file system is installed, it is used to format the volume. You can set the default file system using <a href="FeatureManager.html#1110193"><span style="font-family: monospace">FtrSet</span></a>; supply <span style="font-family: monospace">sysFileCVFSMgr</span> for the feature creator, and <span style="font-family: monospace">vfsFtrIDDefaultFS</span> for the feature number.</p>  <a name="1183357"> </a><p class="N1NumList">2.	  Check to see if any of the installed file systems are natively supported for the slot on which the VFS Manager is trying to format. If one of them is, it is used to format the volume.</p>  <a name="1183358"> </a><p class="N1NumList">3.	  If none of the installed file systems can perform the format using the slot's native type, a dialog displays warning the user that their media may become incompatible with other devices if they continue with the format. The user may continue or cancel the format. If the user chooses to continue, <span style="font-family: monospace">VFSVolumeFormat</span> formats the volume using the first file system library that was installed.</p><p class="Body">
  <a name="1183359"> </a>When calling <span style="font-family: monospace">VFSVolumeFormat</span>, the volume can either be mounted or unmounted. The underlying file system library call requires the volume to be unmounted. <span style="font-family: monospace">VFSVolumeFormat</span> checks to see if the volume is currently mounted and unmounts it, if necessary, using <a href="VFSMgr.html#1183622"><span style="font-family: monospace">VFSVolumeUnmount</span></a> before making the file system call. If the file system successfully formats the volume, <span style="font-family: monospace">VFSVolumeFormat</span> mounts it and posts a <a href="Notifications.html#980406"><span style="font-family: monospace">sysNotifyVolumeMountedEvent</span></a> notification.
</p>
<h4 class="RefSide">
  <a name="1183366"> </a>Example 	
</h4>
<p class="Body">
  <a name="1183367"> </a>The following code excerpt formats a volume on an Expansion Manager slot using a compatible file system.
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
VFSSlotMountParamType slotParam;<a name="1183368"> </a>
UInt32 slotIterator = expIteratorStart;<a name="1183369"> </a>
 <a name="1183370"> </a>
slotParam.vfsMountParamP.mountClass = 
   VFSMountClass_SlotDriver;<a name="1183371"> </a>
err = ExpSlotEnumerate(&amp;slotParam.slotRefNum, 
   &amp;slotIterator);<a name="1183372"> </a>
err = ExpSlotLibFind(slotParam.slotRefNum,
   &amp;slotParam.slotLibRefNum);<a name="1183373"> </a>
 <a name="1183374"> </a>
err = VFSVolumeFormat(NULL, NULL, 
   (VFSAnyMountParamPtr) &amp; slotParam);<a name="1183375"> </a>
</pre><div class="CodeRule"><hr></div>
<h4 class="RefSide">
  <a name="1183376"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1183380"> </a>Implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1183381"> </a>See Also 
</h4>
<p class="Body">
  <a name="1183385"> </a><a href="VFSMgr.html#1183461"><span style="font-family: monospace">VFSVolumeMount</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1183388"> </a>VFSVolumeGetLabel
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1183389"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1183390"> </a>Determine the volume label for a particular volume.
</p>
<h4 class="RefSide">
  <a name="1183391"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1183392"> </a>VfsMgr.h
</p>
<h4 class="RefSide">
  <a name="1183393"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1183394"> </a>Err VFSVolumeGetLabel(UInt16 volRefNum, Char *labelP, UInt16 bufLen)
</p>
<h4 class="RefSide">
  <a name="1183395"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1183396"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; volRefNum</td><td valign="top"></span>Volume reference number returned from <a href="VFSMgr.html#1183274"><span style="font-family: monospace">VFSVolumeEnumerate</span></a>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183400"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- labelP</td><td valign="top"></span>Pointer to a character buffer into which the volume name is placed.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183401"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; bufLen</span></td><td valign="top">Length, in bytes, of the <span style="font-family: monospace">labelP</span> buffer.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1183402"> </a>Result 
</h4>
<p class="Body">
  <a name="1183403"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1183404"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span> </td><td valign="top">No error.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183405"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrNotOpen</td><td valign="top"></span>The file system library necessary for this call has not been installed or has not been opened.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183406"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrNoFileSystem</td><td valign="top"></span>The VFS Manager cannot find an appropriate file system to handle the request.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183407"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrVolumeBadRef</td><td valign="top"></span>The specified volume has not been mounted.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183408"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrBufferOverflow</td><td valign="top"></span>The value specified in <span style="font-family: monospace">bufLen</span> is not big enough to receive the full volume label.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183409"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrNameShortened</td><td valign="top"></span>There was an error reading the full volume name. A shortened version is being returned.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1183410"> </a>Comments 
</h4>
<p class="Body">
  <a name="1183411"> </a>Volume reference numbers can change each time you mount a given volume. To keep track of a particular volume, save the volume's label rather than its reference number. Volume labels can be up to 255 characters long. They can contain any normal character, including spaces and lower case characters, in any character set as well as the following special characters: $ % ' - _ @ ~ ` ! ( ) ^ # &amp; + , ; = [ ].
</p>
<h4 class="RefSide">
  <a name="1183412"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1183416"> </a>Implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1183417"> </a>See Also 
</h4>
<p class="Body">
  <a name="1183421"> </a><a href="VFSMgr.html#1183542"><span style="font-family: monospace">VFSVolumeSetLabel</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1183424"> </a>VFSVolumeInfo
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1183425"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1183426"> </a>Get information about the specified volume.
</p>
<h4 class="RefSide">
  <a name="1183427"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1183428"> </a>VfsMgr.h
</p>
<h4 class="RefSide">
  <a name="1183429"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1183430"> </a>Err VFSVolumeInfo(UInt16 volRefNum, VolumeInfoType *volInfoP)
</p>
<h4 class="RefSide">
  <a name="1183431"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1183432"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; volRefNum</td><td valign="top"></span>Volume reference number returned from <a href="VFSMgr.html#1183274"><span style="font-family: monospace">VFSVolumeEnumerate</span></a>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183436"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- volInfoP</span></td><td valign="top">Pointer to the structure that receives the volume information for the specified volume. See <a href="VFSMgr.html#1181158"><span style="font-family: monospace">VolumeInfoType</span></a> for more information on the fields in this data structure.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1183440"> </a>Result 
</h4>
<p class="Body">
  <a name="1183441"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1183442"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span> </td><td valign="top">No error.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183443"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrNotOpen</td><td valign="top"></span>The file system library necessary for this call has not been installed or has not been opened.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183444"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrNoFileSystem</td><td valign="top"></span>The VFS Manager cannot find an appropriate file system to handle the request.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183445"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrVolumeBadRef</td><td valign="top"></span>The specified volume reference number is invalid.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1183446"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1183450"> </a>Implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1183451"> </a>See Also 
</h4>
<p class="Body">
  <a name="1183458"> </a><a href="VFSMgr.html#1183388"><span style="font-family: monospace">VFSVolumeGetLabel</span></a>, <a href="VFSMgr.html#1183589"><span style="font-family: monospace">VFSVolumeSize</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1183461"> </a>VFSVolumeMount
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1183462"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1183463"> </a>Mount the card's volume on the specified slot.
</p>
<h4 class="RefSide">
  <a name="1183464"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1183465"> </a>VfsMgr.h
</p>
<h4 class="RefSide">
  <a name="1183466"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1183467"> </a>Err VFSVolumeMount(UInt8 flags, UInt16 fsLibRefNum, VFSAnyMountParamPtr vfsMountParamP)
</p>
<h4 class="RefSide">
  <a name="1183468"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1183469"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; flags</span></td><td valign="top">Flags that control how the volume should be mounted. Currently, the only flag not reserved is <span style="font-family: monospace">vfsMountFlagsUseThisFileSystem</span>. Pass this flag to cause the volume to be mounted using the file system specified by <span style="font-family: monospace">fsLibRefNum</span>. Pass zero (0) to have the VFS Manager attempt to mount the volume using a file system appropriate for the slot.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183470"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; fsLibRefNum</td><td valign="top"></span>Reference number of the file system library for which the volume should be mounted. This number is obtained through a call to <a href="SystemManager.html#1166164"><span style="font-family: monospace">SysLibFind</span></a> with the name of the library you want to use. If the <span style="font-family: monospace">flags</span> field is not set to <span style="font-family: monospace">vfsMountFlagsUseThisFileSystem</span>, this parameter is ignored.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183474"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;-&gt;vfsMountParamP</td><td valign="top"></span>Parameters to be used when mounting the volume after it has been formatted. Supply a pointer to either a <a href="VFSMgr.html#1181106"><span style="font-family: monospace">VFSSlotMountParamType</span></a> or a <a href="VFSMgr.html#1181136"><span style="font-family: monospace">VFSPOSEMountParamType</span></a> structure. Note that you'll need to cast your structure pointer to a <span style="font-family: monospace">VFSAnyMountParamPtr</span>. Set the <span style="font-family: monospace">mountClass</span> field to the appropriate value: if you are mounting to an Expansion Manager slot, set <span style="font-family: monospace">mountClass</span> to <span style="font-family: monospace">VFSMountClass_SlotDriver</span> and initialize <span style="font-family: monospace">slotLibRefNum</span> and <span style="font-family: monospace">slotRefNum</span> to the appropriate values. See the descriptions of <a href="VFSMgr.html#1181065"><span style="font-family: monospace">VFSAnyMountParamType</span></a>, <a href="VFSMgr.html#1181106"><span style="font-family: monospace">VFSSlotMountParamType</span></a>, and <a href="VFSMgr.html#1181136"><span style="font-family: monospace">VFSPOSEMountParamType</span></a> for information on the fields that make up these data structures.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1183490"> </a>Result 
</h4>
<p class="Body">
  <a name="1183491"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1183492"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span> </td><td valign="top">No error.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183493"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrNotEnoughPower</td><td valign="top"></span>There is insufficient battery power to mount a volume.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183494"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrNotOpen</td><td valign="top"></span>The file system library necessary for this call has not been installed or has not been opened.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183495"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">sysErrParamErr</span></td><td valign="top"><span style="font-family: monospace">vfsMountParamP</span> was initialized to <span style="font-family: monospace">NULL</span>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183496"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrNoFileSystem</td><td valign="top"></span>The VFS Manager cannot find an appropriate file system to handle the request.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183497"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrVolumeStillMounted</td><td valign="top"></span>The volume is already mounted with a different file system than was specified in <span style="font-family: monospace">fsLibRefNum</span>.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1183498"> </a>Comments 
</h4>
<p class="Body">
  <a name="1183499"> </a>The slot driver only supports one volume per slot. The reference number of the mounted volume is returned in <span style="font-family: monospace">vfsMountParamP-&gt;volRefNum</span>. If <span style="font-family: monospace">vfsMountFlagsUseThisFileSystem</span> is passed as a flag, <span style="font-family: monospace">VFSVolumeMount</span> attempts to mount the volume using the file system library specified by <span style="font-family: monospace">fsLibRefNum</span>. Otherwise <span style="font-family: monospace">VFSVolumeMount</span> tries to find a file system library which is able to mount the volume. If none of the installed file system libraries is able to mount the volume, <span style="font-family: monospace">VFSVolumeMount</span> attempts to re-format the volume (using <a href="VFSMgr.html#1183315"><span style="font-family: monospace">VFSVolumeFormat</span></a>) and then mount it. If <span style="font-family: monospace">VFSVolumeMount</span> manages to successfully mount the volume, it ends by posting a <a href="Notifications.html#980406"><span style="font-family: monospace">sysNotifyVolumeMountedEvent</span></a> notification.
</p>
<p class="Body">
  <a name="1183506"> </a>After VFSVolumeMount successfully mounts a volume, it broadcasts <span style="font-family: monospace">sysNotifyVolumeMountedEvent</span>. The VFS Manager, upon being notified of this event, searches the newly-mounted volume for <span style="font-family: monospace">/PALM/start.prc</span>. If <span style="font-family: monospace">start.prc</span> is found in the <span style="font-family: monospace">/PALM</span> directory, the VFS Manager copies it to main memory and launches it. If start.prc is not found, the VFS Manager switches to the Launcher instead. This behavior can be overridden; see <a href="ExpAndVFSConcepts.html#1001095">Card Insertion and Removal</a> in <a href="ExpAndVFSConcepts.html#1000865">Chapter 7, "Expansion,"</a> <i>Palm OS Programmer's Companion</i>, vol. I.
</p>
<p class="Body">
  <a name="1183516"> </a>When <span style="font-family: monospace">VFSVolumeMount</span> is called, if the volume is already mounted with a different file system than was specified in <span style="font-family: monospace">fsLibRefNum</span>, a <span style="font-family: monospace">vfsErrVolumeStillMounted</span> error is returned. If the volume is already mounted with the same file system that is specified in <span style="font-family: monospace">fsLibRefNum</span>, or if <span style="font-family: monospace">vfsMountFlagsUseThisFileSystem</span> is not set, <span style="font-family: monospace">VFSVolumeMount</span> returns <span style="font-family: monospace">errNone</span> and sets <span style="font-family: monospace">volRefNumP</span> to the reference number of the currently mounted volume.
</p>
<h4 class="RefSide">
  <a name="1183517"> </a>Example 	
</h4>
<p class="Body">
  <a name="1183518"> </a>The following code excerpt mounts a volume on an Expansion Manager slot using a compatible file system.
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
VFSSlotMountParamType slotParam ;<a name="1183519"> </a>
UInt32 slotIterator = expIteratorStart;<a name="1183520"> </a>
 <a name="1183521"> </a>
slotParam.vfsMountParamP.mountClass = 
   VFSMountClass_SlotDriver;<a name="1183522"> </a>
err = ExpSlotEnumerate(&amp;slotParam.slotRefNum, 
   &amp;slotIterator);<a name="1183523"> </a>
err = ExpSlotLibFind(slotParam.slotRefNum, 
   &amp;slotParam.slotLibRefNum);<a name="1183524"> </a>
 <a name="1183525"> </a>
err = VFSVolumeMount(NULL, NULL,
   (VFSAnyMountParamPtr) &amp; slotParam);<a name="1183526"> </a>
</pre><div class="CodeRule"><hr></div>
<h4 class="RefSide">
  <a name="1183527"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1183531"> </a>Implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1183532"> </a>See Also 
</h4>
<p class="Body">
  <a name="1183539"> </a><a href="VFSMgr.html#1183315"><span style="font-family: monospace">VFSVolumeFormat</span></a>, <a href="VFSMgr.html#1183622"><span style="font-family: monospace">VFSVolumeUnmount</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1183542"> </a>VFSVolumeSetLabel
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1183543"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1183544"> </a>Changes the volume label for a mounted volume.
</p>
<h4 class="RefSide">
  <a name="1183545"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1183546"> </a>VfsMgr.h
</p>
<h4 class="RefSide">
  <a name="1183547"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1183548"> </a>Err VFSVolumeSetLabel(UInt16 volRefNum, const Char *labelP)
</p>
<h4 class="RefSide">
  <a name="1183549"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1183550"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; volRefNum</td><td valign="top"></span>Volume reference number returned from <a href="VFSMgr.html#1183274"><span style="font-family: monospace">VFSVolumeEnumerate</span></a>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183554"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; labelP</span></td><td valign="top">Pointer to the label to be applied to the specified volume. This string must be null-terminated.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1183555"> </a>Result 
</h4>
<p class="Body">
  <a name="1183556"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1183557"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span> </td><td valign="top">No error</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183558"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrNotOpen</td><td valign="top"></span>The file system library necessary for this call has not been installed or has not been opened.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183559"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrBadName</td><td valign="top"></span>The supplied label is invalid.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183560"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrNameShortened</td><td valign="top"></span>Indicates that the label name was too long. A shortened version of the label name was used instead.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183561"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrVolumeBadRef</td><td valign="top"></span>The specified volume has not been mounted.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1183562"> </a>Comments 
</h4>
<p class="Body">
  <a name="1183563"> </a>Volume labels can be up to 255 characters long. They can contain any normal character, including spaces and lower case characters, in any character set as well as the following special characters: $ % ' - _ @ ~ ` ! ( ) ^ # &amp; + , ; = [ ]. See <a href="ExpAndVFSConcepts.html#1001411">Naming Volumes</a> in <a href="ExpAndVFSConcepts.html#1000865">Chapter 7, "Expansion,"</a><i>Palm OS Programmer's Companion</i>, vol. I for guidelines on naming.
</p>
<div class="NINoteImportant"><hr>
  <a name="1183573"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">NOTE:  </span> Most clients should not need to call this function. This function may create or delete a file in the root directory, which would invalidate any current calls to <a href="VFSMgr.html#1181918"><span style="font-family: monospace">VFSDirEntryEnumerate</span></a>.
<hr>
</div>
<h4 class="RefSide">
  <a name="1183577"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1183581"> </a>Implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1183582"> </a>See Also 
</h4>
<p class="Body">
  <a name="1183586"> </a><a href="VFSMgr.html#1183388"><span style="font-family: monospace">VFSVolumeGetLabel</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1183589"> </a>VFSVolumeSize
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1183590"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1183591"> </a>Determine the total amount of space on a volume, as well as the amount that is currently being used.
</p>
<h4 class="RefSide">
  <a name="1183592"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1183593"> </a>VfsMgr.h
</p>
<h4 class="RefSide">
  <a name="1183594"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1183595"> </a>Err VFSVolumeSize(UInt16 volRefNum, UInt32 *volumeUsedP, UInt32 *volumeTotalP)
</p>
<h4 class="RefSide">
  <a name="1183596"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1183597"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; volRefNum</td><td valign="top"></span>Volume reference number returned from <a href="VFSMgr.html#1183274"><span style="font-family: monospace">VFSVolumeEnumerate</span></a>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183601"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- volumeUsedP</td><td valign="top"></span>Pointer to a variable that receives the amount of space, in bytes, in use on the volume.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183602"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- volumeTotalP</td><td valign="top"></span>Pointer to a variable that receives the total amount of space on the volume, in bytes.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1183603"> </a>Result 
</h4>
<p class="Body">
  <a name="1183604"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1183605"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span> </td><td valign="top">No error.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183606"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrNotOpen</td><td valign="top"></span>The file system library necessary for this call has not been installed or has not been opened.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183607"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrNoFileSystem</td><td valign="top"></span>The VFS Manager cannot find an appropriate file system to handle the request.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183608"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrVolumeBadRef</td><td valign="top"></span>The specified volume has not been mounted.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1183609"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1183613"> </a>Implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1183614"> </a>See Also 
</h4>
<p class="Body">
  <a name="1183618"> </a><a href="VFSMgr.html#1183424"><span style="font-family: monospace">VFSVolumeInfo</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1183622"> </a>VFSVolumeUnmount
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1183623"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1183624"> </a>Unmount the given volume.
</p>
<h4 class="RefSide">
  <a name="1183625"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1183626"> </a>VfsMgr.h
</p>
<h4 class="RefSide">
  <a name="1183627"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1183628"> </a>Err VFSVolumeUnmount(UInt16 volRefNum)
</p>
<h4 class="RefSide">
  <a name="1183629"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1183630"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; volRefNum</span></td><td valign="top">Volume reference number returned from <a href="VFSMgr.html#1183274"><span style="font-family: monospace">VFSVolumeEnumerate</span></a>.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1183634"> </a>Result 
</h4>
<p class="Body">
  <a name="1183635"> </a>Returns one of the following error codes:
</p>
<h5 class="P1"><a name="1183636"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span> </td><td valign="top">No error.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183637"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrNotOpen</td><td valign="top"></span>The file system library necessary for this call has not been installed or has not been opened.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183638"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrNoFileSystem</td><td valign="top"></span>The VFS Manager cannot find an appropriate file system to handle the request.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183639"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">vfsErrVolumeBadRef</td><td valign="top"></span>The specified volume has not been mounted.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1183640"> </a>Comments 
</h4>
<p class="Body">
  <a name="1183641"> </a>This function closes any opened files and posts a <a href="Notifications.html#980428"><span style="font-family: monospace">sysNotifyVolumeUnmountedEvent</span></a> notification once the file system is successfully unmounted.
</p>
<h4 class="RefSide">
  <a name="1183645"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1183649"> </a>Implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1183650"> </a>See Also 
</h4>
<p class="Body">
  <a name="1183654"> </a><a href="VFSMgr.html#1183461"><span style="font-family: monospace">VFSVolumeMount</span></a>
</p>

<h2 class="HaHeadA">
  <a name="1183656"> </a>Application-Defined Functions 
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>


<h2 class="HBHeadB">
  <a name="1183659"> </a>VFSExportProcPtr
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1183660"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1183661"> </a>User-defined callback function supplied to <a href="VFSMgr.html#1182034"><span style="font-family: monospace">VFSExportDatabaseToFileCustom</span></a> that tracks the progress of the export.
</p>
<h4 class="RefSide">
  <a name="1183665"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1183666"> </a>VfsMgr.h
</p>
<h4 class="RefSide">
  <a name="1183667"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1183668"> </a>typedef Err (*VFSExportProcPtr) (UInt32 totalBytes, UInt32 offset, void *userDataP)
</p>
<h4 class="RefSide">
  <a name="1183669"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1183670"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">totalBytes</span></td><td valign="top">The total number of bytes being exported.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183671"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">offset</span></td><td valign="top">Undefined.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183672"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">userDataP</span></td><td valign="top">Pointer to any application-specific data passed to the callback function. This pointer may be <span style="font-family: monospace">NULL</span> if your callback doesn't need any such data.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1183673"> </a>Result 
</h4>
<p class="Body">
  <a name="1183674"> </a>Your progress tracker should allow the user to abort the export. Return <span style="font-family: monospace">errNone</span> if the export should continue, or any other value to abort the export process. If you return a value other than <span style="font-family: monospace">errNone</span>, that value will be returned by <a href="VFSMgr.html#1182034"><span style="font-family: monospace">VFSExportDatabaseToFileCustom</span></a>.
</p>
<h4 class="RefSide">
  <a name="1183678"> </a>Comments 
</h4>
<p class="Body">
  <a name="1183684"> </a>See the <a href="UserInterface.html#980498">Progress Dialogs</a> section in the <i>Palm OS Programmer's Companion</i>, vol. I for more information on writing a progress tracker.
</p>
<h4 class="RefSide">
  <a name="1183686"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1183690"> </a>Implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1183691"> </a>See Also 
</h4>
<p class="Body">
  <a name="1183695"> </a><a href="VFSMgr.html#1183698"><span style="font-family: monospace">VFSImportProcPtr</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1183698"> </a>VFSImportProcPtr
<a href="#1180996"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1183699"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1183700"> </a>User-defined callback function supplied to <a href="VFSMgr.html#1183078"><span style="font-family: monospace">VFSImportDatabaseFromFileCustom</span></a> that tracks the progress of the import.
</p>
<h4 class="RefSide">
  <a name="1183704"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1183705"> </a>VfsMgr.h
</p>
<h4 class="RefSide">
  <a name="1183706"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1183707"> </a>typedef Err (*VFSImportProcPtr) (UInt32 totalBytes, UInt32 offset, void *userDataP)
</p>
<h4 class="RefSide">
  <a name="1183708"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1183709"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">totalBytes</span></td><td valign="top">The total number of bytes being imported.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183710"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">offset</span></td><td valign="top">The number of bytes that have already been imported. This value, along with the total number of bytes being imported, allows you to inform the user how far along the import is.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1183711"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">userDataP</span></td><td valign="top">Pointer to NY application-specific data passed to the callback function. This pointer may be <span style="font-family: monospace">NULL</span> if your callback doesn't need any such data.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1183712"> </a>Result 
</h4>
<p class="Body">
  <a name="1183713"> </a>Your progress tracker should allow the user to abort the import. Return <span style="font-family: monospace">errNone</span> if the import should continue, or any other value to abort the import process. If you return a value other than <span style="font-family: monospace">errNone</span>, that value will be returned by <a href="VFSMgr.html#1183078"><span style="font-family: monospace">VFSImportDatabaseFromFileCustom</span></a>.
</p>
<h4 class="RefSide">
  <a name="1183717"> </a>Comments 
</h4>
<p class="Body">
  <a name="1183723"> </a>See the <a href="UserInterface.html#980498">Progress Dialogs</a> section in the <i>Palm OS Programmer's Companion</i>, vol. I for more information on writing a progress tracker.
</p>
<h4 class="RefSide">
  <a name="1183725"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1183729"> </a>Implemented only if the <a href="CompatibilityApdx.html#972838">VFS Manager Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1183730"> </a>See Also 
</h4>
<p class="Body">
  <a name="1183734"> </a><a href="VFSMgr.html#1183659"><span style="font-family: monospace">VFSExportProcPtr</span></a>
</p>
&nbsp;<br>
				<!-- CONTENT_END -->

		</td>
		<td width="5">&nbsp;&nbsp;</td>
	</tr>
      </table>
    </td>
			</tr>
  <tr>
				<td>
					<table border="0" cellpadding="0" cellspacing="0" width="760">
        <!-- CONTENTCELL_END -->
        <tr valign="top"> 
          <td width="10">&nbsp;<!-- FOOTER_START --></td>
          <td width="72">&nbsp;</td>
          <td width="25" bgcolor="white" background="images/bkgrnd.gif">&nbsp;</td>
          <td width="600"> 
            <table border="0" cellpadding="0" cellspacing="0" width="600">
              <tr> 
                <td><img src="images/rule_10-1-5_ltblue.gif" width="600" height="16" border="0"></td>
              </tr>
              <tr> 
                <td> 
                  <p align="center" class="footer"> ©2002 PalmSource, Inc. and its affiliates.  All rights reserved. 
<a href="http://www.palmos.com/dev/training/">Training</a>&nbsp;|&nbsp;<a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a>&nbsp;|&nbsp;<a href="http://www.palmos.com/">Palm&nbsp;OS&nbsp;Platform</a>&nbsp;|&nbsp;<a href="Reference_Front.html" target="_blank">Legal Notices</a>&nbsp;<br>
												<!-- FOOTER_END --><br>
											</p>
                </td>
              </tr>
            </table>
          </td>
        </tr>
      </table>
				</td>
			</tr>
</table>
</BODY>
</HTML>