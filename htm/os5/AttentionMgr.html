<HTML>

<HEAD>
<SMALLSCREENIGNORE> 
<LINK HREF="copy_of_palmos.css" REL="stylesheet" TYPE="text/css">
<LINK HREF="document.css" REL="StyleSheet" TYPE="text/css" media="screen">
<!-- SCRIPT_START -->
<!-- SCRIPT_END -->
</SMALLSCREENIGNORE>
<TITLE>Attention Manager</TITLE>

<META NAME="PALMTEMPLATE" CONTENT="1006-002 Palm HTML 20020513">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks Publisher Professional Edition 6.0.7">
<META NAME="TEMPLATEBASE" CONTENT="Palm HTML 20010625">
<META NAME="LASTUPDATED" CONTENT="12/13/02 10:09:44">
<META HTTP-EQUIV="content-type" CONTENT="text/html;charset=ISO-8859-1">

</HEAD>

<BODY LEFTMARGIN="0" MARGINWIDTH="0" TOPMARGIN="0" MARGINHEIGHT="0">
<SMALLSCREENIGNORE> 
<table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr>
	<td><a name="1082503"></a>
      <table border="0" cellpadding="0" cellspacing="0" width="100%">
        <tr height="35"> 
          <td height="35" colspan="2" bgcolor="#6699CC">&nbsp;</td>
        </tr>
        <tr valign="top"> 
          <td width="160" align="left"><a href="http://www.palmos.com"><img src="images/bigorb.gif" width="160" height="110" border="0"></a></td>
          <td align="left" width="100%"> 
            </SMALLSCREENIGNORE>
            <!-- CONTENTCELL_START -->
            <img border="0" height="45" src="images/orb_bkgrnd_600.gif" width="600"><br>
            <!--PAGENAV_START-->
            <SPAN CLASS="subnav">&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/index.html">Home</a> 
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/">Developers</a> 
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/support/">Development Support</a>
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/support/docs/">Documentation</a></span><BR>
             <img src="images/pixel_ltblue.gif" width="600" height="1" border="0" vspace="2"><br>
             <h2 class="HeadDocPage">4  Attention Manager</h2>
             <img src="images/pixel_ltblue.gif" width="600" height="1" border="0" vspace="2"><br>
             &nbsp;<span class="subnav"><a href="ReferenceTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="Notifications.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="Category.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ReferenceIX.html">Index</a></span>  
            <!--PAGENAV_END-->
          </td>
        </tr>
      </table>
    </td>
			</tr>
  <tr>
				<td> 
      <table width="100%" border="0" cellspacing="0" cellpadding="0">
        <tr>
							<td>&nbsp;&nbsp;&nbsp;</td>
						</tr>
        <tr>
		<td valign="top" width="10">&nbsp;&nbsp;&nbsp;</td>
		<td valign="top" width="175">
			<p class="SideTitle">Title - <br><a href="Reference_Front.html">Palm OS® Programmer's API Reference</a></p>
			<p class="SideTOC1-PartTab">Palm OS® 5 SDK </p>
			<p class="SideTOC1-PartTab">Part I: User Interface</a> </p>
			<p class="SideTOC1"><a href="AttentionMgr.html">4  Attention Manager</a></p>
			
<p class="SideTOC2">
<a href="#1082532">Attention Manager Data Structures
</a></p>

<p class="SideTOC3">
<a href="#1082535">AttnCommandType
</a></p>

<p class="SideTOC3">
<a href="#1082610">AttnCommandArgsType
</a></p>

<p class="SideTOC3">
<a href="#1082774">AttnFlagsType
</a></p>

<p class="SideTOC3">
<a href="#1082920">AttnLaunchCodeArgsType
</a></p>

<p class="SideTOC3">
<a href="#1082954">AttnLevelType
</a></p>

<p class="SideTOC2">
<a href="#1082979">Attention Manager Constants
</a></p>

<p class="SideTOC3">
<a href="#1083003">Error Code Constants
</a></p>

<p class="SideTOC3">
<a href="#1083020">Attention Manager Drawing Constants
</a></p>

<p class="SideTOC3">
<a href="#1083076">Attention Manager Feature Constants
</a></p>

<p class="SideTOC2">
<a href="#1083189">Attention Manager Functions
</a></p>

<p class="SideTOC3">
<a href="#1083238">AttnDoSpecialEffects
</a></p>

<p class="SideTOC3">
<a href="#1083290">AttnForgetIt
</a></p>

<p class="SideTOC3">
<a href="#1083315">AttnGetAttention
</a></p>

<p class="SideTOC3">
<a href="#1083376">AttnGetCounts
</a></p>

<p class="SideTOC3">
<a href="#1083451">AttnIndicatorEnable
</a></p>

<p class="SideTOC3">
<a href="#1083483">AttnIndicatorEnabled
</a></p>

<p class="SideTOC3">
<a href="#1083526">AttnIterate
</a></p>

<p class="SideTOC3">
<a href="#1083565">AttnListOpen
</a></p>

<p class="SideTOC3">
<a href="#1083611">AttnUpdate
</a></p>

<p class="SideTOC2">
<a href="#1083665">Application-Defined Functions
</a></p>

<p class="SideTOC3">
<a href="#1083669">AttnCallbackProc
</a></p>

		</td>

		<td width="5">&nbsp;&nbsp;</td>
		<td width="1" bgcolor="#6699cc">&nbsp;</td>
		<td width="5">&nbsp;&nbsp;</td>
		<td> 

				<!-- CONTENT_START -->

<p class="Body">
  <a name="1082504"> </a>This chapter provides reference material for the Attention Manager, and is divided into the following sections:
</p>

  <a name="1082508"> </a><p class="B1Bullet"> &#8226; <a href="AttentionMgr.html#1082532">Attention Manager Data Structures</a></p>

  <a name="1082512"> </a><p class="B1Bullet"> &#8226; <a href="AttentionMgr.html#1082979">Attention Manager Constants</a></p>

  <a name="1082516"> </a><p class="B1Bullet"> &#8226; <a href="AttentionMgr.html#1083189">Attention Manager Functions</a></p>

  <a name="1082520"> </a><p class="B1Bullet"> &#8226; <a href="AttentionMgr.html#1083665">Application-Defined Functions</a></p>
<p class="Body">
  <a name="1082521"> </a>The Attention Manager API is declared in the header file <span style="font-family: monospace">AttentionMgr.h</span>.
</p>
<p class="Body">
  <a name="1082522"> </a>For more information about the attention manager, see the section <a href="AttnsAndAlarms.html#1010001">"Getting the User's Attention"</a> in the <i>Palm OS Programmer's Companion</i>, vol. I.
</p>
<div class="NINoteImportant"><hr>
  <a name="1082530"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">IMPORTANT:  </span> The Attention Manager was introduced in Palm OS<sup>®</sup> 4.0 and is not available in earlier versions of the operating system.
<hr>
</div>

<h2 class="HaHeadA">
  <a name="1082532"> </a>Attention Manager Data Structures 
<a href="#1082503"><img src="images/top.gif" border="0"></a></h2>


<h2 class="HBHeadB">
  <a name="1082535"> </a>AttnCommandType
<a href="#1082503"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1082536"> </a>The <span style="font-family: monospace">AttnCommandType</span> typedef specifies the set of possible commands that can be sent to the application requesting the user's attention, either as a parameter to the <a href="AttentionMgr.html#1083669"><span style="font-family: monospace">AttnCallbackProc</span></a> callback function or as one of the arguments that accompanies a <a href="AppLaunchCodes.html#970327"><span style="font-family: monospace">sysAppLaunchCmdAttention</span></a> launch code.
</p>
<pre  class="Preformatted">
typedef UInt16 AttnCommandType;<a name="1082543"> </a>
</pre>
<p class="Body">
  <a name="1082544"> </a>The following table lists the values that <span style="font-family: monospace">AttnCommandType</span> can assume.
</p>

<h5 class="TgTable">
  <a name="1082608"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="1082547"> </a><div class="CellHeading">Constant</div></th>
    <th><a name="1082549"> </a><div class="CellHeading">Description</div></th>
  </tr>
  <tr valign="top">
    <td><a name="1082552"> </a><div class="CellBody"><span style="font-family: monospace">kAttnCommandDrawDetail</span></div></td>
    <td><a name="1082554"> </a><div class="CellBody">Indicates that the application needs to draw the detailed contents of the attention dialog. The command arguments parameter points to a structure of type <a href="AttentionMgr.html#1082666"><span style="font-family: monospace">drawDetail</span></a>.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1082560"> </a><div class="CellBody"><span style="font-family: monospace">kAttnCommandDrawList</span></div></td>
    <td><a name="1082562"> </a><div class="CellBody">Indicates that the application needs to draw the appropriate list item in the attention dialog. The command arguments parameter points to a structure of type <a href="AttentionMgr.html#1082695"><span style="font-family: monospace">drawList</span></a>.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1082568"> </a><div class="CellBody"><span style="font-family: monospace">kAttnCommandPlaySound</span></div></td>
    <td><a name="1082570"> </a><div class="CellBody">Indicates that the application needs to play a sound. The command arguments parameter is <span style="font-family: monospace">NULL</span>.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1082573"> </a><div class="CellBody"><span style="font-family: monospace">kAttnCommandCustomEffect</span></div></td>
    <td><a name="1082575"> </a><div class="CellBody">Indicates that the application needs to perform any application-specific special effects. This command is only sent for attention items that set the <span style="font-family: monospace">kAttnFlagsCustomEffectBit</span> when they call <a href="AttentionMgr.html#1083315"><span style="font-family: monospace">AttnGetAttention</span></a>, which most applications won't do. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1082581"> </a><div class="CellBody"><span style="font-family: monospace">kAttnCommandGoThere</span></div></td>
    <td><a name="1082583"> </a><div class="CellBody">Tells the application to navigate to the item. The command arguments parameter is <span style="font-family: monospace">NULL</span>. An application commonly calls <a href="SystemManager.html#1165530"><span style="font-family: monospace">SysAppLaunch</span></a> upon receipt of this command to have itself launched.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1082589"> </a><div class="CellBody"><span style="font-family: monospace">kAttnCommandGotIt</span></div></td>
    <td><a name="1082591"> </a><div class="CellBody">Tells the application that the user is dismissing the item. The command arguments parameter points to a structure of type <a href="AttentionMgr.html#1082730"><span style="font-family: monospace">gotIt</span></a>. The application may choose to clean up memory at this point.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1082597"> </a><div class="CellBody"><span style="font-family: monospace">kAttnCommandSnooze</span></div></td>
    <td><a name="1082599"> </a><div class="CellBody">Indicates to the application that the user is snoozing. The command arguments parameter is <span style="font-family: monospace">NULL</span>. Most applications do nothing upon receipt of this command. This command is passed to the appropriate application for each and every item currently pending, insistent or subtle. Applications with more than one attention item pending are called more than once.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1082602"> </a><div class="CellBody"><span style="font-family: monospace">kAttnCommandIterate</span></div></td>
    <td><a name="1082604"> </a><div class="CellBody">This command is passed to the application during the enumeration of attention items. It is particularly useful after HotSync<sup>®</sup> operations, as it allows the application to examine each item, updating or removing those that are stale or invalid. The command arguments parameter points to a structure of type <a href="AttentionMgr.html#1082753"><span style="font-family: monospace">iterate</span></a>.</div></td>
  </tr>
</table>




</h5>
<h2 class="HBHeadB">
  <a name="1082610"> </a>AttnCommandArgsType
<a href="#1082503"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1082611"> </a>The <span style="font-family: monospace">AttnCommandArgsType</span> structure is a union of C structures. How you interpret the union's contents depends on which command it accompanies. Not all commands are accompanied by an <span style="font-family: monospace">AttnCommandArgsType</span> structure, as listed in the following table:
</p>

<h5 class="TgTable">
  <a name="1082661"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="1082614"> </a><div class="CellHeading">AttnCommandType</div></th>
    <th><a name="1082616"> </a><div class="CellHeading">Accompanied By</div></th>
  </tr>
  <tr valign="top">
    <td><a name="1082618"> </a><div class="CellBody"><span style="font-family: monospace">kAttnCommandDrawDetail</span></div></td>
    <td><a name="1082623"> </a><div class="CellBody"><a href="AttentionMgr.html#1082666"><span style="font-family: monospace">drawDetail</span></a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="1082625"> </a><div class="CellBody"><span style="font-family: monospace">kAttnCommandDrawList</span></div></td>
    <td><a name="1082630"> </a><div class="CellBody"><a href="AttentionMgr.html#1082695"><span style="font-family: monospace">drawList</span></a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="1082632"> </a><div class="CellBody"><span style="font-family: monospace">kAttnCommandPlaySound</span></div></td>
    <td><a name="1082634"> </a><div class="CellBody">None</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1082636"> </a><div class="CellBody"><span style="font-family: monospace">kAttnCommandCustomEffect</span></div></td>
    <td><a name="1082638"> </a><div class="CellBody">None</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1082640"> </a><div class="CellBody"><span style="font-family: monospace">kAttnCommandGoThere</span></div></td>
    <td><a name="1082642"> </a><div class="CellBody">None</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1082644"> </a><div class="CellBody"><span style="font-family: monospace">kAttnCommandGotIt</span></div></td>
    <td><a name="1082649"> </a><div class="CellBody"><a href="AttentionMgr.html#1082730"><span style="font-family: monospace">gotIt</span></a></div></td>
  </tr>
  <tr valign="top">
    <td><a name="1082651"> </a><div class="CellBody"><span style="font-family: monospace">kAttnCommandSnooze</span></div></td>
    <td><a name="1082653"> </a><div class="CellBody">None</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1082655"> </a><div class="CellBody"><span style="font-family: monospace">kAttnCommandIterate</span></div></td>
    <td><a name="1082660"> </a><div class="CellBody"><a href="AttentionMgr.html#1082753"><span style="font-family: monospace">iterate</span></a></div></td>
  </tr>
</table>




</h5><p class="Body">
  <a name="1082663"> </a>The structures that make up the <span style="font-family: monospace">AttnCommandArgsType</span> union are described in the following sections.
</p>

<h4 class="HCHeadC">
  <a name="1082666"> </a>drawDetail
</h4>
<p class="Body">
  <a name="1082667"> </a>When <span style="font-family: monospace">kAttnCommandDrawDetail</span> is passed to the application, either via the callback function or as a parameter accompanying the <a href="AppLaunchCodes.html#970327"><span style="font-family: monospace">sysAppLaunchCmdAttention</span></a> launch code, the application needs to draw the detailed contents of the attention dialog. The <span style="font-family: monospace">drawDetail</span> structure accompanies the <span style="font-family: monospace">kAttnCommandDrawDetail</span> command, and provides the information needed to draw the contents of that dialog.
</p>
<pre  class="Preformatted">
struct AttnCommandArgsDrawDetailTag {<a name="1082671"> </a>
  RectangleType bounds;
  Boolean firstTime;<a name="1082672"> </a>
  AttnFlagsType flags;<a name="1082673"> </a>
} drawDetail;<a name="1082674"> </a>
</pre>

<h4 class="HCHeadC">
  <a name="1082675"> </a>Field Descriptions
</h4>

<h5 class="TgTable">
  <a name="1082692"> </a>

<table width="450" border="0" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="1094567"> </a><div class="CellBody">bounds</div></td>
    <td><a name="1094569"> </a><div class="CellBody">Contains the window-relative bounding box for the area to draw. The clipping region is also set to the dimensions of this box to prevent accidental drawing outside.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1082682"> </a><div class="CellBody"><span style="font-family: monospace">firstTime</span></div></td>
    <td><a name="1082684"> </a><div class="CellBody">Set to <span style="font-family: monospace">true</span> if the user has not yet seen this item. The value of this field could be used to display attentions that the user hasn't seen before in some special way. <span style="font-family: monospace">firstTime</span> also indicates to your application whether or not the area in which your application is to draw has been erased. If <span style="font-family: monospace">firstTime</span> is <span style="font-family: monospace">false</span>, the area is not guaranteed to be blank; your application will need to erase it.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1082686"> </a><div class="CellBody"><span style="font-family: monospace">flags</span></div></td>
    <td><a name="1082688"> </a><div class="CellBody">The global user preferences for this attention attempt combined with the custom flags passed in by the developer. Only the lower 16 bits of this field have meaning; use <span style="font-family: monospace">kAttnFlagsSoundBit</span>, <span style="font-family: monospace">kAttnFlagsLEDBit</span>, <span style="font-family: monospace">kCustomFlagsVibrateBit</span>, and <span style="font-family: monospace">kAttnFlagsCustomEffectBit </span>(described under <a href="AttentionMgr.html#1082774">"AttnFlagsType"</a>) to interpret the contents of this field.</div></td>
  </tr>
</table>




</h5>
<h4 class="HCHeadC">
  <a name="1082695"> </a>drawList
</h4>
<p class="Body">
  <a name="1082696"> </a>When <span style="font-family: monospace">kAttnCommandDrawList</span> is passed to the application, either via the callback function or as a parameter accompanying the <a href="AppLaunchCodes.html#970327"><span style="font-family: monospace">sysAppLaunchCmdAttention</span></a> launch code, the application needs to draw the appropriate list item in the attention dialog. The <span style="font-family: monospace">drawList</span> structure accompanies the <span style="font-family: monospace">kAttnCommandDrawList</span> command, and provides the information needed to draw the contents of that dialog.
</p>
<pre  class="Preformatted">
struct AttnCommandArgsDrawListTag {<a name="1082700"> </a>
  RectangleType bounds;<a name="1082701"> </a>
  Boolean firstTime;<a name="1082702"> </a>
  AttnFlagsType flags;<a name="1082703"> </a>
  Boolean selected;<a name="1082704"> </a>
} drawList;<a name="1082705"> </a>
</pre>

<h4 class="HCHeadC">
  <a name="1082706"> </a>Field Descriptions
</h4>

<h5 class="TgTable">
  <a name="1082727"> </a>

<table width="450" border="0" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="1082709"> </a><div class="CellBody"><span style="font-family: monospace">bounds</span></div></td>
    <td><a name="1082711"> </a><div class="CellBody">Contains the window-relative bounding box for the area to draw. The clipping region is also set to the dimensions of this box to prevent accidental drawing outside.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1082713"> </a><div class="CellBody"><span style="font-family: monospace">firstTime</span></div></td>
    <td><a name="1082715"> </a><div class="CellBody">Set to <span style="font-family: monospace">true</span> if the user has not yet seen this item. The value of this field could be used, for example, to trigger a custom sound the first time this attention item is presented to the user.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1082717"> </a><div class="CellBody"><span style="font-family: monospace">flags</span></div></td>
    <td><a name="1082719"> </a><div class="CellBody">The global user preferences for this attention attempt combined with the custom flags passed in by the developer. Only the lower 16 bits of this field have meaning; use <span style="font-family: monospace">kAttnFlagsSoundBit</span>, <span style="font-family: monospace">kAttnFlagsLEDBit</span>, <span style="font-family: monospace">kCustomFlagsVibrateBit</span>, and <span style="font-family: monospace">kAttnFlagsCustomEffectBit </span>(described under <a href="AttentionMgr.html#1082774">"AttnFlagsType"</a>) to interpret the contents of this field.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1082724"> </a><div class="CellBody"><span style="font-family: monospace">selected</span></div></td>
    <td><a name="1082726"> </a><div class="CellBody">Set to <span style="font-family: monospace">true</span> if the item has been selected. It is up to your code to draw the item appropriately (typically by changing the UI colors) based upon the value of this flag.</div></td>
  </tr>
</table>




</h5>
<h4 class="HCHeadC">
  <a name="1082730"> </a>gotIt
</h4>
<p class="Body">
  <a name="1082731"> </a>When <span style="font-family: monospace">kAttnCommandGotIt</span> is passed to the application, either via the callback function or as a parameter accompanying the <a href="AppLaunchCodes.html#970327"><span style="font-family: monospace">sysAppLaunchCmdAttention</span></a> launch code, it is accompanied by an <span style="font-family: monospace">gotIt</span> structure. This structure indicates whether the <span style="font-family: monospace">kAttnCommandGotIt</span> command was generated because the user dismissed the attention, or whether the system is simply informing your application that <a href="AttentionMgr.html#1083290"><span style="font-family: monospace">AttnForgetIt</span></a> was called. Your application normally ignores the latter case if your application made the call to <span style="font-family: monospace">AttnForgetIt</span>.
</p>
<pre  class="Preformatted">
struct AttnCommandArgsGotItTag {<a name="1082738"> </a>
  Boolean dismissedByUser;<a name="1082739"> </a>
} gotIt;<a name="1082740"> </a>
</pre>

<h4 class="HCHeadC">
  <a name="1082741"> </a>Field Descriptions
</h4>

<h5 class="TgTable">
  <a name="1082750"> </a>

<table width="450" border="0" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="1082744"> </a><div class="CellBody"><span style="font-family: monospace">dismissedByUser</span></div></td>
    <td><a name="1082746"> </a><div class="CellBody"><span style="font-family: monospace">true</span> indicates that the user dismissed the attention. <span style="font-family: monospace">false</span> indicates that the <span style="font-family: monospace">kAttnCommandGotIt</span> command was generated by a call to <a href="AttentionMgr.html#1083290"><span style="font-family: monospace">AttnForgetIt</span></a>.</div></td>
  </tr>
</table>




</h5>
<h4 class="HCHeadC">
  <a name="1082753"> </a>iterate
</h4>
<p class="Body">
  <a name="1082754"> </a>When <span style="font-family: monospace">kAttnCommandIterate</span> is passed to the application, either via the callback function or as a parameter accompanying the <a href="AppLaunchCodes.html#970327"><span style="font-family: monospace">sysAppLaunchCmdAttention</span></a> launch code, it is accompanied by an <span style="font-family: monospace">iterate</span> structure. This structure contains any necessary data that the application may need in order to process the callback or launch code.
</p>
<pre  class="Preformatted">
struct AttnCommandArgsIterateTag {<a name="1082758"> </a>
  UInt32 iterationData;<a name="1082759"> </a>
} iterate;<a name="1082760"> </a>
</pre>

<h4 class="HCHeadC">
  <a name="1082761"> </a>Field Descriptions
</h4>

<h5 class="TgTable">
  <a name="1082770"> </a>

<table width="450" border="0" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="1082764"> </a><div class="CellBody"><span style="font-family: monospace">iterationData</span></div></td>
    <td><a name="1082766"> </a><div class="CellBody">Any necessary data that the application may need in order to process the callback or launch code. The value of this field is that which was originally passed to <a href="AttentionMgr.html#1083526"><span style="font-family: monospace">AttnIterate</span></a>.</div></td>
  </tr>
</table>




</h5>
<h2 class="HBHeadB">
  <a name="1082774"> </a>AttnFlagsType
<a href="#1082503"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1082781"> </a>Pass a value of this type to <a href="AttentionMgr.html#1083315"><span style="font-family: monospace">AttnGetAttention</span></a> and <a href="AttentionMgr.html#1083611"><span style="font-family: monospace">AttnUpdate</span></a> to specify what means the device should or should not use to get the user's attention. A value of this type is also passed back to your code either as a parameter to the callback function or, if no callback was specified, as part of the structure passed with the <a href="AppLaunchCodes.html#970327"><span style="font-family: monospace">sysAppLaunchCmdAttention</span></a> launch code. 
</p>
<pre  class="Preformatted">
typedef UInt32 AttnFlagsType;<a name="1082785"> </a>
</pre>
<p class="Body">
  <a name="1082786"> </a>Note that more bits may be defined if necessary to accommodate additional hardware.
</p>

<h5 class="TgTable">
  <a name="1082836"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="1082789"> </a><div class="CellHeading">Constant</div></th>
    <th><a name="1082791"> </a><div class="CellHeading">Value</div></th>
    <th><a name="1082793"> </a><div class="CellHeading">Description</div></th>
  </tr>
  <tr valign="top">
    <td><a name="1082796"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsSoundBit</span></div></td>
    <td><a name="1082798"> </a><div class="CellBody"><span style="font-family: monospace">0x0001</span></div></td>
    <td><a name="1082800"> </a><div class="CellBody">Plays a sound.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1082803"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsLEDBit</span></div></td>
    <td><a name="1082805"> </a><div class="CellBody"><span style="font-family: monospace">0x0002</span></div></td>
    <td><a name="1082807"> </a><div class="CellBody">Blinks an LED, if the device is so equipped.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1082810"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsVibrateBit</span></div></td>
    <td><a name="1082812"> </a><div class="CellBody"><span style="font-family: monospace">0x0004</span></div></td>
    <td><a name="1082814"> </a><div class="CellBody">Triggers vibration, if the device is so equipped.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1082817"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsCustomEffectBit</span></div></td>
    <td><a name="1082819"> </a><div class="CellBody"><span style="font-family: monospace">0x0008</span></div></td>
    <td><a name="1082821"> </a><div class="CellBody">Triggers an application-specific custom effect.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1082824"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsAllBits</span></div></td>
    <td><a name="1082826"> </a><div class="CellBody"><span style="font-family: monospace">0xFFFF</span></div></td>
    <td><a name="1082828"> </a><div class="CellBody">Uses all available means to get the user's attention.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1082831"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsUseUserSettings</span></div></td>
    <td><a name="1082833"> </a><div class="CellBody"><span style="font-family: monospace">0x0000</span></div></td>
    <td><a name="1082835"> </a><div class="CellBody">System-wide preferences determine what means are used to get the user's attention.</div></td>
  </tr>
</table>




</h5><p class="Body">
  <a name="1082837"> </a>The following constant values can be used to override the user's settings and force or prevent specific behaviors:
</p>

<h5 class="TgTable">
  <a name="1082915"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="1082840"> </a><div class="CellHeading">Constant</div></th>
    <th><a name="1082842"> </a><div class="CellHeading">Value</div></th>
    <th><a name="1082844"> </a><div class="CellHeading">Description</div></th>
  </tr>
  <tr valign="top">
    <td><a name="1082847"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsAlwaysSound</span></div></td>
    <td><a name="1082849"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsSoundBit</span></div></td>
    <td><a name="1082851"> </a><div class="CellBody">Play a sound, regardless of the user's settings.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1082854"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsAlwaysLED</span></div></td>
    <td><a name="1082856"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsLEDBit</span></div></td>
    <td><a name="1082858"> </a><div class="CellBody">Blink an LED, if the device is so equipped, regardless of the user's settings.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1082861"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsAlwaysVibrate</span></div></td>
    <td><a name="1082863"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsVibrateBit</span></div></td>
    <td><a name="1082865"> </a><div class="CellBody">Vibrate, if the device is so equipped, regardless of the user's settings.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1082868"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsAlwaysCustomEffect</span></div></td>
    <td><a name="1082870"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsCustomEffectBit</span></div></td>
    <td><a name="1082872"> </a><div class="CellBody">Trigger an application-specific custom effect.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1082875"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsEverything</span></div></td>
    <td><a name="1082877"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsAllBits</span></div></td>
    <td><a name="1082879"> </a><div class="CellBody">Use every available means to get the user's attention, regardless of the user's settings.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1082882"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsNoSound</span></div></td>
    <td><a name="1082884"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsSoundBit &lt;&lt; 16</span></div></td>
    <td><a name="1082886"> </a><div class="CellBody">Prevent a sound from being played, regardless of the user's settings.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1082889"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsNoLED</span></div></td>
    <td><a name="1082891"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsLEDBit &lt;&lt; 16</span></div></td>
    <td><a name="1082893"> </a><div class="CellBody">Prevent the LED from flashing, regardless of the user's settings.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1082896"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsNoVibrate</span></div></td>
    <td><a name="1082898"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsVibrateBit &lt;&lt; 16</span></div></td>
    <td><a name="1082900"> </a><div class="CellBody">Prevent vibration, regardless of the user's settings.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1082903"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsNoCustomEffect</span></div></td>
    <td><a name="1082905"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsCustomEffectBit &lt;&lt; 16</span></div></td>
    <td><a name="1082907"> </a><div class="CellBody">Prevent triggering of the application-specific custom effect.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1082910"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsNothing</span></div></td>
    <td><a name="1082912"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsAllBits &lt;&lt; 16</span></div></td>
    <td><a name="1082914"> </a><div class="CellBody">Disable all attention-getting mechanisms, regardless of the user's settings.</div></td>
  </tr>
</table>




</h5><p class="Body">
  <a name="1082916"> </a>These constants can be used in combination. For example, to disable both sound and the LED, use <span style="font-family: monospace">kAttnFlagsNoSound | kAttnFlagsNoLED</span>.
</p>
<p class="Body">
  <a name="1082917"> </a>If neither <span style="font-family: monospace">kAttnFlagsAlwaysSound</span> nor <span style="font-family: monospace">kAttnFlagsNoSound</span> is set for a given attention item, a sound plays if and only if the user's preference is to play a sound and the user's preference for alarm volume is non-zero.
</p>

<h2 class="HBHeadB">
  <a name="1082920"> </a>AttnLaunchCodeArgsType
<a href="#1082503"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1082921"> </a>If a callback function is not specified in a call to <a href="AttentionMgr.html#1083315"><span style="font-family: monospace">AttnGetAttention</span></a> and the Attention Manager needs your code to draw the details of your attention in the attention dialog or perform another attention-specific function, it sends a <a href="AppLaunchCodes.html#970327"><span style="font-family: monospace">sysAppLaunchCmdAttention</span></a> launch code to your application. Along with the launch code, it passes a pointer to the following structure, which indicates both what your code is expected to do and identifies the attention that triggered the launch code:
</p>
<pre  class="Preformatted">
typedef struct {<a name="1082928"> </a>
  AttnCommandType command;<a name="1082929"> </a>
  UInt32 userData;<a name="1082930"> </a>
  AttnCommandArgsType *commandArgsP;<a name="1082931"> </a>
} AttnLaunchCodeArgsType;<a name="1082932"> </a>
</pre>

<h4 class="HCHeadC">
  <a name="1082933"> </a>Field Descriptions
</h4>

<h5 class="TgTable">
  <a name="1082950"> </a>

<table width="450" border="0" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="1082936"> </a><div class="CellBody"><span style="font-family: monospace">command</span></div></td>
    <td><a name="1082938"> </a><div class="CellBody">Indicates what your code is being requested to do. The complete list of possible commands are described in the definition of <a href="AttentionMgr.html#1082535"><span style="font-family: monospace">AttnCommandType</span></a>.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1082943"> </a><div class="CellBody"><span style="font-family: monospace">userData</span></div></td>
    <td><a name="1082945"> </a><div class="CellBody">Identifier that distinguishes the particular attention item from others made by this application. This identifier was specified when the attention item was created.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1082947"> </a><div class="CellBody"><span style="font-family: monospace">commandArgsP</span></div></td>
    <td><a name="1082949"> </a><div class="CellBody">Pointer to command-specific arguments. See the description of each command for a discussion of that command's arguments.</div></td>
  </tr>
</table>




</h5><p class="Body">
  <a name="1082951"> </a>When processing the launch code be aware that your application doesn't have application globals available to it; it is important that anything necessary to draw or otherwise display be available through <span style="font-family: monospace">commandArgsP</span>.
</p>

<h2 class="HBHeadB">
  <a name="1082954"> </a>AttnLevelType
<a href="#1082503"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1082955"> </a>Attention attempts can either be insistent or subtle. Insistent attention attempts make a serious effort to get the user's attention, by both displaying a dialog and possibly by triggering one or more special effects, such as blinking a light, vibrating, or playing a sound. Other alerts are of a less serious nature and shouldn't disrupt the user. Consequently, subtle attention attempts typically make the attention indicator blink and may trigger one or more special effects, but don't display the Attention Manager dialog. The user can then work until a suitable time, at which point they can tap on the indicator to see what needs their attention. Subtle attention attempts might be used for telling the user that they have new e-mail, or perhaps that a holiday or birthday is coming up. 
</p>
<pre  class="Preformatted">
typedef UInt16 AttnLevelType;<a name="1082956"> </a>
</pre>
<p class="Body">
  <a name="1082957"> </a>The following table lists the two defined values for <span style="font-family: monospace">AttnLevelType</span>:
</p>

<h5 class="TgTable">
  <a name="1082973"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="1082960"> </a><div class="CellHeading">Constant</div></th>
    <th><a name="1082962"> </a><div class="CellHeading">Description</div></th>
  </tr>
  <tr valign="top">
    <td><a name="1082965"> </a><div class="CellBody"><span style="font-family: monospace">kAttnLevelInsistent</span></div></td>
    <td><a name="1082967"> </a><div class="CellBody">An insistent attention attempt. Make a serious effort to get the user's attention by displaying a dialog and optionally triggering one or more special effects.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1082970"> </a><div class="CellBody"><span style="font-family: monospace">kAttnLevelSubtle</span></div></td>
    <td><a name="1082972"> </a><div class="CellBody">A subtle attention attempt. Notify the user using special effects, but don't disrupt the user with the dialog if the device is in use.</div></td>
  </tr>
</table>




</h5><p class="Body">
  <a name="1082974"> </a>Note that user preferences for the various special effects can't be set separately for subtle and insistent attention attempts. If your application needs to vary the effects based upon the <span style="font-family: monospace">AttnLevelType</span>, pass a suitable value for the <span style="font-family: monospace">flags</span> parameter in your <a href="AttentionMgr.html#1083315"><span style="font-family: monospace">AttnGetAttention</span></a> call.
</p>

<h2 class="HaHeadA">
  <a name="1082979"> </a>Attention Manager Constants 
<a href="#1082503"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1082980"> </a>In addition to the constant values defined specifically for use with <a href="AttentionMgr.html#1082535"><span style="font-family: monospace">AttnCommandType</span></a>, <a href="AttentionMgr.html#1082774"><span style="font-family: monospace">AttnFlagsType</span></a>, and <a href="AttentionMgr.html#1082954"><span style="font-family: monospace">AttnLevelType</span></a>, the Attention Manager defines the following constant types:
</p>

  <a name="1082993"> </a><p class="B1Bullet"> &#8226; <a href="AttentionMgr.html#1083003">Error Code Constants</a></p>

  <a name="1082997"> </a><p class="B1Bullet"> &#8226; <a href="AttentionMgr.html#1083020">Attention Manager Drawing Constants</a></p>

  <a name="1083001"> </a><p class="B1Bullet"> &#8226; <a href="AttentionMgr.html#1083076">Attention Manager Feature Constants</a></p>

<h2 class="HBHeadB">
  <a name="1083003"> </a>Error Code Constants
<a href="#1082503"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1083004"> </a>The Attention Manager returns the following error code under the circumstances described below.
</p>

<h5 class="TgTable">
  <a name="1083018"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="1083007"> </a><div class="CellHeading">Constant</div></th>
    <th><a name="1083009"> </a><div class="CellHeading">Description</div></th>
  </tr>
  <tr valign="top">
    <td><a name="1083012"> </a><div class="CellBody"><span style="font-family: monospace">attnErrMemory</span></div></td>
    <td><a name="1083017"> </a><div class="CellBody">Returned by <a href="AttentionMgr.html#1083315"><span style="font-family: monospace">AttnGetAttention</span></a> when there is insufficient memory to perform the requested operation.</div></td>
  </tr>
</table>




</h5>
<h2 class="HBHeadB">
  <a name="1083020"> </a>Attention Manager Drawing Constants
<a href="#1082503"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1083021"> </a>The following four constants define the on-screen boundaries of the attention indicator:
</p>

<h5 class="TgTable">
  <a name="1083053"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="1083024"> </a><div class="CellHeading">Constant</div></th>
    <th><a name="1083026"> </a><div class="CellHeading">Value</div></th>
    <th><a name="1083028"> </a><div class="CellHeading">Description</div></th>
  </tr>
  <tr valign="top">
    <td><a name="1083030"> </a><div class="CellBody"><span style="font-family: monospace">kAttnIndicatorLeft</span></div></td>
    <td><a name="1083032"> </a><div class="CellBody">0</div></td>
    <td><a name="1083034"> </a><div class="CellBody">The left-hand edge of the attention indicator.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1083036"> </a><div class="CellBody"><span style="font-family: monospace">kAttnIndicatorTop</span></div></td>
    <td><a name="1083038"> </a><div class="CellBody">0</div></td>
    <td><a name="1083040"> </a><div class="CellBody">The top-most edge of the attention indicator.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1083042"> </a><div class="CellBody"><span style="font-family: monospace">kAttnIndicatorWidth</span></div></td>
    <td><a name="1083044"> </a><div class="CellBody">16</div></td>
    <td><a name="1083046"> </a><div class="CellBody">The width of the attention indicator.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1083048"> </a><div class="CellBody"><span style="font-family: monospace">kAttnIndicatorHeight</span></div></td>
    <td><a name="1083050"> </a><div class="CellBody">16</div></td>
    <td><a name="1083052"> </a><div class="CellBody">The height of the attention indicator.</div></td>
  </tr>
</table>




</h5><p class="Body">
  <a name="1083054"> </a>The following two constants are used when drawing the list view. Applications should use these constants to format the display of information in the Attention Manager's list view. Draw the application's small icon centered within the first <span style="font-family: monospace">kAttnListMaxIconWidth</span> pixels of the drawing bounds. Then draw two lines of text describing the attention, left-justified, starting at <span style="font-family: monospace">kAttnListTextOffset</span> from the left edge of the drawing bounds.
</p>

<h5 class="TgTable">
  <a name="1083074"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="1083057"> </a><div class="CellHeading">Constant</div></th>
    <th><a name="1083059"> </a><div class="CellHeading">Value</div></th>
    <th><a name="1083061"> </a><div class="CellHeading">Description</div></th>
  </tr>
  <tr valign="top">
    <td><a name="1083063"> </a><div class="CellBody"><span style="font-family: monospace">kAttnListMaxIconWidth</span></div></td>
    <td><a name="1083065"> </a><div class="CellBody">15</div></td>
    <td><a name="1083067"> </a><div class="CellBody">Maximum width of the application's icon. If the icon is narrower than this, it should be drawn centered within this width.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1083069"> </a><div class="CellBody"><span style="font-family: monospace">kAttnListTextOffset</span></div></td>
    <td><a name="1083071"> </a><div class="CellBody">17</div></td>
    <td><a name="1083073"> </a><div class="CellBody">Offset, from the left-hand edge of the drawing bounds, of the textual description of the attention.</div></td>
  </tr>
</table>




</h5>
<h2 class="HBHeadB">
  <a name="1083076"> </a>Attention Manager Feature Constants
<a href="#1082503"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1083077"> </a>The Attention Manager defines a read-only feature (<span style="font-family: monospace">'attn', 0</span>) that indicates the current user settings and capabilities of the hardware. The upper 16 bits of the feature indicate whether or not the hardware has the capability to perform that sort of alert. The lower 16 bits indicate whether the user has currently enabled that sort of alert.
</p>

<h5 class="TgTable">
  <a name="1083099"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="1083080"> </a><div class="CellHeading">Constant</div></th>
    <th><a name="1083082"> </a><div class="CellHeading">Value</div></th>
    <th><a name="1083084"> </a><div class="CellHeading">Description</div></th>
  </tr>
  <tr valign="top">
    <td><a name="1083087"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFtrCreator</span></div></td>
    <td><a name="1083089"> </a><div class="CellBody"><span style="font-family: monospace">'attn'</span></div></td>
    <td><a name="1083091"> </a><div class="CellBody">Attention Manager feature creator.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1083094"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFtrCapabilities</span></div></td>
    <td><a name="1083096"> </a><div class="CellBody"><span style="font-family: monospace">0</span></div></td>
    <td><a name="1083098"> </a><div class="CellBody">Attention Manager feature number.</div></td>
  </tr>
</table>




</h5><p class="Body">
  <a name="1083100"> </a>When working with the value obtained with <span style="font-family: monospace">FtrGet</span>, use the following two constants to separate those bits that contain the user settings from those bits that identify the device's capabilities:
</p>

<h5 class="TgTable">
  <a name="1083122"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="1083103"> </a><div class="CellHeading">Constant</div></th>
    <th><a name="1083105"> </a><div class="CellHeading">Value</div></th>
    <th><a name="1083107"> </a><div class="CellHeading">Description</div></th>
  </tr>
  <tr valign="top">
    <td><a name="1083110"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsUserSettingsMask</span></div></td>
    <td><a name="1083112"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsAllBits</span></div></td>
    <td><a name="1083114"> </a><div class="CellBody">Mask to isolate those bits that contain the user settings.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1083117"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsCapabilitiesMask</span></div></td>
    <td><a name="1083119"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsAllBits &lt;&lt; 16</span></div></td>
    <td><a name="1083121"> </a><div class="CellBody">Mask to isolate those bits that contain the device capabilities.</div></td>
  </tr>
</table>




</h5><p class="Body">
  <a name="1083123"> </a>These constants can be used to interpret the device capabilities (<span style="font-family: monospace">kAttnFlagsHas...</span>) and the user settings (<span style="font-family: monospace">kAttnFlagsUserWants...</span>):
</p>

<h5 class="TgTable">
  <a name="1083187"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="1083126"> </a><div class="CellHeading">Constant</div></th>
    <th><a name="1083128"> </a><div class="CellHeading">Value</div></th>
    <th><a name="1083130"> </a><div class="CellHeading">Description</div></th>
  </tr>
  <tr valign="top">
    <td><a name="1083133"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsHasLED</span></div></td>
    <td><a name="1083135"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsLEDBit &lt;&lt; 16</span></div></td>
    <td><a name="1083137"> </a><div class="CellBody">The device has an LED that can be illuminated to indicate an alert.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1083140"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsHasSound</span></div></td>
    <td><a name="1083142"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsSoundBit &lt;&lt; 16</span></div></td>
    <td><a name="1083144"> </a><div class="CellBody">The device is capable of playing a sound to indicate an alert.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1083147"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsHasVibrate</span></div></td>
    <td><a name="1083149"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsVibrateBit &lt;&lt; 16</span></div></td>
    <td><a name="1083151"> </a><div class="CellBody">The device is capable of vibrating to indicate an alert.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1083154"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsHasCustomEffect</span></div></td>
    <td><a name="1083156"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsCustomEffectBit &lt;&lt; 16</span></div></td>
    <td><a name="1083158"> </a><div class="CellBody">Not used.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1083161"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsUserWantsLED</span></div></td>
    <td><a name="1083163"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsLEDBit</span></div></td>
    <td><a name="1083165"> </a><div class="CellBody">The user wants the LED illuminated to signal an alert.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1083168"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsUserWantsSound</span></div></td>
    <td><a name="1083170"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsSoundBit</span></div></td>
    <td><a name="1083172"> </a><div class="CellBody">The user wants a sound played to signal an alert.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1083175"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsUserWantsVibrate</span></div></td>
    <td><a name="1083177"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsVibrateBit</span></div></td>
    <td><a name="1083179"> </a><div class="CellBody">The user wants the device to vibrate to signal an alert.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1083182"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsUserWantsCustomEffect</span></div></td>
    <td><a name="1083184"> </a><div class="CellBody"><span style="font-family: monospace">kAttnFlagsCustomEffectBit</span></div></td>
    <td><a name="1083186"> </a><div class="CellBody">Not used.</div></td>
  </tr>
</table>




</h5>
<h2 class="HaHeadA">
  <a name="1083189"> </a>Attention Manager Functions 
<a href="#1082503"><img src="images/top.gif" border="0"></a></h2>


<h2 class="HBHeadB">
  <a name="1083238"> </a>AttnDoSpecialEffects
<a href="#1082503"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1083239"> </a>Purpose 	
</h4>
<p class="Body">
  <a name="1083240"> </a>Triggers an Attention Manager special effect set.
</p>
<h4 class="RefSide">
  <a name="1083241"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1083242"> </a>AttentionMgr.h
</p>
<h4 class="RefSide">
  <a name="1083243"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1083244"> </a>Err AttnDoSpecialEffects (AttnFlagsType flags)
</p>
<h4 class="RefSide">
  <a name="1083245"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1083246"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; flags</span></td><td valign="top">Specifies the behavior to be exhibited by this special effects request. See <a href="AttentionMgr.html#1082774"><span style="font-family: monospace">AttnFlagsType</span></a> for the various bits that make up this flag. Note that the behavior is undefined if you set incompatible flags. Supply <span style="font-family: monospace">kAttnFlagsUseUserSettings</span> to have this attention request follow the user's pre-set preferences.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1083250"> </a>Result 
</h4>
<p class="Body">
  <a name="1083251"> </a>Returns <span style="font-family: monospace">errNone</span> if no problems were encountered. Returns <span style="font-family: monospace">attnErrMemory</span> if there wasn't enough memory to accommodate the attention request.
</p>
<h4 class="RefSide">
  <a name="1083252"> </a>Comments 
</h4>
<p class="Body">
  <a name="1083253"> </a>This routine is provided as a convenience for applications that need to trigger special effects. It does the equivalent of one "nag" of an Attention Manager special effect set.
</p>
<h4 class="RefSide">
  <a name="1083254"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1083258"> </a>Implemented only if <a href="CompatibilityApdx.html#971763">4.0 New Feature Set</a> is present.
</p>

<h2 class="HBHeadB">
  <a name="1083290"> </a>AttnForgetIt
<a href="#1082503"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1083291"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1083292"> </a>Provides a way for applications to tell the Attention Manager to forget about an attention item.
</p>
<h4 class="RefSide">
  <a name="1083293"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1083294"> </a>AttentionMgr.h
</p>
<h4 class="RefSide">
  <a name="1083295"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1083296"> </a>Boolean AttnForgetIt (UInt16 cardNo, LocalID dbID,<br>UInt32 userData)
</p>
<h4 class="RefSide">
  <a name="1083297"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1083298"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; cardNo</span></td><td valign="top">Card number on which the application making the request resides.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1083299"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; dbID</span></td><td valign="top">Database ID of the application making the request.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1083300"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; userData</span></td><td valign="top">Identifier that distinguishes the attention attempt from others made by the same application. This identifier can be an integer, a pointer, or any other 32-bit value.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1083301"> </a>Result 
</h4>
<p class="Body">
  <a name="1083302"> </a>Returns <span style="font-family: monospace">true</span> if the item was removed, <span style="font-family: monospace">false</span> if a matching item was not found.
</p>
<h4 class="RefSide">
  <a name="1083303"> </a>Comments 
</h4>
<p class="Body">
  <a name="1083304"> </a>You typically call this function after your application has handled a "Go There" event and the user has read about the item. For example, if there is a subtle attention pending that says "you have three e-mail messages waiting" and you go to the e-mail application on your own and read your e-mail, the subtle notification must disappear. <span style="font-family: monospace">AttnForgetIt</span> allows the application to do this.
</p>
<p class="Body">
  <a name="1083305"> </a>Note that this call can be made when the Attention Manager dialog is on-screen (though presumably that is rare, since the application is probably not doing much at this point). If this call removes a list item, then the Attention Manager may call back into other items to redraw the list.
</p>
<p class="Body">
  <a name="1083306"> </a>If this call removes the last item when any indicator is present, the indicator disappears. If this call removes the last unread item, but read items remain, the indicator switches from blinking to steady state.
</p>
<h4 class="RefSide">
  <a name="1083307"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1083311"> </a>Implemented only if <a href="CompatibilityApdx.html#971763">4.0 New Feature Set</a> is present.
</p>

<h2 class="HBHeadB">
  <a name="1083315"> </a>AttnGetAttention
<a href="#1082503"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1083316"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1083317"> </a>Requests the user's attention.
</p>
<h4 class="RefSide">
  <a name="1083318"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1083319"> </a>AttentionMgr.h
</p>
<h4 class="RefSide">
  <a name="1083320"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1083321"> </a>Err AttnGetAttention (UInt16 cardNo, LocalID dbID,<br>UInt32 userData, AttnCallbackProc *callbackFnP,<br>AttnLevelType level, AttnFlagsType flags,<br>UInt16 nagRateInSeconds, UInt16 nagRepeatLimit)
</p>
<h4 class="RefSide">
  <a name="1083322"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1083323"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; cardNo</span></td><td valign="top">Card number on which the application making the request resides.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1083324"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; dbID</span></td><td valign="top">Database ID of the application making the request.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1083325"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; userData</span></td><td valign="top">Application-specific data that is later passed back to your code through the callback function. If no callback function is specified in the <span style="font-family: monospace">callbackFnP</span> parameter, this data is included in what is passed along with a <a href="AppLaunchCodes.html#970327"><span style="font-family: monospace">sysAppLaunchCmdAttention</span></a> launch code. <span style="font-family: monospace">userData</span> can be an integer, a pointer, or any other 32-bit value as needed by your application. Most applications pass the unique ID or other key for the record which caused the attention request. <span style="font-family: monospace">userData</span> is also used to distinguish a given attention attempt from others made by the same application. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1083329"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; callbackFnP</td><td valign="top"></span>Pointer to the function registered by the application to be called by the Attention Manager when the attention is displayed or removed.  See <a href="AttentionMgr.html#1083669"><span style="font-family: monospace">AttnCallbackProc</span></a>, below, for the callback function's parameters. Supply <span style="font-family: monospace">NULL</span> to instead have a <a href="AppLaunchCodes.html#970327"><span style="font-family: monospace">sysAppLaunchCmdAttention</span></a> launch code sent to the application that made the attention request whenever the attention is displayed or removed.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1083336"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; level</span></td><td valign="top">Indicates the annoyance level. Pass one of the values defined for <a href="AttentionMgr.html#1082954"><span style="font-family: monospace">AttnLevelType</span></a>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1083340"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; flags</span></td><td valign="top">Behavior override, if necessary, for this attention request. This override allows, for instance, silent alarms or noisy alarms. See <a href="AttentionMgr.html#1082774"><span style="font-family: monospace">AttnFlagsType</span></a> for the various bits that make up this flag. Note that the behavior is undefined if you set incompatible flags. Supply <span style="font-family: monospace">kAttnFlagsUseUserSettings</span> to have this attention request follow the user's pre-set preferences.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1083344"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; nagRateInSeconds</td><td valign="top"></span>How long to wait before nagging.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1083345"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; nagRepeatLimit</td><td valign="top"></span>How many times to nag, excluding the first attempt.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1083346"> </a>Result 
</h4>
<p class="Body">
  <a name="1083347"> </a>Returns <span style="font-family: monospace">errNone</span> if no problems were encountered. Returns <span style="font-family: monospace">attnErrMemory</span> if there wasn't enough memory to accommodate the attention request.
</p>
<h4 class="RefSide">
  <a name="1083348"> </a>Comments 
</h4>
<p class="Body">
  <a name="1083349"> </a>The combination of <span style="font-family: monospace">cardNo</span>, <span style="font-family: monospace">dbID</span> and <span style="font-family: monospace">userData</span> uniquely identify an attention-getting attempt. If another call is made to <span style="font-family: monospace">AttnGetAttention</span> with identical values for these arguments, an error is reported. To update or delete an existing attention item, pass these same values to <a href="AttentionMgr.html#1083611"><span style="font-family: monospace">AttnUpdate</span></a> or <a href="AttentionMgr.html#1083290"><span style="font-family: monospace">AttnForgetIt</span></a>, respectively.
</p>
<p class="Body">
  <a name="1083356"> </a>In response to <span style="font-family: monospace">AttnGetAttention</span>, the behavior of the operating system or application depends on whether there already are other demands and on the annoyance level passed in the <span style="font-family: monospace">AttnGetAttention</span> call.
</p>

  <a name="1083357"> </a><p class="B1Bullet"> &#8226; No other demands, insistent attention request:</p>
<p class="Indented1"> <a name="1083358"> </a>The Attention Manager puts up a dialog that details the current attempt to get the user's attention.</p>

  <a name="1083359"> </a><p class="B1Bullet"> &#8226; Other demands exist, insistent attention request:</p>
<p class="Indented1"> <a name="1083360"> </a>The Attention Manager adds a summary of the current attempt to get the user's attention to a list of things that need attention. If the dialog is currently in detail form-which is the case if just one other demand exists-the view is refreshed, changing from detail to list form. In this case, the pen and key event queues are also flushed so that any user events that are happening while the display is changing are explicitly ignored. Two exceptions to this behavior exist: if all existing attentions are subtle, or if all existing insistent attentions were snoozed, the new insistent attention brings up the dialog in detail mode, rather than list mode.</p>

  <a name="1083361"> </a><p class="B1Bullet"> &#8226; Subtle attention request:</p>
<p class="Indented1"> <a name="1083362"> </a>The Attention Manager starts the attention indicator blinking, and adds the item to its list for later display, unless the dialog is currently being displayed in list mode. In this event, the new subtle attention item simply appears in the list; the indicator does not blink to announce it.</p>
<h4 class="RefSide">
  <a name="1083363"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1083367"> </a>Implemented only if <a href="CompatibilityApdx.html#971763">4.0 New Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1083368"> </a>See Also 
</h4>
<p class="Body">
  <a name="1083372"> </a><a href="AttentionMgr.html#1083611"><span style="font-family: monospace">AttnUpdate</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1083376"> </a>AttnGetCounts
<a href="#1082503"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1083377"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1083378"> </a>Returns the number of attention items that are currently pending.
</p>
<h4 class="RefSide">
  <a name="1083379"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1083380"> </a>AttentionMgr.h
</p>
<h4 class="RefSide">
  <a name="1083381"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1083382"> </a>UInt16 AttnGetCounts (UInt16 cardNo, LocalID dbID,<br>UInt16 *insistentCountP, UInt16 *subtleCountP)
</p>
<h4 class="RefSide">
  <a name="1083383"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1083384"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; cardNo</span></td><td valign="top">If this value is zero, counts pending attention items from applications on all cards. Otherwise, counts only pending attention items from applications on the specified card.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1083385"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; dbID</span></td><td valign="top">If this value is zero, counts pending attention items from all applications. Otherwise, counts only pending attention items from applications with the specified database ID.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1083386"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;- <span style="font-family: monospace">insistentCountP</td><td valign="top"></span>Pointer to a 16-bit unsigned value that is filled in with the number of insistent items pending. Pass <span style="font-family: monospace">NULL</span> for this parameter if you don't need to know the number of insistent items that are pending.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1083387"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;- <span style="font-family: monospace">subtleCountP</span></td><td valign="top">Pointer to a 16-bit unsigned value that is filled in with the number of subtle items pending. Pass <span style="font-family: monospace">NULL</span> for this parameter if you don't need to know the number of subtle items that are pending.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1083388"> </a>Result 
</h4>
<p class="Body">
  <a name="1083389"> </a>Returns the total number of items, both insistent and subtle, that are currently pending.
</p>
<h4 class="RefSide">
  <a name="1083390"> </a>Comments 
</h4>
<p class="Body">
  <a name="1083391"> </a>Call this function if you need to exhibit different behavior if attention items are already pending.
</p>
<h4 class="RefSide">
  <a name="1083392"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1083396"> </a>Implemented only if <a href="CompatibilityApdx.html#971763">4.0 New Feature Set</a> is present.
</p>

<h2 class="HBHeadB">
  <a name="1083451"> </a>AttnIndicatorEnable
<a href="#1082503"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1083452"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1083453"> </a>Enables and disables the on-screen attention indicator.
</p>
<h4 class="RefSide">
  <a name="1083454"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1083455"> </a>AttentionMgr.h
</p>
<h4 class="RefSide">
  <a name="1083456"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1083457"> </a>void AttnIndicatorEnable (Boolean enableIt)
</p>
<h4 class="RefSide">
  <a name="1083458"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1083459"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">enableIt</span></td><td valign="top"><span style="font-family: monospace">true</span> to enable the attention indicator, <span style="font-family: monospace">false</span> to disable it.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1083460"> </a>Result 
</h4>
<p class="Body">
  <a name="1083461"> </a>Returns nothing.
</p>
<h4 class="RefSide">
  <a name="1083462"> </a>Comments 
</h4>
<p class="Body">
  <a name="1083463"> </a>This function is used by applications to enable or disable the on-screen attention indicator. The indicator only blinks when all of the following are true:
</p>

  <a name="1083464"> </a><p class="B1Bullet"> &#8226; The indicator is enabled.</p>

  <a name="1083465"> </a><p class="B1Bullet"> &#8226; The indicator is being asked to blink by the attention manager.</p>

  <a name="1083466"> </a><p class="B1Bullet"> &#8226; The operating system isn't using the display in such a way as to prevent the attention indicator from showing, such as when the menu bar is being displayed or when a modal dialog is on top of the form.</p>
<p class="Body">
  <a name="1083467"> </a>The attention indicator is enabled by default. If your application controls the upper portion of the screen and needs to prevent the attention indicator from being displayed, call <a href="AttentionMgr.html#1083451"><span style="font-family: monospace">AttnIndicatorEnable</span></a> and pass it a value of <span style="font-family: monospace">false</span>. 
</p>
<h4 class="RefSide">
  <a name="1083471"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1083475"> </a>Implemented only if <a href="CompatibilityApdx.html#971763">4.0 New Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1083476"> </a>See Also 
</h4>
<p class="Body">
  <a name="1083480"> </a><a href="AttentionMgr.html#1083483"><span style="font-family: monospace">AttnIndicatorEnabled</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1083483"> </a>AttnIndicatorEnabled
<a href="#1082503"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1083484"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1083485"> </a>Returns whether the on-screen attention indicator is currently enabled.
</p>
<h4 class="RefSide">
  <a name="1083486"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1083487"> </a>AttentionMgr.h
</p>
<h4 class="RefSide">
  <a name="1083488"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1083489"> </a>Boolean AttnIndicatorEnabled (void)
</p>
<h4 class="RefSide">
  <a name="1083490"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1083491"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">None.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1083492"> </a>Result 
</h4>
<p class="Body">
  <a name="1083493"> </a>Returns <span style="font-family: monospace">true</span> if the on-screen attention indicator is currently enabled, <span style="font-family: monospace">false</span> otherwise.
</p>
<h4 class="RefSide">
  <a name="1083494"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1083498"> </a>Implemented only if <a href="CompatibilityApdx.html#971763">4.0 New Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1083499"> </a>See Also 
</h4>
<p class="Body">
  <a name="1083503"> </a><a href="AttentionMgr.html#1083451"><span style="font-family: monospace">AttnIndicatorEnable</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1083526"> </a>AttnIterate
<a href="#1082503"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1083527"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1083528"> </a>Instructs the Attention Manager to check each attention item currently pending and, for those that match the specified card number and database ID, invoke the item's callback routine. If a callback routine was not specified in the request, the <a href="AppLaunchCodes.html#970327"><span style="font-family: monospace">sysAppLaunchCmdAttention</span></a> launch code is sent to the application that made the attention request.
</p>
<h4 class="RefSide">
  <a name="1083532"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1083533"> </a>AttentionMgr.h
</p>
<h4 class="RefSide">
  <a name="1083534"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1083535"> </a>void AttnIterate (UInt16 cardNo, LocalID dbID,<br>UInt32 iterationData)
</p>
<h4 class="RefSide">
  <a name="1083536"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1083537"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; cardNo</span></td><td valign="top">Card number on which the application that made the request resides.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1083538"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; dbID</span></td><td valign="top">Database ID of the application that made the request.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1083539"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; iterationData</td><td valign="top"></span>Any necessary data that the application may need in order to process the callback or launch code. See the description of the <a href="AttentionMgr.html#1083669"><span style="font-family: monospace">AttnCallbackProc</span></a> function for more information on this parameter.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1083543"> </a>Result 
</h4>
<p class="Body">
  <a name="1083544"> </a>Returns nothing.
</p>
<h4 class="RefSide">
  <a name="1083545"> </a>Comments 
</h4>
<p class="Body">
  <a name="1083546"> </a>This function iterates through all of the attention requests made by this application and uses the callback or launch code for each to inform the application about the attention request. When an application receives a <a href="AppLaunchCodes.html#970999"><span style="font-family: monospace">sysAppLaunchCmdSyncNotify</span></a> launch code, signifying that a HotSync occurred that affected that application's databases, the application typically calls <span style="font-family: monospace">AttnIterate</span> so it can remove attention requests for records that may have been removed during the HotSync. Applications can also call <a href="AttentionMgr.html#1083315"><span style="font-family: monospace">AttnGetAttention</span></a> after a HotSync, if necessary.
</p>
<p class="Body">
  <a name="1083556"> </a>Note that you can call <a href="AttentionMgr.html#1083290"><span style="font-family: monospace">AttnForgetIt</span></a> inside the iteration since it only marks the record for deletion and thus doesn't confuse the iteration.
</p>
<h4 class="RefSide">
  <a name="1083557"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1083561"> </a>Implemented only if <a href="CompatibilityApdx.html#971763">4.0 New Feature Set</a> is present.
</p>

<h2 class="HBHeadB">
  <a name="1083565"> </a>AttnListOpen
<a href="#1082503"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1083566"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1083567"> </a>Displays the attention dialog in list mode and, after the user has dismissed it, acts accordingly based on how it was dismissed.
</p>
<h4 class="RefSide">
  <a name="1083568"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1083569"> </a>AttentionMgr.h
</p>
<h4 class="RefSide">
  <a name="1083570"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1083571"> </a>void AttnListOpen (void)
</p>
<h4 class="RefSide">
  <a name="1083572"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1083573"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">None.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1083574"> </a>Result 
</h4>
<p class="Body">
  <a name="1083575"> </a>Returns nothing.
</p>
<h4 class="RefSide">
  <a name="1083576"> </a>Comments 
</h4>
<p class="Body">
  <a name="1083577"> </a>This function allows applications that do not provide the blinking attention indicator to open the list, if necessary.
</p>
<h4 class="RefSide">
  <a name="1083578"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1083582"> </a>Implemented only if <a href="CompatibilityApdx.html#971763">4.0 New Feature Set</a> is present.
</p>

<h2 class="HBHeadB">
  <a name="1083611"> </a>AttnUpdate
<a href="#1082503"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1083612"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1083613"> </a>Updates one or more aspects of a specified attention item.
</p>
<h4 class="RefSide">
  <a name="1083614"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1083615"> </a>AttentionMgr.h
</p>
<h4 class="RefSide">
  <a name="1083616"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1083617"> </a>Boolean AttnUpdate (UInt16 cardNo, LocalID dbID,<br>UInt32 userData, AttnCallbackProc *callbackFnP,<br>AttnFlagsType *flagsP, UInt16 *nagRateInSecondsP,<br>UInt16 *nagRepeatLimitP)
</p>
<h4 class="RefSide">
  <a name="1083618"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1083619"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; cardNo</span></td><td valign="top">Card number on which the application that made the request resides.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1083620"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; dbID</span></td><td valign="top">Database ID of the application that made the request.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1083621"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; userData</span></td><td valign="top">Application-specific data that is passed back to your code through the callback function. If no callback function is specified in the <span style="font-family: monospace">callbackFnP</span> parameter, this data is included in what is passed along with a <a href="AppLaunchCodes.html#970327"><span style="font-family: monospace">sysAppLaunchCmdAttention</span></a> launch code. <span style="font-family: monospace">userData</span> can be an integer, a pointer, or any other 32-bit value. Most applications pass the unique ID or other key for the record which caused the attention request. The value of the <span style="font-family: monospace">userData</span> parameter is also used to distinguish a given attention attempt from others made by the same application. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1083625"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; callbackFnP</span></td><td valign="top">Registers a new function to be called by the Attention Manager when the attention is displayed or removed. The function to which this parameter points should conform to <a href="AttentionMgr.html#1083669"><span style="font-family: monospace">AttnCallbackProc</span></a>. Supply <span style="font-family: monospace">NULL</span> to instead have a <a href="AppLaunchCodes.html#970327"><span style="font-family: monospace">sysAppLaunchCmdAttention</span></a> launch code sent to the application that made the attention request whenever the attention is displayed or removed.</td>
  </tr>
</table>
</div></h5>
<div class="NINoteImportant"><hr>
  <a name="1083632"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">IMPORTANT:  </span> Because <span style="font-family: monospace">NULL</span> indicates that a launch code should be sent whenever the callback would otherwise be invoked, it isn't used in this instance to leave the original setting for the <span style="font-family: monospace">callbackFnP</span> parameter intact. The value supplied for this parameter <i>always</i> overwrites the value supplied in the original attention request.
<hr>
</div>
<h5 class="P1"><a name="1083633"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; flagsP</span></td><td valign="top">Pointer to a set of flags that can be used to override user-specified attention behavior; for instance, to force silent or noisy alarms. See <a href="AttentionMgr.html#1082774"><span style="font-family: monospace">AttnFlagsType</span></a> for the various bits that make up this flag, and note that the behavior is undefined if you set incompatible flags. Pass <span style="font-family: monospace">NULL</span> to leave the current flag settings unchanged.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1083637"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; nagRateInSecondsP</td><td valign="top"></span>Pointer to the length of time to wait before nagging. Pass <span style="font-family: monospace">NULL</span> to leave the "nag rate" unchanged.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1083638"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; nagRepeatLimitP</td><td valign="top"></span>Pointer to the maximum number of times the user should be nagged. Pass <span style="font-family: monospace">NULL</span> to leave the nag repeat limit unchanged.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1083639"> </a>Result 
</h4>
<p class="Body">
  <a name="1083640"> </a>Returns <span style="font-family: monospace">true</span> if the update was successful, <span style="font-family: monospace">false</span> if no matching attention item was found.
</p>
<h4 class="RefSide">
  <a name="1083641"> </a>Comments 
</h4>
<p class="Body">
  <a name="1083642"> </a>This call may result in the callback function being called to re-display the item. If no callback function is specified, the <a href="AppLaunchCodes.html#970327"><span style="font-family: monospace">sysAppLaunchCmdAttention</span></a> launch code is instead sent to your application. It may also result in callbacks to other pending attention requests.
</p>
<p class="Body">
  <a name="1083646"> </a>You call <span style="font-family: monospace">AttnUpdate</span> to tell the Attention Manager to update, forcing it to call into all of its clients to redraw. This provides a way for an application to update the text of an attention item without tearing down and re-opening the Attention Manager dialog. For example, <span style="font-family: monospace">AttnUpdate</span> could be used to update an existing email notification to say "You have three new email messages" when additional messages are received.
</p>
<p class="Body">
  <a name="1083647"> </a>Although <span style="font-family: monospace">AttnUpdate</span> may cause a given attention item to redraw, it does not rerun the special effects (if any) that occurred when that attention item was added. If you want to trigger Attention Manager effects for a particular item, call <a href="AttentionMgr.html#1083290"><span style="font-family: monospace">AttnForgetIt</span></a> followed by <a href="AttentionMgr.html#1083315"><span style="font-family: monospace">AttnGetAttention</span></a>.
</p>
<h4 class="RefSide">
  <a name="1083654"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1083658"> </a>Implemented only if <a href="CompatibilityApdx.html#971763">4.0 New Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1083659"> </a>See Also 
</h4>
<p class="Body">
  <a name="1083663"> </a><a href="AttentionMgr.html#1083315"><span style="font-family: monospace">AttnGetAttention</span></a>
</p>

<h2 class="HaHeadA">
  <a name="1083665"> </a>Application-Defined Functions 
<a href="#1082503"><img src="images/top.gif" border="0"></a></h2>


<h2 class="HBHeadB">
  <a name="1083669"> </a>AttnCallbackProc
<a href="#1082503"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1083670"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1083671"> </a>Provides a function prototype to be used by callback functions supplied to <a href="AttentionMgr.html#1083315"><span style="font-family: monospace">AttnGetAttention</span></a> and <a href="AttentionMgr.html#1083611"><span style="font-family: monospace">AttnUpdate</span></a>. The supplied function is invoked by the Attention Manager whenever the attention is displayed or removed.
</p>
<h4 class="RefSide">
  <a name="1083678"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1083679"> </a>AttentionMgr.h
</p>
<h4 class="RefSide">
  <a name="1083680"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1083681"> </a>typedef Err AttnCallbackProc<br>(AttnCommandType command, UInt32 userData,<br>AttnCommandArgsType *commandArgsP)
</p>
<h4 class="RefSide">
  <a name="1083682"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1083683"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-</span>&gt; <span style="font-family: monospace">command</span></td><td valign="top">Indicates what the callback function is being requested to do. The complete list of possible commands are described in the definition of <a href="AttentionMgr.html#1082535"><span style="font-family: monospace">AttnCommandType</span></a>.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1083687"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-</span>&gt; <span style="font-family: monospace">userData</span></td><td valign="top">Identifier that distinguishes the particular attention item from others made by this application. This identifier was specified when the attention item was created.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1083688"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-</span>&gt; <span style="font-family: monospace">commandArgsP</td><td valign="top"></span>Pointer to command-specific arguments. See the description of each command for a discussion of that command's arguments.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1083689"> </a>Result 
</h4>
<p class="Body">
  <a name="1083690"> </a>The callback function should return <span style="font-family: monospace">errNone</span> if it correctly handled the command, or an appropriate error code otherwise. If the callback function returns an error code other than <span style="font-family: monospace">errNone</span>, the attention is removed from the list of active attention items.
</p>
<h4 class="RefSide">
  <a name="1083691"> </a>Comments 
</h4>
<p class="Body">
  <a name="1083692"> </a>For a given attention item, the Attention Manager calls back to the code resource that created that item whenever the Attention Manager needs the resource to draw the attention dialog contents or whenever it needs to inform the code resource of activity relating to the attention item. The Attention Manager calls back using one of two mechanisms:
</p>

  <a name="1083693"> </a><p class="B1Bullet"> &#8226; If a callback routine has been specified for a given attention item, the Attention Manager invokes the specified routine. This callback routine doesn't have application globals available to it, so it is important that anything necessary to draw or otherwise display be available through <span style="font-family: monospace">commandArgsP</span>. A callback routine is typically used by libraries and system extensions.</p>

  <a name="1083694"> </a><p class="B1Bullet"> &#8226; If a callback routine has not been specified for a given attention item, the Attention Manager instead sends a <a href="AppLaunchCodes.html#970327"><span style="font-family: monospace">sysAppLaunchCmdAttention</span></a> launch code to the application that registered the attention item. Accompanying that launch code is an <a href="AttentionMgr.html#1082920"><span style="font-family: monospace">AttnLaunchCodeArgsType</span></a> structure containing the three parameters documented above. Applications typically use the launch-code mechanism due to the restrictions that are placed on callback routines.</p>
<div class="NINoteImportant"><hr>
  <a name="1083701"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">IMPORTANT:  </span> It is your responsibility to ensure that the callback procedure is still in the same place when it gets called, dealing with the possibility that the code resource might be unlocked and moved in memory, and with the possibility that the database containing the code resource might be deleted. For the most part, these problems don't exist when using launch codes.
<hr>
</div>
<h4 class="RefSide">
  <a name="1083702"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1083706"> </a>Invoked only if <a href="CompatibilityApdx.html#971763">4.0 New Feature Set</a> is present.
</p>
&nbsp;<br>
				<!-- CONTENT_END -->

		</td>
		<td width="5">&nbsp;&nbsp;</td>
	</tr>
      </table>
    </td>
			</tr>
  <tr>
				<td>
					<table border="0" cellpadding="0" cellspacing="0" width="760">
        <!-- CONTENTCELL_END -->
        <tr valign="top"> 
          <td width="10">&nbsp;<!-- FOOTER_START --></td>
          <td width="72">&nbsp;</td>
          <td width="25" bgcolor="white" background="images/bkgrnd.gif">&nbsp;</td>
          <td width="600"> 
            <table border="0" cellpadding="0" cellspacing="0" width="600">
              <tr> 
                <td><img src="images/rule_10-1-5_ltblue.gif" width="600" height="16" border="0"></td>
              </tr>
              <tr> 
                <td> 
                  <p align="center" class="footer"> ©2002 PalmSource, Inc. and its affiliates.  All rights reserved. 
<a href="http://www.palmos.com/dev/training/">Training</a>&nbsp;|&nbsp;<a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a>&nbsp;|&nbsp;<a href="http://www.palmos.com/">Palm&nbsp;OS&nbsp;Platform</a>&nbsp;|&nbsp;<a href="Reference_Front.html" target="_blank">Legal Notices</a>&nbsp;<br>
												<!-- FOOTER_END --><br>
											</p>
                </td>
              </tr>
            </table>
          </td>
        </tr>
      </table>
				</td>
			</tr>
</table>
</BODY>
</HTML>