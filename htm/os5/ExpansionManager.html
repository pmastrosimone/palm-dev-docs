<HTML>

<HEAD>
<SMALLSCREENIGNORE> 
<LINK HREF="copy_of_palmos.css" REL="stylesheet" TYPE="text/css">
<LINK HREF="document.css" REL="StyleSheet" TYPE="text/css" media="screen">
<!-- SCRIPT_START -->
<!-- SCRIPT_END -->
</SMALLSCREENIGNORE>
<TITLE>Expansion Manager</TITLE>

<META NAME="PALMTEMPLATE" CONTENT="1006-002 Palm HTML 20020513">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks Publisher Professional Edition 6.0.7">
<META NAME="TEMPLATEBASE" CONTENT="Palm HTML 20010625">
<META NAME="LASTUPDATED" CONTENT="12/13/02 10:10:11">
<META HTTP-EQUIV="content-type" CONTENT="text/html;charset=ISO-8859-1">

</HEAD>

<BODY LEFTMARGIN="0" MARGINWIDTH="0" TOPMARGIN="0" MARGINHEIGHT="0">
<SMALLSCREENIGNORE> 
<table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr>
	<td><a name="1107231"></a>
      <table border="0" cellpadding="0" cellspacing="0" width="100%">
        <tr height="35"> 
          <td height="35" colspan="2" bgcolor="#6699CC">&nbsp;</td>
        </tr>
        <tr valign="top"> 
          <td width="160" align="left"><a href="http://www.palmos.com"><img src="images/bigorb.gif" width="160" height="110" border="0"></a></td>
          <td align="left" width="100%"> 
            </SMALLSCREENIGNORE>
            <!-- CONTENTCELL_START -->
            <img border="0" height="45" src="images/orb_bkgrnd_600.gif" width="600"><br>
            <!--PAGENAV_START-->
            <SPAN CLASS="subnav">&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/index.html">Home</a> 
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/">Developers</a> 
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/support/">Development Support</a>
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/support/docs/">Documentation</a></span><BR>
             <img src="images/pixel_ltblue.gif" width="600" height="1" border="0" vspace="2"><br>
             <h2 class="HeadDocPage">29  Expansion Manager</h2>
             <img src="images/pixel_ltblue.gif" width="600" height="1" border="0" vspace="2"><br>
             &nbsp;<span class="subnav"><a href="ReferenceTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ErrorManager.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="FeatureManager.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ReferenceIX.html">Index</a></span>  
            <!--PAGENAV_END-->
          </td>
        </tr>
      </table>
    </td>
			</tr>
  <tr>
				<td> 
      <table width="100%" border="0" cellspacing="0" cellpadding="0">
        <tr>
							<td>&nbsp;&nbsp;&nbsp;</td>
						</tr>
        <tr>
		<td valign="top" width="10">&nbsp;&nbsp;&nbsp;</td>
		<td valign="top" width="175">
			<p class="SideTitle">Title - <br><a href="Reference_Front.html">Palm OS® Programmer's API Reference</a></p>
			<p class="SideTOC1-PartTab">Palm OS® 5 SDK </p>
			<p class="SideTOC1-PartTab">Part II: System Management</a> </p>
			<p class="SideTOC1"><a href="ExpansionManager.html">29  Expansion Manager</a></p>
			
<p class="SideTOC2">
<a href="#1107258">Expansion Manager Data Structures
</a></p>

<p class="SideTOC3">
<a href="#1107261">ExpCardInfoType
</a></p>

<p class="SideTOC2">
<a href="#1107303">Expansion Manager Constants
</a></p>

<p class="SideTOC3">
<a href="#1107304">Error Codes
</a></p>

<p class="SideTOC3">
<a href="#1107383">Defined Media Types
</a></p>

<p class="SideTOC2">
<a href="#1107469">Expansion Manager Functions
</a></p>

<p class="SideTOC3">
<a href="#1107472">ExpCardGetSerialPort
</a></p>

<p class="SideTOC3">
<a href="#1107500">ExpCardInfo
</a></p>

<p class="SideTOC3">
<a href="#1107548">ExpCardPresent
</a></p>

<p class="SideTOC3">
<a href="#1107582">ExpSlotDriverInstall
</a></p>

<p class="SideTOC3">
<a href="#1107616">ExpSlotDriverRemove
</a></p>

<p class="SideTOC3">
<a href="#1107648">ExpSlotEnumerate
</a></p>

<p class="SideTOC3">
<a href="#1107698">ExpSlotLibFind
</a></p>

		</td>

		<td width="5">&nbsp;&nbsp;</td>
		<td width="1" bgcolor="#6699cc">&nbsp;</td>
		<td width="5">&nbsp;&nbsp;</td>
		<td> 

				<!-- CONTENT_START -->

<p class="Body">
  <a name="1107232"> </a>This chapter provides the following information about the Expansion Manager:
</p>

  <a name="1107236"> </a><p class="B1Bullet"> &#8226; <a href="ExpansionManager.html#1107258">Expansion Manager Data Structures</a></p>

  <a name="1107240"> </a><p class="B1Bullet"> &#8226; <a href="ExpansionManager.html#1107303">Expansion Manager Constants</a></p>

  <a name="1107244"> </a><p class="B1Bullet"> &#8226; <a href="ExpansionManager.html#1107469">Expansion Manager Functions</a></p>
<p class="Body">
  <a name="1107246"> </a>The header file <span style="font-family: monospace">ExpansionMgr.h</span> declares the Expansion Manager API. For more information on the Expansion Manager, see <a href="ExpAndVFSConcepts.html#1000865">Chapter 7, "Expansion,"</a> in <i>Palm OS Programmer's Companion</i>, vol. I.
</p>
<p class="Body">
  <a name="1107253"> </a>Note that the Expansion Manager is an optional system extension; the functions described in this chapter are implemented only if the <a href="CompatibilityApdx.html#972784">Expansion Manager Feature Set</a> is present.
</p>

<h2 class="HaHeadA">
  <a name="1107258"> </a>Expansion Manager Data Structures 
<a href="#1107231"><img src="images/top.gif" border="0"></a></h2>


<h2 class="HBHeadB">
  <a name="1107261"> </a>ExpCardInfoType
<a href="#1107231"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1107262"> </a>The <span style="font-family: monospace">ExpCardInfoType</span> declaration defines a structure that is passed to <a href="ExpansionManager.html#1107500"><span style="font-family: monospace">ExpCardInfo</span></a>. This structure is used to determine the characteristics of the card loaded in the slot. It is initialized by the underlying slot driver with the following information. 
</p>
<pre  class="Preformatted">
typedef struct ExpCardInfoTag {<a name="1107266"> </a>
  UInt32 capabilityFlags; <a name="1107267"> </a>
  Char
    manufacturerStr[expCardInfoStringMaxLen+1];<a name="1107268"> </a>
  Char productStr[expCardInfoStringMaxLen+1];<a name="1107269"> </a>
  Char
    deviceClassStr[expCardInfoStringMaxLen+1];<a name="1107270"> </a>
  Char
  deviceUniqueIDStr[expCardInfoStringMaxLen+1];<a name="1107271"> </a>
} ExpCardInfoType, *ExpCardInfoPtr;<a name="1107272"> </a>
</pre>

<h4 class="HCHeadC">
  <a name="1107273"> </a>Field Descriptions
</h4>

<h5 class="TgTable">
  <a name="1107301"> </a>

<table width="450" border="0" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="1107276"> </a><div class="CellBody"><span style="font-family: monospace">capabilityFlags</span></div></td>
    <td><a name="1107278"> </a><div class="CellBody">Describes the capabilities of the card. The following flags are currently supported:</div>
  <a name="1107280"> </a><div class="BTBulletTable">&#8226; <span style="font-family: monospace">expCapabilityHasStorage</span> indicates that the card supports reading and (possibly) writing.</div>
  <a name="1107282"> </a><div class="BTBulletTable">&#8226; <span style="font-family: monospace">expCapabilityReadOnly</span> indicates that the card is read only.</div>
  <a name="1107284"> </a><div class="BTBulletTable">&#8226; <span style="font-family: monospace">expCapabilitySerial</span> indicates that the card supports a simple serial interface.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1107286"> </a><div class="CellBody"><span style="font-family: monospace">manufacturerStr</span></div></td>
    <td><a name="1107288"> </a><div class="CellBody">Names the manufacturer of the card. For example "Palm" or "Motorola".</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1107290"> </a><div class="CellBody"><span style="font-family: monospace">productStr</span></div></td>
    <td><a name="1107292"> </a><div class="CellBody">Name of the product. For example "SafeBackup 32MB".</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1107294"> </a><div class="CellBody"><span style="font-family: monospace">deviceClassStr</span></div></td>
    <td><a name="1107296"> </a><div class="CellBody">Describes the type of card, for example, "Backup" or "Ethernet".</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1107298"> </a><div class="CellBody"><span style="font-family: monospace">deviceUniqueIDStr</span></div></td>
    <td><a name="1107300"> </a><div class="CellBody">Unique identifier for the product. A serial number for example. This value is set to the empty string if no identifier exists.</div></td>
  </tr>
</table>




</h5>
<h2 class="HaHeadA">
  <a name="1107303"> </a>Expansion Manager Constants 
<a href="#1107231"><img src="images/top.gif" border="0"></a></h2>


<h2 class="HBHeadB">
  <a name="1107304"> </a>Error Codes
<a href="#1107231"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1107305"> </a>The Expansion Manager defines the following error codes:
</p>

<h5 class="TgTable">
  <a name="1107381"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="1107308"> </a><div class="CellHeading">Constant</div></th>
    <th><a name="1107310"> </a><div class="CellHeading">Description</div></th>
  </tr>
  <tr valign="top">
    <td><a name="1107313"> </a><div class="CellBody"><span style="font-family: monospace">expErrUnsupportedOperation</span></div></td>
    <td><a name="1107315"> </a><div class="CellBody">The operation is unsupported or undefined.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1107318"> </a><div class="CellBody"><span style="font-family: monospace">expErrNotEnoughPower</span></div></td>
    <td><a name="1107320"> </a><div class="CellBody">The required power is not available.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1107323"> </a><div class="CellBody"><span style="font-family: monospace">expErrCardNotPresent</span></div></td>
    <td><a name="1107325"> </a><div class="CellBody">There is no card present in the given slot.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1107328"> </a><div class="CellBody"><span style="font-family: monospace">expErrInvalidSlotRefNum</span></div></td>
    <td><a name="1107330"> </a><div class="CellBody">The slot reference number is not valid.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1107333"> </a><div class="CellBody"><span style="font-family: monospace">expErrSlotDeallocated</span></div></td>
    <td><a name="1107335"> </a><div class="CellBody">The slot reference number is within the valid range, but the slot has been deallocated.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1107338"> </a><div class="CellBody"><span style="font-family: monospace">expErrCardNoSectorReadWrite</span></div></td>
    <td><a name="1107340"> </a><div class="CellBody">The card does not support the slot driver block read/write API.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1107343"> </a><div class="CellBody"><span style="font-family: monospace">expErrCardReadOnly</span></div></td>
    <td><a name="1107345"> </a><div class="CellBody">The card supports the slot driver block read/write API but the card is read only.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1107348"> </a><div class="CellBody"><span style="font-family: monospace">expErrCardBadSector</span></div></td>
    <td><a name="1107350"> </a><div class="CellBody">The card supports the slot driver block read/write API but the sector is bad.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1107353"> </a><div class="CellBody"><span style="font-family: monospace">expErrCardProtectedSector</span></div></td>
    <td><a name="1107355"> </a><div class="CellBody">The card supports the slot driver block read/write API but the sector is protected.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1107358"> </a><div class="CellBody"><span style="font-family: monospace">expErrNotOpen</span></div></td>
    <td><a name="1107360"> </a><div class="CellBody">The slot driver library has not been opened.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1107363"> </a><div class="CellBody"><span style="font-family: monospace">expErrStillOpen</span></div></td>
    <td><a name="1107365"> </a><div class="CellBody">The slot driver library is still open; it may have been opened more than once.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1107368"> </a><div class="CellBody"><span style="font-family: monospace">expErrUnimplemented</span></div></td>
    <td><a name="1107370"> </a><div class="CellBody">The call is unimplemented.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1107373"> </a><div class="CellBody"><span style="font-family: monospace">expErrEnumerationEmpty</span></div></td>
    <td><a name="1107375"> </a><div class="CellBody">There are no values remaining to enumerate.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1107378"> </a><div class="CellBody"><span style="font-family: monospace">expErrIncompatibleAPIVer</span></div></td>
    <td><a name="1107380"> </a><div class="CellBody">The API version of the underlying slot driver is not supported by this version of Expansion Manager.</div></td>
  </tr>
</table>




</h5>
<h2 class="HBHeadB">
  <a name="1107383"> </a>Defined Media Types
<a href="#1107231"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1107384"> </a>The following media types are defined by the Expansion Manager. These media types are used with the function <a href="VFSMgr.html#1183424"><span style="font-family: monospace">VFSVolumeInfo</span></a> in the <span style="font-family: monospace">VolumeInfoType.mediaType</span> field. The media type is also passed as a parameter to the <a href="VFSMgr.html#1183168"><span style="font-family: monospace">VFSRegisterDefaultDirectory</span></a> and <a href="VFSMgr.html#1183236"><span style="font-family: monospace">VFSUnregisterDefaultDirectory</span></a> functions.
</p>

<h5 class="TgTable">
  <a name="1107464"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="1107396"> </a><div class="CellHeading">Constant</div></th>
    <th><a name="1107398"> </a><div class="CellHeading">Value</div></th>
    <th><a name="1107400"> </a><div class="CellHeading">Description</div></th>
  </tr>
  <tr valign="top">
    <td><a name="1107403"> </a><div class="TT11Tabletest11pt"><span style="font-family: monospace">expMediaType_Any </span></div></td>
    <td><a name="1107405"> </a><div class="CellBody">'wild'</div></td>
    <td><a name="1107407"> </a><div class="CellBody">Matches all media types when looking up a default directory</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1107410"> </a><div class="TT11Tabletest11pt"><span style="font-family: monospace">expMediaType_MemoryStick </span></div></td>
    <td><a name="1107412"> </a><div class="CellBody">'mstk'</div></td>
    <td><a name="1107414"> </a><div class="CellBody">Memory stick</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1107417"> </a><div class="TT11Tabletest11pt"><span style="font-family: monospace">expMediaType_CompactFlash</span></div></td>
    <td><a name="1107419"> </a><div class="CellBody">'cfsh'</div></td>
    <td><a name="1107421"> </a><div class="CellBody">Compact Flash</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1107424"> </a><div class="TT11Tabletest11pt"><span style="font-family: monospace">expMediaType_SecureDigital </span></div></td>
    <td><a name="1107426"> </a><div class="CellBody">'sdig'</div></td>
    <td><a name="1107428"> </a><div class="CellBody">Secure Digital </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1107431"> </a><div class="TT11Tabletest11pt"><span style="font-family: monospace">expMediaType_MultiMediaCard</span></div></td>
    <td><a name="1107433"> </a><div class="CellBody">'mmcd'</div></td>
    <td><a name="1107435"> </a><div class="CellBody">MultiMedia Card</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1107438"> </a><div class="TT11Tabletest11pt"><span style="font-family: monospace">expMediaType_SmartMedia </span></div></td>
    <td><a name="1107440"> </a><div class="CellBody">'smed'</div></td>
    <td><a name="1107442"> </a><div class="CellBody">SmartMedia </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1107445"> </a><div class="TT11Tabletest11pt"><span style="font-family: monospace">expMediaType_RAMDisk </span></div></td>
    <td><a name="1107447"> </a><div class="CellBody">'ramd'</div></td>
    <td><a name="1107449"> </a><div class="CellBody">A RAM disk based media</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1107452"> </a><div class="TT11Tabletest11pt"><span style="font-family: monospace">expMediaType_PoserHost </span></div></td>
    <td><a name="1107454"> </a><div class="CellBody">'pose'</div></td>
    <td><a name="1107456"> </a><div class="CellBody">Host file system emulated by the Palm OS<sup>®</sup> Emulator</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1107459"> </a><div class="TT11Tabletest11pt"><span style="font-family: monospace">expMediaType_MacSim </span></div></td>
    <td><a name="1107461"> </a><div class="CellBody">'PSim'</div></td>
    <td><a name="1107463"> </a><div class="CellBody">Host file system emulated by the Mac Simulator</div></td>
  </tr>
</table>




</h5>
<h2 class="HaHeadA">
  <a name="1107469"> </a>Expansion Manager Functions 
<a href="#1107231"><img src="images/top.gif" border="0"></a></h2>


<h2 class="HBHeadB">
  <a name="1107472"> </a>ExpCardGetSerialPort
<a href="#1107231"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1107473"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1107474"> </a>Get a card's serial port creator ID for use in serial access.
</p>
<h4 class="RefSide">
  <a name="1107475"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1107476"> </a>ExpansionMgr.h
</p>
<h4 class="RefSide">
  <a name="1107477"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1107478"> </a>Err ExpCardGetSerialPort(UInt16 slotRefNum,<br>UInt32 *portP)
</p>
<h4 class="RefSide">
  <a name="1107479"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1107480"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">slotRefNum</span></td><td valign="top">Slot number of slot to check.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1107481"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;- <span style="font-family: monospace">portP</span></td><td valign="top">Pointer to <span style="font-family: monospace">UInt32</span> into which the serial port creator ID is stored.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1107482"> </a>Result 
</h4>
<p class="Body">
  <a name="1107483"> </a>Returns the following result codes:
</p>
<h5 class="P1"><a name="1107484"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span> </td><td valign="top">No error</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1107485"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrInvalidSlotRefNum</td><td valign="top"></span>The specified slot number is invalid.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1107486"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrSlotDeallocated</td><td valign="top"></span>The specified slot number is within the valid range but has been deallocated.</td>
  </tr>
</table>
</div></h5>

<h5 class="TgTable">
  <a name="1107487"> </a>
</h5><h4 class="RefSide">
  <a name="1107488"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1107492"> </a>Implemented only if the <a href="CompatibilityApdx.html#972784">Expansion Manager Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1107493"> </a>See Also 
</h4>
<p class="Body">
  <a name="1107497"> </a><a href="ExpansionManager.html#1107500"><span style="font-family: monospace">ExpCardInfo</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1107500"> </a>ExpCardInfo
<a href="#1107231"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1107501"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1107502"> </a>Obtains information about a card in a given slot.
</p>
<h4 class="RefSide">
  <a name="1107503"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1107504"> </a>ExpansionMgr.h
</p>
<h4 class="RefSide">
  <a name="1107505"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1107506"> </a>Err ExpCardInfo(UInt16 slotRefNum,<br>ExpCardInfoType *infoP)
</p>
<h4 class="RefSide">
  <a name="1107507"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1107508"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; slotRefNum</span></td><td valign="top">Slot number.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1107512"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- infoP</span></td><td valign="top">Pointer to <a href="ExpansionManager.html#1107261"><span style="font-family: monospace">ExpCardInfoType</span></a> structure. </td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1107513"> </a>Result 
</h4>
<p class="Body">
  <a name="1107514"> </a>Returns one of the following result codes:
</p>

<h5 class="TgTable">
  <a name="1107515"> </a>
</h5>
<h5 class="TgTable">
  <a name="1107516"> </a>
</h5>
<h5 class="TgTable">
  <a name="1107517"> </a>
</h5>
<h5 class="TgTable">
  <a name="1107518"> </a>
</h5>
<h5 class="TgTable">
  <a name="1107519"> </a>
</h5>
<h5 class="TgTable">
  <a name="1107520"> </a>
</h5>
<h5 class="TgTable">
  <a name="1107521"> </a>
</h5>
<h5 class="TgTable">
  <a name="1107522"> </a>
</h5>
<h5 class="TgTable">
  <a name="1107523"> </a>
</h5><h5 class="P1"><a name="1107524"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span> </td><td valign="top">No error</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1107525"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrCardNotPresent</td><td valign="top"></span>There is no card present in the specified slot.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1107526"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrInvalidSlotRefNum</td><td valign="top"></span>The slot number is invalid.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1107527"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrSlotDeallocated</td><td valign="top"></span>The slot number is within the valid range but has been deallocated.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1107528"> </a>Comments 
</h4>
<p class="Body">
  <a name="1107529"> </a>This function returns information about a card, including whether the card supports secondary storage or is strictly read-only, by filling in the <span style="font-family: monospace">ExpCardInfoType</span> structure's fields.
</p>
<h4 class="RefSide">
  <a name="1107530"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1107534"> </a>Implemented only if the <a href="CompatibilityApdx.html#972784">Expansion Manager Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1107535"> </a>See Also 
</h4>
<p class="Body">
  <a name="1107542"> </a><a href="ExpansionManager.html#1107472"><span style="font-family: monospace">ExpCardGetSerialPort</span></a>, <a href="ExpansionManager.html#1107548"><span style="font-family: monospace">ExpCardPresent</span></a>, <a href="ExpansionManager.html#1107648"><span style="font-family: monospace">ExpSlotEnumerate</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1107548"> </a>ExpCardPresent
<a href="#1107231"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1107549"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1107550"> </a>Determines if a card is present in the given slot. 
</p>
<h4 class="RefSide">
  <a name="1107551"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1107552"> </a>ExpansionMgr.h
</p>
<h4 class="RefSide">
  <a name="1107553"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1107554"> </a>Err ExpCardPresent(UInt16 slotRefNum)
</p>
<h4 class="RefSide">
  <a name="1107555"> </a>Parameters 	
</h4>
<h5 class="P1"><a name="1107556"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; slotRefNum</span></td><td valign="top">Slot number.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1107557"> </a>Result 
</h4>
<p class="Body">
  <a name="1107558"> </a>Returns the following result codes:
</p>

<h5 class="TgTable">
  <a name="1107559"> </a>
</h5><h5 class="P1"><a name="1107560"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span> </td><td valign="top">A card is present in the specified slot.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1107561"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrCardNotPresent</td><td valign="top"></span>There is no card present in the specified slot.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1107562"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrInvalidSlotRefNum</td><td valign="top"></span>The specified slot number is not valid.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1107563"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrSlotDeallocated</td><td valign="top"></span>The specified slot number is within the valid range but has been deallocated.</td>
  </tr>
</table>
</div></h5>

<h5 class="TgTable">
  <a name="1107564"> </a>
</h5><h4 class="RefSide">
  <a name="1107565"> </a>Comments 
</h4>
<p class="Body">
  <a name="1107566"> </a>The Expansion Manager passes the call through to the appropriate slot driver.
</p>
<h4 class="RefSide">
  <a name="1107567"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1107571"> </a>Implemented only if the <a href="CompatibilityApdx.html#972784">Expansion Manager Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1107572"> </a>See Also 
</h4>
<p class="Body">
  <a name="1107579"> </a><a href="ExpansionManager.html#1107500"><span style="font-family: monospace">ExpCardInfo</span></a>, <a href="ExpansionManager.html#1107648"><span style="font-family: monospace">ExpSlotEnumerate</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1107582"> </a>ExpSlotDriverInstall
<a href="#1107231"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1107583"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1107584"> </a>Installs and initializes a slot driver shared library into the system table.
</p>
<h4 class="RefSide">
  <a name="1107585"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1107586"> </a>ExpansionMgr.h
</p>
<h4 class="RefSide">
  <a name="1107587"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1107588"> </a>Err ExpSlotDriverInstall (UInt32 dbCreator,<br>UInt16 *slotLibRefNumP)
</p>
<h4 class="RefSide">
  <a name="1107589"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1107590"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; dbCreator</td><td valign="top"></span>Database creator code of the slot driver library to be installed.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1107591"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; slotLibRefNumP</td><td valign="top"></span>Pointer to variable for returning the library reference number (on failure, <span style="font-family: monospace">sysInvalidRefNum</span> is returned in this variable).</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1107593"> </a>Result 
</h4>
<p class="Body">
  <a name="1107594"> </a>Returns <span style="font-family: monospace">errNone</span> if the slot driver is installed correctly. Because this function uses <a href="SystemManager.html#1166185"><span style="font-family: monospace">SysLibInstall</span></a> to install the slot driver shared library, <span style="font-family: monospace">ExpSlotDriverInstall</span> may return any of the error codes that <span style="font-family: monospace">SysLibInstall</span> returns, including <span style="font-family: monospace">sysErrLibNotFound</span>, <span style="font-family: monospace">sysErrNoFreeRAM</span>, and <span style="font-family: monospace">sysErrNoFreeLibSlots</span>. It may also return any error code returned by <span style="font-family: monospace">SlotOpen</span>, the implementation of which is specific to a given device manufacturer.
</p>
<h4 class="RefSide">
  <a name="1107599"> </a>Comments 		
</h4>
<p class="Body">
  <a name="1107600"> </a>This function is not typically called by applications but can be used to load additional slot drivers after the device has booted. It is called internally by the Expansion Manager to install a slot driver shared library into the library table and initialize it for use. Once installed, the <span style="font-family: monospace">slotLibRefNum</span> can be used by other functions to refer to the library. 
</p>
<h4 class="RefSide">
  <a name="1107601"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1107605"> </a>Implemented only if the <a href="CompatibilityApdx.html#972784">Expansion Manager Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1107606"> </a>See Also 
</h4>
<p class="Body">
  <a name="1107613"> </a><a href="ExpansionManager.html#1107616"><span style="font-family: monospace">ExpSlotDriverRemove</span></a>, <a href="ExpansionManager.html#1107698"><span style="font-family: monospace">ExpSlotLibFind</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1107616"> </a>ExpSlotDriverRemove
<a href="#1107231"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1107617"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1107618"> </a>Closes and remove a slot driver shared library from the system table.
</p>
<h4 class="RefSide">
  <a name="1107619"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1107620"> </a>ExpansionMgr.h
</p>
<h4 class="RefSide">
  <a name="1107621"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1107622"> </a>Err ExpSlotDriverRemove (UInt16 slotLibRefNum)
</p>
<h4 class="RefSide">
  <a name="1107623"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1107625"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; slotLibRefNum</span></td><td valign="top">Slot driver shared library reference number.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1107626"> </a>Result 
</h4>
<p class="Body">
  <a name="1107627"> </a>Returns <span style="font-family: monospace">errNone</span>.
</p>
<h4 class="RefSide">
  <a name="1107628"> </a>Comments 
</h4>
<p class="Body">
  <a name="1107629"> </a>This function is not typically called by applications but can be used to unload slot drivers associated with external slots. It is called internally by the Expansion Manager to remove the shared library from the system table, and, if appropriate, release the slot allocated to the given <span style="font-family: monospace">slotLibRefNum</span>. Prior to removing the slot driver, it unmounts any volumes associated with the slot.
</p>
<h4 class="RefSide">
  <a name="1107630"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1107634"> </a>Implemented only if the <a href="CompatibilityApdx.html#972784">Expansion Manager Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1107635"> </a>See Also 
</h4>
<p class="Body">
  <a name="1107645"> </a><a href="ExpansionManager.html#1107582"><span style="font-family: monospace">ExpSlotDriverInstall</span></a>, <a href="ExpansionManager.html#1107698"><span style="font-family: monospace">ExpSlotLibFind</span></a>, <a href="SystemManager.html#1166237"><span style="font-family: monospace">SysLibRemove</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1107648"> </a>ExpSlotEnumerate
<a href="#1107231"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1107649"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1107650"> </a>Iterates through valid slot numbers.
</p>
<h4 class="RefSide">
  <a name="1107651"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1107652"> </a>ExpansionMgr.h
</p>
<h4 class="RefSide">
  <a name="1107653"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1107654"> </a>Err ExpSlotEnumerate(UInt16 *slotRefNumP,<br>UInt32 *slotIteratorP)
</p>
<h4 class="RefSide">
  <a name="1107655"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1107656"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- slotRefNumP</span></td><td valign="top">Reference number of the currently-enumerated slot.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1107657"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; slotIteratorP</td><td valign="top"></span>Pointer to the index of the last entry enumerated. For the first iteration, initialize this parameter to the constant <span style="font-family: monospace">expIteratorStart</span>. Upon return this references the next entry in the directory. If this is the last entry, this parameter is set to <span style="font-family: monospace">expIteratorStop</span>.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1107658"> </a>Result 
</h4>
<p class="Body">
  <a name="1107659"> </a>Returns one of the following result codes:
</p>
<h5 class="P1"><a name="1107660"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span> </td><td valign="top">The slot reference number indicated by <span style="font-family: monospace">slotRefNumP</span> is valid.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1107661"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrEnumerationEmpty</td><td valign="top"></span>There are no slots left to enumerate. <span style="font-family: monospace">slotRefNumP</span> is set to the slot number of the currently enumerated slot or <span style="font-family: monospace">invalidSlotRefNum</span> if there are no slots.</td>
  </tr>
</table>
</div></h5>

<h5 class="TgTable">
  <a name="1107662"> </a>
</h5><h4 class="RefSide">
  <a name="1107663"> </a>Comments 
</h4>
<p class="Body">
  <a name="1107664"> </a>This function iterates through the device's slots. The first time this function is called, set <span style="font-family: monospace">*slotIteratorP</span> to <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">expIteratorStart</span> to find the initial slot. Once set this value is changed with each subsequent call to this function until it reaches the maximum number of slots, at which point <span style="font-family: monospace">ExpSlotEnumerate</span> sets <span style="font-family: monospace">*slotIteratorP</span> to <span style="font-family: monospace">expIteratorStop</span>.
</p>
<h4 class="RefSide">
  <a name="1107665"> </a>Example 
</h4>
<p class="Body">
  <a name="1107666"> </a>The following is an example of how <span style="font-family: monospace">ExpSlotEnumerate</span> should be used:
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
<span style="font-family: monospace">UInt16 slotRefNum;</span><a name="1107667"> </a>
<span style="font-family: monospace">UInt32 slotIterator = expIteratorStart;</span><a name="1107668"> </a>
<span style="font-family: monospace">while (slotIterator != expIteratorStop) {</span><a name="1107669"> </a>
<span style="font-family: monospace">   if ((err = ExpSlotEnumerate(&amp;slotRefNum,</span><a name="1107670"> </a>
<span style="font-family: monospace">            &amp;slotIterator)) == errNone) {</span><a name="1107671"> </a>
<span style="font-family: monospace">      // do something with the slotRefNum</span><a name="1107672"> </a>
<span style="font-family: monospace">   else {</span><a name="1107673"> </a>
<span style="font-family: monospace">      // handle error (by breaking out of the</span><a name="1107674"> </a>
<span style="font-family: monospace">      // loop, most likely</span><a name="1107675"> </a>
<span style="font-family: monospace">   }</span><a name="1107676"> </a>
<span style="font-family: monospace">}</span><a name="1107677"> </a>
</pre><div class="CodeRule"><hr></div>
<h4 class="RefSide">
  <a name="1107678"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1107682"> </a>Implemented only if the <a href="CompatibilityApdx.html#972784">Expansion Manager Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1107683"> </a>See Also 
</h4>
<p class="Body">
  <a name="1107695"> </a><a href="ExpansionManager.html#1107500"><span style="font-family: monospace">ExpCardInfo</span></a>, <a href="ExpansionManager.html#1107548"><span style="font-family: monospace">ExpCardPresent</span></a>, <a href="ExpansionManager.html#1107616"><span style="font-family: monospace">ExpSlotDriverRemove</span></a>
</p>

<h2 class="HBHeadB">
  <a name="1107698"> </a>ExpSlotLibFind
<a href="#1107231"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1107699"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1107700"> </a>Retrieves the slot driver library reference number for the driver that controls the specified slot.
</p>
<h4 class="RefSide">
  <a name="1107701"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1107702"> </a>ExpansionMgr.h
</p>
<h4 class="RefSide">
  <a name="1107703"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1107704"> </a>Err ExpSlotLibFind(UInt16 slotRefNum,<br>UInt16 *slotLibRefNum)
</p>
<h4 class="RefSide">
  <a name="1107705"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1107706"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; slotRefNum</span></td><td valign="top">Slot number.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1107707"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- slotLibRefNum</td><td valign="top"></span>Pointer to the reference number for the slot driver library allocated to the given slot. </td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1107708"> </a>Result 
</h4>
<p class="Body">
  <a name="1107709"> </a>Returns the following result codes:
</p>
<h5 class="P1"><a name="1107710"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">errNone</span> </td><td valign="top">No error.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1107711"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrInvalidSlotRefNum</td><td valign="top"></span>The slot number is invalid.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1107712"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expErrSlotDeallocated</td><td valign="top"></span>The slot number is within the valid range but has been deallocated.</td>
  </tr>
</table>
</div></h5>

<h5 class="TgTable">
  <a name="1107713"> </a>
</h5><h4 class="RefSide">
  <a name="1107714"> </a>Comments 
</h4>
<p class="Body">
  <a name="1107715"> </a>This function returns the reference number to the slot driver library loaded for the given <span style="font-family: monospace">slotRefNum</span>. This function is used when making calls directly to the slot driver library.
</p>
<h4 class="RefSide">
  <a name="1107716"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="1107720"> </a>Implemented only if the <a href="CompatibilityApdx.html#972784">Expansion Manager Feature Set</a> is present.
</p>
<h4 class="RefSide">
  <a name="1107721"> </a>See Also 
</h4>
<p class="Body">
  <a name="1107728"> </a><a href="ExpansionManager.html#1107582"><span style="font-family: monospace">ExpSlotDriverInstall</span></a>, <a href="ExpansionManager.html#1107616"><span style="font-family: monospace">ExpSlotDriverRemove</span></a>
</p>
&nbsp;<br>
				<!-- CONTENT_END -->

		</td>
		<td width="5">&nbsp;&nbsp;</td>
	</tr>
      </table>
    </td>
			</tr>
  <tr>
				<td>
					<table border="0" cellpadding="0" cellspacing="0" width="760">
        <!-- CONTENTCELL_END -->
        <tr valign="top"> 
          <td width="10">&nbsp;<!-- FOOTER_START --></td>
          <td width="72">&nbsp;</td>
          <td width="25" bgcolor="white" background="images/bkgrnd.gif">&nbsp;</td>
          <td width="600"> 
            <table border="0" cellpadding="0" cellspacing="0" width="600">
              <tr> 
                <td><img src="images/rule_10-1-5_ltblue.gif" width="600" height="16" border="0"></td>
              </tr>
              <tr> 
                <td> 
                  <p align="center" class="footer"> ©2002 PalmSource, Inc. and its affiliates.  All rights reserved. 
<a href="http://www.palmos.com/dev/training/">Training</a>&nbsp;|&nbsp;<a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a>&nbsp;|&nbsp;<a href="http://www.palmos.com/">Palm&nbsp;OS&nbsp;Platform</a>&nbsp;|&nbsp;<a href="Reference_Front.html" target="_blank">Legal Notices</a>&nbsp;<br>
												<!-- FOOTER_END --><br>
											</p>
                </td>
              </tr>
            </table>
          </td>
        </tr>
      </table>
				</td>
			</tr>
</table>
</BODY>
</HTML>