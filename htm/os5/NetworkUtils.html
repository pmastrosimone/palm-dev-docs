<HTML>

<HEAD>
<SMALLSCREENIGNORE> 
<LINK HREF="copy_of_palmos.css" REL="stylesheet" TYPE="text/css">
<LINK HREF="document.css" REL="StyleSheet" TYPE="text/css" media="screen">
<!-- SCRIPT_START -->
<!-- SCRIPT_END -->
</SMALLSCREENIGNORE>
<TITLE>Network Utilities</TITLE>

<META NAME="PALMTEMPLATE" CONTENT="1006-002 Palm HTML 20020513">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks Publisher Professional Edition 6.0.7">
<META NAME="TEMPLATEBASE" CONTENT="Palm HTML 20010625">
<META NAME="LASTUPDATED" CONTENT="12/13/02 10:10:52">
<META HTTP-EQUIV="content-type" CONTENT="text/html;charset=ISO-8859-1">

</HEAD>

<BODY LEFTMARGIN="0" MARGINWIDTH="0" TOPMARGIN="0" MARGINHEIGHT="0">
<SMALLSCREENIGNORE> 
<table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr>
	<td><a name="1275998"></a>
      <table border="0" cellpadding="0" cellspacing="0" width="100%">
        <tr height="35"> 
          <td height="35" colspan="2" bgcolor="#6699CC">&nbsp;</td>
        </tr>
        <tr valign="top"> 
          <td width="160" align="left"><a href="http://www.palmos.com"><img src="images/bigorb.gif" width="160" height="110" border="0"></a></td>
          <td align="left" width="100%"> 
            </SMALLSCREENIGNORE>
            <!-- CONTENTCELL_START -->
            <img border="0" height="45" src="images/orb_bkgrnd_600.gif" width="600"><br>
            <!--PAGENAV_START-->
            <SPAN CLASS="subnav">&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/index.html">Home</a> 
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/">Developers</a> 
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/support/">Development Support</a>
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/support/docs/">Documentation</a></span><BR>
             <img src="images/pixel_ltblue.gif" width="600" height="1" border="0" vspace="2"><br>
             <h2 class="HeadDocPage">62  Network Utilities</h2>
             <img src="images/pixel_ltblue.gif" width="600" height="1" border="0" vspace="2"><br>
             &nbsp;<span class="subnav"><a href="ReferenceTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="NetLibrary.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ScriptPlugin.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ReferenceIX.html">Index</a></span>  
            <!--PAGENAV_END-->
          </td>
        </tr>
      </table>
    </td>
			</tr>
  <tr>
				<td> 
      <table width="100%" border="0" cellspacing="0" cellpadding="0">
        <tr>
							<td>&nbsp;&nbsp;&nbsp;</td>
						</tr>
        <tr>
		<td valign="top" width="10">&nbsp;&nbsp;&nbsp;</td>
		<td valign="top" width="175">
			<p class="SideTitle">Title - <br><a href="Reference_Front.html">Palm OS® Programmer's API Reference</a></p>
			<p class="SideTOC1-PartTab">Palm OS® 5 SDK </p>
			<p class="SideTOC1-PartTab">Part III: Communications</a> </p>
			<p class="SideTOC1"><a href="NetworkUtils.html">62  Network Utilities</a></p>
			
<p class="SideTOC2">
<a href="#1276010">Network Utility Functions
</a></p>

<p class="SideTOC3">
<a href="#1276035">NetUReadN
</a></p>

<p class="SideTOC3">
<a href="#1276061">NetUTCPOpen
</a></p>

<p class="SideTOC3">
<a href="#1276167">NetUWriteN
</a></p>

		</td>

		<td width="5">&nbsp;&nbsp;</td>
		<td width="1" bgcolor="#6699cc">&nbsp;</td>
		<td width="5">&nbsp;&nbsp;</td>
		<td> 

				<!-- CONTENT_START -->

<p class="Body">
  <a name="1275999"> </a>This chapter describes network utilities provided in the module <span style="font-family: monospace">NetSocket.c</span>. These utilities are convenience functions that you can use in place of net library functions in applications that use the net library. You can find <span style="font-family: monospace">NetSocket.c</span> in the folder <span style="font-family: monospace">Libraries\Net\Src</span>. (On Palm OS<sup>®</sup> 3.5, <span style="font-family: monospace">NetSocket.c</span> is in the folder <span style="font-family: monospace">CodeWarrior Libraries\Comms\NetSocket\Src</span>.)
</p>
<p class="Body">
  <a name="1276000"> </a>The include file for the functions described in this chapter is <span style="font-family: monospace">&lt;unix/sys_socket.h&gt;</span>. This header file is not included by any other Palm<sup>&#8482;</sup> header file; you must explicitly include it in your code. 
</p>
<p class="Body">
  <a name="1276003"> </a>For more information on <span style="font-family: monospace">NetSocket.c</span> and <span style="font-family: monospace">sys_socket.h</span>, see the chapter <a href="NetworkCommunication.html#996393">"Network Communication"</a> in the <i>Palm OS Programmer's Companion</i>, vol. II, <i>Communications</i>. 
</p>

<h2 class="HaHeadA">
  <a name="1276010"> </a>Network Utility Functions 
<a href="#1275998"><img src="images/top.gif" border="0"></a></h2>


<h2 class="HBHeadB">
  <a name="1276035"> </a>NetUReadN
<a href="#1275998"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1276036"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1276037"> </a>Reads a specified number of bytes from a socket. 
</p>
<h4 class="RefSide">
  <a name="1276038"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1276039"> </a>unix/sys_socket.h
</p>
<h4 class="RefSide">
  <a name="1276040"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1276041"> </a>Int32 NetUReadN (NetSocketRef fd, UInt8* bufP, UInt32 numBytes)
</p>
<h4 class="RefSide">
  <a name="1276042"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1276043"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; fd</span></td><td valign="top">Descriptor for the open socket.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1276044"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- bufP</span></td><td valign="top">Pointer to buffer to hold received data.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1276045"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; numBytes</span></td><td valign="top">Number of bytes to read. </td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1276046"> </a>Result 
</h4>
<p class="Body">
  <a name="1276047"> </a>Returns the number of bytes actually read. If the return value is less than 0, an error occurred.
</p>
<h4 class="RefSide">
  <a name="1276048"> </a>Comments 
</h4>
<p class="Body">
  <a name="1276053"> </a>This function repeatedly calls <a href="NetLibrary.html#1256558"><span style="font-family: monospace">NetLibReceive</span></a> until <span style="font-family: monospace">numBytes</span> have been read or until <span style="font-family: monospace">NetLibReceive</span> returns an error. 
</p>
<h4 class="RefSide">
  <a name="1276054"> </a>See Also 
</h4>
<p class="Body">
  <a name="1276058"> </a><a href="NetworkUtils.html#1276167"><span style="font-family: monospace">NetUWriteN</span></a> 
</p>

<h2 class="HBHeadB">
  <a name="1276061"> </a>NetUTCPOpen
<a href="#1275998"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1276062"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1276063"> </a>Opens a TCP (streams-based) socket and connects it to a server.
</p>
<h4 class="RefSide">
  <a name="1276064"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1276065"> </a>unix/sys_socket.h
</p>
<h4 class="RefSide">
  <a name="1276066"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1276067"> </a>NetSocketRef NetUTCPOpen (Char* hostName, Char* serviceName, Int16 port)
</p>
<h4 class="RefSide">
  <a name="1276068"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1276069"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; hostName</span></td><td valign="top">Remote host, given either by name or by dotted decimal address.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1276070"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; serviceName</span></td><td valign="top">The name of a network service. Possible services are "echo", "discard", "daytime", "qotd", "chargen", "ftp-data", "ftp", "telnet", "smtp", "time", "name", "finger", "pop2", "pop3", "nntp", "imap2". The value of this parameter is ignored if the <span style="font-family: monospace">port</span> parameter is greater than zero.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1276071"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; port</span></td><td valign="top">The number of the port to connect to on the remote host. Set <span style="font-family: monospace">port</span> to zero to use <span style="font-family: monospace">serviceName</span> instead.</td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1276072"> </a>Result 
</h4>
<p class="Body">
  <a name="1276073"> </a>Returns the socket descriptor of the socket that was connected, or -1 if an error occurred. 
</p>
<h4 class="RefSide">
  <a name="1276074"> </a>Comments 
</h4>
<p class="Body">
  <a name="1276075"> </a>If <span style="font-family: monospace">serviceName</span> is given and <span style="font-family: monospace">port</span> is less than or equal to zero, this function looks up the port number for that service on the remote host and uses it for the connection. 
</p>
<p class="Body">
  <a name="1276080"> </a>This function is the equivalent of calling <a href="NetLibrary.html#1257581"><span style="font-family: monospace">NetLibSocketOpen</span></a> and <a href="NetLibrary.html#1257447"><span style="font-family: monospace">NetLibSocketConnect</span></a> (or <span style="font-family: monospace">socket</span> and <span style="font-family: monospace">connect</span>).
</p>
<div class="NINoteImportant"><hr>
  <a name="1276087"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">NOTE:  </span> This function does not return specific reasons for failure if there is a failure. This function is not production-quality code. It is provided as a quick and dirty way of creating a connection and as sample code that can be used as a reference. 
<hr>
</div>

<h2 class="HBHeadB">
  <a name="1276167"> </a>NetUWriteN
<a href="#1275998"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1276168"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1276169"> </a>Writes the specified number of bytes to a socket. 
</p>
<h4 class="RefSide">
  <a name="1276170"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1276171"> </a>unix/sys_socket.h
</p>
<h4 class="RefSide">
  <a name="1276172"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1276173"> </a>Int32 NetUWriteN (NetSocketRef fd, UInt8* bufP, UInt32 numBytes)
</p>
<h4 class="RefSide">
  <a name="1276174"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1276175"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; fd</span></td><td valign="top">Descriptor for the open socket.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1276176"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; bufP</span></td><td valign="top">Pointer to buffer to write.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1276177"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; numBytes</span></td><td valign="top">Number of bytes to write. </td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1276178"> </a>Result 
</h4>
<p class="Body">
  <a name="1276179"> </a>Returns the number of bytes actually sent. If the return value is less than 0, an error occurred.
</p>
<h4 class="RefSide">
  <a name="1276180"> </a>Comments 
</h4>
<p class="Body">
  <a name="1276185"> </a>This function repeatedly calls <a href="NetLibrary.html#1256811"><span style="font-family: monospace">NetLibSend</span></a> until <span style="font-family: monospace">numBytes</span> have been written or until <span style="font-family: monospace">NetLibSend</span> returns an error. 
</p>
<h4 class="RefSide">
  <a name="1276186"> </a>See Also 
</h4>
<p class="Body">
  <a name="1276190"> </a><a href="NetworkUtils.html#1276035"><span style="font-family: monospace">NetUReadN</span></a> 
</p>
&nbsp;<br>
				<!-- CONTENT_END -->

		</td>
		<td width="5">&nbsp;&nbsp;</td>
	</tr>
      </table>
    </td>
			</tr>
  <tr>
				<td>
					<table border="0" cellpadding="0" cellspacing="0" width="760">
        <!-- CONTENTCELL_END -->
        <tr valign="top"> 
          <td width="10">&nbsp;<!-- FOOTER_START --></td>
          <td width="72">&nbsp;</td>
          <td width="25" bgcolor="white" background="images/bkgrnd.gif">&nbsp;</td>
          <td width="600"> 
            <table border="0" cellpadding="0" cellspacing="0" width="600">
              <tr> 
                <td><img src="images/rule_10-1-5_ltblue.gif" width="600" height="16" border="0"></td>
              </tr>
              <tr> 
                <td> 
                  <p align="center" class="footer"> ©2002 PalmSource, Inc. and its affiliates.  All rights reserved. 
<a href="http://www.palmos.com/dev/training/">Training</a>&nbsp;|&nbsp;<a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a>&nbsp;|&nbsp;<a href="http://www.palmos.com/">Palm&nbsp;OS&nbsp;Platform</a>&nbsp;|&nbsp;<a href="Reference_Front.html" target="_blank">Legal Notices</a>&nbsp;<br>
												<!-- FOOTER_END --><br>
											</p>
                </td>
              </tr>
            </table>
          </td>
        </tr>
      </table>
				</td>
			</tr>
</table>
</BODY>
</HTML>