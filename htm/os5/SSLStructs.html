<HTML>

<HEAD>
<SMALLSCREENIGNORE> 
<LINK HREF="copy_of_palmos.css" REL="stylesheet" TYPE="text/css">
<LINK HREF="document.css" REL="StyleSheet" TYPE="text/css" media="screen">
<!-- SCRIPT_START -->
<!-- SCRIPT_END -->
</SMALLSCREENIGNORE>
<TITLE>SSL Structures and Data Types</TITLE>

<META NAME="PALMTEMPLATE" CONTENT="1006-002 Palm HTML 20020513">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks Publisher Professional Edition 6.0.7">
<META NAME="TEMPLATEBASE" CONTENT="Palm HTML 20010625">
<META NAME="LASTUPDATED" CONTENT="12/13/02 10:11:25">
<META HTTP-EQUIV="content-type" CONTENT="text/html;charset=ISO-8859-1">

</HEAD>

<BODY LEFTMARGIN="0" MARGINWIDTH="0" TOPMARGIN="0" MARGINHEIGHT="0">
<SMALLSCREENIGNORE> 
<table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr>
	<td><a name="1058750"></a>
      <table border="0" cellpadding="0" cellspacing="0" width="100%">
        <tr height="35"> 
          <td height="35" colspan="2" bgcolor="#6699CC">&nbsp;</td>
        </tr>
        <tr valign="top"> 
          <td width="160" align="left"><a href="http://www.palmos.com"><img src="images/bigorb.gif" width="160" height="110" border="0"></a></td>
          <td align="left" width="100%"> 
            </SMALLSCREENIGNORE>
            <!-- CONTENTCELL_START -->
            <img border="0" height="45" src="images/orb_bkgrnd_600.gif" width="600"><br>
            <!--PAGENAV_START-->
            <SPAN CLASS="subnav">&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/index.html">Home</a> 
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/">Developers</a> 
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/support/">Development Support</a>
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/support/docs/">Documentation</a></span><BR>
             <img src="images/pixel_ltblue.gif" width="600" height="1" border="0" vspace="2"><br>
             <h2 class="HeadDocPage">81  SSL Structures and Data Types</h2>
             <img src="images/pixel_ltblue.gif" width="600" height="1" border="0" vspace="2"><br>
             &nbsp;<span class="subnav"><a href="ReferenceTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="SSLFuncs.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="SSLMacros.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ReferenceIX.html">Index</a></span>  
            <!--PAGENAV_END-->
          </td>
        </tr>
      </table>
    </td>
			</tr>
  <tr>
				<td> 
      <table width="100%" border="0" cellspacing="0" cellpadding="0">
        <tr>
							<td>&nbsp;&nbsp;&nbsp;</td>
						</tr>
        <tr>
		<td valign="top" width="10">&nbsp;&nbsp;&nbsp;</td>
		<td valign="top" width="175">
			<p class="SideTitle">Title - <br><a href="Reference_Front.html">Palm OS® Programmer's API Reference</a></p>
			<p class="SideTOC1-PartTab">Palm OS® 5 SDK </p>
			<p class="SideTOC1-PartTab">Part IV: Libraries</a> </p>
			<p class="SideTOC1"><a href="SSLStructs.html">81  SSL Structures and Data Types</a></p>
			
<p class="SideTOC2">
<a href="#1058761">SSL Data Types
</a></p>

<p class="SideTOC3">
<a href="#1103994">SslAttribute
</a></p>

<p class="SideTOC3">
<a href="#1103759">SslContext
</a></p>

<p class="SideTOC3">
<a href="#1069569">SslLib
</a></p>

<p class="SideTOC2">
<a href="#1104062">SSL Structures
</a></p>

<p class="SideTOC3">
<a href="#1104136">SslCallback
</a></p>

<p class="SideTOC3">
<a href="#1104652">SslCipherSuiteInfo
</a></p>

<p class="SideTOC3">
<a href="#1104832">SslExtendedItem
</a></p>

<p class="SideTOC3">
<a href="#1104880">SslExtendedItems
</a></p>

<p class="SideTOC3">
<a href="#1104239">SslIoBuf
</a></p>

<p class="SideTOC3">
<a href="#1104390">SslLibCallback
</a></p>

<p class="SideTOC3">
<a href="#1104421">SslSession
</a></p>

<p class="SideTOC3">
<a href="#1061974">SslSocket
</a></p>

<p class="SideTOC3">
<a href="#1101690">SslVerify
</a></p>

		</td>

		<td width="5">&nbsp;&nbsp;</td>
		<td width="1" bgcolor="#6699cc">&nbsp;</td>
		<td width="5">&nbsp;&nbsp;</td>
		<td> 

				<!-- CONTENT_START -->

<p class="Body">
  <a name="1068432"> </a>This chapter describes the structures and data types that are used by SSL. 
</p>
<p class="Body">
  <a name="1072969"> </a>All elements described below are defined in <span style="font-family: monospace">SslLib.h</span>.
</p>

<h2 class="HaHeadA">
  <a name="1058761"> </a>SSL Data Types 
<a href="#1058750"><img src="images/top.gif" border="0"></a></h2>


<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1103994"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> SslAttribute
<a href="#1058750"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1103995"> </a>The <span style="font-family: monospace">SslAttribute</span> data type is used to cast the SSL attribute constants that are passed to the attribute-setting functions. 
</p>
<pre  class="Preformatted">
typedef UInt32  SslAttribute;<a name="1103996"> </a>
</pre>
<p class="Body">
  <a name="1103997"> </a>In general, you should use the attribute-setting macros rather than the functions. The attribute upon which a macro operates is embedded in its name, so you rarely have to deal with <span style="font-family: monospace">SslAttribute</span> types. 
</p>
<p class="Body">
  <a name="1103998"> </a>For more information on the relationship between the attribute-setting functions and macros, see <a href="SSLFuncs.html#1058750">Chapter 80, "SSL Functions."</a> For a list of the macros themselves, go to <a href="SSLMacros.html#1058750">Chapter 82, "SSL Attributes and Macros."</a>
</p>

<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1103759"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> SslContext
<a href="#1058750"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1103760"> </a><span style="font-family: monospace">SslContext</span> is the data type for a private structure that holds all the information, or <span style="color: #333;;  font-style: italic; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">context</span>, associated with the SSL protocol that will be used in an SSL session. It contains flags that govern how the SSL protocol will operate, read and write buffers where SSL packets are assembled and disassembled, various structures that are created as part of the SSL handshake, and so on.
</p>
<p class="Body">
  <a name="1103761"> </a>The data type is declared in <span style="font-family: monospace">SslLib.h</span> as:
</p>
<pre  class="Preformatted">
typedef struct SslContext_st  SslContext;<a name="1103762"> </a>
</pre>
<p class="Body">
  <a name="1103763"> </a>The lifetime of an <span style="font-family: monospace">SslContext</span> follows this pattern:
</p>
  <a name="1103764"> </a><p class="N1NumList">1.	  <span style="color: #333;;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">Creation</span>. You never allocate your own <span style="font-family: monospace">SslContext</span> objects; instead, you first create an <a href="SSLStructs.html#1069569"><span style="font-family: monospace">SslLib</span></a> (which see) and pass it to the <a href="SSLFuncs.html#1143599"><span style="font-family: monospace">SslContextCreate</span></a> function. The <a href="SSLStructs.html#1069569"><span style="font-family: monospace">SslLib</span></a> acts as a template that's used by the function to create and configure a new <span style="font-family: monospace">SslContext</span>. This "configuration" consists of copying the <a href="SSLStructs.html#1069569"><span style="font-family: monospace">SslLib</span></a>'s <b>SSL attributes</b> into the new <span style="font-family: monospace">SslContext</span>. </p>  <a name="1103777"> </a><p class="N1NumList">2.	  <span style="color: #333;;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">Configuration</span>. After you get your hands on the new <span style="font-family: monospace">SslContext</span>, you can refine its SSL attributes by calling the SSL attribute macros. </p>  <a name="1103778"> </a><p class="N1NumList">3.	  <span style="color: #333;;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">Socket specification</span>. The one essential attribute that you must set is the context's socket. The template doesn't contain a reference to a socket, so if you want to actually use the SslContext object's that you create, you have to explicitly set its socket. See <a href="SSLMacros.html#1109927">Socket</a> in <a href="SSLMacros.html#1058750">Chapter 82, "SSL Attributes and Macros."</a></p>  <a name="1103788"> </a><p class="N1NumList">4.	  <span style="color: #333;;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">SSL sessions</span>. You then pass the <span style="font-family: monospace">SslContext</span> to <a href="SSLFuncs.html#1080257"><span style="font-family: monospace">SslOpen</span></a>, which creates a new SSL session. The <span style="font-family: monospace">SslContext</span> is used as a cookie in session operations such as <a href="SSLFuncs.html#1150160"><span style="font-family: monospace">SslRead</span></a> and <a href="SSLFuncs.html#1149234"><span style="font-family: monospace">SslClose</span></a>. When you're done with the session, you call <a href="SSLFuncs.html#1149234"><span style="font-family: monospace">SslClose</span></a>. The same <span style="font-family: monospace">SslContext</span> can be reused in successive sessions, but only one at a time.</p>  <a name="1103798"> </a><p class="N1NumList">5.	  <span style="color: #333;;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">Destruction</span>. When you're done using the SSL context, you hand the object back to the system through <a href="SSLFuncs.html#1148573"><span style="font-family: monospace">SslContextDestroy</span></a>.</p>
<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1069569"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> SslLib
<a href="#1058750"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1070994"> </a><span style="font-family: monospace">SslLib</span> is the data type for a private structure that describes a generic SSL context. It's declared in <span style="font-family: monospace">SslLib.h</span> as:
</p>
<pre  class="Preformatted">
typedef struct SslLib_st  SslLib;<a name="1076860"> </a>
</pre>
<div class="NINoteImportant"><hr>
  <a name="1076901"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">NOTE:  </span> <span style="font-family: monospace">SslLib</span> is a misleading name for this data type. The type <i>doesn't</i> represent the SSL library, nor does it serve any explicit library-related function. Where you see "SslLib" you should think "generic SSL context." 
<hr>
</div>
<p class="Body">
  <a name="1092485"> </a>After you create and modify an <span style="font-family: monospace">SslLib</span> object, you use it as a template to create "real" SSL context objects (type <a href="SSLStructs.html#1103759"><span style="font-family: monospace">SslContext</span></a>). When you're done with the <span style="font-family: monospace">SslLib</span>, you ask the SSL library to destroy it.
</p>
<p class="Body">
  <a name="1075430"> </a>Functionally, the lifetime of an <span style="font-family: monospace">SslLib</span> follows this pattern:
</p>
  <a name="1075558"> </a><p class="N1NumList">1.	  <span style="color: #333;;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">Creation</span>. You create the object through <a href="SSLFuncs.html#1144811"><span style="font-family: monospace">SslLibCreate</span></a>.</p>  <a name="1075699"> </a><p class="N1NumList">2.	  <span style="color: #333;;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">Modification</span>. Since the structure that the <span style="font-family: monospace">SslLib</span> represents is private, you can't touch its fields directly. Instead, you use a set of macros (defined in <span style="font-family: monospace">SslLibMac.h</span>) to fine-tune the object. These macros set the values of the <b>SSL attributes</b> that the <span style="font-family: monospace">SslLib</span> contains. The SSL attributes and the macros that you use to set and get their values are described in <a href="SSLMacros.html#1058750">Chapter 82, "SSL Attributes and Macros."</a></p>  <a name="1076805"> </a><p class="N1NumList">3.	  <span style="color: #333;;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">Context creation</span>. When you're satisfied with your <span style="font-family: monospace">SslLib</span>'s attribute configuration, you use it to create new <a href="SSLStructs.html#1103759"><span style="font-family: monospace">SslContext</span></a> objects through the <a href="SSLFuncs.html#1143599"><span style="font-family: monospace">SslContextCreate</span></a> function. The <span style="font-family: monospace">SslLib</span>'s attributes are copied into the new <a href="SSLStructs.html#1103759"><span style="font-family: monospace">SslContext</span></a>. Subsequent changes to the <span style="font-family: monospace">SslLib</span> won't affect the <a href="SSLStructs.html#1103759"><span style="font-family: monospace">SslContext</span></a> objects that you've already created.</p>  <a name="1077385"> </a><p class="N1NumList">4.	  <span style="color: #333;;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">Destruction</span>. When you're done with your <span style="font-family: monospace">SslLib</span> and all of its <a href="SSLStructs.html#1103759"><span style="font-family: monospace">SslContext</span></a>s you should destroy it by passing it to <a href="SSLFuncs.html#1145174"><span style="font-family: monospace">SslLibDestroy</span></a>. Note that each <a href="SSLStructs.html#1103759"><span style="font-family: monospace">SslContext</span></a> object keeps a reference to the <span style="font-family: monospace">SslLib</span> that calved it, so you mustn't destroy an <span style="font-family: monospace">SslLib</span> until after its <a href="SSLStructs.html#1103759"><span style="font-family: monospace">SslContext</span></a> objects have been freed.</p><p class="Body">
  <a name="1082321"> </a>You can create as many <span style="font-family: monospace">SslLib</span> objects as you want, but you typically only create one per application.
</p>

<h2 class="HaHeadA">
  <a name="1104062"> </a>SSL Structures 
<a href="#1058750"><img src="images/top.gif" border="0"></a></h2>


<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1104136"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> SslCallback
<a href="#1058750"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1104137"> </a>The <span style="font-family: monospace">SslCallback</span> structure contains information about a callback function that's invoked during SSL operations.
</p>
<pre  class="Preformatted">
typedef struct {<a name="1104138"> </a>
  void  *reserved;<a name="1104139"> </a>
  SslLibCallbackFunc  callback;<a name="1104140"> </a>
  void  *data;<a name="1104141"> </a>
  SslContext  *ssl;<a name="1104142"> </a>
}  SslCallback<a name="1104143"> </a>
</pre>
<p class="Body">
  <a name="1104161"> </a>The fields are: 
</p>

<h5 class="TgTable">
  <a name="1105906"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="1104146"> </a><div class="CellBody"><span style="font-family: monospace">callback</span></div></td>
    <td><a name="1104148"> </a><div class="CellBody">A pointer to a callback function.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1104150"> </a><div class="CellBody"><span style="font-family: monospace">data</span></div></td>
    <td><a name="1104152"> </a><div class="CellBody">A pointer to data that's passed to the callback function when it's invoked.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1104154"> </a><div class="CellBody"><span style="font-family: monospace">ssl</span></div></td>
    <td><a name="1104156"> </a><div class="CellBody">The SSL context to which the callback applies, or <span style="font-family: monospace">NULL</span> if it's not specific to a context. You never set this field; it's set for you when the callback is copied into an <a href="SSLStructs.html#1103759"><span style="font-family: monospace">SslContext</span></a> object.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1104158"> </a><div class="CellBody"><span style="font-family: monospace">reserved</span></div></td>
    <td><a name="1104160"> </a><div class="CellBody">Reserved for future use.</div></td>
  </tr>
</table>




</h5><p class="Body">
  <a name="1104162"> </a>There are two types of callback functions: info and verify. The info callback is called as data is being read, when the server sends an alert, and so on. The verify callback is called when a certificate is being verified.
</p>
<p class="Body">
  <a name="1104163"> </a>To register a callback function, you create an <span style="font-family: monospace">SslLibCallback</span> structure, fill out the <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">callback</span> and <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">data</span> fields, and then use the structure to set the value of the <a href="SSLMacros.html#1111557"><span style="font-family: monospace">InfoCallback</span></a> or <a href="SSLMacros.html#1110796"><span style="font-family: monospace">VerifyCallback</span></a> attribute. To set the attribute you call one of these macros:
</p>

  <a name="1104176"> </a><p class="B1Bullet"> &#8226; <a href="SSLMacros.html#1111572"><span style="font-family: monospace">SslLibSet_InfoCallback</span></a> sets the <a href="SSLMacros.html#1111557"><span style="font-family: monospace">InfoCallback</span></a> attribute of an <a href="SSLStructs.html#1069569"><span style="font-family: monospace">SslLib</span></a> object.</p>

  <a name="1104186"> </a><p class="B1Bullet"> &#8226; <a href="SSLMacros.html#1110811"><span style="font-family: monospace">SslLibSet_VerifyCallback</span></a> sets the <a href="SSLMacros.html#1110796"><span style="font-family: monospace">VerifyCallback</span></a> attribute of an <a href="SSLStructs.html#1069569"><span style="font-family: monospace">SslLib</span></a> object.</p>

  <a name="1104196"> </a><p class="B1Bullet"> &#8226; <a href="SSLMacros.html#1111575"><span style="font-family: monospace">SslContextSet_InfoCallback</span></a> sets the <a href="SSLMacros.html#1111557"><span style="font-family: monospace">InfoCallback</span></a> attribute of an <a href="SSLStructs.html#1103759"><span style="font-family: monospace">SslContext</span></a> object.</p>

  <a name="1104203"> </a><p class="B1Bullet"> &#8226; <a href="SSLMacros.html#1110814"><span style="font-family: monospace">SslContextSet_VerifyCallback</span></a> sets the <a href="SSLMacros.html#1110796"><span style="font-family: monospace">VerifyCallback</span></a> attribute of an <a href="SSLStructs.html#1103759"><span style="font-family: monospace">SslContext</span></a> object.</p>
<p class="Body">
  <a name="1104210"> </a>When you register an info callback you must also set the <a href="SSLMacros.html#1111589"><span style="font-family: monospace">InfoInterest</span></a> attribute by calling <a href="SSLMacros.html#1111619"><span style="font-family: monospace">SslLibSet_InfoInterest</span></a> or <a href="SSLMacros.html#1111622"><span style="font-family: monospace">SslContextSet_InfoInterest</span></a> macro. The <a href="SSLMacros.html#1111589"><span style="font-family: monospace">InfoInterest</span></a> attribute contains a list of the events that your info callback is interested in. 
</p>
<p class="Body">
  <a name="1104223"> </a>As with (nearly) all SSL attributes, the callbacks that you set in an <a href="SSLStructs.html#1069569"><span style="font-family: monospace">SslLib</span></a> are copied into the <a href="SSLStructs.html#1103759"><span style="font-family: monospace">SslContext</span></a> objects that it spawns.
</p>
<p class="Body">
  <a name="1104230"> </a>You can use the same <span style="font-family: monospace">SslLibCallback</span> structure to set more than one callback function. After you've called a callback-registering macro, you can free the original <span style="font-family: monospace">SslLibCallback</span> structure. 
</p>
<p class="Body">
  <a name="1104231"> </a>The protocol for the callback functions is described in <a href="SSLFuncs.html#1100530"><span style="font-family: monospace">SslCallbackFunc</span></a>, in <a href="SSLFuncs.html#1058750">Chapter 80, "SSL Functions."</a>
</p>

<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1104652"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> SslCipherSuiteInfo
<a href="#1058750"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1104653"> </a>Structure that contains information about the cipher suite that's being used. The structure is stored in the <a href="SSLMacros.html#1114028"><span style="font-family: monospace">CipherSuiteInfo</span></a> attribute. 
</p>
<pre  class="Preformatted">
ttypedef struct SslCipherSuiteInfo_st {<a name="1104657"> </a>
  UInt8  cipherSuite[2];<a name="1104658"> </a>
  UInt16  cipher;<a name="1104659"> </a>
  UInt16  digest;<a name="1104660"> </a>
  UInt16  keyExchange;	<a name="1104661"> </a>
  UInt16  authentication;	<a name="1104662"> </a>
  UInt16  version;<a name="1104663"> </a>
  UInt16  cipherBitLength;<a name="1104664"> </a>
  UInt16  cipherKeyLength;<a name="1104665"> </a>
  UInt16  keyExchangeLength;<a name="1104666"> </a>
  UInt16  authenticationLength;<a name="1104667"> </a>
  UInt16  export;<a name="1104668"> </a>
} SslCipherSuiteInfo;<a name="1104669"> </a>
</pre>
<p class="Body">
  <a name="1104670"> </a>The fields are:
</p>

<h5 class="TgTable">
  <a name="1104746"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="1104673"> </a><div class="CellBody"><span style="font-family: monospace">cipherSuite</span></div></td>
    <td><a name="1104675"> </a><div class="CellBody">A two-byte value that represents the current cipher suite. The possible values, encoded as constants, are:</div><p class="DTDefinitionTerm">
  <a name="1104676"> </a>0
</p>
<p class="DDDefinitionDesc">
  <a name="1104677"> </a>No cipher suite is being used.
</p>
<p class="DTDefinitionTerm">
  <a name="1104678"> </a><span style="font-family: monospace">sslCs_RSA_RC4_56_SHA1</span>
</p>
<p class="DDDefinitionDesc">
  <a name="1104679"> </a>Secure Hash Algorithm-1, 56-bit
</p>
<p class="DTDefinitionTerm">
  <a name="1104680"> </a><span style="font-family: monospace">sslCs_RSA_RC4_128_SHA1</span>
</p>
<p class="DDDefinitionDesc">
  <a name="1104681"> </a>Secure Hash Algorithm-1, 128-bit.
</p>
<p class="DTDefinitionTerm">
  <a name="1104682"> </a><span style="font-family: monospace">sslCs_RSA_RC4_40_MD5</span>
</p>
<p class="DDDefinitionDesc">
  <a name="1104683"> </a>Rivest Message Digest 5, 40-bit.
</p>
<p class="DTDefinitionTerm">
  <a name="1104684"> </a><span style="font-family: monospace">sslCs_RSA_RC4_128_MD5</span>
</p>
<p class="DDDefinitionDesc">
  <a name="1104685"> </a>Rivest Message Digest 5, 128-bit.
</p>
</td>
  </tr>
  <tr valign="top">
    <td><a name="1104687"> </a><div class="CellBody"><span style="font-family: monospace">cipher</span></div></td>
    <td><a name="1104689"> </a><div class="CellBody">A constant that represents the cipher that's being used for this connection:</div><p class="DTDefinitionTerm">
  <a name="1104690"> </a><span style="font-family: monospace">sslCsiCipherNull</span>
</p>
<p class="DDDefinitionDesc">
  <a name="1104691"> </a>No cipher currently set.
</p>
<p class="DTDefinitionTerm">
  <a name="1104692"> </a><span style="font-family: monospace">sslCsiCipherRc4</span>
</p>
<p class="DDDefinitionDesc">
  <a name="1104693"> </a>RSA RC4.
</p>
</td>
  </tr>
  <tr valign="top">
    <td><a name="1104695"> </a><div class="CellBody"><span style="font-family: monospace">digest</span></div></td>
    <td><a name="1104697"> </a><div class="CellBody">A constant that represents the message digest format.:</div><p class="DTDefinitionTerm">
  <a name="1104698"> </a><span style="font-family: monospace">sslCsiDigestNull</span>
</p>
<p class="DDDefinitionDesc">
  <a name="1104699"> </a>No message digest.
</p>
<p class="DTDefinitionTerm">
  <a name="1104700"> </a><span style="font-family: monospace">sslCsiDigestMd2</span>
</p>
<p class="DDDefinitionDesc">
  <a name="1104701"> </a>Rivest Message Digest 2.
</p>
<p class="DTDefinitionTerm">
  <a name="1104702"> </a><span style="font-family: monospace">sslCsiDigestMd5</span>
</p>
<p class="DDDefinitionDesc">
  <a name="1104703"> </a>Rivest Message Divest 5.
</p>
<p class="DTDefinitionTerm">
  <a name="1104704"> </a><span style="font-family: monospace">sslCsiDigestSha1</span>
</p>
<p class="DDDefinitionDesc">
  <a name="1104705"> </a>Secure Hash Algorithm-1.
</p>
</td>
  </tr>
  <tr valign="top">
    <td><a name="1104707"> </a><div class="CellBody"><span style="font-family: monospace">keyExchange</span></div></td>
    <td><a name="1104709"> </a><div class="CellBody">A constant that represents the key exchange type that's being used:</div><p class="DTDefinitionTerm">
  <a name="1104710"> </a><span style="font-family: monospace">sslCsiKeyExchNull</span>
</p>
<p class="DDDefinitionDesc">
  <a name="1104711"> </a>No key exchange.
</p>
<p class="DTDefinitionTerm">
  <a name="1104712"> </a><span style="font-family: monospace">sslCsiKeyExchRsa</span>
</p>
<a name="1104713"> </a><div class="CellBody">RSA.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1104715"> </a><div class="CellBody"><span style="font-family: monospace">authentication</span></div></td>
    <td><a name="1104717"> </a><div class="CellBody">A constant that represents the authentication type that's being used:</div><p class="DTDefinitionTerm">
  <a name="1104718"> </a><span style="font-family: monospace">sslCsiAuthNull</span>
</p>
<p class="DDDefinitionDesc">
  <a name="1104719"> </a>No key exchange.
</p>
<p class="DTDefinitionTerm">
  <a name="1104720"> </a><span style="font-family: monospace">sslCsiAuthRsa</span>
</p>
<a name="1104721"> </a><div class="CellBody">RSA.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1104723"> </a><div class="CellBody"><span style="font-family: monospace">version</span></div></td>
    <td><a name="1104725"> </a><div class="CellBody">The SSL version number.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1104727"> </a><div class="CellBody"><span style="font-family: monospace">cipherBitLength</span></div></td>
    <td><a name="1104729"> </a><div class="CellBody">The length of the material used for encryption key generation, in bits. For export ciphers this will be either 40 or 56 bits.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1104731"> </a><div class="CellBody"><span style="font-family: monospace">cipherKeyLength</span></div></td>
    <td><a name="1104733"> </a><div class="CellBody">The length of the encryption key that's generated, in bits. For an export RC4 cipher, the <span style="font-family: monospace">cipherKeyLength</span> is 128.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1104735"> </a><div class="CellBody"><span style="font-family: monospace">keyExchangeLength</span></div></td>
    <td><a name="1104737"> </a><div class="CellBody">The length of the public key used to establish a shared secret, in bits.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1104739"> </a><div class="CellBody"><span style="font-family: monospace">authenticationLength</span></div></td>
    <td><a name="1104741"> </a><div class="CellBody">The length of the public key used to ensure that the key exchange wasn't tampered with, in bits. For export ciphers, the <span style="font-family: monospace">keyExchangeLength</span> is often shorter than the <span style="font-family: monospace">authenticationLength</span>. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1104743"> </a><div class="CellBody"><span style="font-family: monospace">export</span></div></td>
    <td><a name="1104745"> </a><div class="CellBody">A boolean value: 1 if an export cipher is being used; 0 otherwise.</div></td>
  </tr>
</table>




</h5><p class="Body">
  <a name="1104747"> </a>The list of possible cipher suites can be retrieved from the <a href="SSLMacros.html#1110312"><span style="font-family: monospace">CipherSuites</span></a> attribute. The suite that's currently being used is given by the <a href="SSLMacros.html#1114279"><span style="font-family: monospace">CipherSuite</span></a> attribute.
</p>

<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1104832"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> SslExtendedItem
<a href="#1058750"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1104833"> </a>Structure that's used to describe a single certificate-related item. Every <span style="font-family: monospace">SslExtendedItem</span> has a distinct (pre-defined) "extended item type." The location of the item's data is indicated by the structure-the data isn't stored in the structure.
</p>
<p class="Body">
  <a name="1104834"> </a>You never create <span style="font-family: monospace">SslExtendedItem</span> structures yourself. The objects that relate to a particular certificate are collected into an <a href="SSLStructs.html#1104880"><span style="font-family: monospace">SslExtendedItems</span></a> structure and returned to you (principally) by your verify callback function.
</p>
<pre  class="Preformatted">
typedef struct SslExtendedItem_st {<a name="1104838"> </a>
  UInt16  type;<a name="1104839"> </a>
  UInt16  field;<a name="1104840"> </a>
  UInt16  dataType;<a name="1104841"> </a>
  UInt16  len;<a name="1104842"> </a>
  UInt32  offset;<a name="1104843"> </a>
} SslExtendedItem;<a name="1104844"> </a>
</pre>
<p class="Body">
  <a name="1104845"> </a>The fields are:
</p>

<h5 class="TgTable">
  <a name="1104878"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="1104848"> </a><div class="CellBody"><span style="font-family: monospace">type</span></div></td>
    <td><a name="1104850"> </a><div class="CellBody">The extended item type, one of:</div><p class="DTDefinitionTerm">
  <a name="1104851"> </a><span style="font-family: monospace">sslExItemTypeX509</span>
</p>
<p class="DDDefinitionDesc">
  <a name="1104852"> </a>X.509 Certificate
</p>
<p class="DTDefinitionTerm">
  <a name="1104853"> </a><span style="font-family: monospace">sslExItemTypeRSA</span>
</p>
<p class="DDDefinitionDesc">
  <a name="1104854"> </a>RSA public key
</p>
<p class="DTDefinitionTerm">
  <a name="1104855"> </a><span style="font-family: monospace">sslExItemTypeRDN</span>
</p>
<p class="DDDefinitionDesc">
  <a name="1104856"> </a>An X.509 Relative Distinguished Name (RDN). This is the certificate's name. Each certificate contains two names, the <span style="color: #333;;  font-style: italic; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">Subject</span> of the certificate and the <span style="color: #333;;  font-style: italic; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">Issuer</span> of the certificate. Both are encoded as RDNs that contain multiple fields.
</p>
<p class="DTDefinitionTerm">
  <a name="1104857"> </a><span style="font-family: monospace">sslExItemTypeX509Ex</span>
</p>
<p class="DDDefinitionDesc">
  <a name="1104858"> </a>X.509 certificates can contain multiple "extensions." This type is used to specify that the item is a certificate extension.
</p>
</td>
  </tr>
  <tr valign="top">
    <td><a name="1104860"> </a><div class="CellBody"><span style="font-family: monospace">field</span></div></td>
    <td><a name="1104862"> </a><div class="CellBody">Type-specific value.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1104864"> </a><div class="CellBody"><span style="font-family: monospace">dataType</span></div></td>
    <td><a name="1104866"> </a><div class="CellBody">The encoding for the item's data. For the SSL library, the value is one of the ASN.1 encoding types, as listed in <span style="font-family: monospace">SslLibAsn1.h</span>. The encoding is relevant if you're trying to display the data bytes.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1104868"> </a><div class="CellBody"><span style="font-family: monospace">len</span></div></td>
    <td><a name="1104870"> </a><div class="CellBody">Number of data bytes.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1104872"> </a><div class="CellBody"><span style="font-family: monospace">offset</span></div></td>
    <td><a name="1104874"> </a><div class="CellBody">Location of the data itself, as an offset in bytes from the beginning of the <a href="SSLStructs.html#1104880"><span style="font-family: monospace">SslExtendedItems</span></a> structure that contains this <span style="font-family: monospace">SslExtendedItem</span>.</div></td>
  </tr>
</table>




</h5>
<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1104880"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> SslExtendedItems
<a href="#1058750"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1104881"> </a>Structure that contains a set of related data items that pertain to an SSL certificate or other cryptographic entity. The <span style="font-family: monospace">SslExtendedItems</span> structure is used as part of the <a href="SSLStructs.html#1101690"><span style="font-family: monospace">SslVerify</span></a> structure, and is used as the type of the <a href="SSLMacros.html#1114443"><span style="font-family: monospace">PeerCert</span></a> attribute.
</p>
<p class="Body">
  <a name="1104888"> </a>The <span style="font-family: monospace">SslExtendedItems</span> structure is used by the SSL library to return information to your application; you never create and populate an <span style="font-family: monospace">SslExtendedItems</span> structure yourself.
</p>
<pre  class="Preformatted">
typedef struct SslExtendedItems_st<a name="1104889"> </a>
{<a name="1104890"> </a>
  UInt32  length;<a name="1104891"> </a>
  UInt32  num;<a name="1104892"> </a>
  SslExtendedItem  eitem[1];<a name="1104893"> </a>
} SslExtendedItems;<a name="1104894"> </a>
</pre>
<p class="Body">
  <a name="1104908"> </a>The fields are: 
</p>

<h5 class="TgTable">
  <a name="1105990"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="1104897"> </a><div class="CellBody"><span style="font-family: monospace">length</span></div></td>
    <td><a name="1104899"> </a><div class="CellBody">Total length of the structure, in bytes.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1104901"> </a><div class="CellBody"><span style="font-family: monospace">num</span></div></td>
    <td><a name="1104903"> </a><div class="CellBody">Number of elements in the <span style="font-family: monospace">eitem</span> array.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1104905"> </a><div class="CellBody"><span style="font-family: monospace">eitem</span></div></td>
    <td><a name="1104907"> </a><div class="CellBody">Individual data items (these are the "related data items" mentioned above). The array contains num elements. </div></td>
  </tr>
</table>




</h5><p class="Body">
  <a name="1104909"> </a>The items in the eitem array needn't all be the same "extended item type" (as defined in <a href="SSLStructs.html#1104832"><span style="font-family: monospace">SslExtendedItem</span></a>). For example, the <span style="font-family: monospace">SslExtendedItems</span> structure for a certificate typically contains an <span style="font-family: monospace">sslExItemTypeX509</span> item, an <span style="font-family: monospace">sslExItemTypeRSA</span>, and an <span style="font-family: monospace">sslExItemType</span> (for the subject name).
</p>

<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1104239"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> SslIoBuf
<a href="#1058750"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1104240"> </a>Structure that represents a data I/O operation. It's passed to your info callback function as data is being read or written.
</p>
<pre  class="Preformatted">
typedef  struct  {<a name="1104241"> </a>
  SslContext  *ssl;<a name="1104242"> </a>
  UInt8  *ptr;<a name="1104243"> </a>
  UInt32  outNum;<a name="1104244"> </a>
  UInt32  inNum;<a name="1104245"> </a>
  UInt32  max;<a name="1104246"> </a>
  UInt32  err;<a name="1104247"> </a>
  UInt32  flags;<a name="1104248"> </a>
}  SslIoBuf;<a name="1104249"> </a>
</pre>
<p class="Body">
  <a name="1104250"> </a>You can ask for the info callback function to be invoked just before data is read, just after it's read, just before it's written, and just after it's written. You set the <a href="SSLMacros.html#1111589"><span style="font-family: monospace">InfoInterest</span></a> attribute to register for these four events.
</p>
<p class="Body">
  <a name="1104254"> </a>Most of the SslIoBuf fields depend on which of these four events is being described:
</p>
<h4 class="RefSide">
  <a name="1104284"> </a>Fields 
</h4>

<h5 class="TgTable">
  <a name="1105886"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="1104257"> </a><div class="CellBody"><span style="font-family: monospace">ctx</span></div></td>
    <td><a name="1104259"> </a><div class="CellBody">The SSl context that performed the operation.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1104261"> </a><div class="CellBody"><span style="font-family: monospace">ptr</span></div></td>
    <td><a name="1104263"> </a><div class="CellBody">A pointer to the data that was just read, or that's about to be written. For "before read" and "after write" events, the buffer should be empty.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1104265"> </a><div class="CellBody"><span style="font-family: monospace">outNum</span></div></td>
    <td><a name="1104267"> </a><div class="CellBody">The number of bytes that were just read or written. For the "before" events, this field is set to 0.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1104269"> </a><div class="CellBody"><span style="font-family: monospace">inNum</span></div></td>
    <td><a name="1104271"> </a><div class="CellBody">The number of bytes that are about to be read or written. For the "before read" case, this is the minimum number of bytes that the context wants to read-the actual number of bytes read may be larger.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1104273"> </a><div class="CellBody"><span style="font-family: monospace">max</span></div></td>
    <td><a name="1104275"> </a><div class="CellBody">This is valid for the "before read" event only. It's set to the maximum number of bytes that can be read during the current operation. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1104277"> </a><div class="CellBody"><span style="font-family: monospace">error</span></div></td>
    <td><a name="1104279"> </a><div class="CellBody">This is set to the error code that was returned by a read operation. It's only valid for the "after" events.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1104281"> </a><div class="CellBody"><span style="font-family: monospace">flags</span></div></td>
    <td><a name="1104283"> </a><div class="CellBody">Currently ignored.</div></td>
  </tr>
</table>




</h5><p class="Body">
  <a name="1104285"> </a>The information in this structure is provided for debugging and informational purposes only. You could use it, for example, to display the progress of an I/O operation.
</p>

<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1104390"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> SslLibCallback
<a href="#1058750"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1104391"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1104392"> </a>Structure that represents a secure socket.
</p>
<h4 class="RefSide">
  <a name="1104393"> </a>Declared In 
</h4>
<p class="RefPrototype">
  <a name="1104394"> </a>SslLib.h
</p>
<h4 class="RefSide">
  <a name="1104395"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1104396"> </a>typedef struct {<br>  void  *reserved;<br>  SslLibCallbackFunc  callback;<br>  void  *data;<br>  SslContext  *ssl;<br>}  SslLibCallback
</p>
<h4 class="RefSide">
  <a name="1104397"> </a>Fields
</h4>
<p class="DTDefinitionTerm">
  <a name="1104398"> </a>callback
</p>
<p class="DDDefinitionDesc">
  <a name="1104399"> </a>A pointer to a callback function.
</p>
<p class="DTDefinitionTerm">
  <a name="1104400"> </a>data
</p>
<p class="DDDefinitionDesc">
  <a name="1104401"> </a>A pointer to data that's passed to the function when it's invoked.
</p>
<p class="DTDefinitionTerm">
  <a name="1104402"> </a>ssl
</p>
<p class="DDDefinitionDesc">
  <a name="1104403"> </a>The SSL context to which the callback applies, or <span style="font-family: monospace">NULL</span> if the structure is owned by an SslLib object.
</p>
<p class="DTDefinitionTerm">
  <a name="1104404"> </a>reserved
</p>
<p class="DDDefinitionDesc">
  <a name="1104405"> </a>Reserved for future use.
</p>
<h4 class="RefSide">
  <a name="1104406"> </a>Comments 
</h4>
<p class="Body">
  <a name="1104407"> </a>To register a callback function, create a <span style="font-family: monospace">SslLibCallback</span> structure, fill out the <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">callback</span> and <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">data</span> fields and pass the structure to one of the <a href="SSLFuncs.html#1100530"><span style="font-family: monospace">SslCallbackFunc</span></a> functions. The structure is copied into the context, and the <span style="font-family: monospace">ssl</span> field is properly set (in the copy). 
</p>
<p class="Body">
  <a name="1104411"> </a>It's the caller's responsibility to free the original <span style="font-family: monospace">SslLibCallback</span> structure. The same <span style="font-family: monospace">SslLibCallback</span> structure can be used to set more than one callback function.
</p>
<p class="Body">
  <a name="1104417"> </a>For more information, see <a href="SSLFuncs.html#1100530"><span style="font-family: monospace">SslCallbackFunc</span></a> in <a href="SSLFuncs.html#1058750">Chapter 80, "SSL Functions."</a>
</p>

<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1104421"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> SslSession
<a href="#1058750"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1104422"> </a>Structure that represents the current SSL session.
</p>
<pre  class="Preformatted">
typedef struct SslSession_st<a name="1104423"> </a>
{<a name="1104424"> </a>
  UInt32  length;<a name="1104425"> </a>
  UInt16  version;<a name="1104426"> </a>
  unsigned char  cipherSuite[2];<a name="1104427"> </a>
  unsigned char  compression;<a name="1104428"> </a>
  unsigned char  sessionId[33];<a name="1104429"> </a>
  unsigned char  masterSecret[48];<a name="1104430"> </a>
  unsigned char  time[8];   unsigned char  timeout[4]; <a name="1104431"> </a>
  UInt16  certificateOffset;<a name="1104432"> </a>
  UInt16  extraData;<a name="1104433"> </a>
} SslSession;<a name="1104434"> </a>
</pre>
<p class="Body">
  <a name="1104438"> </a>A context's <span style="font-family: monospace">SslSession</span> is populated when you call <a href="SSLFuncs.html#1080257"><span style="font-family: monospace">SslOpen</span></a>. You can retrieve a context's <span style="font-family: monospace">SslSession</span> structure and modify it directly-particularly if you want to set the fields that are reserved for application use. To retrieve the <span style="font-family: monospace">SslSession</span>, call the <a href="SSLMacros.html#1114874"><span style="font-family: monospace">SslContextGet_SslSession</span></a> macro. Keep in mind that this gives you a pointer to the context's internal <a href="SSLMacros.html#1114854"><span style="font-family: monospace">SslSession</span></a> attribute. If you want to store the <span style="font-family: monospace">SslSession</span>, you must copy the attribute's data.
</p>
<p class="Body">
  <a name="1104445"> </a>The fields are:
</p>

<h5 class="TgTable">
  <a name="1104496"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="1104448"> </a><div class="CellBody"><span style="font-family: monospace">length</span></div></td>
    <td><a name="1104450"> </a><div class="CellBody">The total size of the structure, in bytes.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1104452"> </a><div class="CellBody"><span style="font-family: monospace">version</span></div></td>
    <td><a name="1104454"> </a><div class="CellBody">Version number of the SSL protocol that's being used; 0 if the session is using cleartext.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1104456"> </a><div class="CellBody"><span style="font-family: monospace">cipherSuite</span></div></td>
    <td><a name="1104461"> </a><div class="CellBody">Cipher suite that's being used. See the <a href="SSLMacros.html#1114279"><span style="font-family: monospace">CipherSuite</span></a> attribute.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1104463"> </a><div class="CellBody"><span style="font-family: monospace">compression</span></div></td>
    <td><a name="1104465"> </a><div class="CellBody">The name of the compression scheme that's being used.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1104467"> </a><div class="CellBody"><span style="font-family: monospace">sessionId</span></div></td>
    <td><a name="1104469"> </a><div class="CellBody">Session identification number. The ID value can be as many as 32 bytes long; the first byte gives the number of valid bytes.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1104471"> </a><div class="CellBody"><span style="font-family: monospace">masterSecret</span></div></td>
    <td><a name="1104473"> </a><div class="CellBody">The value of the "master secret" that was established during the SSL handshake. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1104475"> </a><div class="CellBody"><span style="font-family: monospace">time</span></div></td>
    <td><a name="1104477"> </a><div class="CellBody">Used to record the time that the session started, using a local time representation. The format can be anything that fits in eight bytes. Unused by the SSL library, an application can use this field as it wishes.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1104479"> </a><div class="CellBody"><span style="font-family: monospace">timeout</span></div></td>
    <td><a name="1104481"> </a><div class="CellBody">The number of seconds that the session should remain valid. The timeout field is also unused by the SSL library. Use it as you wish.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1104483"> </a><div class="CellBody"><span style="font-family: monospace">certificateOffset</span></div></td>
    <td><a name="1104485"> </a><div class="CellBody">Offset, in bytes, from the start of the structure to an <a href="SSLStructs.html#1104880"><span style="font-family: monospace">SslExtendedItems</span></a> structure that contains the server's certificate. The field is provided for the application's convenience. The SSL library doesn't actually copy the certificate: If you want to cache the server's certificate, you have to retrieve the data through the <a href="SSLMacros.html#1114443"><span style="font-family: monospace">PeerCert</span></a> attribute, extend the size of the <span style="font-family: monospace">SslSession</span> structure, copy the certificate data, and then set the <span style="font-family: monospace">certificateOffset</span> yourself.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1104493"> </a><div class="CellBody"><span style="font-family: monospace">extraData</span></div></td>
    <td><a name="1104495"> </a><div class="CellBody">Offset, in bytes, from the start of the structure to some extra data that the application keeps for itself. This is similar to the <span style="font-family: monospace">certificateOffset</span> field: You have to allocate, copy, and mark the data yourself.</div></td>
  </tr>
</table>




</h5>
<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1061974"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> SslSocket
<a href="#1058750"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1061976"> </a>The <span style="font-family: monospace">SslSocket</span> structure contains information about the socket that's being used in the network connection. The structure is defined as:
</p>
<pre  class="Preformatted">
typedef struct {<a name="1067128"> </a>
  NetSocketRef  socket;<a name="1087687"> </a>
  Int16  flags;<a name="1067129"> </a>
  UInt16  addrLen;<a name="1067130"> </a>
  Err  err;<a name="1067131"> </a>
  Int32  timeout;<a name="1067132"> </a>
  NetSocketAddrType  addr;<a name="1067133"> </a>
}  SslSocket;<a name="1067049"> </a>
</pre>
<p class="Body">
  <a name="1094002"> </a>You can create your own <span style="font-family: monospace">SslSocket</span> structure and add it's data to a context through the <a href="SSLMacros.html#1115389"><span style="font-family: monospace">SslContextSet_IoStruct</span></a> macro. When you do this, the data in your structure is copied into a structure that's held by the context. Note, however, that the <span style="font-family: monospace">socket</span> field isn't copied. To set the socket, use <a href="SSLMacros.html#1120146"><span style="font-family: monospace">SslContextSet_Socket</span></a>.
</p>
<p class="Body">
  <a name="1094801"> </a>The argument values that you pass to <a href="SSLFuncs.html#1149850"><span style="font-family: monospace">SslSend</span></a> and <a href="SSLFuncs.html#1133001"><span style="font-family: monospace">SslReceive</span></a> are used to modify the context's <span style="font-family: monospace">SslSocket</span> structure. If, for example, you create an <span style="font-family: monospace">SslSocket</span> with a particular <span style="font-family: monospace">timeout</span> value, set it in a context, and then call <a href="SSLFuncs.html#1149850"><span style="font-family: monospace">SslSend</span></a> with a different timeout value (passed as an argument), the latter timeout is recorded in the context's <span style="font-family: monospace">SslSocket</span> structure, overriding your original setting.
</p>
<p class="Body">
  <a name="1094808"> </a>To retrieve a pointer to the context's <span style="font-family: monospace">SslSocket</span>, call <a href="SSLMacros.html#1115391"><span style="font-family: monospace">SslContextGet_IoStruct</span></a>. 
</p>
<p class="Body">
  <a name="1094846"> </a>The fields are: 
</p>

<h5 class="TgTable">
  <a name="1105958"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="1094814"> </a><div class="CellBody"><span style="font-family: monospace">socket</span></div></td>
    <td><a name="1094816"> </a><div class="CellBody">Socket identifier, as created and returned by <span style="font-family: monospace">NetLibSocketOpen</span>. The SSL library doesn't open or connect the socket for you; all socket operations other than reading and writing data must be done through net library calls.</div><a name="1097650"> </a><div class="CellBody"><br></div><a name="1097651"> </a><div class="CellBody">You never set the <span style="font-family: monospace">socket</span> field directly; use the <a href="SSLMacros.html#1120146"><span style="font-family: monospace">SslContextSet_Socket</span></a> macro, instead.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094821"> </a><div class="CellBody"><span style="font-family: monospace">flags</span></div></td>
    <td><a name="1094823"> </a><div class="CellBody">Options that control a socket's I/O operations. See <a href="NetLibrary.html#1254436"><span style="font-family: monospace">I/O Flags</span></a> in <a href="NetLibrary.html#1254075">Chapter 61, "Net Library,"</a> for a description of these options.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094831"> </a><div class="CellBody"><span style="font-family: monospace">addr</span></div></td>
    <td><a name="1094833"> </a><div class="CellBody">The most recent address that the socket read from or wrote to.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094835"> </a><div class="CellBody"><span style="font-family: monospace">addrLen</span></div></td>
    <td><a name="1094837"> </a><div class="CellBody">The length, in bytes, of the <span style="font-family: monospace">addr</span> field.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094839"> </a><div class="CellBody"><span style="font-family: monospace">err</span></div></td>
    <td><a name="1094841"> </a><div class="CellBody">The most recent socket error.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1094843"> </a><div class="CellBody"><span style="font-family: monospace">timeout</span></div></td>
    <td><a name="1094845"> </a><div class="CellBody">The socket's I/O operation timeout value, in system ticks.</div></td>
  </tr>
</table>




</h5>
<h2 class="HBNHeadBNew"><img src="images/newsm.gif" width="20" height="20"><a name="1101690"> </a> <span style="color: #333;  font-style: italic; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">New	 </span> SslVerify
<a href="#1058750"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1097232"> </a>Structure that's passed to a verify callback function to provide information about a certificate that's being verified. This happens when the verification process hits a snag, giving your app a chance to the handle the problem. The callback is also invoked when the process has successfully completed.
</p>
<pre  class="Preformatted">
typedef struct SslVerify_st<a name="1093295"> </a>
  {<a name="1093280"> </a>
  SslExtendedItems  *certificate;<a name="1093281"> </a>
  SslExtendedItems  *fieldItems;<a name="1093282"> </a>
  UInt32  field;<a name="1093283"> </a>
  SslExtendedItems  *ex;<a name="1093284"> </a>
  UInt32  depth;<a name="1093285"> </a>
  UInt32  state;<a name="1093286"> </a>
} SslVerify;<a name="1093287"> </a>
</pre>
<p class="Body">
  <a name="1097212"> </a>The fields are: 
</p>

<h5 class="TgTable">
  <a name="1105971"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="1102775"> </a><div class="CellBody"><span style="font-family: monospace">certificate</span></div></td>
    <td><a name="1102777"> </a><div class="CellBody">Points to the certificate that's being verified.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1102779"> </a><div class="CellBody"><span style="font-family: monospace">fieldItems</span></div><a name="1102793"> </a><div class="CellBody"><span style="font-family: monospace">field</span></div></td>
    <td><a name="1102781"> </a><div class="CellBody"><span style="font-family: monospace">fieldItems</span> is an array of extended items; <span style="font-family: monospace">field</span> is an index into <span style="font-family: monospace">fieldItems</span>. The <a href="SSLStructs.html#1104880"><span style="font-family: monospace">SslExtendedItems</span></a> that's located at <span style="font-family: monospace">fieldItems[</span> <span style="font-family: monospace">field</span> <span style="font-family: monospace">]</span> contains the set of items that's causing the problem. (See below.)</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1102783"> </a><div class="CellBody"><span style="font-family: monospace">ex</span></div></td>
    <td><a name="1102785"> </a><div class="CellBody">If this is an extension error, the <span style="font-family: monospace">ex</span> field contains the data element of the X509 extension that failed.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1102787"> </a><div class="CellBody"><span style="font-family: monospace">depth</span></div></td>
    <td><a name="1102789"> </a><div class="CellBody">This is the level of the certificate being processed, where 0 is the server's certificate, and higher numbers are certificates along the "certificate chain" that leads to a trusted root certificate.</div></td>
  </tr>
</table>




</h5><p class="Body">
  <a name="1104971"> </a>The list of <a href="SSLStructs.html#1104832"><span style="font-family: monospace">SslExtendedItem</span></a> elements that the <a href="SSLStructs.html#1104880"><span style="font-family: monospace">SslExtendedItems</span></a> object located at <span style="font-family: monospace">fieldItems[</span> <span style="font-family: monospace">field</span> <span style="font-family: monospace">]</span> contains depends on the error flavor:
</p>

<h5 class="TgTable">
  <a name="1105008"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="1104977"> </a><div class="CellHeading">Flavor</div></th>
    <th><a name="1104979"> </a><div class="CellHeading">Contents</div></th>
  </tr>
  <tr valign="top">
    <td><a name="1104981"> </a><div class="CellBody"><span style="font-family: monospace">sslErrVerifyBadSignature</span></div></td>
    <td><a name="1104983"> </a><div class="CellBody">The server's certificate, which contains the public key entries.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1104985"> </a><div class="CellBody"><span style="font-family: monospace">sslErrVerifyNoTrustedRoot</span></div></td>
    <td><a name="1104987"> </a><div class="CellBody"><span style="font-family: monospace">NULL</span></div></td>
  </tr>
  <tr valign="top">
    <td><a name="1104989"> </a><div class="CellBody"><span style="font-family: monospace">sslErrVerifyNotAfter</span></div></td>
    <td><a name="1104991"> </a><div class="CellBody"><span style="font-family: monospace">sslExItemTypeX509</span>, <span style="font-family: monospace">asn1FldX509NotAfter</span></div></td>
  </tr>
  <tr valign="top">
    <td><a name="1104993"> </a><div class="CellBody"><span style="font-family: monospace">sslErrVerifyNotBefore</span></div></td>
    <td><a name="1104995"> </a><div class="CellBody"><span style="font-family: monospace">sslExItemTypeX509</span>, <span style="font-family: monospace">asn1FldX509NotBefore</span>.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1104997"> </a><div class="CellBody"><span style="font-family: monospace">sslErrVerifyConstraintViolation</span></div></td>
    <td><p class="Body">
  <a name="1104999"> </a><span style="font-family: monospace">asn1ExItemTypeX509Ex</span> (but see below)
</p>
</td>
  </tr>
  <tr valign="top">
    <td><a name="1105001"> </a><div class="CellBody"><span style="font-family: monospace">sslErrVerifyUnknownCriticalExtension </span></div></td>
    <td><a name="1105003"> </a><div class="CellBody"><span style="font-family: monospace">asn1ExItemTypeX509Ex</span> (but see below)</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1105005"> </a><div class="CellBody"><span style="font-family: monospace">sslErrOk </span></div></td>
    <td><a name="1105007"> </a><div class="CellBody"><span style="font-family: monospace">NULL</span></div></td>
  </tr>
</table>




</h5><p class="Body">
  <a name="1105009"> </a>The <span style="font-family: monospace">asn1ExItemTypeX509Ex</span> item needs to be decoded in order to be used. The item contains the "object identifier" part of a certificate extension. The item in the next field (i.e. <span style="font-family: monospace">fieldItems[</span> <span style="font-family: monospace">field+1</span> <span style="font-family: monospace">]</span>) depends on the item's <span style="font-family: monospace">dataType</span> field: If it's <span style="font-family: monospace">asn1Boolean</span>, than the "+1" item contains the extension's optional <span style="font-family: monospace">Boolean</span> "this is a critical extension" field, otherwise it contains the extension data itself. If "+1" contains the <span style="font-family: monospace">Boolean</span>, than "+2" is the data.
</p>
<p class="Body">
  <a name="1102740"> </a>The SSL library attempts to interpret only critical extensions, so the critical field should always be present. If a critical extension isn't understood, the certificate should be rejected.
</p>
&nbsp;<br>
				<!-- CONTENT_END -->

		</td>
		<td width="5">&nbsp;&nbsp;</td>
	</tr>
      </table>
    </td>
			</tr>
  <tr>
				<td>
					<table border="0" cellpadding="0" cellspacing="0" width="760">
        <!-- CONTENTCELL_END -->
        <tr valign="top"> 
          <td width="10">&nbsp;<!-- FOOTER_START --></td>
          <td width="72">&nbsp;</td>
          <td width="25" bgcolor="white" background="images/bkgrnd.gif">&nbsp;</td>
          <td width="600"> 
            <table border="0" cellpadding="0" cellspacing="0" width="600">
              <tr> 
                <td><img src="images/rule_10-1-5_ltblue.gif" width="600" height="16" border="0"></td>
              </tr>
              <tr> 
                <td> 
                  <p align="center" class="footer"> ©2002 PalmSource, Inc. and its affiliates.  All rights reserved. 
<a href="http://www.palmos.com/dev/training/">Training</a>&nbsp;|&nbsp;<a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a>&nbsp;|&nbsp;<a href="http://www.palmos.com/">Palm&nbsp;OS&nbsp;Platform</a>&nbsp;|&nbsp;<a href="Reference_Front.html" target="_blank">Legal Notices</a>&nbsp;<br>
												<!-- FOOTER_END --><br>
											</p>
                </td>
              </tr>
            </table>
          </td>
        </tr>
      </table>
				</td>
			</tr>
</table>
</BODY>
</HTML>