<HTML>

<HEAD>
<SMALLSCREENIGNORE> 
<LINK HREF="copy_of_palmos.css" REL="stylesheet" TYPE="text/css">
<LINK HREF="document.css" REL="StyleSheet" TYPE="text/css" media="screen">
<!-- SCRIPT_START -->
<!-- SCRIPT_END -->
</SMALLSCREENIGNORE>
<TITLE>Script Plugin</TITLE>

<META NAME="PALMTEMPLATE" CONTENT="1006-002 Palm HTML 20020513">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks Publisher Professional Edition 6.0.7">
<META NAME="TEMPLATEBASE" CONTENT="Palm HTML 20010625">
<META NAME="LASTUPDATED" CONTENT="12/13/02 10:10:52">
<META HTTP-EQUIV="content-type" CONTENT="text/html;charset=ISO-8859-1">

</HEAD>

<BODY LEFTMARGIN="0" MARGINWIDTH="0" TOPMARGIN="0" MARGINHEIGHT="0">
<SMALLSCREENIGNORE> 
<table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr>
	<td><a name="1278148"></a>
      <table border="0" cellpadding="0" cellspacing="0" width="100%">
        <tr height="35"> 
          <td height="35" colspan="2" bgcolor="#6699CC">&nbsp;</td>
        </tr>
        <tr valign="top"> 
          <td width="160" align="left"><a href="http://www.palmos.com"><img src="images/bigorb.gif" width="160" height="110" border="0"></a></td>
          <td align="left" width="100%"> 
            </SMALLSCREENIGNORE>
            <!-- CONTENTCELL_START -->
            <img border="0" height="45" src="images/orb_bkgrnd_600.gif" width="600"><br>
            <!--PAGENAV_START-->
            <SPAN CLASS="subnav">&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/index.html">Home</a> 
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/">Developers</a> 
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/support/">Development Support</a>
              &nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/support/docs/">Documentation</a></span><BR>
             <img src="images/pixel_ltblue.gif" width="600" height="1" border="0" vspace="2"><br>
             <h2 class="HeadDocPage">63  Script Plugin</h2>
             <img src="images/pixel_ltblue.gif" width="600" height="1" border="0" vspace="2"><br>
             &nbsp;<span class="subnav"><a href="ReferenceTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="NetworkUtils.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="SerialDriver.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ReferenceIX.html">Index</a></span>  
            <!--PAGENAV_END-->
          </td>
        </tr>
      </table>
    </td>
			</tr>
  <tr>
				<td> 
      <table width="100%" border="0" cellspacing="0" cellpadding="0">
        <tr>
							<td>&nbsp;&nbsp;&nbsp;</td>
						</tr>
        <tr>
		<td valign="top" width="10">&nbsp;&nbsp;&nbsp;</td>
		<td valign="top" width="175">
			<p class="SideTitle">Title - <br><a href="Reference_Front.html">Palm OS® Programmer's API Reference</a></p>
			<p class="SideTOC1-PartTab">Palm OS® 5 SDK </p>
			<p class="SideTOC1-PartTab">Part III: Communications </p>
			<p class="SideTOC1"><a href="ScriptPlugin.html">63  Script Plugin</a></p>
			
<p class="SideTOC2">
<a href="#1278171">Script Plugin Data Types
</a></p>

<p class="SideTOC3">
<a href="#1278173">PluginCallbackProcType
</a></p>

<p class="SideTOC3">
<a href="#1278192">PluginCmdPtr
</a></p>

<p class="SideTOC3">
<a href="#1278200">PluginCmdType
</a></p>

<p class="SideTOC3">
<a href="#1278232">PluginExecCmdType
</a></p>

<p class="SideTOC3">
<a href="#1278265">PluginInfoPtr
</a></p>

<p class="SideTOC3">
<a href="#1278273">PluginInfoType
</a></p>

<p class="SideTOC3">
<a href="#1278302">ScriptPluginLaunchCodesEnum
</a></p>

<p class="SideTOC2">
<a href="#1278347">Script Plugin Constants
</a></p>

<p class="SideTOC3">
<a href="#1278349">Command Constants
</a></p>

<p class="SideTOC3">
<a href="#1278438">Size Constants
</a></p>

<p class="SideTOC2">
<a href="#1278472">Script Plugin Functions
</a></p>

<p class="SideTOC3">
<a href="#1278475">ScriptPluginSelectorProc
</a></p>

		</td>

		<td width="5">&nbsp;&nbsp;</td>
		<td width="1" bgcolor="#6699cc">&nbsp;</td>
		<td width="5">&nbsp;&nbsp;</td>
		<td> 

				<!-- CONTENT_START -->

<p class="Body">
  <a name="1278149"> </a>This chapter describes the login script plugin support. You write a plugin to add to the list of available login script commands in the Network preferences panel. This chapter covers: 
</p>

  <a name="1278153"> </a><p class="B1Bullet"> &#8226; <a href="ScriptPlugin.html#1278171">Script Plugin Data Types</a></p>

  <a name="1278157"> </a><p class="B1Bullet"> &#8226; <a href="ScriptPlugin.html#1278347">Script Plugin Constants</a></p>
<p class="Body">
  <a name="1278159"> </a>The header file <span style="font-family: monospace">ScriptPlugin.h</span> declares the API described in this chapter. 
</p>
<p class="Body">
  <a name="1278160"> </a>For more information on the script plugin, see the section <a href="NetworkCommunication.html#997516">"Extending the Network Login Script Support"</a> in the <a href="NetworkCommunication.html#996393">"Network Communication"</a> chapter of the <i>Palm OS Programmer's Companion</i>, vol. II, <i>Communications</i>. 
</p>

<h2 class="HaHeadA">
  <a name="1278171"> </a>Script Plugin Data Types 
<a href="#1278148"><img src="images/top.gif" border="0"></a></h2>


<h2 class="HBHeadB">
  <a name="1278173"> </a>PluginCallbackProcType
<a href="#1278148"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1278175"> </a>The <span style="font-family: monospace">PluginCallbackProcType</span> defines the <span style="font-family: monospace">procP</span> field in <a href="ScriptPlugin.html#1278232"><span style="font-family: monospace">PluginExecCmdType</span></a>. 
</p>
<pre  class="Preformatted">
typedef struct {<a name="1278179"> </a>
  ScriptPluginSelectorProcPtr selectorProcP;<a name="1278180"> </a>
} PluginCallbackProcType, *PluginCallbackProcPtr; <a name="1278181"> </a>
</pre>

<h4 class="HCHeadC">
  <a name="1278182"> </a>Field Descriptions
</h4>

<h5 class="TgTable">
  <a name="1278191"> </a>

<table width="450" border="0" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="1278185"> </a><div class="CellBody"><span style="font-family: monospace">selectorProcP</span> </div></td>
    <td><a name="1278187"> </a><div class="CellBody">The address of a selector-based callback function for accessing the functionality of the network interface. Each network interface provides it own <span style="font-family: monospace">ScriptPluginSelectorProc</span> function. See <a href="ScriptPlugin.html#1278475"><span style="font-family: monospace">ScriptPluginSelectorProc</span></a>.</div></td>
  </tr>
</table>




</h5>
<h2 class="HBHeadB">
  <a name="1278192"> </a>PluginCmdPtr
<a href="#1278148"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1278197"> </a>The <span style="font-family: monospace">PluginCmdPtr</span> type defines a pointer to a <a href="ScriptPlugin.html#1278200"><span style="font-family: monospace">PluginCmdType</span></a> structure. 
</p>
<pre  class="Preformatted">
typedef PluginCmdType * PluginCmdPtr;<a name="1278198"> </a>
</pre>

<h2 class="HBHeadB">
  <a name="1278200"> </a>PluginCmdType
<a href="#1278148"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1278202"> </a>The <span style="font-family: monospace">PluginCmdType</span> structure specifies the name of a command. 
</p>
<pre  class="Preformatted">
typedef struct {<a name="1278203"> </a>
  Char    commandName[pluginMaxCmdNameLen + 1];<a name="1278204"> </a>
  Boolean hasTxtStringArg;<a name="1278205"> </a>
  UInt8   reserved;<a name="1278206"> </a>
} PluginCmdType;<a name="1278207"> </a>
</pre>

<h4 class="HCHeadC">
  <a name="1278208"> </a>Field Descriptions
</h4>

<h5 class="TgTable">
  <a name="1278229"> </a>

<table width="450" border="0" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="1278211"> </a><div class="CellBody"><span style="font-family: monospace">commandName</span> </div></td>
    <td><a name="1278213"> </a><div class="CellBody">The name of the command. This string appears in the pull-down list in the Network preferences panel's script view. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1278215"> </a><div class="CellBody"><br></div></td>
    <td><a name="1278217"> </a><div class="CellBody">The pull-down list contains all available commands from all plugins. Make sure that your command name is unique and as short as possible. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1278219"> </a><div class="CellBody"><span style="font-family: monospace">hasTxtStringArg</span> </div></td>
    <td><a name="1278221"> </a><div class="CellBody"><span style="font-family: monospace">true</span> if the command takes an argument. In this case when the user selects this command, the Network preferences panel displays a field next to the command name where the user should enter the argument. This argument is passed in the <span style="font-family: monospace">txtStringArg</span> field in <a href="ScriptPlugin.html#1278232"><span style="font-family: monospace">PluginExecCmdType</span></a> when the command is to be executed. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1278226"> </a><div class="CellBody"><span style="font-family: monospace">reserved</span> </div></td>
    <td><a name="1278228"> </a><div class="CellBody">Reserved for future use. </div></td>
  </tr>
</table>




</h5>
<h2 class="HBHeadB">
  <a name="1278232"> </a>PluginExecCmdType
<a href="#1278148"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1278234"> </a>The <span style="font-family: monospace">PluginExecCmdType</span> structure defines the parameter block for the <span style="font-family: monospace">scptLaunchCmdExecuteCmd</span> launch code. This structure specifies which command is to be executed and provides any necessary arguments for the command. Your plugin should respond by executing the command. 
</p>
<pre  class="Preformatted">
typedef struct {<a name="1278236"> </a>
  Char    commandName[pluginMaxCmdNameLen + 1];<a name="1278237"> </a>
  Char    txtStringArg
                 [pluginMaxLenTxtStringArg + 1];<a name="1278238"> </a>
  PluginCallbackProcPtr procP;<a name="1278239"> </a>
  void *  handle;<a name="1278240"> </a>
} PluginExecCmdType, *PluginExecCmdPtr;<a name="1278241"> </a>
</pre>

<h4 class="HCHeadC">
  <a name="1278242"> </a>Field Descriptions
</h4>

<h5 class="TgTable">
  <a name="1278263"> </a>

<table width="450" border="0" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="1278245"> </a><div class="CellBody"><span style="font-family: monospace">commandName</span> </div></td>
    <td><a name="1278247"> </a><div class="CellBody">The command's name. This is the string that appears in the pull-down list in the script view of the Network preferences panel. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1278249"> </a><div class="CellBody"><span style="font-family: monospace">txtStringArg</span> </div></td>
    <td><a name="1278251"> </a><div class="CellBody">If the command takes an argument, this field provides the argument as a string. A <span style="font-family: monospace">NULL</span> value means either that the user did not provide a value, or that you didn't specify that the command takes an argument. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1278253"> </a><div class="CellBody"><span style="font-family: monospace">procP</span> </div></td>
    <td><a name="1278258"> </a><div class="CellBody">A pointer to a <a href="ScriptPlugin.html#1278173"><span style="font-family: monospace">PluginCallbackProcType</span></a> structure, which identifies the network interface function that the plugin can use to execute the command. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1278260"> </a><div class="CellBody"><span style="font-family: monospace">handle</span> </div></td>
    <td><a name="1278262"> </a><div class="CellBody">Handle to information specific to a particular connection. You must pass this value when you call the function pointed to by <span style="font-family: monospace">procP</span>. </div></td>
  </tr>
</table>




</h5>
<h2 class="HBHeadB">
  <a name="1278265"> </a>PluginInfoPtr
<a href="#1278148"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1278270"> </a>The <span style="font-family: monospace">PluginInfoPtr</span> type defines a pointer to a <a href="ScriptPlugin.html#1278273"><span style="font-family: monospace">PluginInfoType</span></a> structure. 
</p>
<pre  class="Preformatted">
typedef PluginInfoType * PluginInfoPtr;<a name="1278271"> </a>
</pre>

<h2 class="HBHeadB">
  <a name="1278273"> </a>PluginInfoType
<a href="#1278148"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1278275"> </a>The <span style="font-family: monospace">PluginInfoType</span> structure is the parameter block for the <span style="font-family: monospace">scptLaunchCmdListCmds</span> launch code. When your plugin receives the launch code, the <span style="font-family: monospace">PluginInfoType</span> structure is empty. Your plugin should fill in the <span style="font-family: monospace">PluginInfoType</span> and return it. The system uses the information returned to construct the pull-down list of available script commands and build a table of which plugin will execute which script command. 
</p>
<pre  class="Preformatted">
typedef struct {<a name="1278277"> </a>
  Char  pluginName[pluginMaxModuleNameLen + 1];<a name="1278278"> </a>
  UInt16  numOfCommands;<a name="1278279"> </a>
  PluginCmdType  command[pluginMaxNumOfCmds];<a name="1278280"> </a>
} PluginInfoType;<a name="1278281"> </a>
</pre>

<h4 class="HCHeadC">
  <a name="1278282"> </a>Field Descriptions
</h4>

<h5 class="TgTable">
  <a name="1278300"> </a>

<table width="450" border="0" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="1278285"> </a><div class="CellBody"><span style="font-family: monospace">pluginName</span> </div></td>
    <td><a name="1278287"> </a><div class="CellBody">A name that the system can use to identify your plugin. This is typically the same name you give the PRC file. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1278289"> </a><div class="CellBody"><span style="font-family: monospace">numOfCommands</span> </div></td>
    <td><a name="1278291"> </a><div class="CellBody">The number of commands that your plugin defines. The maximum allowed is <span style="font-family: monospace">pluginMaxNumOfCmds</span>. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1278294"> </a><div class="CellBody"><span style="font-family: monospace">command</span> </div></td>
    <td><a name="1278299"> </a><div class="CellBody">An array of <a href="ScriptPlugin.html#1278200"><span style="font-family: monospace">PluginCmdType</span></a> structures that provide information about the commands that your plugin defines. </div></td>
  </tr>
</table>




</h5>
<h2 class="HBHeadB">
  <a name="1278302"> </a>ScriptPluginLaunchCodesEnum
<a href="#1278148"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1278304"> </a>The <span style="font-family: monospace">ScriptPluginLaunchCodesEnum</span> defines the launch codes for the script plugin. Your script plugin's <a href="SystemManager.html#1166472"><span style="font-family: monospace">PilotMain</span></a> function should respond to the launch codes defined in this enum. 
</p>
<pre  class="Preformatted">
typedef enum {<a name="1278308"> </a>
  scptLaunchCmdDoNothing = <a name="1278309"> </a>
      sysAppLaunchCmdCustomBase, <a name="1278310"> </a>
  scptLaunchCmdListCmds,<a name="1278311"> </a>
  scptLaunchCmdExecuteCmd<a name="1278312"> </a>
} ScriptPluginLaunchCodesEnum;<a name="1278313"> </a>
</pre>

<h4 class="HCHeadC">
  <a name="1278314"> </a>Value Descriptions
</h4>

<h5 class="TgTable">
  <a name="1278345"> </a>

<table width="450" border="0" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="1278318"> </a><div class="CellBody"><span style="font-family: monospace">scptLaunchCmdDoNothing</span> </div></td>
    <td><a name="1278320"> </a><div class="CellBody">This launch code is a no-op supplied only to provide a beginning value for the script plugin launch codes. It is not necessary to respond to this launch code. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1278324"> </a><div class="CellBody"><span style="font-family: monospace">scptLaunchCmdListCmds</span> </div></td>
    <td><a name="1278326"> </a><div class="CellBody">Provide information about the commands that your plugin executes. See <a href="ScriptPlugin.html#1278273"><span style="font-family: monospace">PluginInfoType</span></a>. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1278334"> </a><div class="CellBody"><span style="font-family: monospace">scptLaunchCmdExecuteCmd </span></div></td>
    <td><a name="1278336"> </a><div class="CellBody">Execute the specified command. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1278338"> </a><div class="CellBody"><br></div></td>
    <td><a name="1278340"> </a><div class="CellBody">This launch code is received when the system is executing a user's login script during a network connection attempt. Your plugin should respond by executing the command provided in the <a href="ScriptPlugin.html#1278232"><span style="font-family: monospace">PluginExecCmdType</span></a> parameter block. </div></td>
  </tr>
</table>




</h5>
<h2 class="HaHeadA">
  <a name="1278347"> </a>Script Plugin Constants 
<a href="#1278148"><img src="images/top.gif" border="0"></a></h2>


<h2 class="HBHeadB">
  <a name="1278349"> </a>Command Constants
<a href="#1278148"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1278350"> </a>The following constants identify the available commands that the network interface can perform for you. These commands are building blocks that you use to create your own script commands. To perform one of these tasks, pass the constant value as an argument to the network interface's callback function (<a href="ScriptPlugin.html#1278475"><span style="font-family: monospace">ScriptPluginSelectorProc</span></a>).
</p>

<h5 class="TgTable">
  <a name="1278437"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="1278356"> </a><div class="CellHeading">Constant </div></th>
    <th><a name="1278358"> </a><div class="CellHeading">Value </div></th>
    <th><a name="1278360"> </a><div class="CellHeading">Description </div></th>
  </tr>
  <tr valign="top">
    <td><a name="1278363"> </a><div class="CellBody"><span style="font-family: monospace">pluginNetLibDoNothing</span> </div></td>
    <td><a name="1278365"> </a><div class="CellBody">0</div></td>
    <td><a name="1278367"> </a><div class="CellBody">For debugging purposes.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1278370"> </a><div class="CellBody"><span style="font-family: monospace">pluginNetLibReadBytes</span> </div></td>
    <td><a name="1278372"> </a><div class="CellBody">1</div></td>
    <td><a name="1278374"> </a><div class="CellBody">Read the specified number of bytes from the open connection. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1278377"> </a><div class="CellBody"><span style="font-family: monospace">pluginNetLibWriteBytes</span> </div></td>
    <td><a name="1278379"> </a><div class="CellBody">2</div></td>
    <td><a name="1278381"> </a><div class="CellBody">Write the specified number of bytes to the open connection. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1278384"> </a><div class="CellBody"><span style="font-family: monospace">pluginNetLibGetUserName</span> </div></td>
    <td><a name="1278386"> </a><div class="CellBody">3</div></td>
    <td><a name="1278388"> </a><div class="CellBody">Get the user name from the network service profile.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1278391"> </a><div class="CellBody"><span style="font-family: monospace">pluginNetLibGetUserPwd</span> </div></td>
    <td><a name="1278393"> </a><div class="CellBody">4</div></td>
    <td><a name="1278395"> </a><div class="CellBody">Get the user's password from the network service profile.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1278398"> </a><div class="CellBody"><span style="font-family: monospace">pluginNetLibCheckCancelStatus</span> </div></td>
    <td><a name="1278400"> </a><div class="CellBody">5</div></td>
    <td><a name="1278402"> </a><div class="CellBody">Check to see if the user canceled the connection.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1278405"> </a><div class="CellBody"><span style="font-family: monospace">pluginNetLibPromptUser</span> </div></td>
    <td><a name="1278407"> </a><div class="CellBody">6</div></td>
    <td><a name="1278409"> </a><div class="CellBody">Prompt the user for input. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1278412"> </a><div class="CellBody"><span style="font-family: monospace">pluginNetLibConnLog</span> </div></td>
    <td><a name="1278414"> </a><div class="CellBody">7</div></td>
    <td><a name="1278416"> </a><div class="CellBody">Write a string to the network service's connection log. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1278419"> </a><div class="CellBody"><span style="font-family: monospace">pluginNetLibCallUIProc</span> </div></td>
    <td><a name="1278421"> </a><div class="CellBody">8</div></td>
    <td><a name="1278423"> </a><div class="CellBody">Have the network interface call a function in your plugin that displays UI. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1278425"> </a><div class="CellBody"><br></div></td>
    <td><a name="1278427"> </a><div class="CellBody"><br></div></td>
    <td><a name="1278429"> </a><div class="CellBody">Use this command if you need to display a more complicated user interface than the simple user prompt that the network interface provides. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1278432"> </a><div class="CellBody"><span style="font-family: monospace">pluginNetLibGetSerLibRefNum</span> </div></td>
    <td><a name="1278434"> </a><div class="CellBody">9</div></td>
    <td><a name="1278436"> </a><div class="CellBody">Obtain the serial library's reference number. You need the reference number to perform any serial library commands, which you might need to perform more complex work with the connection port. </div></td>
  </tr>
</table>




</h5>
<h2 class="HBHeadB">
  <a name="1278438"> </a>Size Constants
<a href="#1278148"><img src="images/top.gif" border="0"></a></h2>

<p class="Body">
  <a name="1278439"> </a>The following table lists constants that control the size of strings in your plugin and the size of the plugin itself. 
</p>

<h5 class="TgTable">
  <a name="1278471"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="1278442"> </a><div class="CellHeading">Constant </div></th>
    <th><a name="1278444"> </a><div class="CellHeading">Value </div></th>
    <th><a name="1278446"> </a><div class="CellHeading">Description </div></th>
  </tr>
  <tr valign="top">
    <td><a name="1278448"> </a><div class="CellBody"><span style="font-family: monospace">pluginMaxCmdNameLen</span> </div></td>
    <td><a name="1278450"> </a><div class="CellBody">15</div></td>
    <td><a name="1278452"> </a><div class="CellBody">The maximum length for the command's name, not including the terminating null character. This is the string displayed to the user in the pull-down menu. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1278454"> </a><div class="CellBody"><span style="font-family: monospace">pluginMaxModuleNameLen</span> </div></td>
    <td><a name="1278456"> </a><div class="CellBody">15</div></td>
    <td><a name="1278458"> </a><div class="CellBody">The maximum length for the plugin's name (not including the terminating null character), which is typically the name of the PRC file as well. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1278460"> </a><div class="CellBody"><span style="font-family: monospace">pluginMaxNumOfCmds</span> </div></td>
    <td><a name="1278462"> </a><div class="CellBody">10</div></td>
    <td><a name="1278464"> </a><div class="CellBody">The maximum number of commands that your plugin can define. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1278466"> </a><div class="CellBody"><span style="font-family: monospace">pluginMaxLenTxtStringArg</span> </div></td>
    <td><a name="1278468"> </a><div class="CellBody">63</div></td>
    <td><a name="1278470"> </a><div class="CellBody">The maximum length of the argument that each command can take, not including the terminating null character. </div></td>
  </tr>
</table>




</h5>
<h2 class="HaHeadA">
  <a name="1278472"> </a>Script Plugin Functions 
<a href="#1278148"><img src="images/top.gif" border="0"></a></h2>


<h2 class="HBHeadB">
  <a name="1278475"> </a>ScriptPluginSelectorProc
<a href="#1278148"><img src="images/top.gif" border="0"></a></h2>

<h4 class="RefSide">
  <a name="1278476"> </a>Purpose 
</h4>
<p class="Body">
  <a name="1278477"> </a>A function provided by the network interface for the purpose of performing script commands. 
</p>
<h4 class="RefSide">
  <a name="1278478"> </a>Declared In 
</h4>
<p class="Body">
  <a name="1278479"> </a>ScriptPlugin.h
</p>
<h4 class="RefSide">
  <a name="1278480"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="1278481"> </a>Err (*ScriptPluginSelectorProcPtr) (void *handle, UInt16 command, void *dataBufferP, UInt16 *sizeP, UInt16 *dataTimeoutP, void *procAddrP);
</p>
<h4 class="RefSide">
  <a name="1278482"> </a>Parameters 
</h4>
<h5 class="P1"><a name="1278483"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">handle</span></td><td valign="top">Handle to information specific to a particular connection. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1278486"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">command</span></td><td valign="top">The command to be executed. See <a href="ScriptPlugin.html#1278349">"Command Constants"</a> for a list of possible values. The rest of the parameters to this callback function are interpreted differently based on the value of the <span style="font-family: monospace">command</span> parameter. See the table in the "Comments" section for specifics. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1278488"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;-&gt; <span style="font-family: monospace">dataBufferP</span></td><td valign="top">A pointer to arguments to pass to the command or a pointer to data returned by the command. See the "Comments" section below. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1278489"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">&lt;-&gt; <span style="font-family: monospace">sizeP</span></td><td valign="top">The size of <span style="font-family: monospace">dataBufferP</span>. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1278490"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">dataTimeoutP</span></td><td valign="top">Number of seconds to wait for the command to execute. 0 means wait forever. Applies only to commands that request information from the network. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="1278491"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top">-&gt; <span style="font-family: monospace">procAddrP</span></td><td valign="top">Pointer to a user interface callback function that the network interface should call to complete the function. Used only by <span style="font-family: monospace">pluginNetLibCallUIProc</span>. This function should take one argument of the same type that you pass to <span style="font-family: monospace">dataBufferP</span> and should return <span style="font-family: monospace">void</span>. </td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="1278493"> </a>Result 
</h4>
<p class="Body">
  <a name="1278494"> </a>Returns 0 upon success, or an error condition upon failure. If an error condition is returned, your plugin should stop processing and return the error condition from its <a href="SystemManager.html#1166472"><span style="font-family: monospace">PilotMain</span></a>. 
</p>
<h4 class="RefSide">
  <a name="1278498"> </a>Comments 
</h4>
<p class="Body">
  <a name="1278499"> </a>When your plugin receives the <span style="font-family: monospace">scptLaunchCmdExecuteCmd</span> launch code, the parameter block contains the command's name, its text string argument (if any), and a pointer to the network interface's callback function. You should use this callback function any time you need to communicate with the network library, the user, or the host computer during execution of your command. 
</p>
<p class="Body">
  <a name="1278500"> </a>The callback function takes as arguments the handle to information about this connection (which is also passed in the launch code's parameter block), and the command that the service should execute. The rest of the parameters are interpreted differently based on what the value the command argument is. See the table below. 
</p>

<h5 class="TgTable">
  <a name="1280541"> </a>

<table border="1" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="1280400"> </a><div class="CellHeading">pluginNetLib </div></th>
    <th><a name="1280402"> </a><div class="CellHeading">dataBufferP</div></th>
    <th><a name="1280404"> </a><div class="CellHeading">sizeP</div></th>
    <th><a name="1280406"> </a><div class="CellHeading">dataTimeOutP</div></th>
    <th><a name="1280408"> </a><div class="CellHeading">procAddrP</div></th>
  </tr>
  <tr valign="top">
    <td><a name="1280411"> </a><div class="CellBody"><span style="font-family: monospace">DoNothing</span> </div></td>
    <td><a name="1280413"> </a><div class="CellBody">N/A </div></td>
    <td><a name="1280415"> </a><div class="CellBody">N/A</div></td>
    <td><a name="1280417"> </a><div class="CellBody">N/A</div></td>
    <td><a name="1280419"> </a><div class="CellBody">N/A</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1280422"> </a><div class="CellBody"><span style="font-family: monospace">ReadBytes</span> </div></td>
    <td><a name="1280424"> </a><div class="CellBody">On return, contains the bytes that were read. </div></td>
    <td><a name="1280426"> </a><div class="CellBody">On input, contains the number of bytes to read.</div></td>
    <td><a name="1280428"> </a><div class="CellBody">Number of seconds to wait before timing out the operation. </div></td>
    <td><a name="1280430"> </a><div class="CellBody">N/A</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1280432"> </a><div class="CellBody"><br></div></td>
    <td><a name="1280434"> </a><div class="CellBody"><br></div></td>
    <td><a name="1280436"> </a><div class="CellBody">On return, contains the number of bytes actually read. </div></td>
    <td><a name="1280438"> </a><div class="CellBody"><br></div></td>
    <td><a name="1280440"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="1280443"> </a><div class="CellBody"><span style="font-family: monospace">WriteBytes</span> </div></td>
    <td><a name="1280445"> </a><div class="CellBody">On input, contains the data to send. </div></td>
    <td><a name="1280447"> </a><div class="CellBody">On input, contains the number of bytes to send. </div></td>
    <td><a name="1280449"> </a><div class="CellBody">Number of seconds to wait for a response before canceling. </div></td>
    <td><a name="1280451"> </a><div class="CellBody">N/A</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1280453"> </a><div class="CellBody"><br></div></td>
    <td><a name="1280455"> </a><div class="CellBody"><br></div></td>
    <td><a name="1280457"> </a><div class="CellBody">On return, contains the number of bytes actually sent.</div></td>
    <td><a name="1280459"> </a><div class="CellBody"><br></div></td>
    <td><a name="1280461"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="1280464"> </a><div class="CellBody"><span style="font-family: monospace">UserName</span> </div></td>
    <td><a name="1280466"> </a><div class="CellBody">On return, contains the user's name</div></td>
    <td><a name="1280468"> </a><div class="CellBody">On return, contains the size of the string pointed to by <span style="font-family: monospace">dataBufferP</span>. </div></td>
    <td><a name="1280470"> </a><div class="CellBody">N/A</div></td>
    <td><a name="1280472"> </a><div class="CellBody">N/A</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1280475"> </a><div class="CellBody"><span style="font-family: monospace">UserPwd</span> </div></td>
    <td><a name="1280477"> </a><div class="CellBody">On return, contains the user's password. </div></td>
    <td><a name="1280479"> </a><div class="CellBody">On return, contains the size of the string pointed to by <span style="font-family: monospace">dataBufferP</span>. </div></td>
    <td><a name="1280481"> </a><div class="CellBody">N/A</div></td>
    <td><a name="1280483"> </a><div class="CellBody">N/A</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1280486"> </a><div class="CellBody"><span style="font-family: monospace">CheckCancel<br>Status</span> </div></td>
    <td><a name="1280488"> </a><div class="CellBody">On return, the Boolean value <span style="font-family: monospace">true</span> if the user canceled the command, <span style="font-family: monospace">false</span> otherwise. </div></td>
    <td><a name="1280490"> </a><div class="CellBody">Size of Boolean. </div></td>
    <td><a name="1280492"> </a><div class="CellBody">N/A</div></td>
    <td><a name="1280494"> </a><div class="CellBody">N/A</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1280497"> </a><div class="CellBody"><span style="font-family: monospace">PromptUser</span> </div></td>
    <td><a name="1280499"> </a><div class="CellBody">On input, the prompt to display. </div><a name="1280500"> </a><div class="CellBody"><br></div><a name="1280501"> </a><div class="CellBody">On return, the text that the user entered. </div></td>
    <td><a name="1280503"> </a><div class="CellBody">On input and on return, the size of the string pointed to by <span style="font-family: monospace">dataBufferP</span>. </div></td>
    <td><a name="1280505"> </a><div class="CellBody">N/A</div></td>
    <td><a name="1280507"> </a><div class="CellBody">N/A</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1280510"> </a><div class="CellBody"><span style="font-family: monospace">ConnLog</span> </div></td>
    <td><a name="1280512"> </a><div class="CellBody">The string that should be written to the log. </div></td>
    <td><a name="1280514"> </a><div class="CellBody">N/A</div></td>
    <td><a name="1280516"> </a><div class="CellBody">N/A</div></td>
    <td><a name="1280518"> </a><div class="CellBody">N/A</div></td>
  </tr>
  <tr valign="top">
    <td><a name="1280521"> </a><div class="CellBody"><span style="font-family: monospace">CallUIProc</span> </div></td>
    <td><a name="1280523"> </a><div class="CellBody">A pointer to a structure to pass to your callback function as a parameter. This structure should contain a handle to the form to be displayed, plus any other necessary information. </div></td>
    <td><a name="1280525"> </a><div class="CellBody">N/A</div></td>
    <td><a name="1280527"> </a><div class="CellBody">N/A</div></td>
    <td><a name="1280529"> </a><div class="CellBody">A pointer to a function in your plugin that displays the form. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="1280532"> </a><div class="CellBody"><span style="font-family: monospace">GetSerLib<br>RefNum</span> </div></td>
    <td><a name="1280534"> </a><div class="CellBody">On return, contains the serial library's reference number.</div></td>
    <td><a name="1280536"> </a><div class="CellBody">N/A</div></td>
    <td><a name="1280538"> </a><div class="CellBody">N/A</div></td>
    <td><a name="1280540"> </a><div class="CellBody">N/A</div></td>
  </tr>
</table>




</h5>
&nbsp;<br>
				<!-- CONTENT_END -->

		</td>
		<td width="5">&nbsp;&nbsp;</td>
	</tr>
      </table>
    </td>
			</tr>
  <tr>
				<td>
					<table border="0" cellpadding="0" cellspacing="0" width="760">
        <!-- CONTENTCELL_END -->
        <tr valign="top"> 
          <td width="10">&nbsp;<!-- FOOTER_START --></td>
          <td width="72">&nbsp;</td>
          <td width="25" bgcolor="white" background="images/bkgrnd.gif">&nbsp;</td>
          <td width="600"> 
            <table border="0" cellpadding="0" cellspacing="0" width="600">
              <tr> 
                <td><img src="images/rule_10-1-5_ltblue.gif" width="600" height="16" border="0"></td>
              </tr>
              <tr> 
                <td> 
                  <p align="center" class="footer"> ©2002 PalmSource, Inc. and its affiliates.  All rights reserved. 
<a href="http://www.palmos.com/dev/training/">Training</a>&nbsp;|&nbsp;<a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a>&nbsp;|&nbsp;<a href="http://www.palmos.com/">Palm&nbsp;OS&nbsp;Platform</a>&nbsp;|&nbsp;<a href="Reference_Front.html" target="_blank">Legal Notices</a>&nbsp;<br>
												<!-- FOOTER_END --><br>
											</p>
                </td>
              </tr>
            </table>
          </td>
        </tr>
      </table>
				</td>
			</tr>
</table>
</BODY>
</HTML>