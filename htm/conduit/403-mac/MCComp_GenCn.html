<html>
<head>
<title>PalmSource | Generic Conduit Framework</title> 
<link href="palmsource_styles.css" rel="stylesheet" type="text/css">
<link href="document.css" rel="stylesheet" type="text/css">

<!-- begin meta data -->
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META NAME="PALMSOURCETEMPLATE" CONTENT="1006-006 PalmSource HTML 20030131">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks Publisher Professional Edition 6.0.7">
<META NAME="LASTUPDATED" CONTENT="03/03/03 14:22:11">
<!-- end meta data -->
</head>

<body bgcolor="#ffffff" text="#000000" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<a name="979588"></a>

<!-- BEGIN TOPNAV -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td align="middle" bgcolor="#efefe4"><table border="0" cellpadding="0" cellspacing="0" width="744">
<tr>
<td><img name="index_r1_c1" src="images/shim.gif" width="280" height="24" border="0" alt="" id="IMG1"></td>
</tr>
</table>
</td>
</tr>
<tr>
<td align="middle"><table border="0" cellpadding="0" cellspacing="0" width="744">
<tr>
<td><img name="index_r2_c1" src="images/shim.gif" width="33" height="75" border="0" alt=""></td>
<td><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_r2_c4" src="images/shim.gif" width="96" height="11" border="0" alt=""></td>
</tr>
<tr>
<td><a href="http://www.palmsource.com/"><img name="ps_logo" src="images/ps_logo.gif" width="96" height="54" border="0" alt=""></a></td>
</tr>
<tr>
<td><img name="index_r6_c4" src="images/shim.gif" width="96" height="10" border="0" alt=""></td>
</tr>
</table>
</td>

<td><table border="0" cellpadding="0" cellspacing="0" width="30">
<td><img name="index_x" src="images/shim.gif" width="30" height="75" border="0" alt=""></td>
</table></td>

<!--Begin masthead-->
<td><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
<!--Begin breadcrumbs-->
<tr>
<td><span class="nav">&lt;&nbsp;<A HREF="http://www.palmos.com/index.html">Home</a> 
&nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/">Developers</a> 
&nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/support/">Development Support</a>
&nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/support/docs/">Documentation</a></span></td>
</tr>
<!--End breadcrumbs-->
<tr>
<td><h2 class="HeadDocPage">5 &nbsp;&nbsp;Generic Conduit Framework</h2></td>
</tr>
<tr>
<td><span class="nav">
<a href="C++SyncMacCompanionTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="MCComp_Conduits.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="MCComp_SyncMgr.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="C++SyncMacCompanionIX.html">Index</a>
</span></td>
</tr>
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
</table>
</td>
<!--End masthead-->

</tr>
</table>
<img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
</tr>
</table>
<!-- END TOPNAV -->

<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" width="10"><img name="index_x" src="images/shim.gif" width="10" height="33" border="0" alt=""></td>

<!--BEGIN MINITOC-->
<td valign="top" width="175">
<p class="SideTitle"><a href="MCComp_Front.html">C/C++ Sync Suite Companion for Macintosh</a></p>
<p class="SideTOC1-PartTab">Palm OS® Conduit Development Kit for Macintosh, Version 4.03 </p>
<p class="SideTOC1"><a href="MCComp_GenCn.html">5  Generic Conduit Framework</a></p>


<p class="SideTOC2">
<a href="#983094">Introduction to the Generic Conduit Framework
</a></p>

<p class="SideTOC3">
<a href="#982267">Why Use GenCn?
</a></p>

<p class="SideTOC3">
<a href="#982276">What Will the Generic Conduit Framework Do for Me?
</a></p>

<p class="SideTOC3">
<a href="#983553">Cross-Platform Development With GenCn
</a></p>

<p class="SideTOC2">
<a href="#982245">Generic Conduit Framework Overview
</a></p>

<p class="SideTOC3">
<a href="#982330">GenCn Class Hierarchy
</a></p>

<p class="SideTOC3">
<a href="#982468">Developing Data Formats
</a></p>

<p class="SideTOC3">
<a href="#982481">Synchronization Control Flow
</a></p>

<p class="SideTOC2">
<a href="#982289">Mirror-Image Synchronization
</a></p>

<p class="SideTOC3">
<a href="#982562">Basic Synchronization
</a></p>

<p class="SideTOC3">
<a href="#982572">Overview of Mirror-image Synchronization
</a></p>

<p class="SideTOC3">
<a href="#982584">Details of Mirror-image Synchronization
</a></p>

<p class="SideTOC3">
<a href="#982746">Synchronizing to More than One Desktop
</a></p>

<p class="SideTOC3">
<a href="#982756">Overview of Synchronization Procedures
</a></p>

<p class="SideTOC2">
<a href="#982556">Creating Your Generic Conduit
</a></p>

<p class="SideTOC3">
<a href="#983233">The CPcMgr Class
</a></p>

</td>
<!--END MINITOC-->

<td width="5">&nbsp;&nbsp;</td>
<td width="2" background="images/index_r8_c10.gif">&nbsp;</td>
<td width="5">&nbsp;&nbsp;</td>
<td valign="top">

<!--BEGIN CONTENT-->
<p class="Body">
  <a name="979591"> </a>This chapter provides information about the Generic Conduit class framework for developing conduits.
</p>
<p class="Body">
  <a name="983097"> </a>For details about the classes and data types comprising the Generic Conduit Framework use the Apple Help Viewer program to read the "Generic Conduit Help" topic; this is installed for you when you install the CDK.
</p>

<h2 class="HaHeadA">
  <a name="983094"> </a>Introduction to the Generic Conduit Framework <a href="#979588"><span class="nav">^TOP^</span></a>
</h2>

<p class="Body">
  <a name="979832"> </a>The Generic Conduit Framework &#8212; called simply <span style="color: #333;;  font-style: italic; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">GenCn</span> ("gen-con") in this chapter &#8212; provides a streamlined approach to conduit development, which can be used to develop a wide variety of conduits quickly.
</p>

<h2 class="HBHeadB">
  <a name="982267"> </a>Why Use GenCn? <a href="#979588"><span class="nav">^TOP^</span></a>
</h2>

<p class="Body">
  <a name="982247"> </a>GenCn makes it easy to synchronize anything from a text file to a large enterprise database on the desktop with an application on the handheld. GenCn does not rely on any platform-specific API or data formats for database storage the way Palm<sup>&#8482;</sup> Desktop software's PIM applications do, and so is ideal for Macintosh/Windows cross-platform development. 
</p>
<p class="Body">
  <a name="982249"> </a>Its design allows you to focus directly on your application. Essentially, you provide an interface to your database using the classes supplied by the GenCn Framework, and the framework does the rest, managing the synchronization and transfer of records between the handheld and desktop applications. 
</p>
<p class="Body">
  <a name="982251"> </a>The principal features of GenCn are:
</p>

  <a name="982252"> </a><p class="B1Bullet"> &#8226; Ideal for cross-platform development (not reliant on platform-specific APIs)</p>

  <a name="982253"> </a><p class="B1Bullet"> &#8226; Provides a high-level conduit architecture</p>

  <a name="982254"> </a><p class="B1Bullet"> &#8226; Full code is supplied and supported </p>

<h2 class="HBHeadB">
  <a name="982276"> </a>What Will the Generic Conduit Framework Do for Me? <a href="#979588"><span class="nav">^TOP^</span></a>
</h2>

<p class="Body">
  <a name="982271"> </a>Conduits that simply upload or download databases are relatively simple. They must register and unregister the conduit with the Sync Manager, open and close their databases, read and write records, and manage category information if necessary. 
</p>
<p class="Body">
  <a name="982272"> </a>Generic Conduits can do simple synchronization, but can also perform per-record, mirror-image synchronization. They must perform all the steps of the simpler conduits, but must in addition determine which records have been added, deleted, or modified from both the handheld and desktop databases. They must decide what to do about the differences.
</p>
<p class="Body">
  <a name="982280"> </a>Generic Conduits must deal with the fact that record IDs are assigned on the handheld and not on the desktop. Thus, if a new record on the handheld must be copied to a desktop database, the handheld's record ID must be preserved in the desktop database.
</p>
<p class="Body">
  <a name="982283"> </a>Likewise, a record created on the desktop must be copied to the handheld, and the record ID of the new record must be fetched back from the handheld and recorded in the desktop record. Finally, a conduit performing mirror-image synchronization must provide logic for both fast and slow synchronization modes. The HotSync<sup>®</sup> Manager application will inform the conduit in which mode it should synchronize. 
</p>
<p class="Body">
  <a name="983299"> </a>The Generic Conduit Framework automates most of this process; all you need to do is replace the default behaviors where appropriate to customize the Generic Conduit to meet your specific requirements.
</p>

<h2 class="HBHeadB">
  <a name="983553"> </a>Cross-Platform Development With GenCn <a href="#979588"><span class="nav">^TOP^</span></a>
</h2>

<p class="Body">
  <a name="983644"> </a>When developing cross-platform conduits using the Generic Conduit Framework, it's helpful to note that both the Mac and Windows versions of GenCn use the same source files. GenCn includes separate project files for Visual Studio on Windows and CodeWarrior on the Macintosh.
</p>
<p class="Body">
  <a name="983721"> </a>However, at this time the CDK's headers and libraries are laid out differently on the two platforms, so if you wish to get both the Mac and Windows project files to build from the same sources at the same time, you'll have to have both layouts installed by merging a Mac CDK installation and a Windows CDK installation.
</p>
<p class="Body">
  <a name="983772"> </a>Also keep in mind that the Macintosh version of GenCn doesn't include all the sample classes for manipulating Palm Desktop databases that are included with the Windows CDK, since the formats of the Mac desktop databases are not documented.
</p>
<p class="Body">
  <a name="983791"> </a>The Mac CDK requires that the <span style="font-family: monospace">Headers</span> and <span style="font-family: monospace">Libs</span> folders be in the same directory as the <span style="font-family: monospace">Conduits</span> folder. The Windows CDK requires that these folders be called <span style="font-family: monospace">Include</span> and <span style="font-family: monospace">Lib</span>, and be located in the same directory as the <span style="font-family: monospace">Samples</span> folder.
</p>
<p class="Body">
  <a name="983794"> </a>The Macintosh version of the CDK includes the Visual Studio project file uses for building GenCn on Windows.
</p>

<h2 class="HaHeadA">
  <a name="982245"> </a>Generic Conduit Framework Overview <a href="#979588"><span class="nav">^TOP^</span></a>
</h2>

<p class="Body">
  <a name="982298"> </a>Conduit development using the C++ Generic Conduit Framework (GenCn) consists principally of:
</p>
  <a name="982299"> </a><p class="N1NumList">1.	  Describing the handheld and desktop data formats you wish to use by subclassing and customizing certain C++ classes in the GenCn Framework </p>  <a name="982300"> </a><p class="N1NumList">2.	  Providing standard entry points, which allow the HotSync Manager application to call into your conduit </p><p class="Body">
  <a name="982301"> </a>Once these elements have been created, the conduit must be "registered" with the HotSync Manager application so that your conduit may be called when the user wishes to synchronize data; on the Macintosh, this is simply a matter of installing the conduit through normal means. 
</p>
<p class="Body">
  <a name="982302"> </a>When invoked by the HotSync Manager application, your conduit will use the GenCn Framework to synchronize the records between the handheld database and your desktop database using the data conversion methods you supplied in step 1. The GenCn Framework then performs the synchronization using your data conversion methods to compare and update databases.
</p>
<p class="Body">
  <a name="982303"> </a>The GenCn Framework is designed to facilitate these steps. The next section describes the class hierarchy of the GenCn Framework.
</p>

<h2 class="HBHeadB">
  <a name="982330"> </a>GenCn Class Hierarchy <a href="#979588"><span class="nav">^TOP^</span></a>
</h2>

<p class="Body">
  <a name="982334"> </a><a href="MCComp_GenCn.html#982339">Figure 5.1</a> illustrates the basic structure of the C++ Generic Conduit Framework.
</p>

<p class="FFigureCaption">
  <a name="982339"> </a>Figure 5.1	 Generic Conduit Framework 
</p>
<p class="FgFigure">
<div align="left"><img src="images/MCComp_GenCna.gif" height="262" width="468" border="0" hspace="20" vspace="0">
</div>
</p>
<p class="Body">
  <a name="982418"> </a>The base classes of the GenCn Framework can be grouped as follows: 
</p>

  <a name="982420"> </a><p class="B1Bullet"> &#8226; <i>Category</i> classes access and manage standard Palm OS<sup>®</sup> category data.</p>

  <a name="982422"> </a><p class="B1Bullet"> &#8226; <i>Record</i> classes convert records between the format on the handheld and the format on the desktop computer.</p>

  <a name="982424"> </a><p class="B1Bullet"> &#8226; <i>Database Manager</i> classes store and retrieve records from the handheld or the desktop computer.</p>

  <a name="982426"> </a><p class="B1Bullet"> &#8226; <i>Synchronizer</i> classes synchronize records and application information (the AppInfo block) from a database on the handheld. The core synchronization logic is implemented in these classes. </p>

  <a name="982429"> </a><p class="B1Bullet"> &#8226; The <span style="color: #333;;  font-style: italic; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">Logging</span> class is used to print diagnostic information into a log file maintained by HotSync Manager.</p>

<h2 class="HBHeadB">
  <a name="982468"> </a>Developing Data Formats <a href="#979588"><span class="nav">^TOP^</span></a>
</h2>

<p class="Body">
  <a name="982469"> </a>The heart of GenCn development is subclassing and customizing desktop Database Manager classes to support your database format, and modifying the Synchronizer classes to refer to them. Here is a breakdown of the required steps: 
</p>
  <a name="982470"> </a><p class="N1NumList">1.	  Either implement your own custom record class or subclass from the <span style="font-family: monospace">CPCustomRecord</span> class. If using the <span style="font-family: monospace">CPCustomRecord</span> class, add the data members required for your database records.</p>  <a name="982473"> </a><p class="N1NumList">2.	  Subclass methods in your derived <span style="font-family: monospace">CPcMgr</span> class for storage and retrieval of your records on the desktop.</p>  <a name="982474"> </a><p class="N1NumList">3.	  In your derived <span style="font-family: monospace">CPcMgr</span> class, create methods to convert from your custom record class to/from the <span style="font-family: monospace">CPalmRecord</span> format. These methods are standardly called "ConvertPCtoGeneric" and "ConvertGenericToPc." Because your records are of a different base class, you will not be subclassing these methods.</p>  <a name="982476"> </a><p class="N1NumList">4.	  Implement storage and retrieval of a backup database, an archive database, or both by further subclassing the <span style="font-family: monospace">CPcMgr</span> base class.</p>  <a name="982477"> </a><p class="N1NumList">5.	  You many need to implement the conversion of records to/from the generic <span style="font-family: monospace">CPalmRecord</span> format inside your custom record class. </p>  <a name="982478"> </a><p class="N1NumList">6.	  Implement any synchronization of <span style="font-family: monospace">AppInfo</span> data, beyond the Category data. </p>
<h2 class="HBHeadB">
  <a name="982481"> </a>Synchronization Control Flow <a href="#979588"><span class="nav">^TOP^</span></a>
</h2>

<p class="Body">
  <a name="982482"> </a>The following steps outline the basic flow of control for a typical synchronization operation when HotSync Manager passes control to a conduit based on the Generic Conduit Framework: 
</p>
  <a name="982484"> </a><p class="N1NumList">1.	  HotSync Manager calls your <span style="font-family: monospace">OpenConduit</span> or <span style="font-family: monospace">OpenConduitCarbon</span> function.</p>  <a name="982485"> </a><p class="N1NumList">2.	  Your synchronization entry point instantiates a <span style="font-family: monospace">CSynchronizer</span> object, which performs the following tasks:</p>  <a name="982487"> </a><p class="N2NumListSub">a.	  Registers the conduit.</p>  <a name="982488"> </a><p class="N2NumListSub">b.	  Examines the synchronization properties passed to it to determine the type of synchronization, typically fast sync or slow sync.</p>  <a name="982489"> </a><p class="N2NumListSub">c.	  Creates the Database Manager objects (handheld, desktop, archive, and backup). </p>  <a name="982490"> </a><p class="N2NumListSub">d.	  Synchronizes category information using the provided synchronization logic. </p>  <a name="982492"> </a><p class="N2NumListSub">e.	  Synchronizes application information (<span style="font-family: monospace">AppInfo</span> block). </p>  <a name="982493"> </a><p class="N2NumListSub">f.	  Synchronizes records using the fast sync, slow sync, HH overwrites desktop, Desktop overwrites HH, or No Action. </p>  <a name="982494"> </a><p class="N2NumListSub">g.	  Deletes the Manager objects. </p>  <a name="982495"> </a><p class="N2NumListSub">h.	  Logs results to the HotSync log. </p><p class="Body">
  <a name="982496"> </a>These steps are spelled out in greater detail later in this chapter.
</p>

<h2 class="HaHeadA">
  <a name="982289"> </a>Mirror-Image Synchronization <a href="#979588"><span class="nav">^TOP^</span></a>
</h2>

<p class="Body">
  <a name="982560"> </a>Generic Conduits have the ability to seamlessly perform mirror-image synchronization. This section describes the database management issues involved in this synchronization strategy and outlines how GenCn-based conduits perform mirror-image synchronization.
</p>
<p class="Body">
  <a name="982561"> </a>Mirror-image synchronization produces identical databases on the desktop and handheld. Records can be created, modified, or deleted in either database, and all such changes are reconciled during synchronization so that the databases are mirror images of each other.
</p>

<h2 class="HBHeadB">
  <a name="982562"> </a>Basic Synchronization <a href="#979588"><span class="nav">^TOP^</span></a>
</h2>

<p class="Body">
  <a name="982563"> </a>Each conduit compares status information contained in its database records on the handheld and the desktop, and uses that information to delete, archive, copy, or replace records from one side to the other as needed so that the databases are mirror images.
</p>
<p class="Body">
  <a name="982564"> </a>All Palm OS<sup>®</sup> records contain three flag bits in both the handheld and desktop databases to facilitate synchronization:
</p>

  <a name="982566"> </a><p class="B1Bullet"> &#8226; Modify &#8212; indicates the record was created or modified since the last synchronization</p>

  <a name="982568"> </a><p class="B1Bullet"> &#8226; Delete &#8212; indicates the record was deleted since the last synchronization</p>

  <a name="982570"> </a><p class="B1Bullet"> &#8226; Archive &#8212; indicates that the conduit should add the record to the database's archive on the desktop.</p>
<p class="Body">
  <a name="982571"> </a>These flag bits plus other pieces of state information &#8212; such as whether a record exists on the other side &#8212; are used to perform mirror-image synchronization, as outlined in the following subsections.
</p>

<h2 class="HBHeadB">
  <a name="982572"> </a>Overview of Mirror-image Synchronization <a href="#979588"><span class="nav">^TOP^</span></a>
</h2>

<p class="Body">
  <a name="982573"> </a>For simplicity, assume that there is only one PC in the world, only one handheld, and only one database. Intuitively, mirror-image synchronization would proceed as follows: 
</p>

  <a name="982574"> </a><p class="B1Bullet"> &#8226; If a new record exists on one side but not the other, copy it to the other side. (New records are indicated by setting the Modified bit. There is no procedural distinction between a newly created record and a modified record, so this scheme is OK.)</p>

  <a name="982575"> </a><p class="B1Bullet"> &#8226; If a record is deleted on one side and is unchanged on the other side, delete it from both sides. Otherwise, if the record is deleted on one side but changed on the other, do not delete the changed record; instead, copy the changed record to the other side, overwriting the deleted record.</p>

  <a name="982576"> </a><p class="B1Bullet"> &#8226; If a record is modified only on one side, update the corresponding record on the other side. </p>

  <a name="982577"> </a><p class="B1Bullet"> &#8226; If a record is modified on both sides and the modification changes are identical, take no action. </p>

  <a name="982578"> </a><p class="B1Bullet"> &#8226; If a record is modified on both sides and the modification changes are different, then a few steps are needed. First, change the record ID of the desktop record ID to 0 and then write the record to the device. This adds the record as a new record. Once the device assigns the record a new ID, add this new record to the desktop database. Finally, write the original handheld record to the desktop, overwriting the original desktop record. In the end, there will be two records where there was only one before. </p>
<p class="Indented1"> <a name="982580"> </a>This is known as a <b>double modify</b> case. This procedure for handling it reflects one of the core concepts of conduit design: zero data loss. Because you cannot know what the user intended in this case, discard nothing so the user can decide later which record to delete. </p>
<p class="Body">
  <a name="982581"> </a>For instance, if you scheduled a meeting for 2:00 P.M. today on your handheld and your secretary updated your desktop schedule with a conflicting meeting, you will discover, after HotSync Manager runs, that you have two records side by side in your datebook for 2:00 P.M. today. 
</p>
<p class="Body">
  <a name="982582"> </a>The purpose of archiving is to allow for the deletion of a record from the normal databases while preserving the data. A request to archive a record should be ignored if the corresponding record on the other side has been changed, unless the change is identical. If the request should be ignored because the record on the other side has changed and the changes don't match, copy the changed record to this side.
</p>

<h2 class="HBHeadB">
  <a name="982584"> </a>Details of Mirror-image Synchronization <a href="#979588"><span class="nav">^TOP^</span></a>
</h2>

<p class="Body">
  <a name="982585"> </a>The foregoing intuitive presentation of mirror-image synchronization is spelled out in <a href="MCComp_GenCn.html#982595">Table 5.1</a>, which shows the specific criteria and actions needed to perform a mirror-image synchronization for the combinations of the Modify, Delete, and Archive bits.
</p>

<h5 class="TgTable">


<table border="1" cellpadding="5" cellspacing="0">
  <caption><a name="982595"> </a><div class="TableTitle">Table 5.1  Synchronizing Records </div></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="982601"> </a><div class="CellHeading">Handheld Record Status</div></th>
    <th><a name="982603"> </a><div class="CellHeading">Desktop Record Status</div></th>
    <th><a name="982605"> </a><div class="CellHeading">Action</div></th>
  </tr>
  <tr valign="top">
    <td><a name="982607"> </a><div class="CellBody">Add</div><a name="982608"> </a><div class="CellBody">M=1, D=0, A=0</div></td>
    <td><a name="982610"> </a><div class="CellBody">No record</div><a name="982611"> </a><div class="CellBody">nil</div></td>
    <td><a name="982613"> </a><div class="CellBody">Add the handheld record to the desktop database.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="982615"> </a><div class="CellBody">Archive</div><a name="982616"> </a><div class="CellBody">M=0, D=0, A=1</div></td>
    <td><a name="982618"> </a><div class="CellBody">Delete</div><a name="982619"> </a><div class="CellBody">M=0, D=1, A=0</div></td>
    <td><a name="982621"> </a><div class="CellBody">Archive the handheld record and delete the record from both the handheld and desktop databases.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="982623"> </a><div class="CellBody">Archive</div><a name="982624"> </a><div class="CellBody">M=0, D=0, A=1</div></td>
    <td><a name="982626"> </a><div class="CellBody">No change</div><a name="982627"> </a><div class="CellBody">M=0, D=0, A=nc</div></td>
    <td><a name="982629"> </a><div class="CellBody">Archive the handheld record and delete the record from both the handheld and desktop databases.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="982631"> </a><div class="CellBody">Archive</div><a name="982632"> </a><div class="CellBody">M=0, D=0, A=1</div></td>
    <td><a name="982634"> </a><div class="CellBody">No record</div><a name="982635"> </a><div class="CellBody">nil</div></td>
    <td><a name="982637"> </a><div class="CellBody">Archive the handheld record and delete the record from the handheld.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="982639"> </a><div class="CellBody">Archive, change</div><a name="982640"> </a><div class="CellBody">M=1, D=0, A=1</div></td>
    <td><a name="982642"> </a><div class="CellBody">Change</div><a name="982643"> </a><div class="CellBody"><br></div><a name="982644"> </a><div class="CellBody">M=1, D=0, A=0</div></td>
    <td><a name="982646"> </a><div class="CellBody">If the changes are identical, archive both the handheld record and the desktop record and delete the record from both the handheld and desktop databases.</div><a name="982647"> </a><div class="CellBody"><br></div><a name="982648"> </a><div class="CellBody">If the changes are not identical, do not archive the handheld record; instead handle the records as a <span style="color: #333;;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">double modify</span> case.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="982651"> </a><div class="CellBody">Archive, <br>no change</div><a name="982652"> </a><div class="CellBody">M=0, D=0, A=1</div></td>
    <td><a name="982654"> </a><div class="CellBody">Change</div><a name="982655"> </a><div class="CellBody"><br></div><a name="982656"> </a><div class="CellBody">M=1, D=0, A=0</div></td>
    <td><a name="982658"> </a><div class="CellBody">Do not archive the handheld record; instead replace it with the desktop record.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="982660"> </a><div class="CellBody">Change</div><a name="982661"> </a><div class="CellBody">M=1, D=0, A=0</div></td>
    <td><a name="982663"> </a><div class="CellBody">Archive, change</div><a name="982664"> </a><div class="CellBody">M=1, D=0, A=1</div></td>
    <td><a name="982666"> </a><div class="CellBody">If the changes are identical, archive the handheld record and then delete the records from both the handheld and desktop databases.</div><a name="982667"> </a><div class="CellBody"><br></div><a name="982668"> </a><div class="CellBody">If the changes are not identical, do not archive the desktop record; instead handle the records as a <span style="color: #333;;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">double modify</span> case</div></td>
  </tr>
  <tr valign="top">
    <td><a name="982670"> </a><div class="CellBody">Change</div><a name="982671"> </a><div class="CellBody"><br></div><a name="982672"> </a><div class="CellBody">M=1, D=0, A=0</div></td>
    <td><a name="982674"> </a><div class="CellBody">Archive, no change</div><a name="982675"> </a><div class="CellBody">M=0, D=0, A=1</div></td>
    <td><a name="982677"> </a><div class="CellBody">Do not archive the desktop record; instead, replace the record in the desktop database with the handheld record.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="982679"> </a><div class="CellBody">Change</div><a name="982680"> </a><div class="CellBody">M=1, D=0, A=0</div></td>
    <td><a name="982682"> </a><div class="CellBody">Change</div><a name="982683"> </a><div class="CellBody">M=1, D=0, A=0</div></td>
    <td><a name="982685"> </a><div class="CellBody">If changes are identical, no action.</div><a name="982686"> </a><div class="CellBody"><br></div><a name="982687"> </a><div class="CellBody">If changes are not identical, handle the records as a <span style="color: #333;;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">double modify</span> case.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="982689"> </a><div class="CellBody">Change</div><a name="982690"> </a><div class="CellBody">M=1, D=0, A=0</div></td>
    <td><a name="982692"> </a><div class="CellBody">Delete</div><a name="982693"> </a><div class="CellBody">M=0, D=1, A=0</div></td>
    <td><a name="982695"> </a><div class="CellBody">Do not delete the desktop record; instead, replace the desktop record with the handheld record.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="982697"> </a><div class="CellBody">Change</div><a name="982698"> </a><div class="CellBody">M=1, D=0, A=0</div></td>
    <td><a name="982700"> </a><div class="CellBody">No change</div><a name="982701"> </a><div class="CellBody">M=0, D=0, A=0</div></td>
    <td><a name="982703"> </a><div class="CellBody">Replace the desktop record with the handheld record.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="982705"> </a><div class="CellBody">Delete</div><a name="982706"> </a><div class="CellBody">M=0, D=1, A=0</div></td>
    <td><a name="982708"> </a><div class="CellBody">Change</div><a name="982709"> </a><div class="CellBody">M=1, D=0, A=0</div></td>
    <td><a name="982711"> </a><div class="CellBody">Do not delete the handheld record; instead, replace the handheld record with the desktop record.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="982713"> </a><div class="CellBody">Delete</div><a name="982714"> </a><div class="CellBody">M=0, D=1, A=0</div></td>
    <td><a name="982716"> </a><div class="CellBody">No change</div><a name="982717"> </a><div class="CellBody">M=0, D=0, A=0</div></td>
    <td><a name="982719"> </a><div class="CellBody">Delete the record from the desktop and handheld databases.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="982721"> </a><div class="CellBody">No change</div><a name="982722"> </a><div class="CellBody">M=0, D=0, A=0</div></td>
    <td><a name="982724"> </a><div class="CellBody">Archive</div><a name="982725"> </a><div class="CellBody">M=0, D=0, A=1</div></td>
    <td><a name="982727"> </a><div class="CellBody">Archive the desktop record, then delete the record from both databases.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="982729"> </a><div class="CellBody">No change</div><a name="982730"> </a><div class="CellBody">M=0, D=0, A=0</div></td>
    <td><a name="982732"> </a><div class="CellBody">Change</div><a name="982733"> </a><div class="CellBody">M=1, D=0, A=0</div></td>
    <td><a name="982735"> </a><div class="CellBody">Replace the handheld record with the desktop record</div></td>
  </tr>
  <tr valign="top">
    <td><a name="982737"> </a><div class="CellBody">No change</div><a name="982738"> </a><div class="CellBody">M=0, D=0, A=0</div></td>
    <td><a name="982740"> </a><div class="CellBody">Delete</div><a name="982741"> </a><div class="CellBody">M=0, D=1, A=0</div></td>
    <td><a name="982743"> </a><div class="CellBody">Delete the record from the desktop and handheld databases.</div></td>
  </tr>
</table>




</h5>

<h2 class="HBHeadB">
  <a name="982746"> </a>Synchronizing to More than One Desktop <a href="#979588"><span class="nav">^TOP^</span></a>
</h2>

<p class="Body">
  <a name="982747"> </a>If we now expand the simplified scenario above for mirror-image synchronization to include the possibility of multiple handhelds and multiple PCs, additional state information and additional actions are required for correct mirror-image synchronization.
</p>

<h4 class="HCHeadC">
  <a name="982748"> </a>Synchronizing to Multiple Users
</h4>
<p class="Body">
  <a name="982749"> </a>Palm OS allows multiple handhelds to synchronize to the same desktop. A unique user name must be assigned to each handheld. HotSync Manager on the desktop identifies the user of the handheld to determine which set of desktop databases to use with this handheld. 
</p>
<p class="Body">
  <a name="982750"> </a>A separate directory for each user name is maintained on the desktop, and each handheld application is given a subdirectory there, in which the associated conduit maintains that user's database. There are also subdirectories for archive and backup files. 
</p>

<h4 class="HCHeadC">
  <a name="982751"> </a>Synchronizing to Multiple Desktops
</h4>
<p class="Body">
  <a name="982752"> </a>Palm OS also allows handhelds to be synchronized to multiple desktops. Thus, you might have the Palm<sup>&#8482;</sup> Desktop software installed at home and at work, and want to carry information back and forth on the handheld.
</p>
<p class="Body">
  <a name="982753"> </a>In order to determine where a handheld was last synchronized, each desktop machine running the HotSync Manager application is given a unique identification number. As part of its standard operation, HotSync Manager always stores the ID of the desktop performing the HotSync session in a field reserved for this purpose in the handheld. When the handheld is next synchronized, HotSync Manager compares the desktop ID stored in the handheld with the current desktop ID. If they are the same, HotSync Manager knows that this handheld was last synchronized to this desktop. Otherwise, it was synchronized to another desktop machine.
</p>
<p class="Body">
  <a name="982754"> </a>If the handheld was synchronized to this machine, the Modify, Delete, and Archive bits accurately reflect the differences between the handheld and the desktop. The conduit only needs to iterate through the records which have those bits set on both sides in order to perform mirror-image synchronization. This is the so-called <span style="color: #333;;  font-style: italic; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">fast sync</span> operation because only a subset of records must be visited.
</p>
<p class="Body">
  <a name="982755"> </a>If the handheld was previously synchronized to another machine, then its Modify, Delete, and Archive bits reflect what has changed since the last synchronization with the <span style="color: #333;;  font-style: italic; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">other desktop</span>, and they do not match the last synchronization to this machine. Basically, the conduit must compare each and every record on the desktop and the handheld. This is the so-called <span style="color: #333;;  font-style: italic; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">slow sync</span> operation because every record must be visited. Because this potentially includes bringing every record across a serial interface, the transaction time for a slow sync can be considerably longer than for a fast sync, depending upon such factors as the speed of the connection, the size of the database, and the relative size of the records (a few big records generally require less handshaking than many little records, and can have a considerable speed advantage during a slow sync).
</p>

<h2 class="HBHeadB">
  <a name="982756"> </a>Overview of Synchronization Procedures <a href="#979588"><span class="nav">^TOP^</span></a>
</h2>


<h4 class="HCHeadC">
  <a name="982758"> </a>Fast Sync
</h4>
<p class="Body">
  <a name="982759"> </a>As described in the previous section, fast sync can be performed when HotSync Manager observes that the desktop ID stored in the handheld indicates that this same desktop was last synchronized to this same handheld. In that case, record flag bits in each database correctly indicate the disposition of each record. The conduit only needs to iterate through the records on the handheld which have those bits set and compare them to corresponding records on the desktop. 
</p>
<p class="Body">
  <a name="982760"> </a>The GenCn Framework provides the logic that implements the rules given in <a href="MCComp_GenCn.html#982595">Table 5.1</a>. If your conduit interfaces to one of the standard Palm OS handheld applications, all you need to provide are methods to interface to your desktop database. If you have created a custom handheld application, you must additionally provide methods to interface to your handheld application's records. In either case, if HotSync Manager determines that a fast sync can be performed, then HotSync Manager together with the GenCn Framework will arrange to call your interface methods in order to perform the appropriate mirror-image synchronization.
</p>

<h4 class="HCHeadC">
  <a name="982765"> </a>Slow Sync
</h4>
<p class="Body">
  <a name="982766"> </a>If a fast sync can not be performed, a slow sync must be performed. The aim of a slow sync is the same as a fast sync: assemble state information that will allow us to perform a set of operations resulting in mirror-image synchronization. 
</p>
<p class="Body">
  <a name="982767"> </a>But here's the problem: if the handheld was previously synchronized to another machine, then the flag bits on the handheld database do not reflect what has changed since the last synchronization with this machine; instead, they reflect what has changed since synchronization with another machine.
</p>
<p class="Body">
  <a name="982768"> </a>For example, suppose you synchronize your handheld with your desktop at work. As a result, your handheld and work desktop databases are mirror images. The work desktop stores a local backup copy of the synchronized database. On the way home, you create, delete, and modify some records in your handheld's Datebook application to set up your appointments for tomorrow. You get home and perform a sync to your home machine to pick up some important phone contacts off your home desktop. As part of that sync, all deleted records vanish from your handheld; records to be archived are shipped off to the local archive and are likewise deleted from the handheld; modified records and new records are reconciled with the home desktop, and their modified bits are cleared. Lastly, the home desktop's ID is copied to the handheld, indicating it was last synchronized to this machine. 
</p>
<p class="Body">
  <a name="982769"> </a>When you get back to the office the next day, your boss mentions that he had to change the time of the sales meeting. You know that this change will conflict with a meeting you entered in your handheld last night. You get to your desk, pop the handheld in its cradle and hit the HotSync button. What happens? Your work desktop machine observes that your handheld has been visiting other desktops and ponders its options....
</p>
<p class="Body">
  <a name="982770"> </a>Clearly, if records are identical, there's no problem. But what if the records are different? They could have been modified or created on the handheld, modified or created on the desktop, or changed on both. Thus, simply comparing the current state of the desktop to the current state of the handheld is not effective. What information does your work desktop machine have to work with?
</p>
<p class="Body">
  <a name="982771"> </a>Well, recall that at the end of every sync, the conduit saves the synchronized state in a backup file. The backup file thus contains an historical record of both the state of the handheld and the state of the desktop databases at that instant they were last mirror-image synchronized:
</p>

  <a name="982772"> </a><p class="B1Bullet"> &#8226; The difference between the backup file and the current state of the desktop database identifies what changed on the desktop since the last sync.</p>

  <a name="982773"> </a><p class="B1Bullet"> &#8226; The difference between the backup file and the current state of the handheld database identifies what changed on the handheld since the last sync with this desktop.</p>
<p class="Body">
  <a name="982774"> </a>We can salvage the situation by a two-step operation as follows:
</p>
  <a name="982775"> </a><p class="N1NumList">1.	  Compare every record in the backup file to the current state of the desktop databases.</p>  <a name="982776"> </a><p class="N1NumList">2.	  Compare every record in the backup file to the current state of the handheld databases.</p><p class="Body">
  <a name="982777"> </a>This recreates valid Modify/Delete flags for each side, which can then be used to perform a standard mirror-image synchronization.
</p>
<p class="Body">
  <a name="982778"> </a>For our particular example, here are the actions the conduit takes:
</p>

  <a name="982779"> </a><p class="B1Bullet"> &#8226; The records that had their Delete bit set on the way home were removed by the sync to the home desktop. Upon iteratively comparing every record between the backup and the handheld, these deleted records are eventually identified. Because they were deleted from the handheld but still exist unmodified on the work desktop, they are copied to the handheld.</p>

  <a name="982780"> </a><p class="B1Bullet"> &#8226; The phone contact records that were added to the handheld by the home desktop do not exist on the work desktop. Upon iteratively comparing every record between the backup and the handheld, these new records are eventually identified. Because they exist on the handheld and not on the work desktop, they are copied to the work desktop.</p>

  <a name="982781"> </a><p class="B1Bullet"> &#8226; The records you changed on the way home do not have their Modify bits still set, because the sync with the home desktop cleared the Modify bits. Upon iteratively comparing every record between the backup and the handheld, these changed records are eventually discovered. Because they are changed on the handheld and not on the desktop, they are copied to the desktop.</p>

  <a name="982782"> </a><p class="B1Bullet"> &#8226; Lastly, the record your boss modified on your desktop had its Modify bit set in the database, but it's not set in the backup file. Upon iteratively comparing every record between the backup and the desktop databases, this modified record is eventually discovered. Because it is changed on the desktop and not on the handheld, it is copied to the handheld. When you view your schedule of meetings today, you discover that you have two records that appear in the same time slot.</p>
<p class="Body">
  <a name="982783"> </a>Clearly, there are many variations on the above scenario that could be fruitfully considered. This is left as an exercise to the interested reader.
</p>

<h2 class="HaHeadA">
  <a name="982556"> </a>Creating Your Generic Conduit <a href="#979588"><span class="nav">^TOP^</span></a>
</h2>

<p class="Body">
  <a name="982892"> </a>The <span style="font-family: monospace">GenCn</span> folder in the CDK's <span style="font-family: monospace">Conduits</span> folder contains a sample Generic Conduit that you can adapt to meet your needs. Make a copy of the entire folder to create your new conduit project, then open the <span style="font-family: monospace">Generic Conduit.mcp</span> project file.
</p>
<p class="Body">
  <a name="983548"> </a>You should open the project settings window and make adjustments specific to your conduit (changing the executable file's name, and so forth), then proceed to modify the base code to create your conduit.
</p>
<p class="Body">
  <a name="983161"> </a>This project has several targets; the two key targets are the "GenericConduit" and "GenericConduit(bundle)" targets; by selecting one of these two targets, you can select whether to build a non-bundled or bundled version of your conduit.
</p>
<p class="Body">
  <a name="983159"> </a>There are six groups in this project:
</p>

  <a name="983160"> </a><p class="B1Bullet"> &#8226; Source&#8212;contains the conduit's source code. There are two files here; <span style="font-family: monospace">GenCondNoBundle.cpp</span> is used by the "GenericConduit" target, while <span style="font-family: monospace">GenCondBundle.cpp</span> is used by the "GenericConduit(bundle)" target.</p>

  <a name="983172"> </a><p class="B1Bullet"> &#8226; Generic Conduit Classes&#8212;contains the source files for the Generic Conduit Framework itself.</p>

  <a name="983173"> </a><p class="B1Bullet"> &#8226; PFC&#8212;contains the source files for the Palm Foundation Classes. These are utility classes to make conduit development easier.</p>

  <a name="983174"> </a><p class="B1Bullet"> &#8226; Shared&#8212;contains source files that are shared with the other example conduits.</p>

  <a name="983175"> </a><p class="B1Bullet"> &#8226; Resources&#8212;contains the various resource files used by the conduit, including separate resource files for each language the conduit supports.</p>

  <a name="983181"> </a><p class="B1Bullet"> &#8226; Libraries&#8212;contains the libraries the conduit uses, including HotSync Libraries, CarbonLib, and the MSL library.</p>
<p class="Body">
  <a name="983182"> </a>As a general rule, you should only need to make changes to files in the Source and Resources groups. Instead of making changes to the Generic Conduit classes, you should create subclasses that implement the altered functionality you require.
</p>
<p class="Body">
  <a name="983464"> </a>The <span style="font-family: monospace">Generic Conduit.exp</span> and <span style="font-family: monospace">Generic Conduit Bundle.exp</span> files specify which functions in the non-bundled and bundled versions of the Generic Conduit should be exported, and therefore public to the HotSync Manager application. You shouldn't need to make any changes to these files.
</p>
<div class="NINoteImportant"><hr>
  <a name="983461"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">NOTE:  </span> The source for the sample conduits provided by PalmSource, Inc. includes functions <span style="font-family: monospace">ConduitInit</span> and <span style="font-family: monospace">ConduitExit</span>. These functions are an implementation detail; they are called when the conduit is loaded and unloaded by the operating system to perform low-level setup and teardown of the conduit library. You shouldn't need to change either of these functions.
<hr>
</div>

<h2 class="HBHeadB">
  <a name="983233"> </a>The CPcMgr Class <a href="#979588"><span class="nav">^TOP^</span></a>
</h2>

<p class="Body">
  <a name="983234"> </a>The CPcMgr class provides methods to interact with a database stored on the desktop computer. By default, your data is saved in a binary format that the Generic Conduit is capable of reading and writing without modification. If you wish to store data in a custom format on the desktop computer, you must subclass CPcMgr and replace the <span style="font-family: monospace">StoreDB</span> and <span style="font-family: monospace">RestoreDB</span> methods to manipulate data in the desired format.
</p>
<p class="Body">
  <a name="983185"> </a>Adding Category Support
</p>
<p class="Body">
  <a name="983250"> </a>You'll need to store in your desktop file:
</p>

  <a name="983251"> </a><p class="B1Bullet"> &#8226; category ID</p>
<p class="Body">
  <a name="983252"> </a>You will also need to store, for each category:
</p>

  <a name="983253"> </a><p class="B1Bullet"> &#8226; Category name</p>

  <a name="983254"> </a><p class="B1Bullet"> &#8226; Category ID (use 128-255 for new categories on the desktop)</p>

  <a name="983255"> </a><p class="B1Bullet"> &#8226; Whether the category has been modified on the desktop.</p>
<p class="Body">
  <a name="983256"> </a>To enable category syncing, modify <span style="font-family: monospace">OpenConduit</span> or <span style="font-family: monospace">OpenConduitCarbon</span>:
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
new C<i>My</i>Synchronizer(rProps, 0);<a name="983257"> </a>
</pre><div class="CodeRule"><hr></div>
<p class="Body">
  <a name="983258"> </a>to:
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
new C<i>My</i>Synchronizer(rProps,
    GENERIC_FLAG_CATEGORY_SUPPORTED |
    GENERIC_FLAG_APPINFO_SUPPORTED);<a name="983259"> </a>
</pre><div class="CodeRule"><hr></div>
<p class="Body">
  <a name="983261"> </a>Add code to <span style="font-family: monospace">StoreDB</span> to write out the categories:
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
   if (!m_pCatMgr)      // on a HH-&gt;PC copy, 
   // the PC category mgr isn't created<a name="983262"> </a>
        CPcMgr::<i>ExtractCategories</i>();<a name="983263"> </a>
if (m_pCatMgr) {
   CPCategory *cat;<a name="983264"> </a>
   for (cat = m_pCatMgr-&gt;FindFirst(); cat != NULL; <a name="983265"> </a>
      cat = m_pCatMgr-&gt;FindNext()){<a name="983266"> </a>
         <i>WriteCategory</i>(cat-&gt;GetID(), cat-&gt;GetName());<a name="983267"> </a>
   }<a name="983268"> </a>
}<a name="983269"> </a>
</pre><div class="CodeRule"><hr></div>
<p class="Body">
  <a name="983271"> </a>Override <span style="font-family: monospace">C</span><span style="font-family: monospace">My</span><span style="font-family: monospace">PcMgr::ExtractCategories</span> to do nothing (because you'll read your categories directly in <span style="font-family: monospace">RetrieveDB</span>):
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
long C<span style="color: #333;;  font-style: oblique; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">My</span>PcMgr::ExtractCategories(void)<a name="983272"> </a>
{<a name="983273"> </a>
   // when we read in the data in our 
   // RetrieveDB, we create the category
   // manager there<a name="983274"> </a>
      return 0;<a name="983275"> </a>
}<a name="983276"> </a>
</pre><div class="CodeRule"><hr></div>
<p class="Body">
  <a name="983278"> </a>Add code to <span style="font-family: monospace">RetrieveDB</span> to read in the categories:
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
m_pCatMgr = new CPCategoryMgr;<a name="983279"> </a>
// for each category in file {<a name="983280"> </a>
     CPCategory cat;<a name="983281"> </a>

      cat.SetID(<span style="color: #333;;  font-style: oblique; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">catID</span>);
      cat.SetName(<span style="color: #333;;  font-style: oblique; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">catName</span>);
      if (<i>categoryChanged</i>)
      cat.SetDirty();<a name="983282"> </a>
      m_pCatMgr-&gt;Add(cat);<a name="983283"> </a>
}<a name="983284"> </a>
</pre><div class="CodeRule"><hr></div>
&nbsp;<br>
<!--END CONTENT-->

</td>
<td width="5">&nbsp;&nbsp;</td>
</tr>

</table>

<!-- BEGIN FOOTER -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="15" rowspan="2"><img name="index_x" src="images/shim.gif" width="15" height="33" border="0" alt=""></td>
<td align="middle"><img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
<td width="10" rowspan="2"><img name="index_x" src="images/shim.gif" width="10" height="33" border="0" alt=""></td>
</tr>
<tr>
<td align="center">
<p>&nbsp;</p>
<p class="footer">
Copyright © 1996 - 2002, PalmSource, Inc. and its affiliates. All rights reserved.<br>
<a href="http://www.palmsource.com/contact/">Write Us</a> | <a href="http://www.palmos.com/dev/training/">Training</a> | <a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a> | <a href="MCComp_Front.html" target="_blank">Legal</a></p>
<p>&nbsp;</p>
</td>
</tr>
<!-- END FOOTER -->

</body>
</html>