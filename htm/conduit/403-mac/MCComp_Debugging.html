<html>
<head>
<title>PalmSource | Debugging Conduits</title> 
<link href="palmsource_styles.css" rel="stylesheet" type="text/css">
<link href="document.css" rel="stylesheet" type="text/css">

<!-- begin meta data -->
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META NAME="PALMSOURCETEMPLATE" CONTENT="1006-006 PalmSource HTML 20030131">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks Publisher Professional Edition 6.0.7">
<META NAME="LASTUPDATED" CONTENT="03/03/03 11:18:32">
<!-- end meta data -->
</head>

<body bgcolor="#ffffff" text="#000000" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<a name="979588"></a>

<!-- BEGIN TOPNAV -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td align="middle" bgcolor="#efefe4"><table border="0" cellpadding="0" cellspacing="0" width="744">
<tr>
<td><img name="index_r1_c1" src="images/shim.gif" width="280" height="24" border="0" alt="" id="IMG1"></td>
</tr>
</table>
</td>
</tr>
<tr>
<td align="middle"><table border="0" cellpadding="0" cellspacing="0" width="744">
<tr>
<td><img name="index_r2_c1" src="images/shim.gif" width="33" height="75" border="0" alt=""></td>
<td><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_r2_c4" src="images/shim.gif" width="96" height="11" border="0" alt=""></td>
</tr>
<tr>
<td><a href="http://www.palmsource.com/"><img name="ps_logo" src="images/ps_logo.gif" width="96" height="54" border="0" alt=""></a></td>
</tr>
<tr>
<td><img name="index_r6_c4" src="images/shim.gif" width="96" height="10" border="0" alt=""></td>
</tr>
</table>
</td>

<td><table border="0" cellpadding="0" cellspacing="0" width="30">
<td><img name="index_x" src="images/shim.gif" width="30" height="75" border="0" alt=""></td>
</table></td>

<!--Begin masthead-->
<td><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
<!--Begin breadcrumbs-->
<tr>
<td><span class="nav">&lt;&nbsp;<A HREF="http://www.palmos.com/index.html">Home</a> 
&nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/">Developers</a> 
&nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/support/">Development Support</a>
&nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/support/docs/">Documentation</a></span></td>
</tr>
<!--End breadcrumbs-->
<tr>
<td><h2 class="HeadDocPage">10 &nbsp;&nbsp;Debugging Conduits</h2></td>
</tr>
<tr>
<td><span class="nav">
<a href="C++SyncMacCompanionTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="MCComp_Installation.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="MCComp_Glossary.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="C++SyncMacCompanionIX.html">Index</a>
</span></td>
</tr>
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
</table>
</td>
<!--End masthead-->

</tr>
</table>
<img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
</tr>
</table>
<!-- END TOPNAV -->

<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" width="10"><img name="index_x" src="images/shim.gif" width="10" height="33" border="0" alt=""></td>

<!--BEGIN MINITOC-->
<td valign="top" width="175">
<p class="SideTitle"><a href="MCComp_Front.html">C/C++ Sync Suite Companion for Macintosh</a></p>
<p class="SideTOC1-PartTab">Palm OS® Conduit Development Kit for Macintosh, Version 4.03 </p>
<p class="SideTOC1"><a href="MCComp_Debugging.html">10  Debugging Conduits</a></p>


<p class="SideTOC2">
<a href="#979598">Using the HotSync Manager Application Log
</a></p>

<p class="SideTOC3">
<a href="#979613">Location of the Log File
</a></p>

<p class="SideTOC2">
<a href="#979616">Debugging Tips and Tricks
</a></p>

<p class="SideTOC3">
<a href="#979623">Common Troubleshooting Help
</a></p>

<p class="SideTOC3">
<a href="#981454">Disabling Timeouts
</a></p>

<p class="SideTOC3">
<a href="#979802">Disabling Other Conduits
</a></p>

</td>
<!--END MINITOC-->

<td width="5">&nbsp;&nbsp;</td>
<td width="2" background="images/index_r8_c10.gif">&nbsp;</td>
<td width="5">&nbsp;&nbsp;</td>
<td valign="top">

<!--BEGIN CONTENT-->
<p class="Body">
  <a name="979591"> </a>This chapter provides information about debugging your conduit, including the following:
</p>

  <a name="979592"> </a><p class="B1Bullet"> &#8226; how to use HotSync<sup>®</sup> Manager application to provide additional debugging information</p>

  <a name="979593"> </a><p class="B1Bullet"> &#8226; troubleshooting tips for common conduit problems</p>

  <a name="979594"> </a><p class="B1Bullet"> &#8226; shortcuts on the handheld that you can use for debugging</p>

  <a name="979595"> </a><p class="B1Bullet"> &#8226; how to disable time-outs and other conduits to help your debugging efforts</p>

  <a name="979596"> </a><p class="B1Bullet"> &#8226; information about additional tools you can use for debugging on Palm Powered<sup>&#8482;</sup> handhelds </p>

<h2 class="HaHeadA">
  <a name="979598"> </a>Using the HotSync Manager Application Log <a href="#979588"><span class="nav">^TOP^</span></a>
</h2>

<p class="Body">
  <a name="979599"> </a>You can add entries to the HotSync Manager application's log to provide you with debugging information. You can also set the additional logging information option in the HotSync Manager application to provide additional information in the log. To do so, follow these steps:
</p>
  <a name="979600"> </a><p class="N1NumList">1.	  Select the <b>Setup</b> command from the HotSync menu.</p>  <a name="979601"> </a><p class="N1NumList">2.	  Select the <b>Show more detail</b> option in the dialog box, as shown in <a href="MCComp_Debugging.html#979607">Figure 10.1</a>.</p>
<p class="FFigureCaption">
  <a name="979607"> </a>Figure 10.1	 Enabling additional log information
</p>
<p class="FgFigure">
<div align="left"><img src="images/logdetail.gif" border="0" hspace="20" vspace="0">
</div>
</p>

<h2 class="HBHeadB">
  <a name="979613"> </a>Location of the Log File <a href="#979588"><span class="nav">^TOP^</span></a>
</h2>

<p class="Body">
  <a name="979614"> </a>The HotSync Manager application log file is named <span style="font-family: monospace">HotSync Log</span> and is normally generated in the user's directory. 
</p>

<h2 class="HaHeadA">
  <a name="979616"> </a>Debugging Tips and Tricks <a href="#979588"><span class="nav">^TOP^</span></a>
</h2>

<p class="Body">
  <a name="979617"> </a>This section provides several hints to help you in debugging your conduits, including the following:
</p>

  <a name="979618"> </a><p class="B1Bullet"> &#8226; troubleshooting tips for common conduit problems</p>

  <a name="979619"> </a><p class="B1Bullet"> &#8226; how to use shortcut numbers</p>

  <a name="979620"> </a><p class="B1Bullet"> &#8226; how to avoid power-off timeouts</p>

  <a name="979621"> </a><p class="B1Bullet"> &#8226; how to disable other conduits</p>

<h2 class="HBHeadB">
  <a name="979623"> </a>Common Troubleshooting Help <a href="#979588"><span class="nav">^TOP^</span></a>
</h2>

<p class="Body">
  <a name="979624"> </a>This section describes solutions to several common problems that developers have with getting their conduits working.
</p>

<h4 class="HCHeadC">
  <a name="979626"> </a>When Your Conduit Doesn't Appear in The Custom Dialog Box
</h4>
<p class="Body">
  <a name="979627"> </a>You do not see your conduit in the Custom dialog box, it means that the HotSync Manager application has not loaded your conduit. This is usually because HotSync Manager can't find your conduit.
</p>
<p class="Body">
  <a name="980951"> </a>Also, all Carbonized conduits must have a <span style="font-family: monospace">'carb'</span> 0 resource.
</p>

<h4 class="HCHeadC">
  <a name="979629"> </a>When Your Conduit Doesn't Run
</h4>
<p class="Body">
  <a name="979633"> </a>If your conduit displays in the HotSync Manager application's Conduit Settings dialog box, check to be sure the version number of your conduit is in the range specified by the constants <span style="font-family: monospace">MIN_CONDUIT_VERSION</span> (<span style="font-family: monospace">0x00000101</span>) and <span style="font-family: monospace">MAX_CONDUIT_VERSION</span> (<span style="font-family: monospace">0x00000300</span>).
</p>
<p class="Body">
  <a name="981031"> </a>The value that you return from your <span style="font-family: monospace">GetConduitVersion</span> entry point must be in the range <span style="font-family: monospace">MIN_CONDUIT_VERSION</span> to <span style="font-family: monospace">MAX_CONDUIT_VERSION</span>. <a href="MCComp_EntryPoints.html#973847">Listing 7.5</a> shows an example of the <span style="font-family: monospace">GetConduitVersion</span> function.
</p>

<h4 class="HCHeadC">
  <a name="981317"> </a>You Don't Hit Your Breakpoint
</h4>
<p class="Body">
  <a name="981318"> </a>On Mac OS X, if your breakpoint is in <span style="font-family: monospace">OpenConduit</span> or <span style="font-family: monospace">OpenConduitCarbon</span>, your debugging host application must be Conduit Manager rather than HotSync Manager. For the other entry points, you must use HotSync Manager as your debugging host instead of Conduit Manager. This is due to the memory protection feature offered by Mac OS X.
</p>
<p class="Body">
  <a name="981357"> </a>On Mac OS 9, it doesn't matter.
</p>

<h4 class="HCHeadC">
  <a name="981039"> </a>Using Shortcut Numbers
</h4>
<p class="Body">
  <a name="979668"> </a>The Palm OS<sup>®</sup> responds to a number of "hidden" shortcuts for debugging your programs. You generate each of these shortcuts by drawing characters on your Palm Powered handheld, or by drawing them in the emulator program, if you are using that for debugging your conduit.
</p>
<p class="Body">
  <a name="979669"> </a>To enter a shortcut number, follow these steps:
</p>
  <a name="979670"> </a><p class="N1NumList">1.	  On your handheld, or in the emulator program, draw the shortcut symbol. This is a lowercase, cursive "L" character, drawn as follows:</p><p class="FgFigure">
<div align="left"><img src="images/MCComp_Debugging2.gif" height="129" width="63" border="0" hspace="20" vspace="0">
</div>
</p>
  <a name="979676"> </a><p class="N1NumList">2.	  Next, tap the stylus twice, to generate a dot (a period). </p>  <a name="979678"> </a><p class="N1NumList">3.	  Next, draw a number character in the number entry portion of the handheld's text entry area. <a href="MCComp_Debugging.html#979697">Table 10.1</a> shows the different shortcut numbers that you can use. </p><p class="Indented1"> <a name="979682"> </a>For example, to disable the automatic power-off feature of the handheld, enter the follow sequence:</p>
<p class="FgFigure">
<div align="left"><img src="images/MCComp_Debugging3.gif" height="45" width="74" border="0" hspace="20" vspace="0">
</div>
</p>

<h5 class="TgTable">


<table border="1" cellpadding="5" cellspacing="0">
  <caption><a name="979697"> </a><div class="TableTitle">Table 10.1  Shortcut Numbers </div></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="979703"> </a><div class="CellHeading">Number</div></th>
    <th><a name="979705"> </a><div class="CellHeading">Description</div></th>
    <th><a name="979707"> </a><div class="CellHeading">Notes</div></th>
  </tr>
  <tr valign="top">
    <td><a name="979709"> </a><div class="CellBody"><b>1</b></div></td>
    <td><a name="979711"> </a><div class="CellBody">The handheld enters debugger mode, and waits for a low-level debugger to connect. A flashing square appears in the top left corner of the handheld.</div></td>
    <td><a name="979713"> </a><div class="CellBody">This mode opens a serial port, which drains power over time.</div><a name="979714"> </a><div class="CellBody"><br></div><a name="979715"> </a><div class="CellBody">You must perform a soft reset to exit this mode.</div><a name="979716"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="979718"> </a><div class="CellBody"><b>2</b></div></td>
    <td><a name="979720"> </a><div class="CellBody">The handheld enters console mode, and waits for communication, typically from a high-level debugger.</div></td>
    <td><a name="979722"> </a><div class="CellBody">This mode opens a serial port, which drains power over time.</div><a name="979723"> </a><div class="CellBody"><br></div><a name="979724"> </a><div class="CellBody">You must perform a soft reset to exit this mode.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="979726"> </a><div class="CellBody"><b>3</b></div></td>
    <td><a name="979728"> </a><div class="CellBody">The handheld's automatic power-off feature is disabled. </div></td>
    <td><a name="979730"> </a><div class="CellBody">You can still use the handheld's power button to power it on and off.</div><a name="979731"> </a><div class="CellBody"><br></div><a name="979732"> </a><div class="CellBody">You must perform a soft reset to exit this mode.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="979734"> </a><div class="CellBody"><b>4</b></div></td>
    <td><a name="979736"> </a><div class="CellBody">Displays the user's name</div></td>
    <td><a name="979738"> </a><div class="CellBody">None</div></td>
  </tr>
  <tr valign="top">
    <td><a name="979740"> </a><div class="CellBody"><b>5</b></div></td>
    <td><a name="979742"> </a><div class="CellBody">Erases the user's name and User ID.</div></td>
    <td><div class="NWNoteWarning"><hr>
  <a name="979744"> </a> <span style="color: #FF0000;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">WARNING!  </span> When the handheld is next synchronized after using this shortcut, the HotSync Manager application thinks that it has never been synchronized before. This means that records will be duplicated unless you first perform a hard reset (press the reset button while holding the power key).
<hr>
</div>
</td>
  </tr>
  <tr valign="top">
    <td><a name="979746"> </a><div class="CellBody"><b>6</b></div></td>
    <td><a name="979748"> </a><div class="CellBody">Displays the ROM build date and build time.</div></td>
    <td><a name="979750"> </a><div class="CellBody"><br></div></td>
  </tr>
  <tr valign="top">
    <td><a name="979752"> </a><div class="CellBody"><b>7</b></div></td>
    <td><a name="979754"> </a><div class="CellBody">Cycles through battery curves to allow adjustment of when the battery warnings appear.</div></td>
    <td><a name="979756"> </a><div class="CellBody">Of limited effectiveness.</div><a name="979757"> </a><div class="CellBody"><br></div><a name="979758"> </a><div class="CellBody">Low battery warnings do not work well with NiCd batteries.</div></td>
  </tr>
</table>




</h5>
<div class="NINoteImportant"><hr>
  <a name="981450"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">NOTE:  </span> Many of the debugging shortcuts leave the handheld in a mode that requires a soft reset. To perform a soft reset, press the reset button on the back of the handheld with a blunt instrument, such as a paper clip.
<hr>
</div>

<h2 class="HBHeadB">
  <a name="981454"> </a>Disabling Timeouts <a href="#979588"><span class="nav">^TOP^</span></a>
</h2>

<p class="Body">
  <a name="981455"> </a>There are two timeouts that you can disable when debugging your conduits. <a href="MCComp_Debugging.html#981465">Table 10.2</a> provides a summary of each timeout.

<table border="1" cellpadding="5" cellspacing="0">
  <caption><a name="981465"> </a><div class="TableTitle">Table 10.2  Disabling timeouts on the handheld </div></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="981471"> </a><div class="CellHeading">Timeout type</div></th>
    <th><a name="981473"> </a><div class="CellHeading">How to disable</div></th>
    <th><a name="981475"> </a><div class="CellHeading">Reason to disable</div></th>
  </tr>
  <tr valign="top">
    <td><a name="981477"> </a><div class="CellBody">Automatic power-off</div></td>
    <td><a name="981479"> </a><div class="CellBody">Use shortcut number 3, as described in <a href="MCComp_Debugging.html#979697">Table 10.1</a>.</div></td>
    <td><a name="981484"> </a><div class="CellBody">If you are stepping through your code and the handheld powers down, you lose your debugging session.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="981486"> </a><div class="CellBody">Transport link</div></td>
    <td><a name="981488"> </a><div class="CellBody">Hold down the scroll-up button (on a Palm OS 3.0, or later, handheld) or the scroll-up and scroll-down buttons (on a pre-Palm OS 3.0 handheld) on the handheld and simultaneously tap in the top-right corner of the screen. <i>Note</i>: This doesn't work on devices with the universal connector.</div></td>
    <td><a name="981490"> </a><div class="CellBody">If you are stepping through your code while synchronizing, the HotSync Manager application thinks the connection has been lost and terminates.</div></td>
  </tr>
</table>




</p>

<h2 class="HBHeadB">
  <a name="979802"> </a>Disabling Other Conduits <a href="#979588"><span class="nav">^TOP^</span></a>
</h2>

<p class="Body">
  <a name="979803"> </a>To speed up your debugging efforts, you can disable all of the other conduits. To disable a conduit, follow these steps:
</p>
  <a name="979804"> </a><p class="N1NumList">1.	  Choose the <b>Conduit Settings </b>menu choice in the HotSync Manager application</p>  <a name="979808"> </a><p class="N1NumList">2.	  Select the conduit you want to disable. <a href="MCComp_Debugging.html#979810">Figure 10.2</a> shows selecting the To Do List conduit for disabling.</p>
<p class="FFigureCaption">
  <a name="979810"> </a>Figure 10.2	 Selecting a conduit to disable
</p>
<p class="FgFigure">
<div align="left"><img src="images/selectconduit.gif" border="0" hspace="20" vspace="0">
</div>
</p>
  <a name="979815"> </a><p class="N1NumList">3.	  Click <b>Conduit Settings</b>.</p>  <a name="979819"> </a><p class="N1NumList">4.	  Select the <b>Do Nothing</b> radio button, as shown in <a href="MCComp_Debugging.html#979828">Figure 10.3</a>.</p>  <a name="979823"> </a><p class="N1NumList">5.	  Also click the <b>Make Default</b> button, as shown in <a href="MCComp_Debugging.html#979828">Figure 10.3</a>. This ensures that "Do Nothing" will remain effective until you unset the option.</p>  <a name="979824"> </a><p class="N1NumList">6.	  Click <b>OK</b>.</p><p class="Body">
  <a name="979825"> </a>Perform this sequence of actions for each of your installed conduits.
</p>
<div class="NINoteImportant"><hr>
  <a name="979826"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">IMPORTANT:  </span> Remember to reset each conduit after you've completed your debugging.
<hr>
</div>

<p class="FFigureCaption">
  <a name="979828"> </a>Figure 10.3	 Changing the conduit action to Do Nothing
</p>
<p class="FgFigure">
<div align="left"><img src="images/disableconduit.gif" border="0" hspace="20" vspace="0">
</div>
</p>
&nbsp;<br>
<!--END CONTENT-->

</td>
<td width="5">&nbsp;&nbsp;</td>
</tr>

</table>

<!-- BEGIN FOOTER -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="15" rowspan="2"><img name="index_x" src="images/shim.gif" width="15" height="33" border="0" alt=""></td>
<td align="middle"><img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
<td width="10" rowspan="2"><img name="index_x" src="images/shim.gif" width="10" height="33" border="0" alt=""></td>
</tr>
<tr>
<td align="center">
<p>&nbsp;</p>
<p class="footer">
Copyright © 1996 - 2002, PalmSource, Inc. and its affiliates. All rights reserved.<br>
<a href="http://www.palmsource.com/contact/">Write Us</a> | <a href="http://www.palmos.com/dev/training/">Training</a> | <a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a> | <a href="MCComp_Front.html" target="_blank">Legal</a></p>
<p>&nbsp;</p>
</td>
</tr>
<!-- END FOOTER -->

</body>
</html>