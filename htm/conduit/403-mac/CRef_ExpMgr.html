<html>
<head>
<title>PalmSource | Expansion Manager API</title> 
<link href="palmsource_styles.css" rel="stylesheet" type="text/css">
<link href="document.css" rel="stylesheet" type="text/css">

<!-- begin meta data -->
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META NAME="KEYWORDS" CONTENT="C, C++, C/C++ Sync Suite, Expansion Manager, expansion, slot, card, reference, API, CDK, conduit, conduits, Windows">
<META NAME="DESCRIPTION" CONTENT="Provides reference details on the Expansion Manager API in the C/C++ Sync Suite.">
<META NAME="PALMSOURCETEMPLATE" CONTENT="1006-006 PalmSource HTML 20030131">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks Publisher Professional Edition 6.0.7">
<META NAME="LASTUPDATED" CONTENT="03/03/03 11:08:41">
<!-- end meta data -->
</head>

<body bgcolor="#ffffff" text="#000000" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<a name="976474"></a>

<!-- BEGIN TOPNAV -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td align="middle" bgcolor="#efefe4"><table border="0" cellpadding="0" cellspacing="0" width="744">
<tr>
<td><img name="index_r1_c1" src="images/shim.gif" width="280" height="24" border="0" alt="" id="IMG1"></td>
</tr>
</table>
</td>
</tr>
<tr>
<td align="middle"><table border="0" cellpadding="0" cellspacing="0" width="744">
<tr>
<td><img name="index_r2_c1" src="images/shim.gif" width="33" height="75" border="0" alt=""></td>
<td><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_r2_c4" src="images/shim.gif" width="96" height="11" border="0" alt=""></td>
</tr>
<tr>
<td><a href="http://www.palmsource.com/"><img name="ps_logo" src="images/ps_logo.gif" width="96" height="54" border="0" alt=""></a></td>
</tr>
<tr>
<td><img name="index_r6_c4" src="images/shim.gif" width="96" height="10" border="0" alt=""></td>
</tr>
</table>
</td>

<td><table border="0" cellpadding="0" cellspacing="0" width="30">
<td><img name="index_x" src="images/shim.gif" width="30" height="75" border="0" alt=""></td>
</table></td>

<!--Begin masthead-->
<td><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
<!--Begin breadcrumbs-->
<tr>
<td><span class="nav">&lt;&nbsp;<A HREF="http://www.palmos.com/index.html">Home</a> 
&nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/">Developers</a> 
&nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/support/">Development Support</a>
&nbsp;&nbsp;&lt;&nbsp;<A HREF="http://www.palmos.com/dev/support/docs/">Documentation</a></span></td>
</tr>
<!--End breadcrumbs-->
<tr>
<td><h2 class="HeadDocPage">4 &nbsp;&nbsp;Expansion Manager API</h2></td>
</tr>
<tr>
<td><span class="nav">
<a href="C++SyncMacReferenceTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="MCRef_HotSyncLog.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="CRef_VFSMgr.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="C++SyncMacReferenceIX.html">Index</a>
</span></td>
</tr>
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
</table>
</td>
<!--End masthead-->

</tr>
</table>
<img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
</tr>
</table>
<!-- END TOPNAV -->

<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" width="10"><img name="index_x" src="images/shim.gif" width="10" height="33" border="0" alt=""></td>

<!--BEGIN MINITOC-->
<td valign="top" width="175">
<p class="SideTitle"><a href="MCRef_Front.html">C/C++ Sync Suite Reference for Macintosh</a></p>
<p class="SideTOC1-PartTab">Palm OS® Conduit Development Kit for Macintosh, Version 4.03 </p>
<p class="SideTOC1"><a href="CRef_ExpMgr.html">4  Expansion Manager API</a></p>


<p class="SideTOC2">
<a href="#976533">Expansion Manager Constants
</a></p>

<p class="SideTOC3">
<a href="#976552">Hardware Capability Flags
</a></p>

<p class="SideTOC3">
<a href="#976562">Maximum Length of ExpCardInfoType String
</a></p>

<p class="SideTOC3">
<a href="#976570">Defined Media Type Constants
</a></p>

<p class="SideTOC3">
<a href="#990596">Directory Entry Iterator Start/Stop Constants
</a></p>

<p class="SideTOC2">
<a href="#976704">Expansion Manager Data Structures
</a></p>

<p class="SideTOC3">
<a href="#976711">ExpCardInfoType
</a></p>

<p class="SideTOC2">
<a href="#976754">Expansion Manager Functions
</a></p>

<p class="SideTOC3">
<a href="#984848">ExpCardInfo
</a></p>

<p class="SideTOC3">
<a href="#976834">ExpCardPresent
</a></p>

<p class="SideTOC3">
<a href="#976881">ExpSlotEnumerate
</a></p>

<p class="SideTOC3">
<a href="#976933">ExpSlotMediaType
</a></p>

<p class="SideTOC2">
<a href="#976981">Expansion Manager Error Codes
</a></p>

</td>
<!--END MINITOC-->

<td width="5">&nbsp;&nbsp;</td>
<td width="2" background="images/index_r8_c10.gif">&nbsp;</td>
<td width="5">&nbsp;&nbsp;</td>
<td valign="top">

<!--BEGIN CONTENT-->
<p class="Body">
  <a name="976482"> </a>The Expansion Manager on the handheld is an optional system extension that adds support for hardware expansion cards on Palm Powered<sup>&#8482;</sup> handhelds. The handheld Expansion Manager's primary function is to manage slots on the handheld and the drivers associated with those slots. Individual slot drivers on the handheld &#8212; which are provided by handheld manufacturers &#8212; provide support for various expansion card types including Secure Digital (SD), MultiMediaCard (MMC), CompactFlash, Sony's Memory Stick, and others.
</p>
<p class="Body">
  <a name="976483"> </a>The API documented in this chapter provides conduits an interface to the Expansion Manager on the handheld during a HotSync<sup>®</sup> operation. Through this interface, conduits can determine whether an expansion card is present in a slot and get information about that card. 
</p>
<p class="Body">
  <a name="976484"> </a>This chapter provides the following information about the Expansion Manager API:
</p>

  <a name="976488"> </a><p class="B1Bullet"> &#8226; <a href="CRef_ExpMgr.html#976533">Expansion Manager Constants</a></p>

  <a name="976492"> </a><p class="B1Bullet"> &#8226; <a href="CRef_ExpMgr.html#976704">Expansion Manager Data Structures</a></p>

  <a name="976496"> </a><p class="B1Bullet"> &#8226; <a href="CRef_ExpMgr.html#976754">Expansion Manager Functions</a> </p>

  <a name="976500"> </a><p class="B1Bullet"> &#8226; <a href="CRef_ExpMgr.html#976981">Expansion Manager Error Codes</a> </p>
<p class="Body">
  <a name="990061"> </a>The desktop Expansion Manager functions are available in <span style="font-family: monospace">HotSync Libraries</span> and declared in <span style="font-family: monospace">ExpansionMgr.h</span>. (Expansion Manager error codes are declared in <span style="font-family: monospace">VFSErr.h</span>.) For more information on the Expansion Manager, see <a href="CComp_Expansion.html#976980">Chapter 8, "Using Expansion Technology,"</a> of the <i>C/C++ Sync Suite Companion for Macintosh</i>. 
</p>
<div class="NINoteImportant"><hr>
  <a name="976521"> </a> <span style="color: #333;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">NOTE:  </span> The Expansion Manager is an optional system extension on handhelds. Therefore you should check for the presence of the Expansion Manager on the handheld before calling any Expansion Manager API functions. See <a href="CComp_Expansion.html#977286">"Verifying Handheld Compatibility"</a> in the <i>C/C++ Sync Suite Companion for Macintosh</i>. 
<hr>
</div>

<h2 class="HaHeadA">
  <a name="976533"> </a>Expansion Manager Constants <a href="#976474"><span class="nav">^TOP^</span></a>
</h2>

<p class="Body">
  <a name="976534"> </a>The following types of constants are defined for the Expansion Manager:
</p>

  <a name="976538"> </a><p class="B1Bullet"> &#8226; <a href="CRef_ExpMgr.html#976552">Hardware Capability Flags</a> </p>

  <a name="976542"> </a><p class="B1Bullet"> &#8226; <a href="CRef_ExpMgr.html#976562">Maximum Length of ExpCardInfoType String</a> </p>

  <a name="976546"> </a><p class="B1Bullet"> &#8226; <a href="CRef_ExpMgr.html#976570">Defined Media Type Constants</a> </p>

  <a name="976550"> </a><p class="B1Bullet"> &#8226; <a href="CRef_ExpMgr.html#990596">Directory Entry Iterator Start/Stop Constants</a> </p>

<h2 class="HBHeadB">
  <a name="976552"> </a>Hardware Capability Flags <a href="#976474"><span class="nav">^TOP^</span></a>
</h2>

<p class="Body">
  <a name="976553"> </a>The following flags describe the capabilities of the card in <a href="CRef_ExpMgr.html#976711"><span style="font-family: monospace">ExpCardInfoType</span></a><span style="font-family: monospace">.capabilityFlags</span>. 
</p>
<h5 class="P1"><a name="976558"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expCapabilityHasStorage </span></td>
<td valign="top">The card has data storage. The <span style="font-family: monospace">expCapabilityReadOnly</span> flag specifies whether the card can be written or only read, though. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="976560"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">expCapabilityReadOnly </span></td>
<td valign="top">The card is read-only. </td>
  </tr>
</table>
</div></h5>

<h2 class="HBHeadB">
  <a name="976562"> </a>Maximum Length of ExpCardInfoType String <a href="#976474"><span class="nav">^TOP^</span></a>
</h2>

<p class="Body">
  <a name="976564"> </a>The <span style="font-family: monospace">expCardInfoStringMaxLen</span> constant defines the maximum length of a string in a member of the <a href="CRef_ExpMgr.html#976711"><span style="font-family: monospace">ExpCardInfoType</span></a> structure. 
</p>

<h2 class="HBHeadB">
  <a name="976570"> </a>Defined Media Type Constants <a href="#976474"><span class="nav">^TOP^</span></a>
</h2>

<p class="Body">
  <a name="976574"> </a><a href="CRef_ExpMgr.html#990518">Table 4.1</a> defines the constants for the media types supported by the Expansion Manager. These media types are used with the <a href="CRef_ExpMgr.html#976933"><span style="font-family: monospace">ExpSlotMediaType</span></a> function and the <a href="CRef_VFSMgr.html#982270"><span style="font-family: monospace">VFSVolumeInfo</span></a> function in the <span style="font-family: monospace">VolumeInfoType.mediaType</span> field. 
</p>

<h5 class="TgTable">


<table border="1" cellpadding="5" cellspacing="0">
  <caption><a name="990518"> </a><div class="TableTitle">Table 4.1  Media types defined by the Expansion Manager </div></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="990524"> </a><div class="CellHeading">Constant</div></th>
    <th><a name="990526"> </a><div class="CellHeading">Value</div></th>
    <th><a name="990528"> </a><div class="CellHeading">Description</div></th>
  </tr>
  <tr valign="top">
    <td><a name="990531"> </a><div class="CellBody"><span style="font-family: monospace">ExpMediaType_Any</span> </div></td>
    <td><a name="990533"> </a><div class="CellBody"><span style="font-family: monospace">'wild'</span> </div></td>
    <td><a name="990535"> </a><div class="CellBody">Matches all media types when looking up a default directory</div></td>
  </tr>
  <tr valign="top">
    <td><a name="990538"> </a><div class="CellBody"><span style="font-family: monospace">ExpMediaType_MemoryStick</span> </div></td>
    <td><a name="990540"> </a><div class="CellBody"><span style="font-family: monospace">'mstk'</span> </div></td>
    <td><a name="990542"> </a><div class="CellBody">Memory Stick</div></td>
  </tr>
  <tr valign="top">
    <td><a name="990545"> </a><div class="CellBody"><span style="font-family: monospace">ExpMediaType_CompactFlash</span> </div></td>
    <td><a name="990547"> </a><div class="CellBody"><span style="font-family: monospace">'cfsh'</span> </div></td>
    <td><a name="990549"> </a><div class="CellBody">CompactFlash</div></td>
  </tr>
  <tr valign="top">
    <td><a name="990552"> </a><div class="CellBody"><span style="font-family: monospace">ExpMediaType_SecureDigital</span> </div></td>
    <td><a name="990554"> </a><div class="CellBody"><span style="font-family: monospace">'sdig'</span> </div></td>
    <td><a name="990556"> </a><div class="CellBody">Secure Digital </div></td>
  </tr>
  <tr valign="top">
    <td><a name="990559"> </a><div class="CellBody"><span style="font-family: monospace">ExpMediaType_MultiMediaCard</span> </div></td>
    <td><a name="990561"> </a><div class="CellBody"><span style="font-family: monospace">'mmcd'</span> </div></td>
    <td><a name="990563"> </a><div class="CellBody">MultiMediaCard</div></td>
  </tr>
  <tr valign="top">
    <td><a name="990566"> </a><div class="CellBody"><span style="font-family: monospace">ExpMediaType_SmartMedia</span> </div></td>
    <td><a name="990568"> </a><div class="CellBody"><span style="font-family: monospace">'smed'</span> </div></td>
    <td><a name="990570"> </a><div class="CellBody">SmartMedia </div></td>
  </tr>
  <tr valign="top">
    <td><a name="990573"> </a><div class="CellBody"><span style="font-family: monospace">ExpMediaType_RAMDisk</span> </div></td>
    <td><a name="990575"> </a><div class="CellBody"><span style="font-family: monospace">'ramd'</span> </div></td>
    <td><a name="990577"> </a><div class="CellBody">A RAM disk based media</div></td>
  </tr>
  <tr valign="top">
    <td><a name="990580"> </a><div class="CellBody"><span style="font-family: monospace">ExpMediaType_PoserHost</span> </div></td>
    <td><a name="990582"> </a><div class="CellBody"><span style="font-family: monospace">'pose'</span> </div></td>
    <td><a name="990584"> </a><div class="CellBody">Host file system emulated by Palm OS<sup>®</sup> Emulator</div></td>
  </tr>
  <tr valign="top">
    <td><a name="990587"> </a><div class="CellBody"><span style="font-family: monospace">ExpMediaType_PlugNPlay</span> </div></td>
    <td><a name="990589"> </a><div class="CellBody"><span style="font-family: monospace">'pnps'</span> </div></td>
    <td><a name="990592"> </a><div class="CellBody">Universal "plug and play" (PnP) connector </div></td>
  </tr>
</table>




</h5>

<h2 class="HBHeadB">
  <a name="990596"> </a>Directory Entry Iterator Start/Stop Constants <a href="#976474"><span class="nav">^TOP^</span></a>
</h2>

<p class="Body">
  <a name="990600"> </a><a href="CRef_ExpMgr.html#976678">Table 4.2</a> defines the constants that control when to start and stop the iterated calls to the <a href="CRef_VFSMgr.html#980786"><span style="font-family: monospace">VFSDirEntryEnumerate</span></a> function. 
</p>

<h5 class="TgTable">


<table border="1" cellpadding="5" cellspacing="0">
  <caption><a name="976678"> </a><div class="TableTitle">Table 4.2  Directory entry iterator start/stop constants </div></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="976684"> </a><div class="CellHeading">Constant</div></th>
    <th><a name="976686"> </a><div class="CellHeading">Value</div></th>
    <th><a name="976688"> </a><div class="CellHeading">Description</div></th>
  </tr>
  <tr valign="top">
    <td><a name="976690"> </a><div class="CellBody"><span style="font-family: monospace">expIteratorStart</span> </div></td>
    <td><a name="976692"> </a><div class="CellBody"><span style="font-family: monospace">0L</span> </div></td>
    <td><a name="976694"> </a><div class="CellBody">Before the first call, initialize the iterator to this value. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="976696"> </a><div class="CellBody"><span style="font-family: monospace">expIteratorStop</span> </div></td>
    <td><a name="976698"> </a><div class="CellBody"><span style="font-family: monospace">0xffffffffL</span> </div></td>
    <td><a name="976700"> </a><div class="CellBody">The function returns this value when it returns information about the last entry in the directory.</div></td>
  </tr>
</table>




</h5>

<h2 class="HaHeadA">
  <a name="976704"> </a>Expansion Manager Data Structures <a href="#976474"><span class="nav">^TOP^</span></a>
</h2>

<p class="Body">
  <a name="976708"> </a>This section describes the <a href="CRef_ExpMgr.html#976711"><span style="font-family: monospace">ExpCardInfoType</span></a> structure defined for the Expansion Manager. 
</p>

<h2 class="HBHeadB">
  <a name="976711"> </a>ExpCardInfoType <a href="#976474"><span class="nav">^TOP^</span></a>
</h2>

<p class="Body">
  <a name="976712"> </a>The <span style="font-family: monospace">ExpCardInfoType</span> declaration defines a structure that is passed to <a href="CRef_ExpMgr.html#984848"><span style="font-family: monospace">ExpCardInfo</span></a>. This structure is used to determine the characteristics of the card loaded in the slot. It is initialized by the underlying slot driver with the following information. 
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
<a name="976716"> </a>
  typedef struct ExpCardInfoTag {<a name="976717"> </a>
   UInt32 capabilityFlags;<a name="976718"> </a>
   Char manufacturerStr[expCardInfoStringMaxLen+1];<a name="976719"> </a>
   Char productStr[expCardInfoStringMaxLen+1];<a name="976720"> </a>
   Char deviceClassStr[expCardInfoStringMaxLen+1];<a name="976721"> </a>
   Char deviceUniqueIDStr[expCardInfoStringMaxLen+1];<a name="976722"> </a>
  } ExpCardInfoType, *ExpCardInfoPtr;<a name="976723"> </a>
</pre><div class="CodeRule"><hr></div>

<h4 class="HCHeadC">
  <a name="976724"> </a>Field Descriptions
</h4>

<h5 class="TgTable">


<table width="450" border="0" cellpadding="5" cellspacing="0">
  <caption></caption>
  <tr valign="top">
    <td><a name="976727"> </a><div class="CellBody"><span style="font-family: monospace">capabilityFlags</span></div></td>
    <td><a name="976729"> </a><div class="CellBody">Describes the capabilities of the card. This is set to one or more of the <a href="CRef_ExpMgr.html#976552">Hardware Capability Flags</a>. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="976734"> </a><div class="CellBody"><span style="font-family: monospace">manufacturerStr</span></div></td>
    <td><a name="976736"> </a><div class="CellBody">Names the manufacturer of the card &#8212; for example, "Palm" or "Motorola".</div></td>
  </tr>
  <tr valign="top">
    <td><a name="976738"> </a><div class="CellBody"><span style="font-family: monospace">productStr</span></div></td>
    <td><a name="976740"> </a><div class="CellBody">Name of the product. For example "SafeBackup 32 MB".</div></td>
  </tr>
  <tr valign="top">
    <td><a name="976742"> </a><div class="CellBody"><span style="font-family: monospace">deviceClassStr</span></div></td>
    <td><a name="976744"> </a><div class="CellBody">Describes the type of card &#8212; for example, "Backup" or "Ethernet".</div></td>
  </tr>
  <tr valign="top">
    <td><a name="976746"> </a><div class="CellBody"><span style="font-family: monospace">deviceUniqueIDStr</span></div></td>
    <td><a name="976748"> </a><div class="CellBody">Unique identifier for the product &#8212; for example, a serial number. This value is set to the empty string if no identifier exists.</div></td>
  </tr>
</table>




</h5>

<h2 class="HaHeadA">
  <a name="976754"> </a>Expansion Manager Functions <a href="#976474"><span class="nav">^TOP^</span></a>
</h2>

<p class="Body">
  <a name="976755"> </a>The following Expansion Manager functions are defined in this section:
</p>

  <a name="976759"> </a><p class="B1Bullet"> &#8226; <a href="CRef_ExpMgr.html#984848"><span style="font-family: monospace">ExpCardInfo</span></a> </p>

  <a name="976763"> </a><p class="B1Bullet"> &#8226; <a href="CRef_ExpMgr.html#976834"><span style="font-family: monospace">ExpCardPresent</span></a> </p>

  <a name="976767"> </a><p class="B1Bullet"> &#8226; <a href="CRef_ExpMgr.html#976881"><span style="font-family: monospace">ExpSlotEnumerate</span></a> </p>

  <a name="984844"> </a><p class="B1Bullet"> &#8226; <a href="CRef_ExpMgr.html#976933"><span style="font-family: monospace">ExpSlotMediaType</span></a> </p>

<h2 class="HBHeadB">
  <a name="984848"> </a>ExpCardInfo <a href="#976474"><span class="nav">^TOP^</span></a>
</h2>

<h4 class="RefSide">
  <a name="984849"> </a>Purpose 
</h4>
<p class="Body">
  <a name="976776"> </a>Retrieves information about an expansion card in a given slot. 
</p>
<h4 class="RefSide">
  <a name="983790"> </a>Declared In 
</h4>
<p class="RefPrototype">
  <a name="983791"> </a>ExpansionMgr.h
</p>
<h4 class="RefSide">
  <a name="976777"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="976778"> </a>long ExpCardInfo (WORD slotRefNumber, ExpCardInfoType *pCardInfo, void *pVoid)
</p>
<h4 class="RefSide">
  <a name="976779"> </a>Parameters 
</h4>
<h5 class="P1"><a name="976780"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; slotRefNumber</span> </td>
<td valign="top">The slot reference number passed back by <a href="CRef_ExpMgr.html#976881"><span style="font-family: monospace">ExpSlotEnumerate</span></a>. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="976787"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- pCardInfo </span></td>
<td valign="top">Pointer to <a href="CRef_ExpMgr.html#976711"><span style="font-family: monospace">ExpCardInfoType</span></a> structure that contains information about the card in the specified slot. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="976788"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;-&gt; pVoid</span> </td>
<td valign="top">This parameter is unused in this version of the Expansion Manager. Pass in <span style="font-family: monospace">NULL</span> and ignore the value passed back. </td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="976789"> </a>Result 
</h4>
<p class="Body">
  <a name="976790"> </a>If successful, returns <span style="font-family: monospace">SYNCERR_NONE</span>. 
</p>
<p class="Body">
  <a name="976791"> </a>If unsuccessful, returns one of the following error codes:
</p>
<pre  class="Preformatted">
<span style="font-family: monospace">expErrCardNoSectorReadWrite </span><a name="976801"> </a>
<span style="font-family: monospace">expErrCardNotPresent</span> <a name="976802"> </a>
<span style="font-family: monospace">expErrInvalidSlotRefNumber</span> <a name="976803"> </a>
<span style="font-family: monospace">expErrSlotDeallocated</span> <a name="976804"> </a>
<span style="font-family: monospace">expErrUnsupportedOperation</span> <a name="976805"> </a>
</pre>
<p class="Body">
  <a name="976808"> </a>For more information about the error codes, see <a href="CRef_ExpMgr.html#976981">"Expansion Manager Error Codes."</a> 
</p>
<h4 class="RefSide">
  <a name="976810"> </a>Comments 
</h4>
<p class="Body">
  <a name="976811"> </a>This routine returns information about a card, including whether the card supports secondary storage or is strictly read-only, by filling in the <span style="font-family: monospace">ExpCardInfoType</span> structure's fields.
</p>
<h4 class="RefSide">
  <a name="976812"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="976813"> </a>Palm OS version: 4.0.<br>Expansion Manager version: All. <br>See <a href="CComp_Expansion.html#977266">"Checking for Expansion Cards"</a> in the <i>C/C++ Sync Suite Companion for Macintosh</i> for ways to confirm the presence of the Expansion Manager on the handheld.
</p>
<h4 class="RefSide">
  <a name="976824"> </a>See Also 
</h4>
<p class="Body">
  <a name="976831"> </a><a href="CRef_ExpMgr.html#976834"><span style="font-family: monospace">ExpCardPresent</span></a>, <a href="CRef_ExpMgr.html#976881"><span style="font-family: monospace">ExpSlotEnumerate</span></a>
</p>

<h2 class="HBHeadB">
  <a name="976834"> </a>ExpCardPresent <a href="#976474"><span class="nav">^TOP^</span></a>
</h2>

<h4 class="RefSide">
  <a name="976835"> </a>Purpose 
</h4>
<p class="Body">
  <a name="976836"> </a>Determines whether a card is present in the given slot. 
</p>
<h4 class="RefSide">
  <a name="983825"> </a>Declared In 
</h4>
<p class="RefPrototype">
  <a name="983826"> </a>ExpansionMgr.h
</p>
<h4 class="RefSide">
  <a name="976837"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="976838"> </a>long ExpCardPresent (WORD slotRefNumber, void *pVoid)
</p>
<h4 class="RefSide">
  <a name="976839"> </a>Parameters 
</h4>
<h5 class="P1"><a name="976840"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; slotRefNumber </span></td>
<td valign="top">The slot reference number passed back by <a href="CRef_ExpMgr.html#976881"><span style="font-family: monospace">ExpSlotEnumerate</span></a>. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="976844"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;-&gt; pVoid</span> </td>
<td valign="top">This parameter is unused in this version of the Expansion Manager. Pass in <span style="font-family: monospace">NULL</span> and ignore the value passed back. </td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="976845"> </a>Result 
</h4>
<p class="Body">
  <a name="976846"> </a>If successful, returns <span style="font-family: monospace">SYNCERR_NONE</span>. 
</p>
<p class="Body">
  <a name="976847"> </a>If unsuccessful, returns one of the following error codes:
</p>

<h5 class="TgTable">

</h5>
<pre  class="Preformatted">
<span style="font-family: monospace">expErrCardNotPresent</span> <a name="976849"> </a>
<span style="font-family: monospace">expErrInvalidSlotRefNumber</span> <a name="976850"> </a>
<span style="font-family: monospace">expErrSlotDeallocated </span><a name="976851"> </a>
<span style="font-family: monospace">expErrUnsupportedOperation</span> <a name="976852"> </a>
</pre>
<p class="Body">
  <a name="976855"> </a>For more information about the error codes, see <a href="CRef_ExpMgr.html#976981">"Expansion Manager Error Codes."</a> 
</p>
<h4 class="RefSide">
  <a name="976857"> </a>Comments 
</h4>
<p class="Body">
  <a name="976858"> </a>Call this function to test whether a card is present in a slot before making any VFS Manager API calls to access files on a card. 
</p>
<h4 class="RefSide">
  <a name="976859"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="976860"> </a>Palm OS version: 4.0. <br>Expansion Manager version: All. 
</p>
<p class="Body">
  <a name="976866"> </a>See <a href="CComp_Expansion.html#977266">"Checking for Expansion Cards"</a> in the <i>C/C++ Sync Suite Companion for Macintosh</i> for ways to confirm the presence of the Expansion Manager on the handheld.
</p>
<h4 class="RefSide">
  <a name="976871"> </a>See Also 
</h4>
<p class="Body">
  <a name="976878"> </a><a href="CRef_ExpMgr.html#984848"><span style="font-family: monospace">ExpCardInfo</span></a>, <a href="CRef_ExpMgr.html#976881"><span style="font-family: monospace">ExpSlotEnumerate</span></a>
</p>

<h2 class="HBHeadB">
  <a name="976881"> </a>ExpSlotEnumerate <a href="#976474"><span class="nav">^TOP^</span></a>
</h2>

<h4 class="RefSide">
  <a name="976882"> </a>Purpose 
</h4>
<p class="Body">
  <a name="976883"> </a>Enumerates the valid slots to obtain a list of slot reference numbers.
</p>
<h4 class="RefSide">
  <a name="983833"> </a>Declared In 
</h4>
<p class="RefPrototype">
  <a name="983834"> </a>ExpansionMgr.h
</p>
<h4 class="RefSide">
  <a name="976884"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="976885"> </a>long ExpSlotEnumerate (WORD *pNumSlotRefListEntires, WORD *pSlotRefNumList, void *pVoid)
</p>
<h4 class="RefSide">
  <a name="976886"> </a>Parameters 
</h4>
<h5 class="P1"><a name="976887"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;-&gt; pNumSlotRefListEntires</span><span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"> </span></td>
<td valign="top">On entry, a pointer to the number of slot reference numbers allocated. On return, it is a pointer to the number of slot reference numbers filled into <span style="font-family: monospace">pSlotRefNumList</span>. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="976888"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- pSlotRefNumList</span> </td>
<td valign="top">A pointer to an array of slot reference numbers. The caller must allocate this buffer before calling this function. </td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="976889"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;-&gt; pVoid</span> </td>
<td valign="top">This parameter is unused in this version of the Expansion Manager. Pass in <span style="font-family: monospace">NULL</span> and ignore the value passed back. </td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="976890"> </a>Result 
</h4>
<p class="Body">
  <a name="976891"> </a>If successful, returns <span style="font-family: monospace">SYNCERR_NONE</span>. 
</p>
<p class="Body">
  <a name="976892"> </a>If unsuccessful, returns one of the following error codes:
</p>
<pre  class="Preformatted">
<span style="font-family: monospace">expErrUnsupportedOperation</span> <a name="976893"> </a>
</pre>
<p class="Body">
  <a name="976896"> </a>For more information about the error codes, see <a href="CRef_ExpMgr.html#976981">"Expansion Manager Error Codes."</a> 
</p>
<h4 class="RefSide">
  <a name="976898"> </a>Comments 
</h4>
<p class="Body">
  <a name="976899"> </a>This function passes back a list of slot reference numbers for slots on the handheld. Note that you must allocate sufficient space for <span style="font-family: monospace">pSlotRefNumList</span> before calling this function. 
</p>
<h4 class="RefSide">
  <a name="976900"> </a>Example 
</h4>
<p class="Body">
  <a name="976901"> </a>The following example shows a way to allocate sufficient space before calling <span style="font-family: monospace">ExpSlotEnumerate</span>. 
</p>
<div class="CodeRule"><hr></div><pre class="CodeBlock">
<span style="font-family: monospace">WORD wSlotRefList[32]; </span>// Buffer for slot reference numbers. <a name="976902"> </a>
WORD wSlotRefCount;    // Number of entries allocated for list. <a name="976903"> </a>
long retval;<a name="976904"> </a>
<a name="976905"> </a>
<span style="font-family: monospace">// Allocate enough space for buffer.</span><a name="976906"> </a>
wSlotRefCount = sizeof (<span style="font-family: monospace">wSlotRefList) / sizeof (wSlotRefList[0]);</span><a name="976907"> </a>
retval = <b>ExpSlotEnumerate</b>(&amp;wSlotRefCount, <span style="font-family: monospace">wSlotRefList</span>, NULL);<a name="976908"> </a>
</pre><div class="CodeRule"><hr></div>
<h4 class="RefSide">
  <a name="976909"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="976910"> </a>Palm OS version: 4.0.<br>Expansion Manager version: All. 
</p>
<p class="Body">
  <a name="976916"> </a>See <a href="CComp_Expansion.html#977266">"Checking for Expansion Cards"</a> in the <i>C/C++ Sync Suite Companion for Macintosh</i> for ways to confirm the presence of the Expansion Manager on the handheld.
</p>
<h4 class="RefSide">
  <a name="976921"> </a>See Also 
</h4>
<p class="Body">
  <a name="976930"> </a><a href="CRef_ExpMgr.html#984848"><span style="font-family: monospace">ExpCardInfo</span></a>, <a href="CRef_ExpMgr.html#976834"><span style="font-family: monospace">ExpCardPresent</span></a>
</p>

<h2 class="HBHeadB">
  <a name="976933"> </a>ExpSlotMediaType <a href="#976474"><span class="nav">^TOP^</span></a>
</h2>

<h4 class="RefSide">
  <a name="976934"> </a>Purpose 
</h4>
<p class="Body">
  <a name="976935"> </a>Obtains the media type identifier for the specified slot. 
</p>
<h4 class="RefSide">
  <a name="983891"> </a>Declared In 
</h4>
<p class="RefPrototype">
  <a name="983892"> </a>ExpansionMgr.h
</p>
<h4 class="RefSide">
  <a name="976936"> </a>Prototype 
</h4>
<p class="RefPrototype">
  <a name="976937"> </a>long ExpSlotMediaType (WORD slotRefNum, UINT32 *pui32SlotMediaType)
</p>
<h4 class="RefSide">
  <a name="976938"> </a>Parameters 
</h4>
<h5 class="P1"><a name="976939"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">-&gt; slotRefNum </span></td>
<td valign="top">The slot reference number (passed back by <a href="CRef_ExpMgr.html#976881"><span style="font-family: monospace">ExpSlotEnumerate</span></a>.) for which to determine the media type.</td>
  </tr>
</table>
</div></h5>
<h5 class="P1"><a name="976943"> </a><div class="P1Parameter"><table border="0" cellpadding="5" cellspacing="0">
  <tr>
    <td width="180" valign="top"><span style="font-family: monospace">&lt;- pui32SlotMediaType</span> </td>
<td valign="top">A pointer to a <span style="font-family: monospace">UINT32</span> that identifies the media type of the specified slot. The section <a href="CRef_ExpMgr.html#976570">"Defined Media Type Constants"</a> lists the possible values. </td>
  </tr>
</table>
</div></h5>
<h4 class="RefSide">
  <a name="976947"> </a>Result 
</h4>
<p class="Body">
  <a name="976948"> </a>If successful, returns <span style="font-family: monospace">SYNCERR_NONE</span>. 
</p>
<p class="Body">
  <a name="976949"> </a>If unsuccessful, returns one of the following error codes:
</p>
<pre  class="Preformatted">
<span style="font-family: monospace">expErrCardNotPresent </span><a name="976951"> </a>
<span style="font-family: monospace">expErrSlotDeallocated</span> <a name="976952"> </a>
<span style="font-family: monospace">expErrUnsupportedOperation</span> <a name="976953"> </a>
</pre>
<p class="Body">
  <a name="976956"> </a>For more information about the error codes, see <a href="CRef_ExpMgr.html#976981">"Expansion Manager Error Codes."</a> 
</p>
<h4 class="RefSide">
  <a name="976960"> </a>Compatibility 
</h4>
<p class="Body">
  <a name="976961"> </a>Palm OS version: 4.0.<br>Expansion Manager version: All. 
</p>
<p class="Body">
  <a name="976967"> </a>See <a href="CComp_Expansion.html#977266">"Checking for Expansion Cards"</a> in the <i>C/C++ Sync Suite Companion for Macintosh</i> for ways to confirm the presence of the Expansion Manager on the handheld.
</p>
<h4 class="RefSide">
  <a name="976972"> </a>See Also 
</h4>
<p class="Body">
  <a name="976979"> </a><a href="CRef_ExpMgr.html#984848"><span style="font-family: monospace">ExpCardInfo</span></a>, <a href="CRef_ExpMgr.html#976881"><span style="font-family: monospace">ExpSlotEnumerate</span></a>
</p>

<h2 class="HaHeadA">
  <a name="976981"> </a>Expansion Manager Error Codes <a href="#976474"><span class="nav">^TOP^</span></a>
</h2>

<p class="Body">
  <a name="976985"> </a><a href="CRef_ExpMgr.html#976992">Table 4.3</a> describes the error codes that the Expansion Manager functions can return. These error codes are declared in the <span style="font-family: monospace">VFSErr.h</span> header file. 
</p>

<h5 class="TgTable">


<table border="1" cellpadding="5" cellspacing="0">
  <caption><a name="976992"> </a><div class="TableTitle">Table 4.3  Expansion Manager error codes </div></caption>
  <tr bgcolor="#CCCCCC" valign="top">
    <th><a name="976996"> </a><div class="CellHeading">Constant</div></th>
    <th><a name="976998"> </a><div class="CellHeading">Description</div></th>
  </tr>
  <tr valign="top">
    <td><a name="977001"> </a><div class="CellBody"><span style="font-family: monospace">expErrCardNoSectorReadWrite</span> </div></td>
    <td><a name="977003"> </a><div class="CellBody">The card does not support the slot driver block read/write API. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="977006"> </a><div class="CellBody"><span style="font-family: monospace">expErrCardNotPresent</span> </div></td>
    <td><a name="977008"> </a><div class="CellBody">No card is present in the given slot.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="977011"> </a><div class="CellBody"><span style="font-family: monospace">expErrEnumerationEmpty</span> </div></td>
    <td><a name="977013"> </a><div class="CellBody">No volumes are present to enumerate or none remain to enumerate. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="977016"> </a><div class="CellBody"><span style="font-family: monospace">expErrInvalidSlotRefNumber</span> </div></td>
    <td><a name="977018"> </a><div class="CellBody">The slot reference number is not valid.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="977021"> </a><div class="CellBody"><span style="font-family: monospace">expErrNotEnoughPower</span> </div></td>
    <td><a name="977023"> </a><div class="CellBody">Insufficient battery power on the handheld to perform the operation. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="977026"> </a><div class="CellBody"><span style="font-family: monospace">expErrNotOpen</span> </div></td>
    <td><a name="977028"> </a><div class="CellBody">The file system library on the handheld necessary for this call has not been installed or has not been opened.</div></td>
  </tr>
  <tr valign="top">
    <td><a name="977031"> </a><div class="CellBody"><span style="font-family: monospace">expErrSlotDeallocated</span> </div></td>
    <td><a name="977033"> </a><div class="CellBody">The slot reference number is within the valid range, but the Expansion Manager has unloaded the slot driver on the handheld. </div></td>
  </tr>
  <tr valign="top">
    <td><a name="977036"> </a><div class="CellBody"><span style="font-family: monospace">expErrUnsupportedOperation</span> </div></td>
    <td><a name="977038"> </a><div class="CellBody">The operation is unsupported or undefined.</div></td>
  </tr>
</table>




</h5>
&nbsp;<br>
<!--END CONTENT-->

</td>
<td width="5">&nbsp;&nbsp;</td>
</tr>

</table>

<!-- BEGIN FOOTER -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="15" rowspan="2"><img name="index_x" src="images/shim.gif" width="15" height="33" border="0" alt=""></td>
<td align="middle"><img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
<td width="10" rowspan="2"><img name="index_x" src="images/shim.gif" width="10" height="33" border="0" alt=""></td>
</tr>
<tr>
<td align="center">
<p>&nbsp;</p>
<p class="footer">
Copyright © 1996 - 2002, PalmSource, Inc. and its affiliates. All rights reserved.<br>
<a href="http://www.palmsource.com/contact/">Write Us</a> | <a href="http://www.palmos.com/dev/training/">Training</a> | <a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a> | <a href="MCRef_Front.html" target="_blank">Legal</a></p>
<p>&nbsp;</p>
</td>
</tr>
<!-- END FOOTER -->

</body>
</html>