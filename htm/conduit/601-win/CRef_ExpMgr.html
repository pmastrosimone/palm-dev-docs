<html>
<head>
<title>Expansion Manager API | C/C++ Sync Suite Reference</title> 
<link href="psi_devpubs.css" rel="stylesheet" type="text/css">

<!-- BEGIN META DATA -->
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META NAME="KEYWORDS" CONTENT="C, C++, C/C++ Sync Suite, Expansion Manager, expansion, slot, card, reference, API, CDK, conduit, conduits, Windows">
<META NAME="DESCRIPTION" CONTENT="Provides reference details on the Expansion Manager API in the C/C++ Sync Suite.">
<META NAME="PSITEMPLATE" CONTENT="1006-007 PalmSource HTML 20040609">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks Publisher Professional Edition 6.0.7">
<META NAME="LASTUPDATED" CONTENT="06/28/04 08:30:10">
<!-- END META DATA -->
</head>

<body bgcolor="#ffffff" text="#000000" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<a name="995933"></a>

<!-- BEGIN TOPNAV -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td><img src="images/shim.gif" width="7" height="75" border="0" alt=""></td>
<td align="left"><table border="0" cellpadding="0" cellspacing="0" width="744">
<tr>
<td><img name="index_r2_c1" src="images/shim.gif" width="25" height="75" border="0" alt=""></td>
<td valign="top"><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_r2_c4" src="images/shim.gif" width="96" height="15" border="0" alt=""></td>
</tr>
<tr>
<td><a href="http://www.palmsource.com/"><img name="ps_logo" src="images/ps_logo.gif" width="96" height="54" border="0" alt=""></a></td>
</tr>

</table>
</td>

<td><table border="0" cellpadding="0" cellspacing="0" width="30">
<td><img name="index_x" src="images/shim.gif" width="30" height="75" border="0" alt=""></td>
</table></td>

<!--BEGIN MASTHEAD-->
<td><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
<tr>
<td>
<!--BEGIN BOOK NAVIGATION-->
<span class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="C++SyncReferenceTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="CRef_CmnLang.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="CRef_VFSMgr.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="C++SyncReferenceIX.html">Index</a>
</span>
<!--END BOOK NAVIGATION-->
</tr>
<tr>
<td>
<!--BEGIN PAGE TITLE-->
<h2 class="PageTitle">9 &nbsp;&nbsp;
Expansion Manager API</h2></td>
<!--END PAGE TITLE-->
</tr>
<tr>
<td>
<!--BEGIN BOOK TITLE-->
<p class="BookTitle">C/C++ Sync Suite Reference</p>
<p class="SubTitle">Palm OS&#174; Conduit Development Kit for Windows, Version 6.0.1 </p>
<!--END BOOK TITLE-->
</td>
</tr>
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
</table>
</td>
<!--END MASTHEAD-->
</tr>
</table>
<img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
</tr>
</table>
<!-- END TOPNAV -->

<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" width="5"><img name="index_x" src="images/shim.gif" width="5" height="33" border="0" alt=""></td>

<!--BEGIN SIDETOC-->
<td valign="top" width="175">
<div id="sidetoc" valign="bottom">
<h1 class="SideTOC1-PartTab"><a href="CRef_Part_Conduit.html">Part II: Conduit APIs</a> </h1>
<h1 class="SideTOC1"><a href="CRef_ExpMgr.html">9  Expansion Manager API</a></h1>

   <h2 class="SideTOC2"><a href="#995993">
   Expansion Manager Structures</a></h2>

      <h3 class="SideTOC3"><a href="#995999">
      ExpCardInfoType</a></h3>

   <h2 class="SideTOC2"><a href="#996024">
   Expansion Manager Constants</a></h2>

      <h3 class="SideTOC3"><a href="#1005105">
      Directory Enumeration Constants</a></h3>

      <h3 class="SideTOC3"><a href="#996026">
      Hardware Capability Flags</a></h3>

      <h3 class="SideTOC3"><a href="#1005543">
      Media Type Constants</a></h3>

      <h3 class="SideTOC3"><a href="#996056">
      Miscellaneous Expansion Manager Constants</a></h3>

   <h2 class="SideTOC2"><a href="#996184">
   Expansion Manager Functions</a></h2>

      <h3 class="SideTOC3"><a href="#1009605">
      ExpCardInfo</a></h3>

      <h3 class="SideTOC3"><a href="#996259">
      ExpCardPresent</a></h3>

      <h3 class="SideTOC3"><a href="#996309">
      ExpSlotEnumerate</a></h3>

      <h3 class="SideTOC3"><a href="#996364">
      ExpSlotMediaType</a></h3>

   <h2 class="SideTOC2"><a href="#996416">
   Expansion Manager API Error Codes</a></h2>

</div>
</td>
<!--END SIDETOC-->

<td width="5">&nbsp;&nbsp;</td>
<td width="2" background="images/index_r8_c10.gif"><img src="images/shim.gif" width="2" height="75" border="0" alt=""></td>
<td width="5">&nbsp;&nbsp;</td>
<td valign="top">

<!--BEGIN CONTENT-->
<div id="content" valign="bottom">
<p><a name="995944"> </a>The Expansion Manager on the handheld is an optional system extension that adds support for hardware expansion cards on Palm Powered<sup>&#8482;</sup> handhelds. The handheld Expansion Manager's primary function is to manage slots on the handheld and the drivers associated with those slots. Individual slot drivers on the handheld&#8212which are provided by handheld manufacturers&#8212provide support for various expansion card types including Secure Digital (SD), MultiMediaCard (MMC), CompactFlash, Sony's Memory Stick, and others.</p>

<p><a name="995945"> </a>The API documented in this chapter provides conduits an interface to the Expansion Manager on the handheld during a HotSync<sup>&#174;</sup> operation. Through this interface, conduits can determine whether an expansion card is present in a slot and get information about that card. </p>

<p><a name="995946"> </a>This chapter provides the following information about the Expansion Manager API:</p>
   <blockquote class = "bq"><a name="995950"> </a><a href="CRef_ExpMgr.html#995993">Expansion Manager Structures</a></blockquote>
   <blockquote class = "bq"><a name="995954"> </a><a href="CRef_ExpMgr.html#996024">Expansion Manager Constants</a></blockquote>
   <blockquote class = "bq"><a name="995958"> </a><a href="CRef_ExpMgr.html#996184">Expansion Manager Functions</a></blockquote>
   <blockquote class = "bq"><a name="995962"> </a><a href="CRef_ExpMgr.html#996416">Expansion Manager API Error Codes</a></blockquote>

<p><a name="1000877"> </a>The desktop Expansion Manager functions are available in <code>VFSAPI.dll</code> and declared in <code>ExpansionMgr.h</code>. (Expansion Manager error codes are declared in <code>VFSErr.h</code>.) For more information on the Expansion Manager, see <a href="CComp_Expansion.html#995934">Chapter 6, "Using Expansion Technology,"</a> of the <i>C/C++ Sync Suite Companion</i>. </p>
<div class="NINoteImportant"><hr>
  <a name="995982"> </a> <b>NOTE: </b> The Expansion Manager is an optional system extension on handhelds. Therefore you should check for the presence of the Expansion Manager on the handheld before calling any Expansion Manager API functions. See <a href="CComp_Expansion.html#996251">"Verifying Handheld Compatibility"</a> in the <i>C/C++ Sync Suite Companion</i>.. 
<hr>
</div>

<h2 class="haH2">
  <a name="995993"> </a>Expansion Manager Structures <a href="#995933"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="995997"> </a>This section describes the <a href="CRef_ExpMgr.html#995999"><code>ExpCardInfoType</code></a> structure defined for the Expansion Manager. </p>

<h3 class="hbH3">
  <a name="995999"> </a>ExpCardInfoType Struct <a href="#995933"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="996001"> </a>Purpose 
</h4>

<p><a name="996002"> </a>Receives the characteristics of the card loaded in the expansion slot. </p>
<h4>
  <a name="996003"> </a>Declared In 
</h4>
<code>ExpansionMgr.h<a name="996004"> </a></code><h4>
  <a name="996005"> </a>Prototype 
</h4>
<pre class="proto"><a name="996006"></a>typedef struct ExpCardInfoTag {
   UInt32 capabilityFlags;
   char manufacturerStr[expCardInfoStringMaxLen+1];
   char productStr[expCardInfoStringMaxLen+1];
   char deviceClassStr[expCardInfoStringMaxLen+1];
   char deviceUniqueIDStr[expCardInfoStringMaxLen+1];
} ExpCardInfoType, *ExpCardInfoPtr
</pre>
<h4>
  <a name="996007"> </a>Fields 
</h4>

<dl>
<dt><a name="996008"> </a><code>capabilityFlags</code></dt>
<dd><a name="996009"> </a>Describes the capabilities of the card. This is set to one or more of the <a href="CRef_ExpMgr.html#996026">Hardware Capability Flags</a>. </dd>

<dt><a name="996013"> </a><code>manufacturerStr</code></dt>
<dd><a name="996014"> </a>Names the manufacturer of the card&#8212for example, "Palm" or "Motorola".</dd>

<dt><a name="996015"> </a><code>productStr</code></dt>
<dd><a name="996016"> </a>Name of the product&#8212for example, "SafeBackup 32 MB".</dd>

<dt><a name="996017"> </a><code>deviceClassStr</code></dt>
<dd><a name="996018"> </a>Describes the type of card&#8212for example, "Backup" or "Ethernet".</dd>

<dt><a name="996019"> </a><code>deviceUniqueIDStr</code></dt>
<dd><a name="996020"> </a>Unique identifier for the product&#8212for example, a serial number. This value is set to the empty string if no identifier exists.</dd>

</dl>
<h4>
  <a name="996021"> </a>Comments 
</h4>

<p><a name="996022"> </a>This structure is initialized by the underlying slot driver. </p>

<h2 class="haH2">
  <a name="996024"> </a>Expansion Manager Constants <a href="#995933"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="996025"> </a>This section describes the following groups of preprocessor constants that you use the Expansion Manager API.</p>

<p class="fineprint">

<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <td><p class="tt"><a name="1004799"> </a><a href="CRef_ExpMgr.html#1005105">Directory Enumeration Constants</a></p>
    </td>
    <td><p class="tt"><a name="1004801"> </a>Control the process of directory enumeration when using <a href="CRef_VFSMgr.html#996951"><code>VFSDirEntryEnumerate()</code></a>.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1004803"> </a><a href="CRef_ExpMgr.html#996026">Hardware Capability Flags</a></p>
    </td>
    <td><p class="tt"><a name="1004805"> </a>Indicates the capabilities of the card in <a href="CRef_ExpMgr.html#995999"><code>ExpCardInfoType</code></a><code>.capabilityFlags</code>.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1004887"> </a><a href="CRef_ExpMgr.html#1005543">Media Type Constants</a></p>
    </td>
    <td><p class="tt"><a name="1004889"> </a>Define the media types supported by the Expansion Manager.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1004906"> </a><a href="CRef_ExpMgr.html#996056">Miscellaneous Expansion Manager Constants</a></p>
    </td>
    <td><p class="tt"><a name="1004908"> </a>Define miscellaneous constants used by Expansion Manager.</p>
    </td>
  </tr>
</table>

</div>

</p>

<h3 class="hbH3">
  <a name="1005105"> </a>Directory Enumeration Constants <a href="#995933"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1005106"> </a>Purpose 
</h4>

<p><a name="1005107"> </a>Control the process of directory enumeration when using <a href="CRef_VFSMgr.html#996951"><code>VFSDirEntryEnumerate()</code></a>.</p>
<h4>
  <a name="1005111"> </a>Declared In 
</h4>
<code>ExpansionMgr.h<a name="1005112"> </a></code><h4>
  <a name="1005113"> </a>Constants 
</h4>

<dl>
<dt><a name="1005114"> </a><code>#define expIteratorStart 0L</code></dt>
<dd><a name="1005118"> </a>Supply this value to <a href="CRef_VFSMgr.html#996951"><code>VFSDirEntryEnumerate()</code></a> to begin enumeration.</dd>

<dt><a name="1005119"> </a><code>#define expIteratorStop 0xffffffffL</code></dt>
<dd><a name="1005120"> </a>When enumeration reaches the last directory entry, <a href="CRef_VFSMgr.html#996951"><code>VFSDirEntryEnumerate()</code></a> sets its directory entry iterator parameter to this value.</dd>

</dl>
<h4>
  <a name="1005124"> </a>Compatibility 
</h4>

<p><a name="1005125"> </a>Expansion Manager version: All. <br>Palm OS version: 4.0 or later.</p>

<p><a name="1005131"> </a>See <a href="CComp_Expansion.html#996231">"Checking for Expansion Cards"</a> in the <i>C/C++ Sync Suite Companion</i> for ways to confirm the presence of the Expansion Manager on the handheld.</p>
<h4>
  <a name="1005136"> </a>See Also 
</h4>

<p><a name="1005140"> </a><a href="CRef_VFSMgr.html#996951"><code>VFSDirEntryEnumerate()</code></a></p>

<h3 class="hbH3">
  <a name="996026"> </a>Hardware Capability Flags <a href="#995933"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="996027"> </a>Purpose 
</h4>

<p><a name="996028"> </a>Indicates the capabilities of the card in <a href="CRef_ExpMgr.html#995999"><code>ExpCardInfoType</code></a><code>.capabilityFlags</code>.</p>
<h4>
  <a name="996032"> </a>Declared In 
</h4>
<code>ExpansionMgr.h<a name="996033"> </a></code><h4>
  <a name="996034"> </a>Constants 
</h4>

<dl>
<dt><a name="996035"> </a><code>#define expCapabilityHasStorage 0x00000001</code></dt>
<dd><a name="996036"> </a>Indicates that the card has data storage. The <code>expCapabilityReadOnly</code> flag indicates whether the card can be written or only read, though. </dd>

<dt><a name="996037"> </a><code>#define expCapabilityReadOnly 0x00000002</code></dt>
<dd><a name="996038"> </a>Indicates that the card is read-only. </dd>

</dl>
<h4>
  <a name="996039"> </a>Compatibility 
</h4>

<p><a name="996040"> </a>Expansion Manager version: All. <br>Palm OS version: 4.0 or later.</p>

<p><a name="996046"> </a>See <a href="CComp_Expansion.html#996231">"Checking for Expansion Cards"</a> in the <i>C/C++ Sync Suite Companion</i> for ways to confirm the presence of the Expansion Manager on the handheld.</p>
<h4>
  <a name="996051"> </a>See Also 
</h4>

<p><a name="996055"> </a><a href="CRef_ExpMgr.html#995999"><code>ExpCardInfoType</code></a></p>

<h3 class="hbH3">
  <a name="1005543"> </a>Media Type Constants <a href="#995933"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1005544"> </a>Purpose 
</h4>

<p><a name="1005545"> </a>Define the media types supported by the Expansion Manager.</p>
<h4>
  <a name="1005546"> </a>Declared In 
</h4>
<code>ExpansionMgr.h<a name="1005547"> </a></code><h4>
  <a name="1005548"> </a>Constants 
</h4>

<dl>
<dt><a name="1005549"> </a><code>#define ExpMediaType_Any 'wild'</code></dt>
<dd><a name="1005550"> </a>Matches all media types when looking up a default directory.</dd>

<dt><a name="1005551"> </a><code>#define ExpMediaType_CompactFlash 'cfsh'</code></dt>
<dd><a name="1005552"> </a>CompactFlash.</dd>

<dt><a name="1005553"> </a><code>#define ExpMediaType_MemoryStick 'mstk'</code></dt>
<dd><a name="1005554"> </a>Memory Stick.</dd>

<dt><a name="1005555"> </a><code>#define ExpMediaType_MultiMediaCard 'mmcd'</code></dt>
<dd><a name="1005556"> </a>MultiMediaCard.</dd>

<dt><a name="1005557"> </a><code>#define ExpMediaType_PlugNPlay 'pnps'</code></dt>
<dd><a name="1005559"> </a>Universal "plug and play" (PnP) connector.</dd>

<dt><a name="1005560"> </a><code>#define ExpMediaType_PoserHost 'pose'</code></dt>
<dd><a name="1005561"> </a>Host file system emulated by Palm OS<sup>&#174;</sup> Emulator.</dd>

<dt><a name="1005562"> </a><code>#define ExpMediaType_RAMDisk 'ramd'</code></dt>
<dd><a name="1005563"> </a>A RAM-disk-based media.</dd>

<dt><a name="1005564"> </a><code>#define ExpMediaType_SecureDigital 'sdig'</code></dt>
<dd><a name="1005565"> </a>Secure Digital.</dd>

<dt><a name="1005566"> </a><code>#define ExpMediaType_SmartMedia 'smed'</code></dt>
<dd><a name="1005567"> </a>SmartMedia.</dd>

</dl>
<h4>
  <a name="1005568"> </a>Comments 
</h4>

<p><a name="1005572"> </a>These media types are used with <a href="CRef_ExpMgr.html#996364"><code>ExpSlotMediaType()</code></a> and <a href="CRef_VFSMgr.html#998593"><code>VFSVolumeInfo()</code></a> in the <code>VolumeInfoType.mediaType</code> field.</p>
<h4>
  <a name="1005576"> </a>Compatibility 
</h4>

<p><a name="1005577"> </a>Expansion Manager version: All. <br>Palm OS version: 4.0 or later.</p>

<p><a name="1005583"> </a>See <a href="CComp_Expansion.html#996231">"Checking for Expansion Cards"</a> in the <i>C/C++ Sync Suite Companion</i> for ways to confirm the presence of the Expansion Manager on the handheld.</p>
<h4>
  <a name="1005588"> </a>See Also 
</h4>

<p><a name="1005595"> </a><a href="CRef_ExpMgr.html#996364"><code>ExpSlotMediaType()</code></a>, <a href="CRef_VFSMgr.html#998593"><code>VFSVolumeInfo()</code></a></p>

<h3 class="hbH3">
  <a name="996056"> </a>Miscellaneous Expansion Manager Constants <a href="#995933"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="996057"> </a>Purpose 
</h4>

<p><a name="996058"> </a>Define miscellaneous constants used by Expansion Manager.</p>
<h4>
  <a name="996059"> </a>Declared In 
</h4>
<code>ExpansionMgr.h<a name="996060"> </a></code><h4>
  <a name="996061"> </a>Constants 
</h4>

<dl>
<dt><a name="996062"> </a><code>#define expCardInfoStringMaxLen 31</code></dt>
<dd><a name="996063"> </a>Defines the maximum length of a string in a member of the <a href="CRef_ExpMgr.html#995999"><code>ExpCardInfoType</code></a> structure. </dd>

<dt><a name="996067"> </a><code>#define expFtrIDVersion 0</code></dt>
<dd><a name="996068"> </a>To obtain the version of the Expansion Manager, you can call <a href="CRef_SyncCommon.html#1072017"><code>SyncReadFeature()</code></a>, supplying a feature creator of <code>sysFileCExpansionMgr</code> and this constant for the feature number. However, the primary method for getting the version number is to call <a href="CRef_VFSMgr.html#998356"><code>VFSSupport()</code></a>.</dd>

<dt><a name="996078"> </a><code>#define sysFileCExpansionMgr 'expn'</code></dt>
<dd><a name="996079"> </a>Defines the feature creator ID for the Expansion Manager. See the description of <span style="color: #333;;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">expFtrIDVersion</span>. </dd>

</dl>
<h4>
  <a name="996080"> </a>Compatibility 
</h4>

<p><a name="996081"> </a>Expansion Manager version: All. <br>Palm OS version: 4.0 or later.</p>

<p><a name="996087"> </a>See <a href="CComp_Expansion.html#996231">"Checking for Expansion Cards"</a> in the <i>C/C++ Sync Suite Companion</i> for ways to confirm the presence of the Expansion Manager on the handheld.</p>

<h2 class="haH2">
  <a name="996184"> </a>Expansion Manager Functions <a href="#995933"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="996185"> </a>This section describes the following functions, which enable conduits to determine whether an expansion card is present in a slot and to get information about that card.</p>

<p class="fineprint">

<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <td><p class="tt"><a name="1005872"> </a><a href="CRef_ExpMgr.html#1009605"><code>ExpCardInfo()</code></a> </p>
    </td>
    <td><p class="tt"><a name="1005912"> </a>Retrieves information about an expansion card in a given slot.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1005874"> </a><a href="CRef_ExpMgr.html#996259"><code>ExpCardPresent()</code></a> </p>
    </td>
    <td><p class="tt"><a name="1005914"> </a>Determines whether a card is present in the given slot.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1005876"> </a><a href="CRef_ExpMgr.html#996309"><code>ExpSlotEnumerate()</code></a> </p>
    </td>
    <td><p class="tt"><a name="1005916"> </a>Enumerates the valid slots to obtain a list of slot reference numbers.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1005878"> </a><a href="CRef_ExpMgr.html#996364"><code>ExpSlotMediaType()</code></a> </p>
    </td>
    <td><p class="tt"><a name="1005918"> </a>Obtains the media type identifier for the specified slot.</p>
    </td>
  </tr>
</table>

</div>

</p>

<h3 class="hbH3">
  <a name="1009605"> </a>ExpCardInfo Function <a href="#995933"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1009607"> </a>Purpose 
</h4>

<p><a name="996206"> </a>Retrieves information about an expansion card in a given slot.</p>
<h4>
  <a name="996207"> </a>Declared In 
</h4>
<code>ExpansionMgr.h<a name="996208"> </a></code><h4>
  <a name="996209"> </a>Prototype 
</h4>
<pre class="proto"><a name="996210"></a>SInt32 ExpCardInfo (
   UInt16 <code class="par">slotRefNumber</code>,
   ExpCardInfoType <code class="par">*pCardInfo</code>,
   void <code class="par">*pVoid</code>
)
</pre>
<h4>
  <a name="996211"> </a>Parameters 
</h4>

<dl>
<dt><a name="996212"> </a><code>&rarr;  <i>slotRefNumber</i></code></dt>
<dd><a name="996213"> </a>The slot reference number passed back by <a href="CRef_ExpMgr.html#996309"><code>ExpSlotEnumerate()</code></a>. </dd>

<dt><a name="996217"> </a><code>&larr;  <i>pCardInfo</i></code></dt>
<dd><a name="996221"> </a>Pointer to <a href="CRef_ExpMgr.html#995999"><code>ExpCardInfoType</code></a> structure that contains information about the card in the specified slot. </dd>

<dt><a name="996222"> </a><code>&harr;  <i>pVoid</i></code></dt>
<dd><a name="996223"> </a>This parameter is unused in this version of the Expansion Manager. Pass in <code>NULL</code> and ignore the value passed back. </dd>

</dl>
<h4>
  <a name="996224"> </a>Returns 
</h4>

<p><a name="996225"> </a>If successful, returns <code>SYNCERR_NONE</code>. </p>

<p><a name="996226"> </a>If unsuccessful, returns one of the following error codes:</p>

<dl>
<dt><a name="996227"> </a><code>expErrCardNoSectorReadWrite </code></dt>
<dt><a name="996228"> </a><code>expErrCardNotPresent </code></dt>
<dt><a name="996229"> </a><code>expErrInvalidSlotRefNumber </code></dt>
<dt><a name="996230"> </a><code>expErrSlotDeallocated </code></dt>
<dt><a name="996231"> </a><code>expErrUnsupportedOperation </code></dt>
</dl>

<p><a name="996234"> </a>For descriptions of all error codes, see <a href="CRef_ExpMgr.html#996416">"Expansion Manager API Error Codes."</a></p>
<h4>
  <a name="996236"> </a>Comments 
</h4>

<p><a name="996237"> </a>This routine returns information about a card, including whether the card supports secondary storage or is strictly read-only, by filling in the <code>ExpCardInfoType</code> structure's fields.</p>
<h4>
  <a name="996238"> </a>Compatibility 
</h4>

<p><a name="996239"> </a>Expansion Manager version: All. <br>Palm OS version: 4.0 or later.</p>

<p><a name="996245"> </a>See <a href="CComp_Expansion.html#996231">"Checking for Expansion Cards"</a> in the <i>C/C++ Sync Suite Companion</i> for ways to confirm the presence of the Expansion Manager on the handheld.</p>
<h4>
  <a name="996250"> </a>See Also 
</h4>

<p><a name="996257"> </a><a href="CRef_ExpMgr.html#996259"><code>ExpCardPresent()</code></a>, <a href="CRef_ExpMgr.html#996309"><code>ExpSlotEnumerate()</code></a></p>

<h3 class="hbH3">
  <a name="996259"> </a>ExpCardPresent Function <a href="#995933"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="996261"> </a>Purpose 
</h4>

<p><a name="996262"> </a>Determines whether a card is present in the given slot.</p>
<h4>
  <a name="996263"> </a>Declared In 
</h4>
<code>ExpansionMgr.h<a name="996264"> </a></code><h4>
  <a name="996265"> </a>Prototype 
</h4>
<pre class="proto"><a name="996266"></a>SInt32 ExpCardPresent (
   UInt16 <code class="par">slotRefNumber</code>,
   void <code class="par">*pVoid</code>
)
</pre>
<h4>
  <a name="996267"> </a>Parameters 
</h4>

<dl>
<dt><a name="996268"> </a><code>&rarr;  <i>slotRefNumber</i></code></dt>
<dd><a name="996269"> </a>The slot reference number passed back by <a href="CRef_ExpMgr.html#996309"><code>ExpSlotEnumerate()</code></a>. </dd>

<dt><a name="996273"> </a><code>&harr;  <i>pVoid</i></code></dt>
<dd><a name="996274"> </a>This parameter is unused in this version of the Expansion Manager. Pass in <code>NULL</code> and ignore the value passed back. </dd>

</dl>
<h4>
  <a name="996275"> </a>Returns 
</h4>

<p><a name="996276"> </a>If successful, returns <code>SYNCERR_NONE</code>. </p>

<p><a name="996277"> </a>If unsuccessful, returns one of the following error codes:</p>

<dl>
<dt><a name="996278"> </a><code>expErrCardNotPresent </code></dt>
<dt><a name="996279"> </a><code>expErrInvalidSlotRefNumber </code></dt>
<dt><a name="996280"> </a><code>expErrSlotDeallocated </code></dt>
<dt><a name="996281"> </a><code>expErrUnsupportedOperation </code></dt>
</dl>

<p><a name="996284"> </a>For descriptions of all error codes, see <a href="CRef_ExpMgr.html#996416">"Expansion Manager API Error Codes."</a></p>
<h4>
  <a name="996286"> </a>Comments 
</h4>

<p><a name="996287"> </a>Call this function to test whether a card is present in a slot before making any VFS Manager API calls to access files on a card. </p>
<h4>
  <a name="996288"> </a>Compatibility 
</h4>

<p><a name="996289"> </a>Expansion Manager version: All. <br>Palm OS version: 4.0 or later.</p>

<p><a name="996295"> </a>See <a href="CComp_Expansion.html#996231">"Checking for Expansion Cards"</a> in the <i>C/C++ Sync Suite Companion</i> for ways to confirm the presence of the Expansion Manager on the handheld.</p>
<h4>
  <a name="996300"> </a>See Also 
</h4>

<p><a name="996307"> </a><a href="CRef_ExpMgr.html#1009605"><code>ExpCardInfo()</code></a>, <a href="CRef_ExpMgr.html#996309"><code>ExpSlotEnumerate()</code></a></p>

<h3 class="hbH3">
  <a name="996309"> </a>ExpSlotEnumerate Function <a href="#995933"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="996311"> </a>Purpose 
</h4>

<p><a name="996312"> </a>Enumerates the valid slots to obtain a list of slot reference numbers.</p>
<h4>
  <a name="996313"> </a>Declared In 
</h4>
<code>ExpansionMgr.h<a name="996314"> </a></code><h4>
  <a name="996315"> </a>Prototype 
</h4>
<pre class="proto"><a name="996316"></a>SInt32 ExpSlotEnumerate (
   UInt16 <code class="par">*pNumSlotRefListEntires</code>,
   UInt16 <code class="par">*pSlotRefNumList</code>,
   void <code class="par">*pVoid</code>
)
</pre>
<h4>
  <a name="996317"> </a>Parameters 
</h4>

<dl>
<dt><a name="996318"> </a><code>&harr;  <i>pNumSlotRefListEntires</i></code></dt>
<dd><a name="996319"> </a>On entry, a pointer to the number of slot reference numbers allocated. On return, it is a pointer to the number of slot reference numbers filled into <code class="par">pSlotRefNumList</code>. </dd>

<dt><a name="996320"> </a><code>&larr;  <i>pSlotRefNumList</i></code></dt>
<dd><a name="996321"> </a>A pointer to an array of slot reference numbers. The caller must allocate this buffer before calling this function. </dd>

<dt><a name="996322"> </a><code>&harr;  <i>pVoid</i></code></dt>
<dd><a name="996323"> </a>This parameter is unused in this version of the Expansion Manager. Pass in <code>NULL</code> and ignore the value passed back. </dd>

</dl>
<h4>
  <a name="996324"> </a>Returns 
</h4>

<p><a name="996325"> </a>If successful, returns <code>SYNCERR_NONE</code>. </p>

<p><a name="996326"> </a>If unsuccessful, returns one of the following error codes:</p>

<dl>
<dt><a name="996327"> </a><code>expErrUnsupportedOperation </code></dt>
</dl>

<p><a name="996330"> </a>For descriptions of all error codes, see <a href="CRef_ExpMgr.html#996416">"Expansion Manager API Error Codes."</a></p>
<h4>
  <a name="996332"> </a>Comments 
</h4>

<p><a name="996333"> </a>This function passes back a list of slot reference numbers for slots on the handheld. Note that you must allocate sufficient space for <code class="par">pSlotRefNumList</code> before calling this function. </p>
<h4>
  <a name="996334"> </a>Example 
</h4>

<p><a name="996335"> </a>The following example shows a way to allocate sufficient space before calling <code>ExpSlotEnumerate()</code>. </p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
<code>WORD wSlotRefList[32]; </code>// Buffer for slot reference numbers. <a name="996336"> </a>
WORD wSlotRefCount;    // Number of entries allocated for list. <a name="996337"> </a>
long retval;<a name="996338"> </a>
<a name="996339"> </a>
<code>// Allocate enough space for buffer.</code><a name="996340"> </a>
wSlotRefCount = sizeof (<code>wSlotRefList) / sizeof (wSlotRefList[0]);</code><a name="996341"> </a>
retval = <b>ExpSlotEnumerate</b>(&amp;wSlotRefCount, <code>wSlotRefList</code>, NULL);<a name="996342"> </a>
</pre><div class="CodeRule"><hr></div>

<h4>
  <a name="996343"> </a>Compatibility 
</h4>

<p><a name="996344"> </a>Expansion Manager version: All.<br>Palm OS version: 4.0 or later.</p>

<p><a name="996350"> </a>See <a href="CComp_Expansion.html#996231">"Checking for Expansion Cards"</a> in the <i>C/C++ Sync Suite Companion</i> for ways to confirm the presence of the Expansion Manager on the handheld.</p>
<h4>
  <a name="996355"> </a>See Also 
</h4>

<p><a name="996362"> </a><a href="CRef_ExpMgr.html#1009605"><code>ExpCardInfo()</code></a>, <a href="CRef_ExpMgr.html#996259"><code>ExpCardPresent()</code></a></p>

<h3 class="hbH3">
  <a name="996364"> </a>ExpSlotMediaType Function <a href="#995933"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="996366"> </a>Purpose 
</h4>

<p><a name="996367"> </a>Obtains the media type identifier for the specified slot.</p>
<h4>
  <a name="996368"> </a>Declared In 
</h4>
<code>ExpansionMgr.h<a name="996369"> </a></code><h4>
  <a name="996370"> </a>Prototype 
</h4>
<pre class="proto"><a name="996371"></a>SInt32 ExpSlotMediaType (
   UInt16 <code class="par">slotRefNum</code>,
   UINT32 <code class="par">*pui32SlotMediaType</code>
)
</pre>
<h4>
  <a name="996372"> </a>Parameters 
</h4>

<dl>
<dt><a name="996373"> </a><code>&rarr;  <i>slotRefNum</i></code></dt>
<dd><a name="996374"> </a>The slot reference number (passed back by <a href="CRef_ExpMgr.html#996309"><code>ExpSlotEnumerate()</code></a>) for which to determine the media type.</dd>

<dt><a name="996378"> </a><code>&larr;  <i>pui32SlotMediaType</i></code></dt>
<dd><a name="996379"> </a>A pointer to a <code>UINT32</code> that identifies the media type of the specified slot. The section <a href="CRef_ExpMgr.html#1005543">"Media Type Constants"</a> lists the possible values. </dd>

</dl>
<h4>
  <a name="996383"> </a>Returns 
</h4>

<p><a name="996384"> </a>If successful, returns <code>SYNCERR_NONE</code>. </p>

<p><a name="996385"> </a>If unsuccessful, returns one of the following error codes:</p>

<dl>
<dt><a name="996386"> </a><code>expErrCardNotPresent </code></dt>
<dt><a name="996387"> </a><code>expErrSlotDeallocated </code></dt>
<dt><a name="996388"> </a><code>expErrUnsupportedOperation </code></dt>
</dl>

<p><a name="996391"> </a>For descriptions of all error codes, see <a href="CRef_ExpMgr.html#996416">"Expansion Manager API Error Codes."</a></p>
<h4>
  <a name="996395"> </a>Compatibility 
</h4>

<p><a name="996396"> </a>Expansion Manager version: All.<br>Palm OS version: 4.0 or later.</p>

<p><a name="996402"> </a>See <a href="CComp_Expansion.html#996231">"Checking for Expansion Cards"</a> in the <i>C/C++ Sync Suite Companion</i> for ways to confirm the presence of the Expansion Manager on the handheld.</p>
<h4>
  <a name="996407"> </a>See Also 
</h4>

<p><a name="996414"> </a><a href="CRef_ExpMgr.html#1009605"><code>ExpCardInfo()</code></a>, <a href="CRef_ExpMgr.html#996309"><code>ExpSlotEnumerate()</code></a></p>

<h2 class="haH2">
  <a name="996416"> </a>Expansion Manager API Error Codes <a href="#995933"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="996420"> </a><a href="CRef_ExpMgr.html#996427">Table 9.1</a> lists the values of error codes that Expansion Manager API functions can return. The description of each function states which errors each function can return. </p>

<p><a name="996421"> </a>All of the named error codes below are defined as preprocessor constants, which are declared in the <code>VFSErr.h</code> header file. </p>

<p class="fineprint">
<p class="caption"><a name="996427"> </a><b>Table 9.1&nbsp;&nbsp;Expansion Manager API error codes </b></p>
<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="996433"> </a><b>Value</b></p>
    </th>
    <th><p class="tt"><a name="996435"> </a><b>Code</b></p>
    </th>
    <th><p class="tt"><a name="996437"> </a><b>Description</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996439"> </a>0x00002901L</p>
    </td>
    <td><p class="tt"><a name="996442"> </a><code>expErrUnsupportedOperation</code> </p>
    </td>
    <td><p class="tt"><a name="996444"> </a>The operation is unsupported or undefined.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996446"> </a>0x00002902L</p>
    </td>
    <td><p class="tt"><a name="996449"> </a><code>expErrNotEnoughPower</code> </p>
    </td>
    <td><p class="tt"><a name="996451"> </a>Insufficient battery power on the handheld to perform the operation. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996453"> </a>0x00002903L</p>
    </td>
    <td><p class="tt"><a name="996456"> </a><code>expErrCardNotPresent</code> </p>
    </td>
    <td><p class="tt"><a name="996458"> </a>No card is present in the given slot.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996460"> </a>0x00002904L</p>
    </td>
    <td><p class="tt"><a name="996463"> </a><code>expErrInvalidSlotRefNumber</code> </p>
    </td>
    <td><p class="tt"><a name="996465"> </a>The slot reference number is not valid.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996467"> </a>0x00002905L</p>
    </td>
    <td><p class="tt"><a name="996470"> </a><code>expErrSlotDeallocated</code> </p>
    </td>
    <td><p class="tt"><a name="996472"> </a>The slot reference number is within the valid range, but the Expansion Manager has unloaded the slot driver on the handheld. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996474"> </a>0x00002906L</p>
    </td>
    <td><p class="tt"><a name="996477"> </a><code>expErrCardNoSectorReadWrite</code> </p>
    </td>
    <td><p class="tt"><a name="996479"> </a>The card does not support the slot driver block read/write API. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996481"> </a>0x0000290AL</p>
    </td>
    <td><p class="tt"><a name="996484"> </a><code>expErrNotOpen</code> </p>
    </td>
    <td><p class="tt"><a name="996486"> </a>The file system library on the handheld necessary for this call has not been installed or has not been opened.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="996488"> </a>0x0000290DL</p>
    </td>
    <td><p class="tt"><a name="996491"> </a><code>expErrEnumerationEmpty</code> </p>
    </td>
    <td><p class="tt"><a name="996493"> </a>No volumes are present to enumerate or none remain to enumerate. </p>
    </td>
  </tr>
</table>

</div>

</p>
&nbsp;<br>
</div>
<!--END CONTENT-->

</td>
<td width="5">&nbsp;&nbsp;</td>
</tr>

</table>

<!-- BEGIN FOOTER -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="7" rowspan="2"><img name="index_x" src="images/shim.gif" width="7" height="33" border="0" alt=""></td>
<td align="left"><img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
<td width="10" rowspan="2"><img name="index_x" src="images/shim.gif" width="10" height="33" border="0" alt=""></td>
</tr>
<tr>
<td align="center">
<p class="footer">
Copyright © 1998-2004, PalmSource, Inc. and its affiliates. All rights reserved.<br>
<a href="http://www.palmsource.com/contact/">Write Us</a> | <a href="http://www.palmos.com/dev/training/">Training</a> | <a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a> | <a href="CRef_Front.html" target="_blank">Legal</a></p>
<br>
<!--BEGIN BOOK NAVIGATION-->
<p class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="C++SyncReferenceTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="CRef_CmnLang.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="CRef_VFSMgr.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="C++SyncReferenceIX.html">Index</a>
</p>
</td>
</tr>
<!-- END FOOTER -->

</body>
</html>