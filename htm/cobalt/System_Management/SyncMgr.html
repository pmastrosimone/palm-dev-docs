<html>
<head>
<title>(Protein) Sync Manager | System Management</title> 
<link href="psi_devpubs.css" rel="stylesheet" type="text/css">

<!-- BEGIN META DATA -->
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META NAME="PSITEMPLATE" CONTENT="1006-007 PalmSource_HTML_2003 20041101">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks AutoMap 2003 for FrameMaker 8.0.6.2138">
<META NAME="LASTUPDATED" CONTENT="11/22/04 11:27:50">
<!-- END META DATA -->
</head>

<body bgcolor="#ffffff" text="#000000" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<a name="992934"></a>

<!-- BEGIN TOPNAV -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td><img src="images/shim.gif" width="7" height="75" border="0" alt=""></td>
<td align="left"><table border="0" cellpadding="0" cellspacing="0" width="744">
<tr>
<td><img name="index_r2_c1" src="images/shim.gif" width="25" height="75" border="0" alt=""></td>
<td valign="top"><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_r2_c4" src="images/shim.gif" width="96" height="15" border="0" alt=""></td>
</tr>
<tr>
<td><a href="http://www.palmsource.com/"><img name="ps_logo" src="images/ps_logo.gif" width="96" height="54" border="0" alt=""></a></td>
</tr>

</table>
</td>

<td><table border="0" cellpadding="0" cellspacing="0" width="30">
<td><img name="index_x" src="images/shim.gif" width="30" height="75" border="0" alt=""></td>
</table></td>

<!--BEGIN MASTHEAD-->
<td><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
<tr>
<td>
<!--BEGIN BOOK NAVIGATION-->
<span class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="SysMgt_TOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="Preferences.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="SystemMgr.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="SysMgt_IX.html">Index</a>
</span>
<!--END BOOK NAVIGATION-->
</tr>
<tr>
<td>
<!--BEGIN PAGE TITLE-->
<h2 class="PageTitle">34 &nbsp;&nbsp;
Sync Manager</h2></td>
<!--END PAGE TITLE-->
</tr>
<tr>
<td>
<!--BEGIN BOOK TITLE-->
<p class="BookTitle">System Management</p>
<p class="SubTitle">Exploring Palm OS&#174; </p>
<!--END BOOK TITLE-->
</td>
</tr>
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
</table>
</td>
<!--END MASTHEAD-->
</tr>
</table>
<img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
</tr>
</table>
<!-- END TOPNAV -->

<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" width="5"><img name="index_x" src="images/shim.gif" width="5" height="33" border="0" alt=""></td>

<!--BEGIN SIDETOC-->
<td valign="top" width="175">
<div id="sidetoc" valign="bottom">
<h1 class="SideTOC1-PartTab"><a href="SysMgt_Part2.html">Part II: Reference</a> </h1>
<h1 class="SideTOC1"><a href="SyncMgr.html">34  Sync Manager</a></h1>

   <h2 class="SideTOC2"><a href="#992942">
   Sync Manager Constants</a></h2>

      <h3 class="SideTOC3"><a href="#993312">
      Sync Manager Error Codes</a></h3>

      <h3 class="SideTOC3"><a href="#994572">
      Sync Manager Security Policies</a></h3>

      <h3 class="SideTOC3"><a href="#992950">
      Miscellaneous Sync Manager Constants</a></h3>

   <h2 class="SideTOC2"><a href="#993006">
   Sync Manager Functions and Macros</a></h2>

      <h3 class="SideTOC3"><a href="#993014">
      SyncAddSynchronizer</a></h3>

      <h3 class="SideTOC3"><a href="#993060">
      SyncSessionGetAccess</a></h3>

      <h3 class="SideTOC3"><a href="#993268">
      SyncSessionReleaseAccess</a></h3>

</div>
</td>

<td width="5">&nbsp;&nbsp;</td>
<td width="2" background="images/index_r8_c10.gif"><img src="images/shim.gif" width="2" height="75" border="0" alt=""></td>
<td width="5">&nbsp;&nbsp;</td>

<!--END SIDETOC-->

<td valign="top">

<!--BEGIN CONTENT-->
<div id="content" valign="bottom">
<p><a name="992936"> </a>The Sync Manager provides functions that allow a sync application&#8212;with the user's permission&#8212;to gain access to secure databases that have the sync bypass rule set.</p>

<p><a name="993946"> </a>This chapter is organized as follows:</p>
   <blockquote class = "bq"><a name="992948"> </a><a href="SyncMgr.html#992942">Sync Manager Constants</a></blockquote>
   <blockquote class = "bq"><a name="993012"> </a><a href="SyncMgr.html#993006">Sync Manager Functions and Macros</a></blockquote>

<p><a name="992938"> </a>The header file <code>SyncMgr.h</code> declares the API that this chapter describes.</p>

<h2 class="haH2">
  <a name="992942"> </a>Sync Manager Constants <a href="#992934"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="993312"> </a>Sync Manager Error Codes <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="993313"> </a>Purpose 
</h4>

<p><a name="993327"> </a>Error codes returned by the various Sync Manager functions.</p>
<h4>
  <a name="993332"> </a>Declared In 
</h4>
<code>SyncMgr.h<a name="993350"> </a></code><h4>
  <a name="993360"> </a>Constants 
</h4>

<dl>
<dt><a name="993491"> </a><code>#define syncMgrErrAccessDenied (syncMgrErrorClass | 0x04)</code></dt>
<dd><a name="993492"> </a>Access was denied. Either the user refused to authorize registration of the sync client, or an unregistered sync client is attempting to get or release access </dd>

<dt><a name="993493"> </a><code>#define syncMgrErrMaxSessionsActive (syncMgrErrorClass | 0x06)</code></dt>
<dd><a name="993494"> </a></dd>

<dt><a name="993495"> </a><code>#define syncMgrErrMemAllocFailure (syncMgrErrorClass | 0x03)</code></dt>
<dd><a name="993496"> </a></dd>

<dt><a name="993497"> </a><code>#define syncMgrErrOperationNotSupported (syncMgrErrorClass | 0x01)</code></dt>
<dd><a name="993498"> </a></dd>

<dt><a name="993499"> </a><code>#define syncMgrErrSystemErr (syncMgrErrorClass | 0x02)</code></dt>
<dd><a name="993500"> </a>A system error occurred.</dd>

<dt><a name="993501"> </a><code>#define syncMgrErrUserRefusedSyncApp (syncMgrErrorClass | 0x05)</code></dt>
</dl>

<h3 class="hbH3">
  <a name="994572"> </a>Sync Manager Security Policies <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="994645"> </a>Purpose 
</h4>

<p><a name="994688"> </a>Security policies enforced by the Sync Manager.</p>
<h4>
  <a name="994749"> </a>Declared In 
</h4>
<code>SyncMgr.h<a name="994784"> </a></code><h4>
  <a name="994809"> </a>Constants 
</h4>

<dl>
<dt><a name="994935"> </a><code>#define kSyncPolicyRestrictAppRegistration 'sync'</code></dt>
<dd><a name="994991"> </a>Limits the set of applications that are allowed to register to those specified in in the security policy.</dd>

<dt><a name="994992"> </a><code>#define kSyncPolicyNonUiAuthentication 'noui'</code></dt>
<dd><a name="994993"> </a>Allows specified applications to register non-intrusively (without UI).</dd>

</dl>

<h3 class="hbH3">
  <a name="992950"> </a>Miscellaneous Sync Manager Constants <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="992952"> </a>Purpose 
</h4>

<p><a name="992955"> </a>The Sync Manager also defines these constants.</p>
<h4>
  <a name="992957"> </a>Declared In 
</h4>
<code>SyncMgr.h<a name="992960"> </a></code><h4>
  <a name="992962"> </a>Constants 
</h4>

<dl>
<dt><a name="992965"> </a><code>#define kSyncAppDescriptionMaxLen (95 + 1)</code></dt>
<dd><a name="992967"> </a>The maximum length in bytes&#8212;including the null terminator&#8212;of the product description supplied to <a href="SyncMgr.html#993014"><code>SyncAddSynchronizer()</code></a>.</dd>

<dt><a name="992969"> </a><code>#define kSyncMaxActiveSessions (32)</code></dt>
<dd><a name="994257"> </a></dd>

<dt><a name="992973"> </a><code>#define kSyncProductNameMaxLen (43 + 1)</code></dt>
<dd><a name="993975"> </a>The maximum length in bytes&#8212;including the null terminator&#8212;of the product display name supplied to <a href="SyncMgr.html#993014"><code>SyncAddSynchronizer()</code></a>.</dd>

</dl>

<h2 class="haH2">
  <a name="993006"> </a>Sync Manager Functions and Macros <a href="#992934"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="993014"> </a>SyncAddSynchronizer Function <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="993019"> </a>Purpose 
</h4>

<p><a name="993022"> </a>Ask the user for permission to register a sync application with the Sync Manager and, if permission is granted, register that application.</p>
<h4>
  <a name="993024"> </a>Declared In 
</h4>
<code>SyncMgr.h<a name="993027"> </a></code><h4>
  <a name="993029"> </a>Prototype 
</h4>
<pre class="proto"><a name="993032"></a>status_t SyncAddSynchronizer (
   const char <code class="par">*displayNameP</code>,
   const char <code class="par">*descriptionP</code>
)
</pre>
<h4>
  <a name="993034"> </a>Parameters 
</h4>

<dl>
<dt><a name="993037"> </a><code>&rarr;  <i>displayNameP</i></code></dt>
<dd><a name="993039"> </a>Pointer to the display name of the product. This string is displayed to the user. This string should be no more than <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">kSyncProductNameMaxLen</span> bytes long, including the null terminator.</dd>

<dt><a name="993041"> </a><code>&rarr;  <i>descriptionP</i></code></dt>
<dd><a name="993043"> </a>Pointer to a brief description of the product, the vendor, or both that is to be displayed to the user. Supply <code>NULL</code> for this parameter if no description is needed. This string should be no more than <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">kSyncAppDescriptionMaxLen</span> bytes long, including the null terminator.</dd>

</dl>
<h4>
  <a name="993045"> </a>Returns 
</h4>

<p><a name="993048"> </a>Returns <code>errNone</code> if the sync application was successfully registered, or <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">syncMgrErrAccessDenied</span> if there was an error.</p>
<h4>
  <a name="993050"> </a>Comments 
</h4>

<p><a name="993053"> </a>A sync application can synchronize or back up secure databases only if it is registered with the Sync Manager.</p>

<p><a name="993827"> </a>The sync client should call this function once after it is installed on the handheld. This function prompts the user to approve the sync client by entering the system password. If the user is unable or unwilling to approve the sync client, this function returns <code>syncMgrErrAccessDenied</code>.</p>
<h4>
  <a name="995307"> </a>Comments 
</h4>

<div><hr>
  <a name="995308"> </a> <b>IMPORTANT: </b> When called from the main application thread, this function may block. While blocked, the application will not receive events and won't redraw its windows. As well, deferred sublaunches and notifications won't execute while the main application thread is blocked.
<hr>
</div>
<h4>
  <a name="993055"> </a>See Also 
</h4>

<p><a name="993058"> </a><a href="SyncMgr.html#993060"><code>SyncSessionGetAccess()</code></a>, <a href="SyncMgr.html#993268"><code>SyncSessionReleaseAccess()</code></a></p>

<h3 class="hbH3">
  <a name="993060"> </a>SyncSessionGetAccess Function <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="993065"> </a>Purpose 
</h4>

<p><a name="993068"> </a>Get access to secure databases for a sync session.</p>
<h4>
  <a name="993078"> </a>Declared In 
</h4>
<code>SyncMgr.h<a name="993099"> </a></code><h4>
  <a name="993123"> </a>Prototype 
</h4>
<pre class="proto"><a name="993150"></a>status_t SyncSessionGetAccess (
   void
)
</pre>
<h4>
  <a name="993176"> </a>Parameters 
</h4>

<p><a name="993203"> </a>None.</p>
<h4>
  <a name="993229"> </a>Returns 
</h4>

<p><a name="993256"> </a>Returns <code>errNone</code> if the Sync Manager was able to add the sync client's token to the global bypass rule, or <code>syncMgrErrAccessDenied</code> if not.</p>
<h4>
  <a name="993258"> </a>Comments 
</h4>

<p><a name="993261"> </a>The sync client must be registered prior to this call. </p>

<p><a name="993875"> </a>The sync client must call this function once for every sync session. After the sync client has accessed the desired secure databases, it should call <a href="SyncMgr.html#993268"><code>SyncSessionReleaseAccess()</code></a>.</p>
<h4>
  <a name="993263"> </a>See Also 
</h4>

<p><a name="993266"> </a><a href="SyncMgr.html#993014"><code>SyncAddSynchronizer()</code></a></p>

<h3 class="hbH3">
  <a name="993268"> </a>SyncSessionReleaseAccess Function <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="993273"> </a>Purpose 
</h4>

<p><a name="993276"> </a>Signal that the sync client no longer needs access to any secure databases.</p>
<h4>
  <a name="993278"> </a>Declared In 
</h4>
<code>SyncMgr.h<a name="993281"> </a></code><h4>
  <a name="993283"> </a>Prototype 
</h4>
<pre class="proto"><a name="993286"></a>status_t SyncSessionReleaseAccess (
   void
)
</pre>
<h4>
  <a name="993288"> </a>Parameters 
</h4>

<p><a name="993291"> </a>None.</p>
<h4>
  <a name="993293"> </a>Returns 
</h4>

<p><a name="993296"> </a>Returns <code>errNone</code> as long as the sync client is registered. Otherwise, returns <code>syncMgrErrAccessDenied</code>.</p>
<h4>
  <a name="993298"> </a>Comments 
</h4>

<p><a name="993301"> </a>The sync client must call this function once for every sync session. Prior to accessing any secure databases it should call <a href="SyncMgr.html#993060"><code>SyncSessionGetAccess()</code></a>. Once it is done accessing secure databases, it should call <code>SyncSessionReleaseAccess()</code>.</p>
<h4>
  <a name="993303"> </a>See Also 
</h4>

<p><a name="993306"> </a><a href="SyncMgr.html#993014"><code>SyncAddSynchronizer()</code></a></p>

<p><a name="992930"> </a></p>
&nbsp;<br>
</div>
<!--END CONTENT-->

</td>
<td width="5">&nbsp;&nbsp;</td>
</tr>

</table>

<!-- BEGIN FOOTER -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="7" rowspan="2"><img name="index_x" src="images/shim.gif" width="7" height="33" border="0" alt=""></td>
<td align="left"><img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
<td width="10" rowspan="2"><img name="index_x" src="images/shim.gif" width="10" height="33" border="0" alt=""></td>
</tr>
<tr>
<td align="center">
<p class="footer">
Copyright © 1996&#8211;2004, PalmSource, Inc. and its affiliates. All rights reserved.<br>
<a href="http://www.palmsource.com/contact/">Write Us</a> | <a href="http://www.palmos.com/dev/training/">Training</a> | <a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a> | <a href="SysMgt_Front.html" target="_blank">Legal</a></p>
<br>
<!--BEGIN BOOK NAVIGATION-->
<p class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="SysMgt_TOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="Preferences.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="SystemMgr.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="SysMgt_IX.html">Index</a>
</p>
</td>
</tr>
</table>
<!-- END FOOTER -->

</body>
</html>