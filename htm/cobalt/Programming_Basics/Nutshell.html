<html>
<head>
<title>(Protein) Programming Palm OS in a Nutshell | Programming Basics</title> 
<link href="psi_devpubs.css" rel="stylesheet" type="text/css">

<!-- BEGIN META DATA -->
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META NAME="PSITEMPLATE" CONTENT="1006-007 PalmSource_HTML_2003 20041101">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks AutoMap 2003 for FrameMaker 8.0.6.2138">
<META NAME="LASTUPDATED" CONTENT="11/22/04 11:21:42">
<!-- END META DATA -->
</head>

<body bgcolor="#ffffff" text="#000000" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<a name="969980"></a>

<!-- BEGIN TOPNAV -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td><img src="images/shim.gif" width="7" height="75" border="0" alt=""></td>
<td align="left"><table border="0" cellpadding="0" cellspacing="0" width="744">
<tr>
<td><img name="index_r2_c1" src="images/shim.gif" width="25" height="75" border="0" alt=""></td>
<td valign="top"><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_r2_c4" src="images/shim.gif" width="96" height="15" border="0" alt=""></td>
</tr>
<tr>
<td><a href="http://www.palmsource.com/"><img name="ps_logo" src="images/ps_logo.gif" width="96" height="54" border="0" alt=""></a></td>
</tr>

</table>
</td>

<td><table border="0" cellpadding="0" cellspacing="0" width="30">
<td><img name="index_x" src="images/shim.gif" width="30" height="75" border="0" alt=""></td>
</table></td>

<!--BEGIN MASTHEAD-->
<td><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
<tr>
<td>
<!--BEGIN BOOK NAVIGATION-->
<span class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="ProgrammingBasicsTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ProgrammingBasics_Part1.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="AppStartAndStop.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ProgrammingBasicsIX.html">Index</a>
</span>
<!--END BOOK NAVIGATION-->
</tr>
<tr>
<td>
<!--BEGIN PAGE TITLE-->
<h2 class="PageTitle">1 &nbsp;&nbsp;
Programming Palm OS in a Nutshell</h2></td>
<!--END PAGE TITLE-->
</tr>
<tr>
<td>
<!--BEGIN BOOK TITLE-->
<p class="BookTitle">Programming Basics</p>
<p class="SubTitle">Exploring Palm OS&#174; </p>
<!--END BOOK TITLE-->
</td>
</tr>
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
</table>
</td>
<!--END MASTHEAD-->
</tr>
</table>
<img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
</tr>
</table>
<!-- END TOPNAV -->

<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" width="5"><img name="index_x" src="images/shim.gif" width="5" height="33" border="0" alt=""></td>

<!--BEGIN SIDETOC-->
<td valign="top" width="175">
<div id="sidetoc" valign="bottom">
<h1 class="SideTOC1-PartTab"><a href="ProgrammingBasics_Part1.html">Part I: Concepts</a> </h1>
<h1 class="SideTOC1"><a href="Nutshell.html">1  Programming Palm OS in a Nutshell</a></h1>

   <h2 class="SideTOC2"><a href="#970011">
   Why Programming for Palm OS Is Different</a></h2>

      <h3 class="SideTOC3"><a href="#970015">
      Screen Size</a></h3>

      <h3 class="SideTOC3"><a href="#970019">
      Quick Turnaround Expected</a></h3>

      <h3 class="SideTOC3"><a href="#970027">
      PC Connectivity</a></h3>

      <h3 class="SideTOC3"><a href="#970033">
      Input Methods</a></h3>

      <h3 class="SideTOC3"><a href="#970038">
      Power</a></h3>

      <h3 class="SideTOC3"><a href="#970041">
      Memory</a></h3>

      <h3 class="SideTOC3"><a href="#970045">
      File System</a></h3>

      <h3 class="SideTOC3"><a href="#970049">
      Backward Compatibility</a></h3>

   <h2 class="SideTOC2"><a href="#970055">
   Palm OS Programming Concepts</a></h2>

      <h3 class="SideTOC3"><a href="#970097">
      API Naming Conventions</a></h3>

      <h3 class="SideTOC3"><a href="#970128">
      Integrating Programs with the Palm OS Environment</a></h3>

      <h3 class="SideTOC3"><a href="#970185">
      Writing Robust Code</a></h3>

   <h2 class="SideTOC2"><a href="#970224">
   Uniquely Identifying Your Palm OS Application</a></h2>

   <h2 class="SideTOC2"><a href="#970240">
   Making Your Application Run on Different Devices</a></h2>

      <h3 class="SideTOC3"><a href="#974030">
      Processor Differences</a></h3>

      <h3 class="SideTOC3"><a href="#970256">
      Running New Applications on an Older Device</a></h3>

      <h3 class="SideTOC3"><a href="#970296">
      Compiling Older Applications with the Latest SDK</a></h3>

   <h2 class="SideTOC2"><a href="#970311">
   Programming Tools</a></h2>

   <h2 class="SideTOC2"><a href="#970327">
   Where to Go from Here</a></h2>

</div>
</td>

<td width="5">&nbsp;&nbsp;</td>
<td width="2" background="images/index_r8_c10.gif"><img src="images/shim.gif" width="2" height="75" border="0" alt=""></td>
<td width="5">&nbsp;&nbsp;</td>

<!--END SIDETOC-->

<td valign="top">

<!--BEGIN CONTENT-->
<div id="content" valign="bottom">
<p><a name="969981"> </a>This chapter is the place to start if you're new to programming for Palm OS<sup>&#174;</sup> devices. It summarizes what's unique about writing applications for Palm Powered<sup>&#8482;</sup> devices and tells you where to go for more in-depth information. It covers:</p>
   <blockquote class = "bq"><a name="969988"> </a><a href="Nutshell.html#970011"></a><a href="Nutshell.html#970011">Why Programming for Palm OS Is Different</a></blockquote>
   <blockquote class = "bq"><a name="969992"> </a><a href="Nutshell.html#970055">Palm OS Programming Concepts</a></blockquote>
   <blockquote class = "bq"><a name="973159"> </a><a href="Nutshell.html#974030">Processor Differences</a></blockquote>
   <blockquote class = "bq"><a name="969996"> </a><a href="Nutshell.html#970224">Uniquely Identifying Your Palm OS Application</a></blockquote>
   <blockquote class = "bq"><a name="970000"> </a><a href="Nutshell.html#970240">Making Your Application Run on Different Devices</a></blockquote>
   <blockquote class = "bq"><a name="970004"> </a><a href="Nutshell.html#970311">Programming Tools</a></blockquote>
   <blockquote class = "bq"><a name="970008"> </a><a href="Nutshell.html#970327">Where to Go from Here</a></blockquote>

<p><a name="970009"> </a>Read this chapter for a high-level introduction to Palm OS programming. The rest of this book provides the details.</p>

<h2 class="haH2">
  <a name="970011"> </a>Why Programming for Palm OS Is Different <a href="#969980"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="970012"> </a>Like most programmers, you have probably written a desktop application&#8212;an application that is run on a desktop computer such as a PC or a Macintosh computer. Applications written for devices, specifically Palm Powered devices, are a bit different from those written for desktop computers because the Palm Powered device is designed differently than a desktop computer. As well, the way in which users interact with a device differs from the way they interact with a desktop computer. </p>

<p><a name="970013"> </a>This section describes how these differences affect the design of a Palm OS<sup>&#174;</sup> application. </p>
<h3 class="hbH3">
  <a name="970015"> </a>Screen Size <a href="#969980"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="970016"> </a>Palm Powered device screens are often only 160x160 or 320x320 pixels, so the amount of information you can display at one time is limited. </p>

<p><a name="970017"> </a>For this reason, you must design your user interface carefully with different priorities and goals than are used for large screens. Strive for a balance between providing enough information and overcrowding the screen. See the book <i>Exploring Palm OS: User Interface Guidelines</i> for more detailed information on designing the user interface. </p>

<p><a name="973279"> </a>Note that the screen size is not necessarily fixed: some Palm Powered devices allow the user to rotate the display or to collapse the input area. If the user collapses the input area, there is more space available to the application. </p>
<h3 class="hbH3">
  <a name="970019"> </a>Quick Turnaround Expected <a href="#969980"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="970020"> </a>On a PC, users don't mind waiting a few seconds while an application loads because they usually plan to use the application for an extended amount of time. </p>

<p><a name="970021"> </a>By contrast, the average device user uses a device application 15 to 20 times per day for much briefer periods of time, often just a few seconds. Speed is therefore a critical design objective for devices and is not limited to execution speed of the code. The total time needed to navigate, select, and execute commands can have a big impact on overall efficiency. </p>

<p><a name="970024"> </a>To maximize performance, the user interface should minimize navigation between windows, opening of dialogs, and so on. The layout of application screens needs to be simple so that the user can pick up the product and use it effectively after a short time. It's especially helpful if the user interface of your application is consistent with other applications on the device so users work with familiar patterns. </p>

<p><a name="970025"> </a>The Palm OS development team has put together a set of design guidelines that were used as the basis for the applications resident on the device (Memo Pad, Address Book, and so on). These guidelines are summarized in the book <i>Exploring Palm OS: User Interface Guidelines</i>. </p>
<h3 class="hbH3">
  <a name="970027"> </a>PC Connectivity <a href="#969980"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="970029"> </a>PC connectivity is an integral component of the Palm Powered device. The device comes with a cradle or cable that connects to a desktop PC and with software for the PC that provides "one-button" backup and synchronization of all data on the device to the user's PC. </p>

<p><a name="970030"> </a>Many Palm OS applications have a corresponding application on the desktop. To share data between the device's application and the desktop's application, you write a <b>conduit</b>. A conduit is a plug-in to the HotSync<sup>&#174;</sup> technology that runs when you press the HotSync button. A conduit synchronizes data between the application on the desktop and the application on the device. To write a conduit, you use the Conduit Developer's Kit (CDK). See the documentation provided with the CDK for more information on writing conduits.</p>
<h3 class="hbH3">
  <a name="970033"> </a>Input Methods <a href="#969980"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="972147"> </a>Most users of Palm Powered devices don't have a full-sized keyboard or mouse. When entering data directly into the device, depending on the design of the device most users either use a pen&#8212;by writing characters in the input area or by tapping on an on-screen keyboard&#8212;or they type on a miniature "thumb board."</p>

<p><a name="972148"> </a>While pen strokes, the keyboard dialog, or a miniature keyboard are useful ways of entering data, they are not as convenient as using the full-sized desktop computer with its keyboard and mouse. Therefore, you should not require users to enter a lot of data on the device itself. </p>

<p><a name="970036"> </a>Many Palm Powered devices support external keyboards, which are sold separately. Do not rely on your users having an external keyboard. </p>
<h3 class="hbH3">
  <a name="970038"> </a>Power <a href="#969980"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="970039"> </a>Palm Powered devices run on batteries and thus do not have the same processing power as a desktop PC. If your application needs to perform a computationally-intensive task, see if there isn't a way to perform that task in the desktop application instead of the device application. </p>
<h3 class="hbH3">
  <a name="970041"> </a>Memory <a href="#969980"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="970042"> </a>Compared to a desktop computer, Palm Powered devices have limited heap and storage space. Different devices within the family of Palm Powered devices might have on the order of 16 Mb to 128 Mb of dynamic memory and storage available, in total. The device does not have a disk drive or PCMCIA support.</p>
<h3 class="hbH3">
  <a name="970045"> </a>File System <a href="#969980"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="970046"> </a>Except when working with external storage media (SD cards, Memory Sticks, and the like), Palm OS does not use a traditional file system. You store data in memory chunks called <b>records</b>, which are grouped into <b>databases</b>. A database is analogous to a file. The difference is that data is broken down into multiple records instead of being stored in one contiguous chunk. To save space, you edit a database in place in memory instead of creating it in RAM and then writing it out to storage.</p>

<p><a name="973633"> </a>Applications written specifically for Palm OS Cobalt can take advantage of the advanced capabilities of the Schema database format. Schema databases have many of the features of relational databases and give applications greater power and flexibility in working with their data.</p>
<h3 class="hbH3">
  <a name="970049"> </a>Backward Compatibility <a href="#969980"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="970050"> </a>Not all Palm Powered devices run the same version of Palm OS. Users are not expected to upgrade their versions of Palm OS as they would an operating system on a desktop computer. New versions of the operating system are designed in such a way that applications that run on a previous version will most likely run on the newer version as well. This allows you to write applications that can be deployed on a wider variety of Palm Powered devices, increasing the potential market for your applications. See <a href="Nutshell.html#970240">"Making Your Application Run on Different Devices"</a> for details. </p>

<h2 class="haH2">
  <a name="970055"> </a>Palm OS Programming Concepts <a href="#969980"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="975929"> </a>Palm OS applications are event-driven programs that are most often written in C. Although Palm OS Cobalt supports multiple threads and processes, the user primarily interacts with only one program at a time. To successfully build a Palm OS application, you have to understand how the system itself is structured and how to structure your application. </p>
<ul type="disc">
  <li><a name="970063"> </a>Each application has a <a href="AppMgr.html#994755"><code>PilotMain()</code></a> function that is equivalent to <code>main</code> in C programs. To launch an application, the system calls <code>PilotMain()</code> and sends it a <b>launch code</b>. The launch code may specify that the application is to become active and display its user interface (called a normal launch), or it may specify that the application should simply perform a small task and exit without displaying its user interface. 
   <p><a name="970064"> </a>The sole purpose of the <code>PilotMain()</code> function is to receive launch codes and respond to them. (See <a href="AppStartAndStop.html#971704">Chapter 2, "Application Start and Stop."</a>)</p>
  <li><a name="970068"> </a>Palm OS applications are largely event-driven and so contain an <b>event loop</b>; however, this event loop is only started in response to the normal launch. Your application may perform work outside the event loop in response to other launch codes. <a href="EventLoop.html#977418">Chapter 3, "Events and the Event Loop,"</a> describes the main event loop.
  <li><a name="970072"> </a>Most Palm OS applications contain a user interface made up of <b>forms</b>, which are analogous to windows in a desktop application. The user interface may contain both predefined UI elements (sometimes referred to as <b>UI objects</b>), and custom UI elements. (See <i>Exploring Palm OS: User Interface</i>)
  <li><a name="970078"> </a>All applications should use the memory and data management facilities provided by the system. (See <i>Exploring Palm OS: Memory, Databases, and Files</i>)
  <li><a name="970085"> </a>Applications employ operating system services by calling Palm OS functions. Palm OS consists of several "managers," which are groups of functions that work together to implement a feature. As a rule, all functions that belong to one manager use the same prefix and work together to implement a certain aspect of functionality. 
   <p><a name="970086"> </a>Managers are available to, for example, generate sounds, send alarms, perform network communication, and beam information through an infrared port. A good way to find out the capabilities of the Palm OS is to scan the tables of contents of the various books that make up the <i>Exploring Palm OS</i> series.</p>
</ul>
<h3 class="hbH3">
  <a name="970097"> </a>API Naming Conventions <a href="#969980"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="970099"> </a>The following conventions are used throughout most of the Palm OS API:</p>
<ul type="disc">
  <li><a name="970101"> </a>Functions start with a capital letter.
  <li><a name="970102"> </a>All functions belonging to a particular manager start with a short prefix, such as "Ctl" for control functions or "Ftr" for functions that are part of the Feature Manager.
  <li><a name="970104"> </a>Events and other constants start with a lowercase letter.
  <li><a name="970106"> </a>Structure elements start with a lowercase letter. 
  <li><a name="970108"> </a>Typedefs start with a capital letter and end with "Type" (for example, <code>DateFormatType</code>, found in <code>DateTime.h</code>).
  <li><a name="973824"> </a>Notifications start with a prefix (most often, "sys") followed by the word "Notify." For example, <code>sysNotifyAppLaunchingEvent</code>.
  <li><a name="973828"> </a>Launch codes have a prefix followed by "LaunchCmd," as in <code>sysAppLaunchCmdNormalLaunch</code>.
  <li><a name="970111"> </a>Members of an enumerated type start with a lowercase prefix followed by a name starting with a capital letter, as follows:

<div class="CodeRule"><hr></div><pre class="CodeBlock">
enum formObjects {<a name="970112"> </a>
      frmFieldObj,<a name="970113"> </a>
      frmControlObj,<a name="970114"> </a>
      frmListObj,<a name="970115"> </a>
      frmTableObj,<a name="970116"> </a>
      frmBitmapObj,<a name="970117"> </a>
      frmLineObj,<a name="970118"> </a>
      frmFrameObj,<a name="970119"> </a>
      frmRectangleObj,<a name="970120"> </a>
      frmLabelObj,<a name="970121"> </a>
      frmTitleObj,<a name="970122"> </a>
      frmPopupObj,<a name="970123"> </a>
      frmGraffitiStateObj,<a name="970124"> </a>
      frmGadgetObj};<a name="970125"> </a>
   typedef enum formObjects FormObjectKind;<a name="970126"> </a>
</pre><div class="CodeRule"><hr></div>

</ul>
<h3 class="hbH3">
  <a name="970128"> </a>Integrating Programs with the Palm OS Environment <a href="#969980"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="970129"> </a>When users work with a Palm OS application, they expect to be able to switch to other applications, have a way to enter data right on the device, access information with the global find, receive alarms, and so on. Your application will integrate well with others if you follow the guidelines in this section. Integrate with the system software as follows:</p>
<ul type="disc">
  <li><a name="970131"> </a>Handle <code>sysAppLaunchCmdNormalLaunch</code>
  <li><a name="970133"> </a>Handle or ignore other application launch codes as appropriate. For more information, see <a href="AppStartAndStop.html#971704">Chapter 2, "Application Start and Stop."</a>
  <li><a name="970143"> </a>Be sure your application uses the system preferences for numeric formats, date, time, and start day of week. See <a href="../System_Management/PreferenceConcepts.html#608590">Chapter 3, "Preferences,"</a> of <i>Exploring Palm OS: System Management</i> for instructions on how to do so. 
  <li><a name="970154"> </a>Don't obscure shift indicators. 
</ul>

<p><a name="970155"> </a>In addition, follow these rules:</p>
<ul type="disc">
  <li><a name="970157"> </a>Store state information in the application preferences database, not in the application record database. See <a href="../System_Management/PreferenceConcepts.html#608590">Chapter 3, "Preferences,"</a> of <i>Exploring Palm OS: System Management</i> for more information on preferences. 
  <li><a name="970163"> </a>If your application uses the serial port, be sure to close the port when you no longer need it so that the HotSync application can use it. 
  <li><a name="970165"> </a>Ensure that your application properly handles the global find. Generally, searches and sorts aren't case sensitive. 
  <li><a name="970167"> </a>If your application supports private records, be sure they are unavailable to the global find when they should be hidden.
  <li><a name="970168"> </a>Integrate with the Launcher application by providing an application name, two application icons, and a version string as described in <a href="../User_Interface/UI_LauncherApp.html#1005083">Chapter 11, "Integrating with the Application Launcher,"</a> of <i>Exploring Palm OS: User Interface</i>.
  <li><a name="970173"> </a>Follow the guidelines detailed in <i>Exploring Palm OS: User Interface Guidelines</i>.
  <li><a name="970174"> </a>Ensure that your application properly handles system messages during and after synchronization.
  <li><a name="970177"> </a>Ensure that protected records and masked record contents are not displayed if the user has so indicated.
  <li><a name="970180"> </a>Ensure that your application uses a consistent default state when the user enters it: 
  <ul type="disc">
    <li><a name="970181"> </a>Some applications have a fixed default; for example, the Date Book always displays the current day when launched. 
    <li><a name="970182"> </a>Other applications return to the place the user exited last. In that case, remember to provide a default if that place is no longer available. Because of HotSync operations and Preferences, don't assume the application data is the same as it was when the user looked at it last. 
  </ul>
  <li><a name="970183"> </a>If your application uses sounds, be sure it uses the Warning and Confirmation sounds properly.
</ul>
<h3 class="hbH3">
  <a name="970185"> </a>Writing Robust Code <a href="#969980"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="970186"> </a>To make your programs more robust and to increase their compatibility with the widest variety of Palm OS products, it is strongly recommended that you follow the guidelines and practices outlined in this section. </p>
<ul type="disc">
  <li><a name="970187"> </a>Check assumptions.
   <p><a name="970188"> </a>You can write defensive code by making frequent use of the <a href="../System_Management/ErrorMgr.html#992992"><code>DbgOnlyFatalErrorIf()</code></a> macro, which enables your debug builds to check assumptions. Many bugs are caught in this way, and these "extra" calls don't weigh down your shipping application. You can keep more important checks in the release builds by using the <a href="../System_Management/ErrorMgr.html#993377"><code>ErrFatalErrorIf()</code></a> function.</p>
  <li><a name="970195"> </a>Avoid continual polling.
   <p><a name="970196"> </a>To conserve the battery, avoid continual polling. If appropriate, take advantage of the <a href="../Input_Services/In_LowEvents.html#996326"><code>keyUpEvent</code></a> or the facilities for performing event-based pen tracking to avoid polling altogether.</p>
  <li><a name="970198"> </a>Avoid reading and writing to <code>NULL</code> (or low memory).
   <p><a name="974641"> </a>In Palm OS Cobalt reading and writing to NULL will cause your application to crash. When calling functions that allocate memory, at least make sure that the pointers they return are non-<code>NULL</code>. (If you can do better validation than that, so much the better.) Also check that pointers your code obtains from structures or other function calls are not <code>NULL</code>. Consider adding to your debug build a <code>#define</code> that overrides the memory management functions with a version that validates the arguments passed to it.</p>
  <li><a name="970212"> </a>Check result codes when allocating memory.
   <p><a name="970213"> </a>Because various Palm Powered devices have larger or smaller amounts of available memory, it is always a good idea to check result codes carefully when allocating memory.</p>
  <li><a name="970216"> </a>Avoid making assumptions about the screen.
   <p><a name="970217"> </a>The size and shape of the screen, the screen buffer, and the number of pixels per bit aren't set in stone&#8212;they vary from one Palm Powered device to another. Don't hack around the windowing and drawing functions; the functions provided are optimized to make best use of the underlying hardware and to allow multiple applications and system services to share it.</p>
  <li><a name="970221"> </a>Built-in applications can change.
   <p><a name="970222"> </a>The format and size of the preferences (and data) for the built-in applications is subject to change. Write your code defensively, and consider disabling your application if it is run on an untested version of the OS.</p>
</ul>

<h2 class="haH2">
  <a name="970224"> </a>Uniquely Identifying Your Palm OS Application <a href="#969980"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="970226"> </a>Each Palm OS application&#8212;in fact, each Palm OS database&#8212;is uniquely identified by a combination of its name and a four-byte creator ID. By assigning the application's creator ID to all of the databases related to an application, you associate those databases with the application. The OS takes advantage of this; for instance, the Launcher's Info panel uses the creator ID to calculate the total memory used by each application.</p>

<p><a name="970228"> </a>Each database on the Palm Powered device has a type as well as a creator ID. The database type allows applications and the OS to distinguish among multiple databases with the same creator ID. For applications, set the database type to <code>sysFileTApplication</code> (<code>'appl'</code>). For each database associated with an application, set the database type to any other value (as long as it isn't composed entirely of lowercase letters, since those are reserved by PalmSource). Certain predefined types&#8212;such as <code>'appl'</code> (application) or <code>'libr'</code> (library)&#8212;have special meaning to Palm OS. For instance, the Launcher looks at the database type to determine which databases are applications.</p>

<p><a name="970229"> </a>Types and creator IDs are case-sensitive and are composed of four ASCII characters in the range 32-126 (decimal). Types and creator IDs consisting of all lowercase letters are reserved for use by PalmSource, so any type or creator ID that you choose must contain at least one uppercase letter, digit, or symbol<a href="#970232"><sup>1</sup></a>.</p>

<p><a name="970233"> </a>To protect your application from conflicting with others, you need to register your creator ID with PalmSource, which maintains a database of registered IDs. To choose and register a creator ID, see this web page:</p>

<p><a name="970235"> </a><a href="http://dev.palmos.com/creatorid/">http://dev.palmos.com/creatorid/</a></p>

<p><a name="970236"> </a>Note that you don't need to register database types as you do creator IDs. Each creator ID in effect defines a new space of types, so there is no connection between two databases with type <code>'Data'</code> but with different creator IDs.</p>

<div><hr>
  <a name="970237"> </a> <b>IMPORTANT: </b> Applications with identical creator IDs cannot coexist on the same device; during installation the new application will replace the existing application that possesses the same creator ID. Further, the new application could well corrupt any databases that were associated with the preexisting application. For this reason, all applications should have their own unique creator ID.
<hr>
</div>

<p><a name="970238"> </a>Finally, creator IDs aren't used only to identify databases. They are also used, among other things, when getting or setting application preferences, to register for notifications, and to identify features.</p>

<h2 class="haH2">
  <a name="970240"> </a>Making Your Application Run on Different Devices <a href="#969980"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="970241"> </a>There are many different devices that run Palm OS, and each may have a different version of the operating system installed on it. Users are not expected to upgrade the Palm OS as they would an operating system on a desktop computer. This fact makes backward compatibility more crucial for Palm OS applications. </p>

<p><a name="970242"> </a>This section describes how to make sure your application runs on as many devices as possible by discussing:</p>
<ul type="disc">
  <li><a name="974040"> </a><a href="Nutshell.html#974030">Processor Differences</a>
  <li><a name="970246"> </a><a href="Nutshell.html#970256">Running New Applications on an Older Device</a>
  <li><a name="970254"> </a><a href="Nutshell.html#970296">Compiling Older Applications with the Latest SDK</a>
</ul>
<h3 class="hbH3">
  <a name="974030"> </a>Processor Differences <a href="#969980"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="974068"> </a>The original Palm OS devices&#8212;and, as of this writing, the majority of the installed base&#8212;employ a Motorola Dragonball&#8482; processor that is part of the 68000 family. Palm Powered devices running Palm OS Garnet and Palm OS Cobalt use an ARM&#8482; processor (available from a variety of manufacturers). To ensure compatibility, Palm OS Garnet introduced the Palm OS Application Compatibility Environment (PACE), which emulates the instruction set from the earlier class of Palm Powered devices and allows most applications written for those devices to continue to run on an ARM-based device. PACE is present in Palm OS Cobalt as well. While Palm OS Garnet only allowed developers to create applications that worked through PACE, however, Palm OS Cobalt gives developers the choice of developing a traditional Palm OS application that runs through PACE, or developing an application that runs "natively"&#8212;one that is compiled for the ARM processor and that can directly call the operating system.</p>

<p><a name="974069"> </a>How you choose to develop your Palm OS applications depends on a number of factors. Perhaps most important is what devices you are targeting. If you want to target the largest possible set of customers you'll likely want to write your application to be compatible with a number of earlier versions of Palm OS. If you do this, however, be aware that:</p>
<ul type="disc">
  <li><a name="974138"> </a>Applications written expressly for Palm OS Cobalt will run faster than those that must work through PACE.
  <li><a name="974143"> </a>PACE does not provide full access to many of the new features introduced in Palm OS Cobalt. Schema databases, advanced graphics, and multithreading are just some of the things you give up by not targeting the Palm OS Cobalt native environment.
</ul>

<div><hr>
  <a name="974480"> </a> <b>IMPORTANT: </b> The <i>Exploring Palm OS</i> series is intended for developers creating native applications for Palm OS Cobalt. If you are interested in developing applications that work through PACE and that also run on earlier Palm OS releases, you should be reading the latest versions of the <i>Palm OS Programmer's API Reference</i> and <i>Palm OS Programmer's Companion</i> instead.
<hr>
</div>
<h3 class="hbH3">
  <a name="970256"> </a>Running New Applications on an Older Device <a href="#969980"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="970257"> </a>PalmSource works hard to maintain binary compatibility between versions of Palm OS. Even with the switch from the 68K-based Dragonball processor to an ARM-based one compatibility is largely maintained through the use of the Palm OS Application Compatibility Environment (PACE). Because of this, applications can be written that will run on all versions of the operating system (provided the application doesn't use any features specific to one version of the operating system). In other words, if you wrote your application using only features available in Palm OS 1.0, then your application should run on all devices. If you use 2.0 features, your application won't run on the earliest Palm Powered devices, but it will run on all those running Palm OS 2.0 and later.</p>

<div><hr>
  <a name="974184"> </a> <b>NOTE: </b> As explained in the previous section, this discussion is aimed at applications written using the "68K" APIs&#8212;those APIs exposed in <span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">Palm OS Cobalt</span> via PACE. Applications written to run natively on the ARM processor will not run on any Palm Powered device running a version of Palm OS prior to 6.0.
<hr>
</div>

<p><a name="970258"> </a>How can you tell which features are available in each version of the operating system? There are a couple of way to do so:</p>
<ul type="disc">
  <li><a name="970264"> </a>The <i>Palm OS Programmer's API Reference</i> has a "Compatibility Guide" appendix. This guide lists the features and functions introduced in each operating system version greater than 1.0. 
  <li><a name="970268"> </a>The header file <code>CoreTraps.h</code> ( <code>SysTraps.h</code> on versions of Palm OS before 3.5) lists all of the system traps available. Traps are listed in the order in which they were introduced to the system, and comments in the file clearly mark where each operating system version begins.
</ul>

<p><a name="970269"> </a>Programmatically, you can use the Feature Manager to determine which features are available on the system the application is running on. Note that you can't always rely on the operating system version number to guarantee that a feature exists. For example, Palm OS version 3.2 introduced wireless support, but not all Palm Powered devices have that capability. Thus, checking that the system version is 3.2 (or greater) does not guarantee that wireless support exists. Consult the "Compatibility Guide" in the <i>Palm OS Programmer's API Reference</i> to learn how to check for the existence of each specific feature. </p>
<h3 class="hbH3">
  <a name="970296"> </a>Compiling Older Applications with the Latest SDK <a href="#969980"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="970297"> </a>As a rule, all Palm OS applications developed with an earlier version of the Palm OS platform SDK should run error-free on the latest release. This rule applies to Palm OS Cobalt as long as your application continues to use the "68K" APIs supported by PACE. Converting an existing application so that it runs natively on Palm OS Cobalt is a somewhat more involved task; see <i>Exploring Palm OS: Porting Applications to Palm OS Cobalt</i> for a complete discussion of this process.</p>

<p><a name="970298"> </a>If you want to compile your older application under the latest release, you need to watch out for functions with a changed API. For any of these functions, the old function still exists with a suffix noting the last release that fully supports it, such as "V40" for Palm OS 4.0.</p>

<p><a name="970299"> </a>When a given function has been so renamed, you have two options:</p>
<ul type="disc">
  <li><a name="970300"> </a>Change the function name in your code to keep using the old API. Your application will then run error free on the newer and the older devices.
  <li><a name="970301"> </a>Update your application to use the new API. The application will then run error free and have access to some new functionality; however, it will no longer run on older devices that use prior releases of the OS.
</ul>

<h2 class="haH2">
  <a name="970311"> </a>Programming Tools <a href="#969980"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="970312"> </a>Several tools are available that help you build, test, and debug Palm OS applications. The set of tools you can choose from is large and growing: see <!-PS02-><span style="color: #0000ff;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: underline; text-transform: none; vertical-align: baseline"><a href="http://www.palmos.com/dev/tools/">http://www.palmos.com/dev/tools/</a></span> for information about your development language and tool options.</p>

<p><a name="970325"> </a>The book <i>Palm OS Programming Development Tools Guide</i> describes the PalmSource-provided debugging tools available on your development platform. The Palm OS Developer Suite has extensive online help. For information on using third-party tools, refer to the documentation (printed or electronic, depending upon the tool) supplied with the tool. </p>

<h2 class="haH2">
  <a name="970327"> </a>Where to Go from Here <a href="#969980"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="970328"> </a>This chapter provided you only with a general outline of the issues involved in writing an application to run on Palm OS Cobalt. To learn the specifics, refer to the following resources: </p>
<ul type="disc">
  <li><a name="970329"> </a>This book
   <p><a name="970330"> </a>The rest of this book explores some of the most basic Palm OS programming concepts. Among other things, the next three chapters cover:</p>
  <ul type="disc">
    <li><a name="974286"> </a>the way in which applications are started ("launched"),
    <li><a name="974288"> </a>how applications can be instructed to perform a service on behalf of another,
    <li><a name="974294"> </a>the means by which applications are informed of user actions, and the basic mechanism employed by Palm OS applications to process those actions,
    <li><a name="974295"> </a>how applications can register for and receive notification of important operating system events.
  </ul>
  <li><a name="974296"> </a><i>Exploring Palm OS: Memory, Databases, and Files</i>
   <p><a name="974297"> </a>As the title implies, this book covers all aspects of the Palm OS memory system. This includes the way in which Palm Powered devices dedicate a portion of their memory to serve as what in a desktop computer would be secondary, or disk, storage. On the device, programs and data are stored in <b>databases</b>; these databases can either be structured, like a traditional computer database, or more free-form, like a traditional file. Palm OS doesn't provide a traditional file system except when working with "external" storage (which on a typical Palm OS device takes the form of an SD card or Memory Stick); this book shows you how to interact with these storage devices as well.</p>
  <li><a name="974301"> </a><i>Exploring Palm OS: User Interface</i>
   <p><a name="974302"> </a>Nearly all Palm OS programs have some sort of user interface, and this book goes into great detail about how you create such an interface. This book covers the nuts-and-bolts of constructing and manipulating your user interface: for more general advice on how best to interact with the user, see <i>Exploring Palm OS: User Interface Guidelines</i>.</p>
  <li><a name="974303"> </a><i>Exploring Palm OS: System Management</i>
   <p><a name="974304"> </a>This book discusses all of the "miscellaneous" system functions: threading, dates and times, floating point, alarms, features and preferences, and so on. It also covers hardware interactions: the real-time clock, expansion media, system boot and reset, battery power, and the like.</p>
  <li><a name="974317"> </a>Other books in the <i>Exploring Palm OS</i> series
   <p><a name="974318"> </a>The remaining books in the series provide more specialized information that might not be of interest to all Palm OS application developers. These books include:</p>
  <ul type="disc">
    <li><a name="974319"> </a><i>Exploring Palm OS: Text and Localization</i>
    <li><a name="974320"> </a><i>Exploring Palm OS: Input Services</i>
    <li><a name="974321"> </a><i>Exploring Palm OS: High-Level Communications</i>
    <li><a name="974322"> </a><i>Exploring Palm OS: Low-Level Communications</i>
    <li><a name="974622"> </a><i>Exploring Palm OS: Multimedia</i>
    <li><a name="974323"> </a><i>Exploring Palm OS: Telephony and SMS</i>
    <li><a name="974325"> </a><i>Exploring Palm OS: Security and Cryptography</i>
    <li><a name="974355"> </a><i>Exploring Palm OS: Creating a FEP</i>
    <li><a name="974359"> </a><i>Exploring Palm OS: Porting Applications to Palm OS Cobalt</i>
    <li><a name="974363"> </a><i>Exploring Palm OS: Palm OS File Formats</i>
    <li><a name="974381"> </a><i>Introduction to Palm OS Tools</i>
    <li><a name="974382"> </a><i>Palm OS Compiler Tools Guide</i>
    <li><a name="974383"> </a><i>Palm OS Compiler Reference</i>
    <li><a name="974439"> </a><i>Palm OS Debugger Guide</i>
    <li><a name="974384"> </a><i>Palm OS Resource Tools Guide</i>
    <li><a name="974385"> </a><i>Palm OS Simulator Guide</i>
    <li><a name="974386"> </a><i>Virtual Phone Guide</i>
  </ul>
  <li><a name="970331"> </a>Example applications
   <p><a name="970332"> </a>The Palm OS Cobalt SDK contains a number of sample applications that can be a valuable aid when you develop your own programs. The software development kit provides a royalty-free license that permits you to use any or all of the source code from the examples in your application. </p>
  <li><a name="970351"> </a>Conduit Development Kit and documentation
   <p><a name="970352"> </a>If you need to write a conduit for your application, see the documentation provided with the Conduit Development Kit.</p>
  <li><a name="974466"> </a>Training
   <p><a name="974467"> </a>PalmSource offers training in Palm OS programming. See the Training portion of the PalmSource website at <a href="http://www.palmos.com/dev/training/">http://www.palmos.com/dev/training/</a>.</p>
  <li><a name="974473"> </a>PalmSource website
   <p><a name="974474"> </a>The PalmSource website is an invaluable source of information about PalmSource, the Palm OS, and Palm OS application development. From this website you can download SDKs, tools, and documentation. You can learn about the various device manufacturers and the devices they produce. And you can get help with your programming questions, either by consulting the PalmSource Knowledge Base or by posting a question to one of the many Internet forums dedicated to Palm OS programming. For all of this and more, go to <a href="http://www.palmos.com/dev/">http://www.palmos.com/dev/</a>.</p>
</ul>
 

<hr> 
<p class="FNFootnote">
<a name="970232"> </a><a href="#970229">1</a>. Palm has also reserved <!-PS02-><span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">'</span>pqa <!-PS02-><span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">'</span>.</p>
&nbsp;<br>
</div>
<!--END CONTENT-->

</td>
<td width="5">&nbsp;&nbsp;</td>
</tr>

</table>

<!-- BEGIN FOOTER -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="7" rowspan="2"><img name="index_x" src="images/shim.gif" width="7" height="33" border="0" alt=""></td>
<td align="left"><img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
<td width="10" rowspan="2"><img name="index_x" src="images/shim.gif" width="10" height="33" border="0" alt=""></td>
</tr>
<tr>
<td align="center">
<p class="footer">
Copyright © 1996&#8211;2004, PalmSource, Inc. and its affiliates. All rights reserved.<br>
<a href="http://www.palmsource.com/contact/">Write Us</a> | <a href="http://www.palmos.com/dev/training/">Training</a> | <a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a> | <a href="ProgrammingBasics_Front.html" target="_blank">Legal</a></p>
<br>
<!--BEGIN BOOK NAVIGATION-->
<p class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="ProgrammingBasicsTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ProgrammingBasics_Part1.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="AppStartAndStop.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ProgrammingBasicsIX.html">Index</a>
</p>
</td>
</tr>
</table>
<!-- END FOOTER -->

</body>
</html>