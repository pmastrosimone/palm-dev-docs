<html>
<head>
<title>(Protein) Application Manager | Programming Basics</title> 
<link href="psi_devpubs.css" rel="stylesheet" type="text/css">

<!-- BEGIN META DATA -->
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META NAME="PSITEMPLATE" CONTENT="1006-007 PalmSource_HTML_2003 20041101">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks AutoMap 2003 for FrameMaker 8.0.6.2138">
<META NAME="LASTUPDATED" CONTENT="11/22/04 11:22:02">
<!-- END META DATA -->
</head>

<body bgcolor="#ffffff" text="#000000" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<a name="1005234"></a>

<!-- BEGIN TOPNAV -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td><img src="images/shim.gif" width="7" height="75" border="0" alt=""></td>
<td align="left"><table border="0" cellpadding="0" cellspacing="0" width="744">
<tr>
<td><img name="index_r2_c1" src="images/shim.gif" width="25" height="75" border="0" alt=""></td>
<td valign="top"><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_r2_c4" src="images/shim.gif" width="96" height="15" border="0" alt=""></td>
</tr>
<tr>
<td><a href="http://www.palmsource.com/"><img name="ps_logo" src="images/ps_logo.gif" width="96" height="54" border="0" alt=""></a></td>
</tr>

</table>
</td>

<td><table border="0" cellpadding="0" cellspacing="0" width="30">
<td><img name="index_x" src="images/shim.gif" width="30" height="75" border="0" alt=""></td>
</table></td>

<!--BEGIN MASTHEAD-->
<td><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
<tr>
<td>
<!--BEGIN BOOK NAVIGATION-->
<span class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="ProgrammingBasicsTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ProgrammingBasics_Part2.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="CmnLaunchCodes.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ProgrammingBasicsIX.html">Index</a>
</span>
<!--END BOOK NAVIGATION-->
</tr>
<tr>
<td>
<!--BEGIN PAGE TITLE-->
<h2 class="PageTitle">5 &nbsp;&nbsp;
Application Manager</h2></td>
<!--END PAGE TITLE-->
</tr>
<tr>
<td>
<!--BEGIN BOOK TITLE-->
<p class="BookTitle">Programming Basics</p>
<p class="SubTitle">Exploring Palm OS&#174; </p>
<!--END BOOK TITLE-->
</td>
</tr>
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
</table>
</td>
<!--END MASTHEAD-->
</tr>
</table>
<img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
</tr>
</table>
<!-- END TOPNAV -->

<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" width="5"><img name="index_x" src="images/shim.gif" width="5" height="33" border="0" alt=""></td>

<!--BEGIN SIDETOC-->
<td valign="top" width="175">
<div id="sidetoc" valign="bottom">
<h1 class="SideTOC1-PartTab"><a href="ProgrammingBasics_Part2.html">Part II: Reference</a> </h1>
<h1 class="SideTOC1"><a href="AppMgr.html">5  Application Manager</a></h1>

   <h2 class="SideTOC2"><a href="#992942">
   Application Manager Structures and Types</a></h2>

      <h3 class="SideTOC3"><a href="#992950">
      ARMAppLaunchPrefsType</a></h3>

      <h3 class="SideTOC3"><a href="#993040">
      ImportExportRecordParamsType</a></h3>

      <h3 class="SideTOC3"><a href="#993080">
      SysAppLaunchCmdCardType</a></h3>

      <h3 class="SideTOC3"><a href="#993340">
      SysAppLaunchCmdFailedAppNotifyType</a></h3>

      <h3 class="SideTOC3"><a href="#993612">
      SysAppLaunchCmdHandleSyncCallAppType</a></h3>

      <h3 class="SideTOC3"><a href="#993920">
      SysAppLaunchCmdInitDatabaseType</a></h3>

      <h3 class="SideTOC3"><a href="#993968">
      SysAppLaunchCmdOpenDBType</a></h3>

      <h3 class="SideTOC3"><a href="#994272">
      SysAppLaunchCmdPnpsType</a></h3>

      <h3 class="SideTOC3"><a href="#994320">
      SysAppLaunchCmdSaveDataType</a></h3>

      <h3 class="SideTOC3"><a href="#994360">
      SysAppLaunchCmdSyncCallApplicationTypeV10</a></h3>

      <h3 class="SideTOC3"><a href="#994420">
      SysAppLaunchCmdSystemResetType</a></h3>

      <h3 class="SideTOC3"><a href="#1002310">
      PilotMainType</a></h3>

   <h2 class="SideTOC2"><a href="#994456">
   Application Manager Constants</a></h2>

      <h3 class="SideTOC3"><a href="#1003373">
      Expansion Card Launch Flags</a></h3>

      <h3 class="SideTOC3"><a href="#1008431">
      Launch Preference Flags</a></h3>

      <h3 class="SideTOC3"><a href="#994543">
      Launch Preferences Structure Versions</a></h3>

      <h3 class="SideTOC3"><a href="#1027499">
      Miscellaneous Application Manager Constants</a></h3>

   <h2 class="SideTOC2"><a href="#994679">
   Application Manager Functions and Macros</a></h2>

      <h3 class="SideTOC3"><a href="#994755">
      PilotMain</a></h3>

      <h3 class="SideTOC3"><a href="#995070">
      SysAppLaunch</a></h3>

      <h3 class="SideTOC3"><a href="#998122">
      SysAppLaunchLocal</a></h3>

      <h3 class="SideTOC3"><a href="#995186">
      SysAppLaunchRemote</a></h3>

      <h3 class="SideTOC3"><a href="#995528">
      SysAppLaunchV40</a></h3>

      <h3 class="SideTOC3"><a href="#995594">
      SysBroadcastActionCode</a></h3>

      <h3 class="SideTOC3"><a href="#995640">
      SysCurAppDatabase</a></h3>

      <h3 class="SideTOC3"><a href="#995966">
      SysCurAppDatabaseV40</a></h3>

      <h3 class="SideTOC3"><a href="#996268">
      SysGetStackInfo</a></h3>

      <h3 class="SideTOC3"><a href="#996554">
      SysReset</a></h3>

      <h3 class="SideTOC3"><a href="#996594">
      SysUIAppSwitch</a></h3>

      <h3 class="SideTOC3"><a href="#996880">
      SysUIAppSwitchV40</a></h3>

</div>
</td>

<td width="5">&nbsp;&nbsp;</td>
<td width="2" background="images/index_r8_c10.gif"><img src="images/shim.gif" width="2" height="75" border="0" alt=""></td>
<td width="5">&nbsp;&nbsp;</td>

<!--END SIDETOC-->

<td valign="top">

<!--BEGIN CONTENT-->
<div id="content" valign="bottom">
<p><a name="992936"> </a>This chapter provides reference documentation for the Application Manager, which you use to launch Palm OS applications programmatically. The contents of this chapter are organized as follows:</p>
   <blockquote class = "bq"><a name="992948"> </a><a href="AppMgr.html#992942">Application Manager Structures and Types</a></blockquote>
   <blockquote class = "bq"><a name="994462"> </a><a href="AppMgr.html#994456">Application Manager Constants</a></blockquote>
   <blockquote class = "bq"><a name="994685"> </a><a href="AppMgr.html#994679">Application Manager Functions and Macros</a></blockquote>

<p><a name="992938"> </a>The header file <code>AppMgr.h</code> declares the API that this chapter describes.</p>

<p><a name="1024163"> </a>For more information on how Palm OS applications are launched, see <a href="AppStartAndStop.html#971704">"Application Start and Stop."</a></p>

<h2 class="haH2">
  <a name="992942"> </a>Application Manager Structures and Types <a href="#1005234"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="992950"> </a>ARMAppLaunchPrefsType Struct <a href="#1005234"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="992955"> </a>Purpose 
</h4>

<p><a name="992958"> </a>ARM application's launch preferences.</p>
<h4>
  <a name="992960"> </a>Declared In 
</h4>
<code>AppMgr.h<a name="992963"> </a></code><h4>
  <a name="992965"> </a>Prototype 
</h4>
<pre class="proto"><a name="992968"></a>typedef struct ARMAppLaunchPrefsType {
   uint32_t version;
   uint32_t reserved1;
   uint32_t reserved2;
   uint32_t stackSize;
   uint32_t flags;
} ARMAppLaunchPrefsType
</pre>
<h4>
  <a name="992970"> </a>Fields 
</h4>

<dl>
<dt><a name="992973"> </a><code>version</code></dt>
<dd><a name="1028638"> </a>Version of this structure. See <a href="AppMgr.html#994543">"Launch Preferences Structure Versions"</a> for the values that this field can assume.</dd>

<dt><a name="1028640"> </a><code>reserved1</code></dt>
<dd><a name="992979"> </a>Reserved for future use.</dd>

<dt><a name="992981"> </a><code>reserved2</code></dt>
<dd><a name="992983"> </a>Reserved for future use.</dd>

<dt><a name="992985"> </a><code>stackSize</code></dt>
<dd><a name="1028676"> </a>Not used in Palm OS Cobalt. This field should always have a value of 0.</dd>

<dt><a name="992989"> </a><code>flags</code></dt>
<dd><a name="992991"> </a>Any combination of the launch flags listed under <a href="AppMgr.html#1008431">"Launch Preference Flags."</a></dd>

</dl>
<h4>
  <a name="992993"> </a>Example 
</h4>

<p><a name="992999"> </a>You can obtain an application's launch preferences using code similar to the following:</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
DmOpenRef openRef;<a name="1009641"> </a>
<a name="1009643"> </a>
// Open the database<a name="1009644"> </a>
openRef = DmOpenDatabase(dbID, dmModeReadOnly);<a name="1009645"> </a>
if (openRef) {<a name="1009646"> </a>
<a name="1009647"> </a>
   // Look for its launch preferences.<a name="1009651"> </a>
   MemHandle resH = DmGetResource(openRef,
      sysResTAppLaunchPrefsLE32, sysResIDDefault);<a name="1009652"> </a>
<a name="1010190"> </a>
   if (resH) {<a name="1009653"> </a>
      ARMAppLaunchPrefsType *launchPrefs =
         (ARMAppLaunchPrefsType *)MemHandleLock(resH);<a name="1009655"> </a>
<a name="1009656"> </a>
      // Do something with the launch prefs here<a name="1010043"> </a>
<a name="1010044"> </a>
      MemHandleUnlock(resH);<a name="1009663"> </a>
      DmReleaseResource(resH);<a name="1009664"> </a>
   }<a name="1009665"> </a>
}<a name="1009666"> </a>
</pre><div class="CodeRule"><hr></div>


<h3 class="hbH3">
  <a name="993040"> </a>ImportExportRecordParamsType Struct <a href="#1005234"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="993045"> </a>Purpose 
</h4>

<p><a name="1007472"> </a>Parameter block passed with the <a href="CmnLaunchCodes.html#994319"><code>sysAppLaunchCmdImportRecord</code></a>, <a href="CmnLaunchCodes.html#1075165"><code>sysAppLaunchCmdMoveRecord</code></a>, <a href="CmnLaunchCodes.html#993025"><code>sysAppLaunchCmdExportRecord</code></a> and <a href="CmnLaunchCodes.html#992997"><code>sysAppLaunchCmdDeleteRecord</code></a> launch codes.</p>
<h4>
  <a name="993050"> </a>Declared In 
</h4>
<code>AppMgr.h<a name="993053"> </a></code><h4>
  <a name="993055"> </a>Prototype 
</h4>
<pre class="proto"><a name="993058"></a>typedef struct {
   uint32_t index;
   uint32_t destIndex;
   uint32_t uniqueID;
   MemHandle vObjectH;
} ImportExportRecordParamsType
</pre>
<pre class="proto"><a name="1002679"></a>typedef ImportExportRecordParamsType 
*ImportExportRecordParamsPtr;
</pre>
<h4>
  <a name="993060"> </a>Fields 
</h4>

<dl>
<dt><a name="993063"> </a><code>index</code></dt>
<dd><a name="1007781"> </a>Index of the database record to be exported, moved, or deleted, or <code>dmMaxRecordIndex</code> if the <code>uniqueID</code> field identifies the record. When importing, this value is ignored. This value is updated after the sublaunch.</dd>

<dt><a name="1027385"> </a><code>destIndex</code></dt>
<dd><a name="1027414"> </a>Index of the destination location for the record to be moved when the launch code is <a href="CmnLaunchCodes.html#1075165"><code>sysAppLaunchCmdMoveRecord</code></a>.</dd>

<dt><a name="993067"> </a><code>uniqueID</code></dt>
<dd><a name="1015693"> </a>The record's unique ID. This field is ignored unless the <code>index</code> field is set to <code>dmMaxRecordIndex</code>. When importing, if this field is set to a valid record unique ID (other than <code>dmUnusedRecordID</code>) the imported record should replace the one specified.</dd>

<dt><a name="993071"> </a><code>vObjectH</code></dt>
<dd><a name="1007981"> </a>Memory handle for the location that contains the record being exported or the location where the record being imported is to be stored.</dd>

</dl>

<h3 class="hbH3">
  <a name="993080"> </a>SysAppLaunchCmdCardType Struct <a href="#1005234"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="993085"> </a>Purpose 
</h4>

<p><a name="993088"> </a>Parameter block that accompanies a <a href="CmnLaunchCodes.html#993894"><code>sysAppLaunchCmdCardLaunch</code></a> launch code.</p>
<h4>
  <a name="993090"> </a>Declared In 
</h4>
<code>AppMgr.h<a name="993093"> </a></code><h4>
  <a name="993095"> </a>Prototype 
</h4>
<pre class="proto"><a name="993098"></a>typedef struct {
   status_t err;
   uint16_t volRefNum;
   uint16_t _reserved1;
   const char *path;
   uint16_t startFlags;
   uint16_t padding;
} SysAppLaunchCmdCardType
</pre>
<h4>
  <a name="993116"> </a>Fields 
</h4>

<dl>
<dt><a name="993167"> </a><code>&larr;  <i>err</i></code></dt>
<dd><a name="993217"> </a>Initially set to <code>expErrUnsupportedOperation</code>, applications that recognize <code>sysAppLaunchCmdCardLaunch</code> and that don't want to receive the subsequent <a href="CmnLaunchCodes.html#994023"><code>sysAppLaunchCmdNormalLaunch</code></a> launch code should set this field to <code>errNone</code>.</dd>

<dt><a name="993267"> </a><code>&rarr;  <i>volRefNum</i></code></dt>
<dd><a name="993317"> </a>The reference number of the volume from which the application is being launched.</dd>

<dt><a name="993319"> </a><code>_reserved1</code></dt>
<dd><a name="993321"> </a>Reserved for future use.</dd>

<dt><a name="993323"> </a><code>&rarr;  <i>path</i></code></dt>
<dd><a name="993325"> </a>The complete path to the application being launched.</dd>

<dt><a name="993327"> </a><code>&harr;  <i>startFlags</i></code></dt>
<dd><a name="993329"> </a>A combination of the flags listed under <a href="AppMgr.html#1003373">"Expansion Card Launch Flags."</a></dd>

<dt><a name="993331"> </a><code>padding</code></dt>
<dd><a name="993333"> </a>Padding bytes.</dd>

</dl>

<h3 class="hbH3">
  <a name="993340"> </a>SysAppLaunchCmdFailedAppNotifyType Struct <a href="#1005234"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="993345"> </a>Purpose 
</h4>

<p><a name="993348"> </a>Parameter block that accompanies a <a href="CmnLaunchCodes.html#1015584"><code>sysAppLaunchCmdFailedAppNotify</code></a> launch code. This structure identifies both the failed application and the reason for failure.</p>
<h4>
  <a name="993350"> </a>Declared In 
</h4>
<code>AppMgr.h<a name="993353"> </a></code><h4>
  <a name="993355"> </a>Prototype 
</h4>
<pre class="proto"><a name="993358"></a>typedef struct {
   uint32_t creator;
   uint32_t type;
   status_t result;
} SysAppLaunchCmdFailedAppNotifyType
</pre>
<h4>
  <a name="993376"> </a>Fields 
</h4>

<dl>
<dt><a name="993429"> </a><code>creator</code></dt>
<dd><a name="993485"> </a>The failed application's creator ID.</dd>

<dt><a name="993543"> </a><code>type</code></dt>
<dd><a name="993601"> </a>The failed application's type.</dd>

<dt><a name="993603"> </a><code>result</code></dt>
<dd><a name="993605"> </a>The error code returned from the failed application.</dd>

</dl>

<h3 class="hbH3">
  <a name="993612"> </a>SysAppLaunchCmdHandleSyncCallAppType Struct <a href="#1005234"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="993617"> </a>Purpose 
</h4>

<p><a name="1004817"> </a>Parameter block that accompanies a <a href="CmnLaunchCodes.html#993902"><code>sysAppLaunchCmdHandleSyncCallApp</code></a> launch code. This structure contains all of the information passed to <code>SyncCallRemoteModule()</code> on the desktop plus the fields needed to pass the result back to the desktop.</p>
<h4>
  <a name="993622"> </a>Declared In 
</h4>
<code>AppMgr.h<a name="993625"> </a></code><h4>
  <a name="993627"> </a>Prototype 
</h4>
<pre class="proto"><a name="993630"></a>typedef struct 
SysAppLaunchCmdHandleSyncCallAppType {
   uint16_t pbSize;
   uint16_t action;
   void *paramP;
   uint32_t dwParamSize;
   void *dlRefP;
   Boolean handled;
   uint8_t _reserved1;
   uint16_t _reserved2;
   status_t replyErr;
   uint32_t dwReserved1;
   uint32_t dwReserved2;
} SysAppLaunchCmdHandleSyncCallAppType
</pre>
<h4>
  <a name="993648"> </a>Fields 
</h4>

<dl>
<dt><a name="993701"> </a><code>pbSize</code></dt>
<dd><a name="993757"> </a>Size, in bytes, of this parameter block. Set to <code>sizeof(SysAppLaunchCmdHandleSyncCallAppType)</code>.</dd>

<dt><a name="993815"> </a><code>action</code></dt>
<dd><a name="993873"> </a>Call action ID (application-specific).</dd>

<dt><a name="993875"> </a><code>paramP</code></dt>
<dd><a name="993877"> </a>Pointer to parameter block (call action ID specific).</dd>

<dt><a name="993879"> </a><code>dwParamSize</code></dt>
<dd><a name="993881"> </a>Parameter block size, in bytes.</dd>

<dt><a name="993883"> </a><code>dlRefP</code></dt>
<dd><a name="993885"> </a>DesktopLink reference pointer. Supply this value in the <a href="../System_Management/DLServer.html#992950"><code>DlkCallAppReplyParamType</code></a> structure when calling <a href="../System_Management/DLServer.html#993269"><code>DlkControl()</code></a> with the <code>dlkCtlSendCallAppReply</code> control code.</dd>

<dt><a name="993887"> </a><code>handled</code></dt>
<dd><a name="993889"> </a>Initialized to <code>false</code> by DLServer; if handled, your application must set it to <code>true</code> (and your handler the handler must call <code>DlkControl</code> with the <code>dlkCtlSendCallAppReply</code>control code). If your handler is not going to send a reply back to the conduit, leave this field set to <code>false</code>, in which case the DesktopLink Server will send the default "unknown request" reply.</dd>

<dt><a name="993891"> </a><code>_reserved1</code></dt>
<dd><a name="993893"> </a>Reserved. Set to <code>NULL</code>.</dd>

<dt><a name="993895"> </a><code>_reserved2</code></dt>
<dd><a name="1005148"> </a>Reserved. Set to <code>NULL</code>.</dd>

<dt><a name="993899"> </a><code>replyErr</code></dt>
<dd><a name="993901"> </a>Error code returned from the call to <a href="../System_Management/DLServer.html#993269"><code>DlkControl()</code></a> with the <code>dlkCtlSendCallAppReply</code> control code.</dd>

<dt><a name="993907"> </a><code>dwReserved1</code></dt>
<dd><a name="1005152"> </a>Reserved. Set to <code>NULL</code>.</dd>

<dt><a name="993911"> </a><code>dwReserved2</code></dt>
<dd><a name="1005156"> </a>Reserved. Set to <code>NULL</code>.</dd>

</dl>

<h3 class="hbH3">
  <a name="993920"> </a>SysAppLaunchCmdInitDatabaseType Struct <a href="#1005234"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="993925"> </a>Purpose 
</h4>

<p><a name="993928"> </a>Parameter block that accompanies a <a href="CmnLaunchCodes.html#994056"><code>sysAppLaunchCmdInitDatabase</code></a> launch code.</p>
<h4>
  <a name="993930"> </a>Declared In 
</h4>
<code>AppMgr.h<a name="993933"> </a></code><h4>
  <a name="993935"> </a>Prototype 
</h4>
<pre class="proto"><a name="993938"></a>typedef struct SysAppLaunchCmdInitDatabaseType {
   DmOpenRef dbP;
   uint32_t creator;
   uint32_t type;
   uint16_t version;
   uint16_t padding;
} SysAppLaunchCmdInitDatabaseType
</pre>
<h4>
  <a name="993940"> </a>Fields 
</h4>

<dl>
<dt><a name="993943"> </a><code>dbP</code></dt>
<dd><a name="1012143"> </a>Handle of the newly-created database, already open for read/write access.</dd>

<dt><a name="993947"> </a><code>creator</code></dt>
<dd><a name="993949"> </a>Creator ID of the newly-created database.</dd>

<dt><a name="993951"> </a><code>type</code></dt>
<dd><a name="993953"> </a>Type of the newly-created database.</dd>

<dt><a name="993955"> </a><code>version</code></dt>
<dd><a name="993957"> </a>Version number of the newly-created database.</dd>

<dt><a name="993959"> </a><code>padding</code></dt>
<dd><a name="993961"> </a>Padding bytes.</dd>

</dl>
<h4>
  <a name="993963"> </a>Comments 
</h4>

<div><hr>
  <a name="993966"> </a> <b>IMPORTANT: </b> The <code>sysAppLaunchCmdInitDatabase</code> launch code handler <i>must</i> leave the database handle open on return.
<hr>
</div>

<h3 class="hbH3">
  <a name="993968"> </a>SysAppLaunchCmdOpenDBType Struct <a href="#1005234"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="993973"> </a>Purpose 
</h4>

<p><a name="1012661"> </a>Parameter block that accompanies a <a href="CmnLaunchCodes.html#994066"><code>sysAppLaunchCmdOpenDB</code></a> launch code.</p>
<h4>
  <a name="993978"> </a>Declared In 
</h4>
<code>AppMgr.h<a name="993981"> </a></code><h4>
  <a name="993983"> </a>Prototype 
</h4>
<pre class="proto"><a name="994012"></a>typedef struct {
   MemHandle dbH;
} SysAppLaunchCmdOpenDBType
</pre>
<h4>
  <a name="994068"> </a>Fields 
</h4>

<dl>
<dt><a name="994119"> </a><code>dbH</code></dt>
<dd><a name="994169"> </a>Handle to the database to open.</dd>

</dl>

<h3 class="hbH3">
  <a name="994272"> </a>SysAppLaunchCmdPnpsType Struct <a href="#1005234"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="994277"> </a>Purpose 
</h4>

<p><a name="1014357"> </a>Parameter block that accompanies a <a href="CmnLaunchCodes.html#994073"><code>sysAppLaunchPnpsPreLaunch</code></a> launch code.</p>
<h4>
  <a name="994282"> </a>Declared In 
</h4>
<code>AppMgr.h<a name="994285"> </a></code><h4>
  <a name="994287"> </a>Prototype 
</h4>
<pre class="proto"><a name="994290"></a>typedef struct {
   status_t error;
   uint16_t volRefNum;
   uint16_t slotLibRefNum;
   uint16_t slotRefNum;
   uint16_t _reserved1;
} SysAppLaunchCmdPnpsType
</pre>
<h4>
  <a name="994292"> </a>Fields 
</h4>

<dl>
<dt><a name="1013078"> </a><code>error</code></dt>
<dd><a name="1013079"> </a>Error code returned from the pre-launch application. Set this field <code>errNone</code> to prevent the application from receiving a <a href="CmnLaunchCodes.html#994023"><code>sysAppLaunchCmdNormalLaunch</code></a> launch code.</dd>

<dt><a name="1013080"> </a><code>volRefNum</code></dt>
<dd><a name="994301"> </a>Volume reference number, or zero if a file system wasn't mounted.</dd>

<dt><a name="994303"> </a><code>slotLibRefNum</code></dt>
<dd><a name="994305"> </a>Slot driver library reference number. This field is always valid for a slot driver call.</dd>

<dt><a name="994307"> </a><code>slotRefNum</code></dt>
<dd><a name="994309"> </a>Slot reference number. This field is always valid for a slot driver call.</dd>

<dt><a name="994311"> </a><code>_reserved1</code></dt>
<dd><a name="994313"> </a>Reserved for future use.</dd>

</dl>

<h3 class="hbH3">
  <a name="994320"> </a>SysAppLaunchCmdSaveDataType Struct <a href="#1005234"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="994329"> </a>Purpose 
</h4>

<p><a name="1014463"> </a>Parameter block that accompanies a <a href="CmnLaunchCodes.html#994125"><code>sysAppLaunchCmdSaveData</code></a> launch code.</p>
<h4>
  <a name="994334"> </a>Declared In 
</h4>
<code>AppMgr.h<a name="994337"> </a></code><h4>
  <a name="994339"> </a>Prototype 
</h4>
<pre class="proto"><a name="994342"></a>typedef struct {
   Boolean uiComing;
   uint8_t reserved1;
} SysAppLaunchCmdSaveDataType
</pre>
<h4>
  <a name="994344"> </a>Fields 
</h4>

<dl>
<dt><a name="994347"> </a><code>uiComing</code></dt>
<dd><a name="994349"> </a><code>true</code> if the system dialog is displayed before launch code arrives.</dd>

<dt><a name="994351"> </a><code>reserved1</code></dt>
<dd><a name="994353"> </a>Reserved for future use. </dd>

</dl>

<h3 class="hbH3">
  <a name="994360"> </a>SysAppLaunchCmdSyncCallApplicationTypeV10 Struct <a href="#1005234"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="994365"> </a>Purpose 
</h4>

<p><a name="994368"> </a></p>
<h4>
  <a name="994370"> </a>Declared In 
</h4>
<code>AppMgr.h<a name="994373"> </a></code><h4>
  <a name="994375"> </a>Prototype 
</h4>
<pre class="proto"><a name="994378"></a>typedef struct 
SysAppLaunchCmdSyncCallApplicationTypeV10 {
   uint16_t action;
   uint16_t paramSize;
   void *paramP;
   uint8_t remoteSocket;
   uint8_t tid;
   Boolean handled;
   uint8_t reserved1;
} SysAppLaunchCmdSyncCallApplicationTypeV10
</pre>
<h4>
  <a name="994380"> </a>Fields 
</h4>

<dl>
<dt><a name="994383"> </a><code>action</code></dt>
<dd><a name="994385"> </a></dd>

<dt><a name="994387"> </a><code>paramSize</code></dt>
<dd><a name="994389"> </a></dd>

<dt><a name="994391"> </a><code>paramP</code></dt>
<dd><a name="994393"> </a></dd>

<dt><a name="994395"> </a><code>remoteSocket</code></dt>
<dd><a name="994401"> </a></dd>

<dt><a name="994403"> </a><code>tid</code></dt>
<dd><a name="994405"> </a></dd>

<dt><a name="994407"> </a><code>handled</code></dt>
<dd><a name="994409"> </a></dd>

<dt><a name="994411"> </a><code>reserved1</code></dt>
<dd><a name="994413"> </a></dd>

</dl>

<h3 class="hbH3">
  <a name="994420"> </a>SysAppLaunchCmdSystemResetType Struct <a href="#1005234"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="994425"> </a>Purpose 
</h4>

<p><a name="1014785"> </a>Parameter block that accompanies a <a href="CmnLaunchCodes.html#993896"><code>sysAppLaunchCmdSystemReset</code></a> launch code.</p>
<h4>
  <a name="994430"> </a>Declared In 
</h4>
<code>AppMgr.h<a name="994433"> </a></code><h4>
  <a name="994435"> </a>Prototype 
</h4>
<pre class="proto"><a name="994438"></a>typedef struct {
   Boolean hardReset;
   Boolean createDefaultDB;
} SysAppLaunchCmdSystemResetType
</pre>
<h4>
  <a name="994440"> </a>Fields 
</h4>

<dl>
<dt><a name="994443"> </a><code>hardReset</code></dt>
<dd><a name="994445"> </a><code>true</code> if system was hard reset. <code>false</code> if system was soft reset.</dd>

<dt><a name="994447"> </a><code>createDefaultDB</code></dt>
<dd><a name="994449"> </a>If <code>true</code>, application has to create default database.</dd>

</dl>

<h3 class="hbH3">
  <a name="1002310"> </a>PilotMainType Typedef <a href="#1005234"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1002312"> </a>Purpose 
</h4>

<p><a name="1002313"> </a>Type used to declare pointers to a <a href="AppMgr.html#994755"><code>PilotMain()</code></a> function.</p>
<h4>
  <a name="1002314"> </a>Declared In 
</h4>
<code>AppMgr.h<a name="1002315"> </a></code><h4>
  <a name="1002316"> </a>Prototype 
</h4>
<pre class="proto"><a name="1002317"></a>typedef uint32_t (PilotMainType) (uint16_t <code class="par">cmd</code>, 

void <code class="par">*cmdPBP</code>, uint16_t <code class="par">launchFlags</code>)


</pre>
<h4>
  <a name="1027783"> </a>See Also 
</h4>

<p><a name="1027809"> </a><a href="AppMgr.html#994755"><code>PilotMain()</code></a></p>

<h2 class="haH2">
  <a name="994456"> </a>Application Manager Constants <a href="#1005234"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="1003373"> </a>Expansion Card Launch Flags <a href="#1005234"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1004092"> </a>Purpose 
</h4>

<p><a name="1004151"> </a>Used in combination to specify how <a href="CmnLaunchCodes.html#993894"><code>sysAppLaunchCmdCardLaunch</code></a> is to operate. Supply one or more of these flags to the <code>startFlags</code> field of the <a href="AppMgr.html#993080"><code>SysAppLaunchCmdCardType</code></a> structure that accompanies the launch code.</p>
<h4>
  <a name="1004200"> </a>Declared In 
</h4>
<code>AppMgr.h<a name="1004235"> </a></code><h4>
  <a name="1004280"> </a>Constants 
</h4>

<dl>
<dt><a name="1004444"> </a><code>#define sysAppLaunchStartFlagAutoStart 0x0001</code></dt>
<dd><a name="1004445"> </a>Indicates that the application is being run automatically upon card insertion.</dd>

<dt><a name="1004447"> </a><code>#define sysAppLaunchStartFlagNoAutoDelete 0x0004</code></dt>
<dd><a name="1011318"> </a>Prevents the VFS Manager from deleting the copy of the application in main memory when the associated volume is unmounted.</dd>

<dt><a name="1004450"> </a><code>#define sysAppLaunchStartFlagNoUISwitch 0x0002</code></dt>
<dd><a name="1011862"> </a>Prevents a UI switch to the auto-launched application.</dd>

</dl>

<h3 class="hbH3">
  <a name="1008431"> </a>Launch Preference Flags <a href="#1005234"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1008494"> </a>Purpose 
</h4>

<p><a name="1008711"> </a>Flags that control how an ARM application is launched. These flags can be used in combination to make up the value of the <a href="AppMgr.html#992950"><code>ARMAppLaunchPrefsType</code></a> structure's <code>flags</code> field.</p>
<h4>
  <a name="1008775"> </a>Declared In 
</h4>
<code>AppMgr.h<a name="1008827"> </a></code><h4>
  <a name="1008843"> </a>Constants 
</h4>

<dl>
<dt><a name="1008991"> </a><code>#define ARMAppLaunchPrefsFindNotification 0x02</code></dt>
<dd><a name="1009530"> </a>If set, the application is a sent a <a href="CmnLaunchCodes.html#1002516"><code>sysAppLaunchCmdFind</code></a> launch code upon launch.</dd>

<dt><a name="1027444"> </a><code>#define ARMAppLaunchPrefsNoOverlay 0x20</code></dt>
<dd><a name="1027471"> </a> </dd>

<dt><a name="1009174"> </a><code>#define ARMAppLaunchPrefsResetNotification 0x01</code></dt>
<dd><a name="1009401"> </a>If set, the application is a sent a <a href="CmnLaunchCodes.html#993896"><code>sysAppLaunchCmdSystemReset</code></a> launch code upon launch.</dd>

<dt><a name="1009177"> </a><code>#define ARMAppLaunchPrefsTimeChangeNotification 0x04</code></dt>
<dd><a name="1009503"> </a>If set, the application is a sent a <a href="CmnLaunchCodes.html#1005925"><code>sysAppLaunchCmdTimeChange</code></a> launch code upon launch.</dd>

<dt><a name="1009576"> </a><code>#define ARMAppLaunchPrefsReserved 0xffffffd8</code></dt>
<dd><a name="1009577"> </a>Reserved flag bits. The corresponding bits in the <a href="AppMgr.html#992950"><code>ARMAppLaunchPrefsType</code></a> structure's <code>flags</code> field must be set to zero.</dd>

</dl>

<h3 class="hbH3">
  <a name="994543"> </a>Launch Preferences Structure Versions <a href="#1005234"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="994545"> </a>Purpose 
</h4>

<p><a name="994548"> </a>Identify the version of the <a href="AppMgr.html#992950"><code>ARMAppLaunchPrefsType</code></a> structure. That structure's <code>version</code> field should contain one of these values.</p>
<h4>
  <a name="994550"> </a>Declared In 
</h4>
<code>AppMgr.h<a name="994553"> </a></code><h4>
  <a name="994555"> </a>Constants 
</h4>

<dl>
<dt><a name="994578"> </a><code>#define ARMAppLaunchPrefsTypeVersion60 1</code></dt>
<dd><a name="994580"> </a>The first version of the structure as defined in Palm OS Cobalt, version 6.0.</dd>

<dt><a name="994582"> </a><code>#define ARMAppLaunchPrefsTypeVersionCurrent ARMAppLaunchPrefsTypeVersion60</code></dt>
<dd><a name="994584"> </a>The current version of the structure.</dd>

</dl>

<h3 class="hbH3">
  <a name="1027499"> </a>Miscellaneous Application Manager Constants <a href="#1005234"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1027534"> </a>Purpose 
</h4>

<p><a name="1027536"> </a>The Application Manager header file also defines these constants.</p>
<h4>
  <a name="1027538"> </a>Declared In 
</h4>
<code>AppMgr.h<a name="1027540"> </a></code><h4>
  <a name="1027542"> </a>Constants 
</h4>

<dl>
<dt><a name="1027544"> </a><code>#define ImpExpInvalidRecIndex 0xFFFFFFFF</code></dt>
<dd><a name="1027550"> </a> </dd>

<dt><a name="1027547"> </a><code>#define ImpExpInvalidUniqueID dmUnusedRecordID</code></dt>
<dd><a name="1027548"> </a> </dd>

</dl>

<h2 class="haH2">
  <a name="994679"> </a>Application Manager Functions and Macros <a href="#1005234"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="994755"> </a>PilotMain Function <a href="#1005234"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="994781"> </a>Purpose 
</h4>

<p><a name="994802"> </a>The entry point for all Palm OS applications, this function's sole purpose is to receive and respond to launch codes.</p>
<h4>
  <a name="994826"> </a>Declared In 
</h4>
<code>AppMgr.h<a name="994853"> </a></code><h4>
  <a name="994879"> </a>Prototype 
</h4>
<pre class="proto"><a name="994906"></a>uint32_t PilotMain (
   uint16_t <code class="par">cmd</code>,
   void <code class="par">*cmdPBP</code>,
   uint16_t <code class="par">launchFlags</code>
)
</pre>
<h4>
  <a name="994944"> </a>Parameters 
</h4>

<dl>
<dt><a name="994971"> </a><code>&rarr;  <i>cmd</i></code></dt>
<dd><a name="994997"> </a>The launch code to which your application is to respond. See <a href="CmnLaunchCodes.html#992934">Chapter 6, "Common Launch Codes,"</a> for a list of predefined launch codes. You may create additional launch codes; see <a href="AppStartAndStop.html#972075">"Creating Your Own Launch Codes."</a></dd>

<dt><a name="995023"> </a><code>&rarr;  <i>cmdPBP</i></code></dt>
<dd><a name="995049"> </a>A pointer to a structure containing any launch-command-specific parameters, or <code>NULL</code> if the launch code has none. See the description of each launch code for a description of the parameter structure that accompanies it, if any.</dd>

<dt><a name="995051"> </a><code>&rarr;  <i>launchFlags</i></code></dt>
<dd><a name="995053"> </a>Flags that indicate whether your application's global variables are available, whether your application is now the active application, whether it already was the active application, and so on. See <a href="CmnLaunchCodes.html#993791">"Launch Flags"</a> for a list of launch flags.</dd>

</dl>
<h4>
  <a name="995055"> </a>Returns 
</h4>

<p><a name="995058"> </a>Return <code>errNone</code> if your application processed the launch code successfully, or an appropriate error code if there was a problem. When another application invokes your application using <a href="AppMgr.html#995070"><code>SysAppLaunch()</code></a>, this value is returned to the caller.</p>
<h4>
  <a name="995060"> </a>Comments 
</h4>

<p><a name="995063"> </a>See <a href="AppStartAndStop.html#971704">Chapter 2, "Application Start and Stop,"</a> for a discussion on how applications receive and handle launch codes, with examples.</p>

<h3 class="hbH3">
  <a name="995070"> </a>SysAppLaunch Function <a href="#1005234"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="995075"> </a>Purpose 
</h4>

<p><a name="995078"> </a>Launch an application as a subroutine of the caller in the caller's process (irrespective of whether or not the application being launched is already running in another process).</p>

<div><hr>
  <a name="1027036"> </a> <b>NOTE: </b> Applications should avoid this function; they should use <a href="AppMgr.html#998122"><code>SysAppLaunchLocal()</code></a> or <a href="AppMgr.html#995186"><code>SysAppLaunchRemote()</code></a> instead.
<hr>
</div>
<h4>
  <a name="995080"> </a>Declared In 
</h4>
<code>AppMgr.h<a name="995083"> </a></code><h4>
  <a name="995085"> </a>Prototype 
</h4>
<pre class="proto"><a name="995088"></a>status_t SysAppLaunch (
   DatabaseID <code class="par">dbID</code>,
   uint16_t <code class="par">cmd</code>,
   void *<code class="par">cmdPBP</code>,
   uint32_t <code class="par">*resultP</code>
)
</pre>
<h4>
  <a name="995090"> </a>Parameters 
</h4>

<dl>
<dt><a name="995093"> </a><code>&rarr;  <i>dbID</i></code></dt>
<dd><a name="995095"> </a>The database ID of the resource database containing the application to launch. </dd>

<dt><a name="995097"> </a><code>&rarr;  <i>cmd</i></code></dt>
<dd><a name="1018833"> </a>Launch code passed to the launched application's <a href="AppMgr.html#994755"><code>PilotMain()</code></a> function.</dd>

<dt><a name="995101"> </a><code>&rarr;  <i>cmdPBP</i></code></dt>
<dd><a name="995103"> </a>Pointer to the launch code parameter block.</dd>

<dt><a name="995109"> </a><code>&larr;  <i>resultP</i></code></dt>
<dd><a name="995111"> </a>The value returned from the application's <a href="AppMgr.html#994755"><code>PilotMain()</code></a> routine.</dd>

</dl>
<h4>
  <a name="995113"> </a>Returns 
</h4>

<p><a name="995116"> </a>Returns <code>errNone</code> if the application was launched successfully.</p>
<h4>
  <a name="995118"> </a>Comments 
</h4>

<p><a name="999428"> </a>Applications can use <code>SysAppLaunch()</code> to send a specific launch code to another application and have control return to the calling application when finished. This function in effect makes the specified application a subroutine of the caller. If you want to actually close your application and call another application, use <a href="AppMgr.html#996594"><code>SysUIAppSwitch()</code></a> instead of this function. <code>SysUIAppSwitch()</code> sends the current application an <code>appStopEvent</code> and then starts the specified application. </p>

<p><a name="999432"> </a>Do not use this function to open the system-supplied Launcher application. If another application has replaced the default launcher with one of its own, this function will open the custom launcher instead of the system-supplied one.  To open the Launcher reliably, enqueue a <code>keyDownEvent</code> that contains a <code>launchChr</code>.</p>

<p><a name="1019318"> </a>You can call this function only in the context of the main UI application thread. To invoke the <code>PilotMain()</code> procedure of any application in the context of another thread, use <a href="../System_Management/Loader.html#1026808"><code>SysLoadModule()</code></a> and <a href="../System_Management/Loader.html#993446"><code>SysGetEntryAddresses()</code></a> instead.</p>

<p><a name="1019319"> </a>If the target application happens to be the same as the root application of the calling process, the target application's <code>PilotMain()</code> is re-entered in the context of the calling thread. In this case the <code>sysAppLaunchFlagSubCall</code> launch flag is set.</p>

<p><a name="1019735"> </a>Before the <code>PilotMain()</code> procedure of the target application is entered, the database of the target application is opened and added to the default resource search chain. After the target application's <code>PilotMain()</code> exits, that database is closed. If the closing causes the open count of the database to become zero, the database is removed from the default resource search chain.</p>

<div><hr>
  <a name="999439"> </a> <b>NOTE: </b> For important information regarding the correct use of this function, see <a href="AppStartAndStop.html#971704">Chapter 2, "Application Start and Stop."</a>
<hr>
</div>
<h4>
  <a name="995123"> </a>See Also 
</h4>

<p><a name="995126"> </a><a href="AppMgr.html#995594"><code>SysBroadcastActionCode()</code></a>, <a href="AppMgr.html#996594"><code>SysUIAppSwitch()</code></a>, <a href="AppMgr.html#995640"><code>SysCurAppDatabase()</code></a> </p>

<h3 class="hbH3">
  <a name="998122"> </a>SysAppLaunchLocal Function <a href="#1005234"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="998211"> </a>Purpose 
</h4>

<p><a name="998974"> </a>Launch an application as a subroutine of the caller in the caller's process, unless the application is already running in another process. If the application is already running in another process the launch code and parameters are sent to the running application.</p>
<h4>
  <a name="998439"> </a>Declared In 
</h4>
<code>AppMgr.h<a name="998550"> </a></code><h4>
  <a name="998651"> </a>Prototype 
</h4>
<pre class="proto"><a name="998127"></a>status_t SysAppLaunchLocal (
   DatabaseID <code class="par">dbID</code>,
   uint16_t <code class="par">cmd</code>,
   void *<code class="par">cmdPBP</code>,
   uint32_t <code class="par">cmdPBSize</code>,
   uint32_t <code class="par">*resultP</code>
)
</pre>
<h4>
  <a name="998862"> </a>Parameters 
</h4>

<dl>
<dt><a name="998863"> </a><code>&rarr;  <i>dbID</i></code></dt>
<dd><a name="1017696"> </a>The database ID of the resource database containing the application to launch. </dd>

<dt><a name="998865"> </a><code>&rarr;  <i>cmd</i></code></dt>
<dd><a name="1018815"> </a>Launch code passed to the launched application's <a href="AppMgr.html#994755"><code>PilotMain()</code></a> function.</dd>

<dt><a name="998867"> </a><code>&rarr;  <i>cmdPBP</i></code></dt>
<dd><a name="1017752"> </a>Pointer to the launch code parameter block.</dd>

<dt><a name="998869"> </a><code>&rarr;  <i>cmdPBSize</i></code></dt>
<dd><a name="1017902"> </a>Size, in bytes, of the launch code parameter block.</dd>

<dt><a name="998871"> </a><code>&larr;  <i>resultP</i></code></dt>
<dd><a name="1017981"> </a>The value returned from the application's <a href="AppMgr.html#994755"><code>PilotMain()</code></a> routine.</dd>

</dl>
<h4>
  <a name="998873"> </a>Returns 
</h4>

<p><a name="1022570"> </a>Returns <code>errNone</code> if the application was launched successfully.</p>
<h4>
  <a name="998875"> </a>Comments 
</h4>

<p><a name="998876"> </a>A local sublaunch becomes a local subroutine invocation in the same process.</p>
<h4>
  <a name="998877"> </a>See Also 
</h4>

<p><a name="998878"> </a><a href="AppMgr.html#995070"><code>SysAppLaunch()</code></a>, <a href="AppMgr.html#995186"><code>SysAppLaunchRemote()</code></a></p>

<h3 class="hbH3">
  <a name="995186"> </a>SysAppLaunchRemote Function <a href="#1005234"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="995191"> </a>Purpose 
</h4>

<p><a name="1017035"> </a>Launch an application as a subroutine of the caller in a separate, newly-created process, unless the application is already running in another process. If the application is already running in another process the launch code and parameters are sent to the running application.. Remote launching allows applications to execute untrusted code without compromising their own security.</p>
<h4>
  <a name="995196"> </a>Declared In 
</h4>
<code>AppMgr.h<a name="995213"> </a></code><h4>
  <a name="995233"> </a>Prototype 
</h4>
<pre class="proto"><a name="995270"></a>status_t SysAppLaunchRemote (
   DatabaseID <code class="par">dbID</code>,
   uint16_t <code class="par">cmd</code>,
   void *<code class="par">cmdPBP</code>,
   uint32_t <code class="par">cmdPBSize</code>,
   uint32_t <code class="par">*resultP</code>
)
</pre>
<h4>
  <a name="995330"> </a>Parameters 
</h4>

<dl>
<dt><a name="995373"> </a><code>&rarr;  <i>dbID</i></code></dt>
<dd><a name="1017700"> </a>The database ID of the resource database containing the application to launch. </dd>

<dt><a name="995457"> </a><code>&rarr;  <i>cmd</i></code></dt>
<dd><a name="1017616"> </a>Launch code passed to the launched application's <a href="AppMgr.html#994755"><code>PilotMain()</code></a> function.</dd>

<dt><a name="995501"> </a><code>&rarr;  <i>cmdPBP</i></code></dt>
<dd><a name="1021947"> </a>Pointer to the launch code parameter block. If <code class="par">cmdPBSize</code> is non-zero, <code class="par">cmdPBP</code> is interpreted as the address of a block of memory whose size is <code class="par">cmdPBSize</code> bytes. If the target application is started in a separate transient process, the contents of that memory block are copied to the transient process, and the address of that copy is passed to the target application's <code>PilotMain()</code> procedure as the <code class="par">cmdPBP</code> parameter.</dd>

<dd><a name="1021948"> </a>If <code class="par">cmdPBSize</code> is zero, the value of <code class="par">cmdPBP</code> is passed as-is to the target application's <code>PilotMain()</code> procedure as the <code class="par">cmdPBP</code> parameter. No memory is copied even if the target application is started in a separate process.</dd>

<dt><a name="1021949"> </a><code>&rarr;  <i>cmdPBSize</i></code></dt>
<dd><a name="1021950"> </a>Size, in bytes, of the launch code parameter block, or zero if the <code class="par">cmdPBP</code> parameter is to be passed as-is to the launched application's <code>PilotMain()</code> function.</dd>

<dt><a name="995509"> </a><code>&larr;  <i>resultP</i></code></dt>
<dd><a name="1018060"> </a>The value returned from the application's <a href="AppMgr.html#994755"><code>PilotMain()</code></a> function.</dd>

</dl>
<h4>
  <a name="995513"> </a>Returns 
</h4>

<p><a name="1022588"> </a>Returns <code>errNone</code> if the application was launched successfully.</p>
<h4>
  <a name="995518"> </a>Comments 
</h4>

<p><a name="995521"> </a>This function creates a separate transient process in which to execute the target application, unless the target application happens to be the same as the root application of the calling process&#8212;in which case <code>SysAppLaunchRemote()</code> simply performs a local sublaunch as <a href="AppMgr.html#995070"><code>SysAppLaunch()</code></a> does.</p>
<h4>
  <a name="995523"> </a>See Also 
</h4>

<p><a name="995526"> </a><a href="AppMgr.html#995070"><code>SysAppLaunch()</code></a>, <a href="AppMgr.html#998122"><code>SysAppLaunchLocal()</code></a></p>

<h3 class="hbH3">
  <a name="995528"> </a>SysAppLaunchV40 Function <a href="#1005234"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="995533"> </a>Purpose 
</h4>

<p><a name="995536"> </a>Launch a specified application as a subroutine of the caller.</p>
<h4>
  <a name="995538"> </a>Declared In 
</h4>
<code>AppMgr.h<a name="995541"> </a></code><h4>
  <a name="995543"> </a>Prototype 
</h4>
<pre class="proto"><a name="995546"></a>status_t SysAppLaunchV40 (
   uint16_t <code class="par">cardNo</code>,
   LocalID <code class="par">dbID</code>,
   uint16_t <code class="par">launchFlags</code>,
   uint16_t <code class="par">cmd</code>,
   MemPtr <code class="par">cmdPBP</code>,
   uint32_t <code class="par">*resultP</code>
)
</pre>
<h4>
  <a name="995548"> </a>Parameters 
</h4>

<dl>
<dt><a name="995551"> </a><code>&rarr;  <i>cardNo</i></code></dt>
<dd><a name="995553"> </a>The card number of the resource database containing the application to launch. </dd>

<dt><a name="995555"> </a><code>&rarr;  <i>dbID</i></code></dt>
<dd><a name="995557"> </a>The local ID of the resource database containing the application to launch. </dd>

<dt><a name="995563"> </a><code>&rarr;  <i>launchFlags</i></code></dt>
<dd><a name="995565"> </a>Set to 0.</dd>

<dt><a name="995567"> </a><code>&rarr;  <i>cmd</i></code></dt>
<dd><a name="995569"> </a>Launch code.</dd>

<dt><a name="995571"> </a><code>&rarr;  <i>cmdPBP</i></code></dt>
<dd><a name="995573"> </a>Launch code parameter block.</dd>

<dt><a name="995575"> </a><code>&larr;  <i>resultP</i></code></dt>
<dd><a name="995577"> </a>The value returned from the application's <a href="AppMgr.html#994755"><code>PilotMain()</code></a> routine.</dd>

</dl>
<h4>
  <a name="995579"> </a>Returns 
</h4>

<p><a name="1000554"> </a>Returns <code>errNone</code> if no error, or one of <code>sysErrParamErr</code>, <code>memErrNotEnoughSpace</code>, or <code>sysErrOutOfOwnerIDs</code>.</p>
<h4>
  <a name="1000556"> </a>Comments 
</h4>

<p><a name="1000558"> </a>Applications can use <code>SysAppLaunch()</code> to send a specific launch code to another application and have control return to the calling application when finished. This function in effect makes the specified application a subroutine of the caller. If you want to actually close your application and call another application, use <a href="AppMgr.html#996594"><code>SysUIAppSwitch()</code></a> instead of this function. <code>SysUIAppSwitch()</code> sends the current application an <code>appStopEvent</code> and then starts the specified application. </p>

<p><a name="1000562"> </a>Do not use this function to open the system-supplied Application Launcher application. If another application has replaced the default launcher with one of its own, this function will open the custom launcher instead of the system-supplied one. To open the system-supplied launcher reliably, enqueue a <code>keyDownEvent</code> that contains a <code>launchChr</code>.</p>

<div><hr>
  <a name="1000569"> </a> <b>NOTE: </b> For important information regarding the correct use of this function, see <a href="AppStartAndStop.html#971704">Chapter 2, "Application Start and Stop."</a>
<hr>
</div>
<h4>
  <a name="1005889"> </a>Compatibility 
</h4>

<p><a name="1005932"> </a>This function is provided for compatibility purposes only. Applications should use <a href="AppMgr.html#995070"><code>SysAppLaunch()</code></a> instead.</p>
<h4>
  <a name="1000576"> </a>See Also 
</h4>

<p><a name="1000583"> </a><a href="AppMgr.html#995594"><code>SysBroadcastActionCode()</code></a>, <a href="AppMgr.html#996594"><code>SysUIAppSwitch()</code></a>, <a href="AppMgr.html#995640"><code>SysCurAppDatabase()</code></a> </p>

<h3 class="hbH3">
  <a name="995594"> </a>SysBroadcastActionCode Function <a href="#1005234"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="995599"> </a>Purpose 
</h4>

<p><a name="995602"> </a>Send the specified action code (launch code) and parameter block to the latest version of every UI application.</p>
<h4>
  <a name="995604"> </a>Declared In 
</h4>
<code>AppMgr.h<a name="995607"> </a></code><h4>
  <a name="995609"> </a>Prototype 
</h4>
<pre class="proto"><a name="995612"></a>status_t SysBroadcastActionCode (
   uint16_t <code class="par">cmd</code>,
   void <code class="par">*cmdPBP</code>
)
</pre>
<h4>
  <a name="995614"> </a>Parameters 
</h4>

<dl>
<dt><a name="995617"> </a><code>&rarr;  <i>cmd</i></code></dt>
<dd><a name="995619"> </a>Launch code to send.</dd>

<dt><a name="995621"> </a><code>&rarr;  <i>cmdPBP</i></code></dt>
<dd><a name="995623"> </a>Launch code parameter block to send.</dd>

</dl>
<h4>
  <a name="995625"> </a>Returns 
</h4>

<p><a name="995628"> </a>Returns <code>errNone</code> if no error, or one of the following errors: <code>sysErrParamErr</code>, <code>memErrNotEnoughSpace</code>, or <code>sysErrOutOfOwnerIDs</code>.</p>
<h4>
  <a name="995635"> </a>See Also 
</h4>

<p><a name="995638"> </a><a href="AppMgr.html#995070"><code>SysAppLaunch()</code></a>, <a href="AppStartAndStop.html#971704">Chapter 2, "Application Start and Stop,"</a></p>

<h3 class="hbH3">
  <a name="995640"> </a>SysCurAppDatabase Function <a href="#1005234"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="995645"> </a>Purpose 
</h4>

<p><a name="995648"> </a>Get the database ID of the current application's resource database.</p>
<h4>
  <a name="995650"> </a>Declared In 
</h4>
<code>AppMgr.h<a name="995667"> </a></code><h4>
  <a name="995687"> </a>Prototype 
</h4>
<pre class="proto"><a name="995724"></a>status_t SysCurAppDatabase (
   DatabaseID <code class="par">*dbIDP</code>
)
</pre>
<h4>
  <a name="995764"> </a>Parameters 
</h4>

<dl>
<dt><a name="995807"> </a><code>&larr;  <i>dbIDP</i></code></dt>
<dd><a name="995849"> </a>Pointer to the location in memory where the database ID is to be written.</dd>

</dl>
<h4>
  <a name="995911"> </a>Returns 
</h4>

<p><a name="1001564"> </a>Returns <code>errNone</code> if no error, or <code>sysErrParamErr </code>if an error occurs.</p>
<h4>
  <a name="995961"> </a>See Also 
</h4>

<p><a name="995964"> </a><a href="AppMgr.html#995070"><code>SysAppLaunch()</code></a>, <a href="../System_Management/Loader.html#993500"><code>SysGetModuleDatabase()</code></a>, <a href="AppMgr.html#996594"><code>SysUIAppSwitch()</code></a></p>

<h3 class="hbH3">
  <a name="995966"> </a>SysCurAppDatabaseV40 Function <a href="#1005234"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="995971"> </a>Purpose 
</h4>

<p><a name="995974"> </a>Get the card number and database ID of the current application's resource database.</p>
<h4>
  <a name="995976"> </a>Declared In 
</h4>
<code>AppMgr.h<a name="995979"> </a></code><h4>
  <a name="995981"> </a>Prototype 
</h4>
<pre class="proto"><a name="995984"></a>status_t SysCurAppDatabaseV40 (
   uint16_t <code class="par">*cardNoP</code>,
   LocalID <code class="par">*dbIDP</code>
)
</pre>
<h4>
  <a name="995986"> </a>Parameters 
</h4>

<dl>
<dt><a name="995989"> </a><code>&larr;  <i>cardNoP</i></code></dt>
<dd><a name="1001376"> </a>Pointer to the location in memory where the card number is to be written.</dd>

<dt><a name="995993"> </a><code>&larr;  <i>dbIDP</i></code></dt>
<dd><a name="1001344"> </a>Pointer to the location in memory where the database ID is to be written.</dd>

</dl>
<h4>
  <a name="995997"> </a>Returns 
</h4>

<p><a name="996000"> </a>Returns <code>errNone</code> if no error, or <code>sysErrParamErr </code>if an error occurs.</p>
<h4>
  <a name="1027881"> </a>Compatibility 
</h4>

<p><a name="1027895"> </a>This function is provided for compatibility purposes only. Applications should use <a href="AppMgr.html#995640"><code>SysCurAppDatabase()</code></a> instead.</p>
<h4>
  <a name="996007"> </a>See Also 
</h4>

<p><a name="1001626"> </a><a href="AppMgr.html#995070"><code>SysAppLaunch()</code></a>, <a href="AppMgr.html#996594"><code>SysUIAppSwitch()</code></a></p>

<h3 class="hbH3">
  <a name="996268"> </a>SysGetStackInfo Function <a href="#1005234"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="996273"> </a>Purpose 
</h4>

<p><a name="996276"> </a>Locate the start and end of the current thread's stack.</p>
<h4>
  <a name="996278"> </a>Declared In 
</h4>
<code>AppMgr.h<a name="996281"> </a></code><h4>
  <a name="996283"> </a>Prototype 
</h4>
<pre class="proto"><a name="996286"></a>Boolean SysGetStackInfo (
   void <code class="par">**startPP</code>,
   void <code class="par">**endPP</code>
)
</pre>
<h4>
  <a name="996288"> </a>Parameters 
</h4>

<dl>
<dt><a name="996291"> </a><code>&larr;  <i>startPP</i></code></dt>
<dd><a name="996293"> </a>Upon return, points to the start of the stack.</dd>

<dt><a name="996295"> </a><code>&larr;  <i>endPP</i></code></dt>
<dd><a name="996297"> </a>Upon return, points to the end of the stack.</dd>

</dl>
<h4>
  <a name="996299"> </a>Returns 
</h4>

<p><a name="996302"> </a>Returns <code>true</code> if the stack has not overflowed, that is, the value of the stack overflow address has not been changed. Returns <code>false</code> if the stack overflow value has been overwritten, meaning that a stack overflow has occurred.</p>

<h3 class="hbH3">
  <a name="996554"> </a>SysReset Function <a href="#1005234"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="996559"> </a>Purpose 
</h4>

<p><a name="996562"> </a>Perform a soft reset and reinitialize the globals and the dynamic memory heap.</p>
<h4>
  <a name="996564"> </a>Declared In 
</h4>
<code>AppMgr.h<a name="996567"> </a></code><h4>
  <a name="996569"> </a>Prototype 
</h4>
<pre class="proto"><a name="996572"></a>void SysReset (
   void
)
</pre>
<h4>
  <a name="996574"> </a>Parameters 
</h4>

<p><a name="996577"> </a>None.</p>
<h4>
  <a name="996579"> </a>Returns 
</h4>

<p><a name="996582"> </a>Nothing.</p>
<h4>
  <a name="996584"> </a>Comments 
</h4>

<p><a name="1001897"> </a>This routine resets the system, reinitializes the globals area and all system managers, and reinitializes the dynamic heap. All database information is preserved. This routine is called when the user presses the reset switch on the device. </p>

<h3 class="hbH3">
  <a name="996594"> </a>SysUIAppSwitch Function <a href="#1005234"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="996599"> </a>Purpose 
</h4>

<p><a name="996602"> </a>Try to make the current UI application quit and then launch the UI application specified by database ID.</p>
<h4>
  <a name="996604"> </a>Declared In 
</h4>
<code>AppMgr.h<a name="996607"> </a></code><h4>
  <a name="996609"> </a>Prototype 
</h4>
<pre class="proto"><a name="996612"></a>status_t SysUIAppSwitch (
   DatabaseID <code class="par">dbID</code>,
   uint16_t <code class="par">cmd</code>,
   void *<code class="par">cmdPBP</code>,
   uint32_t <code class="par">cmdPBSize</code>
)
</pre>
<h4>
  <a name="996630"> </a>Parameters 
</h4>

<dl>
<dt><a name="1002105"> </a><code>&rarr;  <i>dbID</i></code></dt>
<dd><a name="1002106"> </a>Database ID of the new application's resource database.</dd>

<dt><a name="1002107"> </a><code>&rarr;  <i>cmd</i></code></dt>
<dd><a name="1002108"> </a>Launch code.</dd>

<dt><a name="1002109"> </a><code>&rarr;  <i>cmdPBP</i></code></dt>
<dd><a name="1002110"> </a>Pointer to the launch code parameter block, or <code>NULL</code> if you don't need to pass a parameter block to the application.</dd>

<dt><a name="996861"> </a><code>&rarr;  <i>cmdPBSize</i></code></dt>
<dd><a name="996863"> </a>Size, in bytes, of the parameter block pointed to by <code class="par">cmdPBP</code>.</dd>

</dl>
<h4>
  <a name="996865"> </a>Returns 
</h4>

<p><a name="996868"> </a>Returns <code>errNone</code> if the application switch was performed successfully.</p>
<h4>
  <a name="996870"> </a>Comments 
</h4>

<p><a name="1032447"> </a>When you launch an application using <code>SysUIAppSwitch()</code> you have the option to pass a parameter block (using the <code class="par">cmdPBP</code> parameter) containing application-specific information to the application being launched. To create this parameter block, allocate it using <a href="../Memory_Databases_Files/MemoryMgr.html#996040"><code>MemPtrNew()</code></a> and then call <a href="../Memory_Databases_Files/MemoryMgr.html#996617"><code>MemPtrSetOwner()</code></a> to set the block's owner ID to 0.  This assigns ownership of the block to the system; memory blocks owned by the system aren't automatically freed when the calling application exits. Once ownership of the block has been assigned to the system, neither the launching nor the launched application need worry about freeing the block since the operating system will do this itself after the launched application exits.</p>

<p><a name="1032454"> </a>Note that your parameter block must be self contained. That is, it must not have pointers to anything on the stack or to memory blocks that are owned by an application. If you don't need to pass a parameter block to the application being launched, pass <code>NULL</code> for the <code class="par">cmdPBP</code> parameter.</p>

<p><a name="1002150"> </a>Do not use <code>SysUIAppSwitch()</code> to open the system-supplied Application Launcher application. If a third-party launcher is installed, you'll likely want to launch that one instead. To do this, enqueue a <code>keyDownEvent</code> that contains a <code>launchChr</code>. This will run whatever is run whenever the user taps the Applications icon.</p>
<h4>
  <a name="996875"> </a>See Also 
</h4>

<p><a name="996878"> </a><a href="AppMgr.html#995070"><code>SysAppLaunch()</code></a>, <a href="AppStartAndStop.html#971704">Chapter 2, "Application Start and Stop,"</a></p>

<h3 class="hbH3">
  <a name="996880"> </a>SysUIAppSwitchV40 Function <a href="#1005234"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="996885"> </a>Purpose 
</h4>

<p><a name="1002093"> </a>Try to make the current UI application quit and then launch the UI application specified by card number and database ID.</p>
<h4>
  <a name="996890"> </a>Declared In 
</h4>
<code>AppMgr.h<a name="996893"> </a></code><h4>
  <a name="996895"> </a>Prototype 
</h4>
<pre class="proto"><a name="996898"></a>status_t SysUIAppSwitchV40 (
   uint16_t <code class="par">cardNo</code>,
   LocalID <code class="par">dbID</code>,
   uint16_t <code class="par">cmd</code>,
   MemPtr <code class="par">cmdPBP</code>
)
</pre>
<h4>
  <a name="996900"> </a>Parameters 
</h4>

<dl>
<dt><a name="1002023"> </a><code>&rarr;  <i>cardNo</i></code></dt>
<dd><a name="1002024"> </a>Card number for the new application; currently only card 0 is valid.</dd>

<dt><a name="1002025"> </a><code>&rarr;  <i>dbID</i></code></dt>
<dd><a name="996909"> </a>Local ID of the new application's resource database.</dd>

<dt><a name="996911"> </a><code>&rarr;  <i>cmd</i></code></dt>
<dd><a name="996913"> </a>Action code (launch code). </dd>

<dt><a name="996915"> </a><code>&rarr;  <i>cmdPBP</i></code></dt>
<dd><a name="996917"> </a>Action code (launch code) parameter block.</dd>

</dl>
<h4>
  <a name="996923"> </a>Returns 
</h4>

<p><a name="1002241"> </a>Returns <code>errNone</code> if the application switch was performed successfully.</p>
<h4>
  <a name="1002242"> </a>Comments 
</h4>

<p><a name="1002243"> </a>May display a fatal error message if the <code class="par">cardNo</code> parameter is invalid. On debug ROMs, displays a fatal error message if there is no currently running application.</p>

<p><a name="1002244"> </a>Do not use this function to open the system-supplied Application Launcher application. If a third-party launch is installed, you'll likely want to launch that one instead. To do this, enqueue a <code>keyDownEvent</code> that contains a <code>launchChr</code>. This will run whatever is run whenever you tap on the Applications icon.</p>

<p><a name="1002251"> </a>If you are passing a parameter block (the <code class="par">cmdPBP</code> parameter), you must set the owner of the parameter block chunk to the operating system. To do this, and for more information, see <a href="../Memory_Databases_Files/MemoryMgr.html#996617"><code>MemPtrSetOwner()</code></a>. If the parameter block structure contains references by pointer or handle to any other chunks, you also must set the owner of those chunks by using <a href="../Memory_Databases_Files/MemoryMgr.html#994727"><code>MemHandleSetOwner()</code></a> or <code>MemPtrSetOwner</code>. If you set the owner of this parameter block properly, the system maintains the parameter block and frees it when the second application quits. If you don't set the owner of the parameter block, the system frees the parameter block as soon as the calling application quits, causing unpredictable results. </p>
<h4>
  <a name="1027921"> </a>Compatibility 
</h4>

<p><a name="1027922"> </a>This function is provided for compatibility purposes only. Applications should use <a href="AppMgr.html#996594"><code>SysUIAppSwitch()</code></a> instead.</p>
<h4>
  <a name="1002258"> </a>See Also 
</h4>

<p><a name="1002265"> </a><a href="AppMgr.html#995070"><code>SysAppLaunch()</code></a>, <a href="AppStartAndStop.html#971704">Chapter 2, "Application Start and Stop,"</a></p>

<p><a name="992930"> </a></p>
&nbsp;<br>
</div>
<!--END CONTENT-->

</td>
<td width="5">&nbsp;&nbsp;</td>
</tr>

</table>

<!-- BEGIN FOOTER -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="7" rowspan="2"><img name="index_x" src="images/shim.gif" width="7" height="33" border="0" alt=""></td>
<td align="left"><img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
<td width="10" rowspan="2"><img name="index_x" src="images/shim.gif" width="10" height="33" border="0" alt=""></td>
</tr>
<tr>
<td align="center">
<p class="footer">
Copyright © 1996&#8211;2004, PalmSource, Inc. and its affiliates. All rights reserved.<br>
<a href="http://www.palmsource.com/contact/">Write Us</a> | <a href="http://www.palmos.com/dev/training/">Training</a> | <a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a> | <a href="ProgrammingBasics_Front.html" target="_blank">Legal</a></p>
<br>
<!--BEGIN BOOK NAVIGATION-->
<p class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="ProgrammingBasicsTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ProgrammingBasics_Part2.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="CmnLaunchCodes.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="ProgrammingBasicsIX.html">Index</a>
</p>
</td>
</tr>
</table>
<!-- END FOOTER -->

</body>
</html>