<html>
<head>
<title>(Protein) Localized Applications | Text and Localization </title> 
<link href="psi_devpubs.css" rel="stylesheet" type="text/css">

<!-- BEGIN META DATA -->
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META NAME="PSITEMPLATE" CONTENT="1006-007 PalmSource_HTML_2003 20041101">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks AutoMap 2003 for FrameMaker 8.0.6.2138">
<META NAME="LASTUPDATED" CONTENT="11/22/04 11:30:41">
<!-- END META DATA -->
</head>

<body bgcolor="#ffffff" text="#000000" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<a name="1053137"></a>

<!-- BEGIN TOPNAV -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td><img src="images/shim.gif" width="7" height="75" border="0" alt=""></td>
<td align="left"><table border="0" cellpadding="0" cellspacing="0" width="744">
<tr>
<td><img name="index_r2_c1" src="images/shim.gif" width="25" height="75" border="0" alt=""></td>
<td valign="top"><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_r2_c4" src="images/shim.gif" width="96" height="15" border="0" alt=""></td>
</tr>
<tr>
<td><a href="http://www.palmsource.com/"><img name="ps_logo" src="images/ps_logo.gif" width="96" height="54" border="0" alt=""></a></td>
</tr>

</table>
</td>

<td><table border="0" cellpadding="0" cellspacing="0" width="30">
<td><img name="index_x" src="images/shim.gif" width="30" height="75" border="0" alt=""></td>
</table></td>

<!--BEGIN MASTHEAD-->
<td><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
<tr>
<td>
<!--BEGIN BOOK NAVIGATION-->
<span class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="TextLocTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="FindConcept.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="TextLoc_PartRef.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="TextLocIX.html">Index</a>
</span>
<!--END BOOK NAVIGATION-->
</tr>
<tr>
<td>
<!--BEGIN PAGE TITLE-->
<h2 class="PageTitle">3 &nbsp;&nbsp;
Localized Applications</h2></td>
<!--END PAGE TITLE-->
</tr>
<tr>
<td>
<!--BEGIN BOOK TITLE-->
<p class="BookTitle">Text and Localization </p>
<p class="SubTitle">Exploring Palm OS&#174; </p>
<!--END BOOK TITLE-->
</td>
</tr>
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
</table>
</td>
<!--END MASTHEAD-->
</tr>
</table>
<img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
</tr>
</table>
<!-- END TOPNAV -->

<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" width="5"><img name="index_x" src="images/shim.gif" width="5" height="33" border="0" alt=""></td>

<!--BEGIN SIDETOC-->
<td valign="top" width="175">
<div id="sidetoc" valign="bottom">
<h1 class="SideTOC1-PartTab"><a href="TextLoc_PartConcept.html">Part I: Concepts</a> </h1>
<h1 class="SideTOC1"><a href="Localization.html">3  Localized Applications</a></h1>

   <h2 class="SideTOC2"><a href="#1053185">
   Localization Guidelines</a></h2>

   <h2 class="SideTOC2"><a href="#1058334">
   Locales</a></h2>

   <h2 class="SideTOC2"><a href="#1058227">
   Overlays</a></h2>

   <h2 class="SideTOC2"><a href="#1053254">
   Dates and Times</a></h2>

   <h2 class="SideTOC2"><a href="#1053351">
   Numbers</a></h2>

   <h2 class="SideTOC2"><a href="#1053393">
   Obtaining Locale Information</a></h2>

   <h2 class="SideTOC2"><a href="#1059368">
   Summary of Localization API</a></h2>

</div>
</td>

<td width="5">&nbsp;&nbsp;</td>
<td width="2" background="images/index_r8_c10.gif"><img src="images/shim.gif" width="2" height="75" border="0" alt=""></td>
<td width="5">&nbsp;&nbsp;</td>

<!--END SIDETOC-->

<td valign="top">

<!--BEGIN CONTENT-->
<div id="content" valign="bottom">
<p><a name="1057824"> </a>This chapter discusses these localization topics: </p>
   <blockquote class = "bq"><a name="1053143"> </a><a href="Localization.html#1053185">Localization Guidelines</a></blockquote>
   <blockquote class = "bq"><a name="1058519"> </a><a href="Localization.html#1058334">Locales</a></blockquote>
   <blockquote class = "bq"><a name="1053147"> </a><a href="Localization.html#1058227">Overlays</a></blockquote>
   <blockquote class = "bq"><a name="1053151"> </a><a href="Localization.html#1053254">Dates and Times</a></blockquote>
   <blockquote class = "bq"><a name="1053155"> </a><a href="Localization.html#1053351">Numbers</a></blockquote>
   <blockquote class = "bq"><a name="1053159"> </a><a href="Localization.html#1053393">Obtaining Locale Information</a></blockquote>

<p><a name="1053175"> </a>In addition to this chapter, also see <a href="Text.html#1036996">Chapter 1, "Text,"</a> which describes how to work with text and characters in a way that makes your application easily localizable. </p>

<p><a name="1053180"> </a>This chapter does not cover how to actually perform localization of resources. For more information on this subject, see the documentation for your toolset. </p>

<h2 class="haH2">
  <a name="1053185"> </a>Localization Guidelines <a href="#1053137"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1053187"> </a>If there is a possibility that your application is going to be localized, you should follow these guidelines when you start planning the application. It's a good idea to follow these guidelines even if you don't think your application is going to be localized. </p>
<ul type="disc">
  <li><a name="1053188"> </a>If you use the English language version of the software as a guide when designing the layout of the screen, try to allow:
  <ul type="disc">
    <li><a name="1053189"> </a>extra space for strings 
    <li><a name="1053190"> </a>larger dialogs than the English version requires
  </ul>
  <li><a name="1053191"> </a>Don't put language-dependent strings in code. If you have to display text directly on the screen, remember that a one-line warning or message in one language may need more than one line in another language. See the section <a href="Text.html#1037178">"Strings"</a> in <a href="Text.html#1036996">Chapter 1, "Text,"</a> for further discussion. 
  <li><a name="1053198"> </a>Don't depend on the physical characteristics of a string, such as the number of characters, the fact that it contains a particular substring, or any other attribute that might disappear in translation. 
  <li><a name="1053199"> </a>Internal database names must use only 7-bit ASCII characters (0x20 through 0x7E). Store the user-visible name of your application in an <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">APP_ICON_NAME_RESOURCE</span> so that it can be translated to other languages. 
  <li><a name="1053200"> </a>Use the functions described in this book when working with characters, strings, numbers, and dates. 
  <li><a name="1053201"> </a>Consider using string templates as described in the section <a href="Text.html#1037449">"Dynamically Creating String Content"</a> in <a href="Text.html#1036996">Chapter 1</a>. Use as many parameters as possible to give localizers greater flexibility. Avoid building sentences by concatenating substrings together, as this often causes translation problems. 
   <p><a name="1060946"> </a>In general, avoid using <code>sprintf()</code> for localizable strings. </p>
  <li><a name="1053208"> </a>Abbreviations may be the best way to accommodate the particularly scarce screen real estate on the Palm Powered<sup>&#8482;</sup> device. 
  <li><a name="1053209"> </a>Remember that user interface elements such as lists, fields, and tips scroll if you need more space. 
</ul>

<p><a name="1053210"> </a>The book <i>Exploring Palm OS: User Interface Guidelines</i> provides further user interface guidelines. </p>

<h2 class="haH2">
  <a name="1058334"> </a>Locales <a href="#1053137"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1058345"> </a>A <b>locale</b> specifies a place and is used to determine which formats, languages, and encodings to use for locale-specific items such as dates, numbers, and strings. In Palm OS<sup>&#174;</sup>, a locale is identified by both a language and a country. In general, the language determines which character encoding is used on the device. The country specifies a dialect. For example, the language "English" uses different dialects for "USA" and for "Britain." </p>

<p><a name="1058237"> </a>The system maintains several locale variables, allowing it to tailor system resources and functionality to fit the locale in which the device is being used. Most of the time, these variables all point to the same locale. </p>
<ul type="disc">
  <li><a name="1058239"> </a>The <b>ROM locale</b> is the locale stored in ROM on the device. The ROM locale is used to initialize the other locale variables after a hard reset. Use <a href="LocaleMgr.html#1001577"><code>LmGetROMLocale()</code></a> if you need to determine the ROM locale. 
  <li><a name="1058245"> </a>The <b>system locale</b> is the locale that Palm OS code uses to obtain various locale settings. The system locale is initially set to the ROM locale, but it can be different. For example, on an EFIGS ROM (which is a ROM for English, French, Italian, German, and Spanish), the user chooses from among several languages when Palm OS starts up, and doing so changes the system locale but not the ROM locale. Use <a href="LocaleMgr.html#1015402"><code>LmGetSystemLocale()</code></a> to determine which is the system locale. This function also returns the character encoding used on the device. 
  <li><a name="1058251"> </a>The <b>formats locale</b> is the locale that most applications should use to obtain locale-specific settings. The formats locale is initially the same as the system locale, but the user can change it in the Formats Preference panel. Use <a href="LocaleMgr.html#998305"><code>LmGetFormatsLocale()</code></a> to obtain this locale. You can also use <a href="LocaleMgr.html#1006327"><code>LmSetFormatsLocale()</code></a> to change it, but do not do so without the user's permission. 
   <p><a name="1058836"> </a>In most cases, the user is able to override the locale-specific settings using individual preferences on the Formats Preference panel. Therefore, you should check for a preference setting where one is available. See <a href="Localization.html#1053393">"Obtaining Locale Information"</a> for more information. </p>
  <li><a name="1058264"> </a>The <b>overlay locale</b> is the locale that the Database Manager uses to decide which overlay to load. Thus, the overlay locale controls the target language of system and application user interface elements. It is initially set to the system locale. Use <a href="../Memory_Databases_Files/DataMgr.html#999814"><code>DmGetOverlayLocale()</code></a> to obtain the value of this locale, and use <a href="../Memory_Databases_Files/DataMgr.html#1006917"><code>DmSetOverlayLocale()</code></a> if you need to change it. 
  <li><a name="1058274"> </a>The <b>fallback overlay locale</b> is the locale that the Database Manager uses if an overlay for the overlay locale does not exist. By default, it uses the ROM locale. Use <a href="../Memory_Databases_Files/DataMgr.html#998819"><code>DmGetFallbackOverlayLocale()</code></a> to obtain the value of this locale and use <a href="../Memory_Databases_Files/DataMgr.html#1006659"><code>DmSetFallbackOverlayLocale()</code></a> if you need to change it. 
</ul>

<h2 class="haH2">
  <a name="1058227"> </a>Overlays <a href="#1053137"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1053214"> </a>You localize Palm OS resource databases using <b>overlays</b>. Localization overlays provide a way of localizing a software module without requiring a recompile or modification of the software. Each overlay database is a separate resource database that provides an appropriately localized set of resources for a single software module (the PRC file, or <b>base database</b>) and a single target <b>locale</b> (language and country). </p>

<p><a name="1053215"> </a>No requirements are placed on the base database, so for example, third parties can construct localization overlays for existing applications without forcing any modifications by the original application developer. In rare cases, you might want to disable the use of overlays to prevent third parties from creating overlays for your application. To do so, you should include an <code>APP_LAUNCH_PREFS_RESOURCE</code> with ID 0 in the database and set its <code>ALPF_FLAG_NO_OVERLAY</code> flag to <code>true</code>. </p>

<p><a name="1053218"> </a>An overlay database has the same creator as the base database, but its type is <code>'ovly'</code>, and a suffix identifying the target locale is appended to its name. For example, <code>Datebook.prc</code> might be overlaid with a database named <code>Datebook_jaJP</code>, which indicates that this overlay is for Japan. Each overlay database has an <code>OVERLAY_RESOURCE </code>with ID 1000. </p>

<p><a name="1053224"> </a>When a resource file is opened, the Database Manager looks for an overlay matching the base database and the overlay locale. The overlay database's name must match the base database's name, its suffix must match the locale's suffix, and it must have an <code>OVERLAY_RESOURCE </code>with ID 1000. If the name, suffix, and overlay resource are all correct and the overlay passes various checks to ensure it's appropriate for use with the base database, the overlay is opened in addition to the base database. When the base database is closed, its overlay is closed as well. </p>

<p><a name="1053225"> </a>The overlay is opened in read-only mode and is hidden from the programmer. When you open a database, you'll receive a reference to the base database, not the overlay. You can simply make Database Manager calls like you normally would, and the Database Manager accesses the overlay where appropriate. </p>

<p><a name="1053226"> </a>When accessing a localizable resource, do not use functions that search for a resource only in the database you specify. For example, see <a href="Localization.html#1057009">Listing 3.1</a>. </p>
<p class="CCodeCaption">
  <a name="1057009"> </a><b>Listing 3.1&nbsp;&nbsp;Wrong way to access resources</b>
</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
// WRONG! searches only one database. <a name="1053227"> </a>
DmOpenRef dbP = DmNextOpenResDatabase(NULL);<a name="1053229"> </a>
uint16_t resIndex = DmFindResource(dpP, strRsc, strRscID, <a name="1053231"> </a>
   NULL);<a name="1057008"> </a>
MemHandle resH = DmGetResourceByIndex(dbP, resIndex);<a name="1053234"> </a>
</pre><div class="CodeRule"><hr></div>


<p><a name="1053236"> </a>In <a href="Localization.html#1057009">Listing 3.1</a>, <code>dbP</code> is a reference to the most recently opened database, which is typically the overlay version of the database. Passing this reference to <a href="../Memory_Databases_Files/DataMgr.html#997720"><code>DmFindResource()</code></a> means that you are searching only the overlay database for the resource. If you're searching for a non-localized resource, <code>DmFindResource()</code> won't be able to locate it. Instead, you should use <a href="../Memory_Databases_Files/DataMgr.html#1000738"><code>DmGetResource()</code></a>, which searches a database and its overlay for a resource </p>
<p class="CCodeCaption">
  <a name="1057012"> </a><b>Listing 3.2&nbsp;&nbsp;Correct way to access resources</b>
</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
// Right. DmGetResource searches both databases. <a name="1053237"> </a>
MemHandle resH = DmGetResource(dbRef, strRsc, strRscID);<a name="1053240"> </a>
</pre><div class="CodeRule"><hr></div>


<p><a name="1053247"> </a>The Database Manager opens an overlay only if the base database is opened in read-only mode. If you open a resource database in read-write mode, the associated overlay is not opened. What's more, if you modify an overlaid resource in the base database, the overlay database may no longer be valid. Thus if you change the base database, you must also change the overlay database. </p>

<p><a name="1057107"> </a>For more information on overlays and resource databases, see <i>Exploring Palm OS: Memory, Databases, and Files</i>. </p>

<h2 class="haH2">
  <a name="1053254"> </a>Dates and Times <a href="#1053137"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1053255"> </a>If your application deals with dates and times, it should abide by the values the user has set in the system preference for date and time display. The default preferences at startup vary among locales, and the default values can be overridden by the user. </p>

<p><a name="1053260"> </a>To check the system preferences call <a href="../System_Management/Preferences.html#994111"><code>PrefGetPreference()</code></a> with one of the values listed in the second column of <a href="Localization.html#1053270">Table 3.1</a>. The third column lists an enumerated type that helps you interpret the value. </p>

<p class="caption"><a name="1053270"> </a><b>Table 3.1&nbsp;&nbsp;Date and time preferences </b></p>
<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1053276"> </a><b>Preference</b></p>
    </th>
    <th><p class="tt"><a name="1053278"> </a><b>Name</b></p>
    </th>
    <th><p class="tt"><a name="1053280"> </a><b>Returns a value of type</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1053282"> </a>Date formats (i.e., month first or day first)</p>
    </td>
    <td><p class="tt"><a name="1053285"> </a><code>prefDateFormat</code>, <code>prefLongDateFormat</code> </p>
    </td>
    <td><p class="tt"><a name="1053290"> </a><a href="../System_Management/DateTime.html#992950"><code>DateFormatType</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1053292"> </a>Time formats (i.e., use a 12-hour clock or use a 24-hour clock)</p>
    </td>
    <td><p class="tt"><a name="1053295"> </a><code>prefTimeFormat</code> </p>
    </td>
    <td><p class="tt"><a name="1053300"> </a><a href="../System_Management/DateTime.html#993405"><code>TimeFormatType</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1053302"> </a>Start day of week (i.e., Sunday or Monday)</p>
    </td>
    <td><p class="tt"><a name="1053305"> </a><code>prefWeekStartDay</code> </p>
    </td>
    <td><p class="tt"><a name="1053307"> </a>0 (Sunday) or 1 (Monday)</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1053309"> </a>Local time zone</p>
    </td>
    <td><p class="tt"><a name="1053312"> </a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"> </span>Use the <code>gettimezone()</code> function. </p>
    </td>
    <td><p class="tt"><a name="1053317"> </a>Minutes east of Greenwich Mean Time (GMT), also known as Universal Coordinated Time (UTC). </p>
    </td>
  </tr>
</table>

</div>


<p><a name="1058923"> </a>To work with dates and times in your code, use the Date and Time Manager API. It contains functions such as <a href="../System_Management/DateTime.html#995052"><code>DateToAscii()</code></a>, <a href="../System_Management/DateTime.html#996846"><code>TimeToAscii()</code></a>, <a href="../System_Management/DateTime.html#995332"><code>DayOfMonth()</code></a>, <a href="../System_Management/DateTime.html#995382"><code>DayOfWeek()</code></a>, <a href="../System_Management/DateTime.html#995706"><code>DaysInMonth()</code></a>, <a href="../System_Management/DateTime.html#996900"><code>TimeToInt()</code></a>, <a href="../System_Management/DateTime.html#996520"><code>TimeIs24HourFormat()</code></a>, and <a href="../System_Management/DateTime.html#994986"><code>DateTemplateToAscii()</code></a>, which allow you to work with dates and times independent of the user's preference settings. </p>

<h2 class="haH2">
  <a name="1053351"> </a>Numbers <a href="#1053137"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1053352"> </a>If your application displays large numbers or floating-point numbers, you must check and make sure you are using the appropriate thousands separator and decimal separator for the device's country by doing the following (see <a href="Localization.html#1053374">Listing 3.3</a>):</p>
<ol type="1">
  <li value="1"><a name="1053356"> </a>Store number strings using US conventions, which means using a comma (,) as the thousands separator and a decimal point (.) as the decimal separator. 
  <li value="2"><a name="1053358"> </a>Use <a href="../System_Management/Preferences.html#994111"><code>PrefGetPreference()</code></a> and <a href="LocaleMgr.html#1000217"><code>LmGetNumberSeparators()</code></a> to retrieve information about how the number should be displayed.
  <li value="3"><a name="1053367"> </a>Use <a href="StringMgr.html#1007162"><code>StrLocalizeNumber()</code></a> to perform the localization. 
  <li value="4"><a name="1053368"> </a>If a user enters a number that you need to manipulate in some way, convert it to the US conventions using <a href="StringMgr.html#1001753"><code>StrDelocalizeNumber()</code></a>. 
</ol>
<p class="CCodeCaption">
  <a name="1053374"> </a><b>Listing 3.3&nbsp;&nbsp;Working with numbers</b>
</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
// store numbers using US conventions. <a name="1053375"> </a>
char *jackpot = "20,000,000.00";<a name="1053376"> </a>
char thou; // thousand separator<a name="1053377"> </a>
char dp; // decimal separator<a name="1053378"> </a>
 <a name="1053379"> </a>
// Retrieve user's preferred number format. <a name="1053380"> </a>
LmGetNumberSeparators((NumberFormatType)<a name="1053381"> </a>
   PrefGetPreference(prefNumberFormat), &amp;thou, &amp;dp);<a name="1053382"> </a>
// Localize jackpot number. Converts "," to thou <a name="1053384"> </a>
// and "." to dp. <a name="1053385"> </a>
StrLocalizeNumber(jackpot, thou, dp);<a name="1053386"> </a>
// Display string. <a name="1053387"> </a>
// Assume inputNumber is a number user entered, <a name="1053388"> </a>
// convert it to US conventions this way. Converts <a name="1053389"> </a>
// thou to "," and dp to "."<a name="1053390"> </a>
StrDelocalizeNumber(inputNumber, thou, dp);<a name="1053391"> </a>
</pre><div class="CodeRule"><hr></div>


<h2 class="haH2">
  <a name="1053393"> </a>Obtaining Locale Information <a href="#1053137"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1053394"> </a>Some applications may require information about a specific locale. For example, an application might need to know the country name for a locale. </p>

<p><a name="1053401"> </a>The information that most applications require is stored in the system preferences structure and can be obtained using <a href="../System_Management/Preferences.html#994111"><code>PrefGetPreference()</code></a>. This is the recommended way of obtaining locale-specific settings because the user can override many of these settings. Applications should always honor the user's preferences rather than the locale defaults. </p>

<p><a name="1053406"> </a>Other locale-specific settings can not be set by the user and are not stored in the system preferences. Instead, these settings are stored in a private resource that contains information about several possible locales, including the locale currently used by the system. For example, the user cannot change the symbol used for the local currency. If your application needs this information, it must use the Locale Manager function <a href="LocaleMgr.html#998534"><code>LmGetLocaleSetting()</code></a> to retrieve it. <a href="Localization.html#1053416">Listing 3.4</a> shows how to use <code>LmGetLocaleSetting()</code>. </p>
<p class="CCodeCaption">
  <a name="1053416"> </a><b>Listing 3.4&nbsp;&nbsp;Retrieving a locale setting using Locale Manager</b>
</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
LmLocaleType locale;<a name="1053417"> </a>
char currencySymbol[kMaxCurrencySymbolLen+1];<a name="1053418"> </a>
uint16_t index;<a name="1053419"> </a>
 <a name="1053420"> </a>
// Find out what the formats locale is. <a name="1053421"> </a>
LmGetFormatsLocale(&amp;locale);<a name="1053422"> </a>
 <a name="1053423"> </a>
// Find out which index in the locale resource <a name="1053424"> </a>
// contains info about that locale. <a name="1053425"> </a>
index = LmBestLocaleToIndex(&amp;locale);<a name="1053426"> </a>
 <a name="1053427"> </a>
// Get the currency symbol stored in the locale at <a name="1053428"> </a>
// that index. <a name="1053429"> </a>
LmGetLocaleSetting(index, lmChoiceCurrencySymbol, <a name="1053430"> </a>
   currencySymbol, sizeof(currencySymbol));<a name="1053431"> </a>
</pre><div class="CodeRule"><hr></div>


<p><a name="1053435"> </a><a href="Localization.html#1053442">Table 3.2</a> shows which types of information about the formats locale should be retrieved from the system preferences and which types should be retrieved from the locale resource. Of course, if you want to retrieve information about a different locale or if you want to look up the default used for the formats locale, you would always use the Locale Manager instead of the Preferences Manager. </p>

<p class="caption"><a name="1053442"> </a><b>Table 3.2&nbsp;&nbsp;Obtaining locale information  </b></p>
<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1053446"> </a><b>Value</b></p>
    </th>
    <th><p class="tt"><a name="1053448"> </a><b>Function used to retrieve value</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1053450"> </a>Language code </p>
    </td>
    <td><p class="tt"><a name="1053452"> </a><code>LmGetLocaleSetting(..., lmChoiceLocale, ...)</code></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1053454"> </a>Locale description </p>
    </td>
    <td><p class="tt"><a name="1053456"> </a><code>LmGetFormatsLocale() </code></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1053458"> </a>Country code</p>
    </td>
    <td><p class="tt"><a name="1053460"> </a><code>LmGetLocaleSetting(..., lmChoiceLocale, ...)</code></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1053462"> </a>Country name </p>
    </td>
    <td><p class="tt"><a name="1053464"> </a><code>LmGetLocaleSetting(..., lmChoiceCountryName, ...)</code> </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1053466"> </a>Currency name </p>
    </td>
    <td><p class="tt"><a name="1053468"> </a><code>LmGetLocaleSetting(..., lmChoiceCurrencyName, ...)</code></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1053470"> </a>Currency symbol </p>
    </td>
    <td><p class="tt"><a name="1053472"> </a><code>LmGetLocaleSetting(..., lmChoiceCurrencySymbol, ...)</code></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1053474"> </a>Unique currency symbol </p>
    </td>
    <td><p class="tt"><a name="1053476"> </a><code>LmGetLocaleSetting(..., lmChoiceUniqueCurrencySymbol, ...)</code></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1053478"> </a>Measurement system (metric or English) </p>
    </td>
    <td><p class="tt"><a name="1053480"> </a><code>PrefGetPreference(prefMeasurementSystem)</code></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1053482"> </a>Number formats </p>
    </td>
    <td><p class="tt"><a name="1053484"> </a><code>PrefGetPreference(prefNumberFormat)</code></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1053486"> </a>Number of decimal places for monetary values</p>
    </td>
    <td><p class="tt"><a name="1053488"> </a><code>LmGetLocaleSetting(..., lmChoiceCurrencyDecimalPlaces, ...)</code></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1053490"> </a>Starting day of the week </p>
    </td>
    <td><p class="tt"><a name="1053492"> </a><code>PrefGetPreference(prefWeekStartDay)</code></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1053494"> </a>Date formats </p>
    </td>
    <td><p class="tt"><a name="1053496"> </a><code>PrefGetPreference(prefDateFormat)</code> </p>
<p class="tt"><a name="1053497"> </a><code>PrefGetPreference(prefLongDateFormat)</code> </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1053499"> </a>Time format </p>
    </td>
    <td><p class="tt"><a name="1053501"> </a><code>PrefGetPreference(prefTimeFormat)</code></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1053503"> </a>Time zone </p>
    </td>
    <td><p class="tt"><a name="1053506"> </a>Use the function <code>gettimezone()</code>. </p>
    </td>
  </tr>
</table>

</div>


<h2 class="haH2">
  <a name="1059368"> </a>Summary of Localization API <a href="#1053137"><span class="nav">^TOP^</span></a>
</h2>



<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1059380"> </a><b>Numbers</b></p>
    </th>
    <th><p class="tt"><a name="1059382"> </a><b></b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1059494"> </a><a href="LocaleMgr.html#1000217"><code>LmGetNumberSeparators()</code></a><br><a href="StringMgr.html#1001753"><code>StrDelocalizeNumber()</code></a></p>
    </td>
    <td><p class="tt"><a name="1059499"> </a><a href="StringMgr.html#1007162"><code>StrLocalizeNumber()</code></a></p>
    </td>
  </tr>
</table>

</div>



<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1059508"> </a><b>Locale Manager</b></p>
    </th>
    <th><p class="tt"><a name="1059510"> </a><b></b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1059515"> </a><a href="LocaleMgr.html#996402"><code>LmBestLocaleToIndex()</code></a><br><a href="LocaleMgr.html#1010970"><code>LmCountryToISOName()</code></a><br><a href="LocaleMgr.html#998305"><code>LmGetFormatsLocale()</code></a><br><a href="LocaleMgr.html#998534"><code>LmGetLocaleSetting()</code></a><br><a href="LocaleMgr.html#1000381"><code>LmGetNumLocales()</code></a><br><a href="LocaleMgr.html#1001577"><code>LmGetROMLocale()</code></a></p>
    </td>
    <td><p class="tt"><a name="1059520"> </a><a href="LocaleMgr.html#1015402"><code>LmGetSystemLocale()</code></a><br><a href="LocaleMgr.html#1002781"><code>LmISONameToCountry()</code></a><br><a href="LocaleMgr.html#1003401"><code>LmISONameToLanguage()</code></a><br><a href="LocaleMgr.html#1005241"><code>LmLanguageToISOName()</code></a><br><a href="LocaleMgr.html#1005349"><code>LmLocaleToIndex()</code></a><br><a href="LocaleMgr.html#1006327"><code>LmSetFormatsLocale()</code></a></p>
    </td>
  </tr>
</table>

</div>



<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1059727"> </a><b>Date and Time Manager</b></p>
    </th>
    <th><p class="tt"><a name="1059729"> </a><b></b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1059734"> </a><a href="../System_Management/DateTime.html#994683"><code>DateAdjust()</code></a><br><a href="../System_Management/DateTime.html#994890"><code>DateDaysToDate()</code></a><br><a href="../System_Management/DateTime.html#994986"><code>DateTemplateToAscii()</code></a><br><a href="../System_Management/DateTime.html#995052"><code>DateToAscii()</code></a><br><a href="../System_Management/DateTime.html#995110"><code>DateToDays()</code></a><br><a href="../System_Management/DateTime.html#995228"><code>DateToDOWDMFormat()</code></a><br><a href="../System_Management/DateTime.html#995286"><code>DateToInt()</code></a><br><a href="../System_Management/DateTime.html#995332"><code>DayOfMonth()</code></a><br><a href="../System_Management/DateTime.html#995382"><code>DayOfWeek()</code></a><br><a href="../System_Management/DateTime.html#995706"><code>DaysInMonth()</code></a></p>
    </td>
    <td><p class="tt"><a name="1059754"> </a><a href="../System_Management/DateTime.html#995752"><code>TimAdjust()</code></a><br><a href="../System_Management/DateTime.html#996102"><code>TimDateTimeToSeconds()</code></a><br><a href="../System_Management/DateTime.html#996144"><code>TimeGetFormatSeparator()</code></a><br><a href="../System_Management/DateTime.html#1027906"><code>TimeGetFormatSuffix()</code></a><br><a href="../System_Management/DateTime.html#996520"><code>TimeIs24HourFormat()</code></a><br><a href="../System_Management/DateTime.html#996846"><code>TimeToAscii()</code></a><br><a href="../System_Management/DateTime.html#996900"><code>TimeToInt()</code></a><br><a href="../System_Management/DateTime.html#1031819"><code>TimeZoneToAscii()</code></a><br><a href="../System_Management/DateTime.html#997368"><code>TimSecondsToDateTime()</code></a><br><a href="../System_Management/DateTime.html#997494"><code>TimTimeZoneToUTC()</code></a><br><a href="../System_Management/DateTime.html#997544"><code>TimUTCToTimeZone()</code></a></p>
    </td>
  </tr>
</table>

</div>



<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1060158"> </a><b>Database Manager</b></p>
    </th>
    <th><p class="tt"><a name="1060160"> </a><b></b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1060165"> </a><a href="../Memory_Databases_Files/DataMgr.html#999814"><code>DmGetOverlayLocale()</code></a><br><a href="../Memory_Databases_Files/DataMgr.html#1006917"><code>DmSetOverlayLocale()</code></a><br><a href="../Memory_Databases_Files/DataMgr.html#998819"><code>DmGetFallbackOverlayLocale()</code></a><br><a href="../Memory_Databases_Files/DataMgr.html#1006659"><code>DmSetFallbackOverlayLocale()</code></a></p>
    </td>
    <td><p class="tt"><a name="1060177"> </a></p>
    </td>
  </tr>
</table>

</div>
&nbsp;<br>
</div>
<!--END CONTENT-->

</td>
<td width="5">&nbsp;&nbsp;</td>
</tr>

</table>

<!-- BEGIN FOOTER -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="7" rowspan="2"><img name="index_x" src="images/shim.gif" width="7" height="33" border="0" alt=""></td>
<td align="left"><img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
<td width="10" rowspan="2"><img name="index_x" src="images/shim.gif" width="10" height="33" border="0" alt=""></td>
</tr>
<tr>
<td align="center">
<p class="footer">
Copyright © 2004, PalmSource, Inc. and its affiliates. All rights reserved.<br>
<a href="http://www.palmsource.com/contact/">Write Us</a> | <a href="http://www.palmos.com/dev/training/">Training</a> | <a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a> | <a href="TextLoc_Front.html" target="_blank">Legal</a></p>
<br>
<!--BEGIN BOOK NAVIGATION-->
<p class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="TextLocTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="FindConcept.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="TextLoc_PartRef.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="TextLocIX.html">Index</a>
</p>
</td>
</tr>
</table>
<!-- END FOOTER -->

</body>
</html>