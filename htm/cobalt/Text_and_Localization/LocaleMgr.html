<html>
<head>
<title>(Protein) Locale Manager | Text and Localization </title> 
<link href="psi_devpubs.css" rel="stylesheet" type="text/css">

<!-- BEGIN META DATA -->
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META NAME="PSITEMPLATE" CONTENT="1006-007 PalmSource_HTML_2003 20041101">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks AutoMap 2003 for FrameMaker 8.0.6.2138">
<META NAME="LASTUPDATED" CONTENT="11/22/04 11:30:42">
<!-- END META DATA -->
</head>

<body bgcolor="#ffffff" text="#000000" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<a name="995817"></a>

<!-- BEGIN TOPNAV -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td><img src="images/shim.gif" width="7" height="75" border="0" alt=""></td>
<td align="left"><table border="0" cellpadding="0" cellspacing="0" width="744">
<tr>
<td><img name="index_r2_c1" src="images/shim.gif" width="25" height="75" border="0" alt=""></td>
<td valign="top"><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_r2_c4" src="images/shim.gif" width="96" height="15" border="0" alt=""></td>
</tr>
<tr>
<td><a href="http://www.palmsource.com/"><img name="ps_logo" src="images/ps_logo.gif" width="96" height="54" border="0" alt=""></a></td>
</tr>

</table>
</td>

<td><table border="0" cellpadding="0" cellspacing="0" width="30">
<td><img name="index_x" src="images/shim.gif" width="30" height="75" border="0" alt=""></td>
</table></td>

<!--BEGIN MASTHEAD-->
<td><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
<tr>
<td>
<!--BEGIN BOOK NAVIGATION-->
<span class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="TextLocTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="LocaleMgrTypes.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="StringMgr.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="TextLocIX.html">Index</a>
</span>
<!--END BOOK NAVIGATION-->
</tr>
<tr>
<td>
<!--BEGIN PAGE TITLE-->
<h2 class="PageTitle">6 &nbsp;&nbsp;
Locale Manager</h2></td>
<!--END PAGE TITLE-->
</tr>
<tr>
<td>
<!--BEGIN BOOK TITLE-->
<p class="BookTitle">Text and Localization </p>
<p class="SubTitle">Exploring Palm OS&#174; </p>
<!--END BOOK TITLE-->
</td>
</tr>
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
</table>
</td>
<!--END MASTHEAD-->
</tr>
</table>
<img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
</tr>
</table>
<!-- END TOPNAV -->

<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" width="5"><img name="index_x" src="images/shim.gif" width="5" height="33" border="0" alt=""></td>

<!--BEGIN SIDETOC-->
<td valign="top" width="175">
<div id="sidetoc" valign="bottom">
<h1 class="SideTOC1-PartTab"><a href="TextLoc_PartRef.html">Part II: Reference</a> </h1>
<h1 class="SideTOC1"><a href="LocaleMgr.html">6  Locale Manager</a></h1>

   <h2 class="SideTOC2"><a href="#996354">
   Locale Manager Functions and Macros</a></h2>

      <h3 class="SideTOC3"><a href="#996402">
      LmBestLocaleToIndex</a></h3>

      <h3 class="SideTOC3"><a href="#1010970">
      LmCountryToISOName</a></h3>

      <h3 class="SideTOC3"><a href="#998305">
      LmGetFormatsLocale</a></h3>

      <h3 class="SideTOC3"><a href="#998534">
      LmGetLocaleSetting</a></h3>

      <h3 class="SideTOC3"><a href="#1000217">
      LmGetNumberSeparators</a></h3>

      <h3 class="SideTOC3"><a href="#1000381">
      LmGetNumLocales</a></h3>

      <h3 class="SideTOC3"><a href="#1001577">
      LmGetROMLocale</a></h3>

      <h3 class="SideTOC3"><a href="#1015402">
      LmGetSystemLocale</a></h3>

      <h3 class="SideTOC3"><a href="#1002781">
      LmISONameToCountry</a></h3>

      <h3 class="SideTOC3"><a href="#1003401">
      LmISONameToLanguage</a></h3>

      <h3 class="SideTOC3"><a href="#1005241">
      LmLanguageToISOName</a></h3>

      <h3 class="SideTOC3"><a href="#1005349">
      LmLocaleToIndex</a></h3>

      <h3 class="SideTOC3"><a href="#1006327">
      LmSetFormatsLocale</a></h3>

</div>
</td>

<td width="5">&nbsp;&nbsp;</td>
<td width="2" background="images/index_r8_c10.gif"><img src="images/shim.gif" width="2" height="75" border="0" alt=""></td>
<td width="5">&nbsp;&nbsp;</td>

<!--END SIDETOC-->

<td valign="top">

<!--BEGIN CONTENT-->
<div id="content" valign="bottom">
<p><a name="1006681"> </a>This chapter describes the Locale Manager API as described in the header file <code>LocaleMgr.h</code>. It discusses the following topics: </p>
   <blockquote class = "bq"><a name="996388"> </a><a href="LocaleMgr.html#996354">Locale Manager Functions and Macros</a></blockquote>

<p><a name="1006808"> </a>For more information on the Locale Manager, see the chapter <a href="Localization.html#1053137">"Localized Applications"</a>. </p>

<h2 class="haH2">
  <a name="996354"> </a>Locale Manager Functions and Macros <a href="#995817"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="996402"> </a>LmBestLocaleToIndex Function <a href="#995817"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="996475"> </a>Purpose 
</h4>

<p><a name="996511"> </a>Converts an <a href="LocaleMgrTypes.html#998700"><code>LmLocaleType</code></a> to an index. </p>
<h4>
  <a name="996550"> </a>Declared In 
</h4>
<code>LocaleMgr.h<a name="996590"> </a></code><h4>
  <a name="996639"> </a>Prototype 
</h4>
<pre class="proto"><a name="996695"></a>uint16_t LmBestLocaleToIndex (
   const LmLocaleType <code class="par">*iLocale</code>
)
</pre>
<h4>
  <a name="996796"> </a>Parameters 
</h4>

<dl>
<dt><a name="1010159"> </a><code>&rarr;  <i><code>iLocale</code></i></code></dt>
<dd><a name="1010160"> </a>The locale to convert. This locale can use the constants <code>lmAnyCountry</code> or <code>lmAnyLanguage</code> as wildcards. </dd>

</dl>
<h4>
  <a name="997047"> </a>Returns 
</h4>

<p><a name="997173"> </a>The index of the known locale that most closely matches <code class="par">iLocale</code>. </p>
<h4>
  <a name="997201"> </a>Comments 
</h4>

<p><a name="997203"> </a>This function first tries to find a locale that matches both the language and country of <code class="par">iLocale</code>. If it does not exist, it then tries to match only the country and only the language. If it cannot find a match for either the country or the language, it returns the index of the first locale (in other words, it returns an index of 0). </p>
<h4>
  <a name="1010848"> </a>Example 
</h4>

<p><a name="1010237"> </a>The following example shows using <a href="LocaleMgr.html#998305"><code>LmGetFormatsLocale()</code></a> to return the locale used to set the display preferences for such things as dates and numbers, and then passing that to <code>LmBestLocaleToIndex()</code> to obtain a valid index to pass to <a href="LocaleMgr.html#998534"><code>LmGetLocaleSetting()</code></a>. </p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
LmLocaleType locale;<a name="1010246"> </a>
char oValue[kMaxCurrencySymbolLen+1];<a name="1010247"> </a>
uint16_t index;<a name="1010248"> </a>
 <a name="1010249"> </a>
LmGetFormatsLocale(&amp;locale);<a name="1010250"> </a>
index = LmBestLocaleToIndex(&amp;locale);<a name="1010251"> </a>
LmGetLocaleSetting(index, lmChoiceCurrencySymbol, oValue, <a name="1010252"> </a>
  sizeof(oValue));<a name="1010254"> </a>
</pre><div class="CodeRule"><hr></div>

<h4>
  <a name="1010967"> </a>See Also 
</h4>

<p><a name="1010968"> </a><a href="LocaleMgr.html#1005349"><code>LmLocaleToIndex()</code></a></p>

<h3 class="hbH3">
  <a name="1010970"> </a>LmCountryToISOName Function <a href="#995817"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="997228"> </a>Purpose 
</h4>

<p><a name="997253"> </a>Converts an <a href="LocaleMgrTypes.html#1020047"><code>LmCountryType</code></a> to a string. </p>
<h4>
  <a name="997256"> </a>Declared In 
</h4>
<code>LocaleMgr.h<a name="997258"> </a></code><h4>
  <a name="997261"> </a>Prototype 
</h4>
<pre class="proto"><a name="997463"></a>status_t LmCountryToISOName (
   LmCountryType <code class="par">iCountry</code>,
   char <code class="par">*oISONameStr</code>
)
</pre>
<h4>
  <a name="997576"> </a>Parameters 
</h4>

<dl>
<dt><a name="997656"> </a><code>&rarr;  <i>iCountry</i></code></dt>
<dd><a name="997804"> </a>An <code>LmCountryType</code> variable specifying the country code as it is stored in a locale. </dd>

<dt><a name="997838"> </a><code>&larr;  <i>oISONameStr</i></code></dt>
<dd><a name="997868"> </a>A string that is at least three bytes long. Upon return, this string contains the country code converted to a string. </dd>

</dl>
<h4>
  <a name="997906"> </a>Returns 
</h4>

<p><a name="997932"> </a><code>errNone</code> upon success or <code>lmErrUnknownLocale</code> if <code class="par">iCountry</code> is not a valid country code. </p>
<h4>
  <a name="998035"> </a>Comments 
</h4>

<p><a name="998057"> </a>The Database Manager uses this function to convert the overlay locale's country code into a string so that it can construct an overlay database name. </p>
<h4>
  <a name="998156"> </a>See Also 
</h4>

<p><a name="998206"> </a><a href="LocaleMgr.html#1002781"><code>LmISONameToCountry()</code></a>, <a href="LocaleMgr.html#1003401"><code>LmISONameToLanguage()</code></a>, <a href="LocaleMgr.html#1005241"><code>LmLanguageToISOName()</code></a></p>

<h3 class="hbH3">
  <a name="998305"> </a>LmGetFormatsLocale Function <a href="#995817"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="998335"> </a>Purpose 
</h4>

<p><a name="998369"> </a>Returns the formats locale. </p>
<h4>
  <a name="998378"> </a>Declared In 
</h4>
<code>LocaleMgr.h<a name="998388"> </a></code><h4>
  <a name="998399"> </a>Prototype 
</h4>
<pre class="proto"><a name="998409"></a>void LmGetFormatsLocale (
   LmLocaleType <code class="par">*oFormatsLocale</code>
)
</pre>
<h4>
  <a name="998424"> </a>Parameters 
</h4>

<dl>
<dt><a name="998434"> </a><code>&larr;  <i>oFormatsLocale</i></code></dt>
<dd><a name="998445"> </a>An <a href="LocaleMgrTypes.html#998700"><code>LmLocaleType</code></a> that identifies the formats locale. </dd>

</dl>
<h4>
  <a name="998459"> </a>Returns 
</h4>

<p><a name="998469"> </a>Nothing.</p>
<h4>
  <a name="998472"> </a>Comments 
</h4>

<p><a name="998474"> </a>The <b>formats locale</b> is initially set to the system locale; however, the users can change the formats locale in the Formats Preference panel if they prefer a different locale. </p>
<h4>
  <a name="998477"> </a>See Also 
</h4>

<p><a name="998479"> </a><a href="LocaleMgr.html#1006327"><code>LmSetFormatsLocale()</code></a>, <a href="LocaleMgr.html#1015402"><code>LmGetSystemLocale()</code></a></p>

<h3 class="hbH3">
  <a name="998534"> </a>LmGetLocaleSetting Function <a href="#995817"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="998564"> </a>Purpose 
</h4>

<p><a name="998570"> </a>Returns the requested setting for a given locale. </p>
<h4>
  <a name="998573"> </a>Declared In 
</h4>
<code>LocaleMgr.h<a name="998575"> </a></code><h4>
  <a name="998578"> </a>Prototype 
</h4>
<pre class="proto"><a name="998580"></a>status_t LmGetLocaleSetting (
   uint16_t <code class="par">iLocaleIndex</code>,
   LmLocaleSettingChoice <code class="par">iChoice</code>,
   void <code class="par">*oValue</code>,
   uint16_t <code class="par">iValueSize</code>
)
</pre>
<h4>
  <a name="998654"> </a>Parameters 
</h4>

<dl>
<dt><a name="1006948"> </a><code>&rarr;  <i>iLocaleIndex</i></code></dt>
<dd><a name="1006949"> </a>Index of the locale whose settings you want to retrieve. Use <a href="LocaleMgr.html#1005349"><code>LmLocaleToIndex()</code></a> or <a href="LocaleMgr.html#996402"><code>LmBestLocaleToIndex()</code></a> to obtain this value. </dd>

<dt><a name="1006950"> </a><code>&rarr;  <i>iChoice</i></code></dt>
<dd><a name="1006951"> </a>The <a href="LocaleMgrTypes.html#1021014"><code>LmLocaleSettingChoice</code></a> constant for the setting you want to retrieve. </dd>

<dt><a name="1006955"> </a><code>&larr;  <i>oValue</i></code></dt>
<dd><a name="1006956"> </a>The value of the <code class="par">iChoice</code> setting. </dd>

<dt><a name="1006960"> </a><code>&rarr;  <i>iValueSize</i></code></dt>
<dd><a name="1006961"> </a>The size of the <code class="par">oValue</code> buffer. The size of this buffer depends on the value of <code class="par">iChoice</code>. </dd>

</dl>
<h4>
  <a name="1006962"> </a>Returns 
</h4>

<p><a name="1006963"> </a>One of the following values: </p>

<dl>
<dt><a name="1006964"> </a><code><code>errNone</code></code></dt>
<dd><a name="1006965"> </a>Success.</dd>

<dt><a name="1006967"> </a><code><code>lmErrBadLocaleIndex</code></code></dt>
<dd><a name="1006968"> </a><code class="par">iLocaleIndex</code> is out of range. </dd>

<dt><a name="1006970"> </a><code><code>lmErrSettingDataOverflow</code></code></dt>
<dd><a name="1006971"> </a>The <code class="par">oValue</code> buffer is too small to hold the setting's value. </dd>

<dt><a name="1006973"> </a><code><code>lmErrBadLocaleSettingChoice</code></code></dt>
<dd><a name="1006974"> </a>The <code class="par">iChoice</code> parameter contains an unknown or unsupported value. </dd>

</dl>
<h4>
  <a name="1006975"> </a>Comments 
</h4>

<p><a name="1006976"> </a>This function accesses the private locale system resource and returns the requested information in the <code class="par">oValue</code> parameter. The size and type of the <code class="par">oValue</code> parameter depends on which setting you want to retrieve. The <a href="LocaleMgrTypes.html#1021014"><code>LmLocaleSettingChoice</code></a> documentation describes the type of data returned in <code class="par">oValue</code> for each setting. For fixed-size values, make sure that the size of the <code class="par">oValue</code> buffer is exactly the size of the returned value. It should be neither larger than nor smaller than the size of the returned value.</p>

<p><a name="1008531"> </a>This function returns the default settings for the locale. Users can override many of the locale settings using the Preferences application. Applications should always honor the user's preferences rather than the locale defaults. For this reason, it's recommended that if a corresponding system preference is available, you should check it instead (using <a href="../System_Management/Preferences.html#994111"><code>PrefGetPreference()</code></a>). Use <code>LmGetLocaleSetting()</code> only if you want to retrieve values that the user cannot override (such as the country name or currency symbol) or if you want to retrieve information about a locale other than the current locale. </p>
<h4>
  <a name="1008535"> </a>See Also 
</h4>

<p><a name="1008542"> </a><a href="LocaleMgr.html#1000381"><code>LmGetNumLocales()</code></a>, <a href="LocaleMgr.html#1005349"><code>LmLocaleToIndex()</code></a></p>

<h3 class="hbH3">
  <a name="1000217"> </a>LmGetNumberSeparators Function <a href="#995817"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1000235"> </a>Purpose 
</h4>

<p><a name="1007308"> </a>Gets localized number separators.</p>
<h4>
  <a name="1000264"> </a>Declared In 
</h4>
<code>LocaleMgr.h<a name="1000266"> </a></code><h4>
  <a name="1000269"> </a>Prototype 
</h4>
<pre class="proto"><a name="1000271"></a>void LmGetNumberSeparators (
   NumberFormatType <code class="par">iNumberFormat</code>,
   char <code class="par">*oThousandSeparatorChar</code>,
   char <code class="par">*oDecimalSeparatorChar</code>
)
</pre>
<h4>
  <a name="1000274"> </a>Parameters 
</h4>

<dl>
<dt><a name="1000276"> </a><code>&rarr;  <i>iNumberFormat</i></code></dt>
<dd><a name="1007315"> </a>The format to use (see <a href="LocaleMgrTypes.html#999882"><code>NumberFormatType</code></a>).</dd>

<dt><a name="1000281"> </a><code>&larr;  <i>oThousandSeparatorChar</i></code></dt>
<dd><a name="1007403"> </a>A pointer to the character used for the thousands separator. This is not a string. It does not have the terminating null character. </dd>

<dt><a name="1000285"> </a><code>&larr;  <i>oDecimalSeparatorChar</i></code></dt>
<dd><a name="1007435"> </a>A pointer to the character used for the decimal separator. This is not a string. It does not have the terminating null character. </dd>

</dl>
<h4>
  <a name="1000314"> </a>Returns 
</h4>

<p><a name="1000320"> </a>Nothing.</p>
<h4>
  <a name="1000323"> </a>Comments 
</h4>

<p><a name="1007471"> </a>The format to use is stored in the system preferences. You can obtain it by passing <code>prefNumberFormat</code> to <a href="../System_Management/Preferences.html#994111"><code>PrefGetPreference()</code></a>. </p>
<h4>
  <a name="1000328"> </a>See Also 
</h4>

<p><a name="1007514"> </a><a href="StringMgr.html#1007162"><code>StrLocalizeNumber()</code></a>, <a href="StringMgr.html#1001753"><code>StrDelocalizeNumber()</code></a>, <a href="Localization.html#1053351">"Numbers"</a> </p>

<h3 class="hbH3">
  <a name="1000381"> </a>LmGetNumLocales Function <a href="#995817"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1000457"> </a>Purpose 
</h4>

<p><a name="1007058"> </a>Returns the number of known locales.</p>
<h4>
  <a name="1000712"> </a>Declared In 
</h4>
<code>LocaleMgr.h<a name="1000760"> </a></code><h4>
  <a name="1000817"> </a>Prototype 
</h4>
<pre class="proto"><a name="1000881"></a>uint16_t LmGetNumLocales (
   void
)
</pre>
<h4>
  <a name="1000950"> </a>Parameters 
</h4>

<p><a name="1001026"> </a>None.</p>
<h4>
  <a name="1001166"> </a>Returns 
</h4>

<p><a name="1007062"> </a>The number of locales that the locale system resource defines. </p>
<h4>
  <a name="1007063"> </a>Comments 
</h4>

<p><a name="1007064"> </a>Use this function to obtain the range of possible values that you can pass as an index to <a href="LocaleMgr.html#998534"><code>LmGetLocaleSetting()</code></a>. If <code>LmGetNumLocales()</code> returns 3, then <code>LmGetLocaleSetting()</code> accepts indexes in the range of 0 to 2. </p>

<p><a name="1007070"> </a>This function returns only the number of locales for which the ROM has locale information. It does not return the number of locales that could possibly be defined. For example, the system resource currently contains no locale whose language is <code>lHebrew</code> and country is <code>cIsrael</code>, even though that is a valid locale. </p>

<h3 class="hbH3">
  <a name="1001577"> </a>LmGetROMLocale Function <a href="#995817"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1001611"> </a>Purpose 
</h4>

<p><a name="1001649"> </a>Returns the ROM locale.</p>
<h4>
  <a name="1001664"> </a>Declared In 
</h4>
<code>LocaleMgr.h<a name="1001680"> </a></code><h4>
  <a name="1001705"> </a>Prototype 
</h4>
<pre class="proto"><a name="1001731"></a>CharEncodingType LmGetROMLocale (
   LmLocaleType <code class="par">*oROMLocale</code>
)
</pre>
<h4>
  <a name="1001770"> </a>Parameters 
</h4>

<dl>
<dt><a name="1001796"> </a><code>&larr;  <i>oROMLocale</i></code></dt>
<dd><a name="1012887"> </a>Points to an <a href="LocaleMgrTypes.html#998700"><code>LmLocaleType</code></a> that identifies the ROM locale. Pass <code>NULL</code> if you don't want to retrieve this value. </dd>

</dl>
<h4>
  <a name="1001861"> </a>Returns 
</h4>

<p><a name="1001887"> </a>A <a href="TextMgr.html#995858"><code>CharEncodingType</code></a> constant that specifies the character encoding used in the ROM locale. Note that this character encoding is not necessarily the encoding in use. </p>
<h4>
  <a name="1001890"> </a>Comments 
</h4>

<p><a name="1015395"> </a>The <b>ROM locale</b> is the default locale stored in the ROM. On certain ROMs, such as an EFIGS ROM, the system locale differs from the ROM locale after the user chooses a language. The ROM locale is used as the fallback overlay locale (used when the Database Manager cannot find a database for the overlay locale) unless that has been explicitly changed with the function <a href="../Memory_Databases_Files/DataMgr.html#1006659"><code>DmSetFallbackOverlayLocale()</code></a>. If the device is hard reset, the system locale is reset to the ROM locale. </p>
<h4>
  <a name="1015550"> </a>See Also 
</h4>

<p><a name="1015665"> </a><a href="LocaleMgr.html#1015402"><code>LmGetSystemLocale()</code></a></p>

<h3 class="hbH3">
  <a name="1015402"> </a>LmGetSystemLocale Function <a href="#995817"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1001982"> </a>Purpose 
</h4>

<p><a name="1007220"> </a>Returns the system locale. </p>
<h4>
  <a name="1001991"> </a>Declared In 
</h4>
<code>LocaleMgr.h<a name="1001993"> </a></code><h4>
  <a name="1001996"> </a>Prototype 
</h4>
<pre class="proto"><a name="1001998"></a>CharEncodingType LmGetSystemLocale (
   LmLocaleType <code class="par">*oSystemLocale</code>
)
</pre>
<h4>
  <a name="1002072"> </a>Parameters 
</h4>

<dl>
<dt><a name="1002074"> </a><code>&larr;  <i>oSystemLocale</i></code></dt>
<dd><a name="1007283"> </a>Points to an <a href="LocaleMgrTypes.html#998700"><code>LmLocaleType</code></a> struct that identifies the system locale. Pass <code>NULL</code> if you don't want to retrieve this value. </dd>

</dl>
<h4>
  <a name="1007284"> </a>Returns 
</h4>

<p><a name="1010662"> </a>A <a href="TextMgr.html#995858"><code>CharEncodingType</code></a> constant that specifies the character encoding used in the system locale. </p>
<h4>
  <a name="1007286"> </a>Comments 
</h4>

<p><a name="1013409"> </a>You typically use this function only to obtain the character encoding used on the device. The system locale is used for various system settings. Applications should instead use the values stored in the user's preferences or those in the formats locale (<a href="LocaleMgr.html#998305"><code>LmGetFormatsLocale()</code></a>), which the user can change in the Formats Preference panel. </p>
<h4>
  <a name="1007297"> </a>See Also 
</h4>

<p><a name="1007304"> </a><a href="LocaleMgr.html#998305"><code>LmGetFormatsLocale()</code></a>, <a href="LocaleMgr.html#1015402"><code>LmGetSystemLocale()</code></a></p>

<h3 class="hbH3">
  <a name="1002781"> </a>LmISONameToCountry Function <a href="#995817"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1002831"> </a>Purpose 
</h4>

<p><a name="1002877"> </a>Converts a country code string into an <a href="LocaleMgrTypes.html#1020047"><code>LmCountryType</code></a> constant. </p>
<h4>
  <a name="1002904"> </a>Declared In 
</h4>
<code>LocaleMgr.h<a name="1002936"> </a></code><h4>
  <a name="1002973"> </a>Prototype 
</h4>
<pre class="proto"><a name="1003017"></a>status_t LmISONameToCountry (
   const char <code class="par">*iISONameStr</code>,
   LmCountryType <code class="par">*oCountry</code>
)
</pre>
<h4>
  <a name="1003094"> </a>Parameters 
</h4>

<dl>
<dt><a name="1003146"> </a><code>&rarr;  <i>iISONameStr</i></code></dt>
<dd><a name="1015790"> </a>A string containing a two-character ASCII ISO 3166 country code. </dd>

<dt><a name="1015791"> </a><code>&larr;  <i>oCountry</i></code></dt>
<dd><a name="1015793"> </a>The corresponding <code>LmCountryType</code> constant. </dd>

</dl>
<h4>
  <a name="1003349"> </a>Returns 
</h4>

<p><a name="1013745"> </a><code>errNone</code> upon success or <code>lmErrUnknownLocale</code> if <code class="par">iISONameStr</code> does not contain a valid country code. </p>
<h4>
  <a name="1003384"> </a>See Also 
</h4>

<p><a name="1013813"> </a><a href="LocaleMgr.html#1010970"><code>LmCountryToISOName()</code></a>, <a href="LocaleMgr.html#1003401"><code>LmISONameToLanguage()</code></a>, <a href="LocaleMgr.html#1005241"><code>LmLanguageToISOName()</code></a></p>

<h3 class="hbH3">
  <a name="1003401"> </a>LmISONameToLanguage Function <a href="#995817"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1003406"> </a>Purpose 
</h4>

<p><a name="1014339"> </a>Converts a language code string into an <a href="LocaleMgrTypes.html#997728"><code>LmLanguageType</code></a> constant. </p>
<h4>
  <a name="1003434"> </a>Declared In 
</h4>
<code>LocaleMgr.h<a name="1003436"> </a></code><h4>
  <a name="1004217"> </a>Prototype 
</h4>
<pre class="proto"><a name="1004443"></a>status_t LmISONameToLanguage (
   const char <code class="par">*iISONameStr</code>,
   LmLanguageType <code class="par">*oLanguage</code>
)
</pre>
<h4>
  <a name="1004556"> </a>Parameters 
</h4>

<dl>
<dt><a name="1004636"> </a><code>&rarr;  <i>iISONameStr</i></code></dt>
<dd><a name="1014459"> </a>A string containing a two-character ASCII ISO 639 language code. </dd>

<dt><a name="1004818"> </a><code>&larr;  <i>oLanguage</i></code></dt>
<dd><a name="1014123"> </a>The corresponding <code>LmLanguageType</code> constant. </dd>

</dl>
<h4>
  <a name="1004870"> </a>Returns 
</h4>

<p><a name="1014547"> </a><code>errNone</code> upon success or <code>lmErrUnknownLocale</code> if <code class="par">iISONameStr</code> does not contain a valid language code. </p>
<h4>
  <a name="1013978"> </a>See Also 
</h4>

<p><a name="1013985"> </a><a href="LocaleMgr.html#1002781"><code>LmISONameToCountry()</code></a>, <a href="LocaleMgr.html#1002781"><code>LmISONameToCountry()</code></a>, <a href="LocaleMgr.html#1005241"><code>LmLanguageToISOName()</code></a></p>

<h3 class="hbH3">
  <a name="1005241"> </a>LmLanguageToISOName Function <a href="#995817"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1005259"> </a>Purpose 
</h4>

<p><a name="1014253"> </a>Converts an <a href="LocaleMgrTypes.html#997728"><code>LmLanguageType</code></a> to a string.</p>
<h4>
  <a name="1005288"> </a>Declared In 
</h4>
<code>LocaleMgr.h<a name="1005290"> </a></code><h4>
  <a name="1005293"> </a>Prototype 
</h4>
<pre class="proto"><a name="1005295"></a>status_t LmLanguageToISOName (
   LmLanguageType <code class="par">iLanguage</code>,
   char <code class="par">*oISONameStr</code>
)
</pre>
<h4>
  <a name="1005298"> </a>Parameters 
</h4>

<dl>
<dt><a name="1005300"> </a><code>&rarr;  <i>iLanguage</i></code></dt>
<dd><a name="1014279"> </a>An <code>LmLanguageType</code> variable specifying the language code as it is stored in a locale. </dd>

<dt><a name="1005305"> </a><code>&larr;  <i>oISONameStr</i></code></dt>
<dd><a name="1014292"> </a>A string that is at least three bytes long. Upon return, this string contains the language code converted to a string. </dd>

</dl>
<h4>
  <a name="1005309"> </a>Returns 
</h4>

<p><a name="1014309"> </a><code>errNone</code> upon success or <code>lmErrUnknownLocale</code> if <code class="par">iLanguage</code> is not a valid language code. </p>
<h4>
  <a name="1014310"> </a>Comments 
</h4>

<p><a name="1014311"> </a>The Database Manager uses this function to convert the overlay locale's language code into a string so that it can construct an overlay database name. </p>
<h4>
  <a name="1014312"> </a>See Also 
</h4>

<p><a name="1014319"> </a><a href="LocaleMgr.html#1002781"><code>LmISONameToCountry()</code></a>, <a href="LocaleMgr.html#1002781"><code>LmISONameToCountry()</code></a>, <a href="LocaleMgr.html#1010970"><code>LmCountryToISOName()</code></a></p>

<h3 class="hbH3">
  <a name="1005349"> </a>LmLocaleToIndex Function <a href="#995817"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1005358"> </a>Purpose 
</h4>

<p><a name="1007124"> </a>Converts an <a href="LocaleMgrTypes.html#998700"><code>LmLocaleType</code></a> to an index suitable for passing to <a href="LocaleMgr.html#998534"><code>LmGetLocaleSetting()</code></a>. </p>
<h4>
  <a name="1005363"> </a>Declared In 
</h4>
<code>LocaleMgr.h<a name="1005388"> </a></code><h4>
  <a name="1005391"> </a>Prototype 
</h4>
<pre class="proto"><a name="1005393"></a>status_t LmLocaleToIndex (
   const LmLocaleType <code class="par">*iLocale</code>,
   uint16_t <code class="par">*oLocaleIndex</code>
)
</pre>
<h4>
  <a name="1005598"> </a>Parameters 
</h4>

<dl>
<dt><a name="1007132"> </a><code>&rarr;  <i>iLocale</i></code></dt>
<dd><a name="1007133"> </a>The locale to convert. This locale can use the constants <code>lmAnyCountry</code> or <code>lmAnyLanguage</code> as wildcards. </dd>

<dt><a name="1007134"> </a><code>&larr;  <i>oLocaleIndex</i></code></dt>
<dd><a name="1007135"> </a>The index of <code class="par">iLocale</code> upon return. </dd>

</dl>
<h4>
  <a name="1005940"> </a>Returns 
</h4>

<p><a name="1007152"> </a><code>errNone</code> upon success or <code>lmErrUnknownLocale</code> if the locale could not be found. </p>
<h4>
  <a name="1007172"> </a>See Also 
</h4>

<p><a name="1014641"> </a><a href="LocaleMgr.html#996402"><code>LmBestLocaleToIndex()</code></a></p>

<h3 class="hbH3">
  <a name="1006327"> </a>LmSetFormatsLocale Function <a href="#995817"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1006349"> </a>Purpose 
</h4>

<p><a name="1006379"> </a>Sets the formats locale and changes the preference settings for locale-specific items to the default values from this locale.</p>
<h4>
  <a name="1006388"> </a>Declared In 
</h4>
<code>LocaleMgr.h<a name="1006398"> </a></code><h4>
  <a name="1006409"> </a>Prototype 
</h4>
<pre class="proto"><a name="1006419"></a>status_t LmSetFormatsLocale (
   const LmLocaleType <code class="par">*iFormatsLocale</code>
)
</pre>
<h4>
  <a name="1006434"> </a>Parameters 
</h4>

<dl>
<dt><a name="1006444"> </a><code>&rarr;  <i>iFormatsLocale</i></code></dt>
<dd><a name="1006455"> </a>An <a href="LocaleMgrTypes.html#998700"><code>LmLocaleType</code></a> to use for the formats locale. </dd>

</dl>
<h4>
  <a name="1006469"> </a>Returns 
</h4>

<p><a name="1006479"> </a><code>errNone</code> upon success or <code>memErrNotEnoughSpace</code> if the Locale Manager fails to allocate memory for an internal structure identifying the preferences. </p>
<h4>
  <a name="1006482"> </a>Comments 
</h4>

<p><a name="1006484"> </a>The Formats Preference panel uses this function when the user selects a new country from the country pop-up list. It then changes the formats locale and all locale-dependent preferences to the settings in the first locale that it finds matching the country. </p>

<p><a name="1014811"> </a>Applications should not call this function without first confirming with the user that the formats locale should be changed. </p>
<h4>
  <a name="1006487"> </a>See Also 
</h4>

<p><a name="1006489"> </a><a href="LocaleMgr.html#998305"><code>LmGetFormatsLocale()</code></a></p>

<p><a name="986245"> </a></p>
&nbsp;<br>
</div>
<!--END CONTENT-->

</td>
<td width="5">&nbsp;&nbsp;</td>
</tr>

</table>

<!-- BEGIN FOOTER -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="7" rowspan="2"><img name="index_x" src="images/shim.gif" width="7" height="33" border="0" alt=""></td>
<td align="left"><img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
<td width="10" rowspan="2"><img name="index_x" src="images/shim.gif" width="10" height="33" border="0" alt=""></td>
</tr>
<tr>
<td align="center">
<p class="footer">
Copyright © 2004, PalmSource, Inc. and its affiliates. All rights reserved.<br>
<a href="http://www.palmsource.com/contact/">Write Us</a> | <a href="http://www.palmos.com/dev/training/">Training</a> | <a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a> | <a href="TextLoc_Front.html" target="_blank">Legal</a></p>
<br>
<!--BEGIN BOOK NAVIGATION-->
<p class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="TextLocTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="LocaleMgrTypes.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="StringMgr.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="TextLocIX.html">Index</a>
</p>
</td>
</tr>
</table>
<!-- END FOOTER -->

</body>
</html>