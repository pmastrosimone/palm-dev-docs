<html>
<head>
<title>(Protein) Handwriting Recognition Engine | Input Services </title> 
<link href="psi_devpubs.css" rel="stylesheet" type="text/css">

<!-- BEGIN META DATA -->
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META NAME="PSITEMPLATE" CONTENT="1006-007 PalmSource_HTML_2003 20041101">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks AutoMap 2003 for FrameMaker 8.0.6.2138">
<META NAME="LASTUPDATED" CONTENT="11/22/04 11:12:33">
<!-- END META DATA -->
</head>

<body bgcolor="#ffffff" text="#000000" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<a name="993097"></a>

<!-- BEGIN TOPNAV -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td><img src="images/shim.gif" width="7" height="75" border="0" alt=""></td>
<td align="left"><table border="0" cellpadding="0" cellspacing="0" width="744">
<tr>
<td><img name="index_r2_c1" src="images/shim.gif" width="25" height="75" border="0" alt=""></td>
<td valign="top"><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_r2_c4" src="images/shim.gif" width="96" height="15" border="0" alt=""></td>
</tr>
<tr>
<td><a href="http://www.palmsource.com/"><img name="ps_logo" src="images/ps_logo.gif" width="96" height="54" border="0" alt=""></a></td>
</tr>

</table>
</td>

<td><table border="0" cellpadding="0" cellspacing="0" width="30">
<td><img name="index_x" src="images/shim.gif" width="30" height="75" border="0" alt=""></td>
</table></td>

<!--BEGIN MASTHEAD-->
<td><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
<tr>
<td>
<!--BEGIN BOOK NAVIGATION-->
<span class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="In_TOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="In_GraffitiReference.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="In_KeyMgr.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="In_IX.html">Index</a>
</span>
<!--END BOOK NAVIGATION-->
</tr>
<tr>
<td>
<!--BEGIN PAGE TITLE-->
<h2 class="PageTitle">7 &nbsp;&nbsp;
Handwriting Recognition Engine</h2></td>
<!--END PAGE TITLE-->
</tr>
<tr>
<td>
<!--BEGIN BOOK TITLE-->
<p class="BookTitle">Input Services </p>
<p class="SubTitle">Exploring Palm OS&#174; </p>
<!--END BOOK TITLE-->
</td>
</tr>
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
</table>
</td>
<!--END MASTHEAD-->
</tr>
</table>
<img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
</tr>
</table>
<!-- END TOPNAV -->

<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" width="5"><img name="index_x" src="images/shim.gif" width="5" height="33" border="0" alt=""></td>

<!--BEGIN SIDETOC-->
<td valign="top" width="175">
<div id="sidetoc" valign="bottom">
<h1 class="SideTOC1-PartTab"><a href="In_RefPart.html">Part II: Reference</a> </h1>
<h1 class="SideTOC1"><a href="In_HandWriting.html">7  Handwriting Recognition Engine</a></h1>

   <h2 class="SideTOC2"><a href="#993105">
   Handwriting Recognition Engine Structures and Types</a></h2>

      <h3 class="SideTOC3"><a href="#1005157">
      CharData</a></h3>

      <h3 class="SideTOC3"><a href="#993113">
      HWRConfig</a></h3>

      <h3 class="SideTOC3"><a href="#993170">
      HWRConfigModeArea</a></h3>

      <h3 class="SideTOC3"><a href="#993214">
      HWRResult</a></h3>

   <h2 class="SideTOC2"><a href="#993318">
   Handwriting Recognition Engine Constants</a></h2>

      <h3 class="SideTOC3"><a href="#997088">
      Ink Hint Constants</a></h3>

      <h3 class="SideTOC3"><a href="#993329">
      Maximum Value Constants</a></h3>

   <h2 class="SideTOC2"><a href="#993526">
   Handwriting Recognition Engine Functions and Macros</a></h2>

      <h3 class="SideTOC3"><a href="#1004145">
      HWRClearInputState</a></h3>

      <h3 class="SideTOC3"><a href="#1004124">
      HWRGetInputMode</a></h3>

      <h3 class="SideTOC3"><a href="#993951">
      HWRInit</a></h3>

      <h3 class="SideTOC3"><a href="#994058">
      HWRProcessStroke</a></h3>

      <h3 class="SideTOC3"><a href="#1003722">
      HWRSetInputMode</a></h3>

      <h3 class="SideTOC3"><a href="#1003646">
      HWRShowReferenceDialog</a></h3>

      <h3 class="SideTOC3"><a href="#1003592">
      HWRShutdown</a></h3>

      <h3 class="SideTOC3"><a href="#994289">
      HWRTimeout</a></h3>

</div>
</td>

<td width="5">&nbsp;&nbsp;</td>
<td width="2" background="images/index_r8_c10.gif"><img src="images/shim.gif" width="2" height="75" border="0" alt=""></td>
<td width="5">&nbsp;&nbsp;</td>

<!--END SIDETOC-->

<td valign="top">

<!--BEGIN CONTENT-->
<div id="content" valign="bottom">
<p><a name="993099"> </a>This chapter describes the handwriting recognition engine API. It covers: </p>
   <blockquote class = "bq"><a name="993111"> </a><a href="In_HandWriting.html#993105">Handwriting Recognition Engine Structures and Types</a></blockquote>
   <blockquote class = "bq"><a name="993324"> </a><a href="In_HandWriting.html#993318">Handwriting Recognition Engine Constants</a></blockquote>
   <blockquote class = "bq"><a name="993532"> </a><a href="In_HandWriting.html#993526">Handwriting Recognition Engine Functions and Macros</a></blockquote>

<p><a name="993101"> </a>The header file <code>HWREngine.h</code> declares the API that this chapter describes. For more information on using or implementing the handwriting recognition engine APIs, see <a href="In_PinletConcept.html#987255">Chapter 3, "Customizing the Dynamic Input Area."</a> </p>

<h2 class="haH2">
  <a name="993105"> </a>Handwriting Recognition Engine Structures and Types <a href="#993097"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="1005157"> </a>CharData Struct <a href="#993097"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1005159"> </a>Purpose 
</h4>

<p><a name="1009909"> </a>Information about a character. This structure is used as an entry in the <code>chars</code> array of <a href="In_HandWriting.html#993214"><code>HWRResult</code></a>. </p>
<h4>
  <a name="1005161"> </a>Declared In 
</h4>
<code>HWREngine.h<a name="1005162"> </a></code><h4>
  <a name="1005163"> </a>Prototype 
</h4>
<pre class="proto"><a name="1005164"></a>typedef struct {
   wchar32_t chr;
   uint32_t flags;
} CharData
</pre>
<h4>
  <a name="1005165"> </a>Fields 
</h4>

<dl>
<dt><a name="1005166"> </a><code>chr</code></dt>
<dd><a name="1010059"> </a>A character code. The Graffiti<sup>&#174;</sup> 2 engine returns characters in the device-specific encoding. </dd>

<dt><a name="1005168"> </a><code>flags</code></dt>
<dd><a name="1011830"> </a>0 or <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">pinCharFlagVirtual</span> if the character is a virtual character. </dd>

</dl>

<h3 class="hbH3">
  <a name="993113"> </a>HWRConfig Struct <a href="#993097"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="993118"> </a>Purpose 
</h4>

<p><a name="993121"> </a>Information used to initialize the handwriting recognition engine. </p>
<h4>
  <a name="993123"> </a>Declared In 
</h4>
<code>HWREngine.h<a name="993126"> </a></code><h4>
  <a name="993128"> </a>Prototype 
</h4>
<pre class="proto"><a name="993131"></a>typedef struct {
   uint16_t hDotsPerInch;
   uint16_t vDotsPerInch;
   RectangleType writingBounds;
   uint32_t numModeAreas;
   HWRConfigModeArea modeArea[kMaxHWRModeAreas];
} HWRConfig
</pre>
<h4>
  <a name="993133"> </a>Fields 
</h4>

<dl>
<dt><a name="993136"> </a><code>hDotsPerInch</code></dt>
<dd><a name="993138"> </a>The number of horizontal pixels per inch of resolution on the device. You can use <a href="../User_Interface/UI_Window.html#1492257"><code>WinGetCoordinateSystem()</code></a> to determine this value. </dd>

<dt><a name="993140"> </a><code>vDotsPerInch</code></dt>
<dd><a name="993142"> </a>The number of vertical pixels per inch of resolution on the device. You can use <a href="../User_Interface/UI_Window.html#1492257"><code>WinGetCoordinateSystem()</code></a> to determine this value. </dd>

<dt><a name="993144"> </a><code>writingBounds</code></dt>
<dd><a name="993146"> </a>The bounds of the writing area within the pinlet. </dd>

<dd><a name="1002768"> </a>The size of a window is not known until runtime. Depending on how you've created your pinlet's form, the size of its writing area bounds may change each time the pinlet is opened. </dd>

<dt><a name="993148"> </a><code>numModeAreas</code></dt>
<dd><a name="993150"> </a>The number of areas within the <code>writingBounds</code> for different input modes. </dd>

<dt><a name="993152"> </a><code>modeArea</code></dt>
<dd><a name="993154"> </a>An array of <a href="In_HandWriting.html#993170"><code>HWRConfigModeArea</code></a> structures describing each mode area. A pinlet may provide different areas for different input modes, such as punctuation, numbers, capital letters, accented characters, and so on. </dd>

<dd><a name="999417"> </a>The normal input mode is never given a mode area. For example, if a handwriting recognition engine's normal mode is to return lowercase letters and you've designed a pinlet that has an area for entering numbers on the right and lowercase letters on the left, you would supply only one entry in this array. </dd>

<dd><a name="999471"> </a>Not all handwriting recognition engines support all input modes, so these areas should be considered suggestions only. </dd>

</dl>
<h4>
  <a name="1001344"> </a>Comments 
</h4>

<p><a name="1001393"> </a>When you pass points to the engine using <a href="In_HandWriting.html#994058"><code>HWRProcessStroke()</code></a>, use the same coordinate system as you use when you specify the bounds and the dots per inch. No handwriting recognition engine should require a particular coordinate system. </p>
<h4>
  <a name="993156"> </a>See Also 
</h4>

<p><a name="993162"> </a><a href="In_HandWriting.html#993951"><code>HWRInit()</code></a></p>

<h3 class="hbH3">
  <a name="993170"> </a>HWRConfigModeArea Struct <a href="#993097"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="993183"> </a>Purpose 
</h4>

<p><a name="993186"> </a>Information about a writing mode area. Used for the <code>modeArea</code> field within the <a href="In_HandWriting.html#993113"><code>HWRConfig</code></a> struct. </p>
<h4>
  <a name="993188"> </a>Declared In 
</h4>
<code>HWREngine.h<a name="993191"> </a></code><h4>
  <a name="993193"> </a>Prototype 
</h4>
<pre class="proto"><a name="993196"></a>typedef struct {
   uint16_t writingMode;
   uint16_t reserved;
   RectangleType modeBounds;
} HWRConfigModeArea
</pre>
<h4>
  <a name="993198"> </a>Fields 
</h4>

<dl>
<dt><a name="993201"> </a><code>writingMode</code></dt>
<dd><a name="1008978"> </a>One of the constants described in <a href="In_PenInputMgr.html#1007514">"Pinlet Input Modes."</a></dd>

<dt><a name="1004874"> </a><code>reserved</code></dt>
<dd><a name="1004875"> </a>Reserved for future use. </dd>

<dt><a name="993205"> </a><code>modeBounds</code></dt>
<dd><a name="1009032"> </a>The bounds of the mode area. </dd>

</dl>

<h3 class="hbH3">
  <a name="993214"> </a>HWRResult Struct <a href="#993097"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="993219"> </a>Purpose 
</h4>

<p><a name="993222"> </a>Provides the character result of the pen stroke. Used as a return parameter for <a href="In_HandWriting.html#994058"><code>HWRProcessStroke()</code></a>.</p>
<h4>
  <a name="993224"> </a>Declared In 
</h4>
<code>HWREngine.h<a name="993227"> </a></code><h4>
  <a name="993229"> </a>Prototype 
</h4>
<pre class="proto"><a name="993232"></a>typedef struct {
   CharData chars[kHWRMaxData];
   uint16_t numChars;
   uint16_t uncertain;
   uint16_t deleteUncertain;
   uint16_t inputMode;
   uint16_t inkHint;
   Boolean timeout;
   uint8_t reserved;
} HWRResult
</pre>
<h4>
  <a name="993234"> </a>Fields 
</h4>

<dl>
<dt><a name="1004795"> </a><code>chars</code></dt>
<dd><a name="1009105"> </a>One or more characters that the user drew. See <a href="In_HandWriting.html#1005157"><code>CharData</code></a>. </dd>

<dt><a name="1004797"> </a><code>numChars</code></dt>
<dd><a name="1009135"> </a>The number of entries in the <code>chars</code> field. </dd>

<dt><a name="993245"> </a><code>uncertain</code></dt>
<dd><a name="1006775"> </a>The number of uncertain characters in the <code>chars</code> field. An uncertain character is one that may be the first stroke of a multistroke character. The uncertain characters are always at the end of the <code>chars</code> array, so if the value of uncertain is three and the <code>chars</code> array has five characters, the uncertain characters are the last three entries in the array. </dd>

<dt><a name="993253"> </a><code>deleteUncertain</code></dt>
<dd><a name="993255"> </a>The number of uncertain characters that were previously sent and should be deleted before adding any new characters. </dd>

<dd><a name="995739"> </a>For example, suppose the K character is a multistroke character that begins with a stroke that could also be the L character. If the user draws the stroke for an L, the engine might return the L and indicate that it is an uncertain character. If the next stroke completes the K character, the engine should return the K and set <code>deleteUncertain</code> to 1 to indicate that the pinlet should delete the previous L character. </dd>

<dd><a name="998822"> </a>Engines are not required to return ambiguous characters. Instead, they may hold them and use the <code>timeout</code> field to request that a timeout value be set. </dd>

<dt><a name="993257"> </a><code>inputMode</code></dt>
<dd><a name="993259"> </a>The engine's current input mode. This is one of the constants described in <a href="In_PenInputMgr.html#1007514">"Pinlet Input Modes."</a> The stroke that was entered may have changed the input mode. If this value changed, the pinlet should change its display of the input mode indicator. </dd>

<dt><a name="993261"> </a><code>inkHint</code></dt>
<dd><a name="993263"> </a>One of the <a href="In_HandWriting.html#997088">Ink Hint Constants</a>. Pinlets that provide live ink (which mirrors the stroke as the user writes it) use this field to determine when to erase the ink. </dd>

<dt><a name="993265"> </a><code>timeout</code></dt>
<dd><a name="1009389"> </a><code>true</code> if the pinlet should set a timeout and wait for more user input. <code>false</code> otherwise. If the pinlet sets a timeout and that value is reached, it should call <a href="In_HandWriting.html#994289"><code>HWRTimeout()</code></a>. </dd>

<dd><a name="1009394"> </a>There is no guarantee that a timeout is reached if one is requested. If the user switches to a new text field or completes the stroke, the timeout is cancelled and the engine receives either a <a href="In_HandWriting.html#1004145"><code>HWRClearInputState()</code></a> call (when the user switches fields) or <a href="In_HandWriting.html#994058"><code>HWRProcessStroke()</code></a> (if the user completes the stroke). </dd>

<dt><a name="1004557"> </a><code>reserved</code></dt>
<dd><a name="993271"> </a>Reserved for future use. </dd>

</dl>

<h2 class="haH2">
  <a name="993318"> </a>Handwriting Recognition Engine Constants <a href="#993097"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="997088"> </a>Ink Hint Constants <a href="#993097"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="997089"> </a>Purpose 
</h4>

<p><a name="997090"> </a>Used to set the <code>inkHint</code> field of a <a href="In_HandWriting.html#993214"><code>HWRResult</code></a> structure.</p>
<h4>
  <a name="997091"> </a>Declared In 
</h4>
<code>HWREngine.h<a name="997092"> </a></code><h4>
  <a name="997093"> </a>Constants 
</h4>

<dl>
<dt><a name="997653"> </a><code>#define hwrInkHintNone 0</code></dt>
<dd><a name="997654"> </a>Erase the last stroke drawn but preserve any previous strokes. This is the default behavior. </dd>

<dt><a name="997100"> </a><code>#define hwrInkHintEraseAll 1</code></dt>
<dd><a name="997101"> </a>All inking should be erased because either a full character was entered or a timeout value was reached. </dd>

<dt><a name="997102"> </a><code>#define hwrInkHintKeepAll 2</code></dt>
<dd><a name="997103"> </a>All current inking should remain on the screen. </dd>

<dt><a name="997104"> </a><code>#define hwrInkHintKeepLastOnly 3</code></dt>
<dd><a name="997105"> </a>Only the inking for the last stroke should remain on the screen. </dd>

</dl>

<h3 class="hbH3">
  <a name="993329"> </a>Maximum Value Constants <a href="#993097"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="993344"> </a>Purpose 
</h4>

<p><a name="993363"> </a>Constants used to size the arrays in <a href="In_HandWriting.html#993214"><code>HWRResult</code></a> and <a href="In_HandWriting.html#993113"><code>HWRConfig</code></a>.</p>
<h4>
  <a name="993381"> </a>Declared In 
</h4>
<code>HWREngine.h<a name="993400"> </a></code><h4>
  <a name="993418"> </a>Constants 
</h4>

<dl>
<dt><a name="993513"> </a><code>#define kHWRMaxData 32</code></dt>
<dd><a name="993515"> </a>The maximum number of bytes allowed in the <code>chars</code> field of <a href="In_HandWriting.html#993214"><code>HWRResult</code></a>. </dd>

<dt><a name="993517"> </a><code>#define kMaxHWRModeAreas 4</code></dt>
<dd><a name="993519"> </a>The maximum number of input modes allowed in <a href="In_HandWriting.html#993113"><code>HWRConfig</code></a>. </dd>

</dl>

<h2 class="haH2">
  <a name="993526"> </a>Handwriting Recognition Engine Functions and Macros <a href="#993097"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="1004145"> </a>HWRClearInputState Function <a href="#993097"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1010320"> </a>Purpose 
</h4>

<p><a name="1010416"> </a>Clears the handwriting recognition engine's internal state. </p>
<h4>
  <a name="993552"> </a>Declared In 
</h4>
<code>HWREngine.h<a name="993581"> </a></code><h4>
  <a name="993614"> </a>Prototype 
</h4>
<pre class="proto"><a name="993667"></a>status_t HWRClearInputState (
   void
)
</pre>
<h4>
  <a name="993723"> </a>Parameters 
</h4>

<p><a name="993782"> </a>None.</p>
<h4>
  <a name="1011206"> </a>Returns 
</h4>

<p><a name="1011387"> </a><code>errNone</code> to indicate success or an error code if a failure occurs. </p>
<h4>
  <a name="1011515"> </a>Comments 
</h4>

<p><a name="1011516"> </a>Pinlets should call this function when they receive <a href="In_Pinlet.html#993084"><code>PinletClearStateProcPtr()</code></a>. Pinlets receive <code>PinletClearStateProcPtr()</code> when the user performs an action that indicates that the internal state should be cleared. For example, suppose the user enters the first stroke of a multistroke character and then taps on the next field in the form. The user clearly intends not to complete the character. The engine should respond by clearing the internal state that it keeps to indicate that a character is in progress. </p>

<h3 class="hbH3">
  <a name="1004124"> </a>HWRGetInputMode Function <a href="#993097"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="993916"> </a>Purpose 
</h4>

<p><a name="993919"> </a>Returns the current input mode. </p>
<h4>
  <a name="993921"> </a>Declared In 
</h4>
<code>HWREngine.h<a name="993924"> </a></code><h4>
  <a name="993926"> </a>Prototype 
</h4>
<pre class="proto"><a name="993929"></a>uint16_t HWRGetInputMode (
   void
)
</pre>
<h4>
  <a name="993931"> </a>Parameters 
</h4>

<p><a name="993934"> </a>None.</p>
<h4>
  <a name="993936"> </a>Returns 
</h4>

<p><a name="993939"> </a>One of the constants described in <a href="In_PenInputMgr.html#1007514">"Pinlet Input Modes."</a></p>
<h4>
  <a name="993946"> </a>See Also 
</h4>

<p><a name="993949"> </a><a href="In_PenInputMgr.html#993602"><code>PINGetInputMode()</code></a>, <a href="In_Pinlet.html#993154"><code>PinletGetInputModeProcPtr()</code></a></p>

<h3 class="hbH3">
  <a name="993951"> </a>HWRInit Function <a href="#993097"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="993956"> </a>Purpose 
</h4>

<p><a name="993959"> </a>Initializes the handwriting recognition engine. </p>
<h4>
  <a name="993961"> </a>Declared In 
</h4>
<code>HWREngine.h<a name="993964"> </a></code><h4>
  <a name="993966"> </a>Prototype 
</h4>
<pre class="proto"><a name="993969"></a>status_t HWRInit (
   const HWRConfig <code class="par">*config</code>
)
</pre>
<h4>
  <a name="993971"> </a>Parameters 
</h4>

<dl>
<dt><a name="993974"> </a><code>&rarr;  <i>config</i></code></dt>
<dd><a name="993976"> </a>Information that should be used to initialize the handwriting recognition engine. See <a href="In_HandWriting.html#993113"><code>HWRConfig</code></a>.</dd>

</dl>
<h4>
  <a name="993982"> </a>Returns 
</h4>

<p><a name="994032"> </a><code>errNone</code> upon success or an error code if a failure occurs. </p>
<h4>
  <a name="994040"> </a>Comments 
</h4>

<p><a name="1000098"> </a>A pinlet calls this function when it is being launched or at any time before it begins using the engine. It should open any necessary databases and allocate global variables. </p>
<h4>
  <a name="994053"> </a>See Also 
</h4>

<p><a name="994056"> </a><a href="In_HandWriting.html#1003592"><code>HWRShutdown()</code></a></p>

<h3 class="hbH3">
  <a name="994058"> </a>HWRProcessStroke Function <a href="#993097"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="994063"> </a>Purpose 
</h4>

<p><a name="994066"> </a>Interprets a pen stroke. </p>
<h4>
  <a name="994068"> </a>Declared In 
</h4>
<code>HWREngine.h<a name="994071"> </a></code><h4>
  <a name="994073"> </a>Prototype 
</h4>
<pre class="proto"><a name="994076"></a>status_t HWRProcessStroke (
   const PointType <code class="par">*points</code>,
   uint32_t <code class="par">numPoints</code>,
   HWRResult <code class="par">*result</code>
)
</pre>
<h4>
  <a name="994078"> </a>Parameters 
</h4>

<dl>
<dt><a name="994081"> </a><code>&rarr;  <i>points</i></code></dt>
<dd><a name="994083"> </a>An array of <a href="../User_Interface/UI_Rectangle.html#994194"><code>PointType</code></a> structures giving the coordinates of each area of pen movement. </dd>

<dt><a name="994085"> </a><code>&rarr;  <i>numPoints</i></code></dt>
<dd><a name="994087"> </a>The number of points in the <code class="par">points</code> parameter. </dd>

<dt><a name="994089"> </a><code>&larr;  <i>result</i></code></dt>
<dd><a name="994091"> </a>An <a href="In_HandWriting.html#993214"><code>HWRResult</code></a> structure indicating what characters, if any, should be sent to Palm OS<sup>&#174;</sup>. </dd>

</dl>
<h4>
  <a name="994093"> </a>Returns 
</h4>

<p><a name="994096"> </a><code>errNone</code> upon success, <code>hwreErrPointBufferFull</code> if too many points were specified, or an error if the engine failed to recognize the stroke. </p>
<h4>
  <a name="994098"> </a>Comments 
</h4>

<p><a name="1000379"> </a>Pinlets should call this function on a <a href="In_LowEvents.html#994097"><code>penUpEvent</code></a>. </p>

<p><a name="994101"> </a>The sending of a pen stroke to this function does not always result in a character being returned. See the description of <code>HWRResult</code> for more information. </p>

<h3 class="hbH3">
  <a name="1003722"> </a>HWRSetInputMode Function <a href="#993097"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="994113"> </a>Purpose 
</h4>

<p><a name="1011591"> </a>Sets the input mode. </p>
<h4>
  <a name="994118"> </a>Declared In 
</h4>
<code>HWREngine.h<a name="994121"> </a></code><h4>
  <a name="994123"> </a>Prototype 
</h4>
<pre class="proto"><a name="994126"></a>void HWRSetInputMode (
   uint16_t <code class="par">inputMode</code>
)
</pre>
<h4>
  <a name="1011720"> </a>Parameters 
</h4>

<dl>
<dt><a name="1011681"> </a><code>&rarr;  <i>inputMode</i></code></dt>
<dd><a name="1011684"> </a>One of the constants described in <a href="In_PenInputMgr.html#1007514">"Pinlet Input Modes."</a></dd>

</dl>
<h4>
  <a name="1011686"> </a>Returns 
</h4>

<p><a name="1011687"> </a>Nothing. </p>
<h4>
  <a name="1011688"> </a>Comments 
</h4>

<p><a name="1011689"> </a>The input mode determines how the engine translates the next set of input from the user. The modes that an engine uses or accepts are up to the engine. Typically, in the normal or default input mode, the engine translates user input into lowercase letters. Translation into any other type of character or symbol requires a different input mode. </p>

<p><a name="1011690"> </a>Not all input modes apply to all handwriting recognition engines. If the engine does not support the specified input mode, it should choose the closest equivalent that is supported, which could be the default mode. </p>
<h4>
  <a name="1011691"> </a>See Also 
</h4>

<p><a name="1011698"> </a><a href="In_PenInputMgr.html#993738"><code>PINSetInputMode()</code></a>, <a href="In_Pinlet.html#993220"><code>PinletSetInputModeProcPtr()</code></a></p>

<h3 class="hbH3">
  <a name="1003646"> </a>HWRShowReferenceDialog Function <a href="#993097"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1011073"> </a>Purpose 
</h4>

<p><a name="1011074"> </a>Displays a dialog that provides user help for the handwriting recognition engine. </p>
<h4>
  <a name="994217"> </a>Declared In 
</h4>
<code>HWREngine.h<a name="994220"> </a></code><h4>
  <a name="994222"> </a>Prototype 
</h4>
<pre class="proto"><a name="994225"></a>void HWRShowReferenceDialog (
   void
)
</pre>
<h4>
  <a name="994227"> </a>Parameters 
</h4>

<p><a name="994230"> </a>None.</p>
<h4>
  <a name="1011120"> </a>Returns 
</h4>

<p><a name="1011121"> </a>Nothing. </p>
<h4>
  <a name="1011122"> </a>Comments 
</h4>

<p><a name="1011123"> </a>This function must display a dialog of some form. If no help is available, it should display an alert indicating no help is available. </p>
<h4>
  <a name="1011124"> </a>See Also 
</h4>

<p><a name="1011130"> </a><a href="In_PenInputMgr.html#993780"><code>PINShowReferenceDialog()</code></a>, <a href="In_Pinlet.html#993262"><code>PinletShowReferenceDialogProcPtr()</code></a></p>

<h3 class="hbH3">
  <a name="1003592"> </a>HWRShutdown Function <a href="#993097"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1010540"> </a>Purpose 
</h4>

<p><a name="1010541"> </a>Frees the handwriting recognition resources. </p>
<h4>
  <a name="994257"> </a>Declared In 
</h4>
<code>HWREngine.h<a name="994260"> </a></code><h4>
  <a name="1008898"> </a>Prototype 
</h4>
<pre class="proto"><a name="1008899"></a>status_t HWRShutdown (
   void
)
</pre>
<h4>
  <a name="1008901"> </a>Parameters 
</h4>

<p><a name="1003572"> </a>None.</p>
<h4>
  <a name="1010713"> </a>Returns 
</h4>

<p><a name="1010714"> </a><code>errNone</code> upon success or an error code if a failure occurs. </p>
<h4>
  <a name="1011052"> </a>Comments 
</h4>

<p><a name="1011054"> </a>A pinlet calls this function in response to the <a href="../Programming_Basics/EventCodes.html#994789"><code>appStopEvent</code></a>. It should close any open databases and deallocate global variables. </p>
<h4>
  <a name="1011055"> </a>See Also 
</h4>

<p><a name="1011059"> </a><a href="In_HandWriting.html#993951"><code>HWRInit()</code></a></p>

<h3 class="hbH3">
  <a name="994289"> </a>HWRTimeout Function <a href="#993097"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="994294"> </a>Purpose 
</h4>

<p><a name="994297"> </a>Specifies that a pinlet's timeout value has been reached. </p>
<h4>
  <a name="994299"> </a>Declared In 
</h4>
<code>HWREngine.h<a name="994302"> </a></code><h4>
  <a name="994304"> </a>Prototype 
</h4>
<pre class="proto"><a name="994307"></a>status_t HWRTimeout (
   HWRResult <code class="par">*result</code>
)
</pre>
<h4>
  <a name="994309"> </a>Parameters 
</h4>

<dl>
<dt><a name="994312"> </a><code>&larr;  <i>result</i></code></dt>
<dd><a name="994314"> </a>A <a href="In_HandWriting.html#993214"><code>HWRResult</code></a> structure indicating what characters, if any, should be sent to Palm OS. </dd>

</dl>
<h4>
  <a name="994336"> </a>Returns 
</h4>

<p><a name="994403"> </a><code>errNone</code> upon success or an error if a failure occurs. </p>
<h4>
  <a name="994405"> </a>Comments 
</h4>

<p><a name="994408"> </a>The <code>result</code> parameter may or may not contain a character when a timeout value is reached. </p>

<p><a name="998793"> </a>For example, consider the Graffiti 2 handwriting recognition engine. In this engine, some strokes may be strokes for a single character or they may be the first stroke for a multistroke character. For example, the letter L could be the first stroke for several characters, such as a K or an I. </p>

<p><a name="998799"> </a>When this engine receives the stroke for an L in a <a href="In_HandWriting.html#994058"><code>HWRProcessStroke()</code></a> call, it stores that stroke and returns <code>true</code> in the <code>timeout</code> field of the <code>HWRResult</code> structure indicating that the pinlet should set a timeout. If the timeout value is reached, the pinlet calls this function. The engine responds by returning in the <code class="par">result</code> parameter an <code>HWRResult</code> structure that contains the letter L. </p>
<h4>
  <a name="994410"> </a>See Also 
</h4>

<p><a name="994413"> </a><a href="In_PinletConcept.html#989240">"Handling Multistroke Characters"</a></p>
&nbsp;<br>
</div>
<!--END CONTENT-->

</td>
<td width="5">&nbsp;&nbsp;</td>
</tr>

</table>

<!-- BEGIN FOOTER -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="7" rowspan="2"><img name="index_x" src="images/shim.gif" width="7" height="33" border="0" alt=""></td>
<td align="left"><img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
<td width="10" rowspan="2"><img name="index_x" src="images/shim.gif" width="10" height="33" border="0" alt=""></td>
</tr>
<tr>
<td align="center">
<p class="footer">
Copyright © 2003, 2004, PalmSource, Inc. and its affiliates. All rights reserved. <br>
<a href="http://www.palmsource.com/contact/">Write Us</a> | <a href="http://www.palmos.com/dev/training/">Training</a> | <a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a> | <a href="In_Front.html" target="_blank">Legal</a></p>
<br>
<!--BEGIN BOOK NAVIGATION-->
<p class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="In_TOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="In_GraffitiReference.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="In_KeyMgr.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="In_IX.html">Index</a>
</p>
</td>
</tr>
</table>
<!-- END FOOTER -->

</body>
</html>