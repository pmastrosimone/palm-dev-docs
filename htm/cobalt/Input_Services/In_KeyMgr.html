<html>
<head>
<title>(Protein) Hard Keys Reference | Input Services </title> 
<link href="psi_devpubs.css" rel="stylesheet" type="text/css">

<!-- BEGIN META DATA -->
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META NAME="PSITEMPLATE" CONTENT="1006-007 PalmSource_HTML_2003 20041101">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks AutoMap 2003 for FrameMaker 8.0.6.2138">
<META NAME="LASTUPDATED" CONTENT="11/22/04 11:12:34">
<!-- END META DATA -->
</head>

<body bgcolor="#ffffff" text="#000000" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<a name="992940"></a>

<!-- BEGIN TOPNAV -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td><img src="images/shim.gif" width="7" height="75" border="0" alt=""></td>
<td align="left"><table border="0" cellpadding="0" cellspacing="0" width="744">
<tr>
<td><img name="index_r2_c1" src="images/shim.gif" width="25" height="75" border="0" alt=""></td>
<td valign="top"><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_r2_c4" src="images/shim.gif" width="96" height="15" border="0" alt=""></td>
</tr>
<tr>
<td><a href="http://www.palmsource.com/"><img name="ps_logo" src="images/ps_logo.gif" width="96" height="54" border="0" alt=""></a></td>
</tr>

</table>
</td>

<td><table border="0" cellpadding="0" cellspacing="0" width="30">
<td><img name="index_x" src="images/shim.gif" width="30" height="75" border="0" alt=""></td>
</table></td>

<!--BEGIN MASTHEAD-->
<td><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
<tr>
<td>
<!--BEGIN BOOK NAVIGATION-->
<span class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="In_TOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="In_HandWriting.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="In_Keyboard.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="In_IX.html">Index</a>
</span>
<!--END BOOK NAVIGATION-->
</tr>
<tr>
<td>
<!--BEGIN PAGE TITLE-->
<h2 class="PageTitle">8 &nbsp;&nbsp;
Hard Keys Reference</h2></td>
<!--END PAGE TITLE-->
</tr>
<tr>
<td>
<!--BEGIN BOOK TITLE-->
<p class="BookTitle">Input Services </p>
<p class="SubTitle">Exploring Palm OS&#174; </p>
<!--END BOOK TITLE-->
</td>
</tr>
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
</table>
</td>
<!--END MASTHEAD-->
</tr>
</table>
<img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
</tr>
</table>
<!-- END TOPNAV -->

<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" width="5"><img name="index_x" src="images/shim.gif" width="5" height="33" border="0" alt=""></td>

<!--BEGIN SIDETOC-->
<td valign="top" width="175">
<div id="sidetoc" valign="bottom">
<h1 class="SideTOC1-PartTab"><a href="In_RefPart.html">Part II: Reference</a> </h1>
<h1 class="SideTOC1"><a href="In_KeyMgr.html">8  Hard Keys Reference</a></h1>

   <h2 class="SideTOC2"><a href="#993830">
   Hard Key Constants</a></h2>

      <h3 class="SideTOC3"><a href="#993689">
      Key State Values</a></h3>

      <h3 class="SideTOC3"><a href="#993945">
      Key Rate Constants</a></h3>

   <h2 class="SideTOC2"><a href="#992948">
   Hard Key Functions and Macros</a></h2>

      <h3 class="SideTOC3"><a href="#992956">
      KeyCurrentState</a></h3>

      <h3 class="SideTOC3"><a href="#992996">
      KeyRates</a></h3>

      <h3 class="SideTOC3"><a href="#994805">
      KeySetMask</a></h3>

</div>
</td>

<td width="5">&nbsp;&nbsp;</td>
<td width="2" background="images/index_r8_c10.gif"><img src="images/shim.gif" width="2" height="75" border="0" alt=""></td>
<td width="5">&nbsp;&nbsp;</td>

<!--END SIDETOC-->

<td valign="top">

<!--BEGIN CONTENT-->
<div id="content" valign="bottom">
<p><a name="993442"> </a>This chapter provides reference material for manipulating the hard keys. This chapter covers: </p>
   <blockquote class = "bq"><a name="994831"> </a><a href="In_KeyMgr.html#993830">Hard Key Constants</a></blockquote>
   <blockquote class = "bq"><a name="994836"> </a><a href="In_KeyMgr.html#992948">Hard Key Functions and Macros</a></blockquote>

<p><a name="993446"> </a>For more information on working with the hard keys, see <a href="In_HardKeys.html#608590">"Customizing Hardware Input."</a></p>

<h2 class="haH2">
  <a name="993830"> </a>Hard Key Constants <a href="#992940"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="993689"> </a>Key State Values <a href="#992940"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="993690"> </a>Purpose 
</h4>

<p><a name="993694"> </a>Used by <a href="In_KeyMgr.html#992956"><code>KeyCurrentState()</code></a> and <a href="In_KeyMgr.html#994805"><code>KeySetMask()</code></a> to specify the hardware keys. </p>
<h4>
  <a name="993695"> </a>Declared In 
</h4>
<code>CmnKeyTypes.h<a name="993696"> </a></code><h4>
  <a name="993697"> </a>Constants 
</h4>

<dl>
<dt><a name="993698"> </a><code>#define keyBitsAll 0xFFFFFFFF</code></dt>
<dd><a name="993699"> </a>A bit mask representing all hard keys. </dd>

<dt><a name="993700"> </a><code>#define keyBitAntenna 0x00000100</code></dt>
<dd><a name="993701"> </a>The antenna "key" on wireless devices that allow a user to go on or off line. </dd>

<dt><a name="993702"> </a><code>#define keyBitContrast 0x00000200</code></dt>
<dd><a name="993703"> </a>Contract key. </dd>

<dt><a name="993704"> </a><code>#define keyBitCradle 0x00000080</code></dt>
<dd><a name="993705"> </a>HotSync<sup>&#174;</sup> button on the cradle. </dd>

<dt><a name="993706"> </a><code>#define keyBitHard1 0x00000008</code></dt>
<dd><a name="993707"> </a>The leftmost application key. This key often brings up the Datebook application. </dd>

<dt><a name="993708"> </a><code>#define keyBitHard2 0x00000010</code></dt>
<dd><a name="993709"> </a>The second application key from the left. This key often brings up the Address Book application. </dd>

<dt><a name="993710"> </a><code>#define keyBitHard3 0x00000020</code></dt>
<dd><a name="993711"> </a>The third application key from the left. This key often brings up the ToDo application. </dd>

<dt><a name="993712"> </a><code>#define keyBitHard4 0x00000040</code></dt>
<dd><a name="993713"> </a>The fourth application key from the left. This key often brings up a NotePad or Memo application. </dd>

<dt><a name="993714"> </a><code>#define keyBitPageDown 0x00000004</code></dt>
<dd><a name="993715"> </a>The scroll down button. </dd>

<dt><a name="993716"> </a><code>#define keyBitPageUp 0x00000002</code></dt>
<dd><a name="993717"> </a>The scroll up button. </dd>

<dt><a name="993718"> </a><code>#define keyBitPower 0x00000001</code></dt>
<dd><a name="993719"> </a>The power key. </dd>

<dt><a name="993720"> </a><code>#define keyBitRockerCenter 0x00100000</code></dt>
<dd><a name="993721"> </a>The center button within a five-way rocker. </dd>

<dt><a name="993722"> </a><code>#define keyBitRockerDown 0x00020000</code></dt>
<dd><a name="993723"> </a>The down button within a five-way rocker. </dd>

<dt><a name="993724"> </a><code>#define keyBitRockerLeft 0x00040000</code></dt>
<dd><a name="993725"> </a>The left button within a five-way rocker. </dd>

<dt><a name="993726"> </a><code>#define keyBitRockerRight 0x00080000</code></dt>
<dd><a name="993727"> </a>The right button within a five-way rocker. </dd>

<dt><a name="993728"> </a><code>#define keyBitRockerUp 0x00010000</code></dt>
<dd><a name="993729"> </a>The up button within a five-way rocker. </dd>

<dt><a name="993730"> </a><code>#define keyBitThumbWheelBack 0x00008000</code></dt>
<dd><a name="993731"> </a>On devices with a thumb wheel, the back button below the wheel.</dd>

<dt><a name="993732"> </a><code>#define keyBitThumbWheelDown 0x00002000</code></dt>
<dd><a name="993733"> </a>On devices with a thumb wheel, the thumb wheel has been turned downward. </dd>

<dt><a name="993734"> </a><code>#define keyBitThumbWheelPush 0x00004000</code></dt>
<dd><a name="993735"> </a>On devices with a thumb wheel, the thumb wheel has been pressed. </dd>

<dt><a name="993736"> </a><code>#define keyBitThumbWheelUp 0x00001000</code></dt>
<dd><a name="993737"> </a>On devices with a thumb wheel, the thumb wheel has been turned upward. </dd>

</dl>
<h4>
  <a name="994844"> </a>Comments 
</h4>

<p><a name="994851"> </a>Not all devices support all of these keys. </p>

<h3 class="hbH3">
  <a name="993945"> </a>Key Rate Constants <a href="#992940"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="993946"> </a>Purpose 
</h4>

<p><a name="993947"> </a>Specify special values for the key rate set by <a href="In_KeyMgr.html#992996"><code>KeyRates()</code></a>.</p>
<h4>
  <a name="993948"> </a>Declared In 
</h4>
<code>CmnKeyTypes.h<a name="993949"> </a></code><h4>
  <a name="993950"> </a>Constants 
</h4>

<dl>
<dt><a name="993951"> </a><code>#define slowestKeyDelayRate 0xff</code></dt>
<dd><a name="993952"> </a>Represents the slowest possible delay before the key is recognized as being pressed or before a double-tap is recognized. </dd>

<dt><a name="993953"> </a><code>#define slowestKeyPeriodRate 0xff</code></dt>
<dd><a name="993954"> </a>Represents the slowest possible auto-repeat rate.</dd>

</dl>

<h2 class="haH2">
  <a name="992948"> </a>Hard Key Functions and Macros <a href="#992940"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="992956"> </a>KeyCurrentState Function <a href="#992940"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="992961"> </a>Purpose 
</h4>

<p><a name="992964"> </a>Returns a bit field with bits set for each key that is currently depressed. </p>
<h4>
  <a name="992966"> </a>Declared In 
</h4>
<code>KeyMgr.h<a name="992969"> </a></code><h4>
  <a name="992971"> </a>Prototype 
</h4>
<pre class="proto"><a name="992974"></a>uint32_t KeyCurrentState (
   void
)
</pre>
<h4>
  <a name="992976"> </a>Parameters 
</h4>

<p><a name="992979"> </a>None.</p>
<h4>
  <a name="992981"> </a>Returns 
</h4>

<p><a name="992984"> </a>A bit mask with bits set for keys that are depressed. See <a href="In_KeyMgr.html#993689">Key State Values</a>.</p>
<h4>
  <a name="993888"> </a>Comments 
</h4>

<p><a name="993897"> </a>Called by applications that need to poll the hardware keys. </p>

<p><a name="993925"> </a>If you want to remap the hardware keys, one way to do so is using this function and <a href="In_KeyMgr.html#994805"><code>KeySetMask()</code></a>. First use <code>KeySetMask()</code> to disable the hardware buttons that you want to remap. Then, periodically poll the keys, possibly in response to the <a href="../Programming_Basics/EventCodes.html#994900"><code>nilEvent</code></a> in your event loop, by using <code>KeyCurrentState()</code> to see if a hard key has been pressed. Then respond accordingly. </p>

<div><hr>
  <a name="995396"> </a> <b>NOTE: </b> This function has high overhead because it performs interprocess-communication. Use it sparingly. 
<hr>
</div>
<h4>
  <a name="995277"> </a>Example 
</h4>

<p><a name="995291"> </a>To see if the first application hard key has been pressed, do the following: </p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
if (KeyCurrentState() &amp; keyBitHard1)
  ...<a name="995302"> </a>
</pre><div class="CodeRule"><hr></div>


<h3 class="hbH3">
  <a name="992996"> </a>KeyRates Function <a href="#992940"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="993001"> </a>Purpose 
</h4>

<p><a name="993004"> </a>Gets or sets the key repeat rates.</p>
<h4>
  <a name="993006"> </a>Declared In 
</h4>
<code>KeyMgr.h<a name="993009"> </a></code><h4>
  <a name="993011"> </a>Prototype 
</h4>
<pre class="proto"><a name="993014"></a>status_t KeyRates (
   Boolean <i>set</i>,
   uint16_t <i>*initDelayP</i>,
   uint16_t <i>*periodP</i>,
   uint16_t <i>*doubleTapDelayP</i>,
   Boolean <i>*queueAheadP</i>
)
</pre>
<h4>
  <a name="993016"> </a>Parameters 
</h4>

<dl>
<dt><a name="993019"> </a><code>&rarr;  <i>set</i></code></dt>
<dd><a name="993065"> </a>If <code>true</code>, settings are changed; if <code>false</code>, current settings are returned.</dd>

<dt><a name="993067"> </a><code>&harr;  <i>initDelayP</i></code></dt>
<dd><a name="993117"> </a>Initial delay in ticks for an auto-repeat event.</dd>

<dt><a name="993119"> </a><code>&harr;  <i>periodP</i></code></dt>
<dd><a name="993121"> </a>Auto-repeat rate specified as period in ticks.</dd>

<dt><a name="993123"> </a><code>&harr;  <i>doubleTapDelayP</i></code></dt>
<dd><a name="993125"> </a>Maximum double-tap delay, in ticks. </dd>

<dt><a name="993127"> </a><code>&harr;  <i>queueAheadP</i></code></dt>
<dd><a name="993129"> </a>If <code>true</code>, auto-repeating keeps queueing up key events if the queue has keys in it. If <code>false</code>, auto-repeat doesn't enqueue keys unless the queue is already empty.</dd>

</dl>
<h4>
  <a name="993131"> </a>Returns 
</h4>

<p><a name="993134"> </a>Always returns <code>errNone</code>.</p>
<h4>
  <a name="993926"> </a>Comments 
</h4>

<p><a name="993935"> </a>This function changes the auto-repeat rate of the hardware buttons. This might be useful to game applications that want to use the hardware buttons for control. The current key repeat rates should be restored before the application exits.</p>

<div><hr>
  <a name="995456"> </a> <b>NOTE: </b> This function has high overhead because it performs interprocess-communication. Use it sparingly. 
<hr>
</div>
<h4>
  <a name="994774"> </a>Example 
</h4>

<p><a name="994781"> </a>The following code shows retrieving the default values, setting the key rates to the slowest possible values for the duration of the game, and then restoring the values. </p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
uint16_t initDelay, period, doubleTapDelay; <a name="994596"> </a>
Boolean queueAhead;<a name="994701"> </a>
<a name="994784"> </a>
//Retrieve old values. <a name="994735"> </a>
KeyRates(false, &amp;initDelay, &amp;period, &amp;doubleTapDelay, <a name="994714"> </a>
  &amp;queueAhead);<a name="995468"> </a>
// set my values<a name="994753"> </a>
KeyRates(true, slowestKeyDelayRate, slowestKeyPeriodRate, <a name="994744"> </a>
  slowestKeyPeriodRate, false);<a name="995469"> </a>
...<a name="994788"> </a>
//play game.<a name="994758"> </a>
...<a name="994789"> </a>
// game is over. Restore previous values.<a name="994759"> </a>
KeyRates(true, initDelay, period, doubleTapDelay, <a name="994760"> </a>
   queueAhead);<a name="994798"> </a>
</pre><div class="CodeRule"><hr></div>


<h3 class="hbH3">
  <a name="994805"> </a>KeySetMask Function <a href="#992940"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="993151"> </a>Purpose 
</h4>

<p><a name="993605"> </a>Specifies which keys generate <a href="In_LowEvents.html#993792"><code>keyDownEvent</code></a>s. </p>
<h4>
  <a name="993607"> </a>Declared In 
</h4>
<code>KeyMgr.h<a name="993159"> </a></code><h4>
  <a name="993161"> </a>Prototype 
</h4>
<pre class="proto"><a name="993164"></a>uint32_t KeySetMask (
   uint32_t <i>keyMask</i>
)
</pre>
<h4>
  <a name="993166"> </a>Parameters 
</h4>

<dl>
<dt><a name="993169"> </a><code>&rarr;  <i>keyMask</i></code></dt>
<dd><a name="993171"> </a>Mask with bits set for those keys to generate <code>keyDownEvent</code>s for. See <a href="In_KeyMgr.html#993689">Key State Values</a>.</dd>

</dl>
<h4>
  <a name="995481"> </a>Returns 
</h4>

<p><a name="995482"> </a>The old key mask.</p>
<h4>
  <a name="995483"> </a>See Also 
</h4>

<p><a name="995487"> </a><a href="In_KeyMgr.html#992956"><code>KeyCurrentState()</code></a></p>

<p><a name="992936"> </a></p>
&nbsp;<br>
</div>
<!--END CONTENT-->

</td>
<td width="5">&nbsp;&nbsp;</td>
</tr>

</table>

<!-- BEGIN FOOTER -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="7" rowspan="2"><img name="index_x" src="images/shim.gif" width="7" height="33" border="0" alt=""></td>
<td align="left"><img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
<td width="10" rowspan="2"><img name="index_x" src="images/shim.gif" width="10" height="33" border="0" alt=""></td>
</tr>
<tr>
<td align="center">
<p class="footer">
Copyright © 2003, 2004, PalmSource, Inc. and its affiliates. All rights reserved. <br>
<a href="http://www.palmsource.com/contact/">Write Us</a> | <a href="http://www.palmos.com/dev/training/">Training</a> | <a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a> | <a href="In_Front.html" target="_blank">Legal</a></p>
<br>
<!--BEGIN BOOK NAVIGATION-->
<p class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="In_TOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="In_HandWriting.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="In_Keyboard.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="In_IX.html">Index</a>
</p>
</td>
</tr>
</table>
<!-- END FOOTER -->

</body>
</html>