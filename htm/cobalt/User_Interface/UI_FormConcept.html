<html>
<head>
<title>(Protein) Working with Forms and Dialogs | User Interface </title> 
<link href="psi_devpubs.css" rel="stylesheet" type="text/css">

<!-- BEGIN META DATA -->
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META NAME="PSITEMPLATE" CONTENT="1006-007 PalmSource_HTML_2003 20041101">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks AutoMap 2003 for FrameMaker 8.0.6.2138">
<META NAME="LASTUPDATED" CONTENT="11/22/04 11:40:17">
<!-- END META DATA -->
</head>

<body bgcolor="#ffffff" text="#000000" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<a name="608590"></a>

<!-- BEGIN TOPNAV -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td><img src="images/shim.gif" width="7" height="75" border="0" alt=""></td>
<td align="left"><table border="0" cellpadding="0" cellspacing="0" width="744">
<tr>
<td><img name="index_r2_c1" src="images/shim.gif" width="25" height="75" border="0" alt=""></td>
<td valign="top"><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_r2_c4" src="images/shim.gif" width="96" height="15" border="0" alt=""></td>
</tr>
<tr>
<td><a href="http://www.palmsource.com/"><img name="ps_logo" src="images/ps_logo.gif" width="96" height="54" border="0" alt=""></a></td>
</tr>

</table>
</td>

<td><table border="0" cellpadding="0" cellspacing="0" width="30">
<td><img name="index_x" src="images/shim.gif" width="30" height="75" border="0" alt=""></td>
</table></td>

<!--BEGIN MASTHEAD-->
<td><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
<tr>
<td>
<!--BEGIN BOOK NAVIGATION-->
<span class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="UI_TOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="UI_Screen.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="UI_ControlConcept.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="UI_IX.html">Index</a>
</span>
<!--END BOOK NAVIGATION-->
</tr>
<tr>
<td>
<!--BEGIN PAGE TITLE-->
<h2 class="PageTitle">2 &nbsp;&nbsp;
Working with Forms and Dialogs</h2></td>
<!--END PAGE TITLE-->
</tr>
<tr>
<td>
<!--BEGIN BOOK TITLE-->
<p class="BookTitle">User Interface </p>
<p class="SubTitle">Exploring Palm OS&#174; </p>
<!--END BOOK TITLE-->
</td>
</tr>
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
</table>
</td>
<!--END MASTHEAD-->
</tr>
</table>
<img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
</tr>
</table>
<!-- END TOPNAV -->

<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" width="5"><img name="index_x" src="images/shim.gif" width="5" height="33" border="0" alt=""></td>

<!--BEGIN SIDETOC-->
<td valign="top" width="175">
<div id="sidetoc" valign="bottom">
<h1 class="SideTOC1-PartTab"><a href="UI_PartConcept.html">Part I: Concepts</a> </h1>
<h1 class="SideTOC1"><a href="UI_FormConcept.html">2  Working with Forms and Dialogs</a></h1>

   <h2 class="SideTOC2"><a href="#1011668">
   Specifying Constraints</a></h2>

      <h3 class="SideTOC3"><a href="#1012179">
      Window Type</a></h3>

      <h3 class="SideTOC3"><a href="#1012302">
      Size Constraints</a></h3>

   <h2 class="SideTOC2"><a href="#1001866">
   Displaying a Form</a></h2>

   <h2 class="SideTOC2"><a href="#1002123">
   Initializing a Form</a></h2>

   <h2 class="SideTOC2"><a href="#1001806">
   Setting a Form's Event Handler</a></h2>

   <h2 class="SideTOC2"><a href="#1020378">
   Laying Out a Form or Dialog</a></h2>

   <h2 class="SideTOC2"><a href="#1014342">
   Opening a Form</a></h2>

   <h2 class="SideTOC2"><a href="#1003393">
   Drawing or Updating a Form</a></h2>

      <h3 class="SideTOC3"><a href="#1001076">
      Invalidating a Form</a></h3>

   <h2 class="SideTOC2"><a href="#997789">
   Closing a Form</a></h2>

   <h2 class="SideTOC2"><a href="#1004083">
   Displaying Dialogs</a></h2>

      <h3 class="SideTOC3"><a href="#1010353">
      Displaying Any Modal Dialog</a></h3>

      <h3 class="SideTOC3"><a href="#1004194">
      Alert Dialogs</a></h3>

      <h3 class="SideTOC3"><a href="#1010469">
      Help Dialogs</a></h3>

      <h3 class="SideTOC3"><a href="#998412">
      Progress Dialogs</a></h3>

   <h2 class="SideTOC2"><a href="#1008814">
   Working With UI Elements</a></h2>

      <h3 class="SideTOC3"><a href="#1010241">
      Accessing an Element</a></h3>

      <h3 class="SideTOC3"><a href="#1009046">
      Dynamically Displaying Elements</a></h3>

   <h2 class="SideTOC2"><a href="#998373">
   Summary of Form and Dialog Functions</a></h2>

</div>
</td>

<td width="5">&nbsp;&nbsp;</td>
<td width="2" background="images/index_r8_c10.gif"><img src="images/shim.gif" width="2" height="75" border="0" alt=""></td>
<td width="5">&nbsp;&nbsp;</td>

<!--END SIDETOC-->

<td valign="top">

<!--BEGIN CONTENT-->
<div id="content" valign="bottom">
<p><a name="995445"> </a>This chapter describes how to programmatically work with forms and dialogs. It covers: </p>
   <blockquote class = "bq"><a name="1004379"> </a><a href="UI_FormConcept.html#1011668">Specifying Constraints</a></blockquote>
   <blockquote class = "bq"><a name="1013694"> </a><a href="UI_FormConcept.html#1001866">Displaying a Form</a></blockquote>
   <blockquote class = "bq"><a name="1004407"> </a><a href="UI_FormConcept.html#1002123">Initializing a Form</a></blockquote>
   <blockquote class = "bq"><a name="1004427"> </a><a href="UI_FormConcept.html#1001806">Setting a Form's Event Handler</a></blockquote>
   <blockquote class = "bq"><a name="1014381"> </a><a href="UI_FormConcept.html#1020378">Laying Out a Form or Dialog</a></blockquote>
   <blockquote class = "bq"><a name="1004447"> </a><a href="UI_FormConcept.html#1014342">Opening a Form</a></blockquote>
   <blockquote class = "bq"><a name="1004487"> </a><a href="UI_FormConcept.html#1003393">Drawing or Updating a Form</a></blockquote>
   <blockquote class = "bq"><a name="1004499"> </a><a href="UI_FormConcept.html#997789">Closing a Form</a></blockquote>
   <blockquote class = "bq"><a name="1004512"> </a><a href="UI_FormConcept.html#1004083">Displaying Dialogs</a></blockquote>
   <blockquote class = "bq"><a name="1008872"> </a><a href="UI_FormConcept.html#1008814">Working With UI Elements</a></blockquote>

<p><a name="1004360"> </a>A <b>form</b> is a container for your application's user interface (see <a href="UI_FormConcept.html#1001436">Figure 2.1</a>). An application must have at least one form, and most applications have more than one. </p>

<p class="FFigureCaption">
  <a name="1001436"> </a><b>Figure 2.1&nbsp;&nbsp;Form</b>
</p>
<div align="left"><img src="images/AddressMainForm.jpg" height="226" width="480" border="0" hspace="0" vspace="0">
</div>

<p><a name="1001477"> </a>A <b>dialog</b> or <b>modal dialog</b> is a special type of form (see <a href="UI_FormConcept.html#1001489">Figure 2.2</a>). Dialogs look different from forms in that they are often shorter and use a different title bar; however, the main difference between a dialog and a form is in the way it handles events. </p>

<p class="FFigureCaption">
  <a name="1001489"> </a><b>Figure 2.2&nbsp;&nbsp;Modal dialog</b>
</p>
<div align="left"><img src="images/ToDoDetailsDialog2.jpg" height="216" width="480" border="0" hspace="0" vspace="0">
</div>

<p><a name="1001652"> </a>In either case, the main purposes of a form or dialog are to:</p>
<ul type="disc">
  <li><a name="1001665"> </a>Display other UI elements
  <li><a name="1001669"> </a>Handle the events that an application receives 
</ul>

<h2 class="haH2">
  <a name="1011668"> </a>Specifying Constraints <a href="#608590"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1011885"> </a>As mentioned in <a href="UI_Screen.html#996070">"Display Layout"</a>, when you create a form resource, you should also specify a its <b>constraints</b>. Palm OS<sup>&#174;</sup> uses the constraints to determine how to create and size windows for your form. Because the way you write code for a form depends significantly on how you set its constraints, this section provides guidelines for setting the constraints resource. The rest of this chapter focuses on how to write code to work with forms. </p>

<p><a name="1014072"> </a>See your resource editor's documentation for specific information on how to set the constraints resource and all other resources. </p>

<p><a name="1011669"> </a>The resource file that defines your form should contain a <code>WINDOW_CONSTRAINTS_RESOURCE</code> with the same ID as the form or dialog. See <a href="UI_FormConcept.html#1011671">Listing 2.1</a>. </p>
<p class="CCodeCaption">
  <a name="1011671"> </a><b>Listing 2.1&nbsp;&nbsp;Sample constraints resource</b>
</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
&lt;WINDOW_CONSTRAINTS_RESOURCE RESOURCE_ID="1800"&gt;<a name="1011672"> </a>
   &lt;VERSION&gt; 1 &lt;/VERSION&gt;<a name="1011673"> </a>
   &lt;WINDOW_CREATE_FLAGS&gt; 0x00000004 &lt;/WINDOW_CREATE_FLAGS&gt;<a name="1011674"> </a>
   &lt;WINDOW_X_POS&gt; 0 &lt;/WINDOW_X_POS&gt;<a name="1011675"> </a>
   &lt;WINDOW_Y_POS&gt; 0 &lt;/WINDOW_Y_POS&gt;<a name="1011676"> </a>
   &lt;WINDOW_WIDTH_MIN&gt; 160 &lt;/WINDOW_WIDTH_MIN&gt;<a name="1011677"> </a>
   &lt;WINDOW_WIDTH_MAX&gt; 0x7fff &lt;/WINDOW_WIDTH_MAX&gt;<a name="1011678"> </a>
   &lt;WINDOW_WIDTH_PREF&gt; 160 &lt;/WINDOW_WIDTH_PREF&gt;<a name="1011679"> </a>
   &lt;WINDOW_HEIGHT_MIN&gt; 160 &lt;/WINDOW_HEIGHT_MIN&gt;<a name="1011680"> </a>
   &lt;WINDOW_HEIGHT_MAX&gt; 0x7fff &lt;/WINDOW_HEIGHT_MAX&gt;<a name="1011681"> </a>
   &lt;WINDOW_HEIGHT_PREF&gt; 240 &lt;/WINDOW_HEIGHT_PREF&gt;<a name="1011682"> </a>
&lt;/WINDOW_CONSTRAINTS_RESOURCE&gt;<a name="1011683"> </a>
</pre><div class="CodeRule"><hr></div>


<p><a name="1011687"> </a>The constraints resource contains two types of information: the window type (which includes the layer) and the size constraints. </p>
<h3 class="hbH3">
  <a name="1012179"> </a>Window Type <a href="#608590"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1011688"> </a>The <code>WINDOW_CREATE_FLAGS</code> attribute is a bit mask that contains the window type and the window layer. The <a href="UI_Window.html#994040"><code>WinFlagsType</code></a> enum specifies the values that this attribute can have. In most cases, you'll only need to set one flag: </p>
<ul type="disc">
  <li><a name="1011690"> </a>The back-buffer flag <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">0x00000004</span> 
</ul>

<p><a name="1013882"> </a>You don't need to set the modal flag in a constraints resource. The window's modal flag is set according to the form resource's modal flag. You set the window layer only very rarely. All application windows appear in the normal layer, which is the default layer. If you're creating a resource for a pinlet, the window layer in the <code>WINDOW_CREATE_FLAGS</code> attribute is ignored. The system automatically displays the pinlet's window in the system layer. </p>

<p><a name="1012613"> </a>The back-buffer flag controls which type of window is created for the form. The window type is important because it controls whether the form follows the Palm OS Cobalt rules for drawing or the legacy rules. In Palm OS Cobalt, drawing is not done directly to the screen as it was in previous releases. Instead, you draw to a <b>graphics context</b>, which is described in more detail in <a href="UI_Drawing.html#1083817">Chapter 8, "Drawing."</a> The window type determines when this graphics context is available. </p>

<p><a name="1012829"> </a>Palm OS Cobalt supports three window types: </p>
<ul type="disc">
  <li><a name="1016778"> </a><b>Legacy windows</b>. Legacy windows are used for forms that do not have a constraints resource. They work just like windows on previous Palm OS releases. Because they do not have constraints, they do not resize or move, and users cannot open or close the dynamic input area when a legacy window is displayed. 
   <p><a name="1018298"> </a>Legacy windows only exist if an application's resources aren't changed when it is ported to Palm OS Cobalt. Because the dynamic input area is disabled when legacy windows are displayed, PalmSource does not recommend that you leave your application in this state. </p>
  <li><a name="1012881"> </a><b>Update-based windows</b>. Update-based windows are created for forms that use the default window creation flags (specifically, that don't set the back-buffer bit). Update-based windows follow the Palm OS Cobalt drawing rules. 
   <p><a name="1012938"> </a>For update-based windows, the graphics context is only available at certain times. The system notifies you that the graphics context is available by sending the <a href="UI_Form.html#1089359"><code>frmUpdateEvent</code></a>. Therefore, if you use update-based windows, you must only draw in response to this event. </p>
</ul>

<div><hr>
  <a name="1016538"> </a> <b>IMPORTANT: </b> A pinlet or any form displayed outside of the application process must use an update-based window. 
<hr>
</div>
<ul type="disc">
  <li><a name="1012481"> </a><b>Transitional windows. </b>Transitional windows are created if you set the back-buffer bit in <code>WINDOW_CREATE_FLAGS</code>. The graphics context is created once and is then stored in the back buffer shared between the application process and the system process. (The system process is where rendering is performed). For a transitional window, you must wait to draw until you receive the first <a href="UI_Window.html#1357625"><code>winResizedEvent</code></a>, which specifies the size of the form. After that, you may draw at any time. 
</ul>

<p><a name="1013084"> </a>You'll probably want to use transitional windows for ported applications, at least until you've discovered all of the places where your application draws to the screen. </p>

<p><a name="1016557"> </a>For new applications, you may choose to use either transitional windows or update-based windows. Transitional windows are more efficient when rendering is done entirely in software, but update-based windows are more efficient on devices that use graphics accelerators. Note that the back buffer is allocated once and shared by all applications, so there is no size penalty for using transitional windows. </p>

<p><a name="1016502"> </a>Regardless of which style of window you use, it's a good idea to try to follow the drawing rules used for update-based windows. </p>
<h3 class="hbH3">
  <a name="1012302"> </a>Size Constraints <a href="#608590"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1012326"> </a>Follow these guidelines when setting the size constraints: </p>
<ul type="disc">
  <li><a name="1011697"> </a>Set <code>WINDOW_X_POS</code> and <code>WINDOW_Y_POS</code> to the location of the top-left corner of the window. In most cases, you can use <code>winUndefConstraint</code> (<code>-32768</code>), which has the system place the window for you. This is particularly important for modal dialogs that are shorter than the available space. 
  <li><a name="1011699"> </a>The constraints you specify should be the ideal size without taking into consideration the device size. 
  <ul type="disc">
    <li><a name="1011700"> </a>For the minimum, specify the minimum space that is realistically necessary to use the form and read its contents. Keep in mind that some pinlets, such as Asian handwriting recognition pinlets, may need more space than the Latin-based ones do. It is strongly suggested that you set the minimum height to between 100 and 160 coordinates. 
    <li><a name="1016241"> </a>For the preferred size, specify the amount of space needed to read the entire contents of the form. For example, if the main element on the form is a list that always contains ten items, the preferred size would be to show all ten items. For a form whose main element is a large text field, the preferred size would be large enough for the text field to show its maximum number of characters. 
      <p><a name="1016805"> </a>Of course, the amount of space needed to display the entire contents of the form may not be known until runtime. If so, you can either set the preferred size to the constant <code>winMaxConstraint</code> (<code>32767</code>), which means make the window as large as possible, or set new size constraints at runtime using <a href="UI_Window.html#1677658"><code>WinSetConstraints()</code></a>. </p>
    <li><a name="1016246"> </a>The maximum size is often the same as the preferred size. If the form does not contain any variable length items such as tables or editable text fields, the maximum size should be the size required to read the entire contents of the form. If the form contains variable length items, set the maximum to the constant <code>winMaxConstraint</code> (<code>32767</code>) because the user can use that extra space for editing. 
    <li><a name="1011704"> </a>A dialog is often already shorter than the available space, so the minimum, maximum, and preferred sizes are often the same. 
  </ul>
</ul>

<p><a name="1014692"> </a>Resizing only happens on devices that use a dynamic input area. Devices that use a static input area do not resize application windows. </p>

<h2 class="haH2">
  <a name="1001866"> </a>Displaying a Form <a href="#608590"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1001888"> </a>Displaying a form involves several steps:</p>
<ol type="1">
  <li value="1"><a name="1001889"> </a>Call <a href="UI_Form.html#1000521"><code>FrmGotoForm()</code></a>. Pass it the resource ID of the form to be loaded and a pointer to the database that contains the resource. For example: 

<div class="CodeRule"><hr></div><pre class="CodeBlock">
if ((error = SysGetModuleDatabase(SysGetRefNum(), &amp;gDbID, <a name="1017787"> </a>
   &amp;gDbP)) &lt; errNone)<a name="1017959"> </a>
   return error;<a name="1017960"> </a>
FrmGotoForm(gDbP, MainForm);<a name="1002066"> </a>
</pre><div class="CodeRule"><hr></div>

   <p><a name="1001923"> </a>This function adds a <a href="UI_Form.html#1089241"><code>frmLoadEvent</code></a> to the event queue followed by a <a href="UI_Form.html#1089265"><code>frmOpenEvent</code></a>. </p>
  <li value="2"><a name="1001945"> </a>Respond to the <code>frmLoadEvent</code> by initializing the form and settings its event handler. See <a href="UI_FormConcept.html#1002123">"Initializing a Form"</a> and <a href="UI_FormConcept.html#1001806">"Setting a Form's Event Handler."</a>
  <li value="3"><a name="1016362"> </a>Respond to the <a href="UI_Window.html#1357625"><code>winResizedEvent</code></a> by rearranging the elements on the form. See <a href="UI_FormConcept.html#1020378">"Laying Out a Form or Dialog."</a> 
  <li value="4"><a name="1001946"> </a>Respond to the <code>frmOpenEvent</code> by performing any initialization that must occur before the form is displayed. See <a href="UI_FormConcept.html#1014342">"Opening a Form."</a> 
  <li value="5"><a name="1001982"> </a>Respond to the <a href="UI_Form.html#1089359"><code>frmUpdateEvent</code></a> by drawing the form. See <a href="UI_FormConcept.html#1003393">"Drawing or Updating a Form."</a> 
</ol>

<p><a name="1002145"> </a>Steps <a href="UI_FormConcept.html#1016362">3</a> through <a href="UI_FormConcept.html#1001982">5</a> may not require you to write any code. The default behavior is sufficient for many forms. </p>

<p><a name="1009863"> </a>Displaying a dialog is very different from displaying a form. See <a href="UI_FormConcept.html#1004083">"Displaying Dialogs."</a> </p>

<h2 class="haH2">
  <a name="1002123"> </a>Initializing a Form <a href="#608590"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1002221"> </a>Initialize the form in response to a <a href="UI_Form.html#1089241"><code>frmLoadEvent</code></a> by doing the following:</p>
<ul type="disc">
  <li><a name="996755"> </a>Call <a href="UI_Form.html#1001135"><code>FrmInitForm()</code></a> to initialize the form's internal data structure and obtain a pointer to it. 
  <li><a name="996761"> </a>Call <a href="UI_Form.html#1002714"><code>FrmSetActiveForm()</code></a> make the form become the active form. 
</ul>

<p><a name="996757"> </a>These steps are typically performed in the <code>AppHandleEvent()</code> function as shown in <a href="UI_FormConcept.html#996656">Listing 2.2</a>. </p>
<p class="CCodeCaption">
  <a name="996656"> </a><b>Listing 2.2&nbsp;&nbsp;Initializing a form</b>
</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
static Boolean AppHandleEvent(EventType *eventP)<a name="996709"> </a>
{<a name="996710"> </a>
   uint16_t formId;<a name="996711"> </a>
   FormType *frmP;<a name="996712"> </a>
<a name="996713"> </a>
   if (eventP-&gt;eType == frmLoadEvent) {<a name="996714"> </a>
      formId = eventP-&gt;data.frmLoad.formID;<a name="996717"> </a>
      frmP = FrmInitForm(gDbID, formId);<a name="996718"> </a>
      FrmSetActiveForm(frmP);<a name="996719"> </a>
      ...<a name="1002423"> </a>
      return true;<a name="996735"> </a>
   }<a name="996736"> </a>
   return false;<a name="996738"> </a>
}<a name="996739"> </a>
</pre><div class="CodeRule"><hr></div>


<p><a name="997038"> </a>The <code>FrmInitForm()</code> function initializes the internal <code>FormType</code> data structure for the form. This data structure is passed to all form functions. </p>

<p><a name="1002377"> </a>The <code>FrmSetActiveForm()</code> function requests that the form be granted input focus. The request is granted asynchronously and can fail if a process with a window in a higher layer requests the input focus at the same time. If the form receives the input focus as a result of this request when initializing a form, it receives these events: </p>
<ul type="disc">
  <li><a name="1002524"> </a>A <a href="UI_Window.html#1659238"><code>winEnterEvent</code></a> 
  <li><a name="997154"> </a>A <a href="UI_Window.html#1356631"><code>winFocusGainedEvent</code></a> 
</ul>

<p><a name="1018178"> </a>See <a href="UI_Screen.html#1001905">"Input Focus"</a> for more information about these events. </p>

<h2 class="haH2">
  <a name="1001806"> </a>Setting a Form's Event Handler <a href="#608590"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1009899"> </a>You typically assign a custom event handler to a form in response to the <a href="UI_Form.html#1089241"><code>frmLoadEvent</code></a>. As you learned in <i>Exploring Palm OS: Programming Basics</i>, the standard application event loop calls the system function <a href="UI_Form.html#997039"><code>FrmDispatchEvent()</code></a> to send events to a form. <code>FrmDispatchEvent()</code> does the following: </p>
<ul type="disc">
  <li><a name="1001811"> </a>If your form has an event handler set, it calls that event handler. 
  <li><a name="1001816"> </a>If your form's event handler returns <code>false</code>, it then calls <a href="UI_Form.html#1000647"><code>FrmHandleEvent()</code></a> to let the built-in code provide default behavior. 
</ul>

<p><a name="997364"> </a>To set the form's event handler, call <a href="UI_Form.html#1003047"><code>FrmSetEventHandler()</code></a> in the <code>AppHandleEvent()</code> function as shown in <a href="UI_FormConcept.html#1002864">Listing 2.3</a>.</p>
<p class="CCodeCaption">
  <a name="1002864"> </a><b>Listing 2.3&nbsp;&nbsp;Setting the event handler</b>
</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
static Boolean AppHandleEvent(EventPtr eventP)<a name="1002897"> </a>
{<a name="1002898"> </a>
   uint16_t formId;<a name="1018100"> </a>
   FormType *frmP;<a name="1018101"> </a>
<a name="1002901"> </a>
   if (eventP-&gt;eType == frmLoadEvent) {<a name="1002902"> </a>
      ...<a name="1002906"> </a>
      case MainForm:<a name="1002989"> </a>
         FrmSetEventHandler(frmP, MainFormHandleEvent);<a name="1002998"> </a>
         break;<a name="1003007"> </a>
      case EditForm:<a name="1003012"> </a>
         FrmSetEventHandler(frmP, EditFormHandleEvent);<a name="1003017"> </a>
         break;<a name="1003037"> </a>
      // one case statement per form typically.<a name="1003038"> </a>
      return true;<a name="1002907"> </a>
   }<a name="1002908"> </a>
   return false;<a name="1002909"> </a>
}<a name="1002910"> </a>
</pre><div class="CodeRule"><hr></div>


<h2 class="haH2">
  <a name="1020378"> </a>Laying Out a Form or Dialog <a href="#608590"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="999525"> </a>Before your form is first displayed or when the user performs an action that causes the form to be resized, the application receives a <a href="UI_Window.html#1357625"><code>winResizedEvent</code></a>. The event structure contains the bounds into which the form should be drawn. </p>

<p><a name="1003470"> </a>If the form is a dialog that remains a constant size, the system takes care of the <code>winResizedEvent</code> for you as long as you have specified <code>winUndefConstraint</code> for the position of the dialog. The system moves the dialog so that it is always at the bottom of the area allocated to the application. </p>

<p><a name="1003477"> </a>For forms and full-screen dialogs, the system can take care of much of the resizing for you if you set up the form properly, but you may need to adjust it afterwards. To set up the form for automatic resizing, create an array of <a href="UI_Form.html#1080140"><code>FormLayoutType</code></a> structures that defines a layout rule for each element within the form. Pass the array to <a href="UI_Form.html#1081506"><code>FrmInitLayout()</code></a> in response to the <a href="UI_Form.html#1089241"><code>frmLoadEvent</code></a>. See <a href="UI_FormConcept.html#1000581">Listing 2.4</a>. </p>

<div><hr>
  <a name="1009438"> </a> <b>IMPORTANT: </b> The <code>FormLayoutType</code> structure must remain in memory for the life of the form. 
<hr>
</div>
<p class="CCodeCaption">
  <a name="1000581"> </a><b>Listing 2.4&nbsp;&nbsp;Automatic form layout</b>
</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
struct FormLayoutType editFormLayout[] = {<a name="1000582"> </a>
   { sizeof(FormLayoutType), EditFormSelectorTrigger, 0, <a name="1017173"> </a>
      frmFollowTop },<a name="1017174"> </a>
   { sizeof(FormLayoutType), EditFormTextField, 0, <a name="1000583"> </a>
      frmFollowTopBottom },<a name="1004644"> </a>
   { sizeof(FormLayoutType), EditFormScrollBar, 0, <a name="1000584"> </a>
      frmFollowTopBottom },<a name="1004645"> </a>
   { sizeof(FormLayoutType), EditFormDoneButton, 0, <a name="1000585"> </a>
      frmFollowBottom },<a name="1004646"> </a>
   { sizeof(FormLayoutType), EditFormDetailsButton, 0, <a name="1000586"> </a>
      frmFollowBottom },<a name="1004647"> </a>
<a name="1019842"> </a>
   // NOTE: Don't forget the shift indicator! Use the special<a name="1019833"> </a>
   // value frmLayoutGraffitiShiftID as its ID. <a name="1019840"> </a>
   { sizeof(FormLayoutType), frmLayoutGraffitiShiftID, 0, <a name="1019831"> </a>
      frmFollowBottom },<a name="1019832"> </a>
   { 0, 0, 0, 0 } // always end the array with a 0 element. <a name="1000587"> </a>
};<a name="1000588"> </a>
<a name="1000589"> </a>
if (eventP-&gt;eType == frmLoadEvent) {<a name="1000590"> </a>
   formId = eventP-&gt;data.frmLoad.formID;<a name="1000591"> </a>
   frmP = FrmInitForm(gDbID, formId);<a name="1000592"> </a>
   FrmSetActiveForm(frmP);<a name="1000593"> </a>
   switch (formId) {<a name="1000594"> </a>
      case EditForm:<a name="1000596"> </a>
         FrmSetEventHandler(frmP, EditFormHandleEvent);<a name="1000597"> </a>
         FrmInitLayout(frmP, editFormLayout);<a name="1000598"> </a>
         break;<a name="1000599"> </a>
   return true;<a name="1000600"> </a>
}<a name="1000601"> </a>
</pre><div class="CodeRule"><hr></div>


<p><a name="1009415"> </a>The layout rule specifies which sides of the form the element is anchored to. If the element is anchored to one side, it moves. If the element is anchored to opposite sides, it resizes. For example, <code>frmFollowBottom</code> specifies that the element is always at a fixed location relative to the bottom of the form. If the form's bottom changes (for example, if the form resizes because the user closes the dynamic input area), the element moves. If the element is anchored to both the top and bottom with <code>frmFollowTopBottom</code>, the element resizes. Similarly, if you anchor an element to the left or right side of the form with <code>frmFollowLeft</code> or <code>frmFollowRight</code>, the element moves if the form is resized horizontally. If you use <code>frmFollowLeftRight</code>, the element resizes with the form. Note that the horizontal resizing rule is independent of the vertical resizing rule. For example, you can have a command button use the following rule: </p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
frmFollowBottom | frmFollowLeftRight<a name="1016305"> </a>
</pre><div class="CodeRule"><hr></div>


<p><a name="1016315"> </a>Such a button resizes horizontally but moves if the form is resized vertically. </p>

<p><a name="1000520"> </a><a href="UI_FormConcept.html#1000651">Figure 2.3</a> shows how <a href="UI_FormConcept.html#1000581">Listing 2.4</a> resizes its form. </p>

<p class="FFigureCaption">
  <a name="1000651"> </a><b>Figure 2.3&nbsp;&nbsp;Resizing a form</b>
</p>
<div align="left"><img src="images/UI_FormConcept3.jpg" height="331" width="626" border="0" hspace="0" vspace="0">
</div>

<p><a name="1010119"> </a>For some forms, you do not need to respond to <code>winResizedEvent</code> at all if you call <code>FrmInitLayout()</code>. <a href="UI_Form.html#1000647"><code>FrmHandleEvent()</code></a> by default calls <a href="UI_Form.html#1081958"><code>FrmPerformLayout()</code></a>, which applies the layout rules to all of the elements in the form. However, <code>FrmPerformLayout()</code> only changes an element's bounds. Specifically, you will need to handle the following: </p>
<ul type="disc">
  <li><a name="1010093"> </a>Scroll bars attached to tables or fields. You need to call <a href="UI_Scrollbar.html#994180"><code>SclSetScrollBar()</code></a> with the new scroll values for the field or table so that the scroll bar automatically appears or disappears as necessary. 
  <li><a name="1010163"> </a>Tables. You may want to increase the number of rows a table displays. 
  <li><a name="1017183"> </a>In any element that scrolls (such as a field, a list, or a table), you may need to make sure that the current selection is still visible when the form shrinks. 
</ul>

<p><a name="1010108"> </a>In each of these cases, call <code>FrmPerformLayout()</code> first, then adjust the elements, and then return <code>true</code> to specify that you've handled the event. <a href="UI_FormConcept.html#1000784">Listing 2.5</a> shows an example of adjusting the number of table rows in response to <code>winResizedEvent</code>.</p>
<p class="CCodeCaption">
  <a name="1000784"> </a><b>Listing 2.5&nbsp;&nbsp;Responding to winResizedEvent</b>
</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
FormType *frmP;<a name="1000805"> </a>
WinHandle winH;<a name="1000889"> </a>
TableType *tableP;<a name="1000890"> </a>
int16_t rowHeight;<a name="1000871"> </a>
int16_t numRows;<a name="1000872"> </a>
RectangleType *tableBounds;<a name="1000916"> </a>
<a name="1000885"> </a>
case winResizedEvent:<a name="1000862"> </a>
<a name="1000806"> </a>
   frmP = FrmGetActiveForm();<a name="1000807"> </a>
   winH = FrmGetWindowHandle( frmP );<a name="1000808"> </a>
   if( winH == eventP-&gt;data.winResized.window )<a name="1000809"> </a>
   {<a name="1000810"> </a>
      FrmPerformLayout(frmP, <a name="1000920"> </a>
      &amp;(eventP-&gt;data.winResized.newBounds));<a name="1000921"> </a>
<a name="1000922"> </a>
      // Fix up the resized table<a name="1000814"> </a>
      tableP = FrmGetObjectPtr(frmP, <a name="1000846"> </a>
         FrmGetObjectIndex(frmP, MyTable));<a name="1000907"> </a>
      TblGetBounds(tableP, &amp;tableBounds);<a name="1000848"> </a>
      rowHeight = TblGetRowHeight(tableP, 0);<a name="1000849"> </a>
      numRows = bounds.extent.y / rowHeight;<a name="1000851"> </a>
<a name="1000852"> </a>
      // keep track of visible rows in a global<a name="1000853"> </a>
      gNumRowsVisibleInTable = numRows;<a name="1000816"> </a>
      // Load records into the table<a name="1000817"> </a>
      LoadRecordsIntoTable();<a name="1000818"> </a>
<a name="1000819"> </a>
      handled = true;<a name="1000820"> </a>
   }<a name="1000821"> </a>
   break;<a name="1000822"> </a>
</pre><div class="CodeRule"><hr></div>


<p><a name="1016399"> </a>If you ever need to reposition an element on the form using <a href="UI_Form.html#1003886"><code>FrmSetObjectBounds()</code></a>, you cannot use <code>FrmInitLayout()</code> or <code>FrmPerformLayout()</code> to resize or reposition that element. Instead, you must leave it out of the array that you pass to <code>FrmInitLayout()</code>, respond to <code>winResizedEvent</code> as shown above, and manually reposition and resize that element. </p>

<h2 class="haH2">
  <a name="1014342"> </a>Opening a Form <a href="#608590"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1014343"> </a>When the system is ready to open a form, it sends the <a href="UI_Form.html#1089265"><code>frmOpenEvent</code></a>. This is a request for the application to perform any initialization that needs to happen before a form is displayed. You might, for example, retrieve a database record that the form should display or set the initial selection for a group of push buttons on the form. </p>

<div><hr>
  <a name="1018241"> </a> <b>IMPORTANT: </b> Do not call <a href="UI_Form.html#997203"><code>FrmDrawForm()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"> </span>in response to <code>frmOpenEvent</code>. 
<hr>
</div>

<h2 class="haH2">
  <a name="1003393"> </a>Drawing or Updating a Form <a href="#608590"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1003541"> </a>Palm OS Cobalt sends a <a href="UI_Form.html#1089359"><code>frmUpdateEvent</code></a> when it is ready for the application to draw. This event contains a rectangle specifying the region that needs to be drawn. All drawing is clipped to this rectangle. </p>

<p><a name="1001025"> </a>Most applications do not need to respond to <code>frmUpdateEvent</code>. The default event handler redraws all user interface elements that a form contains. You only need to respond to this event if you are performing custom drawing. Respond by doing the following:</p>
<ol type="1">
  <li value="1"><a name="1017267"> </a>Call <a href="UI_Form.html#997203"><code>FrmDrawForm()</code></a>. 
  <li value="2"><a name="1017313"> </a>Draw using the functions described in <a href="UI_Drawing.html#1083817">Chapter 8, "Drawing."</a>
</ol>

<p><a name="1017331"> </a>Note that because the clipping rectangle is set to the invalidated region when <code>frmUpdateEvent</code> is sent, <code>FrmDrawForm()</code> only redraws what is necessary to redraw. </p>

<p><a name="1019160"> </a>If you are performing custom drawing, always respond to <code>frmUpdateEvent</code> for any type of window because a window from another process can obscure and then expose your window at any time. The <code>frmUpdateEvent</code> is the signal that your window needs to be redrawn. </p>
<h3 class="hbH3">
  <a name="1001076"> </a>Invalidating a Form <a href="#608590"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1001084"> </a>If you want to refresh the contents of the form, do not directly redraw. Instead, invalidate the form by calling <a href="UI_Window.html#1522408"><code>WinInvalidateWindow()</code></a> or <a href="UI_Window.html#1522335"><code>WinInvalidateRect()</code></a>. These two functions mark all or a portion of the form as dirty. The next time drawing occurs, the form receives the <code>frmUpdateEvent</code> specifying the area that needs to be redrawn. </p>

<p><a name="1001098"> </a>As an optimization, you can use <a href="UI_Window.html#1522368"><code>WinInvalidateRectFunc()</code></a> instead. This function takes a pointer to a callback function, which the system calls instead of sending a <code>frmUpdateEvent</code>. </p>

<p><a name="1018293"> </a>It is not an error to directly redraw into a transitional or legacy window. It is an error to directly redraw into an update-based window. Because the update-based window does not have a graphics context until it receives a <code>frmUpdateEvent</code>, redrawing directly into an update-based windows causes an application crash. </p>

<h2 class="haH2">
  <a name="997789"> </a>Closing a Form <a href="#608590"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1003624"> </a>A form is closed by one of two functions: </p>
<ul type="disc">
  <li><a name="1003632"> </a><a href="UI_Form.html#1000521"><code>FrmGotoForm()</code></a> closes the current form by adding a <a href="UI_Form.html#1089078"><code>frmCloseEvent</code></a> to the event queue before adding the <code>frmLoadEvent</code> and <code>frmOpenEvent</code> for the new form. 
  <li><a name="1003644"> </a><a href="UI_Form.html#995701"><code>FrmCloseAllForms()</code></a> posts a <a href="UI_Form.html#1089078"><code>frmCloseEvent</code></a> for each open form. It should be called before an application shuts down. 
</ul>

<p><a name="997805"> </a>Respond to <code>frmCloseEvent</code> by undoing anything you did in response to <a href="UI_Form.html#1089265"><code>frmOpenEvent</code></a>. Deallocate memory you allocated, write changes to a database record to the database, and so on. </p>

<div><hr>
  <a name="1004136"> </a> <b>TIP: </b> Return <code>false</code> from your <code>frmCloseEvent</code> handler to make sure that the default event handler deletes the form. 
<hr>
</div>

<h2 class="haH2">
  <a name="1004083"> </a>Displaying Dialogs <a href="#608590"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1004084"> </a>Displaying a dialog is different from displaying a form. Depending on the dialog, it can be much simpler than displaying a form. Specifically, if you display an alert, a progress dialog, or a tips dialog, there are special functions that you may use for convenience. </p>

<p><a name="1010368"> </a>This section first describes how to display modal dialogs in general and then describes how to display special types of dialogs. </p>
<h3 class="hbH3">
  <a name="1010353"> </a>Displaying Any Modal Dialog <a href="#608590"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1004085"> </a>A dialog displays on top of another form. You do not call <a href="UI_Form.html#1000521"><code>FrmGotoForm()</code></a> to display a dialog because <code>FrmGotoForm()</code> closes the current form before it opens the new one. Instead, you should call <a href="UI_Form.html#997081"><code>FrmDoDialog()</code></a> to display a dialog.</p>

<p><a name="1004095"> </a>The differences between displaying a form and displaying a dialog are: </p>
<ul type="disc">
  <li><a name="1004097"> </a>You do not receive <code>frmLoadEvent</code> or <code>frmOpenEvent</code> if you call <code>FrmDoDialog()</code>. Perform any necessary initialization, including calling <a href="UI_Form.html#1001135"><code>FrmInitForm()</code></a> and setting the form's event handler, before you call that function. <code>FrmDoDialog()</code> calls <code>FrmSetActiveForm()</code> for you. 
  <li><a name="1004099"> </a>You also do not receive the <code>frmCloseEvent</code>. Instead, <code>FrmDoDialog()</code> returns when the dialog is closed. The return value is the value of the button that was tapped to dismiss the dialog. Therefore, you must call <a href="UI_Form.html#996997"><code>FrmDeleteForm()</code></a> when you are done displaying the dialog. 
  <li><a name="1014629"> </a><code>FrmDoDialog()</code> runs its own event loop. You can still set an event handler for the dialog, and <code>FrmDoDialog()</code> will call it before calling <code>FrmHandleEvent()</code>. 
</ul>
<p class="CCodeCaption">
  <a name="1014630"> </a><b>Listing 2.6&nbsp;&nbsp;Using FrmDoDialog</b>
</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
frmP = FrmInitForm(gDbP, MyDialogForm);<a name="1004104"> </a>
FrmSetEventHandler(frmP, MyDialogEventHandler);<a name="1004105"> </a>
/* initialize the dialog's controls here if necessary */<a name="1004106"> </a>
<a name="1004107"> </a>
/* open the dialog, and wait until a button is pressed to 
close it. */<a name="1004108"> </a>
whichButton = FrmDoDialog(frmP);<a name="1004109"> </a>
<a name="1004110"> </a>
if (whichButton == DetailsOKButton) {<a name="1004111"> </a>
  /* get data from controls on the form to save/apply changes <a name="1004112"> </a>
  */<a name="1004113"> </a>
}<a name="1004114"> </a>
FrmDeleteForm(frmP);<a name="1004115"> </a>
</pre><div class="CodeRule"><hr></div>


<p><a name="1004116"> </a>If you need more control over the dialog and how it behaves, call <a href="UI_Form.html#1317105"><code>FrmPopupForm()</code></a> instead of <code>FrmDoDialog()</code>. <code>FrmPopupForm()</code> is like <code>FrmGotoForm()</code> except that it does not close the current form. Your dialog will receive the <code>frmLoadEvent</code> and <code>frmOpenEvent</code> and you should otherwise follow the instructions in <a href="UI_FormConcept.html#1001866">"Displaying a Form."</a> When your dialog should be dismissed, perform any necessary cleanup and then call <a href="UI_Form.html#1002283"><code>FrmReturnToForm()</code></a> with a form ID of 0 to return to the previously displayed form. </p>
<h3 class="hbH3">
  <a name="1004194"> </a>Alert Dialogs <a href="#608590"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1004197"> </a>An alert dialog is a modal dialog that is primarily informational (see <a href="UI_FormConcept.html#1004324">Figure 2.4</a>). It might prompt the user to confirm an action, or it might display an error message. </p>

<p class="FFigureCaption">
  <a name="1004324"> </a><b>Figure 2.4&nbsp;&nbsp;Alert dialog</b>
</p>
<div align="left"><img src="images/alert.gif" border="0" hspace="0" vspace="0">
</div>

<p><a name="1018118"> </a>The following functions display alerts: </p>
<ul type="disc">
  <li><a name="1004215"> </a><a href="UI_Form.html#995492"><code>FrmAlert()</code></a> displays a simple alert that contains a message string and has several command buttons. 
  <li><a name="1004263"> </a><a href="UI_Form.html#996096"><code>FrmCustomAlert()</code></a> displays an alert with a customized string. You create the string using the strings ^1, ^2, and ^3 as placeholders. When you call <code>FrmCustomAlert()</code>, you pass strings to substitute for those placeholders. 
  <li><a name="1004312"> </a><a href="UI_Form.html#996508"><code>FrmCustomResponseAlert()</code></a> displays an alert with a text field as well as command buttons. You pass a pointer to a callback function that verifies the text the user enters in the text field. This is typically used for password dialogs. 
</ul>

<p><a name="1010390"> </a>All of these functions return the item number of the button that the user tapped to dismiss the alert. Buttons are numbered from left to right starting with button 0. The functions handle all steps for you, from calling <code>FrmInitForm()</code> to calling <code>FrmDeleteForm()</code>. </p>
<h3 class="hbH3">
  <a name="1010469"> </a>Help Dialogs <a href="#608590"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1010470"> </a>A help or tips dialog displays when the user taps the "i" button on a modal dialog. You typically only provide a string resource containing the help text and the system handles displaying the dialog for you. </p>

<p><a name="1010471"> </a>If you want to display a help dialog through some other means, use the <a href="UI_Form.html#1000693"><code>FrmHelp()</code></a> function. As with the alert functions, <code>FrmHelp()</code> initializes the form for you before it opens and deletes it when the user closes it. You only need to make the one function call. </p>
<h3 class="hbH3">
  <a name="998412"> </a>Progress Dialogs <a href="#608590"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="998414"> </a>If your application performs a lengthy process, such as data transfer during a communications session, consider displaying a progress dialog to inform the user of the status of the process. The Progress Manager provides the mechanism to display progress dialogs. </p>

<p><a name="998420"> </a>You display a progress dialog by calling <a href="UI_ProgressManager.html#994108"><code>PrgStartDialog()</code></a>. Then, as your process progresses, you call <a href="UI_ProgressManager.html#994266"><code>PrgUpdateDialog()</code></a> to update the dialog with new information for the user. In your event loop you call <a href="UI_ProgressManager.html#994062"><code>PrgHandleEvent()</code></a> to handle the progress dialog update events queued by <code>PrgUpdateDialog()</code>. The <code>PrgHandleEvent()</code> function makes a callback to a <a href="UI_ProgressManager.html#994689"><code>PrgCallbackFunc()</code></a> function that you supply to get the latest progress information.</p>

<p><a name="998429"> </a>Note that whatever operation you are doing that is the lengthy process, you do the work either inside your normal event loop or in a separate thread, not in the callback function. That is, you call <a href="../Programming_Basics/Event.html#996063"><code>EvtGetEvent()</code></a> and do work when you get a <code>nilEvent</code>. Each time you get a <code>nilEvent</code>, do a chunk of work, but be sure to continue to call <code>EvtGetEvent()</code> frequently (like every half second), so that pen taps and other events get noticed quickly enough.</p>

<p><a name="998438"> </a>The dialog can display a few lines of text that are automatically centered and formatted. You can also specify an icon that identifies the operation in progress. The dialog has two optional buttons: </p>
<ul type="disc">
  <li><a name="1018622"> </a>A Cancel or OK button. The label of this button is automatically controlled by the Progress Manager and depends on the current progress state (no error, error, or user canceled operation).
  <li><a name="1018627"> </a>An optional skip button. You can enable the use of a skip button by setting a flag in the structure returned by <code>PrgCallbackFunc()</code>. If the user taps the skip button, you should skip the current stage of the process and move on to the next stage. Of course, you only enable the button if stages in the process can be skipped. 
</ul>

<h4 class="hcH4">
  <a name="998440"> </a>Progress Callback Function
</h4>

<p><a name="998441"> </a>When you want to update the progress dialog with new information, you call the function <code>PrgUpdateDialog()</code>. To get the current progress information to display in the progress dialog, <code>PrgHandleEvent()</code> calls a function that you supplied in your call to <a href="UI_ProgressManager.html#994108"><code>PrgStartDialog()</code></a>.</p>

<p><a name="998446"> </a>The system passes the callback function one parameter, a pointer to a <a href="UI_ProgressManager.html#993270"><code>PrgCallbackData</code></a> structure. To learn what type of information is passed in this structure, see <a href="UI_ProgressManager.html#993254">Chapter 26, "Progress Manager Reference."</a> </p>

<p><a name="998453"> </a>Your callback function should return a Boolean. Return <code>true</code> if the progress dialog should be updated using the values you specified in the <code>PrgCallbackData</code> structure. If you specify <code>false</code>, the dialog is still updated, but with default status messages. (Returning <code>false</code> is not recommended.)</p>

<p><a name="1018721"> </a>In the callback function, you should set the value of the <code>PrgCallbackData</code>'s <code>textP</code> buffer to the string you want to display in the progress dialog when it is updated. You can use the value in the <code>stage</code> field to look up a message in a string resource. You also might want to append the text in the <code>message</code> field to your base string. Typically, the <code>message</code> field would contain more dynamic information that depends on a user selection, such as a phone number, device name, or network identifier, etc.</p>

<p><a name="1018722"> </a>For example, the <code>PrgUpdateDialog()</code> function might have been called with a <code>stage</code> of 1 and a <code class="par">messageP</code> parameter value of a phone number string, "555-1212". Based on the stage, you might find the string "Dialing" in a string resource, and append the phone number, to form the final text "Dialing 555-1212" that you place in the text buffer <code>textP</code>.</p>

<p><a name="1018723"> </a>Keeping the static strings corresponding to various stages in a resource makes it easier to localize your application. More dynamic information can be passed in using the <code class="par">messageP</code> parameter to <code>PrgUpdateDialog()</code>.</p>

<div><hr>
  <a name="998457"> </a> <b>NOTE: </b> The callback function is called only if the parameters passed to <code>PrgUpdateDialog()</code> have changed from the last time it was called. If <code>PrgUpdateDialog()</code> is called twice with exactly the same parameters, the callback function is called only once. 
<hr>
</div>

<h2 class="haH2">
  <a name="1008814"> </a>Working With UI Elements <a href="#608590"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1010037"> </a>One of the main purposes of a form is to display other user interface elements (sometimes called objects) such as command buttons, text fields, and tables. Specifics on programmatically working with each type of element are given in most of the remaining chapters of this book. </p>

<p><a name="1010231"> </a>You use the form to gain initial access to an element on that form. You also use form functions to control when the element is displayed. Both of these topics are described in this section. </p>
<h3 class="hbH3">
  <a name="1010241"> </a>Accessing an Element <a href="#608590"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1010222"> </a>The elements that a form contains are accessed through the form. Functions tend to reference a UI element in one of the following ways: </p>
<ul type="disc">
  <li><a name="1008894"> </a>By the resource ID that you specified when you created the element in a resource file. 
  <li><a name="1008905"> </a>By the element's index, which is the index into the form's internal list of elements. If you have a resource ID, you can obtain the element's index using the function <a href="UI_Form.html#999904"><code>FrmGetObjectIndex()</code></a>. 
  <li><a name="1008906"> </a>By a pointer to the element's internal data structure. If you have an element's index, you can obtain its pointer using the function <a href="UI_Form.html#1000138"><code>FrmGetObjectPtr()</code></a>. 
</ul>

<p><a name="1008907"> </a>Most functions use the pointer reference to an element. For this reason, many applications define a function similar to the one shown in <a href="UI_FormConcept.html#1008926">Listing 2.7</a>. </p>
<p class="CCodeCaption">
  <a name="1008926"> </a><b>Listing 2.7&nbsp;&nbsp;Obtaining a pointer to a UI element</b>
</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
void *GetObjectPtr(uint16_t objectID)<a name="1008931"> </a>
{<a name="1008932"> </a>
  FormType *frmP;<a name="1008933"> </a>
<a name="1008934"> </a>
  frmP = FrmGetActiveForm();<a name="1008935"> </a>
  return FrmGetObjectPtr(frmP, <a name="1008936"> </a>
      FrmGetObjectIndex(frmP, objectID));<a name="1008970"> </a>
}<a name="1008937"> </a>
<a name="1008983"> </a>
void SomeOtherFunction(void) <a name="1008988"> </a>
{<a name="1008997"> </a>
  ControlType *controlP = <a name="1009004"> </a>
    (ControlType *)GetObjectPtr(MainPopupTrigger);<a name="1009015"> </a>
  ListType *listP = (ListType *)GetObjectPtr(MainPopupList);<a name="1009011"> </a>
  ...<a name="1009018"> </a>
}<a name="1009019"> </a>
</pre><div class="CodeRule"><hr></div>

<h3 class="hbH3">
  <a name="1009046"> </a>Dynamically Displaying Elements <a href="#608590"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1009047"> </a>If you need to have a user interface element appear or disappear at runtime, do the following: </p>
<ol type="1">
  <li value="1"><a name="1010507"> </a>When creating your resource file, define all of the elements that may conceivably be displayed on the form at any time during the life of the application. 
  <li value="2"><a name="1010512"> </a>If an element should not be displayed when the form is first displayed, set its usable attribute to <code>false</code> in the resource file. 
  <li value="3"><a name="1010518"> </a>When an event occurs that should change the form's display, use <a href="UI_Form.html#1004114"><code>FrmShowObject()</code></a> to show any previously undisplayed element. Use <a href="UI_Form.html#1000869"><code>FrmHideObject()</code></a> to remove any element that should no longer be displayed. 
</ol>

<p><a name="1010538"> </a>For update-based windows, both <code>FrmShowObject()</code> and <code>FrmHideObject()</code> invalidate the area of the form where that element appears. That is, they asynchronously trigger a <a href="UI_Form.html#1089359"><code>frmUpdateEvent</code></a>. When your application receives the <a href="UI_Form.html#1089359"><code>frmUpdateEvent</code></a>, the new show and hide settings take effect. For all other windows, <code>FrmHideObject()</code> and <code>FrmShowObject()</code> are immediate. </p>

<div><hr>
  <a name="1019843"> </a> <b>TIP: </b> In Palm OS Cobalt, hiding an element means filling its region with the color set for <code>UIFormFill</code>. This is true regardless of the type of window used for the form (legacy, transitional, or update-based). 
<hr>
</div>

<p><a name="1009054"> </a>Some applications must create their displays at runtime. These applications can use the dynamic UI APIs:</p>
<ul type="disc">
  <li><a name="1010612"> </a><a href="UI_Control.html#995009"><code>CtlNewControl()</code></a> 
  <li><a name="1010616"> </a><a href="UI_Control.html#996230"><code>CtlValidatePointer()</code></a> 
  <li><a name="1010620"> </a><a href="UI_Field.html#997289"><code>FldNewField()</code></a> 
  <li><a name="1010624"> </a><a href="UI_Form.html#1001439"><code>FrmNewBitmap()</code></a> 
  <li><a name="1010628"> </a><a href="UI_Form.html#1001501"><code>FrmNewForm()</code></a> 
  <li><a name="1010666"> </a><a href="UI_Form.html#1001591"><code>FrmNewFormWithConstraints()</code></a>
  <li><a name="1010632"> </a><a href="UI_Form.html#1001669"><code>FrmNewGadget()</code></a> 
  <li><a name="1010701"> </a><a href="UI_Form.html#1001735"><code>FrmNewGsi()</code></a> 
  <li><a name="1010636"> </a><a href="UI_Form.html#1001785"><code>FrmNewLabel()</code></a> 
  <li><a name="1010640"> </a><a href="UI_Form.html#1002111"><code>FrmRemoveObject()</code></a> 
  <li><a name="1010644"> </a><a href="UI_Form.html#1004377"><code>FrmValidatePtr()</code></a> 
  <li><a name="1010648"> </a><a href="UI_List.html#994806"><code>LstNewList()</code></a> 
</ul>

<p><a name="1009059"> </a>You can use the <a href="UI_Form.html#1001501"><code>FrmNewForm()</code></a> function to create new forms dynamically. Palm's UI guidelines encourage you to keep modal dialogs at the bottom of the screen, using the entire screen width. This isn't enforced by the function, but is strongly encouraged in order to maintain a look and feel that is consistent with the built-in applications.</p>

<p><a name="1009072"> </a>The <a href="UI_Form.html#1001785"><code>FrmNewLabel()</code></a>, <a href="UI_Form.html#1001439"><code>FrmNewBitmap()</code></a>, <a href="UI_Form.html#1001669"><code>FrmNewGadget()</code></a>, <a href="UI_List.html#994806"><code>LstNewList()</code></a>, <a href="UI_Field.html#997289"><code>FldNewField()</code></a> and <a href="UI_Control.html#995009"><code>CtlNewControl()</code></a> functions can be used to create new elements on forms. </p>

<p><a name="1009085"> </a>It is fine to add new items to an active form, but doing so is very likely to move the form structure in memory; therefore, any pointers to the form or to controls on the form might change. Make sure to update any variables or pointers that you are using so that they refer to the form's new memory location, which is returned when you create the element.</p>

<p><a name="1010728"> </a>If you're not absolutely sure that you need to change your UI dynamically, don't do it&#8212;unexpected changes to an application's interface are likely to confuse or frustrate the end user. </p>

<p><a name="1009090"> </a>The <a href="UI_Form.html#1002111"><code>FrmRemoveObject()</code></a> function removes a dynamically created element from a form. This function doesn't free memory referenced by the element (if any) but it does shrink the form chunk. For best efficiency when removing items from forms, remove items in order of decreasing index values, beginning with the item having the highest index value. When removing items from a form, you need to be mindful of the same concerns as when adding items: the form pointer and pointers to controls on the form may change as a result of any call that moves the form structure in memory.</p>

<p><a name="1009091"> </a>When creating forms dynamically, or just to make your application more robust, use the <a href="UI_Form.html#1004377"><code>FrmValidatePtr()</code></a> function to ensure that your form pointer is valid and the form it points to is valid. This routine can catch lots of bugs for you&#8212;use it!</p>

<h2 class="haH2">
  <a name="998373"> </a>Summary of Form and Dialog Functions <a href="#608590"><span class="nav">^TOP^</span></a>
</h2>



<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1015667"> </a><b><span style="color: #000000;  font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; vertical-align: baseline">Form Functions</span></b></p>
    </th>
    <th><p class="tt"><a name="1015669"> </a><b></b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1015671"> </a><b>Loading a Form</b></p>
    </td>
    <td><p class="tt"><a name="1015673"> </a><b></b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1015678"> </a><b><a href="UI_Form.html#1000521"><code>FrmGotoForm()</code></a></b></p>
    </td>
    <td><p class="tt"><a name="1015683"> </a><b><a href="UI_Form.html#1317105"><code>FrmPopupForm()</code></a></b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1015685"> </a><b>Initialization</b></p>
    </td>
    <td><p class="tt"><a name="1015687"> </a><b></b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1015692"> </a><b><a href="UI_Form.html#1001135"><code>FrmInitForm()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#1081506"><code>FrmInitLayout()</code></a></b></p>
    </td>
    <td><p class="tt"><a name="1015700"> </a><b><a href="UI_Form.html#1001181"><code>FrmInitFormWithFlags()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#1002714"><code>FrmSetActiveForm()</code></a></b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1015705"> </a><b>Event Handling</b></p>
    </td>
    <td><p class="tt"><a name="1015707"> </a><b></b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1015712"> </a><b><a href="UI_Form.html#1000647"><code>FrmHandleEvent()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#997039"><code>FrmDispatchEvent()</code></a></b></p>
    </td>
    <td><p class="tt"><a name="1015720"> </a><b><a href="UI_Form.html#1003047"><code>FrmSetEventHandler()</code></a></b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1015722"> </a><b>Displaying a Modal Dialog</b></p>
    </td>
    <td><p class="tt"><a name="1015724"> </a><b></b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1015729"> </a><b><a href="UI_Form.html#997081"><code>FrmDoDialog()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#995492"><code>FrmAlert()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#1000693"><code>FrmHelp()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#1050452"><code>FrmAlertWithFlags()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#1001735"><code>FrmNewGsi()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#996096"><code>FrmCustomAlert()</code></a></b></p>
    </td>
    <td><p class="tt"><a name="1015752"> </a><b><a href="UI_Form.html#996162"><code>FrmCustomAlertWithFlags()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#996508"><code>FrmCustomResponseAlert()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#996878"><code>FrmCustomResponseAlertWithFlags()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#1000819"><code>FrmHelpWithFlags()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#1004160"><code>FrmUIAlert()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span></b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1015769"> </a><b>Updating the Display</b></p>
    </td>
    <td><p class="tt"><a name="1015771"> </a><b></b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1015776"> </a><b><a href="UI_Form.html#997203"><code>FrmDrawForm()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#1004114"><code>FrmShowObject()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#1002111"><code>FrmRemoveObject()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Window.html#1522335"><code>WinInvalidateRect()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Window.html#1522408"><code>WinInvalidateWindow()</code></a></b></p>
    </td>
    <td><p class="tt"><a name="1015787"> </a><b><a href="UI_Form.html#1000869"><code>FrmHideObject()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#1004315"><code>FrmUpdateScrollers()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#1004245"><code>FrmUpdateForm()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Window.html#1522368"><code>WinInvalidateRectFunc()</code></a></b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1015795"> </a><b>Form Attributes</b></p>
    </td>
    <td><p class="tt"><a name="1015797"> </a><b></b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1015802"> </a><b><a href="UI_Form.html#1004419"><code>FrmVisible()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#997768"><code>FrmGetDefaultButtonID()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#1003001"><code>FrmSetDefaultButtonID()</code></a></b></p>
    </td>
    <td><p class="tt"><a name="1015813"> </a><b><a href="UI_Form.html#998848"><code>FrmGetHelpID()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#1003295"><code>FrmSetHelpID()</code></a></b></p>
    </td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><p class="tt"><a name="1015818"> </a><b>Accessing a Form Programmatically</b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1015825"> </a><b><a href="UI_Form.html#997413"><code>FrmGetActiveForm()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#998156"><code>FrmGetFirstForm()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#998434"><code>FrmGetFormPtr()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#1004377"><code>FrmValidatePtr()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#994827"><code>ECFrmValidatePtr()</code></a></b></p>
    </td>
    <td><p class="tt"><a name="1015842"> </a><b><a href="UI_Form.html#997552"><code>FrmGetActiveFormID()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#998349"><code>FrmGetFormId()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#1000479"><code>FrmGetWindowHandle()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#998500"><code>FrmGetFormWithWindow()</code></a></b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1015853"> </a><b>Obtaining Focus</b></p>
    </td>
    <td><p class="tt"><a name="1015855"> </a><b></b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1015860"> </a><b><a href="UI_Form.html#998196"><code>FrmGetFocus()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#997371"><code>FrmGetActiveField()</code></a></b></p>
    </td>
    <td><p class="tt"><a name="1015868"> </a><b><a href="UI_Form.html#1003097"><code>FrmSetFocus()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span></b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1015870"> </a><b>Accessing Objects Within a Form</b></p>
    </td>
    <td><p class="tt"><a name="1015872"> </a><b></b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1015877"> </a><b><a href="UI_Form.html#999760"><code>FrmGetObjectId()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#1000184"><code>FrmGetObjectType()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#1000138"><code>FrmGetObjectPtr()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#999950"><code>FrmGetObjectIndexFromPtr()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#1000282"><code>FrmGetObjectUsable()</code></a></b></p>
    </td>
    <td><p class="tt"><a name="1015894"> </a><b><a href="UI_Form.html#999904"><code>FrmGetObjectIndex()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#1000080"><code>FrmGetObjectPosition()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#999408"><code>FrmGetNumberOfObjects()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"> <br></span><a href="UI_Form.html#999834"><code>FrmGetObjectIdFromObjectPtr()</code></a></b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1015905"> </a><b>Title and Menu</b></p>
    </td>
    <td><p class="tt"><a name="1015907"> </a><b></b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1015912"> </a><b><a href="UI_Form.html#996011"><code>FrmCopyTitle()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#1001931"><code>FrmPointInTitle()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#1003742"><code>FrmSetMenu()</code></a></b></p>
    </td>
    <td><p class="tt"><a name="1015923"> </a><a href="UI_Form.html#1000328"><code>FrmGetTitle()</code></a><br><a href="UI_Form.html#1004064"><code>FrmSetTitle()</code></a><br><a href="UI_Form.html#999286"><code>FrmGetMenuBarID()</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1015931"> </a><b>Labels</b></p>
    </td>
    <td><p class="tt"><a name="1015933"> </a><b></b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1015938"> </a><b><a href="UI_Form.html#995741"><code>FrmCopyLabel()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#998890"><code>FrmGetLabel()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#999240"><code>FrmGetLabelFont()</code></a></b></p>
    </td>
    <td><p class="tt"><a name="1015949"> </a><b><a href="UI_Form.html#1002780"><code>FrmSetCategoryLabel()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#1001785"><code>FrmNewLabel()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#1003649"><code>FrmSetLabelFont()</code></a></b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1015957"> </a><b>Controls</b></p>
    </td>
    <td><p class="tt"><a name="1015959"> </a><b></b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1015964"> </a><b><a href="UI_Form.html#1002947"><code>FrmSetControlValue()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#1054241"><code>FrmGetControlValue()</code></a></b></p>
    </td>
    <td><p class="tt"><a name="1015972"> </a><b><a href="UI_Form.html#997592"><code>FrmGetControlGroupSelection()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#1002873"><code>FrmSetControlGroupSelection()</code></a></b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1015977"> </a><b>Gadgets</b></p>
    </td>
    <td><p class="tt"><a name="1015979"> </a><b></b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1015984"> </a><b><a href="UI_Form.html#998542"><code>FrmGetGadgetData()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#1001669"><code>FrmNewGadget()</code></a></b></p>
    </td>
    <td><p class="tt"><a name="1015992"> </a><b><a href="UI_Form.html#1003143"><code>FrmSetGadgetData()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#1003245"><code>FrmSetGadgetHandler()</code></a></b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1015997"> </a><b>Bitmaps</b></p>
    </td>
    <td><p class="tt"><a name="1015999"> </a><b></b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1016004"> </a><b><a href="UI_Form.html#1001439"><code>FrmNewBitmap()</code></a></b></p>
    </td>
    <td><p class="tt"><a name="1016006"> </a><b></b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1016008"> </a><b>Coordinates and Boundaries</b></p>
    </td>
    <td><p class="tt"><a name="1016010"> </a><b></b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1016015"> </a><b><a href="UI_Form.html#999450"><code>FrmGetObjectBounds()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#1003960"><code>FrmSetObjectPosition()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#1081205"><code>FrmGetObjectInitialBounds()</code></a></b></p>
    </td>
    <td><p class="tt"><a name="1016026"> </a><b><a href="UI_Form.html#1003886"><code>FrmSetObjectBounds()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#998303"><code>FrmGetFormBounds()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#1081086"><code>FrmGetFormInitialBounds()</code></a></b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1016034"> </a><b>Resizing a Form</b></p>
    </td>
    <td><p class="tt"><a name="1016036"> </a><b></b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1016041"> </a><b><a href="UI_Form.html#1081958"><code>FrmPerformLayout()</code></a></b></p>
    </td>
    <td><p class="tt"><a name="1016046"> </a><b><a href="UI_Form.html#1081707"><code>frmLayoutRule()</code></a></b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1016048"> </a><b>Removing a Form From the Display</b></p>
    </td>
    <td><p class="tt"><a name="1016050"> </a><b></b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1016055"> </a><b><a href="UI_Form.html#995701"><code>FrmCloseAllForms()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#1002631"><code>FrmSaveAllForms()</code></a></b></p>
    </td>
    <td><p class="tt"><a name="1016063"> </a><b><a href="UI_Form.html#997245"><code>FrmEraseForm()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#1002283"><code>FrmReturnToForm()</code></a></b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1016068"> </a><b>Releasing a Form's Memory</b></p>
    </td>
    <td><p class="tt"><a name="1016070"> </a><b></b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1016075"> </a><b><a href="UI_Form.html#996997"><code>FrmDeleteForm()</code></a></b></p>
    </td>
    <td><p class="tt"><a name="1016077"> </a><b></b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1016079"> </a><b>Pen Tracking</b></p>
    </td>
    <td><p class="tt"><a name="1016081"> </a><b></b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1016086"> </a><b><a href="UI_Form.html#995631"><code>FrmAmIPenTracking()</code></a></b></p>
    </td>
    <td><p class="tt"><a name="1016091"> </a><b><a href="UI_Form.html#1004018"><code>FrmSetPenTracking()</code></a></b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1016093"> </a><b>Dynamically Creating a Form</b></p>
    </td>
    <td><p class="tt"><a name="1016095"> </a><b></b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1016100"> </a><b><a href="UI_Form.html#1001501"><code>FrmNewForm()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#1002241"><code>FrmRestoreActiveState()</code></a></b></p>
    </td>
    <td><p class="tt"><a name="1016108"> </a><b><a href="UI_Form.html#1001591"><code>FrmNewFormWithConstraints()</code></a><span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline"><br></span><a href="UI_Form.html#1002589"><code>FrmSaveActiveState()</code></a></b></p>
    </td>
  </tr>
</table>

</div>



<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1016115"> </a><b>Progress Manager Functions</b></p>
    </th>
    <th><p class="tt"><a name="1016117"> </a><b></b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1016122"> </a><a href="UI_ProgressManager.html#994062"><code>PrgHandleEvent()</code></a><br><a href="UI_ProgressManager.html#994220"><code>PrgStopDialog()</code></a><br><a href="UI_ProgressManager.html#994518"><code>PrgUserCancel()</code></a></p>
    </td>
    <td><p class="tt"><a name="1016133"> </a><a href="UI_ProgressManager.html#994108"><code>PrgStartDialog()</code></a><br><a href="UI_ProgressManager.html#994266"><code>PrgUpdateDialog()</code></a></p>
    </td>
  </tr>
</table>

</div>
&nbsp;<br>
</div>
<!--END CONTENT-->

</td>
<td width="5">&nbsp;&nbsp;</td>
</tr>

</table>

<!-- BEGIN FOOTER -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="7" rowspan="2"><img name="index_x" src="images/shim.gif" width="7" height="33" border="0" alt=""></td>
<td align="left"><img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
<td width="10" rowspan="2"><img name="index_x" src="images/shim.gif" width="10" height="33" border="0" alt=""></td>
</tr>
<tr>
<td align="center">
<p class="footer">
Copyright © 2003&#8211;2004, PalmSource, Inc. and its affiliates. All rights reserved.<br>
<a href="http://www.palmsource.com/contact/">Write Us</a> | <a href="http://www.palmos.com/dev/training/">Training</a> | <a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a> | <a href="UI_Front.html" target="_blank">Legal</a></p>
<br>
<!--BEGIN BOOK NAVIGATION-->
<p class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="UI_TOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="UI_Screen.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="UI_ControlConcept.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="UI_IX.html">Index</a>
</p>
</td>
</tr>
</table>
<!-- END FOOTER -->

</body>
</html>