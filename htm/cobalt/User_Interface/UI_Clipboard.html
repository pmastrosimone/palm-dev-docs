<html>
<head>
<title>(Protein) Clipboard Reference | User Interface </title> 
<link href="psi_devpubs.css" rel="stylesheet" type="text/css">

<!-- BEGIN META DATA -->
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META NAME="PSITEMPLATE" CONTENT="1006-007 PalmSource_HTML_2003 20041101">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks AutoMap 2003 for FrameMaker 8.0.6.2138">
<META NAME="LASTUPDATED" CONTENT="11/22/04 12:05:46">
<!-- END META DATA -->
</head>

<body bgcolor="#ffffff" text="#000000" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<a name="993254"></a>

<!-- BEGIN TOPNAV -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td><img src="images/shim.gif" width="7" height="75" border="0" alt=""></td>
<td align="left"><table border="0" cellpadding="0" cellspacing="0" width="744">
<tr>
<td><img name="index_r2_c1" src="images/shim.gif" width="25" height="75" border="0" alt=""></td>
<td valign="top"><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_r2_c4" src="images/shim.gif" width="96" height="15" border="0" alt=""></td>
</tr>
<tr>
<td><a href="http://www.palmsource.com/"><img name="ps_logo" src="images/ps_logo.gif" width="96" height="54" border="0" alt=""></a></td>
</tr>

</table>
</td>

<td><table border="0" cellpadding="0" cellspacing="0" width="30">
<td><img name="index_x" src="images/shim.gif" width="30" height="75" border="0" alt=""></td>
</table></td>

<!--BEGIN MASTHEAD-->
<td><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
<tr>
<td>
<!--BEGIN BOOK NAVIGATION-->
<span class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="UI_TOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="UI_Category.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="UI_Control.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="UI_IX.html">Index</a>
</span>
<!--END BOOK NAVIGATION-->
</tr>
<tr>
<td>
<!--BEGIN PAGE TITLE-->
<h2 class="PageTitle">15 &nbsp;&nbsp;
Clipboard Reference</h2></td>
<!--END PAGE TITLE-->
</tr>
<tr>
<td>
<!--BEGIN BOOK TITLE-->
<p class="BookTitle">User Interface </p>
<p class="SubTitle">Exploring Palm OS&#174; </p>
<!--END BOOK TITLE-->
</td>
</tr>
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
</table>
</td>
<!--END MASTHEAD-->
</tr>
</table>
<img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
</tr>
</table>
<!-- END TOPNAV -->

<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" width="5"><img name="index_x" src="images/shim.gif" width="5" height="33" border="0" alt=""></td>

<!--BEGIN SIDETOC-->
<td valign="top" width="175">
<div id="sidetoc" valign="bottom">
<h1 class="SideTOC1-PartTab"><a href="UI_PartRef.html">Part II: Reference</a> </h1>
<h1 class="SideTOC1"><a href="UI_Clipboard.html">15  Clipboard Reference</a></h1>

   <h2 class="SideTOC2"><a href="#993262">
   Clipboard Structures and Types</a></h2>

      <h3 class="SideTOC3"><a href="#993295">
      ClipboardItem</a></h3>

   <h2 class="SideTOC2"><a href="#993325">
   Clipboard Constants</a></h2>

      <h3 class="SideTOC3"><a href="#994399">
      ClipboardFormatType</a></h3>

      <h3 class="SideTOC3"><a href="#995292">
      Miscellaneous Constants</a></h3>

   <h2 class="SideTOC2"><a href="#993533">
   Clipboard Functions and Macros</a></h2>

      <h3 class="SideTOC3"><a href="#993545">
      ClipboardAddItem</a></h3>

      <h3 class="SideTOC3"><a href="#993802">
      ClipboardAppendItem</a></h3>

      <h3 class="SideTOC3"><a href="#993856">
      ClipboardGetItem</a></h3>

</div>
</td>

<td width="5">&nbsp;&nbsp;</td>
<td width="2" background="images/index_r8_c10.gif"><img src="images/shim.gif" width="2" height="75" border="0" alt=""></td>
<td width="5">&nbsp;&nbsp;</td>

<!--END SIDETOC-->

<td valign="top">

<!--BEGIN CONTENT-->
<div id="content" valign="bottom">
<p><a name="993903"> </a>This chapter provides reference material for the clipboard API defined in <code>Clipboard.h</code>. It covers:</p>
   <blockquote class = "bq"><a name="993268"> </a><a href="UI_Clipboard.html#993262">Clipboard Structures and Types</a></blockquote>
   <blockquote class = "bq"><a name="993331"> </a><a href="UI_Clipboard.html#993325">Clipboard Constants</a></blockquote>
   <blockquote class = "bq"><a name="993539"> </a><a href="UI_Clipboard.html#993533">Clipboard Functions and Macros</a></blockquote>

<h2 class="haH2">
  <a name="993262"> </a>Clipboard Structures and Types <a href="#993254"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="993295"> </a>ClipboardItem Struct <a href="#993254"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="993300"> </a>Purpose 
</h4>

<p><a name="993303"> </a>Private structure that defines an item on the clipboard. </p>
<h4>
  <a name="993305"> </a>Declared In 
</h4>
<code>Clipboard.h<a name="993308"> </a></code><h4>
  <a name="993310"> </a>Prototype 
</h4>
<pre class="proto"><a name="993313"></a>typedef struct ClipboardItemTag ClipboardItem
</pre>
<h4>
  <a name="993315"> </a>Fields 
</h4>

<p><a name="993318"> </a>None.</p>

<h2 class="haH2">
  <a name="993325"> </a>Clipboard Constants <a href="#993254"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="994399"> </a>ClipboardFormatType Typedef <a href="#993254"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="994401"> </a>Purpose 
</h4>

<p><a name="994403"> </a>Specifies the type of data to add to the clipboard or retrieve from the clipboard. </p>
<h4>
  <a name="994404"> </a>Declared In 
</h4>
<code>Clipboard.h<a name="994405"> </a></code><h4>
  <a name="994406"> </a>Prototype 
</h4>
<pre class="proto"><a name="994407"></a>typedef Enum8 ClipboardFormatType
</pre>
<h4>
  <a name="993513"> </a>Constants 
</h4>

<dl>
<dt><a name="993516"> </a><code>clipboardText</code></dt>
<dd><a name="994491"> </a>Textual data. This is the most commonly used clipboard.</dd>

<dt><a name="993520"> </a><code>clipboardInk</code></dt>
<dd><a name="994495"> </a>Reserved.</dd>

<dt><a name="993524"> </a><code>clipboardBitmap</code></dt>
<dd><a name="994499"> </a>Bitmap data. </dd>

</dl>
<h4>
  <a name="993528"> </a>Comments 
</h4>

<p><a name="994503"> </a>Clipboards for each type of data are separately maintained. That is, if you add a string of text to the clipboard, then add a bitmap, then ask to retrieve a <code>clipboardText</code> item from the clipboard, you will receive the string you added before the bitmap; the bitmap does not overwrite textual data and vice versa. </p>

<h3 class="hbH3">
  <a name="995292"> </a>Miscellaneous Constants <a href="#993254"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="995293"> </a>Purpose 
</h4>

<p><a name="995294"> </a>Other constants declared in <code>Clipboard.h</code>. </p>
<h4>
  <a name="995295"> </a>Declared In 
</h4>
<code>Clipboard.h<a name="995296"> </a></code><h4>
  <a name="995297"> </a>Constants 
</h4>

<dl>
<dt><a name="995299"> </a><code>#define numClipboardFormats 3</code></dt>
<dd><a name="995300"> </a>The number of possible clipboard formats. See <a href="UI_Clipboard.html#994399"><code>ClipboardFormatType</code></a>. </dd>

</dl>

<h2 class="haH2">
  <a name="993533"> </a>Clipboard Functions and Macros <a href="#993254"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="993545"> </a>ClipboardAddItem Function <a href="#993254"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="993550"> </a>Purpose 
</h4>

<p><a name="994520"> </a>Adds the item passed to the specified clipboard. Replaces the current item (if any) of that type. </p>
<h4>
  <a name="993555"> </a>Declared In 
</h4>
<code>Clipboard.h<a name="993558"> </a></code><h4>
  <a name="993560"> </a>Prototype 
</h4>
<pre class="proto"><a name="993563"></a>void ClipboardAddItem (
   const ClipboardFormatType <code class="par">format</code>,
   const void <code class="par">*ptr</code>,
   size_t <code class="par">length</code>
)
</pre>
<h4>
  <a name="993565"> </a>Parameters 
</h4>

<dl>
<dt><a name="993618"> </a><code>&rarr;  <i>format</i></code></dt>
<dd><a name="994546"> </a>Text, ink, bitmap, and so on. See <a href="UI_Clipboard.html#994399"><code>ClipboardFormatType</code></a>.</dd>

<dt><a name="994591"> </a><code>&rarr;  <i><code>ptr</code></i></code></dt>
<dd><a name="994550"> </a>Pointer to the item to place on the clipboard.</dd>

<dt><a name="993783"> </a><code>&rarr;  <i>length</i></code></dt>
<dd><a name="994599"> </a>Size in bytes of the item to place on the clipboard.</dd>

</dl>
<h4>
  <a name="993787"> </a>Returns 
</h4>

<p><a name="994607"> </a>Nothing.</p>
<h4>
  <a name="994608"> </a>Comments 
</h4>

<p><a name="994609"> </a>The clipboard makes a copy of the data that you pass to this function. Thus, you may free any data that you've passed to the clipboard without destroying the contents of the clipboard. You may also add constant data or stack-based data to the clipboard.</p>

<div><hr>
  <a name="994610"> </a> <span class="warning">WARNING! </span> You can't add null-terminated strings to the clipboard.
<hr>
</div>
<h4>
  <a name="994611"> </a>See Also 
</h4>

<p><a name="994618"> </a><a href="UI_Field.html#994339"><code>FldCut()</code></a>, <a href="UI_Field.html#994217"><code>FldCopy()</code></a> </p>

<h3 class="hbH3">
  <a name="993802"> </a>ClipboardAppendItem Function <a href="#993254"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="993807"> </a>Purpose 
</h4>

<p><a name="994642"> </a>Appends data to the item on the clipboard. </p>
<h4>
  <a name="993812"> </a>Declared In 
</h4>
<code>Clipboard.h<a name="993815"> </a></code><h4>
  <a name="993817"> </a>Prototype 
</h4>
<pre class="proto"><a name="993820"></a>status_t ClipboardAppendItem (
   const ClipboardFormatType <code class="par">format</code>,
   const void <code class="par">*ptr</code>,
   size_t <code class="par">length</code>
)
</pre>
<h4>
  <a name="993822"> </a>Parameters 
</h4>

<dl>
<dt><a name="993825"> </a><code>&rarr;  <i>format</i></code></dt>
<dd><a name="994669"> </a>Text, ink, bitmap, and so on. See <a href="UI_Clipboard.html#994399"><code>ClipboardFormatType</code></a>. This function is intended to be used only for the <code>clipboardText</code> format. </dd>

<dt><a name="994685"> </a><code>&rarr;  <i><code>ptr</code></i></code></dt>
<dd><a name="994686"> </a>Pointer to the data to append to the item on the clipboard.</dd>

<dt><a name="993837"> </a><code>&rarr;  <i>length</i></code></dt>
<dd><a name="994710"> </a>Size in bytes of the data to append to the clipboard.</dd>

</dl>
<h4>
  <a name="994711"> </a>Returns 
</h4>

<p><a name="994713"> </a>0 upon success or <code>memErrNotEnoughSpace</code> if there is not enough space to append the data to the clipboard. </p>
<h4>
  <a name="994714"> </a>Comments 
</h4>

<p><a name="994718"> </a>This function differs from <a href="UI_Clipboard.html#993545"><code>ClipboardAddItem()</code></a> in that it does not overwrite data already on the clipboard. It allows you to create a large text item on the clipboard from several small disjointed pieces. When other applications retrieve the text from the clipboard, it's retrieved as a single unit. </p>

<p><a name="994719"> </a>This function simply appends the specified item to the item already on the clipboard without attempting to parse the format. It's assumed that you'll call it several times over a relatively short interval and that no other application will attempt to retrieve text from the clipboard before your application is finished appending. </p>

<h3 class="hbH3">
  <a name="993856"> </a>ClipboardGetItem Function <a href="#993254"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="993861"> </a>Purpose 
</h4>

<p><a name="994731"> </a>Returns the handle of the contents of the clipboard of a specified type and the length of a clipboard item.</p>
<h4>
  <a name="993866"> </a>Declared In 
</h4>
<code>Clipboard.h<a name="993869"> </a></code><h4>
  <a name="993871"> </a>Prototype 
</h4>
<pre class="proto"><a name="993874"></a>MemHandle ClipboardGetItem (
   const ClipboardFormatType <code class="par">format</code>,
   size_t <code class="par">*length</code>
)
</pre>
<h4>
  <a name="993876"> </a>Parameters 
</h4>

<dl>
<dt><a name="993879"> </a><code>&rarr;  <i>format</i></code></dt>
<dd><a name="994738"> </a>Text, ink, bitmap, and so on. See <a href="UI_Clipboard.html#994399"><code>ClipboardFormatType</code></a>.</dd>

<dt><a name="994739"> </a><code>&larr;  <i><code>length</code></i></code></dt>
<dd><a name="994740"> </a>The length in bytes of the clipboard item is returned here.</dd>

</dl>
<h4>
  <a name="993887"> </a>Returns 
</h4>

<p><a name="994744"> </a>Handle of the clipboard item.</p>
<h4>
  <a name="994745"> </a>Comments 
</h4>

<p><a name="994746"> </a>The handle returned is a handle to the actual clipboard memory. It is not suitable for passing to any API that modifies memory (such as <a href="UI_Field.html#999386"><code>FldSetTextHandle()</code></a>). Consider this to be read-only access to the data. Copy the contents of the clipboard to your application's own storage as soon as possible and use that reference instead of the handle returned by this function. </p>

<p><a name="994750"> </a>Don't free the handle returned by this function; it is freed when a new item is added to the clipboard. </p>

<p><a name="994751"> </a>Text retrieved from the clipboard does not have a null terminator. You must use the <code class="par">length</code> parameter to determine the length in bytes of the string you've retrieved. </p>

<p><a name="993250"> </a></p>
&nbsp;<br>
</div>
<!--END CONTENT-->

</td>
<td width="5">&nbsp;&nbsp;</td>
</tr>

</table>

<!-- BEGIN FOOTER -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="7" rowspan="2"><img name="index_x" src="images/shim.gif" width="7" height="33" border="0" alt=""></td>
<td align="left"><img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
<td width="10" rowspan="2"><img name="index_x" src="images/shim.gif" width="10" height="33" border="0" alt=""></td>
</tr>
<tr>
<td align="center">
<p class="footer">
Copyright © 2003&#8211;2004, PalmSource, Inc. and its affiliates. All rights reserved.<br>
<a href="http://www.palmsource.com/contact/">Write Us</a> | <a href="http://www.palmos.com/dev/training/">Training</a> | <a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a> | <a href="UI_Front.html" target="_blank">Legal</a></p>
<br>
<!--BEGIN BOOK NAVIGATION-->
<p class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="UI_TOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="UI_Category.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="UI_Control.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="UI_IX.html">Index</a>
</p>
</td>
</tr>
</table>
<!-- END FOOTER -->

</body>
</html>