<html>
<head>
<title>(Protein) Category Manager Reference | User Interface </title> 
<link href="psi_devpubs.css" rel="stylesheet" type="text/css">

<!-- BEGIN META DATA -->
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META NAME="PSITEMPLATE" CONTENT="1006-007 PalmSource_HTML_2003 20041101">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks AutoMap 2003 for FrameMaker 8.0.6.2138">
<META NAME="LASTUPDATED" CONTENT="11/22/04 12:05:07">
<!-- END META DATA -->
</head>

<body bgcolor="#ffffff" text="#000000" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<a name="1032173"></a>

<!-- BEGIN TOPNAV -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td><img src="images/shim.gif" width="7" height="75" border="0" alt=""></td>
<td align="left"><table border="0" cellpadding="0" cellspacing="0" width="744">
<tr>
<td><img name="index_r2_c1" src="images/shim.gif" width="25" height="75" border="0" alt=""></td>
<td valign="top"><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_r2_c4" src="images/shim.gif" width="96" height="15" border="0" alt=""></td>
</tr>
<tr>
<td><a href="http://www.palmsource.com/"><img name="ps_logo" src="images/ps_logo.gif" width="96" height="54" border="0" alt=""></a></td>
</tr>

</table>
</td>

<td><table border="0" cellpadding="0" cellspacing="0" width="30">
<td><img name="index_x" src="images/shim.gif" width="30" height="75" border="0" alt=""></td>
</table></td>

<!--BEGIN MASTHEAD-->
<td><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
<tr>
<td>
<!--BEGIN BOOK NAVIGATION-->
<span class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="UI_TOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="UI_Font.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="UI_Clipboard.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="UI_IX.html">Index</a>
</span>
<!--END BOOK NAVIGATION-->
</tr>
<tr>
<td>
<!--BEGIN PAGE TITLE-->
<h2 class="PageTitle">14 &nbsp;&nbsp;
Category Manager Reference</h2></td>
<!--END PAGE TITLE-->
</tr>
<tr>
<td>
<!--BEGIN BOOK TITLE-->
<p class="BookTitle">User Interface </p>
<p class="SubTitle">Exploring Palm OS&#174; </p>
<!--END BOOK TITLE-->
</td>
</tr>
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
</table>
</td>
<!--END MASTHEAD-->
</tr>
</table>
<img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
</tr>
</table>
<!-- END TOPNAV -->

<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" width="5"><img name="index_x" src="images/shim.gif" width="5" height="33" border="0" alt=""></td>

<!--BEGIN SIDETOC-->
<td valign="top" width="175">
<div id="sidetoc" valign="bottom">
<h1 class="SideTOC1-PartTab"><a href="UI_PartRef.html">Part II: Reference</a> </h1>
<h1 class="SideTOC1"><a href="UI_Category.html">14  Category Manager Reference</a></h1>

   <h2 class="SideTOC2"><a href="#1032197">
   Category Manager Structures and Types</a></h2>

      <h3 class="SideTOC3"><a href="#1032200">
      AppInfoType</a></h3>

   <h2 class="SideTOC2"><a href="#1032240">
   Category Manager Constants</a></h2>

      <h3 class="SideTOC3"><a href="#1032241">
      Category ID Range Constants</a></h3>

      <h3 class="SideTOC3"><a href="#1032259">
      Error Code Constants</a></h3>

      <h3 class="SideTOC3"><a href="#1032297">
      Non-schema Database Category Constants</a></h3>

      <h3 class="SideTOC3"><a href="#1032310">
      Special Category ID Constants</a></h3>

      <h3 class="SideTOC3"><a href="#1032338">
      Miscellaneous Schema Database Category Constants</a></h3>

   <h2 class="SideTOC2"><a href="#1032353">
   Category Manager Functions and Macros</a></h2>

      <h3 class="SideTOC3"><a href="#1032356">
      CategoryCreateList</a></h3>

      <h3 class="SideTOC3"><a href="#1032416">
      CategoryEdit</a></h3>

      <h3 class="SideTOC3"><a href="#1032462">
      CategoryFind</a></h3>

      <h3 class="SideTOC3"><a href="#1032484">
      CategoryFreeList</a></h3>

      <h3 class="SideTOC3"><a href="#1032521">
      CategoryGetName</a></h3>

      <h3 class="SideTOC3"><a href="#1032562">
      CategoryGetNext</a></h3>

      <h3 class="SideTOC3"><a href="#1032582">
      CategoryInitialize</a></h3>

      <h3 class="SideTOC3"><a href="#1032621">
      CategorySelect</a></h3>

      <h3 class="SideTOC3"><a href="#1032678">
      CategorySetName</a></h3>

      <h3 class="SideTOC3"><a href="#1032707">
      CategorySetTriggerLabel</a></h3>

      <h3 class="SideTOC3"><a href="#1032736">
      CategoryTruncateName</a></h3>

      <h3 class="SideTOC3"><a href="#1032753">
      CatMgrAdd</a></h3>

      <h3 class="SideTOC3"><a href="#1032813">
      CatMgrCreateList</a></h3>

      <h3 class="SideTOC3"><a href="#1032895">
      CatMgrEdit</a></h3>

      <h3 class="SideTOC3"><a href="#1032936">
      CatMgrFind</a></h3>

      <h3 class="SideTOC3"><a href="#1032975">
      CatMgrFreeList</a></h3>

      <h3 class="SideTOC3"><a href="#1033025">
      CatMgrFreeSelectedCategories</a></h3>

      <h3 class="SideTOC3"><a href="#1033047">
      CatMgrGetAllItemLabel</a></h3>

      <h3 class="SideTOC3"><a href="#1033071">
      CatMgrGetEditable</a></h3>

      <h3 class="SideTOC3"><a href="#1033107">
      CatMgrGetID</a></h3>

      <h3 class="SideTOC3"><a href="#1033152">
      CatMgrGetName</a></h3>

      <h3 class="SideTOC3"><a href="#1033194">
      CatMgrGetNext</a></h3>

      <h3 class="SideTOC3"><a href="#1033238">
      CatMgrGetUnfiledItemLabel</a></h3>

      <h3 class="SideTOC3"><a href="#1033276">
      CatMgrInitialize</a></h3>

      <h3 class="SideTOC3"><a href="#1033322">
      CatMgrNumCategories</a></h3>

      <h3 class="SideTOC3"><a href="#1033357">
      CatMgrRemove</a></h3>

      <h3 class="SideTOC3"><a href="#1033393">
      CatMgrSelectEdit</a></h3>

      <h3 class="SideTOC3"><a href="#1033463">
      CatMgrSelectFilter</a></h3>

      <h3 class="SideTOC3"><a href="#1033520">
      CatMgrSetEditable</a></h3>

      <h3 class="SideTOC3"><a href="#1033556">
      CatMgrSetName</a></h3>

      <h3 class="SideTOC3"><a href="#1033594">
      CatMgrSetTriggerLabel</a></h3>

      <h3 class="SideTOC3"><a href="#1033631">
      CatMgrTruncateName</a></h3>

</div>
</td>

<td width="5">&nbsp;&nbsp;</td>
<td width="2" background="images/index_r8_c10.gif"><img src="images/shim.gif" width="2" height="75" border="0" alt=""></td>
<td width="5">&nbsp;&nbsp;</td>

<!--END SIDETOC-->

<td valign="top">

<!--BEGIN CONTENT-->
<div id="content" valign="bottom">
<p><a name="1032176"> </a>This chapter describes the category API as declared in the header file <code>CatMgr.h</code>. It discusses the following topics:</p>
   <blockquote class = "bq"><a name="1032180"> </a><a href="UI_Category.html#1032197">Category Manager Structures and Types</a></blockquote>
   <blockquote class = "bq"><a name="1032184"> </a><a href="UI_Category.html#1032240">Category Manager Constants</a></blockquote>
   <blockquote class = "bq"><a name="1032188"> </a><a href="UI_Category.html#1032353">Category Manager Functions and Macros</a></blockquote>

<p><a name="1032191"> </a>For more information on categories, see the section <a href="UI_ControlConcept.html#1027219">"Category Controls"</a>. </p>

<h2 class="haH2">
  <a name="1032197"> </a>Category Manager Structures and Types <a href="#1032173"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="1032200"> </a>AppInfoType Struct <a href="#1032173"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1032202"> </a>Purpose 
</h4>

<p><a name="1032203"> </a>Maps category names to category indexes and unique IDs. The <code>AppInfoPtr</code> defines a pointer to an <code>AppInfoType</code> structure.</p>
<h4>
  <a name="1032205"> </a>Declared In 
</h4>
<code>CatMgr.h<a name="1032206"> </a></code><h4>
  <a name="1032207"> </a>Prototype 
</h4>
<pre class="proto"><a name="1032208"></a>typedef struct AppInfoTag {
   uint16_t renamedCategories;
   char categoryLabels [dmRecNumCategories] 
      [dmCategoryLength];
   uint8_t categoryUniqIDs[dmRecNumCategories];
   uint8_t lastUniqID;
   uint8_t padding;
} AppInfoType;
</pre>
<pre class="proto"><a name="1032209"></a>typedef AppInfoType *AppInfoPtr
</pre>
<h4>
  <a name="1032210"> </a>Fields 
</h4>

<dl>
<dt><a name="1032211"> </a><code>renamedCategories</code></dt>
<dd><a name="1032216"> </a>Used by <a href="UI_Category.html#1032678"><code>CategorySetName()</code></a> as a bit field indicating which categories have been renamed. Usually cleared by a conduit.</dd>

<dt><a name="1032217"> </a><code>categoryLabels</code></dt>
<dd><a name="1032218"> </a>An array of strings containing the category names. The maximum size of the array is <code>dmRecNumCategories</code>, and the maximum length of each string in the array is <code>dmCategoryLength</code>. Both of these constants are defined in <code>DataMgr.h</code>. </dd>

<dt><a name="1032222"> </a><code>categoryUniqIDs</code></dt>
<dd><a name="1032223"> </a>Category IDs used for synchronization with the desktop database. Unique IDs generated by the device are between 0 and 127. Unique IDs generated by the desktop computer are between 128 and 255.</dd>

<dt><a name="1032224"> </a><code>lastUniqID</code></dt>
<dd><a name="1032225"> </a>Used for sorting and assigning unique IDs.</dd>

<dt><a name="1032226"> </a><code>padding</code></dt>
<dd><a name="1032227"> </a>Reserved for future use. </dd>

</dl>
<h4>
  <a name="1032228"> </a>Comments 
</h4>

<p><a name="1032229"> </a>The <code>AppInfoType</code> structure is used in non-schema databases. A non-schema database's application info block must either be an <code>AppInfoType</code> structure, or it must have an <code>AppInfoType</code> structure as its first field if you want to use the functions described in this chapter to manage the user interface elements associated with categories. </p>

<p><a name="1032230"> </a>Allocate the application info block in the storage heap and use the <a href="../Memory_Databases_Files/DataMgr.html#1006265"><code>DmSetDatabaseInfo()</code></a> function to set the database's application info ID to the local ID of this structure. Then, use the <a href="UI_Category.html#1032582"><code>CategoryInitialize()</code></a> function to initialize it with a localized list of strings containing the category names. </p>

<h2 class="haH2">
  <a name="1032240"> </a>Category Manager Constants <a href="#1032173"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="1032241"> </a>Category ID Range Constants <a href="#1032173"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1032242"> </a>Purpose 
</h4>

<p><a name="1032243"> </a>Specify the range of valid values for category IDs in schema databases. </p>
<h4>
  <a name="1032244"> </a>Declared In 
</h4>
<code>CatMgr.h<a name="1032245"> </a></code><h4>
  <a name="1032246"> </a>Constants 
</h4>

<dl>
<dt><a name="1032248"> </a><code>#define catCategoryIDNegativeLowerBound ((CategoryID)0x80000001)</code></dt>
<dd><a name="1032249"> </a>The lowest possible private category ID. </dd>

<dt><a name="1032251"> </a><code>#define catCategoryIDNegativeUpperBound ((CategoryID)0xfffffffe)</code></dt>
<dd><a name="1032252"> </a>The highest possible private category ID. </dd>

<dt><a name="1032254"> </a><code>#define catCategoryIDPositiveLowerBound ((CategoryID)0x00000010)</code></dt>
<dd><a name="1032255"> </a>The lowest possible public category ID. </dd>

<dt><a name="1032257"> </a><code>#define catCategoryIDPositiveUpperBound ((CategoryID)0x7fffffff)</code></dt>
<dd><a name="1032258"> </a>The highest possible public category ID. </dd>

</dl>

<h3 class="hbH3">
  <a name="1032259"> </a>Error Code Constants <a href="#1032173"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1032260"> </a>Purpose 
</h4>

<p><a name="1032261"> </a>Error codes returned by Category Manager functions. </p>
<h4>
  <a name="1032262"> </a>Declared In 
</h4>
<code>CatMgr.h<a name="1032263"> </a></code><h4>
  <a name="1036668"> </a>Constants 
</h4>

<dl>
<dt><a name="1032265"> </a><code>#define catmErrAISResourceNotFound (catmErrorClass | 9)</code></dt>
<dd><a name="1032266"> </a>The app info strings resource used to initialize the categories in the database cannot be found. </dd>

<dt><a name="1032268"> </a><code>#define catmErrCantFind (catmErrorClass | 3)</code></dt>
<dd><a name="1032269"> </a>The specified category could not be found. </dd>

<dt><a name="1032271"> </a><code>#define catmErrCategoryNotFound (catmErrorClass | 5)</code></dt>
<dd><a name="1032272"> </a>The specified category could not be found. </dd>

<dt><a name="1032274"> </a><code>#define catmErrIndexOutOfRange (catmErrorClass | 4)</code></dt>
<dd><a name="1032275"> </a>An error occurred while iterating through a list of categories. </dd>

<dt><a name="1032277"> </a><code>#define catmErrInvalidParam (catmErrorClass | 2)</code></dt>
<dd><a name="1032278"> </a>An invalid parameter was passed to a function. </dd>

<dt><a name="1032280"> </a><code>#define catmErrInvalidStoragePtr (catmErrorClass | 7)</code></dt>
<dd><a name="1032281"> </a>The category information in the database cannot be accessed. </dd>

<dt><a name="1032283"> </a><code>#define catmErrMaxCategoryLimit (catmErrorClass | 8)</code></dt>
<dd><a name="1032284"> </a>An attempt was made to add more categories to a database than is allowed. </dd>

<dt><a name="1032286"> </a><code>#define catmErrMemError (catmErrorClass | 1)</code></dt>
<dd><a name="1032287"> </a>Not enough memory to perform the requested operation. </dd>

<dt><a name="1032289"> </a><code>#define catmErrNameAlreadyExists (catmErrorClass | 6)</code></dt>
<dd><a name="1032290"> </a>An attempt was made to add a new category or rename a category, but a category with that name already exists. </dd>

<dt><a name="1032292"> </a><code>#define catmErrNotSchemaDatabase (catmErrorClass | 10)</code></dt>
<dd><a name="1032293"> </a>A schema database Category Manager call was passed the handle to a non-schema database. </dd>

<dt><a name="1032295"> </a><code>#define catmErrReadOnlyDatabase (catmErrorClass | 11)</code></dt>
<dd><a name="1032296"> </a>The schema database must be opened for write access for this function. </dd>

</dl>

<h3 class="hbH3">
  <a name="1032297"> </a>Non-schema Database Category Constants <a href="#1032173"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1032298"> </a>Purpose 
</h4>

<p><a name="1032299"> </a>Constants used by the non-schema database Category Manager functions. </p>
<h4>
  <a name="1032300"> </a>Declared In 
</h4>
<code>CatMgr.h<a name="1032301"> </a></code><h4>
  <a name="1036674"> </a>Constants 
</h4>

<dl>
<dt><a name="1032303"> </a><code>#define categoryDefaultEditCategoryString 10001</code></dt>
<dd><a name="1032304"> </a>Used to show the default "Edit Categories" item.</dd>

<dt><a name="1032306"> </a><code>#define categoryHideEditCategory 10000</code></dt>
<dd><a name="1032307"> </a>Used to suppress the "Edit Categories" item. </dd>

</dl>
<h4>
  <a name="1032308"> </a>Comments 
</h4>

<p><a name="1032309"> </a>These constants look like system resource IDs, but they are not. To use a non-default string for the "Edit Categories" item you pass a resource ID of a string containing your title. If you want to use the default or hide the item, you pass one of these constants. They are within the system resource ID range (that is, they are greater than 10000) so that they don't conflict with any other possible value for that parameter. </p>

<h3 class="hbH3">
  <a name="1032310"> </a>Special Category ID Constants <a href="#1032173"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1032311"> </a>Purpose 
</h4>

<p><a name="1032312"> </a>Represent items that a user might select in a category pop-up list but that are not actual categories. The <a href="UI_Category.html#1033393"><code>CatMgrSelectEdit()</code></a> and <a href="UI_Category.html#1033463"><code>CatMgrSelectFilter()</code></a> might return these IDs as the user selection. </p>
<h4>
  <a name="1032319"> </a>Declared In 
</h4>
<code>CatMgr.h<a name="1032320"> </a></code><h4>
  <a name="1036688"> </a>Constants 
</h4>

<dl>
<dt><a name="1032322"> </a><code>#define catIDAll ((CategoryID)0x01)</code></dt>
<dd><a name="1032323"> </a>The "All" list item. The record should belong to all categories, or all records should be displayed. </dd>

<dt><a name="1032325"> </a><code>#define catIDMultiple ((CategoryID)0x02)</code></dt>
<dd><a name="1032326"> </a>The "Multiple" list item. Users select this list item to assign more than one category to a record. </dd>

<dt><a name="1032328"> </a><code>#define catIDUnfiled ((CategoryID)0x00)</code></dt>
<dd><a name="1032329"> </a>The "Unfiled" list item. The name of this category is stored as category ID 0 in each schema database. </dd>

</dl>
<h4>
  <a name="1032330"> </a>See Also 
</h4>

<p><a name="1032337"> </a><a href="UI_Category.html#1033047"><code>CatMgrGetAllItemLabel()</code></a>, <a href="UI_Category.html#1033238"><code>CatMgrGetUnfiledItemLabel()</code></a></p>

<h3 class="hbH3">
  <a name="1032338"> </a>Miscellaneous Schema Database Category Constants <a href="#1032173"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1032339"> </a>Purpose 
</h4>

<p><a name="1032340"> </a>Other constants defined in <code>CatMgr.h</code>. </p>
<h4>
  <a name="1032341"> </a>Declared In 
</h4>
<code>CatMgr.h<a name="1032342"> </a></code><h4>
  <a name="1036694"> </a>Constants 
</h4>

<dl>
<dt><a name="1032344"> </a><code>#define catCategoryNameLength 0x20</code></dt>
<dd><a name="1032345"> </a>The size of a category name. Strings that hold the category name must be at least this size. </dd>

<dt><a name="1032347"> </a><code>#define CategoryNameReserved 10021</code></dt>
<dd><a name="1032348"> </a>Resource ID of an alert displayed if the user attempts to rename uneditable categories. </dd>

<dt><a name="1032350"> </a><code>#define catNumCategories 0xff</code></dt>
<dd><a name="1032351"> </a>The maximum number of categories allowed in a schema database. </dd>

</dl>

<h2 class="haH2">
  <a name="1032353"> </a>Category Manager Functions and Macros <a href="#1032173"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="1032356"> </a>CategoryCreateList Function <a href="#1032173"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1032358"> </a>Purpose 
</h4>

<p><a name="1032359"> </a>Populates a pop-up list with a non-schema database's categories. </p>
<h4>
  <a name="1032360"> </a>Declared In 
</h4>
<code>CatMgr.h<a name="1032361"> </a></code><h4>
  <a name="1032362"> </a>Prototype 
</h4>
<pre class="proto"><a name="1032363"></a>void CategoryCreateList (
   DmOpenRef <code class="par">db</code>,
   ListType <code class="par">*listP</code>,
   uint16_t <code class="par">currentCategory</code>,
   Boolean <code class="par">showAll</code>,
   Boolean <code class="par">showUneditables</code>,
   uint8_t <code class="par">numUneditableCategories</code>,
   DmOpenRef <code class="par">resDbRef</code>,
   uint32_t <code class="par">editingStrID</code>,
   Boolean <code class="par">resizeList</code>
)
</pre>
<h4>
  <a name="1032364"> </a>Parameters 
</h4>

<dl>
<dt><a name="1032365"> </a><code>&rarr;  <i>db</i></code></dt>
<dd><a name="1032366"> </a>Open non-schema database containing the category information you want to read. </dd>

<dt><a name="1032367"> </a><code>&larr;  <i><code>listP</code></i></code></dt>
<dd><a name="1032369"> </a>Pointer to the <code>ListType</code> that is populated with the database's categories. </dd>

<dt><a name="1032370"> </a><code>&rarr;  <i>currentCategory</i></code></dt>
<dd><a name="1032371"> </a>Index of the category to select. The index is the index into the <code>categoryLabels</code> array. The default is to have the "Unfiled" category selected. </dd>

<dt><a name="1032372"> </a><code>&rarr;  <i>showAll</i></code></dt>
<dd><a name="1032373"> </a><code>true</code> to include an "All" list item.</dd>

<dt><a name="1032374"> </a><code>&rarr;  <i>showUneditables</i></code></dt>
<dd><a name="1032375"> </a><code>true</code> to show uneditable categories.</dd>

<dt><a name="1032376"> </a><code>&rarr;  <i>numUneditableCategories</i></code></dt>
<dd><a name="1032377"> </a>The number of categories that the user cannot edit. You should store uneditable categories at the beginning of the <code>categoryLabels</code> array. For example, it's common to have an "Unfiled" category at position zero that is not editable. This function displays the uneditable categories at the end of the pop-up list. </dd>

<dt><a name="1032378"> </a><code>&rarr;  <i>resDbRef</i></code></dt>
<dd><a name="1032379"> </a>Open resource database containing the string resource. </dd>

<dt><a name="1032380"> </a><code>&rarr;  <i>editingStrID</i></code></dt>
<dd><a name="1032381"> </a>The resource ID of a string resource to use as the Edit Categories list item. To use the default string for the current locale (such as "Edit Categories") pass the constant <code>categoryDefaultEditCategoryString</code>.</dd>

<dd><a name="1032383"> </a>If you don't want users to edit categories, pass the <code>categoryHideEditCategory</code> constant. </dd>

<dt><a name="1032385"> </a><code>&rarr;  <i>resizeList</i></code></dt>
<dd><a name="1032386"> </a><code>true</code> to resize the list to the number of categories. Set to <code>true</code> for pop-ups, <code>false</code> otherwise.</dd>

</dl>
<h4>
  <a name="1032387"> </a>Returns 
</h4>

<p><a name="1032388"> </a>Nothing. </p>
<h4>
  <a name="1032389"> </a>Comments 
</h4>

<p><a name="1032390"> </a>The "All" item is first in the list (if the <code class="par">showAll</code> parameter is <code>true</code>), followed by the editable categories in the database and then the categories that cannot be edited. The option to edit categories is last in the list and can be suppressed if desired. </p>

<p><a name="1032391"> </a>You rarely call this function directly. Instead, most applications use <a href="UI_Category.html#1032621"><code>CategorySelect()</code></a>, which calls this function and fully manages the user's selection of a category in the pop-up list. Use <code>CategoryCreateList()</code> only if you want more control over the category pop-up list. </p>

<p><a name="1032396"> </a>This function obtains the <code class="par">db</code> parameter's <code>appInfoID</code>, reads the <a href="UI_Category.html#1032200"><code>AppInfoType</code></a> structure at that location, and uses the information in it to initialize the <code class="par">listP</code>'s items array with the names of the database's categories. You must have already allocated the structure pointed to by <code class="par">listP</code>. <code>CategoryCreateList()</code> does not display the list.</p>

<p><a name="1032409"> </a>You must balance a call to <code>CategoryCreateList()</code> with a call to <a href="UI_Category.html#1032484"><code>CategoryFreeList()</code></a>. The <code>CategoryCreateList()</code> function locks the resources for the category names. It also allocates the <code class="par">listP</code> items array. <code>CategoryFreeList()</code> unlocks all resources locked by <code>CategoryCreateList()</code> and frees all memory allocated by <code>CategoryCreateList()</code>. </p>

<h3 class="hbH3">
  <a name="1032416"> </a>CategoryEdit Function <a href="#1032173"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1032418"> </a>Purpose 
</h4>

<p><a name="1032419"> </a>Event handler for the Edit Categories dialog for non-schema databases. </p>
<h4>
  <a name="1032420"> </a>Declared In 
</h4>
<code>CatMgr.h<a name="1032421"> </a></code><h4>
  <a name="1032422"> </a>Prototype 
</h4>
<pre class="proto"><a name="1032423"></a>Boolean CategoryEdit (
   DmOpenRef <code class="par">db</code>,
   uint16_t <code class="par">*categoryP</code>,
   DmOpenRef <code class="par">resDbRef</code>,
   uint32_t <code class="par">titleStrID</code>,
   uint8_t <code class="par">numUneditableCategories</code>
)
</pre>
<h4>
  <a name="1032424"> </a>Parameters 
</h4>

<dl>
<dt><a name="1032425"> </a><code>&rarr;  <i>db</i></code></dt>
<dd><a name="1032426"> </a>Open non-schema database containing the categories to be edited.</dd>

<dt><a name="1032427"> </a><code>&larr;  <i><code>category</code></i></code></dt>
<dd><a name="1032428"> </a>Upon return, the index of the last category selected before the dialog was closed. </dd>

<dt><a name="1032429"> </a><code>&rarr;  <i>resDbRef</i></code></dt>
<dd><a name="1032430"> </a>Open resource database containing the string resource. </dd>

<dt><a name="1032431"> </a><code>&rarr;  <i>titleStrID</i></code></dt>
<dd><a name="1032432"> </a>The resource ID of a string resource to use as the dialog's title. To use the default string ("Edit Categories"), pass the constant <code>categoryDefaultEditCategoryString</code>.</dd>

<dt><a name="1032434"> </a><code>&rarr;  <i>numUneditableCategories</i></code></dt>
<dd><a name="1032435"> </a>The number of categories that the user cannot edit. You should store uneditable categories at the beginning of the <code>categoryLabels</code> array. For example, it's common to have an "Unfiled" category at position zero that is not editable. </dd>

</dl>
<h4>
  <a name="1032436"> </a>Returns 
</h4>

<p><a name="1032437"> </a><code>true</code> if any of the following conditions are <code>true</code>:</p>
<ul type="disc">
  <li><a name="1032438"> </a>The current category is renamed.
  <li><a name="1032439"> </a>The current category is deleted.
  <li><a name="1032440"> </a>The current category is merged with another category.
</ul>
<h4>
  <a name="1032441"> </a>Comments 
</h4>

<p><a name="1032446"> </a>You rarely call this function directly. The <a href="UI_Category.html#1032621"><code>CategorySelect()</code></a> function calls it when the user chooses the Edit Category list item. </p>

<p><a name="1032447"> </a>This function both displays the Edit Categories dialog and handles the result of the user actions. It updates the <a href="UI_Category.html#1032200"><code>AppInfoType</code></a> structure's list of categories and reassigns database records to new categories as needed. If a user deletes a category, <code>CategoryEdit()</code> moves all of the records belonging to that category to the Unfiled category. If a category is renamed to be the same as an existing category, this function moves all of the old category's records to the new category. </p>
<h4>
  <a name="1032452"> </a>See Also 
</h4>

<p><a name="1032459"> </a><a href="UI_Category.html#1032416"><code>CategoryEdit()</code></a>, <a href="../Memory_Databases_Files/DataMgr.html#1001572"><code>DmMoveCategory()</code></a> </p>

<h3 class="hbH3">
  <a name="1032462"> </a>CategoryFind Function <a href="#1032173"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1032464"> </a>Purpose 
</h4>

<p><a name="1032465"> </a>Returns the index of a category in a non-schema database given its name.</p>
<h4>
  <a name="1032466"> </a>Declared In 
</h4>
<code>CatMgr.h<a name="1032467"> </a></code><h4>
  <a name="1032468"> </a>Prototype 
</h4>
<pre class="proto"><a name="1032469"></a>uint16_t CategoryFind (
   DmOpenRef <code class="par">db</code>,
   const char <code class="par">*name</code>
)
</pre>
<h4>
  <a name="1032470"> </a>Parameters 
</h4>

<dl>
<dt><a name="1032471"> </a><code>&rarr;  <i>db</i></code></dt>
<dd><a name="1032472"> </a>Open non-schema database to search.</dd>

<dt><a name="1032473"> </a><code>&rarr;  <i><code>name</code></i></code></dt>
<dd><a name="1032474"> </a>Category name. Pass the empty string to find the first unused category. </dd>

</dl>
<h4>
  <a name="1032475"> </a>Returns 
</h4>

<p><a name="1032476"> </a>The index of the category's entry in the <code>categoryLabels</code> array (see <a href="UI_Category.html#1032200"><code>AppInfoType</code></a>). Returns <code>dmAllCategories</code> if the category does not exist. </p>

<h3 class="hbH3">
  <a name="1032484"> </a>CategoryFreeList Function <a href="#1032173"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1032486"> </a>Purpose 
</h4>

<p><a name="1032487"> </a>Unlocks or frees memory locked or allocated by <a href="UI_Category.html#1032356"><code>CategoryCreateList()</code></a>.</p>
<h4>
  <a name="1032492"> </a>Declared In 
</h4>
<code>CatMgr.h<a name="1032493"> </a></code><h4>
  <a name="1032494"> </a>Prototype 
</h4>
<pre class="proto"><a name="1032495"></a>void CategoryFreeList (
   DmOpenRef <code class="par">db</code>,
   const ListType <code class="par">*listP</code>,
   Boolean <code class="par">showAll</code>,
   uint32_t <code class="par">editingStrID</code>
)
</pre>
<h4>
  <a name="1032496"> </a>Parameters 
</h4>

<dl>
<dt><a name="1032497"> </a><code>&rarr;  <i>db</i></code></dt>
<dd><a name="1032498"> </a>Open non-schema database containing the categories.</dd>

<dt><a name="1032499"> </a><code>&rarr;  <i><code>listP</code></i></code></dt>
<dd><a name="1032500"> </a>Pointer to the category list. </dd>

<dt><a name="1032501"> </a><code>&rarr;  <i><code>showAll</code></i></code></dt>
<dd><a name="1032502"> </a><code>true</code> if the list was created with an "All" category.</dd>

<dt><a name="1032503"> </a><code>&rarr;  <i><code>editingStrID</code></i></code></dt>
<dd><a name="1032504"> </a>The resource ID that you passed as the <code>editingStrID</code> parameter to <a href="UI_Category.html#1032356"><code>CategoryCreateList()</code></a>. This function unlocks the resource.</dd>

</dl>
<h4>
  <a name="1032509"> </a>Returns 
</h4>

<p><a name="1032510"> </a>Nothing.</p>
<h4>
  <a name="1032511"> </a>Comments 
</h4>

<p><a name="1032512"> </a>You only need to call this function if you explicitly call <a href="UI_Category.html#1032356"><code>CategoryCreateList()</code></a>. Typical applications call <code>CategorySelect()</code>, which handles both the creation and deletion of the list. </p>

<p><a name="1032517"> </a>This function frees the items in the pop-up list <code class="par">listP</code>'s items array and it unlocks other resources that <code>CategoryCreateList()</code> may have locked. </p>

<p><a name="1032518"> </a>This function does <i>not</i> remove the categories from the passed database, and it does <i>not</i> free the <code>ListType</code> structure pointed to by <code class="par">listP</code>. (Typically, a list is freed when its form is freed.)</p>

<h3 class="hbH3">
  <a name="1032521"> </a>CategoryGetName Function <a href="#1032173"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1032523"> </a>Purpose 
</h4>

<p><a name="1032524"> </a>Returns the name of the specified category in a non-schema database.</p>
<h4>
  <a name="1032525"> </a>Declared In 
</h4>
<code>CatMgr.h<a name="1032526"> </a></code><h4>
  <a name="1032527"> </a>Prototype 
</h4>
<pre class="proto"><a name="1032528"></a>void CategoryGetName (
   DmOpenRef <code class="par">db</code>,
   uint16_t <code class="par">index</code>,
   char <code class="par">*name</code>
)
</pre>
<h4>
  <a name="1032529"> </a>Parameters 
</h4>

<dl>
<dt><a name="1032530"> </a><code>&rarr;  <i>db</i></code></dt>
<dd><a name="1032531"> </a>Open non-schema database that contains the categories.</dd>

<dt><a name="1032532"> </a><code>&rarr;  <i>index</i></code></dt>
<dd><a name="1032533"> </a>Category index. This is the index into the <code>categoryLabels</code> array in the <a href="UI_Category.html#1032200"><code>AppInfoType</code></a> structure. You can retrieve this index from a database record's attribute word. </dd>

<dt><a name="1032538"> </a><code>&larr;  <i><code>name</code></i></code></dt>
<dd><a name="1032539"> </a>Buffer to hold category name. Buffer should be <code>dmCategoryLength</code> in size. </dd>

</dl>
<h4>
  <a name="1032541"> </a>Returns 
</h4>

<p><a name="1032542"> </a>Nothing. May display a fatal error message if the index is out of range. </p>
<h4>
  <a name="1032543"> </a>Example 
</h4>

<p><a name="1032544"> </a>You can use this function to find out the name of a given database record's category. Use the <a href="../Memory_Databases_Files/DataMgr.html#1000470"><code>DmGetRecordCategory()</code></a> call to obtain the category index from the given record. For example: </p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
DmOpenRef myDB;<a name="1032549"> </a>
uint16_t category;<a name="1032550"> </a>
Char *name;<a name="1032551"> </a>
 <a name="1032552"> </a>
DmGetRecordCategory (AddrDB, CurrentRecord, &amp;category); <a name="1032553"> </a>
CategoryGetName(myDB, category, name);<a name="1032554"> </a>
</pre><div class="CodeRule"><hr></div>

<h4>
  <a name="1032555"> </a>See Also 
</h4>

<p><a name="1032559"> </a><a href="UI_Category.html#1032678"><code>CategorySetName()</code></a> </p>

<h3 class="hbH3">
  <a name="1032562"> </a>CategoryGetNext Function <a href="#1032173"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1032564"> </a>Purpose 
</h4>

<p><a name="1032565"> </a>Returns the index of the next category after a given category in a non-schema database. </p>
<h4>
  <a name="1032566"> </a>Declared In 
</h4>
<code>CatMgr.h<a name="1032567"> </a></code><h4>
  <a name="1032568"> </a>Prototype 
</h4>
<pre class="proto"><a name="1032569"></a>uint16_t CategoryGetNext (
   DmOpenRef <code class="par">db</code>,
   uint16_t <code class="par">index</code>
)
</pre>
<h4>
  <a name="1032570"> </a>Parameters 
</h4>

<dl>
<dt><a name="1032571"> </a><code>&rarr;  <i>db</i></code></dt>
<dd><a name="1032572"> </a>Open non-schema database containing the categories.</dd>

<dt><a name="1032573"> </a><code>&rarr;  <i>index</i></code></dt>
<dd><a name="1032574"> </a>Category index.</dd>

</dl>
<h4>
  <a name="1032575"> </a>Returns 
</h4>

<p><a name="1032576"> </a>Category index of next category.</p>
<h4>
  <a name="1032577"> </a>Comments 
</h4>

<p><a name="1032578"> </a>The intended use of this function is to allow your users to cycle through categories. For example, the built-in applications cycle through categories when the user presses the corresponding hard-key button. (See the <code>ListViewNextCategory()</code> function in the Address Book sample application for an example.) Note that categories are not displayed in the same order as they are stored. </p>

<p><a name="1032579"> </a>Do not use this function for searching for a particular category or iterating through a category list. </p>

<h3 class="hbH3">
  <a name="1032582"> </a>CategoryInitialize Function <a href="#1032173"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1032584"> </a>Purpose 
</h4>

<p><a name="1032585"> </a>Initializes the category names, IDs, and flags for a non-schema database.</p>
<h4>
  <a name="1032586"> </a>Declared In 
</h4>
<code>CatMgr.h<a name="1032587"> </a></code><h4>
  <a name="1032588"> </a>Prototype 
</h4>
<pre class="proto"><a name="1032589"></a>void CategoryInitialize (
   AppInfoPtr <code class="par">appInfoP</code>,
   DmOpenRef <code class="par">resDbRef</code>,
   uint16_t <code class="par">localizedAppInfoStrID</code>
)
</pre>
<h4>
  <a name="1032590"> </a>Parameters 
</h4>

<dl>
<dt><a name="1032591"> </a><code>&rarr;  <i>appInfoP</i></code></dt>
<dd><a name="1032592"> </a>Pointer to the locked application info block. See <a href="UI_Category.html#1032200"><code>AppInfoType</code></a>.</dd>

<dt><a name="1032597"> </a><code>&rarr;  <i>resDbRef</i></code></dt>
<dd><a name="1032598"> </a>Open resource database containing the app info strings resource. </dd>

<dt><a name="1032599"> </a><code>&rarr;  <i>localizedAppInfoStrID</i></code></dt>
<dd><a name="1032600"> </a>Resource ID of the localized category names. This must be a resource of the type <code>appInfoStringsRsc</code> (<code>'tAIS'</code>).</dd>

</dl>
<h4>
  <a name="1032602"> </a>Returns 
</h4>

<p><a name="1032603"> </a>Nothing.</p>
<h4>
  <a name="1032604"> </a>Comments 
</h4>

<p><a name="1032605"> </a>Call this function at database creation time to initialize the database's categories from a list of localized strings. </p>

<p><a name="1032610"> </a><code>CategoryInitialize()</code> initializes the <a href="UI_Category.html#1032200"><code>AppInfoType</code></a> structure that is associated with your database. It does not create the structure. To create the structure, you must allocate it in the storage heap (using <a href="../Memory_Databases_Files/DataMgr.html#1001715"><code>DmNewHandle()</code></a>) and associate it with your database using <a href="../Memory_Databases_Files/DataMgr.html#1006265"><code>DmSetDatabaseInfo()</code></a>. </p>

<h3 class="hbH3">
  <a name="1032621"> </a>CategorySelect Function <a href="#1032173"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1032623"> </a>Purpose 
</h4>

<p><a name="1032624"> </a>Processes the selection and editing of categories for a non-schema database.</p>
<h4>
  <a name="1032625"> </a>Declared In 
</h4>
<code>CatMgr.h<a name="1032626"> </a></code><h4>
  <a name="1032627"> </a>Prototype 
</h4>
<pre class="proto"><a name="1032628"></a>Boolean CategorySelect (
   DmOpenRef <code class="par">db</code>,
   const FormType <code class="par">*frm</code>,
   uint16_t <code class="par">ctlID</code>,
   uint16_t <code class="par">lstID</code>,
   Boolean <code class="par">showAll</code>,
   uint16_t <code class="par">*categoryP</code>,
   char <code class="par">*categoryName</code>,
   uint8_t <code class="par">numUneditableCategories</code>,
   DmOpenRef <code class="par">resDbRef</code>,
   uint32_t <code class="par">editingStrID</code>
)
</pre>
<h4>
  <a name="1032629"> </a>Parameters 
</h4>

<dl>
<dt><a name="1032630"> </a><code>&rarr;  <i>db</i></code></dt>
<dd><a name="1032631"> </a>Open database containing the categories. </dd>

<dt><a name="1032632"> </a><code>&rarr;  <i><code>frm</code></i></code></dt>
<dd><a name="1032633"> </a>Form that contains the category pop-up list.</dd>

<dt><a name="1032634"> </a><code>&rarr;  <i>ctlID</i></code></dt>
<dd><a name="1032635"> </a>Resource ID of the pop-up trigger.</dd>

<dt><a name="1032636"> </a><code>&rarr;  <i>lstID</i></code></dt>
<dd><a name="1032637"> </a>Resource ID of the pop-up list.</dd>

<dt><a name="1032638"> </a><code>&rarr;  <i>showAll</i></code></dt>
<dd><a name="1032639"> </a><code>true</code> to have an "All" list item. In general, if the form displays multiple records, it should have an "All" list item. If the form displays a single database record, it should not. </dd>

<dt><a name="1032640"> </a><code>&harr;  <i><code>categoryP</code></i></code></dt>
<dd><a name="1032641"> </a>Index of the selected category. The index is the index into the <code>categoryLabels</code> array. </dd>

<dt><a name="1032642"> </a><code>&harr;  <i><code>categoryName</code></i></code></dt>
<dd><a name="1032643"> </a>Name of the selected category. </dd>

<dt><a name="1032644"> </a><code>&rarr;  <i>numUneditableCategories</i></code></dt>
<dd><a name="1032645"> </a>The number of categories that the user cannot edit. You should store uneditable categories at the beginning of the <code>categoryLabels</code> array. For example, it's common to have an "Unfiled" category at position zero that is not editable. This function displays the uneditable categories at the end of the pop-up list. </dd>

<dt><a name="1032646"> </a><code>&rarr;  <i>resDbRef</i></code></dt>
<dd><a name="1032647"> </a>Open resource database containing the string resource. </dd>

<dt><a name="1032648"> </a><code>&rarr;  <i>editingStrID</i></code></dt>
<dd><a name="1032649"> </a>The resource ID of a string resource to use as the Edit Categories list item. To use the default string ("Edit Categories"), pass the constant <code>categoryDefaultEditCategoryString</code>.</dd>

<dd><a name="1032651"> </a>If you don't want users to edit categories, pass the <code>categoryHideEditCategory</code> constant. </dd>

</dl>
<h4>
  <a name="1032653"> </a>Returns 
</h4>

<p><a name="1032654"> </a><code>true</code> if any of the following conditions are true:</p>
<ul type="disc">
  <li><a name="1032655"> </a>The current category is renamed.
  <li><a name="1032656"> </a>The current category is deleted.
  <li><a name="1032657"> </a>The current category is merged with another category.
</ul>
<h4>
  <a name="1032658"> </a>Comments 
</h4>

<p><a name="1032659"> </a>Call this function when the user taps the category pop-up trigger. This function handles all aspects of displaying the pop-up list and managing the user selection&#8212;It creates the pop-up list using <a href="UI_Category.html#1032356"><code>CategoryCreateList()</code></a>, displays the pop-up list, calls <a href="UI_Category.html#1032416"><code>CategoryEdit()</code></a> if the user selects the Edit Categories item, uses <a href="UI_Category.html#1032707"><code>CategorySetTriggerLabel()</code></a> to set the trigger label to the item the user selected, and then calls <a href="UI_Category.html#1032484"><code>CategoryFreeList()</code></a> to free the list items array. Your application is responsible for checking the value of <code class="par">categoryP</code> upon return and updating the display or changing the record's category to the new selection. </p>

<h3 class="hbH3">
  <a name="1032678"> </a>CategorySetName Function <a href="#1032173"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1032680"> </a>Purpose 
</h4>

<p><a name="1032685"> </a>Changes the category name in the <a href="UI_Category.html#1032200"><code>AppInfoType</code></a> structure of a non-schema database, or deletes a category.</p>
<h4>
  <a name="1032686"> </a>Declared In 
</h4>
<code>CatMgr.h<a name="1032687"> </a></code><h4>
  <a name="1032688"> </a>Prototype 
</h4>
<pre class="proto"><a name="1032689"></a>void CategorySetName (
   DmOpenRef <code class="par">db</code>,
   uint16_t <code class="par">index</code>,
   const char <code class="par">*nameP</code>
)
</pre>
<h4>
  <a name="1032690"> </a>Parameters 
</h4>

<dl>
<dt><a name="1032691"> </a><code>&rarr;  <i>db</i></code></dt>
<dd><a name="1032692"> </a>Open non-schema database containing the category to change.</dd>

<dt><a name="1032693"> </a><code>&rarr;  <i>index</i></code></dt>
<dd><a name="1032694"> </a>Index of category to rename.</dd>

<dt><a name="1032695"> </a><code>&rarr;  <i><code>nameP</code></i></code></dt>
<dd><a name="1032696"> </a>The new category name (null-terminated), or <code>NULL</code> to delete the category.</dd>

</dl>
<h4>
  <a name="1032697"> </a>Returns 
</h4>

<p><a name="1032698"> </a>Nothing.</p>
<h4>
  <a name="1032699"> </a>Comments 
</h4>

<p><a name="1032704"> </a>The <a href="UI_Category.html#1032416"><code>CategoryEdit()</code></a> function calls this function when a user creates a new category or renames an existing category in the Edit Categories dialog. Your application does not have to call it directly.</p>

<h3 class="hbH3">
  <a name="1032707"> </a>CategorySetTriggerLabel Function <a href="#1032173"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1032709"> </a>Purpose 
</h4>

<p><a name="1032710"> </a>Sets the label displayed by the category pop-up trigger for a non-schema database. </p>
<h4>
  <a name="1032711"> </a>Declared In 
</h4>
<code>CatMgr.h<a name="1032712"> </a></code><h4>
  <a name="1032713"> </a>Prototype 
</h4>
<pre class="proto"><a name="1032714"></a>void CategorySetTriggerLabel (
   ControlType <code class="par">*ctl</code>,
   char <code class="par">*name</code>
)
</pre>
<h4>
  <a name="1032715"> </a>Parameters 
</h4>

<dl>
<dt><a name="1032716"> </a><code>&harr;  <i><code>ctl</code></i></code></dt>
<dd><a name="1032717"> </a>Pointer to control (pop-up or selector trigger) to relabel.</dd>

<dt><a name="1032718"> </a><code>&harr;  <i><code>name</code></i></code></dt>
<dd><a name="1032719"> </a>Pointer to the name of the new category.</dd>

</dl>
<h4>
  <a name="1032720"> </a>Returns 
</h4>

<p><a name="1032721"> </a>Nothing. </p>
<h4>
  <a name="1032722"> </a>Comments 
</h4>

<p><a name="1032723"> </a>The <code>CategorySetTriggerLabel()</code> function calls the <a href="UI_Category.html#1032736"><code>CategoryTruncateName()</code></a> function to truncate the category name to the maximum length. The maximum length varies, depending upon which ROM is installed in the device. </p>

<div><hr>
  <a name="1032728"> </a> <b>NOTE: </b> This function passes the <code class="par">name</code> parameter to the <code>CategoryTruncateName()</code> function, which means that the <code class="par">name</code> value must be modifiable. <code>CategorySetTriggerLabel()</code> does not make a copy of the string passed, so you must ensure that the string remains valid until the form is closed.
<hr>
</div>
<h4>
  <a name="1032729"> </a>See Also 
</h4>

<p><a name="1032733"> </a><a href="UI_Control.html#995869"><code>CtlSetLabel()</code></a> </p>

<h3 class="hbH3">
  <a name="1032736"> </a>CategoryTruncateName Function <a href="#1032173"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1032738"> </a>Purpose 
</h4>

<p><a name="1032739"> </a>Truncates a category name from a non-schema database so that it's short enough to display. The category name is truncated if it's longer than <code class="par">maxWidth</code>.</p>
<h4>
  <a name="1032740"> </a>Declared In 
</h4>
<code>CatMgr.h<a name="1032741"> </a></code><h4>
  <a name="1032742"> </a>Prototype 
</h4>
<pre class="proto"><a name="1032743"></a>void CategoryTruncateName (
   char <code class="par">*name</code>,
   uint16_t <code class="par">maxWidth</code>
)
</pre>
<h4>
  <a name="1032744"> </a>Parameters 
</h4>

<dl>
<dt><a name="1032745"> </a><code>&harr;  <i><code>name</code></i></code></dt>
<dd><a name="1032746"> </a>Category name to truncate. Upon return, contains the truncated name. </dd>

<dt><a name="1032747"> </a><code>&rarr;  <i>maxWidth</i></code></dt>
<dd><a name="1032748"> </a>Maximum size, in standard coordinates, of truncated category (including ellipsis).</dd>

</dl>
<h4>
  <a name="1032749"> </a>Returns 
</h4>

<p><a name="1032750"> </a>Nothing. </p>

<h3 class="hbH3">
  <a name="1032753"> </a>CatMgrAdd Function <a href="#1032173"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1032755"> </a>Purpose 
</h4>

<p><a name="1032756"> </a>Creates a category and adds it to a schema database. </p>
<h4>
  <a name="1032757"> </a>Declared In 
</h4>
<code>CatMgr.h<a name="1032758"> </a></code><h4>
  <a name="1032759"> </a>Prototype 
</h4>
<pre class="proto"><a name="1032760"></a>status_t CatMgrAdd (
   DmOpenRef <code class="par">dbP</code>,
   const char <code class="par">*nameP</code>,
   CategoryID <code class="par">*catIDP</code>
)
</pre>
<h4>
  <a name="1032761"> </a>Parameters 
</h4>

<dl>
<dt><a name="1032762"> </a><code>&rarr;  <i>dbP</i></code></dt>
<dd><a name="1032763"> </a>Open schema database. </dd>

<dt><a name="1032764"> </a><code>&rarr;  <i>nameP</i></code></dt>
<dd><a name="1032765"> </a>The name of the new category. </dd>

<dt><a name="1032766"> </a><code>&larr;  <i>catIDP</i></code></dt>
<dd><a name="1032767"> </a>The ID that this function assigned to the new category. </dd>

</dl>
<h4>
  <a name="1032768"> </a>Returns 
</h4>

<p><a name="1032769"> </a><code>errNone</code> upon success or one of the following:</p>

<dl>
<dt><a name="1032770"> </a><code>catmErrInvalidParam</code></dt>
<dd><a name="1032771"> </a><code class="par">dbP</code> or <code class="par">nameP</code> is <code>NULL</code>. </dd>

<dt><a name="1032772"> </a><code>catmErrNotSchemaDatabase</code></dt>
<dd><a name="1032773"> </a><code class="par">dbP</code> is not a schema database. </dd>

<dt><a name="1032774"> </a><code>catmErrReadOnlyDatabase</code></dt>
<dd><a name="1032775"> </a><code class="par">dbP</code> is not open for writing. </dd>

<dt><a name="1032776"> </a><code>dmErrInvalidParam</code></dt>
<dd><a name="1032777"> </a><code class="par">dbP</code> is an invalid database. </dd>

<dt><a name="1032778"> </a><code>catmErrMemError</code></dt>
<dd><a name="1032779"> </a>There is not enough memory to complete the operation. </dd>

<dt><a name="1032780"> </a><code>catmErrMaxCategoryLimit</code></dt>
<dd><a name="1032781"> </a>The database already contains the maximum number of categories allowed. </dd>

<dt><a name="1032782"> </a><code>catmErrNameAlreadyExists</code></dt>
<dd><a name="1032783"> </a><code class="par">nameP</code> is already used by another category. </dd>

</dl>
<h4>
  <a name="1032784"> </a>Comments 
</h4>

<p><a name="1032785"> </a>Typical applications do not call this function. Instead, use <a href="UI_Category.html#1033276"><code>CatMgrInitialize()</code></a> to initialize the database with default categories stored in an application's resource database, and use <a href="UI_Category.html#1033393"><code>CatMgrSelectEdit()</code></a> and <a href="UI_Category.html#1033463"><code>CatMgrSelectFilter()</code></a> to allow the user to edit the categories list. These functions add categories to the schema database as necessary. </p>
<h4>
  <a name="1032795"> </a>Example 
</h4>

<p><a name="1032796"> </a>The following code shows how to create an uneditable category. </p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
CategoryID catID;<a name="1032797"> </a>
<a name="1032798"> </a>
dbRef = DbOpenDatabase(dbID, dmModeReadWrite, dbShareNone);<a name="1032799"> </a>
<a name="1032801"> </a>
err = CatMgrAdd(dbRef, "category name", &amp;catID);<a name="1032802"> </a>
if (err == errNone) <a name="1032803"> </a>
   CatMgrSetEditable(dbref, catID, false);<a name="1032804"> </a>
</pre><div class="CodeRule"><hr></div>

<h4>
  <a name="1032806"> </a>See Also 
</h4>

<p><a name="1032810"> </a><a href="UI_Category.html#1033357"><code>CatMgrRemove()</code></a></p>

<h3 class="hbH3">
  <a name="1032813"> </a>CatMgrCreateList Function <a href="#1032173"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1032815"> </a>Purpose 
</h4>

<p><a name="1032816"> </a>Populates a pop-up list with a schema database's categories. </p>
<h4>
  <a name="1032817"> </a>Declared In 
</h4>
<code>CatMgr.h<a name="1032818"> </a></code><h4>
  <a name="1032819"> </a>Prototype 
</h4>
<pre class="proto"><a name="1032820"></a>status_t CatMgrCreateList (
   DmOpenRef <code class="par">dbRef</code>,
   ListType <code class="par">*listP</code>,
   CategoryID <code class="par">currentCategory</code>,
   Boolean <code class="par">showAll</code>,
   Boolean <code class="par">showMultiple</code>,
   Boolean <code class="par">showUneditables</code>,
   Boolean <code class="par">resizeList</code>,
   Boolean <code class="par">showEditingStr</code>,
   char <code class="par">*customEditingStrP</code>
)
</pre>
<h4>
  <a name="1032821"> </a>Parameters 
</h4>

<dl>
<dt><a name="1032822"> </a><code>&rarr;  <i>dbRef</i></code></dt>
<dd><a name="1032823"> </a>Open schema database containing the category information you want to read. </dd>

<dt><a name="1032824"> </a><code>&larr;  <i>listP</i></code></dt>
<dd><a name="1032829"> </a>Pointer to the <code>ListType</code> structure that should display the categories. </dd>

<dt><a name="1032830"> </a><code>&rarr;  <i>currentCategory</i></code></dt>
<dd><a name="1032831"> </a>ID of the category that should be selected when the list is initially displayed. </dd>

<dt><a name="1032832"> </a><code>&rarr;  <i>showAll</i></code></dt>
<dd><a name="1032833"> </a><code>true</code> to include an "All" list item. In general, if the list is used to filter the display of database records, it should have an "All" list item. If the list is a list of categories that might be assigned to a single database record, it should not. </dd>

<dt><a name="1032834"> </a><code>&rarr;  <i>showMultiple</i></code></dt>
<dd><a name="1032835"> </a><code>true</code> to show a "Multiple" list item, which is used if multiple categories can be selected. In general, if the list is used to filter the display of database records, it should not have a "Multiple" list item. If the list is a list of categories that might be assigned to a single database record, it can have the list item if you like. </dd>

<dt><a name="1032836"> </a><code>&rarr;  <i>showUneditables</i></code></dt>
<dd><a name="1032837"> </a><code>true</code> to show uneditable categories. </dd>

<dt><a name="1032838"> </a><code>&rarr;  <i>resizeList</i></code></dt>
<dd><a name="1032839"> </a><code>true</code> to resize the list to the number of categories. Set to <code>true</code> for pop-up lists, <code>false</code> otherwise. </dd>

<dt><a name="1032840"> </a><code>&rarr;  <i>showEditingStr</i></code></dt>
<dd><a name="1032841"> </a><code>true</code> to show an Edit Categories list item. </dd>

<dt><a name="1032842"> </a><code>&rarr;  <i>customEditingStrP</i></code></dt>
<dd><a name="1032843"> </a>A string to use as the Edit Categories list item. To use the default string for the current locale, pass <code>NULL</code> for this parameter. This parameter is ignored if <code class="par">showEditingStr</code> is <code>false</code>. </dd>

</dl>
<h4>
  <a name="1032844"> </a>Returns 
</h4>

<p><a name="1032845"> </a><code>errNone</code> upon success or one of the following: </p>

<dl>
<dt><a name="1032846"> </a><code>catmErrInvalidParam</code></dt>
<dd><a name="1032847"> </a>Could not access <span style="color: #000000;  font-family: Courier; font-style: oblique; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">dbRef</span>. </dd>

<dt><a name="1032848"> </a><code>catmErrNotSchemaDatabase</code></dt>
<dd><a name="1032849"> </a><span style="color: #000000;  font-family: Courier; font-style: oblique; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">dbRef</span> is not a schema database. </dd>

<dt><a name="1032850"> </a><code>catmErrReadOnlyDatabase</code></dt>
<dd><a name="1032851"> </a><span style="color: #000000;  font-family: Courier; font-style: oblique; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">dbRef</span> is not open for writing. </dd>

<dt><a name="1032852"> </a><code>dmErrInvalidParam</code></dt>
<dd><a name="1032853"> </a><span style="color: #000000;  font-family: Courier; font-style: oblique; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">dbRef</span> is an invalid database. </dd>

<dt><a name="1032854"> </a><code>catmErrMemError</code></dt>
<dd><a name="1032855"> </a>There is not enough memory to complete the operation. </dd>

<dt><a name="1032856"> </a><code>catmErrCategoryNotFound</code></dt>
<dd><a name="1032857"> </a>An error occurred while retrieving category information from the database. </dd>

<dt><a name="1032858"> </a><code>catmErrIndexOutOfRange</code></dt>
<dd><a name="1032859"> </a>An error occurred while retrieving category information from the database. </dd>

<dt><a name="1032860"> </a><code>catmErrCategoryNotFound</code></dt>
<dd><a name="1032861"> </a>Could not find the specified category. </dd>

<dt><a name="1032862"> </a><code>memErrNotEnoughSpace</code></dt>
<dd><a name="1032863"> </a>An error occurred while attempting to resize the list. </dd>

<dt><a name="1032864"> </a><code>memErrChunkLocked</code></dt>
<dd><a name="1032865"> </a>An error occurred while attempting to resize the list. </dd>

<dt><a name="1032866"> </a><code>memErrInvalidParam</code></dt>
<dd><a name="1032867"> </a>An error occurred while attempting to resize the list. </dd>

</dl>
<h4>
  <a name="1032868"> </a>Comments 
</h4>

<p><a name="1032869"> </a>The "All" item is first in the list (if the <code class="par">showAll</code> parameter is <code>true</code>), followed by the editable categories in the database and then the categories that cannot be edited. The option to edit categories is last in the list and can be suppressed if desired. </p>

<p><a name="1032870"> </a>You rarely call this function directly. Instead, most applications use <a href="UI_Category.html#1033393"><code>CatMgrSelectEdit()</code></a> and <a href="UI_Category.html#1033463"><code>CatMgrSelectFilter()</code></a>, which call this function and fully manage the user's selection of categories in the pop-up list. Use <code>CatMgrCreateList()</code> only if you want more control over the category pop-up list. </p>

<p><a name="1032879"> </a>This function obtains the <code class="par">dbRef</code> parameter's category information and uses it to initialize the <code class="par">listP</code>'s items array with the names of the database's categories. You must have already allocated the structure pointed to by <code class="par">listP</code>. <code>CatMgrCreateList()</code> does not display the list. </p>

<p><a name="1032888"> </a>You must balance a call to <code>CatMgrCreateList()</code> with a call to <a href="UI_Category.html#1032975"><code>CatMgrFreeList()</code></a>. The <code>CatMgrCreateList()</code> function locks the resources for the category names. It also allocates the <code class="par">listP</code> items array. <code>CatMgrFreeList()</code> unlocks all resources locked by <code>CatMgrCreateList()</code> and frees all memory allocated by <code>CatMgrCreateList()</code>. </p>

<h3 class="hbH3">
  <a name="1032895"> </a>CatMgrEdit Function <a href="#1032173"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1032897"> </a>Purpose 
</h4>

<p><a name="1032899"> </a>Event handler for the Edit Categories dialog used for schema databases. </p>
<h4>
  <a name="1032900"> </a>Declared In 
</h4>
<code>CatMgr.h<a name="1032901"> </a></code><h4>
  <a name="1032902"> </a>Prototype 
</h4>
<pre class="proto"><a name="1032903"></a>Boolean CatMgrEdit (
   DmOpenRef <code class="par">dbRef</code>,
   CategoryID <code class="par">*inCurrentCategoriesP</code>,
   uint32_t <code class="par">numInCurrentCategories</code>,
   CategoryID <code class="par">**outCurrentCategoriesPP</code>,
   uint32_t <code class="par">*numOutCurrentCategoriesP</code>,
   char <code class="par">*titleStrP</code>
)
</pre>
<h4>
  <a name="1032904"> </a>Parameters 
</h4>

<dl>
<dt><a name="1032905"> </a><code>&rarr;  <i>dbRef</i></code></dt>
<dd><a name="1032906"> </a>Open schema database containing the categories to be edited. </dd>

<dt><a name="1032907"> </a><code>&rarr;  <i>inCurrentCategoriesP</i></code></dt>
<dd><a name="1032908"> </a>An array of category IDs representing the currently selected categories. If this parameter contains only one category, that category is initially selected when the dialog is opened. If it contains multiple categories, there is no initial selection. </dd>

<dt><a name="1032909"> </a><code>&rarr;  <i>numInCurrentCategories</i></code></dt>
<dd><a name="1032910"> </a>The number of categories listed in <code class="par">inCurrentCategoriesP</code>. </dd>

<dt><a name="1032911"> </a><code>&larr;  <i>outCurrentCategoriesPP</i></code></dt>
<dd><a name="1032912"> </a>An array of category IDs from <code class="par">inCurrentCategoriesP</code> that the user has edited. Deleted categories do not appear in this list. </dd>

<dt><a name="1032913"> </a><code>&larr;  <i>numOutCurrentCategoriesP</i></code></dt>
<dd><a name="1032914"> </a>The number of categories in <code class="par">outCurrentCategoriesPP</code>. </dd>

<dt><a name="1032915"> </a><code>&rarr;  <i>titleStrP</i></code></dt>
<dd><a name="1032916"> </a>A string to use as the dialog's title. This function makes a copy of the string, so you may free it at any time. To use the default string for the current locale, pass <code>NULL</code> for this parameter. </dd>

</dl>
<h4>
  <a name="1032917"> </a>Returns 
</h4>

<p><a name="1032918"> </a><code>true</code> if any of the following conditions are true: </p>
<ul type="disc">
  <li><a name="1032919"> </a>One of the categories in <code class="par">inCurrentCategoriesP</code> is renamed. 
  <li><a name="1032920"> </a>One of the categories in <code class="par">inCurrentCategoriesP</code> is deleted. 
  <li><a name="1032921"> </a>One of the categories in <code class="par">inCurrentCategoriesP</code> is merged with another category. 
</ul>
<h4>
  <a name="1032922"> </a>Comments 
</h4>

<p><a name="1032927"> </a>You rarely call this function directly. The <a href="UI_Category.html#1033463"><code>CatMgrSelectFilter()</code></a> and <a href="UI_Category.html#1033393"><code>CatMgrSelectEdit()</code></a> functions call it when the user chooses the Edit Category list item. </p>

<p><a name="1032932"> </a>This function both displays the Edit Categories dialog and handles the result of the user actions. It update's the schema database's list of categories and reassigns database records to new categories as needed. If the user deletes a category, <code>CatMgrEdit()</code> removes it from the membership lists of all database records that belong to it. If a category is renamed to be the same as an existing category, this function moves all of the old category's records to the new category. </p>

<p><a name="1032933"> </a>The <code class="par">inCurrentCategoriesP</code> and <code class="par">outCurrentCategoriesPP</code> parameters are used to manage the display of database records on the form containing the category user interface. Set <code class="par">inCurrentCategoriesP</code> to the categories currently being displayed. For example, if the form displays one database record and the currently displayed record belongs to three categories, <code class="par">inCurrentCategoriesP</code> should list the IDs of all three categories and <code class="par">numInCurrentCategories</code> should be set to three. If the user modifies any of these categories during the Edit Categories session, <code>CatMgrEdit()</code> returns <code>true</code>. Your application should then check <code class="par">outCurrentCategoriesPP</code> and, if necessary, update the user interface to reflect the change. </p>

<h3 class="hbH3">
  <a name="1032936"> </a>CatMgrFind Function <a href="#1032173"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1032938"> </a>Purpose 
</h4>

<p><a name="1032939"> </a>Returns the ID of the category with the specified name. </p>
<h4>
  <a name="1032940"> </a>Declared In 
</h4>
<code>CatMgr.h<a name="1032941"> </a></code><h4>
  <a name="1032942"> </a>Prototype 
</h4>
<pre class="proto"><a name="1032943"></a>status_t CatMgrFind (
   DmOpenRef <code class="par">dbP</code>,
   const char <code class="par">*nameP</code>,
   CategoryID <code class="par">*catIDP</code>
)
</pre>
<h4>
  <a name="1032944"> </a>Parameters 
</h4>

<dl>
<dt><a name="1032945"> </a><code>&rarr;  <i>dbP</i></code></dt>
<dd><a name="1032946"> </a>Open schema database. </dd>

<dt><a name="1032947"> </a><code>&rarr;  <i>nameP</i></code></dt>
<dd><a name="1032948"> </a>The name of the category that you want to find. </dd>

<dt><a name="1032949"> </a><code>&larr;  <i>catIDP</i></code></dt>
<dd><a name="1032950"> </a>The ID of the category with the specified name. </dd>

</dl>
<h4>
  <a name="1032951"> </a>Returns 
</h4>

<p><a name="1032952"> </a><code>errNone</code> upon success or one of the following: </p>

<dl>
<dt><a name="1032953"> </a><code>catmErrInvalidParam</code></dt>
<dd><a name="1032954"> </a>Could not access <code class="par">dbP</code>. </dd>

<dt><a name="1032955"> </a><code>catmErrNotSchemaDatabase</code></dt>
<dd><a name="1032956"> </a><code class="par">dbP</code> is not a schema database. </dd>

<dt><a name="1032957"> </a><code>catmErrReadOnlyDatabase</code></dt>
<dd><a name="1032958"> </a><code class="par">dbP</code> is not open for writing. </dd>

<dt><a name="1032959"> </a><code>dmErrInvalidParam</code></dt>
<dd><a name="1032960"> </a><code class="par">dbP</code> is an invalid database. </dd>

<dt><a name="1032961"> </a><code>catmErrMemError</code></dt>
<dd><a name="1032962"> </a>There is not enough memory to complete the operation. </dd>

<dt><a name="1032963"> </a><code>catmErrCategoryNotFound</code></dt>
<dd><a name="1032964"> </a>Could not find the specified category. </dd>

</dl>
<h4>
  <a name="1032965"> </a>See Also 
</h4>

<p><a name="1032972"> </a><a href="UI_Category.html#1033152"><code>CatMgrGetName()</code></a>, <a href="UI_Category.html#1033556"><code>CatMgrSetName()</code></a></p>

<h3 class="hbH3">
  <a name="1032975"> </a>CatMgrFreeList Function <a href="#1032173"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1032977"> </a>Purpose 
</h4>

<p><a name="1032978"> </a>Unlocks or frees memory locked or allocated by <a href="UI_Category.html#1032813"><code>CatMgrCreateList()</code></a>.</p>
<h4>
  <a name="1032983"> </a>Declared In 
</h4>
<code>CatMgr.h<a name="1032984"> </a></code><h4>
  <a name="1032985"> </a>Prototype 
</h4>
<pre class="proto"><a name="1032986"></a>void CatMgrFreeList (
   DmOpenRef <code class="par">dbRef</code>,
   ListType <code class="par">*listP</code>,
   Boolean <code class="par">showAll</code>,
   Boolean <code class="par">showMultiple</code>,
   Boolean <code class="par">showEditingStr</code>
)
</pre>
<h4>
  <a name="1032987"> </a>Parameters 
</h4>

<dl>
<dt><a name="1032988"> </a><code>&rarr;  <i>dbRef</i></code></dt>
<dd><a name="1032989"> </a>Open schema database. </dd>

<dt><a name="1032990"> </a><code>&rarr;  <i>listP</i></code></dt>
<dd><a name="1032995"> </a>Pointer to the category list.</dd>

<dt><a name="1032996"> </a><code>&rarr;  <i>showAll</i></code></dt>
<dd><a name="1032997"> </a><code>true</code> if the list was created with an "All" item. </dd>

<dt><a name="1032998"> </a><code>&rarr;  <i>showMultiple</i></code></dt>
<dd><a name="1032999"> </a><code>true</code> if the list was created with a "Multiple" item. </dd>

<dt><a name="1033000"> </a><code>&rarr;  <i>showEditingStr</i></code></dt>
<dd><a name="1033001"> </a><code>true</code> if the list was created with an "Edit Categories" item. </dd>

</dl>
<h4>
  <a name="1033002"> </a>Returns 
</h4>

<p><a name="1033003"> </a>Nothing. </p>
<h4>
  <a name="1033004"> </a>Comments 
</h4>

<p><a name="1033005"> </a>You only need to call this function if you explicitly call <a href="UI_Category.html#1032813"><code>CatMgrCreateList()</code></a>. Typical applications call <a href="UI_Category.html#1033393"><code>CatMgrSelectEdit()</code></a> and <a href="UI_Category.html#1033463"><code>CatMgrSelectFilter()</code></a>, both of which handle the creation and deletion of the list. </p>

<p><a name="1033018"> </a>This function frees the items in the pop-up list <code class="par">listP</code>'s items array and it unlocks other resources that <code>CatMgrCreateList()</code> may have locked. </p>

<p><a name="1033019"> </a>This function does <i>not</i> do the following:</p>
<ul type="disc">
  <li><a name="1033020"> </a>Remove the categories from the passed database.
  <li><a name="1033021"> </a>Free the <code>ListType</code> structure pointed to by <code class="par">listP</code>. (Typically a list is freed when its form is freed.) 
  <li><a name="1033022"> </a>Free the string you pass as a custom name for the "Edit Categories" list item. You'll need to unlock the associated resource or free that string in your application's code. 
</ul>

<h3 class="hbH3">
  <a name="1033025"> </a>CatMgrFreeSelectedCategories Function <a href="#1032173"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1033027"> </a>Purpose 
</h4>

<p><a name="1033028"> </a>Frees the memory associated with the selected categories list, which is returned by some of the Category Manager functions. </p>
<h4>
  <a name="1033029"> </a>Declared In 
</h4>
<code>CatMgr.h<a name="1033030"> </a></code><h4>
  <a name="1033031"> </a>Prototype 
</h4>
<pre class="proto"><a name="1033032"></a>void CatMgrFreeSelectedCategories (
   DmOpenRef <code class="par">dbRef</code>,
   CategoryID <code class="par">**selectedCategoriesPP</code>
)
</pre>
<h4>
  <a name="1033033"> </a>Parameters 
</h4>

<dl>
<dt><a name="1033034"> </a><code>&rarr;  <i>dbRef</i></code></dt>
<dd><a name="1033035"> </a>Open schema database. </dd>

<dt><a name="1033036"> </a><code>&rarr;  <i>selectedCategoriesPP</i></code></dt>
<dd><a name="1033037"> </a>The parameter whose memory should be freed. </dd>

</dl>
<h4>
  <a name="1033038"> </a>Returns 
</h4>

<p><a name="1033039"> </a>Nothing. </p>
<h4>
  <a name="1033040"> </a>See Also 
</h4>

<p><a name="1033044"> </a><a href="UI_Category.html#1033393"><code>CatMgrSelectEdit()</code></a>, <a href="UI_Category.html#1033463"><code>CatMgrSelectFilter()</code></a></p>

<h3 class="hbH3">
  <a name="1033047"> </a>CatMgrGetAllItemLabel Function <a href="#1032173"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1033049"> </a>Purpose 
</h4>

<p><a name="1033050"> </a>Returns the text of the "All" list item used in the current locale. </p>
<h4>
  <a name="1033051"> </a>Declared In 
</h4>
<code>CatMgr.h<a name="1033052"> </a></code><h4>
  <a name="1033053"> </a>Prototype 
</h4>
<pre class="proto"><a name="1033054"></a>status_t CatMgrGetAllItemLabel (
   DmOpenRef <code class="par">dbP</code>,
   char <code class="par">*labelP</code>
)
</pre>
<h4>
  <a name="1033055"> </a>Parameters 
</h4>

<dl>
<dt><a name="1033056"> </a><code>&rarr;  <i>dbP</i></code></dt>
<dd><a name="1033057"> </a>Open schema database. </dd>

<dt><a name="1033058"> </a><code>&larr;  <i>labelP</i></code></dt>
<dd><a name="1033059"> </a>A copy of the string used for the "All" item in a category pop-up list. </dd>

</dl>
<h4>
  <a name="1033060"> </a>Returns 
</h4>

<p><a name="1033061"> </a><code>errNone</code> upon success or <code>catmErrInvalidParam</code> if <code class="par">labelP</code> is <code>NULL</code>. </p>
<h4>
  <a name="1033062"> </a>Comments 
</h4>

<p><a name="1033063"> </a>The "All" item label is stored in the system resource database and is localized to all supported languages. In contrast, the "Unfiled" item label is specific to each schema database. </p>
<h4>
  <a name="1033064"> </a>See Also 
</h4>

<p><a name="1033068"> </a><a href="UI_Category.html#1033238"><code>CatMgrGetUnfiledItemLabel()</code></a></p>

<h3 class="hbH3">
  <a name="1033071"> </a>CatMgrGetEditable Function <a href="#1032173"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1033073"> </a>Purpose 
</h4>

<p><a name="1033074"> </a>Returns whether the user can edit the specified category. </p>
<h4>
  <a name="1033075"> </a>Declared In 
</h4>
<code>CatMgr.h<a name="1033076"> </a></code><h4>
  <a name="1033077"> </a>Prototype 
</h4>
<pre class="proto"><a name="1033078"></a>status_t CatMgrGetEditable (
   DmOpenRef <code class="par">dbP</code>,
   CategoryID <code class="par">catID</code>,
   Boolean <code class="par">*editableP</code>
)
</pre>
<h4>
  <a name="1033079"> </a>Parameters 
</h4>

<dl>
<dt><a name="1033080"> </a><code>&rarr;  <i>dbP</i></code></dt>
<dd><a name="1033081"> </a>Open schema database. </dd>

<dt><a name="1033082"> </a><code>&rarr;  <i>catID</i></code></dt>
<dd><a name="1033083"> </a>A category ID. </dd>

<dt><a name="1033084"> </a><code>&larr;  <i>editableP</i></code></dt>
<dd><a name="1033085"> </a><code>true</code> if the category with the specified ID is editable, or <code>false</code> otherwise. </dd>

</dl>
<h4>
  <a name="1033086"> </a>Returns 
</h4>

<p><a name="1033087"> </a><code>errNone</code> upon success or one of the following: </p>

<dl>
<dt><a name="1033088"> </a><code>catmErrInvalidParam</code></dt>
<dd><a name="1033089"> </a>Could not access <code class="par">dbP</code> or <code class="par">catID</code> is not a valid category ID number. </dd>

<dt><a name="1033090"> </a><code>catmErrNotSchemaDatabase</code></dt>
<dd><a name="1033091"> </a><code class="par">dbP</code> is not a schema database. </dd>

<dt><a name="1033092"> </a><code>catmErrReadOnlyDatabase</code></dt>
<dd><a name="1033093"> </a><code class="par">dbP</code> is not open for writing. </dd>

<dt><a name="1033094"> </a><code>dmErrInvalidParam</code></dt>
<dd><a name="1033095"> </a><code class="par">dbP</code> is an invalid database. </dd>

<dt><a name="1033096"> </a><code>catmErrMemError</code></dt>
<dd><a name="1033097"> </a>There is not enough memory to complete the operation. </dd>

<dt><a name="1033098"> </a><code>catmErrCategoryNotFound</code></dt>
<dd><a name="1033099"> </a>Cannot find the category with ID <code class="par">catID</code>. </dd>

</dl>
<h4>
  <a name="1033100"> </a>See Also 
</h4>

<p><a name="1033104"> </a><a href="UI_Category.html#1033520"><code>CatMgrSetEditable()</code></a></p>

<h3 class="hbH3">
  <a name="1033107"> </a>CatMgrGetID Function <a href="#1032173"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1033109"> </a>Purpose 
</h4>

<p><a name="1033110"> </a>Returns the ID of the category at the specified index. </p>
<h4>
  <a name="1033111"> </a>Declared In 
</h4>
<code>CatMgr.h<a name="1033112"> </a></code><h4>
  <a name="1033113"> </a>Prototype 
</h4>
<pre class="proto"><a name="1033114"></a>status_t CatMgrGetID (
   DmOpenRef <code class="par">dbP</code>,
   uint32_t <code class="par">index</code>,
   CategoryID <code class="par">*catIDP</code>
)
</pre>
<h4>
  <a name="1033115"> </a>Parameters 
</h4>

<dl>
<dt><a name="1033116"> </a><code>&rarr;  <i>dbP</i></code></dt>
<dd><a name="1033117"> </a>Open schema database. </dd>

<dt><a name="1033118"> </a><code>&rarr;  <i>index</i></code></dt>
<dd><a name="1033119"> </a>The index into the database's list of categories. </dd>

<dt><a name="1033120"> </a><code>&larr;  <i>catIDP</i></code></dt>
<dd><a name="1033121"> </a>The ID of the category at the specified index. </dd>

</dl>
<h4>
  <a name="1033122"> </a>Returns 
</h4>

<p><a name="1033123"> </a><code>errNone</code> upon success or one of the following: </p>

<dl>
<dt><a name="1033124"> </a><code>catmErrInvalidParam</code></dt>
<dd><a name="1033125"> </a>Could not access <code class="par">dbP</code>. </dd>

<dt><a name="1033126"> </a><code>catmErrNotSchemaDatabase</code></dt>
<dd><a name="1033127"> </a><code class="par">dbP</code> is not a schema database. </dd>

<dt><a name="1033128"> </a><code>catmErrReadOnlyDatabase</code></dt>
<dd><a name="1033129"> </a><code class="par">dbP</code> is not open for writing. </dd>

<dt><a name="1033130"> </a><code>dmErrInvalidParam</code></dt>
<dd><a name="1033131"> </a><code class="par">dbP</code> is an invalid database. </dd>

<dt><a name="1033132"> </a><code>catmErrMemError</code></dt>
<dd><a name="1033133"> </a>There is not enough memory to complete the operation. </dd>

<dt><a name="1033134"> </a><code>catmErrIndexOutOfRange</code></dt>
<dd><a name="1033135"> </a>The <code class="par">index</code> parameter is invalid. </dd>

</dl>
<h4>
  <a name="1033136"> </a>Comments 
</h4>

<p><a name="1033137"> </a>You might use this function in a loop to retrieve all category information stored in a schema database. To retrieve the ID of a specific category, use <a href="UI_Category.html#1032936"><code>CatMgrFind()</code></a>. </p>

<p><a name="1033141"> </a>This function only returns information about public categories. Schema databases might contain private categories. If so, <code>CatMgrGetID()</code> ignores those categories. </p>
<h4>
  <a name="1033142"> </a>See Also 
</h4>

<p><a name="1033149"> </a><a href="UI_Category.html#1033152"><code>CatMgrGetName()</code></a>, <a href="UI_Category.html#1033322"><code>CatMgrNumCategories()</code></a></p>

<h3 class="hbH3">
  <a name="1033152"> </a>CatMgrGetName Function <a href="#1032173"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1033154"> </a>Purpose 
</h4>

<p><a name="1033155"> </a>Returns the name of the specified category. </p>
<h4>
  <a name="1033156"> </a>Declared In 
</h4>
<code>CatMgr.h<a name="1033157"> </a></code><h4>
  <a name="1033158"> </a>Prototype 
</h4>
<pre class="proto"><a name="1033159"></a>status_t CatMgrGetName (
   DmOpenRef <code class="par">dbP</code>,
   CategoryID <code class="par">catID</code>,
   char <code class="par">*nameP</code>
)
</pre>
<h4>
  <a name="1033160"> </a>Parameters 
</h4>

<dl>
<dt><a name="1033161"> </a><code>&rarr;  <i>dbP</i></code></dt>
<dd><a name="1033162"> </a>Open schema database. </dd>

<dt><a name="1033163"> </a><code>&rarr;  <i>catID</i></code></dt>
<dd><a name="1033164"> </a>The category ID. </dd>

<dt><a name="1033165"> </a><code>&larr;  <i>nameP</i></code></dt>
<dd><a name="1033166"> </a>The name of the category with the specified ID. This string is copied from the database, so you are responsible for freeing it. </dd>

</dl>
<h4>
  <a name="1033167"> </a>Returns 
</h4>

<p><a name="1033168"> </a><code>errNone</code> upon success or one of the following: </p>

<dl>
<dt><a name="1033169"> </a><code>catmErrInvalidParam</code></dt>
<dd><a name="1033170"> </a>Could not access <code class="par">dbP</code>. </dd>

<dt><a name="1033171"> </a><code>catmErrNotSchemaDatabase</code></dt>
<dd><a name="1033172"> </a><code class="par">dbP</code> is not a schema database. </dd>

<dt><a name="1033173"> </a><code>catmErrReadOnlyDatabase</code></dt>
<dd><a name="1033174"> </a><code class="par">dbP</code> is not open for writing. </dd>

<dt><a name="1033175"> </a><code>dmErrInvalidParam</code></dt>
<dd><a name="1033176"> </a><code class="par">dbP</code> is an invalid database. </dd>

<dt><a name="1033177"> </a><code>catmErrMemError</code></dt>
<dd><a name="1033178"> </a>There is not enough memory to complete the operation. </dd>

<dt><a name="1033179"> </a><code>catmErrCategoryNotFound</code></dt>
<dd><a name="1033180"> </a>Cannot find the category with ID <code class="par">catID</code>. </dd>

</dl>
<h4>
  <a name="1033181"> </a>See Also 
</h4>

<p><a name="1033191"> </a><a href="UI_Category.html#1033556"><code>CatMgrSetName()</code></a>, <a href="UI_Category.html#1032936"><code>CatMgrFind()</code></a>, <a href="UI_Category.html#1033107"><code>CatMgrGetID()</code></a></p>

<h3 class="hbH3">
  <a name="1033194"> </a>CatMgrGetNext Function <a href="#1032173"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1033196"> </a>Purpose 
</h4>

<p><a name="1033197"> </a>Returns the next non-empty category after the specified category. </p>
<h4>
  <a name="1033198"> </a>Declared In 
</h4>
<code>CatMgr.h<a name="1033199"> </a></code><h4>
  <a name="1033200"> </a>Prototype 
</h4>
<pre class="proto"><a name="1033201"></a>status_t CatMgrGetNext (
   DmOpenRef <code class="par">dbP</code>,
   CategoryID <code class="par">inCatID</code>,
   CategoryID <code class="par">*outCatIDP</code>
)
</pre>
<h4>
  <a name="1033202"> </a>Parameters 
</h4>

<dl>
<dt><a name="1033203"> </a><code>&rarr;  <i>dbP</i></code></dt>
<dd><a name="1033204"> </a>Open schema database. </dd>

<dt><a name="1033205"> </a><code>&rarr;  <i>inCatID</i></code></dt>
<dd><a name="1033206"> </a>A category ID. </dd>

<dt><a name="1033207"> </a><code>&larr;  <i>outCatIDP</i></code></dt>
<dd><a name="1033208"> </a>The ID of the next category in the list. </dd>

</dl>
<h4>
  <a name="1033209"> </a>Returns 
</h4>

<p><a name="1033210"> </a><code>errNone</code> upon success or one of the following:</p>

<dl>
<dt><a name="1033211"> </a><code>catmErrInvalidParam</code></dt>
<dd><a name="1033212"> </a>Could not access <code class="par">dbP</code>. </dd>

<dt><a name="1033213"> </a><code>catmErrNotSchemaDatabase</code></dt>
<dd><a name="1033214"> </a><code class="par">dbP</code> is not a schema database. </dd>

<dt><a name="1033215"> </a><code>catmErrReadOnlyDatabase</code></dt>
<dd><a name="1033216"> </a><code class="par">dbP</code> is not open for writing. </dd>

<dt><a name="1033217"> </a><code>dmErrInvalidParam</code></dt>
<dd><a name="1033218"> </a><code class="par">dbP</code> is an invalid database. </dd>

<dt><a name="1033219"> </a><code>catmErrMemError</code></dt>
<dd><a name="1033220"> </a>There is not enough memory to complete the operation. </dd>

<dt><a name="1033221"> </a><code>catmErrCategoryNotFound</code></dt>
<dd><a name="1033222"> </a>Cannot find the category with ID <code class="par">inCatID</code>. </dd>

<dt><a name="1033223"> </a><code>catmErrIndexOutOfRange</code></dt>
<dd><a name="1033224"> </a>An error occurred iterating through the list of categories. </dd>

</dl>
<h4>
  <a name="1033225"> </a>Comments 
</h4>

<p><a name="1033226"> </a>The intended use of this function is to allow your users to cycle through categories. For example, the built-in applications cycle through categories when the user presses the corresponding hard-key button on the device. Note that categories are not displayed in the same order as they are stored. </p>

<p><a name="1033227"> </a>Do not use this function for searching for a particular category or iterating through the category list. </p>
<h4>
  <a name="1033228"> </a>See Also 
</h4>

<p><a name="1033235"> </a><a href="UI_Category.html#1033107"><code>CatMgrGetID()</code></a>, <a href="UI_Category.html#1032936"><code>CatMgrFind()</code></a></p>

<h3 class="hbH3">
  <a name="1033238"> </a>CatMgrGetUnfiledItemLabel Function <a href="#1032173"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1033240"> </a>Purpose 
</h4>

<p><a name="1033241"> </a>Returns the label used for the "Unfiled" item in a category list. </p>
<h4>
  <a name="1033242"> </a>Declared In 
</h4>
<code>CatMgr.h<a name="1033243"> </a></code><h4>
  <a name="1033244"> </a>Prototype 
</h4>
<pre class="proto"><a name="1033245"></a>status_t CatMgrGetUnfiledItemLabel (
   DmOpenRef <code class="par">dbP</code>,
   char <code class="par">*labelP</code>
)
</pre>
<h4>
  <a name="1033246"> </a>Parameters 
</h4>

<dl>
<dt><a name="1033247"> </a><code>&rarr;  <i>dbP</i></code></dt>
<dd><a name="1033248"> </a>Open schema database. </dd>

<dt><a name="1033249"> </a><code>&larr;  <i>labelP</i></code></dt>
<dd><a name="1033250"> </a>The text used for the "Unfiled" item within this database. </dd>

</dl>
<h4>
  <a name="1033251"> </a>Returns 
</h4>

<p><a name="1033252"> </a><code>errNone</code> upon success or one of the following: </p>

<dl>
<dt><a name="1033253"> </a><code>catmErrInvalidParam</code></dt>
<dd><a name="1033254"> </a>Could not access <code class="par">dbP</code>. </dd>

<dt><a name="1033255"> </a><code>catmErrNotSchemaDatabase</code></dt>
<dd><a name="1033256"> </a><code class="par">dbP</code> is not a schema database. </dd>

<dt><a name="1033257"> </a><code>catmErrReadOnlyDatabase</code></dt>
<dd><a name="1033258"> </a><code class="par">dbP</code> is not open for writing. </dd>

<dt><a name="1033259"> </a><code>dmErrInvalidParam</code></dt>
<dd><a name="1033260"> </a><code class="par">dbP</code> is an invalid database. </dd>

<dt><a name="1033261"> </a><code>catmErrMemError</code></dt>
<dd><a name="1033262"> </a>There is not enough memory to complete the operation. </dd>

<dt><a name="1033263"> </a><code>catmErrCategoryNotFound</code></dt>
<dd><a name="1033265"> </a>Cannot find the category with ID <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">catIDUnfiled</span>. </dd>

</dl>
<h4>
  <a name="1033266"> </a>Comments 
</h4>

<p><a name="1033267"> </a>The "Unfiled" item label is specific to each schema database. In contrast, the "All" item label is stored in the system resource database and is localized to all supported languages. </p>

<p><a name="1033268"> </a>In schema databases, a database record never belongs to the Unfiled category the way that it does in a non-schema database. A schema database record with no category information can be said to be Unfiled. </p>
<h4>
  <a name="1033269"> </a>See Also 
</h4>

<p><a name="1033273"> </a><a href="UI_Category.html#1033047"><code>CatMgrGetAllItemLabel()</code></a></p>

<h3 class="hbH3">
  <a name="1033276"> </a>CatMgrInitialize Function <a href="#1032173"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1033278"> </a>Purpose 
</h4>

<p><a name="1033279"> </a>Initializes category information for a schema database. This function is typically called right after you create a schema database.</p>
<h4>
  <a name="1033280"> </a>Declared In 
</h4>
<code>CatMgr.h<a name="1033281"> </a></code><h4>
  <a name="1033282"> </a>Prototype 
</h4>
<pre class="proto"><a name="1033283"></a>status_t CatMgrInitialize (
   DmOpenRef <code class="par">dbRef</code>,
   MemHandle <code class="par">localizedCategoryNamesStrH</code>
)
</pre>
<h4>
  <a name="1033284"> </a>Parameters 
</h4>

<dl>
<dt><a name="1033285"> </a><code>&rarr;  <i>dbRef</i></code></dt>
<dd><a name="1033286"> </a>Open schema database. </dd>

<dt><a name="1033287"> </a><code>&rarr;  <i>localizedCategoryNamesStrH</i></code></dt>
<dd><a name="1033288"> </a>A handle to a string list containing localized category names. This list is initialized from a resource of type <code>appInfoStringsRsc</code> (<code>'tAIS'</code>). </dd>

</dl>
<h4>
  <a name="1033289"> </a>Returns 
</h4>

<p><a name="1033290"> </a><code>errNone</code> upon success or one of the following: </p>

<dl>
<dt><a name="1033291"> </a><code>catmErrInvalidParam</code></dt>
<dd><a name="1033292"> </a>Could not access <code class="par">dbP</code> or <code class="par">localizedCategoryNamesStrH.</code></dd>

<dt><a name="1033293"> </a><code>catmErrNotSchemaDatabase</code></dt>
<dd><a name="1033294"> </a><code class="par">dbP</code> is not a schema database. </dd>

<dt><a name="1033295"> </a><code>catmErrReadOnlyDatabase</code></dt>
<dd><a name="1033296"> </a><code class="par">dbP</code> is not open for writing. </dd>

<dt><a name="1033297"> </a><code>dmErrInvalidParam</code></dt>
<dd><a name="1033298"> </a><code class="par">dbP</code> is an invalid database. </dd>

<dt><a name="1033299"> </a><code>catmErrMemError</code></dt>
<dd><a name="1033300"> </a>There is not enough memory to complete the operation. </dd>

<dt><a name="1033301"> </a><code>catmErrMaxCategoryLimit</code></dt>
<dd><a name="1033302"> </a>The <code class="par">localizedCategoryNamesStrH</code> contains more than the maximum number of categories allowed for a schema database. </dd>

<dt><a name="1033303"> </a><code>catmErrNameAlreadyExists</code></dt>
<dd><a name="1033304"> </a>The database has already been initialized with category information. </dd>

</dl>
<h4>
  <a name="1033305"> </a>Comments 
</h4>

<p><a name="1033306"> </a>This function creates IDs for each initialized category. The IDs are assigned starting with zero for the first category in the list and incremented for each subsequent category in the list. </p>

<p><a name="1033307"> </a>The <code class="par">localizedCategoryNamesStrH</code> parameter contains predefined categories that new users see when they start the application for the first time. Follow these guidelines when creating the resource:</p>
<ul type="disc">
  <li><a name="1033308"> </a>The string list may contain up to 255 entries. Typically you don't want to predefine 255 categories. 
  <li><a name="1033309"> </a>Each category name has a maximum length defined by the <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">catCategoryNameLength</span> constant (currently 31+1 bytes). 
  <li><a name="1033310"> </a>It's common to have at least one category named Unfiled as the first item in the list. No database records ever belong to this category, but it may be used to determine which records to display. Records that do not belong to any category are considered to be unfiled. 
  <li><a name="1033311"> </a>Don't include strings for the "All" or "Edit Categories" items that you see in a categories pop-up list. When displaying the category list, the Category Manager will automatically generated list entries for these items. 
</ul>
<h4>
  <a name="1033312"> </a>See Also 
</h4>

<p><a name="1033319"> </a><a href="UI_Category.html#1033238"><code>CatMgrGetUnfiledItemLabel()</code></a>, <a href="UI_Category.html#1032753"><code>CatMgrAdd()</code></a></p>

<h3 class="hbH3">
  <a name="1033322"> </a>CatMgrNumCategories Function <a href="#1032173"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1033324"> </a>Purpose 
</h4>

<p><a name="1033325"> </a>Returns the number of categories in a schema database. </p>
<h4>
  <a name="1033326"> </a>Declared In 
</h4>
<code>CatMgr.h<a name="1033327"> </a></code><h4>
  <a name="1033328"> </a>Prototype 
</h4>
<pre class="proto"><a name="1033329"></a>status_t CatMgrNumCategories (
   DmOpenRef <code class="par">dbP</code>,
   uint32_t <code class="par">*numCategoriesP</code>
)
</pre>
<h4>
  <a name="1033330"> </a>Parameters 
</h4>

<dl>
<dt><a name="1033331"> </a><code>&rarr;  <i>dbP</i></code></dt>
<dd><a name="1033332"> </a>Open schema database. </dd>

<dt><a name="1033333"> </a><code>&larr;  <i>numCategoriesP</i></code></dt>
<dd><a name="1033334"> </a>The number of categories stored in the database. </dd>

</dl>
<h4>
  <a name="1033335"> </a>Returns 
</h4>

<p><a name="1033336"> </a><code>errNone</code> upon success or one of the following:</p>

<dl>
<dt><a name="1033337"> </a><code>catmErrInvalidParam</code></dt>
<dd><a name="1033338"> </a>Could not access <code class="par">dbP</code>. </dd>

<dt><a name="1033339"> </a><code>catmErrNotSchemaDatabase</code></dt>
<dd><a name="1033340"> </a><code class="par">dbP</code> is not a schema database. </dd>

<dt><a name="1033341"> </a><code>catmErrReadOnlyDatabase</code></dt>
<dd><a name="1033342"> </a><code class="par">dbP</code> is not open for writing. </dd>

<dt><a name="1033343"> </a><code>dmErrInvalidParam</code></dt>
<dd><a name="1033344"> </a><code class="par">dbP</code> is an invalid database. </dd>

<dt><a name="1033345"> </a><code>catmErrMemError</code></dt>
<dd><a name="1033346"> </a>There is not enough memory to complete the operation. </dd>

</dl>
<h4>
  <a name="1033347"> </a>See Also 
</h4>

<p><a name="1033354"> </a><a href="UI_Category.html#1033107"><code>CatMgrGetID()</code></a>, <a href="UI_Category.html#1033194"><code>CatMgrGetNext()</code></a></p>

<h3 class="hbH3">
  <a name="1033357"> </a>CatMgrRemove Function <a href="#1032173"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1033359"> </a>Purpose 
</h4>

<p><a name="1033360"> </a>Removes a category from a schema database. </p>
<h4>
  <a name="1033361"> </a>Declared In 
</h4>
<code>CatMgr.h<a name="1033362"> </a></code><h4>
  <a name="1033363"> </a>Prototype 
</h4>
<pre class="proto"><a name="1033364"></a>status_t CatMgrRemove (
   DmOpenRef <code class="par">dbP</code>,
   CategoryID <code class="par">catID</code>
)
</pre>
<h4>
  <a name="1033365"> </a>Parameters 
</h4>

<dl>
<dt><a name="1033366"> </a><code>&rarr;  <i>dbP</i></code></dt>
<dd><a name="1033367"> </a>Open schema database. </dd>

<dt><a name="1033368"> </a><code>&rarr;  <i>catID</i></code></dt>
<dd><a name="1033369"> </a>The ID of the category to remove. </dd>

</dl>
<h4>
  <a name="1033370"> </a>Returns 
</h4>

<p><a name="1033371"> </a><code>errNone</code> upon success or one of the following:</p>

<dl>
<dt><a name="1033372"> </a><code>catmErrInvalidParam</code></dt>
<dd><a name="1033373"> </a>Could not access <code class="par">dbP</code> or <code class="par">catID</code> is an invalid ID. </dd>

<dt><a name="1033374"> </a><code>catmErrNotSchemaDatabase</code></dt>
<dd><a name="1033375"> </a><code class="par">dbP</code> is not a schema database. </dd>

<dt><a name="1033376"> </a><code>catmErrReadOnlyDatabase</code></dt>
<dd><a name="1033377"> </a><code class="par">dbP</code> is not open for writing. </dd>

<dt><a name="1033378"> </a><code>dmErrInvalidParam</code></dt>
<dd><a name="1033379"> </a><code class="par">dbP</code> is an invalid database. </dd>

<dt><a name="1033380"> </a><code>dmErrInvalidCategory</code></dt>
<dd><a name="1033381"> </a>The category could not be found in the database. </dd>

<dt><a name="1033382"> </a><code>catmErrMemError</code></dt>
<dd><a name="1033383"> </a>There is not enough memory to complete the operation. </dd>

</dl>
<h4>
  <a name="1033384"> </a>Comments 
</h4>

<p><a name="1033385"> </a>This function also removes the membership in this category from each database record that is a member of this category. If a record belongs only to this category, it becomes unfiled. </p>
<h4>
  <a name="1033386"> </a>See Also 
</h4>

<p><a name="1033390"> </a><a href="UI_Category.html#1032753"><code>CatMgrAdd()</code></a></p>

<h3 class="hbH3">
  <a name="1033393"> </a>CatMgrSelectEdit Function <a href="#1032173"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1033395"> </a>Purpose 
</h4>

<p><a name="1033396"> </a>Displays a pop-up list from which the user can choose category membership for an existing record. </p>
<h4>
  <a name="1033397"> </a>Declared In 
</h4>
<code>CatMgr.h<a name="1033398"> </a></code><h4>
  <a name="1033399"> </a>Prototype 
</h4>
<pre class="proto"><a name="1033400"></a>Boolean CatMgrSelectEdit (
   DmOpenRef <code class="par">dbRef</code>,
   const FormType *<code class="par">frm</code>,
   uint16_t <code class="par">ctlID</code>,
   char *<code class="par">ctlLabelBuffer</code>,
   uint16_t <code class="par">lstID</code>,
   Boolean <code class="par">allowMultiple</code>,
   CategoryID <code class="par">currentCategoriesP</code>[],
   uint32_t <code class="par">numCurrentCategories</code>,
   CategoryID *<code class="par">selectedCategoriesPP</code>[],
   uint32_t *<code class="par">numSelectedCategoriesP</code>,
   Boolean <code class="par">showEditingStr</code>,
   char *<code class="par">customEditingStrP</code>
)
</pre>
<h4>
  <a name="1033401"> </a>Parameters 
</h4>

<dl>
<dt><a name="1033402"> </a><code>&rarr;  <i>dbRef</i></code></dt>
<dd><a name="1033403"> </a>Open schema database. </dd>

<dt><a name="1033404"> </a><code>&rarr;  <i>frm</i></code></dt>
<dd><a name="1033405"> </a>Pointer to the form that contains the category pop-up list. </dd>

<dt><a name="1033406"> </a><code>&rarr;  <i>ctlID</i></code></dt>
<dd><a name="1033407"> </a>Resource ID of the selector trigger. </dd>

<dt><a name="1033408"> </a><code>&harr;  <i>ctlLabelBuffer</i></code></dt>
<dd><a name="1033409"> </a>Stores the string displayed in the selector trigger. This string must have a minimum size of <code>catCategoryNameLength</code>, but it can be longer. It must exist for the life of the form. </dd>

<dd><a name="1033411"> </a>Upon return, contains the updated string displayed in the selector trigger. This string is a comma-separated list of the currently selected categories, truncated to fit a particular space. </dd>

<dt><a name="1033412"> </a><code>&rarr;  <i>lstID</i></code></dt>
<dd><a name="1033413"> </a>Resource ID of the pop-up list. </dd>

<dt><a name="1033414"> </a><code>&rarr;  <i>allowMultiple</i></code></dt>
<dd><a name="1033415"> </a>If <code>true</code>, a "Multiple" item is added to the list so that the user can select multiple categories for the record. If <code>false</code>, the record can only belong to a single category. </dd>

<dt><a name="1033416"> </a><code>&rarr;  <i>currentCategoriesP</i></code></dt>
<dd><a name="1033417"> </a>An array of the IDs of categories to which the record belongs. </dd>

<dt><a name="1033418"> </a><code>&rarr;  <i>numCurrentCategories</i></code></dt>
<dd><a name="1033419"> </a>The number of categories listed in <code class="par">currentCategoriesP</code>. </dd>

<dt><a name="1033420"> </a><code>&larr;  <i>selectedCategoriesPP</i></code></dt>
<dd><a name="1033421"> </a>Points to an array of the IDs of categories that the user has selected, or <code>NULL</code> if the selection has not changed. If this parameter is defined, your application should update the record so that it belongs to all categories listed in this parameter. This new list should overwrite the current category membership list. </dd>

<dt><a name="1033422"> </a><code>&larr;  <i>numSelectedCategoriesP</i></code></dt>
<dd><a name="1033423"> </a>The number of categories listed in the <code class="par">selectedCategoriesPP</code> array or <code>NULL</code> if <code class="par">selectedCategoriesPP</code> is <code>NULL</code>. </dd>

<dt><a name="1033424"> </a><code>&rarr;  <i>showEditingStr</i></code></dt>
<dd><a name="1033425"> </a><code>true</code> if the list should display an Edit Categories list item, or <code>false</code> not to display it. </dd>

<dt><a name="1033426"> </a><code>&rarr;  <i>customEditingStrP</i></code></dt>
<dd><a name="1033427"> </a>A string to use as the Edit Categories list item. To use the default string for the current locale, pass <code>NULL</code> for this parameter. This parameter is ignored if <code class="par">showEditingStr</code> is <code>false</code>. </dd>

</dl>
<h4>
  <a name="1033428"> </a>Returns 
</h4>

<p><a name="1033429"> </a><code>true</code> if the user changes the selected categories or selects new categories to which the record should belong. Returns <code>false</code> if the user does not change category membership for this record. </p>
<h4>
  <a name="1033430"> </a>Comments 
</h4>

<p><a name="1033431"> </a>Use this function for forms that use a category selector trigger/pop-up list combination to allow the user to change a category or categories to which the displayed schema database record belongs. Call it when the user taps the category selector trigger. This function handles all aspects of displaying the pop-up list and managing the user selection&#8212;It creates the pop-up list using <a href="UI_Category.html#1032813"><code>CatMgrCreateList()</code></a>, displays the pop-up list, calls <a href="UI_Category.html#1032895"><code>CatMgrEdit()</code></a> if the user selects the Edit Categories item, uses <a href="UI_Category.html#1033594"><code>CatMgrSetTriggerLabel()</code></a> to set the selector trigger label to the item the user selected, and then calls <a href="UI_Category.html#1032975"><code>CatMgrFreeList()</code></a> to free the list items array. </p>

<p><a name="1033448"> </a>Your application is responsible for checking the value of <code class="par">selectedCategoriesPP </code>upon return and changing the record's category memberships to the new selection. You must then free the selected categories list using the function <a href="UI_Category.html#1033025"><code>CatMgrFreeSelectedCategories()</code></a>. </p>
<h4>
  <a name="1033453"> </a>See Also 
</h4>

<p><a name="1033460"> </a><a href="UI_Category.html#1033463"><code>CatMgrSelectFilter()</code></a>, <a href="UI_Category.html#1033631"><code>CatMgrTruncateName()</code></a></p>

<h3 class="hbH3">
  <a name="1033463"> </a>CatMgrSelectFilter Function <a href="#1032173"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1033465"> </a>Purpose 
</h4>

<p><a name="1033466"> </a>Displays a category pop-up list from which the user selects a category whose records should be listed on the form. </p>
<h4>
  <a name="1033467"> </a>Declared In 
</h4>
<code>CatMgr.h<a name="1033468"> </a></code><h4>
  <a name="1033469"> </a>Prototype 
</h4>
<pre class="proto"><a name="1033470"></a>Boolean CatMgrSelectFilter (
   DmOpenRef <code class="par">dbRef</code>,
   const FormType <code class="par">*frm</code>,
   uint16_t <code class="par">ctlID</code>,
   char <code class="par">*ctlLabelBuffer</code>,
   uint16_t <code class="par">lstID</code>,
   CategoryID <code class="par">*inCurrentCategoriesP</code>,
   uint32_t <code class="par">numInCurrentCategories</code>,
   CategoryID <code class="par">**outCurrentCategoriesPP</code>,
   uint32_t <code class="par">*numOutCurrentCategoriesP</code>,
   Boolean <code class="par">showEditingStr</code>,
   char <code class="par">*customEditingStrP</code>
)
</pre>
<h4>
  <a name="1033471"> </a>Parameters 
</h4>

<dl>
<dt><a name="1033472"> </a><code>&rarr;  <i>dbRef</i></code></dt>
<dd><a name="1033473"> </a>Open schema database containing the categories to display. </dd>

<dt><a name="1033474"> </a><code>&rarr;  <i>frm</i></code></dt>
<dd><a name="1033475"> </a>Pointer to the form that contains the category pop-up list. </dd>

<dt><a name="1033476"> </a><code>&rarr;  <i>ctlID</i></code></dt>
<dd><a name="1033477"> </a>Resource ID of the pop-up trigger. </dd>

<dt><a name="1033478"> </a><code>&harr;  <i>ctlLabelBuffer</i></code></dt>
<dd><a name="1033479"> </a>Stores the string displayed in the pop-up trigger. This string must have a minimum size of <code>catCategoryNameLength</code>, but it can be longer. It must exist for the life of the form. </dd>

<dd><a name="1033481"> </a>Upon return, contains the updated string displayed in the pop-up trigger. This string is a comma-separated list of the currently selected categories, truncated to fit a particular space. </dd>

<dt><a name="1033482"> </a><code>&rarr;  <i>lstID</i></code></dt>
<dd><a name="1033483"> </a>Resource ID of the pop-up list. </dd>

<dt><a name="1033484"> </a><code>&rarr;  <i>inCurrentCategoriesP</i></code></dt>
<dd><a name="1033485"> </a>An array of the IDs of categories that are currently displayed. </dd>

<dt><a name="1033486"> </a><code>&rarr;  <i>numInCurrentCategories</i></code></dt>
<dd><a name="1033487"> </a>The number of categories specified in <code class="par">inCurrentCategoriesP</code>. </dd>

<dt><a name="1033488"> </a><code>&larr;  <i>outCurrentCategoriesPP</i></code></dt>
<dd><a name="1033489"> </a>If the category selection changes, points to an array of the IDs of the newly selected categories. Typically, there is only one category. <code>NULL</code> if the selection did not change.</dd>

<dt><a name="1033490"> </a><code>&larr;  <i>numOutCurrentCategoriesP</i></code></dt>
<dd><a name="1033491"> </a>The number of categories in <code class="par">outCurrentCategoriesPP</code> or <code>NULL</code> if <code class="par">outCurrentCategoriesPP</code> is <code>NULL</code>.</dd>

<dt><a name="1033492"> </a><code>&rarr;  <i>showEditingStr</i></code></dt>
<dd><a name="1033493"> </a><code>true</code> if the list should display an Edit Categories list item, or <code>false</code> not to display it. </dd>

<dt><a name="1033494"> </a><code>&rarr;  <i>customEditingStrP</i></code></dt>
<dd><a name="1033495"> </a>A string to use as the Edit Categories list item. To use the default string for the current locale, pass <code>NULL</code> for this parameter. This parameter is ignored if <code class="par">showEditingStr</code> is <code>false</code>. </dd>

</dl>
<h4>
  <a name="1033496"> </a>Returns 
</h4>

<p><a name="1033497"> </a><code>true</code> if the user changes the selected categories, or <code>false</code> otherwise. </p>
<h4>
  <a name="1033498"> </a>Comments 
</h4>

<p><a name="1033499"> </a>Use this function for forms that use a category pop-up list to filter the display. Call it when the user taps the category pop-up trigger. This function handles all aspects of displaying the pop-up list and managing the user selection&#8212;It creates the pop-up list using <a href="UI_Category.html#1032813"><code>CatMgrCreateList()</code></a>, displays the pop-up list, calls <a href="UI_Category.html#1032895"><code>CatMgrEdit()</code></a> if the user selects the Edit Categories item, uses <a href="UI_Category.html#1033594"><code>CatMgrSetTriggerLabel()</code></a> to set the trigger label to the item the user selected, and then calls <a href="UI_Category.html#1032975"><code>CatMgrFreeList()</code></a> to free the list items array. Your application is responsible for checking the value of <code class="par">outCurentCategoriesPP</code> upon return and updating the display or changing the record's category to the new selection. You must then free the selected categories list using the function <a href="UI_Category.html#1033025"><code>CatMgrFreeSelectedCategories()</code></a>. </p>

<p><a name="1033516"> </a>The "All" list item is automatically added. The "Edit Categories" list item is only added if <code class="par">showEditingStr</code> is <code>true</code>. </p>

<p><a name="1033517"> </a>If this function returns <code>true</code>, the application should update the display so that only the newly selected categories are displayed. </p>

<h3 class="hbH3">
  <a name="1033520"> </a>CatMgrSetEditable Function <a href="#1032173"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1033522"> </a>Purpose 
</h4>

<p><a name="1033523"> </a>Enables or disables the ability to edit a specified category. </p>
<h4>
  <a name="1033524"> </a>Declared In 
</h4>
<code>CatMgr.h<a name="1033525"> </a></code><h4>
  <a name="1033526"> </a>Prototype 
</h4>
<pre class="proto"><a name="1033527"></a>status_t CatMgrSetEditable (
   DmOpenRef <code class="par">dbP</code>,
   CategoryID <code class="par">catID</code>,
   Boolean <code class="par">editable</code>
)
</pre>
<h4>
  <a name="1033528"> </a>Parameters 
</h4>

<dl>
<dt><a name="1033529"> </a><code>&rarr;  <i>dbP</i></code></dt>
<dd><a name="1033530"> </a>Open schema database. </dd>

<dt><a name="1033531"> </a><code>&rarr;  <i>catID</i></code></dt>
<dd><a name="1033532"> </a>A category ID. </dd>

<dt><a name="1033533"> </a><code>&rarr;  <i>editable</i></code></dt>
<dd><a name="1033534"> </a><code>true</code> to allow the user to modify or delete the specified category; <code>false</code> to disallow it. </dd>

</dl>
<h4>
  <a name="1033535"> </a>Returns 
</h4>

<p><a name="1033536"> </a><code>errNone</code> upon success or one of the following:</p>

<dl>
<dt><a name="1033537"> </a><code>catmErrInvalidParam</code></dt>
<dd><a name="1033538"> </a>Could not access <code class="par">dbP</code> or <code class="par">catID</code> is invalid. </dd>

<dt><a name="1033539"> </a><code>catmErrNotSchemaDatabase</code></dt>
<dd><a name="1033540"> </a><code class="par">dbP</code> is not a schema database. </dd>

<dt><a name="1033541"> </a><code>catmErrReadOnlyDatabase</code></dt>
<dd><a name="1033542"> </a><code class="par">dbP</code> is not open for writing. </dd>

<dt><a name="1033543"> </a><code>dmErrInvalidParam</code></dt>
<dd><a name="1033544"> </a><code class="par">dbP</code> is an invalid database. </dd>

<dt><a name="1033545"> </a><code>catmErrMemError</code></dt>
<dd><a name="1033546"> </a>There is not enough memory to complete the operation. </dd>

<dt><a name="1033547"> </a><code>catmErrCategoryNotFound</code></dt>
<dd><a name="1033548"> </a>Cannot find the category with ID <code class="par">catID</code>. </dd>

</dl>
<h4>
  <a name="1033549"> </a>See Also 
</h4>

<p><a name="1033553"> </a><a href="UI_Category.html#1033071"><code>CatMgrGetEditable()</code></a></p>

<h3 class="hbH3">
  <a name="1033556"> </a>CatMgrSetName Function <a href="#1032173"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1033558"> </a>Purpose 
</h4>

<p><a name="1033559"> </a>Sets the name of the specified category. </p>
<h4>
  <a name="1033560"> </a>Declared In 
</h4>
<code>CatMgr.h<a name="1033561"> </a></code><h4>
  <a name="1033562"> </a>Prototype 
</h4>
<pre class="proto"><a name="1033563"></a>status_t CatMgrSetName (
   DmOpenRef <code class="par">dbP</code>,
   CategoryID <code class="par">catID</code>,
   const char <code class="par">*nameP</code>
)
</pre>
<h4>
  <a name="1033564"> </a>Parameters 
</h4>

<dl>
<dt><a name="1033565"> </a><code>&rarr;  <i>dbP</i></code></dt>
<dd><a name="1033566"> </a>Open schema database. </dd>

<dt><a name="1033567"> </a><code>&rarr;  <i>catID</i></code></dt>
<dd><a name="1033568"> </a>A category ID. </dd>

<dt><a name="1033569"> </a><code>&rarr;  <i>nameP</i></code></dt>
<dd><a name="1033570"> </a>A string containing the category's new name. This string is copied into the appropriate portion of the database. </dd>

</dl>
<h4>
  <a name="1033571"> </a>Returns 
</h4>

<p><a name="1033572"> </a><code>errNone</code> upon success or one of the following:</p>

<dl>
<dt><a name="1033573"> </a><code>catmErrInvalidParam</code></dt>
<dd><a name="1033574"> </a>Could not access <code class="par">dbP</code> or <code class="par">catID</code> is invalid. </dd>

<dt><a name="1033575"> </a><code>catmErrNotSchemaDatabase</code></dt>
<dd><a name="1033576"> </a><code class="par">dbP</code> is not a schema database. </dd>

<dt><a name="1033577"> </a><code>catmErrReadOnlyDatabase</code></dt>
<dd><a name="1033578"> </a><code class="par">dbP</code> is not open for writing. </dd>

<dt><a name="1033579"> </a><code>dmErrInvalidParam</code></dt>
<dd><a name="1033580"> </a><code class="par">dbP</code> is an invalid database. </dd>

<dt><a name="1033581"> </a><code>catmErrMemError</code></dt>
<dd><a name="1033582"> </a>There is not enough memory to complete the operation. </dd>

<dt><a name="1033583"> </a><code>catmErrCategoryNotFound</code></dt>
<dd><a name="1033584"> </a>Cannot find the category with ID <code class="par">catID</code>. </dd>

<dt><a name="1033585"> </a><code>catmErrNameAlreadyExists</code></dt>
<dd><a name="1033586"> </a>The database already contains a category with this name. </dd>

</dl>
<h4>
  <a name="1033587"> </a>See Also 
</h4>

<p><a name="1033591"> </a><a href="UI_Category.html#1033152"><code>CatMgrGetName()</code></a></p>

<h3 class="hbH3">
  <a name="1033594"> </a>CatMgrSetTriggerLabel Function <a href="#1032173"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1033596"> </a>Purpose 
</h4>

<p><a name="1033597"> </a>Sets the label displayed by the category pop-up trigger for a schema database. </p>
<h4>
  <a name="1033598"> </a>Declared In 
</h4>
<code>CatMgr.h<a name="1033599"> </a></code><h4>
  <a name="1033600"> </a>Prototype 
</h4>
<pre class="proto"><a name="1033601"></a>void CatMgrSetTriggerLabel (
   DmOpenRef <code class="par">dbRef</code>,
   CategoryID <code class="par">categoriesP[]</code>,
   uint32_t <code class="par">numCategories</code>,
   ControlType <code class="par">*ctl</code>,
   char <code class="par">*nameP</code>
)
</pre>
<h4>
  <a name="1033602"> </a>Parameters 
</h4>

<dl>
<dt><a name="1033603"> </a><code>&rarr;  <i>dbRef</i></code></dt>
<dd><a name="1033604"> </a>Open schema database. </dd>

<dt><a name="1033605"> </a><code>&rarr;  <i>categoriesP</i></code></dt>
<dd><a name="1033606"> </a>An array of the IDs of categories whose names should be displayed in the trigger. </dd>

<dt><a name="1033607"> </a><code>&rarr;  <i>numCategories</i></code></dt>
<dd><a name="1033608"> </a>The number of categories in the <code class="par">categoriesP</code> array. </dd>

<dt><a name="1033609"> </a><code>&rarr;  <i>ctl</i></code></dt>
<dd><a name="1033610"> </a>Pointer to the control (pop-up or selector trigger) to relabel. </dd>

<dt><a name="1033611"> </a><code>&harr;  <i>nameP</i></code></dt>
<dd><a name="1033612"> </a>Stores the string displayed in the trigger. This string must have a minimum size of <code>catCategoryNameLength</code>, but it can be longer. It must exist for the life of the form. </dd>

<dd><a name="1033614"> </a>Upon return, contains the updated string displayed in the trigger. This string is a comma-separated list of the currently selected categories, truncated to fit a particular space. </dd>

</dl>
<h4>
  <a name="1033615"> </a>Returns 
</h4>

<p><a name="1033616"> </a>Nothing. </p>
<h4>
  <a name="1033617"> </a>Comments 
</h4>

<p><a name="1033618"> </a>The <code>CatMgrSetTriggerLabel()</code> function looks up the names for the specified categories and then creates a comma-separated list of the category names. It calls the <a href="UI_Category.html#1033631"><code>CatMgrTruncateName()</code></a> function to truncate this string to the maximum length. The maximum length varies, depending upon which ROM is installed in the device. </p>

<div><hr>
  <a name="1033623"> </a> <b>NOTE: </b> This function passes the <code class="par">nameP</code> parameter to the <code>CatMgrTruncateName()</code> function, which means that the <code class="par">nameP</code> value must be modifiable. <code>CatMgrSetTriggerLabel()</code> does not make a copy of the string passed, so you must ensure that the string remains valid until the form is closed.
<hr>
</div>
<h4>
  <a name="1033624"> </a>See Also 
</h4>

<p><a name="1033628"> </a><a href="UI_Control.html#995869"><code>CtlSetLabel()</code></a></p>

<h3 class="hbH3">
  <a name="1033631"> </a>CatMgrTruncateName Function <a href="#1032173"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1033633"> </a>Purpose 
</h4>

<p><a name="1033634"> </a>Truncates a list of categories from a schema database so that it's short enough to display. The string is truncated if it's longer than <code class="par">maxWidth</code>.</p>
<h4>
  <a name="1033635"> </a>Declared In 
</h4>
<code>CatMgr.h<a name="1033636"> </a></code><h4>
  <a name="1033637"> </a>Prototype 
</h4>
<pre class="proto"><a name="1033638"></a>void CatMgrTruncateName (
   DmOpenRef <code class="par">dbRef</code>,
   CategoryID <code class="par">categoriesP[]</code>,
   uint32_t <code class="par">numCategories</code>,
   uint16_t <code class="par">maxWidth</code>,
   char <code class="par">*nameP</code>
)
</pre>
<h4>
  <a name="1033639"> </a>Parameters 
</h4>

<dl>
<dt><a name="1033640"> </a><code>&rarr;  <i>dbRef</i></code></dt>
<dd><a name="1033641"> </a>An open schema database. </dd>

<dt><a name="1033642"> </a><code>&rarr;  <i>categoriesP</i></code></dt>
<dd><a name="1033643"> </a>An array of the IDs of categories whose names should be displayed in the trigger. </dd>

<dt><a name="1033644"> </a><code>&rarr;  <i>numCategories</i></code></dt>
<dd><a name="1033645"> </a>The number of categories in the <code class="par">categoriesP</code> array. </dd>

<dt><a name="1033646"> </a><code>&rarr;  <i>maxWidth</i></code></dt>
<dd><a name="1033647"> </a>Maximum size, in standard coordinates, of the truncated category string (including ellipsis and commas).</dd>

<dt><a name="1033648"> </a><code>&harr;  <i><code>name</code></i></code></dt>
<dd><a name="1033649"> </a>Stores the string displayed in the pop-up or selector trigger. This string must have a minimum size of <code>catCategoryNameLength</code>, but it can be longer. It must exist for the life of the form. </dd>

<dd><a name="1033651"> </a>Upon return, contains the updated string displayed in the trigger. This string is a comma-separated list of the currently selected categories, truncated to fit the space indicated by <code class="par">maxWidth</code>. </dd>

</dl>
<h4>
  <a name="1033652"> </a>Returns 
</h4>

<p><a name="1033653"> </a>Nothing. </p>

<p><a name="997329"> </a></p>
&nbsp;<br>
</div>
<!--END CONTENT-->

</td>
<td width="5">&nbsp;&nbsp;</td>
</tr>

</table>

<!-- BEGIN FOOTER -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="7" rowspan="2"><img name="index_x" src="images/shim.gif" width="7" height="33" border="0" alt=""></td>
<td align="left"><img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
<td width="10" rowspan="2"><img name="index_x" src="images/shim.gif" width="10" height="33" border="0" alt=""></td>
</tr>
<tr>
<td align="center">
<p class="footer">
Copyright © 2003&#8211;2004, PalmSource, Inc. and its affiliates. All rights reserved.<br>
<a href="http://www.palmsource.com/contact/">Write Us</a> | <a href="http://www.palmos.com/dev/training/">Training</a> | <a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a> | <a href="UI_Front.html" target="_blank">Legal</a></p>
<br>
<!--BEGIN BOOK NAVIGATION-->
<p class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="UI_TOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="UI_Font.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="UI_Clipboard.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="UI_IX.html">Index</a>
</p>
</td>
</tr>
</table>
<!-- END FOOTER -->

</body>
</html>