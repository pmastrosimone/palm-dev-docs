<html>
<head>
<title>(Protein) Displaying Text | User Interface </title> 
<link href="psi_devpubs.css" rel="stylesheet" type="text/css">

<!-- BEGIN META DATA -->
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META NAME="PSITEMPLATE" CONTENT="1006-007 PalmSource_HTML_2003 20041101">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks AutoMap 2003 for FrameMaker 8.0.6.2138">
<META NAME="LASTUPDATED" CONTENT="11/22/04 11:47:10">
<!-- END META DATA -->
</head>

<body bgcolor="#ffffff" text="#000000" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<a name="1005083"></a>

<!-- BEGIN TOPNAV -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td><img src="images/shim.gif" width="7" height="75" border="0" alt=""></td>
<td align="left"><table border="0" cellpadding="0" cellspacing="0" width="744">
<tr>
<td><img name="index_r2_c1" src="images/shim.gif" width="25" height="75" border="0" alt=""></td>
<td valign="top"><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_r2_c4" src="images/shim.gif" width="96" height="15" border="0" alt=""></td>
</tr>
<tr>
<td><a href="http://www.palmsource.com/"><img name="ps_logo" src="images/ps_logo.gif" width="96" height="54" border="0" alt=""></a></td>
</tr>

</table>
</td>

<td><table border="0" cellpadding="0" cellspacing="0" width="30">
<td><img name="index_x" src="images/shim.gif" width="30" height="75" border="0" alt=""></td>
</table></td>

<!--BEGIN MASTHEAD-->
<td><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
<tr>
<td>
<!--BEGIN BOOK NAVIGATION-->
<span class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="UI_TOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="UI_MenuConcept.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="UI_TableConcept.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="UI_IX.html">Index</a>
</span>
<!--END BOOK NAVIGATION-->
</tr>
<tr>
<td>
<!--BEGIN PAGE TITLE-->
<h2 class="PageTitle">5 &nbsp;&nbsp;
Displaying Text</h2></td>
<!--END PAGE TITLE-->
</tr>
<tr>
<td>
<!--BEGIN BOOK TITLE-->
<p class="BookTitle">User Interface </p>
<p class="SubTitle">Exploring Palm OS&#174; </p>
<!--END BOOK TITLE-->
</td>
</tr>
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
</table>
</td>
<!--END MASTHEAD-->
</tr>
</table>
<img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
</tr>
</table>
<!-- END TOPNAV -->

<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" width="5"><img name="index_x" src="images/shim.gif" width="5" height="33" border="0" alt=""></td>

<!--BEGIN SIDETOC-->
<td valign="top" width="175">
<div id="sidetoc" valign="bottom">
<h1 class="SideTOC1-PartTab"><a href="UI_PartConcept.html">Part I: Concepts</a> </h1>
<h1 class="SideTOC1"><a href="UI_FieldConcept.html">5  Displaying Text</a></h1>

   <h2 class="SideTOC2"><a href="#1006818">
   Text Fields</a></h2>

      <h3 class="SideTOC3"><a href="#1031247">
      Editable Text Fields</a></h3>

      <h3 class="SideTOC3"><a href="#1031276">
      Noneditable Text Fields</a></h3>

      <h3 class="SideTOC3"><a href="#1032022">
      Single-line Text Fields</a></h3>

      <h3 class="SideTOC3"><a href="#1030004">
      Multi-line Text Fields</a></h3>

   <h2 class="SideTOC2"><a href="#1026258">
   Labels</a></h2>

   <h2 class="SideTOC2"><a href="#1028809">
   Form Titles</a></h2>

   <h2 class="SideTOC2"><a href="#1026425">
   Fonts </a></h2>

      <h3 class="SideTOC3"><a href="#1036065">
      About Font Resources</a></h3>

      <h3 class="SideTOC3"><a href="#1035726">
      Built-in Fonts</a></h3>

      <h3 class="SideTOC3"><a href="#1043822">
      Setting the Font Programmatically</a></h3>

      <h3 class="SideTOC3"><a href="#1026553">
      Selecting Which Font to Use</a></h3>

      <h3 class="SideTOC3"><a href="#1035854">
      Obtaining Font Dimensions</a></h3>

      <h3 class="SideTOC3"><a href="#1026816">
      Creating and Using Custom Bitmapped Fonts</a></h3>

      <h3 class="SideTOC3"><a href="#1044239">
      Creating and Using Custom Scalable Fonts</a></h3>

      <h3 class="SideTOC3"><a href="#1037108">
      How Palm OS Displays Bitmapped Fonts</a></h3>

   <h2 class="SideTOC2"><a href="#1037171">
   Summary of Text Display Functions</a></h2>

</div>
</td>

<td width="5">&nbsp;&nbsp;</td>
<td width="2" background="images/index_r8_c10.gif"><img src="images/shim.gif" width="2" height="75" border="0" alt=""></td>
<td width="5">&nbsp;&nbsp;</td>

<!--END SIDETOC-->

<td valign="top">

<!--BEGIN CONTENT-->
<div id="content" valign="bottom">
<p><a name="1027349"> </a>This chapter describes user interface elements that display text or that assist in the display of text. It covers: </p>
   <blockquote class = "bq"><a name="1029246"> </a><a href="UI_FieldConcept.html#1006818">Text Fields</a></blockquote>
   <blockquote class = "bq"><a name="1029304"> </a><a href="UI_FieldConcept.html#1026258">Labels</a></blockquote>
   <blockquote class = "bq"><a name="1029308"> </a><a href="UI_FieldConcept.html#1028809">Form Titles</a></blockquote>
   <blockquote class = "bq"><a name="1029313"> </a><a href="UI_FieldConcept.html#1026425">Fonts</a></blockquote>

<p><a name="1029247"> </a>See the book <i>Exploring Palm OS: Text and Localization</i> for information about manipulating the text strings that are stored in these elements. </p>

<h2 class="haH2">
  <a name="1006818"> </a>Text Fields <a href="#1005083"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1006829"> </a>A <b>text field</b> displays one or more lines of text. <a href="UI_FieldConcept.html#1006831">Figure 5.1</a> shows a form whose main element is an underlined, left-justified, multi-line field containing data.</p>

<p class="FFigureCaption">
  <a name="1006831"> </a><b>Figure 5.1&nbsp;&nbsp;Text field</b>
</p>
<div align="left"><img src="images/TextFieldMemo.jpg" height="177" width="360" border="0" hspace="0" vspace="0">
</div>

<p><a name="1030816"> </a>The text field supports these features:</p>
<ul type="disc">
  <li><a name="1030817"> </a>Proportional bitmapped fonts (only one font per field)
  <li><a name="1030818"> </a>Drag-selection
  <li><a name="1030819"> </a>Scrolling for multiline fields
  <li><a name="1030820"> </a>Cut, copy, and paste
  <li><a name="1030821"> </a>Left and right text justification
  <li><a name="1030822"> </a>Tab stops
  <li><a name="1030827"> </a>Insertion point positioning with pen (the insertion point is positioned by touching the pen between characters)
  <li><a name="1030828"> </a>Double-tap to select a word 
</ul>

<p><a name="1030829"> </a>The text field does <i>not</i> support overstrike input mode; horizontal scrolling; numeric formatting; or special keys for page up, page down, left word, right word, home, end, left margin, or right margin. </p>

<p><a name="1030837"> </a>Events in fields are handled by <a href="UI_Field.html#996910"><code>FldHandleEvent()</code></a>. <a href="UI_FieldConcept.html#1030846">Table 5.1</a> provides an overview of how <code>F</code><!-PS02-><span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">ldHandleEvent()</span> deals with the different events</p>

<p class="caption"><a name="1030846"> </a><b>Table 5.1&nbsp;&nbsp;Event flow for fields </b></p>
<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1030852"> </a><b>User Action</b></p>
    </th>
    <th><p class="tt"><a name="1030854"> </a><b>Event Generated</b></p>
    </th>
    <th><p class="tt"><a name="1030856"> </a><b>FldHandleEvent() Response</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1030858"> </a>Pen goes down on a field.</p>
    </td>
    <td><p class="tt"><a name="1030864"> </a><a href="../Input_Services/In_LowEvents.html#994048"><code>penDownEvent</code></a> with the x and y coordinates stored in <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>. </p>
    </td>
    <td><p class="tt"><a name="1030866"> </a>Adds the <code>fldEnterEvent</code> to the event queue. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1030868"> </a></p>
    </td>
    <td><p class="tt"><a name="1030874"> </a><a href="UI_Field.html#1007914"><code>fldEnterEvent</code></a> with the field's resource ID.</p>
    </td>
    <td><p class="tt"><a name="1030876"> </a>Sets the insertion point position to the position of the pen and tracks the pen without blocking until it is released. Responds to the <code>penMoveEvent</code> as appropriate. Drag-selection and drag-scrolling are supported.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1030878"> </a></p>
    </td>
    <td><p class="tt"><a name="1030880"> </a></p>
    </td>
    <td><p class="tt"><a name="1030882"> </a>Double-tapping in a field selects the word at that location, and triple-tapping selects the line. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1030884"> </a>Pen is lifted.</p>
    </td>
    <td><p class="tt"><a name="1030890"> </a><a href="../Input_Services/In_LowEvents.html#994097"><code>penUpEvent</code></a> with the x and y coordinates. </p>
    </td>
    <td><p class="tt"><a name="1030892"> </a>Nothing happens; a field remains selected until another field is selected or the form that contains the field is closed.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1030894"> </a>Enters character into selected field. </p>
    </td>
    <td><p class="tt"><a name="1030900"> </a><a href="../Input_Services/In_LowEvents.html#993792"><code>keyDownEvent</code></a> containing character value in <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">EventType</span>.</p>
    </td>
    <td><p class="tt"><a name="1030902"> </a>Character added to field's text string. If there is an active FEP, keys are passed to it first so that it has a chance to convert characters. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1030905"> </a>Presses up arrow key</p>
    </td>
    <td><p class="tt"><a name="1030908"> </a><code>keyDownEvent</code> containing <code>chrUpArrow</code>. </p>
    </td>
    <td><p class="tt"><a name="1030910"> </a>Moves insertion point up a line.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1030913"> </a>Presses down arrow</p>
    </td>
    <td><p class="tt"><a name="1030916"> </a><code>keyDownEvent</code> containing <code>chrDownArrow</code>. </p>
<p class="tt"><a name="1030918"> </a></p>
    </td>
    <td><p class="tt"><a name="1030920"> </a>Moves insertion point down a line; the insertion point doesn't move beyond the last line that contains text.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1030923"> </a>Presses left arrow</p>
    </td>
    <td><p class="tt"><a name="1030926"> </a><code>keyDownEvent</code> containing <code>chrLeftArrow</code>. </p>
<p class="tt"><a name="1030928"> </a></p>
    </td>
    <td><p class="tt"><a name="1030930"> </a>Moves insertion point one character position to the left. When the left margin is reached, move to the end of the previous line.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1030933"> </a>Presses right arrow</p>
    </td>
    <td><p class="tt"><a name="1030936"> </a><code>keyDownEvent</code> containing <code>chrRightArrow</code>. </p>
<p class="tt"><a name="1030938"> </a></p>
    </td>
    <td><p class="tt"><a name="1030940"> </a>Moves insertion point one character position to the right. When the right margin is reached, move to the start of the next line.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1030942"> </a>Cut command</p>
    </td>
    <td><p class="tt"><a name="1030945"> </a><code>keyDownEvent</code> containing <code>vchrFieldCut</code>. </p>
<p class="tt"><a name="1030947"> </a></p>
    </td>
    <td><p class="tt"><a name="1030949"> </a>Cuts the current selection to the text clipboard.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1030951"> </a>Copy command</p>
    </td>
    <td><p class="tt"><a name="1030954"> </a><code>keyDownEvent</code> containing <code>vchrFieldCopy</code>. </p>
<p class="tt"><a name="1030956"> </a></p>
    </td>
    <td><p class="tt"><a name="1030958"> </a>Copies the current selection to the text clipboard.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1030960"> </a>Paste command</p>
    </td>
    <td><p class="tt"><a name="1030963"> </a><code>keyDownEvent</code> containing <code>vchrFieldPaste</code>. </p>
<p class="tt"><a name="1030965"> </a></p>
    </td>
    <td><p class="tt"><a name="1030967"> </a>Inserts clipboard text into the field at insertion point.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1030969"> </a>Undo command </p>
    </td>
    <td><p class="tt"><a name="1030972"> </a><code>keyDownEvent</code> containing <code>vchrFieldUndo</code>. </p>
    </td>
    <td><p class="tt"><a name="1030975"> </a>Undoes the previous operation. </p>
    </td>
  </tr>
</table>

</div>


<p><a name="1029869"> </a>Depending on the attributes you set when you create the field resource, a field may be either editable or noneditable and either single-line or multi-line. The following sections describe each type of field. </p>
<h3 class="hbH3">
  <a name="1031247"> </a>Editable Text Fields <a href="#1005083"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1045140"> </a>An editable text field has an underline to indicate where the user can tap to enter text. If the field has the focus, it displays a blinking insertion point. If you create an editable text field, you should include the following elements in your form: </p>
<ul type="disc">
  <li><a name="1031459"> </a>An Edit menu so that the user can cut, copy, and paste. 
  <li><a name="1031510"> </a>A shift indicator to indicate the current input mode on displays with static input areas. See <i>Exploring Palm OS: Input Services</i> for more information. Be sure to set the text field's auto-shift attribute so that the first word of a sentence is automatically capitalized. 
</ul>

<p><a name="1031456"> </a>The editable attribute affects how you retrieve or change the text and how the memory associated with the text field is freed. A text field stores two types of information about the text string that it displays: </p>
<ul type="disc">
  <li><a name="1030056"> </a>A pointer to the text string. 
  <li><a name="1030062"> </a>A handle to the pointer. 
</ul>

<p><a name="1029921"> </a>The text handle is used for editable text strings because the field must resize the string while the user edits it and the string may move in memory as a result of the resizing. </p>

<p><a name="1030063"> </a>Use <a href="UI_Field.html#996513"><code>FldGetTextHandle()</code></a> to retrieve the text of an editable text field. If you want to change the text, use any of the following functions: </p>
<ul type="disc">
  <li><a name="1029931"> </a><a href="UI_Field.html#997150"><code>FldInsert()</code></a> and <a href="UI_Field.html#994381"><code>FldDelete()</code></a> for small changes. 
  <li><a name="1029973"> </a><a href="UI_Field.html#999386"><code>FldSetTextHandle()</code></a> for larger changes. 
</ul>

<p><a name="1030195"> </a>Before you use <code>FldSetTextHandle()</code> to change the text, you must remove the association between the handle and the text field. If you change the text while it is being used by a field, the field's internal structures specifying the text length, allocated size, and word wrapping information can become out of sync. To avoid this problem, remove the text handle from the field, change the text, and then set the field's text handle again. See <a href="UI_FieldConcept.html#1030085">Listing 5.1</a>. </p>
<p class="CCodeCaption">
  <a name="1030085"> </a><b>Listing 5.1&nbsp;&nbsp;Editing text with FldSetTextHandle()</b>
</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
static void SetFieldText(FieldType *fieldP, char *string) <a name="1030241"> </a>
{<a name="1030242"> </a>
   MemHandle textH;<a name="1030244"> </a>
   char *textP;<a name="1030246"> </a>
<a name="1030247"> </a>
   // Get handle to field's text and remove associate between<a name="1030334"> </a>
   // field and text. <a name="1030380"> </a>
   textH = FldGetTextHandle(fieldP);<a name="1030248"> </a>
   FldSetTextHandle(fieldP, NULL);<a name="1030359"> </a>
<a name="1030253"> </a>
   // Lock the handle and change the text. This code assumes 
   // that textP is large enough to handle the string. <a name="1030398"> </a>
   textP = (char *)MemHandleLock(textH);<a name="1030392"> </a>
   strcpy(textP, string);<a name="1030255"> </a>
<a name="1030256"> </a>
   // Reassociate the text with the field. <a name="1030427"> </a>
   MemHandleUnlock(textH);<a name="1030425"> </a>
   FldSetTextHandle(fieldP, textH);<a name="1030257"> </a>
}<a name="1030258"> </a>
</pre><div class="CodeRule"><hr></div>


<p><a name="1033238"> </a>Editable text fields also support an edit in-place feature. With edit in-place, you can point the text field at a string within a non-schema database record or a column within a schema database row. As the user edits the text field, the database record is automatically updated. Use <a href="UI_Field.html#999203"><code>FldSetText()</code></a> for non-schema database records and <a href="UI_Field.html#999324"><code>FldSetTextColumn()</code></a> for schema database rows. </p>

<div><hr>
  <a name="1045967"> </a> <b>NOTE: </b> <code>FldSetTextColumn()</code> locks the entire database row, not just the column it displays. If you need to make a change to a value in another column, release the lock using <a href="UI_Field.html#1074007"><code>FldReleaseStorage()</code></a> and then use <a href="UI_Field.html#1074609"><code>FldReturnStorage()</code></a> to reassociate the field with the data it displays.
<hr>
</div>

<p><a name="1033505"> </a>When the form is closed, all memory associated with all of the user interface elements on the form, including the text field and its text string, is freed. However, if the text field is pointing to a string in a database record, the string is <i>not</i> freed. If a text field is pointing to a string in the dynamic heap and you want to preserve the string after the form is closed, remove the association between the text handle and the text field before the field is freed. Do so by calling <code>FldSetTextHandle()</code> with <code>NULL</code> for the text handle in response to the <a href="UI_Form.html#1089078"><code>frmCloseEvent</code></a>. </p>
<h3 class="hbH3">
  <a name="1031276"> </a>Noneditable Text Fields <a href="#1005083"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1031277"> </a>Noneditable text fields are not underlined and do not display a blinking insertion point. They are generally used to display complicated labels or labels that might change at run time. </p>

<p><a name="1032010"> </a>As explained in the previous section, the text field contains both a handle and a pointer to the text string. Noneditable text fields often just use the pointer to the string and leave the handle as <code>NULL</code> because the memory resizing issues do not apply. </p>

<p><a name="1031337"> </a>Use <a href="UI_Field.html#996704"><code>FldGetTextPtr()</code></a> to retrieve the text of a non-editable text field and <a href="UI_Field.html#999432"><code>FldSetTextPtr()</code></a> to set it. When you use <code>FldSetTextPtr() </code>to change the text, there is no association between the text handle and the text string pointer stored in the field. Because of this, the field does not free the string. If the string is in the dynamic heap, you must free it yourself. See <a href="UI_FieldConcept.html#1031342">Listing 5.2</a>.</p>
<p class="CCodeCaption">
  <a name="1031342"> </a><b>Listing 5.2&nbsp;&nbsp;Freeing the string set by FldSetTextPtr()</b>
</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
case frmCloseEvent:<a name="1031343"> </a>
   strP = FldGetTextPtr(fldP);<a name="1031344"> </a>
   // Set the field text to NULL before freeing the string<a name="1031345"> </a>
   // to ensure that it is not being displayed when you <a name="1031346"> </a>
   // free it. <a name="1031347"> </a>
   FldSetTextPtr(fldP, NULL);<a name="1031348"> </a>
   MemPtrFree(strP);<a name="1031349"> </a>
</pre><div class="CodeRule"><hr></div>

<h3 class="hbH3">
  <a name="1032022"> </a>Single-line Text Fields <a href="#1005083"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1032023"> </a>Single-line text fields do not wrap when the text exceeds the width of the field. Instead, the field displays as many characters as possible. Use single-line text fields only for fields likely to contain very small amounts of information, such as a monetary figure. </p>
<h3 class="hbH3">
  <a name="1030004"> </a>Multi-line Text Fields <a href="#1005083"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1030530"> </a>Multi-line text fields display more than one line of text. Text fields handle all word wrapping for you. </p>

<p><a name="1030566"> </a>You can also set a multi-line text field to be dynamically sized. If you do this, the number of lines of text that the field displays can grow as the user adds more text to the field. Depending on the form layout, it might be advantageous to only display a single line of text initially, but to set the dynamic size attribute instead of the single line attribute. If you do, the field can grow to display extra lines when the text exceeds the bounds of the field (see <a href="UI_FieldConcept.html#1043419">Figure 5.2</a>). Dynamically sized fields send <a href="UI_Field.html#1007946"><code>fldHeightChangedEvent</code></a> when they need to be resized. Respond to this event to resize the field and, if necessary, reposition the rest of the elements on the form. </p>

<p class="FFigureCaption">
  <a name="1043419"> </a><b>Figure 5.2&nbsp;&nbsp;Dynamically sized field</b>
</p>
<div align="left"><img src="images/TextFieldNetworkPrefs2.jpg" height="178" width="360" border="0" hspace="0" vspace="0">
</div>

<p><a name="1032386"> </a>Note that the <code>fldHeightChangedEvent</code> is completely independent of the <a href="UI_Window.html#1357625"><code>winResizedEvent</code></a>. The <code>winResizedEvent</code> is sent when the entire form is being resized. <code>fldHeightChangedEvent</code> is sent when only the dynamically sized field is being resized. </p>

<p><a name="1045050"> </a>If the text field contains a large amount of text, attach a scroll bar to it. Palm OS<sup>&#174;</sup> displays the scroll bar only when the text field contains more text than it displays, and Palm OS scrolls the field for you. Your application is responsible for updating the display of the scroll bar, however. See <a href="UI_ControlConcept.html#1035669">"Scroll Bars."</a></p>

<h2 class="haH2">
  <a name="1026258"> </a>Labels <a href="#1005083"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1026261"> </a>Most resource editors allow you to create a label resource. Labels are ideal for small, static amounts of text that you need to display to identify other elements on the form. </p>

<p><a name="1026264"> </a>You generally don't interact with a label as a programmatic entity. However, if you need to do so, use the following functions: </p>
<ul type="disc">
  <li><a name="1032696"> </a><a href="UI_Form.html#998890"><code>FrmGetLabel()</code></a> retrieves the label. 
  <li><a name="1032821"> </a><a href="UI_Form.html#999240"><code>FrmGetLabelFont()</code></a> retrieves the bitmapped font used for a label. 
  <li><a name="1032848"> </a><a href="UI_Form.html#1003649"><code>FrmSetLabelFont()</code></a> sets the bitmapped font used for a label. 
  <li><a name="1032708"> </a><a href="UI_Form.html#995741"><code>FrmCopyLabel()</code></a> changes the label. You may only pass a string that is the same size or shorter than the string initially allocated in the resource. If the new string is shorter, hide the label using <a href="UI_Form.html#1000869"><code>FrmHideObject()</code></a> before calling <code>FrmCopyLabel()</code> and then display it afterwards using <a href="UI_Form.html#1004114"><code>FrmShowObject()</code></a>. 
</ul>

<p><a name="1032746"> </a>If you need to change the label frequently, you may find it more convenient to use a noneditable text field rather than a label. See <a href="UI_FieldConcept.html#1031276">"Noneditable Text Fields."</a></p>

<div><hr>
  <a name="1046276"> </a> <b>TIP: </b> Palm OS Cobalt labels can handle line breaks. 
<hr>
</div>

<h2 class="haH2">
  <a name="1028809"> </a>Form Titles <a href="#1005083"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1028810"> </a>The title displayed in the form is not a separate resource. It is an attribute that you specify when you create the form. If you need to change the form title at runtime, use the following functions: </p>
<ul type="disc">
  <li><a name="1033032"> </a><a href="UI_Form.html#1000328"><code>FrmGetTitle()</code></a> retrieves the form's title. 
  <li><a name="1033077"> </a><a href="UI_Form.html#1004064"><code>FrmSetTitle()</code></a> sets the title of the form. This function does not copy the string that you pass to it, so you must ensure that it exists for as long as the form is displayed. 
  <li><a name="1033076"> </a><a href="UI_Form.html#996011"><code>FrmCopyTitle()</code></a> copies the string into the form's title. If you use this function, you must set the initial form title in the resource file to the largest string you might display in the title. If the new string is shorter, hide the label using <a href="UI_Form.html#1000869"><code>FrmHideObject()</code></a> before calling <code>FrmCopyTitle() </code>and then display it afterwards using <a href="UI_Form.html#1004114"><code>FrmShowObject()</code></a>. 
</ul>

<h2 class="haH2">
  <a name="1026425"> </a>Fonts  <a href="#1005083"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1033617"> </a>Palm OS supports both bitmapped and scalable TrueType fonts. A <b>bitmapped font</b> is one that provides a separate bitmap for each glyph in each size and style. The Palm OS UI library, including all form controls, use bitmapped fonts for labels and other text. </p>

<p><a name="1033654"> </a>A <b>scalable font</b> defines the shape of each glyph but not the size. Given a typeface definition, a scalable-font system can produce glyphs at any size. Scalable fonts are used only through the graphics context <a href="UI_GraphicContext.html#1196638"><code>GcDrawTextAt()</code></a> call. See <a href="UI_Drawing.html#1083817">Chapter 8, "Drawing,"</a> for more information on drawing with the graphics context. </p>

<p><a name="1045612"> </a>Scalable font support begins in Palm OS Cobalt; however, it is optional. A given Palm OS Cobalt device might not include the scalable font engine in its ROM. If so, the functions used to access scalable fonts still work, but they return the bitmapped fonts. </p>

<p><a name="1033660"> </a>Each font is associated with a particular character encoding. The font contains <b>glyphs</b> that define how to draw each character in the encoding. A bitmapped font provides a separate bitmap for each glyph in each size and style. A scalable font provides a <b>font family</b> that specifies how the glyphs look. Each font family supports one or more font <b>styles</b> or <b>faces</b> such as regular or bold. The font engine determines how to scale these fonts to different heights. </p>

<p><a name="1026431"> </a>This section covers the following information about both bitmapped and scalable fonts: </p>
<ul type="disc">
  <li><a name="1026438"> </a><a href="UI_FieldConcept.html#1036065">About Font Resources</a>
  <li><a name="1036278"> </a><a href="UI_FieldConcept.html#1035726">Built-in Fonts</a>
  <li><a name="1043536"> </a><a href="UI_FieldConcept.html#1043822">Setting the Font Programmatically</a>
  <li><a name="1026442"> </a><a href="UI_FieldConcept.html#1026553">Selecting Which Font to Use</a>
  <li><a name="1026454"> </a><a href="UI_FieldConcept.html#1035854">Obtaining Font Dimensions</a>
  <li><a name="1026458"> </a><a href="UI_FieldConcept.html#1026816">Creating and Using Custom Bitmapped Fonts</a>
  <li><a name="1043584"> </a><a href="UI_FieldConcept.html#1044239">Creating and Using Custom Scalable Fonts</a>
  <li><a name="1043569"> </a><a href="UI_FieldConcept.html#1037108">How Palm OS Displays Bitmapped Fonts</a>
</ul>
<h3 class="hbH3">
  <a name="1036065"> </a>About Font Resources <a href="#1005083"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1036309"> </a>For bitmapped fonts, Palm OS supports two types of resources: a single-density font resource <code>'NFNT' </code>and an extended font resource (<code>'nfnt'</code>) that supports multiple display densities. Both of these resources are the same 68K-based resources defined in all versions of Palm OS. ARM-based versions of these resources are not supported in Palm OS Cobalt. See <a href="UI_Font.html#999780">"Bitmapped Font Resources"</a> for the exact layout of these resources. </p>

<p><a name="1036420"> </a>The built-in bitmapped fonts provided with the system use extended font resources, meaning that they contain a separate set of glyphs for each screen density. Thus, the single-density versions of the glyphs are used on standard 160 <span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">X</span> 160 displays, the double-density versions of the glyphs are used for 320 <span style="color: #000000;  font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">X</span> 320 displays, and so on. </p>

<p><a name="1036505"> </a>You access any bitmapped font resource, whether <code>'NFNT' </code>or <code>'nfnt'</code>, using a <code>FontID</code> constant. This constant is essentially an index into the system's list of bitmapped fonts. </p>

<p><a name="1036408"> </a>Scalable font resources are <code>'fttf'</code> resources. This type of resource creates a wrapper around a TrueType font specification. Because TrueType fonts are scalable by their nature, they already support multiple display densities. </p>

<p><a name="1036547"> </a>Scalable fonts are accessed by creating a font handle using an HTML Cascading Style Sheet (CSS) style font specification string or a font family name. See the description of the <a href="UI_GcFont.html#993944"><code>GcCreateFont()</code></a> function for an example of a CSS-style font specification string. </p>
<h3 class="hbH3">
  <a name="1035726"> </a>Built-in Fonts <a href="#1005083"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1026465"> </a>There are several bitmapped and scalable fonts built into Palm OS. </p>

<p><a name="1035798"> </a>The <code>Font.h</code> file defines constants that can be used to access the built-in bitmapped fonts programmatically. These constants are defined on all versions of Palm OS no matter what language or character code; however, they may point to different fonts. For example, <code>stdFont</code> on a Japanese system may be quite different from <code>stdFont</code> on a Latin system. </p>

<p><a name="1026469"> </a><a href="UI_FieldConcept.html#1026476">Table 5.2</a> lists and describes the built-in bitmapped fonts that may be used to display text. </p>

<p class="caption"><a name="1026476"> </a><b>Table 5.2&nbsp;&nbsp;Built-in text bitmapped fonts </b></p>
<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1026480"> </a><b>Constant</b></p>
    </th>
    <th><p class="tt"><a name="1026482"> </a><b>Description</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1026485"> </a><code>stdFont</code> </p>
    </td>
    <td><p class="tt"><a name="1026487"> </a>A small standard font used to display user input. This font is small to display as much text as possible. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1026490"> </a><code>largeFont</code> </p>
    </td>
    <td><p class="tt"><a name="1026492"> </a>A larger font provided as an alternative for users who find the standard font too small to read. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1026495"> </a><code>boldFont</code> </p>
    </td>
    <td><p class="tt"><a name="1026497"> </a>Same size as <code>stdFont</code> but bold for easier reading. Used for text labels in the user interface. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1026500"> </a><code>largeBoldFont</code> </p>
    </td>
    <td><p class="tt"><a name="1026502"> </a>Same size as <code>largeFont</code> but bold. </p>
    </td>
  </tr>
</table>

</div>


<p><a name="1026510"> </a><a href="UI_FieldConcept.html#1026512">Figure 5.3</a> shows what each of the fonts in <a href="UI_FieldConcept.html#1026476">Table 5.2</a> looks like. </p>

<p class="FFigureCaption">
  <a name="1026512"> </a><b>Figure 5.3&nbsp;&nbsp;Built-in text fonts </b>
</p>
<div align="left"><img src="images/UI_FieldConcept3.jpg" height="200" width="360" border="0" hspace="0" vspace="0">
</div>

<p><a name="1039583"> </a>Palm OS also defines the bitmapped fonts listed in <a href="UI_FieldConcept.html#1039587">Table 5.3</a>. These fonts do not contain most letters of the alphabet. They are used only for special purposes. </p>

<p class="caption"><a name="1039587"> </a><b>Table 5.3&nbsp;&nbsp;Built-in symbol bitmapped fonts</b></p>
<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1039591"> </a><b>Constant</b></p>
    </th>
    <th><p class="tt"><a name="1039593"> </a><b>Description</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1039596"> </a><code>symbolFont</code> </p>
    </td>
    <td><p class="tt"><a name="1039598"> </a>Contains many special characters such as arrows, shift indicators, and so on. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1039601"> </a><code>symbol11Font</code> </p>
    </td>
    <td><p class="tt"><a name="1039603"> </a>Contains the check boxes, the large left arrow, and the large right arrow. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1039606"> </a><code>symbol7Font</code> </p>
    </td>
    <td><p class="tt"><a name="1039608"> </a>Contains the up and down arrows used for the repeating button scroll arrows and the dimmed version of the same arrows. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1039611"> </a><code>ledFont</code> </p>
    </td>
    <td><p class="tt"><a name="1039613"> </a>Contains the numbers 0 through 9, &#8211;, ., and the comma (,). Used by the Calculator application for its numeric display. </p>
    </td>
  </tr>
</table>

</div>


<p><a name="1036757"> </a>The system may also contain system-defined scalable fonts, which are accessed by passing a standard name to the function <a href="UI_GcFont.html#993944"><code>GcCreateFont()</code></a>. <a href="UI_FieldConcept.html#1036763">Table 5.4</a> lists the strings that you can use. Note that these are not constants; they are strings that can be included as part of the CSS-style font specification you pass to <code>GcCreateFont()</code>. (CSS is an HTML term that stands for Cascading Style Sheet.) </p>

<p class="caption"><a name="1036763"> </a><b>Table 5.4&nbsp;&nbsp;Built-in scalable fonts</b></p>
<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1036767"> </a><b>Font name (string)</b></p>
    </th>
    <th><p class="tt"><a name="1036769"> </a><b>Description</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1036771"> </a>palmos-plain </p>
    </td>
    <td><p class="tt"><a name="1036773"> </a>Default font used if no font is specified. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1036775"> </a>palmos-bold </p>
    </td>
    <td><p class="tt"><a name="1036777"> </a>Bold version of the palmos-plain font. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1036779"> </a>palmos-large-plain </p>
    </td>
    <td><p class="tt"><a name="1036781"> </a>palmos-plain with a larger point size. </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1036783"> </a>palmos-large-bold </p>
    </td>
    <td><p class="tt"><a name="1036785"> </a>palmos-bold with a larger point size. </p>
    </td>
  </tr>
</table>

</div>


<p><a name="1043718"> </a><a href="UI_FieldConcept.html#1043699">Figure 5.4</a> shows what each of the fonts in <a href="UI_FieldConcept.html#1036763">Table 5.4</a> looks like. </p>

<p class="FFigureCaption">
  <a name="1043699"> </a><b>Figure 5.4&nbsp;&nbsp;System-defined scalable text fonts </b>
</p>
<div align="left"><img src="images/FontsScalable4.jpg" height="205" width="480" border="0" hspace="0" vspace="0">
</div>

<p><a name="1026520"> </a>Note that if a device supports scalable fonts, these strings return TrueType fonts. They do not return the same fonts as the constants listed in <a href="UI_FieldConcept.html#1026476">Table 5.2</a>. However, if a Palm OS Cobalt device does not support scalable fonts, these strings do return the same bitmapped fonts as the font constants listed in <a href="UI_FieldConcept.html#1026476">Table 5.2</a>. </p>

<p><a name="1039651"> </a>The fonts listed in <a href="UI_FieldConcept.html#1036763">Table 5.4</a> are all variations on a single font family. There may be other font families installed in the device. To obtain a full list, use code like that shown in <a href="UI_FieldConcept.html#1039682">Listing 5.3</a>.</p>
<p class="CCodeCaption">
  <a name="1039682"> </a><b>Listing 5.3&nbsp;&nbsp;Iterating through all scalable fonts</b>
</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
int32_t numFamily, curFamily;<a name="1039678"> </a>
int32_t numStyle, curStyle;<a name="1039679"> </a>
FontFamily family;<a name="1039680"> </a>
FontStyle style;<a name="1039681"> </a>
<a name="1039707"> </a>
numFamily = GcCountFontFamilies();<a name="1039712"> </a>
for (curFamily = 0; curFamily &lt; numFamily; curFamily++) {<a name="1039713"> </a>
   GcGetFontFammily(curFamily, &amp;family);<a name="1039714"> </a>
   numStyle = GcCountFontStyles(family);<a name="1039733"> </a>
   for (curStyle = 0; curStyle &lt; numStyle; curStyle++) {<a name="1039734"> </a>
      GcGetFontStyle(family, curStyle, &amp;style);<a name="1039739"> </a>
   }<a name="1039740"> </a>
}<a name="1039741"> </a>
</pre><div class="CodeRule"><hr></div>

<h3 class="hbH3">
  <a name="1043822"> </a>Setting the Font Programmatically <a href="#1005083"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1043823"> </a>To set the font that a user interface element uses for its label or for its textual contents, you use different functions depending on the element. <a href="UI_FieldConcept.html#1043833">Table 5.5</a> shows which functions set fonts for which user interface elements. Note that user interface elements only support bitmapped fonts. </p>

<p class="caption"><a name="1043833"> </a><b>Table 5.5&nbsp;&nbsp;Setting the font </b></p>
<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1043837"> </a><b>UI Element</b></p>
    </th>
    <th><p class="tt"><a name="1043839"> </a><b>Function</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1043841"> </a>Field </p>
    </td>
    <td><p class="tt"><a name="1043846"> </a><a href="UI_Field.html#998633"><code>FldSetFont()</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1043848"> </a>Field within a table </p>
    </td>
    <td><p class="tt"><a name="1043853"> </a><a href="UI_Table.html#998118"><code>TblSetItemFont()</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1043855"> </a>Command button, push button, pop-up trigger, selector trigger, or check box </p>
    </td>
    <td><p class="tt"><a name="1043860"> </a><a href="UI_Control.html#995647"><code>CtlSetFont()</code></a> </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1043862"> </a>Label resource</p>
    </td>
    <td><p class="tt"><a name="1043867"> </a><a href="UI_Form.html#1003649"><code>FrmSetLabelFont()</code></a> </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1043869"> </a>List items </p>
    </td>
    <td><p class="tt"><a name="1043874"> </a><a href="UI_List.html#995450"><code>LstSetFont()</code></a> </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1043876"> </a>All other text (text drawn directly on the screen)</p>
    </td>
    <td><p class="tt"><a name="1043881"> </a><a href="UI_Font.html#995852"><code>FntSetFont()</code></a> </p>
    </td>
  </tr>
</table>

</div>


<p><a name="1043883"> </a>If you are drawing text directly to the screen, perform the following steps:</p>
<ol type="1">
  <li value="1"><a name="1043910"> </a>Call one of the following functions to create a handle to a specific font: 
  <ul type="disc">
    <li><a name="1043915"> </a><a href="UI_GcFont.html#993944"><code>GcCreateFont()</code></a> creates a font out of one of the strings in <a href="UI_FieldConcept.html#1036763">Table 5.4</a> or out of a CSS-style font specification. 
    <li><a name="1043923"> </a><a href="UI_GcFont.html#994270"><code>GcCreateFontFromFamily()</code></a> creates a font using a specified family. You can then set the size and style later. 
    <li><a name="1043928"> </a><a href="UI_GcFont.html#994312"><code>GcCreateFontFromID()</code></a> creates a font handle for a bitmapped font. Use this function to have your text more closely match the built-in system fonts. 
  </ul>
</ol>

<div><hr>
  <a name="1045424"> </a> <b>IMPORTANT: </b> It's best to create a font handle before you receive the <code>frmUpdateEvent</code>. Creating a font handle can be slow. 
<hr>
</div>
<ol type="1">
  <li value="2"><a name="1043929"> </a>Obtain a handle to the current graphics context using <a href="UI_GraphicContext.html#1114107"><code>GcGetCurrentContext()</code></a>. 
  <li value="3"><a name="1043938"> </a>Use the <a href="UI_GraphicContext.html#1125325"><code>GcSetFont()</code></a> function to set the draw state's font to the handle of the font you created. 
  <li value="4"><a name="1043943"> </a>Draw the text using <a href="UI_GraphicContext.html#1196638"><code>GcDrawTextAt()</code></a>. 
  <li value="5"><a name="1044008"> </a>When you are finished drawing release the graphics context to free memory associated with it. 
  <li value="6"><a name="1044021"> </a>When you are finished with the font, call <a href="UI_GcFont.html#995830"><code>GcReleaseFont()</code></a> to free the memory associated with the font handle. 
</ol>

<p><a name="1043947"> </a><a href="UI_FieldConcept.html#1043949">Listing 5.4</a> shows drawing a text string in the <code>stdFont</code>. </p>
<p class="CCodeCaption">
  <a name="1043949"> </a><b>Listing 5.4&nbsp;&nbsp;Setting a font for custom-drawn text </b>
</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
// Make this call outside of the event loop, probably <a name="1043950"> </a>
// in your AppStart() function. <a name="1045447"> </a>
GcHandle gcStdFontH = GcCreateFontFromID(stdFont);<a name="1045444"> </a>
<a name="1045448"> </a>
<a name="1045458"> </a>
// In the EventLoop, do the following: <a name="1045467"> </a>
GcContext gcH;<a name="1043951"> </a>
char *string = "Hi, Mom!"<a name="1043952"> </a>
<a name="1043953"> </a>
case frmUpdateEvent:<a name="1043955"> </a>
   gcH = GcGetCurrentContext();<a name="1045486"> </a>
   if (gcH) {<a name="1045495"> </a>
      GcSetCoordinateSystem(gcH, kCoordinatesNative);<a name="1043956"> </a>
      GcSetFont(gcH, gcStdFontH);<a name="1043957"> </a>
      GcDrawTextAt(gcH, 160, 100, string, strlen(string));<a name="1043958"> </a>
      GcReleaseContext(gcH);<a name="1043959"> </a>
}<a name="1043960"> </a>
break;<a name="1045504"> </a>
<a name="1045509"> </a>
<a name="1045514"> </a>
// Release the font when you are done with it. Possibly, in <a name="1045519"> </a>
// the AppStop() function. <a name="1045527"> </a>
GcReleaseFont(gcStdFontH);<a name="1043961"> </a>
</pre><div class="CodeRule"><hr></div>

<h3 class="hbH3">
  <a name="1026553"> </a>Selecting Which Font to Use <a href="#1005083"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1026554"> </a>The default fonts used to display normal text and bold text vary based on the handheld's character encoding. Devices with the Palm OS Latin encoding typically use <code>stdFont</code> and <code>boldFont</code>, while Japanese devices use <code>largeFont</code> and <code>largeBoldFont</code> as the default. When your application starts up for the first time, it should respect the system defaults. Use the <a href="UI_Font.html#1011366"><code>FntGetDefaultFontID()</code></a> function to determine what the default fonts are (see <a href="UI_FieldConcept.html#1026563">Listing 5.5</a>). </p>
<p class="CCodeCaption">
  <a name="1026563"> </a><b>Listing 5.5&nbsp;&nbsp;Determining the default system fonts</b>
</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
FontID textFont = FntGetDefaultFontID(defaultSystemFont);<a name="1026564"> </a>
FontID labelFont = FntGetDefaultFontID(defaultBoldFont);<a name="1026565"> </a>
</pre><div class="CodeRule"><hr></div>


<p><a name="1026566"> </a>In general, where users can enter text, you should allow them to select the font through the Select Font dialog (see <a href="UI_FieldConcept.html#1026572">Figure 5.5</a>). </p>

<p class="FFigureCaption">
  <a name="1026572"> </a><b>Figure 5.5&nbsp;&nbsp;Select Font dialog</b>
</p>
<div align="left"><img src="images/SelectFont5.jpg" height="99" width="480" border="0" hspace="0" vspace="0">
</div>

<p><a name="1026581"> </a>The <a href="UI_Font.html#1002282"><code>FontSelect()</code></a> function displays the Select Font dialog. This function takes as an argument a <code>FontID</code>, which specifies the value that is initially selected in the dialog. It returns the <code>FontID</code> that the user selected. </p>
<pre class="sl">newFontID = FontSelect(textFont);</pre>

<p><a name="1026583"> </a>Because the default fonts vary based on the character encoding, the font size choices displayed in the Font Select dialog also vary based on character encoding. For this reason, you must call <code>FntGetDefaultFontID()</code> to obtain the default system font and pass the returned value to <code>FontSelect()</code> when you call it for the first time. On subsequent calls to <code>FontSelect()</code>, you can pass the user's current font choice. </p>

<p><a name="1037026"> </a>If you are displaying text in a scalable font and want to respect the system default font, you can use the scalable font counterpart to the default system font. See <a href="UI_FieldConcept.html#1037326">Listing 5.6</a>.</p>
<p class="CCodeCaption">
  <a name="1037326"> </a><b>Listing 5.6&nbsp;&nbsp;Setting a default scalable font</b>
</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
GcFontHandle gcLabelFontH;<a name="1037412"> </a>
FontID labelFont = FntGetDefaultFontID(defaultBoldFont);<a name="1037413"> </a>
switch (labelFont) {<a name="1037414"> </a>
   case stdFont:<a name="1037523"> </a>
      gcLabelFontH = GcCreateFont("palmos-plain");<a name="1037532"> </a>
      break;<a name="1037541"> </a>
   case boldFont:<a name="1037550"> </a>
      gcLabelFontH = GcCreateFont("palmos-bold");<a name="1037559"> </a>
      break;<a name="1037568"> </a>
   case largeFont:<a name="1037577"> </a>
      gcLabelFontH = GcCreateFont("palmos-large-plain");<a name="1037586"> </a>
      break;<a name="1037611"> </a>
   case largeBoldFont:<a name="1037612"> </a>
      gcLabelFontH = GcCreateFont("palmos-large-bold");<a name="1037613"> </a>
      break;<a name="1037622"> </a>
   default:<a name="1044613"> </a>
      gcLabelFontH = GcCreateFont("palmos-plain");<a name="1044622"> </a>
      break;<a name="1044631"> </a>
}<a name="1037514"> </a>
</pre><div class="CodeRule"><hr></div>

<h3 class="hbH3">
  <a name="1035854"> </a>Obtaining Font Dimensions <a href="#1005083"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1035856"> </a>Use functions in the Font Manager to obtain information about a bitmapped font and how it is drawn to the screen. <a href="UI_FieldConcept.html#1026727">Figure 5.6</a> shows graphically the characteristics of a font. <a href="UI_FieldConcept.html#1026735">Table 5.6</a> describes the types of information that can be retrieved with the Font Manager. </p>

<p class="FFigureCaption">
  <a name="1026727"> </a><b>Figure 5.6&nbsp;&nbsp;Font characteristics</b>
</p>
<div align="left"><img src="images/FontCharacteristics6.jpg" height="288" width="480" border="0" hspace="0" vspace="0">
</div>

<p class="caption"><a name="1026735"> </a><b>Table 5.6&nbsp;&nbsp;Obtaining bitmapped font information</b></p>
<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1026739"> </a><b>Characteristic</b></p>
    </th>
    <th><p class="tt"><a name="1026741"> </a><b>Function</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1026751"> </a>Ascent + leading </p>
    </td>
    <td><p class="tt"><a name="1026757"> </a><a href="UI_Font.html#994353"><code>FntBaseLine()</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1026759"> </a>Descent</p>
    </td>
    <td><p class="tt"><a name="1026765"> </a><a href="UI_Font.html#995140"><code>FntDescenderHeight()</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1026767"> </a>Leading + font height</p>
    </td>
    <td><p class="tt"><a name="1026773"> </a><a href="UI_Font.html#995758"><code>FntLineHeight()</code></a> <br><a href="UI_Font.html#994393"><code>FntCharHeight()</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1026775"> </a>Maximum width of a character in the font</p>
    </td>
    <td><p class="tt"><a name="1026781"> </a><a href="UI_Font.html#994313"><code>FntAverageCharWidth()</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1026783"> </a>Width of a specific character</p>
    </td>
    <td><p class="tt"><a name="1026789"> </a><a href="UI_Font.html#994814"><code>FntCharWidth()</code></a> </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1026791"> </a>Character displayed at particular location</p>
    </td>
    <td><p class="tt"><a name="1026797"> </a><a href="UI_Font.html#996257"><code>FntWidthToOffset()</code></a> </p>
    </td>
  </tr>
</table>

</div>


<div><hr>
  <a name="1026802"> </a> <b>NOTE: </b> All dimensions are given in terms of the active coordinate system. Note also that because Palm OS does not support kerning of bitmapped fonts, <code>FntAverageCharWidth()</code> actually returns the maximum width of any character in the font. 
<hr>
</div>

<p><a name="1044053"> </a>The functions listed in <a href="UI_FieldConcept.html#1026735">Table 5.6</a> all work on the current font, that is, the font listed in the Window Manager draw state. To change the current font, use <a href="UI_Font.html#995852"><code>FntSetFont()</code></a>. For example, to determine the line height of the font used for text in a field, do the following:</p>
<p class="CCodeCaption">
  <a name="1026807"> </a><b>Listing 5.7&nbsp;&nbsp;Obtaining characteristics of a field font</b>
</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
FieldType *fieldP;<a name="1026808"> </a>
FontID oldFont;<a name="1026809"> </a>
int16_t lineHeight;<a name="1026810"> </a>
<a name="1026811"> </a>
oldFont = FntSetFont(FldGetFont(fieldP));<a name="1026812"> </a>
lineHeight = FntLineHeight();<a name="1026813"> </a>
FntSetFont(oldFont);<a name="1026814"> </a>
</pre><div class="CodeRule"><hr></div>


<p><a name="1038993"> </a>With a scalable font, all of the information about the font's dimensions is dependent on the current size you've set for the font. <a href="UI_FieldConcept.html#1039004">Table 5.7</a> shows the functions that retrieve information about a scalable font. </p>

<p class="caption"><a name="1039004"> </a><b>Table 5.7&nbsp;&nbsp;Obtaining scalable font information </b></p>
<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1039008"> </a><b>Characteristic</b></p>
    </th>
    <th><p class="tt"><a name="1039010"> </a><b>Function</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1039012"> </a>Point size </p>
    </td>
    <td><p class="tt"><a name="1039017"> </a><a href="UI_GcFont.html#995408"><code>GcGetFontSize()</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1039019"> </a>Ascent</p>
    </td>
    <td><p class="tt"><a name="1039024"> </a><code>ascent</code> field of structure returned by <a href="UI_GcFont.html#995296"><code>GcGetFontHeight()</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1039026"> </a>Descent</p>
    </td>
    <td><p class="tt"><a name="1039115"> </a><code>descent</code> field of structure returned by <a href="UI_GcFont.html#995296"><code>GcGetFontHeight()</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1039033"> </a>Leading </p>
    </td>
    <td><p class="tt"><a name="1039161"> </a><code>leading</code> field of structure returned by <a href="UI_GcFont.html#995296"><code>GcGetFontHeight()</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1039040"> </a>Font's bounding box (dimensions for a typical character) </p>
    </td>
    <td><p class="tt"><a name="1039045"> </a><a href="UI_GcFont.html#994833"><code>GcGetFontBoundingBox()</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1039047"> </a>Width of a specific character or a set of characters</p>
    </td>
    <td><p class="tt"><a name="1039052"> </a><a href="UI_GcFont.html#994717"><code>GcFontStringWidth()</code></a> </p>
    </td>
  </tr>
</table>

</div>


<div><hr>
  <a name="1044090"> </a> <b>NOTE: </b> All dimensions are given in terms of the native coordinate system. 
<hr>
</div>
<h3 class="hbH3">
  <a name="1026816"> </a>Creating and Using Custom Bitmapped Fonts <a href="#1005083"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1034067"> </a>You can create your own bitmapped font (<code>'NFNT'</code>) or extended font (<code>'nfnt'</code>) resource and use it only within your application. </p>

<p><a name="1026823"> </a>Both the font and extended font resources are only large enough to support a font for the Palm Latin character encoding (256 characters). Defining a custom font for larger character sets is not supported. </p>

<p><a name="1026839"> </a>Once you have defined a custom font in a resource file, you must assign it a font ID before you can use the font in your application. The font ID is different from the font's resource ID. It's a number between 0 and 255. The font ID you use must be greater than or equal to <code>fntAppFontCustomBase</code>. All IDs less than that are reserved for system use. The function <a href="UI_Font.html#1011354"><code>FntDefineFont()</code></a> assigns a font ID to a font resource. The font resource must be locked for the entire time that the font is in use. It's a good idea to load the font resource, lock it, and assign a font ID in your application's <code>AppStart()</code> function. Unlock and release the font resource in the <code>AppStop()</code> function. </p>

<p><a name="1026849"> </a><a href="UI_FieldConcept.html#1026851">Listing 5.8</a> shows code that loads a font resource, assigns a font ID to that resource, and then draws characters to the screen using the new font. </p>
<p class="CCodeCaption">
  <a name="1026851"> </a><b>Listing 5.8&nbsp;&nbsp;Loading and using a custom font</b>
</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
#define customFontID ((FontID) fntAppFontCustomBase)<a name="1026852"> </a>
<a name="1026853"> </a>
MemHandle customFontH;<a name="1026854"> </a>
FontType *customFontP;<a name="1026855"> </a>
<a name="1026856"> </a>
Err AppStart(void)<a name="1026857"> </a>
{<a name="1026858"> </a>
   ...<a name="1026859"> </a>
   // Load the font resource and assign it a font ID. <a name="1026860"> </a>
   customFontH = DmGetResource(globalResDBPtr, fontRscType, <a name="1026861"> </a>
      MyCoolFontRscID);<a name="1044649"> </a>
   customFontP = (FontType *)MemHandleLock(customFontH);<a name="1026862"> </a>
   FntDefineFont(customFontID, customFontP);<a name="1026863"> </a>
   ...<a name="1026864"> </a>
}<a name="1026865"> </a>
<a name="1026866"> </a>
void AppStop(void)<a name="1026867"> </a>
{<a name="1026868"> </a>
   ...<a name="1026869"> </a>
   //Release the font resource when app quits. <a name="1026870"> </a>
   MemHandleUnlock(customFontH);<a name="1026871"> </a>
   DmReleaseResource(customFontH);<a name="1026872"> </a>
   ...<a name="1026873"> </a>
}<a name="1026874"> </a>
<a name="1026875"> </a>
void DrawCharsInNewFont(void) <a name="1026876"> </a>
{<a name="1026877"> </a>
   FontID oldFont = FntSetFont(customFontID);<a name="1026878"> </a>
   char *msg = "Look, Mom. It's a new font!");<a name="1026879"> </a>
   WinDrawChars(msg, strlen(msg), 28, 0);<a name="1026880"> </a>
   FntSetFont(oldFont);<a name="1026881"> </a>
}<a name="1026882"> </a>
</pre><div class="CodeRule"><hr></div>


<p><a name="1026884"> </a>To use a extended font, you use essentially the same code as above, except that you must change the resource type used in the <code>DmGetResource()</code> call to <code>fontExtRscType</code>:</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
customFontH = DmGetResource(globalResDBPtr, fontExtRscType, <a name="1026886"> </a>
   MyCoolExtFontRscID);<a name="1034126"> </a>
// rest as shown above. <a name="1026888"> </a>
</pre><div class="CodeRule"><hr></div>


<p><a name="1026889"> </a>Note that you still use a pointer to a <code>FontType</code> structure to access the extended font. </p>

<p><a name="1026891"> </a>It's possible to create an extended font resource that contains only double-density glyphs and not low-density glyphs. You could define an <code>'NFNT'</code> resource for the low-density glyphs and an extended font resource with just the double-density glyphs. Then you could load and use the <code>'NFNT'</code> resource on all devices with low-density screens and load and use the extended font resource when the display is not low-density. If you do this, you must carefully check the display density before deciding which resource to load (see <a href="UI_FieldConcept.html#1026903">Listing 5.9</a>).</p>
<p class="CCodeCaption">
  <a name="1026903"> </a><b>Listing 5.9&nbsp;&nbsp;Conditionally loading a font resource</b>
</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
#define customFontID ((FontID) fntAppFontCustomBase)<a name="1026904"> </a>
MemHandle fontH = NULL;<a name="1026905"> </a>
FontType *fontP;<a name="1026906"> </a>
uint16_t winVersion;<a name="1026907"> </a>
Err error;<a name="1026908"> </a>
<a name="1026909"> </a>
error = FtrGet(sysFtrCreator, sysFtrNumWinVersion, <a name="1026910"> </a>
   &amp;winVersion);<a name="1026911"> </a>
// If winVersion is &gt;= 4, the high-density feature set<a name="1026912"> </a>
// is present. Check what type of display we are on<a name="1026913"> </a>
// and load the appropriate font resource. <a name="1026914"> </a>
if (!error &amp;&amp; (winVersion &gt;= 4)) {<a name="1026915"> </a>
   uint32_t density;<a name="1026916"> </a>
   error = WinScreenGetAttribute(winScreenDensity, &amp;density);<a name="1026917"> </a>
   if (!error &amp;&amp; (density != kDensityLow)) {<a name="1026918"> </a>
         // load and use the extended font resource.<a name="1026919"> </a>
         fontH = DmGetResource(globalResDBPtr, <a name="1026921"> </a>
            fontExtRscType, MyNewFontRscID);<a name="1044674"> </a>
         fontP = MemHandleLock(fontH);<a name="1026922"> </a>
   }<a name="1026923"> </a>
}<a name="1026924"> </a>
<a name="1026925"> </a>
if (!fontH) {<a name="1026926"> </a>
  // Either the feature set is not present or we're on a <a name="1026927"> </a>
  // low-density screen. Load and use the 'NFNT' resource.<a name="1044690"> </a>
  fontH = DmGetResource(globalResDBPtr, fontRscType, <a name="1044703"> </a>
          MyOldFontRscID);<a name="1044691"> </a>
  fontP = (FontType *)MemHandleLock(fontH);<a name="1044692"> </a>
}<a name="1026931"> </a>
<a name="1026932"> </a>
FntDefineFont(customFontID, fontP);<a name="1026933"> </a>
</pre><div class="CodeRule"><hr></div>

<h3 class="hbH3">
  <a name="1044239"> </a>Creating and Using Custom Scalable Fonts <a href="#1005083"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1044240"> </a>You can also create your own scalable fonts resources. Unlike bitmapped fonts, custom scalable fonts are available system-wide. Create a database of type <code>'ofnt'</code>. The XRD file that defines the database's resources should contain resource definitions like that shown in <a href="UI_FieldConcept.html#1044245">Listing 5.10</a>. </p>
<p class="CCodeCaption">
  <a name="1044245"> </a><b>Listing 5.10&nbsp;&nbsp;Scalable font resource definition</b>
</p>

<div class="CodeRule"><hr></div><pre class="CodeBlock">
&lt;RAW_RESOURCE RESOURCE_ID="2000"&gt;<a name="1044246"> </a>
  &lt;RES_TYPE&gt; 'fttf' &lt;/RES_TYPE&gt;<a name="1044248"> </a>
  &lt;DATA_FILE&gt; "../MyNewTrueTypeFont.ttf" &lt;/DATA_FILE&gt;<a name="1044249"> </a>
&lt;/RAW_RESOURCE&gt;<a name="1044250"> </a>
</pre><div class="CodeRule"><hr></div>


<p><a name="1044251"> </a>When Palm OS boots, the font engine searches for and loads all databases of type <code>'ofnt'</code> that it finds in the system; therefore, installing a new font database requires rebooting before you can access the fonts in it. </p>

<p><a name="1044252"> </a>Because the font database is already loaded, you simply access your new fonts in the same manner as the fonts that came with the device. See <a href="UI_FieldConcept.html#1026553">"Selecting Which Font to Use."</a></p>
<h3 class="hbH3">
  <a name="1037108"> </a>How Palm OS Displays Bitmapped Fonts <a href="#1005083"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1037111"> </a>To support multiple display densities, Palm OS uses an extended bitmapped font resource. An extended font resource contains a separate set of glyphs for each supported density. At runtime, Palm OS determines the current display density and then draws text using the glyphs that match the display density. On a double-density display, text is drawn using the double-density glyphs. On a low-density display, text is drawn using the low-density glyphs. </p>

<p><a name="1037112"> </a>Palm OS uses extended font resources for each of the built-in fonts. If your application uses only these fonts, your text is drawn by default using high-density glyphs on high-density displays. You do not have to make any changes to your code for this to occur. </p>

<p><a name="1037120"> </a>You only need to be concerned about the font density if you need to display more text than normal on a single-density screen or if you use custom fonts:</p>
<ul type="disc">
  <li><a name="1037121"> </a>When creating a custom bitmapped font, you'll want to create an extended font resource. See <a href="UI_FieldConcept.html#1026816">"Creating and Using Custom Bitmapped Fonts."</a>
  <li><a name="1037125"> </a>If an extended font resource is not available or does not contain glyphs that match the screen density, Palm OS uses the following selection algorithm when selecting the font, from high to low priority:
  <ol type="a">
    <li><a name="1037126"> </a>Select the font with the correct density.
    <li><a name="1037127"> </a>Select the font whose density is one-half of the correct density.
    <li><a name="1037128"> </a>Select the font with the closest density, with a tie going to the lower-density font.
  </ol>
  <li><a name="1037131"> </a>When drawing text in a custom font to an off-screen window, you must take care. Off-screen windows also have a display density. If you create a low-density off-screen window and draw text to it, use a low-density font or an extended font with low-density glyphs. If the resource contains only high-density glyphs, the rendering system shrinks the high-density font bitmaps. This results in poor quality text when the off-screen bitmap is subsequently transferred, and pixel-doubled, to a high-density display. If a low-density font is available, the rendering system substitutes a low-density font when drawing text to the window in an attempt to produce the best possible aesthetic result.
   <p><a name="1037132"> </a>Because Palm OS includes glyphs for each supported density for each of the built-in fonts, this is only a potential problem if you are using a custom font. </p>
</ul>

<p><a name="1037133"> </a>The font scaling behavior can be overridden to allow your application to display more text at one time; <a href="UI_Window.html#1704064"><code>WinSetScalingMode()</code></a> can force the rendering system to use the low-density font, unscaled, for subsequent text drawing. </p>

<p><a name="1037134"> </a>To draw text using high-density coordinates, set the high-density coordinate system by calling <a href="UI_Window.html#1002873"><code>WinSetCoordinateSystem()</code></a> before using the Font Manager functions to position text or extract font metrics.</p>

<h2 class="haH2">
  <a name="1037171"> </a>Summary of Text Display Functions <a href="#1005083"><span class="nav">^TOP^</span></a>
</h2>



<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1041980"> </a><b>Field Functions</b></p>
    </th>
    <th><p class="tt"><a name="1041982"> </a><b></b></p>
    </th>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><p class="tt"><a name="1041984"> </a><b>Obtaining User Input </b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1041991"> </a><a href="UI_Field.html#996513"><code>FldGetTextHandle()</code></a><br><a href="UI_Field.html#996275"><code>FldGetSelection()</code></a></p>
    </td>
    <td><p class="tt"><a name="1042002"> </a><a href="UI_Field.html#998544"><code>FldSetDirty()</code></a><br><a href="UI_Field.html#994625"><code>FldDirty()</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1042041"> </a><b>Editing Text</b></p>
    </td>
    <td><p class="tt"><a name="1042043"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1042048"> </a><a href="UI_Field.html#997150"><code>FldInsert()</code></a><br><a href="UI_Field.html#999069"><code>FldSetSelection()</code></a><br><a href="UI_Field.html#1096111"><code>FldReplaceText()</code></a></p>
    </td>
    <td><p class="tt"><a name="1042059"> </a><a href="UI_Field.html#999386"><code>FldSetTextHandle()</code></a><br><a href="UI_Field.html#994381"><code>FldDelete()</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1043114"> </a><b>Edit in Place</b></p>
    </td>
    <td><p class="tt"><a name="1043116"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1043122"> </a><a href="UI_Field.html#999203"><code>FldSetText()</code></a><br><a href="UI_Field.html#999324"><code>FldSetTextColumn()</code></a><br><a href="UI_Field.html#996451"><code>FldGetTextColumn()</code></a></p>
    </td>
    <td><p class="tt"><a name="1043124"> </a><a href="UI_Field.html#1074007"><code>FldReleaseStorage()</code></a><br><a href="UI_Field.html#1074609"><code>FldReturnStorage()</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1042064"> </a><b>Cut/Copy/Paste</b></p>
    </td>
    <td><p class="tt"><a name="1042066"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1042071"> </a><a href="UI_Field.html#994217"><code>FldCopy()</code></a><br><a href="UI_Field.html#997395"><code>FldPaste()</code></a></p>
    </td>
    <td><p class="tt"><a name="1042079"> </a><a href="UI_Field.html#994339"><code>FldCut()</code></a><br><a href="UI_Field.html#999608"><code>FldUndo()</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1043088"> </a><b>Displaying Text </b></p>
    </td>
    <td><p class="tt"><a name="1043090"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1043095"> </a><a href="UI_Field.html#999432"><code>FldSetTextPtr()</code></a></p>
    </td>
    <td><p class="tt"><a name="1043100"> </a><a href="UI_Field.html#996704"><code>FldGetTextPtr()</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1042084"> </a><b>Scrolling</b></p>
    </td>
    <td><p class="tt"><a name="1042086"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1042091"> </a><a href="UI_Field.html#997935"><code>FldScrollField()</code></a><br><a href="UI_Field.html#999023"><code>FldSetScrollPosition()</code></a><br><a href="UI_Field.html#996746"><code>FldGetVisibleLines()</code></a><br><a href="UI_Field.html#995908"><code>FldGetNumberOfBlankLines()</code></a></p>
    </td>
    <td><p class="tt"><a name="1042618"> </a><a href="UI_Field.html#997889"><code>FldScrollable()</code></a><br><a href="UI_Field.html#995950"><code>FldGetScrollPosition()</code></a><br><a href="UI_Field.html#996200"><code>FldGetScrollValues()</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><p class="tt"><a name="1042113"> </a><b>Field Attributes</b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1042711"> </a><a href="UI_Field.html#995085"><code>FldGetAttributes()</code></a><br><a href="UI_Field.html#995397"><code>FldGetFont()</code></a><br><a href="UI_Field.html#1019469"><code>FldGetMaxChars()</code></a><br><a href="UI_Field.html#998385"><code>FldSetAttributes()</code></a><br><a href="UI_Field.html#999562"><code>FldSetUsable()</code></a></p>
    </td>
    <td><p class="tt"><a name="1042134"> </a><a href="UI_Field.html#998633"><code>FldSetFont()</code></a><br><a href="UI_Field.html#998847"><code>FldSetMaxChars()</code></a><br><a href="UI_Field.html#998893"><code>FldSetMaxVisibleLines()</code></a><br><a href="UI_Field.html#995131"><code>FldGetBounds()</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><p class="tt"><a name="1042145"> </a><b>Text Attributes</b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1042152"> </a><a href="UI_Field.html#994023"><code>FldCalcFieldHeight()</code></a><br><a href="UI_Field.html#996325"><code>FldGetTextAllocatedSize()</code></a><br><a href="UI_Field.html#999278"><code>FldSetTextAllocatedSize()</code></a><br><a href="UI_Field.html#995765"><code>FldGetLineInfo()</code></a></p>
    </td>
    <td><p class="tt"><a name="1042163"> </a><a href="UI_Field.html#996555"><code>FldGetTextHeight()</code></a><br><a href="UI_Field.html#996662"><code>FldGetTextLength()</code></a><br><a href="UI_Field.html#999730"><code>FldWordWrap()</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><p class="tt"><a name="1042171"> </a><b>Working With the Insertion Point</b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1042178"> </a><a href="UI_Field.html#995439"><code>FldGetInsPtPosition()</code></a><br><a href="UI_Field.html#998703"><code>FldSetInsertionPoint()</code></a><br><a href="UI_Field.html#997563"><code>FldReleaseFocus()</code></a></p>
    </td>
    <td><p class="tt"><a name="1042186"> </a><a href="UI_Field.html#998777"><code>FldSetInsPtPosition()</code></a><br><a href="UI_Field.html#996868"><code>FldGrabFocus()</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1042188"> </a><b>Releasing Memory </b></p>
    </td>
    <td><p class="tt"><a name="1042190"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1042195"> </a><a href="UI_Field.html#994175"><code>FldCompactText()</code></a></p>
    </td>
    <td><p class="tt"><a name="1042200"> </a><a href="UI_Field.html#994959"><code>FldFreeMemory()</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1043057"> </a><b>Updating the Display</b></p>
    </td>
    <td><p class="tt"><a name="1043059"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1043064"> </a><a href="UI_Field.html#994667"><code>FldDrawField()</code></a><br><a href="UI_Field.html#998474"><code>FldSetBounds()</code></a><br><a href="UI_Field.html#997517"><code>FldRecalculateField()</code></a></p>
    </td>
    <td><p class="tt"><a name="1043075"> </a><a href="UI_Field.html#997239"><code>FldMakeFullyVisible()</code></a><br><a href="UI_Field.html#994917"><code>FldEraseField()</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1042202"> </a><b>Event Handling</b></p>
    </td>
    <td><p class="tt"><a name="1042204"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1042209"> </a><a href="UI_Field.html#996910"><code>FldHandleEvent()</code></a><br><a href="UI_Field.html#998331"><code>FldSendHeightChangeNotification()</code></a></p>
    </td>
    <td><p class="tt"><a name="1042217"> </a><a href="UI_Field.html#998289"><code>FldSendChangeNotification()</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1042219"> </a><b>Dynamic UI</b></p>
    </td>
    <td><p class="tt"><a name="1042221"> </a> </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1042226"> </a><a href="UI_Field.html#997289"><code>FldNewField()</code></a></p>
    </td>
    <td><p class="tt"><a name="1042228"> </a></p>
    </td>
  </tr>
</table>

</div>



<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1041258"> </a><b>Form Label and Title Functions </b></p>
    </th>
    <th><p class="tt"><a name="1041260"> </a><b></b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1041262"> </a><a href="UI_Form.html#998890"><code>FrmGetLabel()</code></a><br><a href="UI_Form.html#999240"><code>FrmGetLabelFont()</code></a><br><a href="UI_Form.html#1003649"><code>FrmSetLabelFont()</code></a><br><a href="UI_Form.html#995741"><code>FrmCopyLabel()</code></a></p>
    </td>
    <td><p class="tt"><a name="1041264"> </a><a href="UI_Form.html#1000328"><code>FrmGetTitle()</code></a><br><a href="UI_Form.html#1004064"><code>FrmSetTitle()</code></a><br><a href="UI_Form.html#996011"><code>FrmCopyTitle()</code></a></p>
    </td>
  </tr>
</table>

</div>



<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1041109"> </a><b>Bitmapped Font Functions </b></p>
    </th>
    <th><p class="tt"><a name="1041111"> </a><b></b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1041113"> </a><b>Changing the Bitmapped Font</b></p>
    </td>
    <td><p class="tt"><a name="1041115"> </a> </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1041120"> </a><a href="UI_Font.html#1002282"><code>FontSelect()</code></a><br><a href="UI_Field.html#998633"><code>FldSetFont()</code></a><br><a href="UI_Control.html#995647"><code>CtlSetFont()</code></a><br><a href="UI_List.html#995450"><code>LstSetFont()</code></a></p>
    </td>
    <td><p class="tt"><a name="1041134"> </a><a href="UI_Font.html#995852"><code>FntSetFont()</code></a> <br><a href="UI_Table.html#998118"><code>TblSetItemFont()</code></a><br><a href="UI_Form.html#1003649"><code>FrmSetLabelFont()</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><p class="tt"><a name="1041142"> </a><b>Accessing the Bitmapped Font Programmatically</b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1041149"> </a><a href="UI_Font.html#995279"><code>FntGetFont()</code></a><br><a href="UI_Font.html#1011366"><code>FntGetDefaultFontID()</code></a></p>
    </td>
    <td><p class="tt"><a name="1041154"> </a><a href="UI_Font.html#995319"><code>FntGetFontPtr()</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1041156"> </a><b>Wrapping or Truncating Text</b></p>
    </td>
    <td><p class="tt"><a name="1041158"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1041163"> </a><a href="UI_Font.html#996319"><code>FntWordWrap()</code></a><br><a href="UI_Font.html#996090"><code>FntTruncateString()</code></a></p>
    </td>
    <td><p class="tt"><a name="1041171"> </a><a href="UI_Font.html#996365"><code>FntWordWrapReverseNLines()</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1041173"> </a><b>String Width</b></p>
    </td>
    <td><p class="tt"><a name="1041175"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1041180"> </a><a href="UI_Font.html#994647"><code>FntCharsInWidth()</code></a><br><a href="UI_Font.html#995806"><code>FntLineWidth()</code></a></p>
    </td>
    <td><p class="tt"><a name="1041188"> </a><a href="UI_Font.html#994744"><code>FntCharsWidth()</code></a><br><a href="UI_Font.html#996257"><code>FntWidthToOffset()</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1041193"> </a><b>Character Width</b></p>
    </td>
    <td><p class="tt"><a name="1041195"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1041200"> </a><a href="UI_Font.html#994313"><code>FntAverageCharWidth()</code></a></p>
    </td>
    <td><p class="tt"><a name="1041205"> </a><a href="UI_Font.html#994814"><code>FntCharWidth()</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1041207"> </a><b>Height</b></p>
    </td>
    <td><p class="tt"><a name="1041209"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1041214"> </a><a href="UI_Font.html#994393"><code>FntCharHeight()</code></a><br><a href="UI_Font.html#994353"><code>FntBaseLine()</code></a></p>
    </td>
    <td><p class="tt"><a name="1041222"> </a><a href="UI_Font.html#995758"><code>FntLineHeight()</code></a><br><a href="UI_Font.html#995140"><code>FntDescenderHeight()</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1041227"> </a><b>Scrolling</b></p>
    </td>
    <td><p class="tt"><a name="1041229"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1041234"> </a><a href="UI_Font.html#995359"><code>FntGetScrollValues()</code></a></p>
    </td>
    <td><p class="tt"><a name="1041236"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1041238"> </a><b>Creating a Bitmapped Font</b></p>
    </td>
    <td><p class="tt"><a name="1041240"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1041245"> </a><a href="UI_Font.html#1011354"><code>FntDefineFont()</code></a></p>
    </td>
    <td><p class="tt"><a name="1041250"> </a><a href="UI_Font.html#995677"><code>FntIsAppDefined()</code></a></p>
    </td>
  </tr>
</table>

</div>



<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1040057"> </a><b>Scalable Font Functions </b></p>
    </th>
    <th><p class="tt"><a name="1040059"> </a><b></b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1040221"> </a><b>Creating the Scalable Font Handle</b></p>
    </td>
    <td><p class="tt"><a name="1040223"> </a> </p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1040225"> </a><a href="UI_GcFont.html#993944"><code>GcCreateFont()</code></a><br><a href="UI_GcFont.html#994270"><code>GcCreateFontFromFamily()</code></a><br><a href="UI_GcFont.html#994312"><code>GcCreateFontFromID()</code></a></p>
    </td>
    <td><p class="tt"><a name="1040227"> </a><a href="UI_GcFont.html#993755"><code>GcCheckFont()</code></a><br><a href="UI_GcFont.html#995830"><code>GcReleaseFont()</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1040957"> </a><b>Drawing with a Scalable Font </b></p>
    </td>
    <td><p class="tt"><a name="1040959"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1040961"> </a><a href="UI_GraphicContext.html#1125325"><code>GcSetFont()</code></a></p>
    </td>
    <td><p class="tt"><a name="1040963"> </a><a href="UI_GraphicContext.html#1196638"><code>GcDrawTextAt()</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1040104"> </a><b>Font Style</b></p>
    </td>
    <td><p class="tt"><a name="1040106"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1040111"> </a><a href="UI_GcFont.html#996150"><code>GcSetFontFace()</code></a><br><a href="UI_GcFont.html#996560"><code>GcSetFontStyle()</code></a><br><a href="UI_GcFont.html#993709"><code>GcApplyFontSpec()</code></a></p>
    </td>
    <td><p class="tt"><a name="1040119"> </a><a href="UI_GcFont.html#994883"><code>GcGetFontFace()</code></a><br><a href="UI_GcFont.html#995203"><code>GcGetFontFamilyAndStyle()</code></a><br></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1040121"> </a><b>String Width</b></p>
    </td>
    <td><p class="tt"><a name="1040123"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1040128"> </a><a href="UI_GcFont.html#1002752"><code>GcFontStringBounds()</code></a><br><a href="UI_GcFont.html#994624"><code>GcFontStringCharsInWidth()</code></a><br><a href="UI_GcFont.html#1026158"><code>GcFontStringEscapement()</code></a></p>
    </td>
    <td><p class="tt"><a name="1040136"> </a><a href="UI_GcFont.html#994570"><code>GcFontStringBytesInWidth()</code></a><br><a href="UI_GcFont.html#994717"><code>GcFontStringWidth()</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1040155"> </a><b>Dimensions</b></p>
    </td>
    <td><p class="tt"><a name="1040157"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1040162"> </a><a href="UI_GcFont.html#995408"><code>GcGetFontSize()</code></a><br><a href="UI_GcFont.html#994833"><code>GcGetFontBoundingBox()</code></a></p>
    </td>
    <td><p class="tt"><a name="1040170"> </a><a href="UI_GcFont.html#996514"><code>GcSetFontSize()</code></a><br><a href="UI_GcFont.html#995296"><code>GcGetFontHeight()</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td colspan="2" rowspan="1"><p class="tt"><a name="1040953"> </a><b>Counting Fonts</b></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1040940"> </a><a href="UI_GcFont.html#993862"><code>GcCountFontFamilies()</code></a><br><a href="UI_GcFont.html#994925"><code>GcGetFontFamily()</code></a></p>
    </td>
    <td><p class="tt"><a name="1040948"> </a><a href="UI_GcFont.html#993902"><code>GcCountFontStyles()</code></a><br><a href="UI_GcFont.html#995526"><code>GcGetFontStyle()</code></a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1040649"> </a><b>Setting the Font Rendering State</b></p>
    </td>
    <td><p class="tt"><a name="1040651"> </a></p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1040653"> </a><a href="UI_GcFont.html#995872"><code>GcSetFontAntialiasing()</code></a><br><a href="UI_GcFont.html#996196"><code>GcSetFontHinting()</code></a><br><a href="UI_GcFont.html#996878"><code>GcSetFontTransform()</code></a></p>
    </td>
    <td><p class="tt"><a name="1040655"> </a><a href="UI_GcFont.html#994791"><code>GcGetFontAntialiasing()</code></a><br><a href="UI_GcFont.html#995366"><code>GcGetFontHinting()</code></a><br><a href="UI_GcFont.html#995576"><code>GcGetFontTransform()</code></a></p>
    </td>
  </tr>
</table>

</div>


<p><a name="1040532"> </a></p>
&nbsp;<br>
</div>
<!--END CONTENT-->

</td>
<td width="5">&nbsp;&nbsp;</td>
</tr>

</table>

<!-- BEGIN FOOTER -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="7" rowspan="2"><img name="index_x" src="images/shim.gif" width="7" height="33" border="0" alt=""></td>
<td align="left"><img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
<td width="10" rowspan="2"><img name="index_x" src="images/shim.gif" width="10" height="33" border="0" alt=""></td>
</tr>
<tr>
<td align="center">
<p class="footer">
Copyright © 2003&#8211;2004, PalmSource, Inc. and its affiliates. All rights reserved.<br>
<a href="http://www.palmsource.com/contact/">Write Us</a> | <a href="http://www.palmos.com/dev/training/">Training</a> | <a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a> | <a href="UI_Front.html" target="_blank">Legal</a></p>
<br>
<!--BEGIN BOOK NAVIGATION-->
<p class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="UI_TOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="UI_MenuConcept.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="UI_TableConcept.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="UI_IX.html">Index</a>
</p>
</td>
</tr>
</table>
<!-- END FOOTER -->

</body>
</html>