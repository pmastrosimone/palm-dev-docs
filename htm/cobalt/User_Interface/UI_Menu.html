<html>
<head>
<title>(Protein) Menu Reference | User Interface </title> 
<link href="psi_devpubs.css" rel="stylesheet" type="text/css">

<!-- BEGIN META DATA -->
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META NAME="PSITEMPLATE" CONTENT="1006-007 PalmSource_HTML_2003 20041101">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks AutoMap 2003 for FrameMaker 8.0.6.2138">
<META NAME="LASTUPDATED" CONTENT="11/22/04 12:19:51">
<!-- END META DATA -->
</head>

<body bgcolor="#ffffff" text="#000000" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<a name="993254"></a>

<!-- BEGIN TOPNAV -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td><img src="images/shim.gif" width="7" height="75" border="0" alt=""></td>
<td align="left"><table border="0" cellpadding="0" cellspacing="0" width="744">
<tr>
<td><img name="index_r2_c1" src="images/shim.gif" width="25" height="75" border="0" alt=""></td>
<td valign="top"><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_r2_c4" src="images/shim.gif" width="96" height="15" border="0" alt=""></td>
</tr>
<tr>
<td><a href="http://www.palmsource.com/"><img name="ps_logo" src="images/ps_logo.gif" width="96" height="54" border="0" alt=""></a></td>
</tr>

</table>
</td>

<td><table border="0" cellpadding="0" cellspacing="0" width="30">
<td><img name="index_x" src="images/shim.gif" width="30" height="75" border="0" alt=""></td>
</table></td>

<!--BEGIN MASTHEAD-->
<td><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
<tr>
<td>
<!--BEGIN BOOK NAVIGATION-->
<span class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="UI_TOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="UI_List.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="UI_PhoneLookup.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="UI_IX.html">Index</a>
</span>
<!--END BOOK NAVIGATION-->
</tr>
<tr>
<td>
<!--BEGIN PAGE TITLE-->
<h2 class="PageTitle">23 &nbsp;&nbsp;
Menu Reference</h2></td>
<!--END PAGE TITLE-->
</tr>
<tr>
<td>
<!--BEGIN BOOK TITLE-->
<p class="BookTitle">User Interface </p>
<p class="SubTitle">Exploring Palm OS&#174; </p>
<!--END BOOK TITLE-->
</td>
</tr>
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
</table>
</td>
<!--END MASTHEAD-->
</tr>
</table>
<img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
</tr>
</table>
<!-- END TOPNAV -->

<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" width="5"><img name="index_x" src="images/shim.gif" width="5" height="33" border="0" alt=""></td>

<!--BEGIN SIDETOC-->
<td valign="top" width="175">
<div id="sidetoc" valign="bottom">
<h1 class="SideTOC1-PartTab"><a href="UI_PartRef.html">Part II: Reference</a> </h1>
<h1 class="SideTOC1"><a href="UI_Menu.html">23  Menu Reference</a></h1>

   <h2 class="SideTOC2"><a href="#993262">
   Menu Structures and Types</a></h2>

      <h3 class="SideTOC3"><a href="#993295">
      MenuBarType</a></h3>

   <h2 class="SideTOC2"><a href="#993530">
   Menu Constants</a></h2>

      <h3 class="SideTOC3"><a href="#1001061">
      Command Button Location Constants</a></h3>

      <h3 class="SideTOC3"><a href="#1007723">
      Menu Activation Constants</a></h3>

      <h3 class="SideTOC3"><a href="#1000918">
      Menu Error Constants</a></h3>

      <h3 class="SideTOC3"><a href="#1001662">
      Miscellaneous Constants</a></h3>

      <h3 class="SideTOC3"><a href="#995170">
      MenuCmdBarResultType</a></h3>

   <h2 class="SideTOC2"><a href="#996581">
   Menu Events</a></h2>

      <h3 class="SideTOC3"><a href="#996584">
      menuCloseEvent</a></h3>

      <h3 class="SideTOC3"><a href="#996588">
      menuCmdBarOpenEvent</a></h3>

      <h3 class="SideTOC3"><a href="#1019067">
      menuCmdBarTimeoutEvent</a></h3>

      <h3 class="SideTOC3"><a href="#996623">
      menuEvent</a></h3>

      <h3 class="SideTOC3"><a href="#996648">
      menuOpenEvent</a></h3>

   <h2 class="SideTOC2"><a href="#996695">
   Menu Notifications</a></h2>

      <h3 class="SideTOC3"><a href="#996698">
      sysNotifyMenuCmdBarOpenEvent </a></h3>

   <h2 class="SideTOC2"><a href="#993709">
   Menu Functions and Macros</a></h2>

      <h3 class="SideTOC3"><a href="#993721">
      MenuAddItem</a></h3>

      <h3 class="SideTOC3"><a href="#993982">
      MenuCmdBarAddButton</a></h3>

      <h3 class="SideTOC3"><a href="#994048">
      MenuCmdBarDisplay</a></h3>

      <h3 class="SideTOC3"><a href="#994088">
      MenuCmdBarGetButtonData</a></h3>

      <h3 class="SideTOC3"><a href="#994382">
      MenuDispose</a></h3>

      <h3 class="SideTOC3"><a href="#994504">
      MenuDrawMenu</a></h3>

      <h3 class="SideTOC3"><a href="#994546">
      MenuEraseStatus</a></h3>

      <h3 class="SideTOC3"><a href="#994672">
      MenuGetActiveMenu</a></h3>

      <h3 class="SideTOC3"><a href="#994712">
      MenuHandleEvent</a></h3>

      <h3 class="SideTOC3"><a href="#1014967">
      MenuHideItem</a></h3>

      <h3 class="SideTOC3"><a href="#994856">
      MenuInit</a></h3>

      <h3 class="SideTOC3"><a href="#994923">
      MenuSetActiveMenu</a></h3>

      <h3 class="SideTOC3"><a href="#994965">
      MenuSetActiveMenuRscID</a></h3>

      <h3 class="SideTOC3"><a href="#995011">
      MenuShowItem</a></h3>

</div>
</td>

<td width="5">&nbsp;&nbsp;</td>
<td width="2" background="images/index_r8_c10.gif"><img src="images/shim.gif" width="2" height="75" border="0" alt=""></td>
<td width="5">&nbsp;&nbsp;</td>

<!--END SIDETOC-->

<td valign="top">

<!--BEGIN CONTENT-->
<div id="content" valign="bottom">
<p><a name="995104"> </a>This chapter describes the menu API as declared in the header file <code>Menu.h</code>. It discusses the following topics:</p>
   <blockquote class = "bq"><a name="993268"> </a><a href="UI_Menu.html#993262">Menu Structures and Types</a></blockquote>
   <blockquote class = "bq"><a name="993576"> </a><a href="UI_Menu.html#993530">Menu Constants</a></blockquote>
   <blockquote class = "bq"><a name="996940"> </a><a href="UI_Menu.html#996581">Menu Events</a></blockquote>
   <blockquote class = "bq"><a name="996953"> </a><a href="UI_Menu.html#996695">Menu Notifications</a></blockquote>
   <blockquote class = "bq"><a name="993715"> </a><a href="UI_Menu.html#993709">Menu Functions and Macros</a></blockquote>

<p><a name="995111"> </a>For more information on menus, see the section <a href="UI_MenuConcept.html#1005083">Chapter 4, "Working with Menus."</a></p>

<h2 class="haH2">
  <a name="993262"> </a>Menu Structures and Types <a href="#993254"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="993295"> </a>MenuBarType Struct <a href="#993254"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="993300"> </a>Purpose 
</h4>

<p><a name="995820"> </a>Internal structure that defines a menu bar. The <code>MenuBarPtr</code> function defines a pointer to a menu bar. </p>
<h4>
  <a name="993305"> </a>Declared In 
</h4>
<code>Menu.h<a name="993308"> </a></code><h4>
  <a name="993310"> </a>Prototype 
</h4>
<pre class="proto"><a name="993313"></a>typedef struct MenuBarType MenuBarType;
</pre>
<pre class="proto"><a name="995810"></a>typedef MenuBarType *MenuBarPtr
</pre>
<h4>
  <a name="993315"> </a>Fields 
</h4>

<p><a name="993318"> </a>None.</p>

<h2 class="haH2">
  <a name="993530"> </a>Menu Constants <a href="#993254"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="1001061"> </a>Command Button Location Constants <a href="#993254"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1001062"> </a>Purpose 
</h4>

<p><a name="1001063"> </a>Specifies where to place a new button within the menu command tool bar. </p>
<h4>
  <a name="1001064"> </a>Declared In 
</h4>
<code>Menu.h<a name="1001065"> </a></code><h4>
  <a name="1018329"> </a>Constants 
</h4>

<dl>
<dt><a name="993613"> </a><code>#define menuCmdBarOnLeft 0xff</code></dt>
<dd><a name="1011081"> </a>Add the button to the left of the other buttons on the command tool bar.</dd>

<dt><a name="993617"> </a><code>#define menuCmdBarOnRight 0</code></dt>
<dd><a name="993619"> </a>Add the button to the right of the other buttons. </dd>

</dl>
<h4>
  <a name="1012161"> </a>See Also 
</h4>

<p><a name="1012176"> </a><a href="UI_Menu.html#993982"><code>MenuCmdBarAddButton()</code></a></p>

<h3 class="hbH3">
  <a name="1007723"> </a>Menu Activation Constants <a href="#993254"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1007724"> </a>Purpose 
</h4>

<p><a name="1007725"> </a>Indicates how a menu has been activated. These constants are sent as part of the <a href="UI_Menu.html#996648"><code>menuOpenEvent</code></a>. </p>
<h4>
  <a name="1007726"> </a>Declared In 
</h4>
<code>Menu.h<a name="1007727"> </a></code><h4>
  <a name="1007728"> </a>Constants 
</h4>

<dl>
<dt><a name="1007730"> </a><code>#define menuButtonCause 0</code></dt>
<dd><a name="1007731"> </a>The menu is going to be displayed because the user tapped the Menu icon or tapped the form's title bar. </dd>

<dt><a name="993621"> </a><code>#define menuCommandCause 1</code></dt>
<dd><a name="1007222"> </a>The user drew the menu command shortcut character in the input area, so the menu is becoming active without being displayed.</dd>

</dl>

<h3 class="hbH3">
  <a name="1000918"> </a>Menu Error Constants <a href="#993254"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1000919"> </a>Purpose 
</h4>

<p><a name="1000920"> </a>Errors returned by menu functions. </p>
<h4>
  <a name="1000921"> </a>Declared In 
</h4>
<code>Menu.h<a name="1000922"> </a></code><h4>
  <a name="1018359"> </a>Constants 
</h4>

<dl>
<dt><a name="993625"> </a><code>#define menuErrNoMenu (menuErrorClass | 1)</code></dt>
<dd><a name="1012188"> </a>There is currently no active menu. </dd>

<dt><a name="1012267"> </a><code>#define menuErrNotFound (menuErrorClass | 2)</code></dt>
<dd><a name="1012268"> </a>Could not locate the specified item. </dd>

<dt><a name="1012270"> </a><code>#define menuErrOutOfMemory (menuErrorClass | 5)</code></dt>
<dd><a name="1012282"> </a>There is not enough memory available to perform the operation. </dd>

<dt><a name="993637"> </a><code>#define menuErrSameId (menuErrorClass | 3)</code></dt>
<dd><a name="1012304"> </a>The menu already contains an item with the specified ID. </dd>

<dt><a name="993641"> </a><code>#define menuErrTooManyItems (menuErrorClass | 4)</code></dt>
<dd><a name="1012320"> </a>The command tool bar already has the maximum number of buttons allowed (currently 8). </dd>

</dl>

<h3 class="hbH3">
  <a name="1001662"> </a>Miscellaneous Constants <a href="#993254"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1001663"> </a>Purpose 
</h4>

<p><a name="1001664"> </a>Other constants defined in <code>Menu.h</code>. </p>
<h4>
  <a name="1001665"> </a>Declared In 
</h4>
<code>Menu.h<a name="1001666"> </a></code><h4>
  <a name="1001667"> </a>Constants 
</h4>

<dl>
<dt><a name="993649"> </a><code>#define MenuSeparatorChar '-'</code></dt>
<dd><a name="996493"> </a>Special character indicating that the menu item is a bar used to separate groups of related menu items. </dd>

<dt><a name="993653"> </a><code>#define noMenuItemSelection -1</code></dt>
<dd><a name="996485"> </a>There is currently no item selected within a menu. </dd>

<dt><a name="993657"> </a><code>#define noMenuSelection -1</code></dt>
<dd><a name="996481"> </a>There is currently no pull-down menu selected. </dd>

<dt><a name="993661"> </a><code>#define separatorItemSelection -2</code></dt>
<dd><a name="996489"> </a>The currently selected item within a menu is the bar used to separate groups of related menu items. </dd>

<dt><a name="1007992"> </a><code>#define menuCmdBarMaxTextLength 20</code></dt>
<dd><a name="1012330"> </a>The maximum length of the text that is briefly displayed as a status message when a button in the menu command tool bar is tapped. </dd>

</dl>

<h3 class="hbH3">
  <a name="995170"> </a>MenuCmdBarResultType Typedef <a href="#993254"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="995172"> </a>Purpose 
</h4>

<p><a name="995174"> </a>Specifies what the result of a user tapping a specific button in the menu command tool bar is. </p>
<h4>
  <a name="995179"> </a>Declared In 
</h4>
<code>Menu.h<a name="995180"> </a></code><h4>
  <a name="995181"> </a>Prototype 
</h4>
<pre class="proto"><a name="995182"></a>typedef Enum8 MenuCmdBarResultType
</pre>
<h4>
  <a name="993685"> </a>Constants 
</h4>

<dl>
<dt><a name="993688"> </a><code>menuCmdBarResultNone</code></dt>
<dd><a name="995200"> </a>No result. </dd>

<dt><a name="993692"> </a><code>menuCmdBarResultChar</code></dt>
<dd><a name="995216"> </a>The result is a character to send in a <a href="../Input_Services/In_LowEvents.html#993792"><code>keyDownEvent</code></a>. </dd>

<dt><a name="993696"> </a><code>menuCmdBarResultMenuItem</code></dt>
<dd><a name="995235"> </a>The result is the ID of the menu item to send in a <a href="UI_Menu.html#996623"><code>menuEvent</code></a>. </dd>

<dt><a name="993700"> </a><code>menuCmdBarResultNotify</code></dt>
<dd><a name="995254"> </a>The result is a notification constant to be broadcast using <a href="../Programming_Basics/NotifyMgr.html#996056"><code>SysNotifyBroadcastDeferred()</code></a>.</dd>

</dl>
<h4>
  <a name="993704"> </a>See Also 
</h4>

<p><a name="1002611"> </a><a href="UI_Menu.html#993982"><code>MenuCmdBarAddButton()</code></a>, <a href="UI_Menu.html#994088"><code>MenuCmdBarGetButtonData()</code></a></p>

<h2 class="haH2">
  <a name="996581"> </a>Menu Events <a href="#993254"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="996584"> </a>menuCloseEvent <a href="#993254"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1002652"> </a>Purpose 
</h4>

<p><a name="1010089"> </a>This event is not currently used. If you need to perform some cleanup (such as closing a resource) after the menu item you added is no longer needed, do so in response to <a href="UI_Form.html#1089078"><code>frmCloseEvent</code></a>.</p>

<h3 class="hbH3">
  <a name="996588"> </a>menuCmdBarOpenEvent <a href="#993254"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1015758"> </a>Purpose 
</h4>

<p><a name="1015759"> </a>Sent when the menu command tool bar is about to be displayed. </p>

<p><a name="1015763"> </a>For this event, the <a href="../Programming_Basics/Event.html#992950"><code>EventType</code></a> <code>data</code> field contains the structure shown in the Prototype section, below. </p>
<h4>
  <a name="1003108"> </a>Declared In 
</h4>
<code>Event.h<a name="1003109"> </a></code><h4>
  <a name="996604"> </a>Prototype 
</h4>
<pre class="proto"><a name="996605"></a>struct menuCmdBarOpen {
   Boolean preventFieldButtons;
   uint8_t reserved;
} menuCmdBarOpen;
</pre>
<h4>
  <a name="1003814"> </a>Fields 
</h4>

<dl>
<dt><a name="996612"> </a><code>preventFieldButtons</code></dt>
<dd><a name="996614"> </a>If <code>true</code>, the UI Library does not add the standard cut, copy, paste, and undo buttons when the focus is on a field. If <code>false</code>, the UI Library adds the buttons. </dd>

<dt><a name="996616"> </a><code>reserved </code></dt>
<dd><a name="996618"> </a>Unused. </dd>

</dl>
<h4>
  <a name="1002993"> </a>Comments 
</h4>

<p><a name="1002998"> </a>Applications might respond to this event by calling <a href="UI_Menu.html#993982"><code>MenuCmdBarAddButton()</code></a> to add custom buttons to the command tool bar. Return <code>false</code> to allow the default system behavior to take place. </p>

<p><a name="1009992"> </a>Shared libraries or other non-application code resources can add buttons to the tool bar by registering to receive the <a href="UI_Menu.html#996698"><code>sysNotifyMenuCmdBarOpenEvent</code></a> notification.</p>

<p><a name="996620"> </a>To prevent the command tool bar from being displayed, respond to this event and return <code>true</code>. Returning <code>true</code> prevents the UI Library from displaying the tool bar. </p>

<h3 class="hbH3">
  <a name="1019067"> </a>menuCmdBarTimeoutEvent <a href="#993254"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1019068"> </a>Purpose 
</h4>

<p><a name="1019069"> </a>Sent when the menu command tool bar has reached its timeout limit for activity and is about to be erased. </p>
<h4>
  <a name="1019070"> </a>Declared In 
</h4>
<code>EventCodes.h<a name="1019071"> </a></code><h4>
  <a name="1019072"> </a>Prototype 
</h4>

<p><a name="1019160"> </a>No data is passed with this event. </p>
<h4>
  <a name="1019167"> </a>Comments 
</h4>

<p><a name="1019226"> </a>Applications do not need to send or handle this event. It is used internally by the menu command tool bar. </p>

<h3 class="hbH3">
  <a name="996623"> </a>menuEvent <a href="#993254"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="996624"> </a>Purpose 
</h4>

<p><a name="996629"> </a>Sent when one of the following occurs:</p>
<ul type="disc">
  <li><a name="996630"> </a>When the user selects an item from a pull-down menu
  <li><a name="996632"> </a>When the user draws the menu command stroke followed by a character; for example, Command-C for copy
  <li><a name="996633"> </a>When the user taps one of the buttons on the command tool bar and the button is set up to generate a <code>menuEvent</code>. 
</ul>

<p><a name="1003118"> </a>For this event, the <a href="../Programming_Basics/Event.html#992950"><code>EventType</code></a> <code>data</code> field contains the structure shown in the Prototype section, below. </p>
<h4>
  <a name="1003119"> </a>Declared In 
</h4>
<code>Event.h<a name="1003120"> </a></code><h4>
  <a name="996635"> </a>Prototype 
</h4>
<pre class="proto"><a name="996636"></a>struct menu {
  uint16_t itemID;
} menu;
</pre>
<h4>
  <a name="1003418"> </a>Fields 
</h4>

<dl>
<dt><a name="996642"> </a><code>itemID</code></dt>
<dd><a name="996644"> </a>Item ID of the selected menu command.</dd>

</dl>
<h4>
  <a name="1004685"> </a>Comments 
</h4>

<p><a name="1005052"> </a>Applications respond to this event to perform the action that the user requested. Return <code>true</code> to indicate that you've handled the event. </p>

<h3 class="hbH3">
  <a name="996648"> </a>menuOpenEvent <a href="#993254"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="996649"> </a>Purpose 
</h4>

<p><a name="996654"> </a>Sent when a new active menu has been initialized. </p>

<p><a name="1003129"> </a>For this event, the <a href="../Programming_Basics/Event.html#992950"><code>EventType</code></a> <code>data</code> field contains the structure shown in the Prototype section, below. </p>
<h4>
  <a name="1003130"> </a>Declared In 
</h4>
<code>Event.h<a name="1003131"> </a></code><h4>
  <a name="1003283"> </a>Prototype 
</h4>
<pre class="proto"><a name="1003407"></a>struct menuOpen {
   uint16_t menuRscID;
   int16_t cause;
} menuOpen;
</pre>
<h4>
  <a name="1003811"> </a>Fields 
</h4>

<dl>
<dt><a name="996685"> </a><code>menuRscID</code></dt>
<dd><a name="996687"> </a>Resource ID of the menu. </dd>

<dt><a name="996689"> </a><code>cause </code></dt>
<dd><a name="996692"> </a>Reason for opening the menu. This value is one of the <a href="UI_Menu.html#1007723">Menu Activation Constants</a>.</dd>

</dl>
<h4>
  <a name="1006185"> </a>Comments 
</h4>

<p><a name="1006186"> </a>A menu becomes active the first time the user taps the Menu icon or taps the form's title bar, and a menu might need to be re-initialized and reactivated several times during the life of an application. </p>

<p><a name="1006187"> </a>A menu remains active until one of the following happens:</p>
<ul type="disc">
  <li><a name="1006191"> </a>A <a href="UI_Form.html#1003742"><code>FrmSetMenu()</code></a> call changes the active menu on the form. 
  <li><a name="1006192"> </a>A new form, even a modal form or alert panel, becomes active.
</ul>

<p><a name="1006193"> </a>Suppose a user selects your application's About item from the Options menu then clicks the OK button to return to the main form. When the About dialog is displayed, it becomes the active form, which causes the main form's menu state to be erased. This menu state is not restored when the main form becomes active again. The next time the user requests the menu, it must be initialized again, so <code>menuOpenEvent</code> is sent again. </p>

<p><a name="1006194"> </a>Applications might respond to this event by adding, hiding, or unhiding menu items using the functions <a href="UI_Menu.html#993721"><code>MenuAddItem()</code></a>, <a href="UI_Menu.html#1014967"><code>MenuHideItem()</code></a>, or <a href="UI_Menu.html#995011"><code>MenuShowItem()</code></a>. Return <code>false</code> to allow the default system behavior to take place. </p>

<h2 class="haH2">
  <a name="996695"> </a>Menu Notifications <a href="#993254"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="996698"> </a>sysNotifyMenuCmdBarOpenEvent  <a href="#993254"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1003846"> </a>Purpose 
</h4>

<p><a name="1004328"> </a>Broadcast when the menu command tool bar is about to be displayed at the bottom of the screen. </p>
<h4>
  <a name="1010794"> </a>Declared In 
</h4>
<code>NotifyMgr.h<a name="1010238"> </a></code><h4>
  <a name="1010239"> </a>Prototype 
</h4>

<p><a name="1010240"> </a>None. </p>
<h4>
  <a name="996704"> </a>Comments 
</h4>

<p><a name="1010378"> </a>Register for this notification if you are writing a shared library or system resource that needs to add a button to the menu command bar or to suppress the menu command tool bar. To add a button, call <a href="UI_Menu.html#993982"><code>MenuCmdBarAddButton()</code></a>. To suppress the command tool bar, set the <code>handled</code> field to <code>true</code>. </p>

<p><a name="996709"> </a>Applications that need to add their own buttons to the menu command tool bar should do so in response to a <a href="UI_Menu.html#996588"><code>menuCmdBarOpenEvent</code></a>. They should <i>not</i> register for this notification because an application should only add buttons if it is already the active application. The notification is sent after the event has been received, immediately before the command tool bar is displayed. </p>

<h2 class="haH2">
  <a name="993709"> </a>Menu Functions and Macros <a href="#993254"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="993721"> </a>MenuAddItem Function <a href="#993254"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="993726"> </a>Purpose 
</h4>

<p><a name="996973"> </a>Adds an item to the currently active menu.</p>
<h4>
  <a name="993731"> </a>Declared In 
</h4>
<code>Menu.h<a name="993734"> </a></code><h4>
  <a name="993736"> </a>Prototype 
</h4>
<pre class="proto"><a name="993739"></a>status_t MenuAddItem (
   uint16_t <code class="par">positionId</code>,
   uint16_t <code class="par">id</code>,
   char <code class="par">cmd</code>,
   const char <code class="par">*textP</code>
)
</pre>
<h4>
  <a name="993741"> </a>Parameters 
</h4>

<dl>
<dt><a name="993794"> </a><code>&rarr;  <i>positionId</i></code></dt>
<dd><a name="996981"> </a>ID of an existing menu item. The new menu item is added after this menu item. </dd>

<dt><a name="996982"> </a><code>&rarr;  <i>id</i></code></dt>
<dd><a name="996983"> </a>ID value to use for the new menu item. </dd>

<dt><a name="996984"> </a><code>&rarr;  <i>cmd</i></code></dt>
<dd><a name="996985"> </a>Menu command shortcut key. If you provide menu shortcuts, make sure that each shortcut is unique among all commands available at that time. </dd>

<dt><a name="996986"> </a><code>&rarr;  <i>textP</i></code></dt>
<dd><a name="996987"> </a>Pointer to the text to display for this menu item, including the menu shortcut key. To include a shortcut key, begin the string with the item's text, then type a tab character, and then the item's shortcut key. </dd>

<dd><a name="996988"> </a>To create a separator bar, create a one-character string containing the <code>MenuSeparatorChar</code> constant. </dd>

</dl>
<h4>
  <a name="996990"> </a>Returns 
</h4>

<p><a name="996991"> </a><code>errNone</code> upon success or one of the following if an error occurs:</p>

<dl>
<dt><a name="996993"> </a><code>menuErrNoMenu</code></dt>
<dd><a name="996994"> </a>The <code class="par">textP</code> parameter is <code>NULL</code>. </dd>

<dt><a name="996996"> </a><code>menuErrSameId</code></dt>
<dd><a name="996997"> </a>The menu already contains an item with the ID <code class="par">id</code>. </dd>

<dt><a name="996999"> </a><code>menuErrNotFound</code></dt>
<dd><a name="997000"> </a>The menu doesn't contain an item with the ID <code class="par">positionId</code>. </dd>

</dl>
<h4>
  <a name="997002"> </a>Comments 
</h4>

<p><a name="997016"> </a>You should call this function only in response to a <a href="UI_Menu.html#996648"><code>menuOpenEvent</code></a>. This event is generated when the menu is first made active. In general, a form's menu becomes active the first time a <a href="../Input_Services/In_LowEvents.html#993792"><code>keyDownEvent</code></a> with a <code>vchrMenu</code> or <code>vchrCommand</code> is generated, and it remains active until a new form (including a modal form or alert panel) is displayed or until <a href="UI_Form.html#1003742"><code>FrmSetMenu()</code></a> is called to change the form's menu. Palm OS<sup>&#174;</sup> user interface guidelines discourage adding or hiding menu items at any time other than when the menu is first made active. </p>

<div><hr>
  <a name="1017381"> </a> <span class="warning">WARNING! </span> The system may need to resize and move the menu's memory block as a result of this function, invalidating any pointer to the menu. Call <a href="UI_Menu.html#994672"><code>MenuGetActiveMenu()</code></a> after calling this function to obtain a pointer to the menu's new location. 
<hr>
</div>

<p><a name="1012697"> </a>This function may display a fatal error message if there is no current menu. </p>

<h3 class="hbH3">
  <a name="993982"> </a>MenuCmdBarAddButton Function <a href="#993254"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="993987"> </a>Purpose 
</h4>

<p><a name="997112"> </a>Defines a button to be displayed on the command tool bar. </p>
<h4>
  <a name="993992"> </a>Declared In 
</h4>
<code>Menu.h<a name="993995"> </a></code><h4>
  <a name="993997"> </a>Prototype 
</h4>
<pre class="proto"><a name="994000"></a>status_t MenuCmdBarAddButton (
   uint8_t <code class="par">where</code>,
   DmOpenRef <code class="par">database</code>,
   uint16_t <code class="par">bitmapId</code>,
   MenuCmdBarResultType <code class="par">resultType</code>,
   uint32_t <code class="par">result</code>,
   char <code class="par">*nameP</code>
)
</pre>
<h4>
  <a name="994002"> </a>Parameters 
</h4>

<dl>
<dt><a name="994005"> </a><code>&rarr;  <i>where</i></code></dt>
<dd><a name="997117"> </a>Either <code>menuCmdBarOnLeft</code> to add the button to the left of the other buttons on the command tool bar, <code>menuCmdBarOnRight</code> to add it to the right of the other buttons, or a number indicating the exact position of the button. Button positions are numbered from right to left, and the rightmost position is number 1. </dd>

<dd><a name="1012723"> </a>It is best to add buttons on the left side. If you add buttons to the right, this function moves all existing buttons over one position to the left. </dd>

<dd><a name="1018114"> </a>If you specify an exact position, this function adds buttons to the first open slot if you don't specify buttons in order. That is, if you add a button at position 3 and there are no buttons at positions 1 and 2, this function adds the button at position 1. </dd>

<dt><a name="994009"> </a><code>&rarr;  <i>database</i></code></dt>
<dd><a name="994015"> </a>Open resource database containing <code class="par">bitmapId</code>. </dd>

<dt><a name="994017"> </a><code>&rarr;  <i>bitmapId</i></code></dt>
<dd><a name="997200"> </a>Resource ID of the bitmap to display on the button. The bitmap's dimensions should be 13 standard coordinates high by 16 standard coordinates wide.</dd>

<dt><a name="994021"> </a><code>&rarr;  <i>resultType</i></code></dt>
<dd><a name="997263"> </a>The type of data contained in the <code class="par">result</code> parameter. See <a href="UI_Menu.html#995170"><code>MenuCmdBarResultType</code></a>. </dd>

<dt><a name="997267"> </a><code>&rarr;  <i>result</i></code></dt>
<dd><a name="997268"> </a>The data to send when the user taps this button. This can be a character, a menu item ID, or a notification constant. </dd>

<dt><a name="997269"> </a><code>&rarr;  <i>nameP</i></code></dt>
<dd><a name="997270"> </a>Pointer to the text to display in the status message if the user taps the button. If <code>NULL</code>, the text is taken from the menu item that matches the ID or shortcut character contained in <code class="par">result</code>, if a match is found. </dd>

<dd><a name="997271"> </a>If you supply a text buffer for this parameter, <code>MenuCmdBarAddButton()</code> makes a copy of the buffer. </dd>

</dl>
<h4>
  <a name="994033"> </a>Returns 
</h4>

<p><a name="997337"> </a><code>errNone</code> upon success, or one of the following error codes:</p>

<dl>
<dt><a name="997339"> </a><code>menuErrOutOfMemory</code></dt>
<dd><a name="997340"> </a>There is not enough memory available to perform the operation. </dd>

<dt><a name="997342"> </a><code>menuErrTooManyItems</code></dt>
<dd><a name="997343"> </a>The command tool bar already has the maximum number of buttons allowed (currently 8). </dd>

</dl>
<h4>
  <a name="997344"> </a>Comments 
</h4>

<p><a name="997349"> </a>Call this function in response to a <a href="UI_Menu.html#996588"><code>menuCmdBarOpenEvent</code></a> or to the notification <a href="UI_Menu.html#996698"><code>sysNotifyMenuCmdBarOpenEvent</code></a>. Both of these signal that the user has written the menu command stroke in the input area and the command tool bar is about to open. Your response should be to add buttons to the tool bar and to return <code>false</code>, indicating that you have not completely handled the event. </p>

<p><a name="997355"> </a>The <code>sysNotifyMenuCmdBarOpenEvent</code> notification is intended to be used only by shared libraries, system extensions, and other code resources that do not use an event loop. If you're writing an application, always respond to the event instead of the notification; an application should only add buttons to the tool bar if it is the current application. If you register for the notification, you receive it each time the command tool bar is displayed, whether your application is active or not. </p>

<p><a name="997356"> </a>Note that the command tool bar is allocated each time it is opened and is deallocated when it is erased from the screen. </p>

<p><a name="997409"> </a>The <code class="par">result</code> and <code class="par">resultType</code> parameters specify what the result should be if the user taps the button. <code class="par">result</code> contains the actual data, and <code class="par">resultType</code> contains a constant that specifies the type of data in <code class="par">result</code>. Typically, the result is to enqueue a <a href="UI_Menu.html#996623"><code>menuEvent</code></a>. In this case, <code class="par">resultType</code> is <code>menuCmdBarResultMenuItem</code> and the <code class="par">result</code> is the ID of the menu item that should included in the event. </p>

<p><a name="997415"> </a>You may also specify the shortcut character instead of the menu ID; however, doing so is inefficient. When <code class="par">result</code> is a shortcut character, the <a href="UI_Menu.html#994712"><code>MenuHandleEvent()</code></a> function enqueues a <a href="../Input_Services/In_LowEvents.html#993792"><code>keyDownEvent</code></a> with the character in <code class="par">result</code>. During the next cycle of the event loop, <code>MenuHandleEvent()</code> enqueues a <code>menuEvent</code> in response to the <code>keyDownEvent</code>. Thus, it is better to have your button enqueue the <code>menuEvent</code> directly. </p>

<p><a name="997424"> </a>If you call <code>MenuCmdBarAddButton()</code> outside of an application, you might not know of any menu items in the active menu (unless your code has added one using <a href="UI_Menu.html#993721"><code>MenuAddItem()</code></a>). In this case, specify a notification to be broadcast. The notification is broadcast at the top of the next event loop, and it must contain no custom data. (Applications may also use the notification result type.) </p>
<h4>
  <a name="997429"> </a>See Also 
</h4>

<p><a name="997436"> </a><a href="UI_Menu.html#994048"><code>MenuCmdBarDisplay()</code></a>, <a href="UI_Menu.html#994088"><code>MenuCmdBarGetButtonData()</code></a> </p>

<h3 class="hbH3">
  <a name="994048"> </a>MenuCmdBarDisplay Function <a href="#993254"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="994053"> </a>Purpose 
</h4>

<p><a name="997608"> </a>Displays the command tool bar.</p>
<h4>
  <a name="994058"> </a>Declared In 
</h4>
<code>Menu.h<a name="994061"> </a></code><h4>
  <a name="994063"> </a>Prototype 
</h4>
<pre class="proto"><a name="994066"></a>void MenuCmdBarDisplay (
   void
)
</pre>
<h4>
  <a name="994068"> </a>Parameters 
</h4>

<p><a name="994071"> </a>None.</p>
<h4>
  <a name="994073"> </a>Returns 
</h4>

<p><a name="997668"> </a>Nothing. </p>
<h4>
  <a name="997669"> </a>Comments 
</h4>

<p><a name="997670"> </a>This function displays the command tool bar when the user enters the command keystroke. You normally do not call this function in your own code. <a href="UI_Form.html#1000647"><code>FrmHandleEvent()</code></a> calls it at the end of its handling of <a href="UI_Menu.html#996588"><code>menuCmdBarOpenEvent</code></a>. </p>
<h4>
  <a name="997675"> </a>See Also 
</h4>

<p><a name="997682"> </a><a href="UI_Menu.html#993982"><code>MenuCmdBarAddButton()</code></a>, <a href="UI_Menu.html#994088"><code>MenuCmdBarGetButtonData()</code></a> </p>

<h3 class="hbH3">
  <a name="994088"> </a>MenuCmdBarGetButtonData Function <a href="#993254"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="994093"> </a>Purpose 
</h4>

<p><a name="997728"> </a>Gets the data for a given command button. </p>
<h4>
  <a name="994098"> </a>Declared In 
</h4>
<code>Menu.h<a name="994101"> </a></code><h4>
  <a name="994103"> </a>Prototype 
</h4>
<pre class="proto"><a name="1002527"></a>Boolean MenuCmdBarGetButtonData (
   int16_t <code class="par">buttonIndex</code>,
   DmOpenRef <code class="par">*databaseP</code>,
   uint16_t <code class="par">*bitmapIdP</code>,
   MenuCmdBarResultType <code class="par">*resultTypeP</code>,
   uint32_t <code class="par">*resultP</code>,
   char <code class="par">*nameP</code>
)
</pre>
<h4>
  <a name="994124"> </a>Parameters 
</h4>

<dl>
<dt><a name="994177"> </a><code>&rarr;  <i>buttonIndex</i></code></dt>
<dd><a name="997772"> </a>Index of the button for which you want to obtain information. Buttons are ordered from right to left, with the rightmost button at index 0. </dd>

<dt><a name="1013122"> </a><code>&larr;  <i>databas<code class="par">eP</code></i></code></dt>
<dd><a name="1013123"> </a>Open resource database that contains <code class="par">bitmapId</code>. Pass <code>NULL</code> if you don't want to retrieve this value. </dd>

<dt><a name="997780"> </a><code>&larr;  <i>bitmapIdP</i></code></dt>
<dd><a name="997781"> </a>The resource ID of the bitmap displayed on the button. Pass <code>NULL</code> if you don't want to retrieve this value. </dd>

<dt><a name="997782"> </a><code>&larr;  <i>resultTypeP</i></code></dt>
<dd><a name="997783"> </a>The type of action this button takes. Pass <code>NULL</code> if you don't want to retrieve this value. </dd>

<dt><a name="997784"> </a><code>&larr;  <i>resultP</i></code></dt>
<dd><a name="997785"> </a>The result of tapping the button. Pass <code>NULL</code> if you don't want to retrieve this information. </dd>

<dt><a name="997786"> </a><code>&larr;  <i>nameP</i></code></dt>
<dd><a name="997787"> </a>The text displayed in the status message when this button is tapped. Pass <code>NULL</code> if you don't want to retrieve this information. If not <code>NULL</code>, <code class="par">nameP</code> must point to a string of <code>menuCmdBarMaxTextLength</code> size. </dd>

</dl>
<h4>
  <a name="997789"> </a>Returns 
</h4>

<p><a name="997790"> </a><code>true</code> if the information was retrieved successfully, <code>false</code> if there is no command tool bar or if there is no button at <code class="par">buttonIndex</code>. </p>
<h4>
  <a name="997791"> </a>Comments 
</h4>

<p><a name="997792"> </a>You can use this function to retrieve information about the buttons that are displayed on the command tool bar. If the command tool bar has not yet been initialized, this function returns <code>false</code>. </p>

<p><a name="997793"> </a>Note that the command tool bar is allocated when the user enters the command keystroke and deallocated when <a href="UI_Menu.html#994546"><code>MenuEraseStatus()</code></a> is called. Thus, the only logical place to call <code>MenuCmdBarGetButtonData()</code> is in response to a <a href="UI_Menu.html#996588"><code>menuCmdBarOpenEvent</code></a> or a <a href="UI_Menu.html#996698"><code>sysNotifyMenuCmdBarOpenEvent</code></a> notification. </p>
<h4>
  <a name="997806"> </a>See Also 
</h4>

<p><a name="997813"> </a><a href="UI_Menu.html#994048"><code>MenuCmdBarDisplay()</code></a>, <a href="UI_Menu.html#993982"><code>MenuCmdBarAddButton()</code></a> </p>

<h3 class="hbH3">
  <a name="994382"> </a>MenuDispose Function <a href="#993254"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="994391"> </a>Purpose 
</h4>

<p><a name="997821"> </a>Releases any memory allocated to the menu and the command status and restore any saved bits to the screen.</p>
<h4>
  <a name="994404"> </a>Declared In 
</h4>
<code>Menu.h<a name="994415"> </a></code><h4>
  <a name="994425"> </a>Prototype 
</h4>
<pre class="proto"><a name="994436"></a>void MenuDispose (
   MenuBarType <code class="par">*menuP</code>
)
</pre>
<h4>
  <a name="994446"> </a>Parameters 
</h4>

<dl>
<dt><a name="997825"> </a><code>&rarr;  <i><code class="par">menuP</code></i></code></dt>
<dd><a name="997829"> </a>Pointer to the menu to dispose. If <code>NULL</code>, this function returns immediately. </dd>

</dl>
<h4>
  <a name="997830"> </a>Returns 
</h4>

<p><a name="997831"> </a>Nothing.</p>
<h4>
  <a name="997832"> </a>Comments 
</h4>

<p><a name="997833"> </a>Most applications do not need to call this function directly. <code>MenuDispose()</code> is called by the system when the form that contains the menu is no longer the active form, when the form that contains the menu is freed, and when <a href="UI_Form.html#1003742"><code>FrmSetMenu()</code></a> is called to change the form's menu bar. </p>
<h4>
  <a name="997837"> </a>See Also 
</h4>

<p><a name="997844"> </a><a href="UI_Menu.html#994856"><code>MenuInit()</code></a>, <a href="UI_Menu.html#994504"><code>MenuDrawMenu()</code></a></p>

<h3 class="hbH3">
  <a name="994504"> </a>MenuDrawMenu Function <a href="#993254"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="994509"> </a>Purpose 
</h4>

<p><a name="997908"> </a>Requests that the current menu bar and the last pull-down that was visible be drawn or redrawn.</p>
<h4>
  <a name="994514"> </a>Declared In 
</h4>
<code>Menu.h<a name="994517"> </a></code><h4>
  <a name="994519"> </a>Prototype 
</h4>
<pre class="proto"><a name="994522"></a>void MenuDrawMenu (
   MenuBarType <code class="par">*menuP</code>
)
</pre>
<h4>
  <a name="994524"> </a>Parameters 
</h4>

<dl>
<dt><a name="1013546"> </a><code>&rarr;  <i>menuP</i></code></dt>
<dd><a name="1013547"> </a>Pointer to a menu bar. </dd>

</dl>
<h4>
  <a name="1013548"> </a>Returns 
</h4>

<p><a name="997942"> </a>Nothing.</p>
<h4>
  <a name="997943"> </a>Comments 
</h4>

<p><a name="997944"> </a>Invalidates the windows for the menu bar and the pull-down menu that was last visible so that they are later redrawn. </p>

<p><a name="1013407"> </a>Most applications do not need to call this function directly. <a href="UI_Menu.html#994712"><code>MenuHandleEvent()</code></a> calls <code>MenuDrawMenu()</code> when the user taps the Menu icon or the form's title bar. </p>

<p><a name="997949"> </a>The menu bar and the pull-down menu are drawn in front of all the application windows. </p>

<p><a name="997950"> </a>A menu keeps track of the last pull-down menu displayed for as long as the menu is active. A menu loses its active status under these conditions:</p>
<ul type="disc">
  <li><a name="997955"> </a>When <a href="UI_Form.html#1003742"><code>FrmSetMenu()</code></a> is called to change the active menu on the form. 
  <li><a name="997956"> </a>When a new form, even a modal form or alert panel, becomes active.
</ul>

<p><a name="997957"> </a>Suppose a user selects your application's About item from the Options menu then clicks the OK button to return to the main form. When the About dialog is displayed, it becomes the active form, which causes the main form's menu state to be erased. This menu state is not restored when the main form becomes active again. The next time <code>MenuDrawMenu()</code> is called (that is, the next time the user taps the Menu silk-screen button), the menu bar is displayed as it was before, and the first pull-down menu listed in the menu bar is displayed instead of the Options pull-down menu. </p>
<h4>
  <a name="997958"> </a>See Also 
</h4>

<p><a name="997965"> </a><a href="UI_Menu.html#994856"><code>MenuInit()</code></a>, <a href="UI_Menu.html#994382"><code>MenuDispose()</code></a></p>

<h3 class="hbH3">
  <a name="994546"> </a>MenuEraseStatus Function <a href="#993254"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="994551"> </a>Purpose 
</h4>

<p><a name="998047"> </a>Erases the menu command status.</p>
<h4>
  <a name="994556"> </a>Declared In 
</h4>
<code>Menu.h<a name="994559"> </a></code><h4>
  <a name="994561"> </a>Prototype 
</h4>
<pre class="proto"><a name="994564"></a>void MenuEraseStatus (
   MenuBarType <code class="par">*menuP</code>
)
</pre>
<h4>
  <a name="994566"> </a>Parameters 
</h4>

<dl>
<dt><a name="998111"> </a><code>&rarr;  <i>menuP</i></code></dt>
<dd><a name="998115"> </a>Pointer to a menu bar, or <code>NULL</code> for the current menu.</dd>

</dl>
<h4>
  <a name="998116"> </a>Returns 
</h4>

<p><a name="998117"> </a>Nothing.</p>
<h4>
  <a name="998118"> </a>Comments 
</h4>

<p><a name="998119"> </a>When the user selects a menu command using the command keystroke, the command tool bar is displayed at the bottom of the screen. <code>MenuEraseStatus()</code> erases the tool bar. </p>

<p><a name="998120"> </a>You do not need to call this function explicitly. Let the current menu command status remove itself automatically. Otherwise, you may cause text to be erased before the user has a chance to see it. In Palm OS Cobalt, the menu command bar draws in its own window and does not interfere with your application's drawing. </p>
<h4>
  <a name="998122"> </a>See Also 
</h4>

<p><a name="998126"> </a><a href="UI_Menu.html#994856"><code>MenuInit()</code></a> </p>

<h3 class="hbH3">
  <a name="994672"> </a>MenuGetActiveMenu Function <a href="#993254"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="994677"> </a>Purpose 
</h4>

<p><a name="998197"> </a>Returns a pointer to the currently active menu.</p>
<h4>
  <a name="994682"> </a>Declared In 
</h4>
<code>Menu.h<a name="994685"> </a></code><h4>
  <a name="994687"> </a>Prototype 
</h4>
<pre class="proto"><a name="994690"></a>MenuBarType *MenuGetActiveMenu (
   void
)
</pre>
<h4>
  <a name="994692"> </a>Parameters 
</h4>

<p><a name="994695"> </a>None.</p>
<h4>
  <a name="994697"> </a>Returns 
</h4>

<p><a name="998233"> </a>A pointer to the currently active menu, or <code>NULL</code> if there is none.</p>
<h4>
  <a name="998234"> </a>Comments 
</h4>

<p><a name="998235"> </a>An active menu is not necessarily visible on the screen. A menu might be active but not visible, for example, if a menu command shortcut has been entered. In general, a form's menu becomes active the first time a <a href="../Input_Services/In_LowEvents.html#993792"><code>keyDownEvent</code></a> with a <code>vchrMenu</code> or <code>vchrCommand</code> is generated, and it remains active until a new form (including a modal form or alert panel) is displayed or until <a href="UI_Form.html#1003742"><code>FrmSetMenu()</code></a> is called to change the form's menu. </p>
<h4>
  <a name="998251"> </a>See Also 
</h4>

<p><a name="998258"> </a><a href="UI_Menu.html#994712"><code>MenuHandleEvent()</code></a>, <a href="UI_Menu.html#994923"><code>MenuSetActiveMenu()</code></a> </p>

<h3 class="hbH3">
  <a name="994712"> </a>MenuHandleEvent Function <a href="#993254"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="994717"> </a>Purpose 
</h4>

<p><a name="998311"> </a>Handles events in the current menu. </p>
<h4>
  <a name="994722"> </a>Declared In 
</h4>
<code>Menu.h<a name="994725"> </a></code><h4>
  <a name="994727"> </a>Prototype 
</h4>
<pre class="proto"><a name="994730"></a>Boolean MenuHandleEvent (
   MenuBarType <code class="par">*menuP</code>,
   EventType <code class="par">*event</code>,
   status_t <code class="par">*error</code>
)
</pre>
<h4>
  <a name="994732"> </a>Parameters 
</h4>

<dl>
<dt><a name="1013594"> </a><code>&rarr;  <i>menuP</i></code></dt>
<dd><a name="1013595"> </a>Pointer to a menu bar.</dd>

<dt><a name="1013596"> </a><code>&rarr;  <i>event</i></code></dt>
<dd><a name="998330"> </a>Pointer to an <a href="../Programming_Basics/Event.html#992950"><code>EventType</code></a> structure.</dd>

<dt><a name="1013590"> </a><code>&larr;  <i>error</i></code></dt>
<dd><a name="1013591"> </a>Error (or <code>errNone</code> if no error). Currently this function always sets <code class="par">error</code> to zero.</dd>

</dl>
<h4>
  <a name="998333"> </a>Returns 
</h4>

<p><a name="998334"> </a><span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">true</span> if the event is handled; <code>false</code> otherwise. </p>
<h4>
  <a name="998341"> </a>Comments 
</h4>

<p><a name="1013660"> </a>The following cases will result in a return value of <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">true</span>:</p>
<ul type="disc">
  <li><a name="1013665"> </a>A <a href="../Input_Services/In_LowEvents.html#994048"><code>penDownEvent</code></a> or <a href="../Input_Services/In_LowEvents.html#994072"><code>penMoveEvent</code></a>. If the pen is within the bounds of the menu bar, the selected menu title is inverted and the appropriate pull-down menu is drawn. Any previous pull-down menu is erased. If the pen is within the bounds of a pull-down menu, inverts the selected menu item and removes the selection from any previously selected menu item. If a pull-down menu is currently displayed and the pen is down outside the bounds of the menu, the menu is dismissed. 
  <li><a name="1013674"> </a>A <a href="../Input_Services/In_LowEvents.html#994097"><code>penUpEvent</code></a>. If the pen is up within the bounds of the menu bar, erases the current pull-down menu. If the pen is within the bounds of a menu item in a pull-down menu, sends a <a href="UI_Menu.html#996623"><code>menuEvent</code></a> containing the resource ID of the selected menu item. If the pen is up outside the bounds of the menu bar and menu resources, they are both erased and no item is selected. 
  <li><a name="998356"> </a><a href="../Input_Services/In_LowEvents.html#993792"><code>keyDownEvent</code></a> containing <code>vChrCommand</code> or <code>vchrMenu</code>. If the menu is being activated and initialized for the first time, this function enqueues a <a href="UI_Menu.html#996648"><code>menuOpenEvent</code></a> containing the reason the menu was initialized (<code>menuButtonCause</code> for a <code>vchrMenu</code> or <code>menuCommandCause</code> for a <code>vchrCommand</code>), and then the current event is added after it. 
   <p><a name="1014960"> </a>For <code>vchrCommand</code>, this function sends a <a href="UI_Menu.html#996588"><code>menuCmdBarOpenEvent</code></a>. </p>
  <li><a name="1014964"> </a><a href="UI_Window.html#1357696"><code>winUpdateEvent</code></a>. Redraws the currently displayed menu bar and pull-down menu. 
</ul>

<h3 class="hbH3">
  <a name="1014967"> </a>MenuHideItem Function <a href="#993254"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="994819"> </a>Purpose 
</h4>

<p><a name="998480"> </a>Hides the specified menu item. </p>
<h4>
  <a name="994824"> </a>Declared In 
</h4>
<code>Menu.h<a name="994827"> </a></code><h4>
  <a name="994829"> </a>Prototype 
</h4>
<pre class="proto"><a name="994832"></a>Boolean MenuHideItem (
   uint16_t <code class="par">id</code>
)
</pre>
<h4>
  <a name="994834"> </a>Parameters 
</h4>

<dl>
<dt><a name="998484"> </a><code>&rarr;  <i>id</i></code></dt>
<dd><a name="998485"> </a>ID of the menu item to hide. </dd>

</dl>
<h4>
  <a name="998486"> </a>Returns 
</h4>

<p><a name="998487"> </a><code>true</code> if the item was successfully hidden, <code>false</code> otherwise. </p>
<h4>
  <a name="998488"> </a>Comments 
</h4>

<p><a name="998493"> </a>You should call this function only in response to a <a href="UI_Menu.html#996648"><code>menuOpenEvent</code></a>. This event is generated when the menu is first made active. In general, a form's menu becomes active the first time a <a href="../Input_Services/In_LowEvents.html#993792"><code>keyDownEvent</code></a> with a <code>vchrMenu</code> or <code>vchrCommand</code> is generated, and it remains active until a new form (including a modal form or alert panel) is displayed or until <a href="UI_Form.html#1003742"><code>FrmSetMenu()</code></a> is called to change the form's menu. Palm OS user interface guidelines discourage adding or hiding menu items at any time other than when the menu is first made active. </p>
<h4>
  <a name="998502"> </a>See Also 
</h4>

<p><a name="998506"> </a><a href="UI_Menu.html#995011"><code>MenuShowItem()</code></a> </p>

<h3 class="hbH3">
  <a name="994856"> </a>MenuInit Function <a href="#993254"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="994861"> </a>Purpose 
</h4>

<p><a name="998545"> </a>Loads a menu resource from a resource file.</p>
<h4>
  <a name="994866"> </a>Declared In 
</h4>
<code>Menu.h<a name="994869"> </a></code><h4>
  <a name="994871"> </a>Prototype 
</h4>
<pre class="proto"><a name="994874"></a>MenuBarType *MenuInit (
   DmOpenRef <code class="par">database</code>,
   uint16_t <code class="par">resourceId</code>
)
</pre>
<h4>
  <a name="994876"> </a>Parameters 
</h4>

<dl>
<dt><a name="994879"> </a><code>&rarr;  <i>database</i></code></dt>
<dd><a name="994881"> </a>Open resource database containing the menu. </dd>

<dt><a name="994883"> </a><code>&rarr;  <i>resourceId</i></code></dt>
<dd><a name="998581"> </a>ID that identifies the menu resource.</dd>

</dl>
<h4>
  <a name="998582"> </a>Returns 
</h4>

<p><a name="998583"> </a>A pointer to a <code>MenuBarType</code> structure. </p>
<h4>
  <a name="998587"> </a>Comments 
</h4>

<p><a name="998592"> </a>The menu is not usable until <a href="UI_Menu.html#994923"><code>MenuSetActiveMenu()</code></a> is called.</p>

<p><a name="998593"> </a>Typically, you do not need to call this function directly. A form stores the resource ID of the menu associated with it and initializes that menu as necessary. If you want to change the form's menu, call <a href="UI_Form.html#1003742"><code>FrmSetMenu()</code></a>, which handles disposing of the form's current menu, associating the new menu with the form, and initializing when needed. </p>
<h4>
  <a name="998598"> </a>See Also 
</h4>

<p><a name="998605"> </a><a href="UI_Menu.html#994923"><code>MenuSetActiveMenu()</code></a>, <a href="UI_Menu.html#994382"><code>MenuDispose()</code></a></p>

<h3 class="hbH3">
  <a name="994923"> </a>MenuSetActiveMenu Function <a href="#993254"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="994928"> </a>Purpose 
</h4>

<p><a name="998648"> </a>Sets the current menu.</p>
<h4>
  <a name="994933"> </a>Declared In 
</h4>
<code>Menu.h<a name="994936"> </a></code><h4>
  <a name="994938"> </a>Prototype 
</h4>
<pre class="proto"><a name="994941"></a>MenuBarType *MenuSetActiveMenu (
   MenuBarType <code class="par">*menuP</code>
)
</pre>
<h4>
  <a name="994943"> </a>Parameters 
</h4>

<dl>
<dt><a name="998698"> </a><code>&rarr;  <i>menuP</i></code></dt>
<dd><a name="998699"> </a>Pointer to the structure that contains the new menu, or <code>NULL</code> for none. </dd>

</dl>
<h4>
  <a name="998700"> </a>Returns 
</h4>

<p><a name="998701"> </a>A pointer to the menu that was active before the new menu was set, or <code>NULL</code> if no menu was active.</p>
<h4>
  <a name="998702"> </a>Comments 
</h4>

<p><a name="998703"> </a>This function sets the active menu but does not associate it with a form. It's recommended that you call <a href="UI_Form.html#1003742"><code>FrmSetMenu()</code></a> instead of <code>MenuSetActiveMenu()</code>. <code>FrmSetMenu()</code> sets the active menu, frees the old menu, and associates the newly active menu with the form, which means the menu will be freed when the form is freed. </p>
<h4>
  <a name="998708"> </a>See Also 
</h4>

<p><a name="998713"> </a><a href="UI_Menu.html#994672"><code>MenuGetActiveMenu()</code></a> </p>

<h3 class="hbH3">
  <a name="994965"> </a>MenuSetActiveMenuRscID Function <a href="#993254"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="994970"> </a>Purpose 
</h4>

<p><a name="998749"> </a>Sets the current menu by resource ID.</p>
<h4>
  <a name="994975"> </a>Declared In 
</h4>
<code>Menu.h<a name="994978"> </a></code><h4>
  <a name="994980"> </a>Prototype 
</h4>
<pre class="proto"><a name="994983"></a>void MenuSetActiveMenuRscID (
   DmOpenRef <code class="par">database</code>,
   uint16_t <code class="par">resourceId</code>
)
</pre>
<h4>
  <a name="994985"> </a>Parameters 
</h4>

<dl>
<dt><a name="994988"> </a><code>&rarr;  <i>database</i></code></dt>
<dd><a name="1015098"> </a>Open resource database containing the menu. </dd>

<dt><a name="998765"> </a><code>&rarr;  <i>resourceId</i></code></dt>
<dd><a name="998766"> </a>Resource ID of the menu to be made active. </dd>

</dl>
<h4>
  <a name="998767"> </a>Returns 
</h4>

<p><a name="998768"> </a>Nothing. </p>
<h4>
  <a name="998769"> </a>Comments 
</h4>

<p><a name="998773"> </a>This function is similar to <a href="UI_Menu.html#994923"><code>MenuSetActiveMenu()</code></a> except that you pass the menu's resource ID instead of a pointer to a menu structure. It is used as an optimization; with <code>MenuSetActiveMenu()</code>, you must initialize the menu before making it active. Potentially, the application may exit before the menu is needed, making this memory allocation unnecessary. <span style="color: #000000;  font-family: Courier; font-style: normal; font-weight: normal; text-decoration: none; text-transform: none; vertical-align: baseline">MenuSetActiveMenuRscID()</span> simply stores the resource ID. The next time a menu is requested, the menu is initialized from this resource. </p>

<p><a name="998777"> </a>It's recommended that you call <a href="UI_Form.html#1003742"><code>FrmSetMenu()</code></a> instead of calling this function for the reasons given in <code>MenuSetActiveMenu()</code>. </p>

<h3 class="hbH3">
  <a name="995011"> </a>MenuShowItem Function <a href="#993254"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="995020"> </a>Purpose 
</h4>

<p><a name="998783"> </a>Makes the specified menu item visible. </p>
<h4>
  <a name="995025"> </a>Declared In 
</h4>
<code>Menu.h<a name="995028"> </a></code><h4>
  <a name="995030"> </a>Prototype 
</h4>
<pre class="proto"><a name="995033"></a>Boolean MenuShowItem (
   uint16_t <code class="par">id</code>
)
</pre>
<h4>
  <a name="995035"> </a>Parameters 
</h4>

<dl>
<dt><a name="995038"> </a><code>&rarr;  <i>id</i></code></dt>
<dd><a name="998787"> </a>ID of the menu item to display. </dd>

</dl>
<h4>
  <a name="998788"> </a>Returns 
</h4>

<p><a name="998789"> </a><code>true</code> if the <code>hidden</code> attribute of the specified item was successfully disabled, <code>false</code> otherwise. </p>
<h4>
  <a name="998790"> </a>Comments 
</h4>

<p><a name="998795"> </a>You should call this function only in response to a <a href="UI_Menu.html#996648"><code>menuOpenEvent</code></a>. This event is generated when the menu is first made active. In general, a form's menu becomes active the first time a <a href="../Input_Services/In_LowEvents.html#993792"><code>keyDownEvent</code></a> with a <code>vchrMenu</code> or <code>vchrCommand</code> is generated, and it remains active until a new form (including a modal form or alert panel) is displayed or until <a href="UI_Form.html#1003742"><code>FrmSetMenu()</code></a> is called to change the form's menu. Palm OS user interface guidelines discourage adding or hiding menu items at any time other than when the menu is first made active. </p>
<h4>
  <a name="998804"> </a>See Also 
</h4>

<p><a name="998808"> </a><a href="UI_Menu.html#1014967"><code>MenuHideItem()</code></a> </p>

<p><a name="993250"> </a></p>
&nbsp;<br>
</div>
<!--END CONTENT-->

</td>
<td width="5">&nbsp;&nbsp;</td>
</tr>

</table>

<!-- BEGIN FOOTER -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="7" rowspan="2"><img name="index_x" src="images/shim.gif" width="7" height="33" border="0" alt=""></td>
<td align="left"><img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
<td width="10" rowspan="2"><img name="index_x" src="images/shim.gif" width="10" height="33" border="0" alt=""></td>
</tr>
<tr>
<td align="center">
<p class="footer">
Copyright © 2003&#8211;2004, PalmSource, Inc. and its affiliates. All rights reserved.<br>
<a href="http://www.palmsource.com/contact/">Write Us</a> | <a href="http://www.palmos.com/dev/training/">Training</a> | <a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a> | <a href="UI_Front.html" target="_blank">Legal</a></p>
<br>
<!--BEGIN BOOK NAVIGATION-->
<p class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="UI_TOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="UI_List.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="UI_PhoneLookup.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="UI_IX.html">Index</a>
</p>
</td>
</tr>
</table>
<!-- END FOOTER -->

</body>
</html>