<html>
<head>
<title>(Protein) 68K Application Compatibility | Porting Applications to Palm OS&#174; Cobalt</title> 
<link href="psi_devpubs.css" rel="stylesheet" type="text/css">

<!-- BEGIN META DATA -->
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META NAME="PSITEMPLATE" CONTENT="1006-007 PalmSource_HTML_2003 20041101">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks AutoMap 2003 for FrameMaker 8.0.6.2138">
<META NAME="LASTUPDATED" CONTENT="11/22/04 11:19:06">
<!-- END META DATA -->
</head>

<body bgcolor="#ffffff" text="#000000" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<a name="608590"></a>

<!-- BEGIN TOPNAV -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td><img src="images/shim.gif" width="7" height="75" border="0" alt=""></td>
<td align="left"><table border="0" cellpadding="0" cellspacing="0" width="744">
<tr>
<td><img name="index_r2_c1" src="images/shim.gif" width="25" height="75" border="0" alt=""></td>
<td valign="top"><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_r2_c4" src="images/shim.gif" width="96" height="15" border="0" alt=""></td>
</tr>
<tr>
<td><a href="http://www.palmsource.com/"><img name="ps_logo" src="images/ps_logo.gif" width="96" height="54" border="0" alt=""></a></td>
</tr>

</table>
</td>

<td><table border="0" cellpadding="0" cellspacing="0" width="30">
<td><img name="index_x" src="images/shim.gif" width="30" height="75" border="0" alt=""></td>
</table></td>

<!--BEGIN MASTHEAD-->
<td><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
<tr>
<td>
<!--BEGIN BOOK NAVIGATION-->
<span class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="PortingPalmAppsTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="PortingPalmApps_Part1.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="PortingProcess.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
</span>
<!--END BOOK NAVIGATION-->
</tr>
<tr>
<td>
<!--BEGIN PAGE TITLE-->
<h2 class="PageTitle">1 &nbsp;&nbsp;
68K Application Compatibility</h2></td>
<!--END PAGE TITLE-->
</tr>
<tr>
<td>
<!--BEGIN BOOK TITLE-->
<p class="BookTitle">Porting Applications to Palm OS&#174; Cobalt</p>
<p class="SubTitle">Exploring Palm OS&#174; </p>
<!--END BOOK TITLE-->
</td>
</tr>
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
</table>
</td>
<!--END MASTHEAD-->
</tr>
</table>
<img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
</tr>
</table>
<!-- END TOPNAV -->

<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" width="5"><img name="index_x" src="images/shim.gif" width="5" height="33" border="0" alt=""></td>

<!--BEGIN SIDETOC-->
<td valign="top" width="175">
<div id="sidetoc" valign="bottom">
<h1 class="SideTOC1-PartTab"><a href="PortingPalmApps_Part1.html">Part I: Porting Techniques</a> </h1>
<h1 class="SideTOC1"><a href="PACE.html">1  68K Application Compatibility</a></h1>

   <h2 class="SideTOC2"><a href="#993032">
   Design Objectives</a></h2>

      <h3 class="SideTOC3"><a href="#1001242">
      Performance</a></h3>

      <h3 class="SideTOC3"><a href="#1001249">
      Developer SDK</a></h3>

   <h2 class="SideTOC2"><a href="#1007812">
   API Restrictions</a></h2>

      <h3 class="SideTOC3"><a href="#1007816">
      Deprecated APIs</a></h3>

      <h3 class="SideTOC3"><a href="#1007818">
      Unsupported APIs</a></h3>

      <h3 class="SideTOC3"><a href="#1007823">
      Card Number Argument</a></h3>

      <h3 class="SideTOC3"><a href="#1013453">
      Record Unique IDs</a></h3>

      <h3 class="SideTOC3"><a href="#1007825">
      Effect of Calling an Unsupported or Deprecated Palm OS Function</a></h3>

      <h3 class="SideTOC3"><a href="#994302">
      Unsupported Palm OS Functions</a></h3>

   <h2 class="SideTOC2"><a href="#996011">
   Accessing the PIM Application Databases</a></h2>

      <h3 class="SideTOC3"><a href="#1012935">
      Limitations</a></h3>

      <h3 class="SideTOC3"><a href="#994695">
      Summary of PIM Database Access APIs</a></h3>

</div>
</td>

<td width="5">&nbsp;&nbsp;</td>
<td width="2" background="images/index_r8_c10.gif"><img src="images/shim.gif" width="2" height="75" border="0" alt=""></td>
<td width="5">&nbsp;&nbsp;</td>

<!--END SIDETOC-->

<td valign="top">

<!--BEGIN CONTENT-->
<div id="content" valign="bottom">
<p><a name="993025"> </a>The Palm Application Compatibility Environment, or PACE, is a 68K emulator that supports execution of well-behaved 68K-based Palm OS applications on devices that use an ARM processor.</p>

<p><a name="993030"> </a>PACE allows the majority of existing 68K-based Palm OS applications to run on devices that use an ARM processor. Users can beam an application from a 68K device to an ARM-based device and run the application. The Palm Application Compatibility Environment helps provide a migration path for developers. The developer can continue to use existing 68K-based tools to build their application.</p>

<h2 class="haH2">
  <a name="993032"> </a>Design Objectives <a href="#608590"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="993033"> </a>The Palm Application Compatibility Environment is designed to allow well-behaved 68K applications to run at 68K speeds or faster on an ARM-based device, with minimum code and memory overhead. A well-behaved application is one that:</p>
<ul type="disc">
  <li><a name="993038"> </a>only uses documented Palm OS APIs
  <li><a name="993039"> </a>does not access hardware directly
  <li><a name="993040"> </a>does not access the display memory directly
  <li><a name="993041"> </a>does not access low memory globals
  <li><a name="993042"> </a>does not access the fields of Palm OS structures directly
  <li><a name="993044"> </a>runs on Palm OS Emulator with a debug Palm OS Garnet ROM without encountering any errors
</ul>
<h3 class="hbH3">
  <a name="1001242"> </a>Performance <a href="#608590"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1001319"> </a>Performance of a 68K application varies greatly depending on how much time it spends executing 68K instructions compared to the time it spends calling Palm OS functions. </p>

<p><a name="1001333"> </a>Code that consists only of 68K instructions, such as a prime number generator, will run slower than an ARM-native version of the same code since the 68K instructions are emulated. For reference, the time it takes to execute emulated 68K instructions on a 70 MHz ARM device is roughly the same as the time it takes to execute the same instructions on a Palm Vx device. Most applications spend a great deal of time inside operating system calls, however, and those calls execute at the full speed of the ARM processor (note that there may be additional overhead for some Palm OS functions, depending on how close the native function's API is to the 68K API). Thus most 68K applications running under PACE will actually run much faster than they would on a device with a 68K processor.</p>
<h3 class="hbH3">
  <a name="1001249"> </a>Developer SDK <a href="#608590"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1001250"> </a>Because an application that runs under PACE is like any other 68K application, when writing applications to run under PACE you continue to use the tools and headers available for 68K-based Palm OS application development. </p>

<p><a name="1001251"> </a>Applications are no longer allowed access to many internal, publicly-defined structures (such as the <code>ControlType</code> structure). To make up for this, some accessor functions were added in Palm OS 4.0, and additional accessor functions were added to the Palm OS glue library shipped with the Palm OS Garnet SDK.</p>

<p><a name="1001252"> </a>The 68K Palm debugger and other tools which depend on the 68K debugger APIs (such as the Metrowerks debugger) are supported by the Palm Application Compatibility Environment.</p>

<h2 class="haH2">
  <a name="1007812"> </a>API Restrictions <a href="#608590"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1007813"> </a>Most well-behaved applications run under the Palm OS Garnet version of PACE with no problems. Due to differences in the underlying operating system in Palm OS Cobalt, however, PACE is somewhat more restricting on Palm OS Cobalt devices. The following sections detail those restrictions.</p>
<h3 class="hbH3">
  <a name="1007816"> </a>Deprecated APIs <a href="#608590"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1007817"> </a>Very few deprecated APIs (such as <code>CategoryEditV20()</code>) are supported for native ARM applications. The Palm Application Compatibility Environment still supports these deprecated APIs, unless they are listed in <a href="PACE.html#1004932">Table 1.1</a>.</p>
<h3 class="hbH3">
  <a name="1007818"> </a>Unsupported APIs <a href="#608590"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1007819"> </a>A number of Palm OS APIs are not supported by PACE. These are APIs that either are documented as private, are internal-only APIs (yet appear in public header files), or are APIs that developer support has advised developers to not use. A list of unsupported APIs can be found under <a href="PACE.html#994302">"Unsupported Palm OS Functions."</a></p>
<h3 class="hbH3">
  <a name="1007823"> </a>Card Number Argument <a href="#608590"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1007824"> </a>The native ARM version of Palm OS no longer has the concept of memory cards. For this reason, the card number concept is faked for emulated 68K applications. If an application calls <code>MemNumCards()</code>, a value of 1 is always returned. If an application calls any function that takes <code class="par">cardNum</code> as an argument and the value for <code class="par">cardNum</code> is not zero, an error is returned to the application.</p>
<h3 class="hbH3">
  <a name="1013453"> </a>Record Unique IDs <a href="#608590"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1013454"> </a>In previous versions of Palm OS, only 24 bits of a record's unique ID were stored in the record header. In Palm OS Cobalt, however, all 32 bits are unique. The function that returns a record's unique ID returns a 32-bit value; to ensure the greatest degree of compatiblity an application should save all 32 bits of the record's unique ID, and not truncate the result to 24 bits.</p>
<h3 class="hbH3">
  <a name="1007825"> </a>Effect of Calling an Unsupported or Deprecated Palm OS Function <a href="#608590"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1007826"> </a>If a 68K application calls an unsupported or deprecated Palm OS function, an alert is displayed and the application is terminated. The alert contains the message "An error occurred in the application you are using. Note the error code and contact the developer of this application" followed by an error number in parentheses. When the user presses the OK button, the application is forced to exit. The debug version of this error alert has two more numbers displayed (to help you pinpoint the problem) and a Cancel button. If you tap the Cancel button, PACE tries to connect to the 68K Palm Debugger so you can determine why and where the error is occurring.</p>
<h3 class="hbH3">
  <a name="994302"> </a>Unsupported Palm OS Functions <a href="#608590"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="994303"> </a><a href="PACE.html#1004932">Table 1.1</a> is a list of Palm OS functions that are not supported by PACE in Palm OS Cobalt. The following are the reasons why these functions are not supported.</p>

<dl>
<dt><a name="1002158"> </a>Documented as "System Use Only"</dt>
<dd><a name="994305"> </a>These functions are documented as "System Use Only" in the <i>Palm OS Programmer's API Reference</i> and thus should never have been called by applications.</dd>

<dt><a name="1003955"> </a>Should have been documented as "system use only"</dt>
<dd><a name="1004060"> </a>These functions were intended for internal PalmSource use only but were documented.</dd>

<dt><a name="1004289"> </a>Obsolete</dt>
<dd><a name="1004296"> </a>These functions are not implemented because they have long been obsolete. Current Palm OS applications should no longer be using them.</dd>

<dt><a name="1004588"> </a>Implemented as a "NOP" function</dt>
<dd><a name="1003960"> </a>Typically, these are functions that should not have been called by applications. Because some applications may call them, however, PACE supports them. However, they do nothing and simply return.</dd>

<dt><a name="1004909"> </a>Rarely-used function</dt>
<dd><a name="1004928"> </a>Functions that are only used internally by Palm OS, by serial drivers, or by OEM extensions. They are not functions that an application would use. PACE does not implement these functions.  </dd>

<dt><a name="1006476"> </a>Unimplemented in Palm OS Cobalt</dt>
<dd><a name="1005847"> </a>Functions that were supported by PACE in Palm OS Garnet but are no longer supported by PACE in Palm OS Cobalt. The vast majority of these are intended for system use only, and the remaining few are very rarely used by applications.</dd>

</dl>

<p class="caption"><a name="1004932"> </a><b>Table 1.1&nbsp;&nbsp;Unsupported Palm OS functions </b></p>
<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1004936"> </a><b>Function</b></p>
    </th>
    <th><p class="tt"><a name="1004938"> </a><b>Unsupported because...</b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006535"> </a><code>AlmAlarmCallback()</code></p>
    </td>
    <td><p class="tt"><a name="1006537"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006531"> </a><code>AlmCancelAll()</code></p>
    </td>
    <td><p class="tt"><a name="1006533"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006527"> </a><code>AlmDisplayAlarm()</code></p>
    </td>
    <td><p class="tt"><a name="1006529"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006519"> </a><code>AlmTimeChange()</code></p>
    </td>
    <td><p class="tt"><a name="1006521"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006643"> </a><code>ConGetS()</code></p>
    </td>
    <td><p class="tt"><a name="1006645"> </a>Rarely-used function</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006639"> </a><code>ConPutS()</code></p>
    </td>
    <td><p class="tt"><a name="1006641"> </a>Rarely-used function</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006635"> </a><code>DayDrawDays()</code></p>
    </td>
    <td><p class="tt"><a name="1006637"> </a>Rarely-used function</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006631"> </a><code>DayDrawDaySelector()</code></p>
    </td>
    <td><p class="tt"><a name="1006633"> </a>Rarely-used function</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006647"> </a><code>DayHandleEvent()</code></p>
    </td>
    <td><p class="tt"><a name="1006649"> </a>Should have been documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006651"> </a><code>DbgCommSettings()</code></p>
    </td>
    <td><p class="tt"><a name="1006653"> </a>Rarely-used function</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006659"> </a><code>DbgGetMessage()</code></p>
    </td>
    <td><p class="tt"><a name="1006661"> </a>Rarely-used function</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006695"> </a><code>DlkControl()</code></p>
    </td>
    <td><p class="tt"><a name="1006697"> </a>Rarely-used function</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006691"> </a><code>DlkDispatchRequest()</code></p>
    </td>
    <td><p class="tt"><a name="1006693"> </a>Rarely-used function</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006687"> </a><code>DlkStartServer()</code></p>
    </td>
    <td><p class="tt"><a name="1006689"> </a>Rarely-used function</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006699"> </a><code>DmInit()</code></p>
    </td>
    <td><p class="tt"><a name="1006701"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006711"> </a><code>EvtDequeueKeyEvent()</code></p>
    </td>
    <td><p class="tt"><a name="1006713"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006715"> </a><code>EvtEnqueuePenPoint()</code></p>
    </td>
    <td><p class="tt"><a name="1010424"> </a>Was documented as "System Use Only." In Palm OS Cobalt, returns <code>sysErrNotAllowed</code>. On debug ROMs, displays a fatal alert.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1010440"> </a>EvtGetPenBtnList()</p>
    </td>
    <td><p class="tt"><a name="1010442"> </a>Rarely-used function</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1010447"> </a>EvtGetSilkscreenAreaList()</p>
    </td>
    <td><p class="tt"><a name="1010449"> </a>Rarely-used function</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006723"> </a><code>EvtGetSysEvent()</code></p>
    </td>
    <td><p class="tt"><a name="1006725"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006731"> </a><code>EvtKeyQueueSize()</code></p>
    </td>
    <td><p class="tt"><a name="1010432"> </a>In Palm OS Cobalt, returns <code>sysErrNotAllowed</code>. On debug ROMs, displays a fatal alert.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006727"> </a><code>EvtPenQueueSize()</code></p>
    </td>
    <td><p class="tt"><a name="1006729"> </a>In Palm OS Cobalt, returns <code>sysErrNotAllowed</code>. On debug ROMs, displays a fatal alert.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006735"> </a><code>EvtProcessSoftKeyStroke()</code></p>
    </td>
    <td><p class="tt"><a name="1010438"> </a>In Palm OS Cobalt, returns <code>sysErrNotAllowed</code>. On debug ROMs, displays a fatal alert.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006751"> </a><code>EvtSetKeyQueuePtr()</code></p>
    </td>
    <td><p class="tt"><a name="1006753"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006747"> </a><code>EvtSetPenQueuePtr()</code></p>
    </td>
    <td><p class="tt"><a name="1006749"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006743"> </a><code>EvtSysInit()</code></p>
    </td>
    <td><p class="tt"><a name="1006745"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006755"> </a><code>ExpCardGetSerialPort()</code></p>
    </td>
    <td><p class="tt"><a name="1006757"> </a>Unimplemented in Palm OS Cobalt</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006763"> </a><code>ExpCardInserted()</code></p>
    </td>
    <td><p class="tt"><a name="1009840"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006759"> </a><code>ExpCardRemoved()</code></p>
    </td>
    <td><p class="tt"><a name="1009842"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006771"> </a><code>ExpSlotDriverInstall()</code></p>
    </td>
    <td><p class="tt"><a name="1006773"> </a>Unimplemented in Palm OS Cobalt</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006767"> </a><code>ExpSlotDriverRemove()</code></p>
    </td>
    <td><p class="tt"><a name="1006769"> </a>Unimplemented in Palm OS Cobalt</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006775"> </a><code>ExpSlotLibFind()</code></p>
    </td>
    <td><p class="tt"><a name="1006777"> </a>Unimplemented in Palm OS Cobalt</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006783"> </a><code>ExpSlotRegister()</code></p>
    </td>
    <td><p class="tt"><a name="1009844"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006779"> </a><code>ExpSlotUnregister()</code></p>
    </td>
    <td><p class="tt"><a name="1009846"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006827"> </a><code>FplAdd()</code></p>
    </td>
    <td><p class="tt"><a name="1006829"> </a>Obsolete</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006823"> </a><code>FplAToF()</code></p>
    </td>
    <td><p class="tt"><a name="1006825"> </a>Obsolete</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006819"> </a><code>FplBase10Info()</code></p>
    </td>
    <td><p class="tt"><a name="1006821"> </a>Obsolete</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006815"> </a><code>FplDiv()</code></p>
    </td>
    <td><p class="tt"><a name="1006817"> </a>Obsolete</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006811"> </a><code>FplFloatToLong()</code></p>
    </td>
    <td><p class="tt"><a name="1006813"> </a>Obsolete</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006807"> </a><code>FplFloatToULong()</code></p>
    </td>
    <td><p class="tt"><a name="1006809"> </a>Obsolete</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006831"> </a><code>FplFree()</code></p>
    </td>
    <td><p class="tt"><a name="1006833"> </a>Implemented as a "NOP" function</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006835"> </a><code>FplFToA()</code></p>
    </td>
    <td><p class="tt"><a name="1006837"> </a>Obsolete</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006839"> </a><code>FplInit()</code></p>
    </td>
    <td><p class="tt"><a name="1006841"> </a>Implemented as a "NOP" function</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006851"> </a><code>FplLongToFloat()</code></p>
    </td>
    <td><p class="tt"><a name="1006853"> </a>Obsolete</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006847"> </a><code>FplMul()</code></p>
    </td>
    <td><p class="tt"><a name="1006849"> </a>Obsolete</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006843"> </a><code>FplSub()</code></p>
    </td>
    <td><p class="tt"><a name="1006845"> </a>Obsolete</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006867"> </a><code>FrmAddSpaceForObject()</code></p>
    </td>
    <td><p class="tt"><a name="1006869"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006863"> </a><code>FtrInit()</code></p>
    </td>
    <td><p class="tt"><a name="1006865"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006859"> </a><code>GrfFree()</code></p>
    </td>
    <td><p class="tt"><a name="1006861"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1006855"> </a><code>GrfInit()</code></p>
    </td>
    <td><p class="tt"><a name="1006857"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007095"> </a><code>InsPtCheckBlink()</code></p>
    </td>
    <td><p class="tt"><a name="1007097"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1010361"> </a>InsPtEnable()</p>
    </td>
    <td><p class="tt"><a name="1010405"> </a>Implemented as a "NOP" function</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1010357"> </a>InsPtEnabled()</p>
    </td>
    <td><p class="tt"><a name="1010407"> </a>Implemented as a "NOP" function</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1010353"> </a>InsPtGetHeight()</p>
    </td>
    <td><p class="tt"><a name="1010409"> </a>Implemented as a "NOP" function</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1010349"> </a>InsPtGetLocation()</p>
    </td>
    <td><p class="tt"><a name="1010411"> </a>Implemented as a "NOP" function</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007091"> </a><code>InsPtInitialize()</code></p>
    </td>
    <td><p class="tt"><a name="1007093"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1010377"> </a>InsPtSetHeight()</p>
    </td>
    <td><p class="tt"><a name="1010413"> </a>Implemented as a "NOP" function</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1010373"> </a>InsPtSetLocation()</p>
    </td>
    <td><p class="tt"><a name="1010415"> </a>Implemented as a "NOP" function</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007103"> </a><code>KbdDraw()</code></p>
    </td>
    <td><p class="tt"><a name="1009848"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007099"> </a><code>KbdErase()</code></p>
    </td>
    <td><p class="tt"><a name="1009850"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007107"> </a><code>KbdGetLayout()</code></p>
    </td>
    <td><p class="tt"><a name="1009852"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007111"> </a><code>KbdGetPosition()</code></p>
    </td>
    <td><p class="tt"><a name="1009854"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007115"> </a><code>KbdGetShiftState()</code></p>
    </td>
    <td><p class="tt"><a name="1009856"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007119"> </a><code>KbdHandleEvent()</code></p>
    </td>
    <td><p class="tt"><a name="1009858"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007123"> </a><code>KbdSetLayout()</code></p>
    </td>
    <td><p class="tt"><a name="1009860"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007127"> </a><code>KbdSetPosition()</code></p>
    </td>
    <td><p class="tt"><a name="1009862"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007131"> </a><code>KbdSetShiftState()</code></p>
    </td>
    <td><p class="tt"><a name="1009864"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007135"> </a><code>KeyboardStatusFree()</code></p>
    </td>
    <td><p class="tt"><a name="1009866"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007139"> </a><code>KeyboardStatusNew()</code></p>
    </td>
    <td><p class="tt"><a name="1009868"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007155"> </a><code>MemCardFormat()</code></p>
    </td>
    <td><p class="tt"><a name="1007157"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007179"> </a><code>MemHandleFlags()</code></p>
    </td>
    <td><p class="tt"><a name="1007181"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007175"> </a><code>MemHandleOwner()</code></p>
    </td>
    <td><p class="tt"><a name="1007177"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007171"> </a><code>MemHandleResetLock()</code></p>
    </td>
    <td><p class="tt"><a name="1007173"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007167"> </a><code>MemHeapFreeByOwnerID()</code></p>
    </td>
    <td><p class="tt"><a name="1007169"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007163"> </a><code>MemHeapInit()</code></p>
    </td>
    <td><p class="tt"><a name="1007165"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007195"> </a><code>MemInit()</code></p>
    </td>
    <td><p class="tt"><a name="1007197"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007191"> </a><code>MemInitHeapTable()</code></p>
    </td>
    <td><p class="tt"><a name="1007193"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007187"> </a><code>MemKernelInit()</code></p>
    </td>
    <td><p class="tt"><a name="1007189"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007211"> </a><code>MemPtrFlags()</code></p>
    </td>
    <td><p class="tt"><a name="1007213"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007207"> </a><code>MemPtrOwner()</code></p>
    </td>
    <td><p class="tt"><a name="1007209"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007203"> </a><code>MemPtrResetLock()</code></p>
    </td>
    <td><p class="tt"><a name="1007205"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007219"> </a><code>MemSemaphoreRelease()</code></p>
    </td>
    <td><p class="tt"><a name="1009870"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007227"> </a><code>MemSemaphoreReserve()</code></p>
    </td>
    <td><p class="tt"><a name="1009872"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007239"> </a><code>MemStoreSetInfo()</code></p>
    </td>
    <td><p class="tt"><a name="1007241"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007251"> </a><code>OmGetIndexedLocale()</code></p>
    </td>
    <td><p class="tt"><a name="1007253"> </a>Unimplemented in Palm OS Cobalt</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007255"> </a><code>OmGetNextSystemLocale()</code></p>
    </td>
    <td><p class="tt"><a name="1007257"> </a>Unimplemented in Palm OS Cobalt</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007259"> </a><code>OmSetSystemLocale()</code></p>
    </td>
    <td><p class="tt"><a name="1007261"> </a>Unimplemented in Palm OS Cobalt</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007267"> </a><code>PenCalibrate()</code></p>
    </td>
    <td><p class="tt"><a name="1009799"> </a>Implemented as a "NOP" function</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007283"> </a><code>PenClose()</code></p>
    </td>
    <td><p class="tt"><a name="1007285"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007279"> </a><code>PenGetRawPen()</code></p>
    </td>
    <td><p class="tt"><a name="1007281"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007275"> </a><code>PenOpen()</code></p>
    </td>
    <td><p class="tt"><a name="1007277"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007287"> </a><code>PenRawToScreen()</code></p>
    </td>
    <td><p class="tt"><a name="1009879"> </a>Was documented as "System Use Only." In Palm OS Cobalt, returns <code>sysErrNotAllowed</code>. On debug ROMs, displays a fatal alert.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007291"> </a><code>PenResetCalibration()</code></p>
    </td>
    <td><p class="tt"><a name="1009797"> </a>Implemented as a "NOP" function</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007299"> </a><code>PenScreenToRaw()</code></p>
    </td>
    <td><p class="tt"><a name="1009888"> </a>Was documented as "System Use Only." In Palm OS Cobalt, returns <code>sysErrNotAllowed</code>. On debug ROMs, displays a fatal alert.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007307"> </a><code>PenSleep()</code></p>
    </td>
    <td><p class="tt"><a name="1007309"> </a>Was documented as "System Use Only." In Palm OS Cobalt this is implemented as a "NOP" function.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007303"> </a><code>PenWake()</code></p>
    </td>
    <td><p class="tt"><a name="1009910"> </a>Was documented as "System Use Only." In Palm OS Cobalt this is implemented as a "NOP" function.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007331"> </a><code>ResLoadForm()</code></p>
    </td>
    <td><p class="tt"><a name="1007333"> </a>Rarely-used function</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007415"> </a><code>SerReceiveISP()</code></p>
    </td>
    <td><p class="tt"><a name="1007417"> </a>Implemented as a "NOP" function</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007419"> </a><code>SlkProcessRPC()</code></p>
    </td>
    <td><p class="tt"><a name="1007421"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007423"> </a><code>SlkSetSocketListener()</code></p>
    </td>
    <td><p class="tt"><a name="1007425"> </a>Rarely-used function</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007431"> </a><code>SlkSysPktDefaultResponse()</code></p>
    </td>
    <td><p class="tt"><a name="1007433"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007427"> </a><code>SndInit()</code></p>
    </td>
    <td><p class="tt"><a name="1007429"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007443"> </a><code>SndInterruptSmfIrregardless()</code></p>
    </td>
    <td><p class="tt"><a name="1009932"> </a>Rarely-used function</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007439"> </a><code>SndPlaySmfIrregardless()</code></p>
    </td>
    <td><p class="tt"><a name="1009934"> </a>Rarely-used function</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007435"> </a><code>SndPlaySmfResourceIrregardless()</code></p>
    </td>
    <td><p class="tt"><a name="1009936"> </a>Rarely-used function</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007447"> </a><code>SrmOpenBackground()</code></p>
    </td>
    <td><p class="tt"><a name="1007449"> </a>Rarely-used function</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007455"> </a><code>SrmSleep()</code></p>
    </td>
    <td><p class="tt"><a name="1007457"> </a>Implemented as a "NOP" function</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007451"> </a><code>SrmWake()</code></p>
    </td>
    <td><p class="tt"><a name="1007453"> </a>Implemented as a "NOP" function</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007463"> </a><code>SysBatteryDialog()</code></p>
    </td>
    <td><p class="tt"><a name="1007465"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007459"> </a><code>SysColdBoot()</code></p>
    </td>
    <td><p class="tt"><a name="1007461"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007467"> </a><code>SysDisableInts()</code></p>
    </td>
    <td><p class="tt"><a name="1009919"> </a>Was documented as "System Use Only." In Palm OS Cobalt this is implemented as a "NOP" function.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007471"> </a><code>SysDoze()</code></p>
    </td>
    <td><p class="tt"><a name="1007473"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007475"> </a><code>SysFatalAlertInit()</code></p>
    </td>
    <td><p class="tt"><a name="1007477"> </a>Undocumented "system use only"function.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007479"> </a><code>SysInit()</code></p>
    </td>
    <td><p class="tt"><a name="1007481"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007491"> </a><code>SysLaunchConsole()</code></p>
    </td>
    <td><p class="tt"><a name="1007493"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007487"> </a><code>SysNewOwnerID()</code></p>
    </td>
    <td><p class="tt"><a name="1007489"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007495"> </a><code>SysNotifyBroadcastFromInterrupt()</code></p>
    </td>
    <td><p class="tt"><a name="1007497"> </a>Rarely-used function</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007527"> </a><code>SysRestoreStatus()</code></p>
    </td>
    <td><p class="tt"><a name="1009924"> </a>Was documented as "System Use Only." In Palm OS Cobalt this is implemented as a "NOP" function.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007531"> </a><code>SysSemaphoreSet()</code></p>
    </td>
    <td><p class="tt"><a name="1007533"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007547"> </a><code>SysSetTrapAddress()</code></p>
    </td>
    <td><p class="tt"><a name="1007549"> </a>Rarely-used function</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007551"> </a><code>SysUILaunch()</code></p>
    </td>
    <td><p class="tt"><a name="1007553"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007555"> </a><code>SysUnimplemented()</code></p>
    </td>
    <td><p class="tt"><a name="1009948"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007571"> </a><code>TimInit()</code></p>
    </td>
    <td><p class="tt"><a name="1007573"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007607"> </a><code>VFSInstallFSLib()</code></p>
    </td>
    <td><p class="tt"><a name="1007609"> </a>Unimplemented in Palm OS Cobalt</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007603"> </a><code>VFSRemoveFSLib()</code></p>
    </td>
    <td><p class="tt"><a name="1007605"> </a>Unimplemented in Palm OS Cobalt</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007615"> </a><code>WinAddWindow()</code></p>
    </td>
    <td><p class="tt"><a name="1007617"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007623"> </a><code>WinDisableWindow()</code></p>
    </td>
    <td><p class="tt"><a name="1009955"> </a>Was documented as "System Use Only." In Palm OS Cobalt this is implemented as a "NOP" function.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007619"> </a><code>WinEnableWindow()</code></p>
    </td>
    <td><p class="tt"><a name="1009960"> </a>Was documented as "System Use Only." In Palm OS Cobalt this is implemented as a "NOP" function.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007627"> </a><code>WinGetFirstWindow()</code></p>
    </td>
    <td><p class="tt"><a name="1007629"> </a>Rarely-used function</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007631"> </a><code>WinInitializeWindow()</code></p>
    </td>
    <td><p class="tt"><a name="1009972"> </a>Was documented as "System Use Only." In Palm OS Cobalt this is implemented as a "NOP" function.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007639"> </a><code>WinMoveWindowAddr()</code></p>
    </td>
    <td><p class="tt"><a name="1009977"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007643"> </a><code>WinRemoveWindow()</code></p>
    </td>
    <td><p class="tt"><a name="1007645"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1007647"> </a><code>WinScreenInit()</code></p>
    </td>
    <td><p class="tt"><a name="1009979"> </a>Documented as "System Use Only"</p>
    </td>
  </tr>
</table>

</div>


<h2 class="haH2">
  <a name="996011"> </a>Accessing the PIM Application Databases <a href="#608590"><span class="nav">^TOP^</span></a>
</h2>


<p><a name="1008193"> </a>Some 68K applications access the PIM application databases. In Palm OS Cobalt the PIM applications are ARM-native applications, and those applications now use Schema databases to hold application data. Although the "classic" PIM application databases are no longer present, PACE does what it can to "do the right thing" when it detects that a 68K application is attempting to access a PIM application database.</p>

<div><hr>
  <a name="1008146"> </a> <b>NOTE: </b> The PIM database access solution described here depends entirely on the presence of the ARM-native PIM applications. As well, those applications must correctly support the <code>sysAppLaunchCmdImportRecord</code>, <code>sysAppLaunchCmdExportRecord</code> and <code>sysAppLaunchCmdDeleteRecord</code> launch commands. PACE further assumes that the database names, database schema names, and field IDs haven't changed (additional fields may be present, however, and the field order can be changed).
<hr>
</div>

<p><a name="1008280"> </a>When an application tries to access a 68K PIM application database&#8212;either to open or to find it&#8212;PACE creates the 68K database, opens it, initializes its application info block (using category names from the corresponding native PIM app) and creates a cache of all records in the corresponding ARM-native PIM application database. Each cache entry contains the following information:</p>
<ul type="disc">
  <li><a name="1008209"> </a>the unique ID of the native record
  <li><a name="1008210"> </a>handle to the 68K record
  <li><a name="1008211"> </a>index of the 68K record
  <li><a name="1008214"> </a>category that the record belongs to
  <li><a name="1008216"> </a>attribute flags (dirty and deleted)
</ul>

<p><a name="1008228"> </a>Each entry is initialized with the unique ID and category information. All other fields are cleared.</p>

<p><a name="1008265"> </a>When the application then tries to read a record (for example, by calling <code>DmQueryRecord()</code> or <code>DmGetRecord()</code>), PACE sends a <code>sysAppLaunchCmdExportRecord</code> request to the native application. In response, the native application returns the record in vcard format. PACE converts the vcard information into a 68K PIM application record and stores that record into the 68K PIM application database that was created when the database was opened. The index and record handle of this record are stored in the cache; any further requests for the record will return the record handle from the cache.</p>

<p><a name="1008241"> </a>If the application creates a new record, PACE creates a record in the 68K PIM application database, adds an entry to the cache, and initializes the cache entry's unique ID to <code>NULL</code>.</p>

<p><a name="1008242"> </a>When the application writes to the new record, PACE marks the record in the cache as "dirty" so that it will be written back to the ARM-native PIM application database when the database is flushed. At that time, PACE converts the 68K record to its vcard representation and then sends a <code>sysAppLaunchCmdImportRecord</code> request to the native application. Records are flushed: </p>
<ul type="disc">
  <li><a name="1008317"> </a>when a database is closed
  <li><a name="1008318"> </a>whenever another record is created
  <li><a name="1008319"> </a>before a unique ID is returned to an application (in response to a call to <code>DmGetRecordInfo()</code>).
</ul>

<p><a name="994676"> </a>When an application deletes a PIM database record, PACE marks the record in the cache as "deleted" and sends a <code>sysAppLaunchCmdDeleteRecord</code> request to the native application.</p>

<p><a name="994678"> </a>Once the 68K application closes the PIM application database, PACE flushes any dirty records that have yet to be written, frees up memory allocated for the cache, and closes and deletes the 68K PIM application database. </p>

<p><a name="1012933"> </a>The two functions <code>DmFindDatabase()</code> and <code>DmGetNextDatabaseByTypeCreator()</code> have the side effect of leaving the 68K PIM application database around. To clean up these stray databases, PACE deletes any existing 68K PIM application databases whenever a 68K application exits. Note that if you call <code>DmOpenDatabase()</code> after locating a database with either of these two functions, and later call <code>DmCloseDatabase()</code>, the database will be deleted when the close function is called. </p>

<p><a name="1012934"> </a>Although <code>DmFindDatabase()</code> leaves the 68K PIM application database around, other Data Manager calls may cause PACE to delete it. Because of this, if you are going to open a PIM application database by calling <code>DmFindDatabase()</code> followed by <code>DmOpenDatabase()</code> (as opposed to the more common method of using <code>DmOpenDatabaseByTypeCreator()</code>), avoid making other Data Manager calls on the PIM application database between the call to <code>DmFindDatabase()</code> and <code>DmOpenDatabase()</code>.</p>
<h3 class="hbH3">
  <a name="1012935"> </a>Limitations <a href="#608590"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1012936"> </a>The PIM application database access solution provided by PACE has a number of limitations. For one, not all database access functions are supported. Here is a list of the known limitations:</p>
<ul type="disc">
  <li><a name="994682"> </a>It can be slow. The ARM-native PIM applications are sub-launched for each PIM database read, write, or delete.
  <li><a name="994683"> </a>Category changes are not reflected back to the native PIM application. Category information should be treated as read-only.
  <li><a name="994684"> </a>All three "varieties" of record delete&#8212;<code>DmDeleteRecord()</code>, <code>DmRemoveRecord()</code> and <code>DmArchiveRecord()</code>&#8212;become requests for the native PIM application to delete the record.
  <li><a name="994685"> </a>Some things in the application info blocks are "hard-coded." For example, the ToDo sort order is always priority/due date and the Address Book labels are hard-coded to English text labels.
  <li><a name="994686"> </a>The <code>totalBytes</code> and <code>dataBytes</code> sizes returned from <code>DmDatabaseSize()</code> come from the 68K database and thus are usually wrong. They would only be correct if every record has been read in from the ARM-native PIM application database.
  <li><a name="1008374"> </a>Some database record access functions are not supported, including <code>DmRemoveSecretRecords()</code>, <code>DmMoveCategory()</code> and <code>DmDeleteCategory()</code>.
  <li><a name="994688"> </a>There are some limitations with private records. Private records will be masked or hidden when a 68K PIM application is run, but changing the "maskedness" or "hiddenness" has no effect while running the 68K PIM application.
  <li><a name="994689"> </a>Because records are not immediately written to the ARM-native PIM application databases, some data may be lost while running a 68K PIM application replacement if the system is reset while the application is running.
</ul>
<h3 class="hbH3">
  <a name="994695"> </a>Summary of PIM Database Access APIs <a href="#608590"><span class="nav">^TOP^</span></a>
</h3>


<p><a name="1008398"> </a><a href="PACE.html#1008477">Table 1.2</a> lists those functions for which PACE checks to see if a PIM application database is being accessed. If so, PACE acts as described in the second column.</p>

<p class="caption"><a name="1008477"> </a><b>Table 1.2&nbsp;&nbsp;Functions that PACE monitors for PIM database access </b></p>
<div class="tablediv"><table cellspacing="0" class="tTable">

  <tr valign="top">
    <th><p class="tt"><a name="1008453"> </a><b>Function</b></p>
    </th>
    <th><p class="tt"><a name="1008461"> </a><b>How treated by PACE </b></p>
    </th>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009353"> </a><code>CategoryCreateList()</code></p>
    </td>
    <td><p class="tt"><a name="1009355"> </a>Calls through to the native OS.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009357"> </a><code>CategoryEdit()</code></p>
    </td>
    <td><p class="tt"><a name="1009359"> </a>Calls through to the native OS.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009361"> </a><code>CategoryFind()</code></p>
    </td>
    <td><p class="tt"><a name="1009363"> </a>Calls through to the native OS.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009365"> </a><code>CategoryFreeList()</code></p>
    </td>
    <td><p class="tt"><a name="1009367"> </a>Calls through to the native OS.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009369"> </a><code>CategoryGetName()</code></p>
    </td>
    <td><p class="tt"><a name="1009371"> </a>Calls through to the native OS.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009373"> </a><code>CategoryGetNext()</code></p>
    </td>
    <td><p class="tt"><a name="1009375"> </a>Calls through to the native OS.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009377"> </a><code>CategorySelect()</code></p>
    </td>
    <td><p class="tt"><a name="1009379"> </a>Calls through to the native OS.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009381"> </a><code>CategorySetName()</code></p>
    </td>
    <td><p class="tt"><a name="1009383"> </a>Calls through to the native OS.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009385"> </a><code>DmArchiveRecord()</code></p>
    </td>
    <td><p class="tt"><a name="1009652"> </a>PACE handles calls to this function.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009389"> </a><code>DmAttachRecord()</code></p>
    </td>
    <td><p class="tt"><a name="1009640"> </a>PACE handles calls to this function.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009393"> </a><code>DmCloseDatabase()</code></p>
    </td>
    <td><p class="tt"><a name="1009626"> </a>PACE handles calls to this function.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009397"> </a><code>DmDatabaseInfo()</code></p>
    </td>
    <td><p class="tt"><a name="1009399"> </a>Calls through to the native OS.</p>
    </td>
  </tr>
  <tr valign="top">
    <td>
<p><a name="1009405"> </a><code>DmDatabaseProtect()</code></p>
    </td>
    <td><p class="tt"><a name="1009407"> </a>Calls through to the native OS. Note that applications are not expected to call this function with a PIM database.</p>
    </td>
  </tr>
  <tr valign="top">
    <td>
<p><a name="1009401"> </a><code>DmDatabaseSize()</code></p>
    </td>
    <td><p class="tt"><a name="1009403"> </a>PACE handles calls to this function.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009409"> </a><code>DmDeleteCategory()</code></p>
    </td>
    <td><p class="tt"><a name="1009411"> </a>Not supported when accessing a PIM database. <code>sysErrNotAllowed</code> is returned.</p>
    </td>
  </tr>
  <tr valign="top">
    <td>
<p><a name="1009413"> </a><code>DmDeleteDatabase()</code></p>
    </td>
    <td><p class="tt"><a name="1009415"> </a>Calls through to the native OS. Note that applications are not expected to call this function with a PIM database.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009417"> </a><code>DmDeleteRecord()</code></p>
    </td>
    <td><p class="tt"><a name="1009650"> </a>PACE handles calls to this function.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009421"> </a><code>DmDetachRecord()</code></p>
    </td>
    <td><p class="tt"><a name="1009642"> </a>PACE handles calls to this function.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009425"> </a><code>DmFindDatabase()</code></p>
    </td>
    <td><p class="tt"><a name="1009427"> </a>PACE handles calls to this function.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009429"> </a><code>DmFindRecordByID()</code></p>
    </td>
    <td><p class="tt"><a name="1009656"> </a>PACE handles calls to this function.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009433"> </a><code>DmFindRecordByOffsetInCategory()</code></p>
    </td>
    <td><p class="tt"><a name="1009666"> </a>PACE handles calls to this function.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009437"> </a><code>DmFindSortPosition()</code></p>
    </td>
    <td><p class="tt"><a name="1009632"> </a>PACE handles calls to this function.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009441"> </a><code>DmGetAppInfoID()</code></p>
    </td>
    <td><p class="tt"><a name="1009443"> </a>Calls through to the native OS.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009445"> </a><code>DmGetDatabaseLockState()</code></p>
    </td>
    <td><p class="tt"><a name="1009447"> </a>Calls through to the native OS. Note that applications rarely call this function with a PIM database.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009449"> </a><code>DmGetNextDatabaseByTypeCreator()</code></p>
    </td>
    <td><p class="tt"><a name="1009451"> </a>PACE handles calls to this function.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009453"> </a><code>DmGetPositionInCategory()</code></p>
    </td>
    <td><p class="tt"><a name="1009664"> </a>PACE handles calls to this function.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009457"> </a><code>DmGetRecord()</code></p>
    </td>
    <td><p class="tt"><a name="1009660"> </a>PACE handles calls to this function.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009461"> </a><code>DmInsertionSort()</code></p>
    </td>
    <td><p class="tt"><a name="1009630"> </a>PACE handles calls to this function.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009465"> </a><code>DmMoveCategory()</code></p>
    </td>
    <td><p class="tt"><a name="1009467"> </a>Not supported when accessing a PIM database. <code>sysErrNotAllowed</code> is returned.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009469"> </a><code>DmMoveRecord()</code></p>
    </td>
    <td><p class="tt"><a name="1009644"> </a>PACE handles calls to this function.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009473"> </a><code>DmNewHandle()</code></p>
    </td>
    <td><p class="tt"><a name="1009654"> </a>PACE handles calls to this function.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009477"> </a><code>DmNewRecord()</code></p>
    </td>
    <td><p class="tt"><a name="1009646"> </a>PACE handles calls to this function.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009481"> </a><code>DmNextOpenDatabase()</code></p>
    </td>
    <td><p class="tt"><a name="1009483"> </a>Calls through to the native OS. Note that applications rarely call this function with a PIM database.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009485"> </a><code>DmNumRecords()</code></p>
    </td>
    <td><p class="tt"><a name="1009624"> </a>PACE handles calls to this function.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009489"> </a><code>DmNumRecordsInCategory()</code></p>
    </td>
    <td><p class="tt"><a name="1009634"> </a>PACE handles calls to this function.</p>
    </td>
  </tr>
  <tr valign="top">
    <td>
<p><a name="1009493"> </a><code>DmOpenDatabase()</code></p>
    </td>
    <td><p class="tt"><a name="1009495"> </a>PACE handles calls to this function.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009497"> </a><code>DmOpenDatabaseByTypeCreator()</code></p>
    </td>
    <td><p class="tt"><a name="1009499"> </a>PACE handles calls to this function.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009501"> </a><code>DmOpenDatabaseInfo()</code></p>
    </td>
    <td><p class="tt"><a name="1009503"> </a>Calls through to the native OS.</p>
    </td>
  </tr>
  <tr valign="top">
    <td>
<p><a name="1009505"> </a><code>DmOpenDBNoOverlay()</code></p>
    </td>
    <td><p class="tt"><a name="1009507"> </a>PACE handles calls to this function.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009509"> </a><code>DmQueryNextInCategory()</code></p>
    </td>
    <td><p class="tt"><a name="1009662"> </a>PACE handles calls to this function.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009513"> </a><code>DmQueryRecord()</code></p>
    </td>
    <td><p class="tt"><a name="1009658"> </a>PACE handles calls to this function.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009517"> </a><code>DmQuickSort()</code></p>
    </td>
    <td><p class="tt"><a name="1009628"> </a>PACE handles calls to this function.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009521"> </a><code>DmRecordInfo()</code></p>
    </td>
    <td><p class="tt"><a name="1009636"> </a>PACE handles calls to this function.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009525"> </a><code>DmReleaseRecord()</code></p>
    </td>
    <td><p class="tt"><a name="1009670"> </a>PACE handles calls to this function.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009529"> </a><code>DmRemoveRecord()</code></p>
    </td>
    <td><p class="tt"><a name="1009648"> </a>PACE handles calls to this function.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009533"> </a><code>DmRemoveSecretRecords()</code></p>
    </td>
    <td><p class="tt"><a name="1009535"> </a>Not supported when accessing a PIM database. <code>sysErrNotAllowed</code> is returned.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009537"> </a><code>DmResetRecordStates()</code></p>
    </td>
    <td><p class="tt"><a name="1009539"> </a>Calls through to the native OS. Note that applications rarely call this function with a PIM database.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009541"> </a><code>DmResizeRecord()</code></p>
    </td>
    <td><p class="tt"><a name="1009668"> </a>PACE handles calls to this function.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009545"> </a><code>DmSetDatabaseInfo()</code></p>
    </td>
    <td><p class="tt"><a name="1009547"> </a>Calls through to the native OS.</p>
    </td>
  </tr>
  <tr valign="top">
    <td><p class="tt"><a name="1009549"> </a><code>DmSetRecordInfo()</code></p>
    </td>
    <td><p class="tt"><a name="1009638"> </a>PACE handles calls to this function.</p>
    </td>
  </tr>
</table>

</div>


<p><a name="994805"> </a></p>
&nbsp;<br>
</div>
<!--END CONTENT-->

</td>
<td width="5">&nbsp;&nbsp;</td>
</tr>

</table>

<!-- BEGIN FOOTER -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="7" rowspan="2"><img name="index_x" src="images/shim.gif" width="7" height="33" border="0" alt=""></td>
<td align="left"><img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
<td width="10" rowspan="2"><img name="index_x" src="images/shim.gif" width="10" height="33" border="0" alt=""></td>
</tr>
<tr>
<td align="center">
<p class="footer">
Copyright © 1996&#8211;2004, PalmSource, Inc. and its affiliates. All rights reserved.<br>
<a href="http://www.palmsource.com/contact/">Write Us</a> | <a href="http://www.palmos.com/dev/training/">Training</a> | <a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a> | <a href="PortingPalmApps_Front.html" target="_blank">Legal</a></p>
<br>
<!--BEGIN BOOK NAVIGATION-->
<p class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="PortingPalmAppsTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="PortingPalmApps_Part1.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="PortingProcess.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
</p>
</td>
</tr>
</table>
<!-- END FOOTER -->

</body>
</html>