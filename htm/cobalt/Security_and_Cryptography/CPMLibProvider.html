<html>
<head>
<title>(Protein) CPM Library Provider | Security and Cryptography</title> 
<link href="psi_devpubs.css" rel="stylesheet" type="text/css">

<!-- BEGIN META DATA -->
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META NAME="PSITEMPLATE" CONTENT="1006-007 PalmSource_HTML_2003 20041101">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks AutoMap 2003 for FrameMaker 8.0.6.2138">
<META NAME="LASTUPDATED" CONTENT="11/22/04 11:25:01">
<!-- END META DATA -->
</head>

<body bgcolor="#ffffff" text="#000000" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<a name="992934"></a>

<!-- BEGIN TOPNAV -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td><img src="images/shim.gif" width="7" height="75" border="0" alt=""></td>
<td align="left"><table border="0" cellpadding="0" cellspacing="0" width="744">
<tr>
<td><img name="index_r2_c1" src="images/shim.gif" width="25" height="75" border="0" alt=""></td>
<td valign="top"><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_r2_c4" src="images/shim.gif" width="96" height="15" border="0" alt=""></td>
</tr>
<tr>
<td><a href="http://www.palmsource.com/"><img name="ps_logo" src="images/ps_logo.gif" width="96" height="54" border="0" alt=""></a></td>
</tr>

</table>
</td>

<td><table border="0" cellpadding="0" cellspacing="0" width="30">
<td><img name="index_x" src="images/shim.gif" width="30" height="75" border="0" alt=""></td>
</table></td>

<!--BEGIN MASTHEAD-->
<td><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
<tr>
<td>
<!--BEGIN BOOK NAVIGATION-->
<span class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="SecurityAndCryptographyTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="CPMLibCommon.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="Encrypt.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="SecurityAndCryptographyIX.html">Index</a>
</span>
<!--END BOOK NAVIGATION-->
</tr>
<tr>
<td>
<!--BEGIN PAGE TITLE-->
<h2 class="PageTitle">11 &nbsp;&nbsp;
CPM Library Provider</h2></td>
<!--END PAGE TITLE-->
</tr>
<tr>
<td>
<!--BEGIN BOOK TITLE-->
<p class="BookTitle">Security and Cryptography</p>
<p class="SubTitle">Exploring Palm OS </p>
<!--END BOOK TITLE-->
</td>
</tr>
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
</table>
</td>
<!--END MASTHEAD-->
</tr>
</table>
<img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
</tr>
</table>
<!-- END TOPNAV -->

<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" width="5"><img name="index_x" src="images/shim.gif" width="5" height="33" border="0" alt=""></td>

<!--BEGIN SIDETOC-->
<td valign="top" width="175">
<div id="sidetoc" valign="bottom">
<h1 class="SideTOC1-PartTab"><a href="SecurityAndCrypto_Part2.html">Part II: Reference</a> </h1>
<h1 class="SideTOC1"><a href="CPMLibProvider.html">11  CPM Library Provider</a></h1>

   <h2 class="SideTOC2"><a href="#997682">
   CPM Library Provider Structures and Types</a></h2>

      <h3 class="SideTOC3"><a href="#1155489">
      CPMCallerInfoType</a></h3>

   <h2 class="SideTOC2"><a href="#1155514">
   CPM Library Provider Function Argument Structures</a></h2>

      <h3 class="SideTOC3"><a href="#1157393">
      APCmdPBType</a></h3>

      <h3 class="SideTOC3"><a href="#1106661">
      APDecrypt</a></h3>

      <h3 class="SideTOC3"><a href="#1107123">
      APDecryptFinal</a></h3>

      <h3 class="SideTOC3"><a href="#1105953">
      APDecryptInit</a></h3>

      <h3 class="SideTOC3"><a href="#1105970">
      APDecryptUpdate</a></h3>

      <h3 class="SideTOC3"><a href="#1108877">
      APDeriveKeyData</a></h3>

      <h3 class="SideTOC3"><a href="#1110904">
      APEncrypt</a></h3>

      <h3 class="SideTOC3"><a href="#1111387">
      APEncryptFinal</a></h3>

      <h3 class="SideTOC3"><a href="#1110228">
      APEncryptInit</a></h3>

      <h3 class="SideTOC3"><a href="#1110245">
      APEncryptUpdate</a></h3>

      <h3 class="SideTOC3"><a href="#1112748">
      APExportCipherInfo</a></h3>

      <h3 class="SideTOC3"><a href="#1113151">
      APExportHashInfo</a></h3>

      <h3 class="SideTOC3"><a href="#1114924">
      APExportKeyInfo</a></h3>

      <h3 class="SideTOC3"><a href="#1116828">
      APExportKeyPairInfo</a></h3>

      <h3 class="SideTOC3"><a href="#1118437">
      APExportMacInfo</a></h3>

      <h3 class="SideTOC3"><a href="#1119622">
      APExportSignInfo</a></h3>

      <h3 class="SideTOC3"><a href="#1120214">
      APExportVerifyInfo</a></h3>

      <h3 class="SideTOC3"><a href="#1122495">
      APGenerateKey</a></h3>

      <h3 class="SideTOC3"><a href="#1122514">
      APGenerateKeyPair</a></h3>

      <h3 class="SideTOC3"><a href="#1122810">
      APGetProviderInfo</a></h3>

      <h3 class="SideTOC3"><a href="#1125407">
      APHash</a></h3>

      <h3 class="SideTOC3"><a href="#1125911">
      APHashFinal</a></h3>

      <h3 class="SideTOC3"><a href="#1124698">
      APHashInit</a></h3>

      <h3 class="SideTOC3"><a href="#1124713">
      APHashUpdate</a></h3>

      <h3 class="SideTOC3"><a href="#1126226">
      APImportCipherInfo</a></h3>

      <h3 class="SideTOC3"><a href="#1128209">
      APImportHashInfo</a></h3>

      <h3 class="SideTOC3"><a href="#1128499">
      APImportKeyInfo</a></h3>

      <h3 class="SideTOC3"><a href="#1130572">
      APImportKeyPairInfo</a></h3>

      <h3 class="SideTOC3"><a href="#1132500">
      APImportMacInfo</a></h3>

      <h3 class="SideTOC3"><a href="#1134220">
      APImportSignInfo</a></h3>

      <h3 class="SideTOC3"><a href="#1135109">
      APImportVerifyInfo</a></h3>

      <h3 class="SideTOC3"><a href="#1138400">
      APMac</a></h3>

      <h3 class="SideTOC3"><a href="#1138439">
      APMacFinal</a></h3>

      <h3 class="SideTOC3"><a href="#1137148">
      APMacInit</a></h3>

      <h3 class="SideTOC3"><a href="#1137186">
      APMacUpdate</a></h3>

      <h3 class="SideTOC3"><a href="#1143263">
      APReleaseCipherInfo</a></h3>

      <h3 class="SideTOC3"><a href="#1143276">
      APReleaseHashInfo</a></h3>

      <h3 class="SideTOC3"><a href="#1143292">
      APReleaseKeyInfo</a></h3>

      <h3 class="SideTOC3"><a href="#1143307">
      APReleaseMACInfo</a></h3>

      <h3 class="SideTOC3"><a href="#1146509">
      APReleaseSignInfo</a></h3>

      <h3 class="SideTOC3"><a href="#1146522">
      APReleaseVerifyInfo</a></h3>

      <h3 class="SideTOC3"><a href="#1149762">
      APSign</a></h3>

      <h3 class="SideTOC3"><a href="#1149793">
      APSignFinal</a></h3>

      <h3 class="SideTOC3"><a href="#1148572">
      APSignInit</a></h3>

      <h3 class="SideTOC3"><a href="#1148589">
      APSignUpdate</a></h3>

      <h3 class="SideTOC3"><a href="#1152738">
      APVerify</a></h3>

      <h3 class="SideTOC3"><a href="#1153315">
      APVerifyFinal</a></h3>

      <h3 class="SideTOC3"><a href="#1152027">
      APVerifyInit</a></h3>

      <h3 class="SideTOC3"><a href="#1152044">
      APVerifyUpdate</a></h3>

   <h2 class="SideTOC2"><a href="#997678">
   CPM Library Provider Constants</a></h2>

      <h3 class="SideTOC3"><a href="#997775">
      APCmdType</a></h3>

      <h3 class="SideTOC3"><a href="#1005618">
      Miscellaneous CPM Library Provider Constants</a></h3>

   <h2 class="SideTOC2"><a href="#1161707">
   Application-Defined Functions</a></h2>

      <h3 class="SideTOC3"><a href="#1161710">
      APDispatchProcPtr</a></h3>

      <h3 class="SideTOC3"><a href="#1000184">
      CPMAddRandomSeedProcPtr</a></h3>

      <h3 class="SideTOC3"><a href="#1000377">
      CPMDebugOutProcPtr</a></h3>

      <h3 class="SideTOC3"><a href="#1000497">
      CPMDispatcherProcPtr</a></h3>

      <h3 class="SideTOC3"><a href="#1000584">
      CPMGenerateRandomBytesProcPtr</a></h3>

</div>
</td>

<td width="5">&nbsp;&nbsp;</td>
<td width="2" background="images/index_r8_c10.gif"><img src="images/shim.gif" width="2" height="75" border="0" alt=""></td>
<td width="5">&nbsp;&nbsp;</td>

<!--END SIDETOC-->

<td valign="top">

<!--BEGIN CONTENT-->
<div id="content" valign="bottom">
<p><a name="997685"> </a></p>
   <blockquote class = "bq"><a name="997686"> </a><a href="CPMLibProvider.html#997682">CPM Library Provider Structures and Types</a></blockquote>
   <blockquote class = "bq"><a name="1104778"> </a><a href="CPMLibProvider.html#1155514">CPM Library Provider Function Argument Structures</a></blockquote>
   <blockquote class = "bq"><a name="997687"> </a><a href="CPMLibProvider.html#997678">CPM Library Provider Constants</a></blockquote>
   <blockquote class = "bq"><a name="1002448"> </a><a href="CPMLibProvider.html#1161707">Application-Defined Functions</a></blockquote>

<p><a name="997689"> </a>The header file <code>CPMLibProvider.h</code> declares the API that this chapter describes.</p>

<p><a name="997690"> </a></p>

<h2 class="haH2">
  <a name="997682"> </a>CPM Library Provider Structures and Types <a href="#992934"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="1155489"> </a>CPMCallerInfoType Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1155491"> </a>Purpose 
</h4>

<p><a name="1155492"> </a>This structure is passed to the provider's dispatcher. It contains all the information necessary for the provider to call back into the CPM framework and use the CPM's resources. </p>
<h4>
  <a name="1155493"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1155494"> </a></code><h4>
  <a name="1155495"> </a>Prototype 
</h4>
<pre class="proto"><a name="1155496"></a>typedef struct _CPMCallerInfoType {
   void *appContext;
   CPMDebugOutProcPtr debugout;
   CPMDispatcherProcPtr dispatcher;
   CPMGenerateRandomBytesProcPtr generateRandom;
   CPMAddRandomSeedProcPtr addSeed;
</pre>
} CPMCallerInfoType<a name="1155497"> </a>
<pre class="proto"><a name="1155499"></a>typedef CPMCallerInfoType *CPMCallerInfoPtr;
</pre>
<h4>
  <a name="1155500"> </a>Fields 
</h4>

<dl>
<dt><a name="1155501"> </a><code>appContext</code></dt>
<dd><a name="1158821"> </a>Pointer to a structure containing the provider-specific application context to be used in future CPM calls. This structure is normally created and initialized when the library is opened.</dd>

<dt><a name="1155503"> </a><code>debugout</code></dt>
<dd><a name="1155504"> </a>Pointer to a function that outputs a debug message to the debug device. See <a href="CPMLibProvider.html#1000377"><code>CPMDebugOutProcPtr()</code></a></dd>

<dt><a name="1159230"> </a><code>dispatcher</code></dt>
<dd><a name="1159231"> </a>Pointer to the CPM function dispatcher. See <a href="CPMLibProvider.html#1000497"><code>CPMDispatcherProcPtr()</code></a>.</dd>

<dt><a name="1159232"> </a><code>generateRandom</code></dt>
<dd><a name="1155508"> </a>Pointer to a function that can return a requested number of random bytes. See <a href="CPMLibProvider.html#1000584"><code>CPMGenerateRandomBytesProcPtr()</code></a>.</dd>

<dt><a name="1155509"> </a><code>addSeed</code></dt>
<dd><a name="1155510"> </a>Pointer to a function that puts a number of seed bytes into the pseudo-random number generator maintained by the CPM. See <a href="CPMLibProvider.html#1000184"><code>CPMAddRandomSeedProcPtr()</code></a></dd>

</dl>

<h2 class="haH2">
  <a name="1155514"> </a>CPM Library Provider Function Argument Structures <a href="#992934"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="1157393"> </a>APCmdPBType Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1157395"> </a>Purpose 
</h4>

<p><a name="1157396"> </a>Declares the algorithm provider interface command parameter blocks.</p>
<h4>
  <a name="1157397"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1157398"> </a></code><h4>
  <a name="1157399"> </a>Prototype 
</h4>
<pre class="proto"><a name="1157400"></a>typedef union APCmdPBType {
   ...
} APCmdPBType, *APCmdPBPtr
</pre>
<h4>
  <a name="1157402"> </a>Fields 
</h4>

<p><a name="1157403"> </a>Various structures. Each structure is documented separately within this section.</p>

<h3 class="hbH3">
  <a name="1106661"> </a>APDecrypt Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1106663"> </a>Purpose 
</h4>

<p><a name="1106664"> </a>The command paramater block for the <code>Decrypt</code> call.</p>
<h4>
  <a name="1106665"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1106666"> </a></code><h4>
  <a name="1106667"> </a>Prototype 
</h4>
<pre class="proto"><a name="1106668"></a>   struct {
      APKeyInfoType *keyInfoP;
      APCipherInfoType *cipherInfoP;
      uint8_t *bufIn;
      uint32_t bufInLen;
      uint8_t *bufOut;
      uint32_t *bufOutLenP;
   } APDecrypt;
</pre>
<h4>
  <a name="1106669"> </a>Fields 
</h4>

<dl>
<dt><a name="1106670"> </a><code>keyInfoP</code></dt>
<dd><a name="1106671"> </a>The key to be used for the operation.</dd>

<dt><a name="1106672"> </a><code>cipherInfoP</code></dt>
<dd><a name="1106673"> </a>Avalid context for this operation initialized by the initialization operation.</dd>

<dt><a name="1106674"> </a><code>bufIn</code></dt>
<dd><a name="1106675"> </a>The data to add to the operation.</dd>

<dt><a name="1106676"> </a><code>bufInLen</code></dt>
<dd><a name="1106677"> </a>The length of the data to add to this operation.</dd>

<dt><a name="1106678"> </a><code>bufOut</code></dt>
<dd><a name="1106679"> </a>The buffer where the results of the operation are to be placed. </dd>

<dt><a name="1106680"> </a><code>bufOutLenP</code></dt>
<dd><a name="1106681"> </a>The size of the buffer specified by <code>bufOut</code>. Also returns the actual number of bytes placed in <code>bufOut</code> on return.</dd>

</dl>
<h4>
  <a name="1106682"> </a>Comments 
</h4>

<p><a name="1106683"> </a>The <code>cipherInfoP</code> field specifies an initialized context which was created in the initialization of this class of functions. </p>

<p><a name="1106684"> </a><code>bufInLen</code> may not be zero and <code>bufIn</code> must be valid.</p>

<p><a name="1106685"> </a>The provider performs a complete decryption operation using the data in <code>bufIn</code> of length <code>bufInLen</code> and puts the results in <code>bufOut</code>. The actual number of bytes placed in <code>bufOut</code> is placed in <code>bufOutLenP</code>.</p>

<h3 class="hbH3">
  <a name="1107123"> </a>APDecryptFinal Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1107125"> </a>Purpose 
</h4>

<p><a name="1107126"> </a>The command paramater block for the <code>DecryptFinal</code> call.</p>
<h4>
  <a name="1107127"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1107128"> </a></code><h4>
  <a name="1107129"> </a>Prototype 
</h4>
<pre class="proto"><a name="1107130"></a>   struct {
      APKeyInfoType *keyInfoP;
      APCipherInfoType *cipherInfoP;
      uint8_t *bufIn;
      uint32_t bufInLen;
      uint8_t *bufOut;
      uint32_t *bufOutLenP;
   } APDecryptFinal;
</pre>
<h4>
  <a name="1107131"> </a>Fields 
</h4>

<dl>
<dt><a name="1107132"> </a><code>keyInfoP</code></dt>
<dd><a name="1107133"> </a>The key to be used for the operation.</dd>

<dt><a name="1107134"> </a><code>cipherInfoP</code></dt>
<dd><a name="1107135"> </a>Avalid context for this operation initialized by the initialization operation.</dd>

<dt><a name="1107136"> </a><code>bufIn</code></dt>
<dd><a name="1107137"> </a>The data to add to the operation.</dd>

<dt><a name="1107138"> </a><code>bufInLen</code></dt>
<dd><a name="1107139"> </a>The length of the data to add to this operation.</dd>

<dt><a name="1107140"> </a><code>bufOut</code></dt>
<dd><a name="1107141"> </a>The buffer where the results of the operation are to be placed. </dd>

<dt><a name="1107142"> </a><code>bufOutLenP</code></dt>
<dd><a name="1107143"> </a>The size of the buffer specified by <code>bufOut</code>. Also returns the actual number of bytes placed in <code>bufOut</code> on return.</dd>

</dl>
<h4>
  <a name="1107144"> </a>Comments 
</h4>

<p><a name="1107145"> </a>The <code>cipherInfoP</code> field specifies an initialized context which was created in the initialization of this class of functions. </p>

<p><a name="1107146"> </a><code>bufInLen</code> may not be zero and <code>bufIn</code> must be valid.</p>

<p><a name="1107147"> </a>The provider performs a complete decryption operation using the data in <code>bufIn</code> of length <code>bufInLen</code> and puts the results in <code>bufOut</code>. The actual number of bytes placed in <code>bufOut</code> is placed in <code>bufOutLenP</code>.</p>

<h3 class="hbH3">
  <a name="1105953"> </a>APDecryptInit Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1105955"> </a>Purpose 
</h4>

<p><a name="1105956"> </a>The command paramater block for the <code>DecryptInit</code> call.</p>
<h4>
  <a name="1105957"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1105958"> </a></code><h4>
  <a name="1105959"> </a>Prototype 
</h4>
<pre class="proto"><a name="1105960"></a>   struct {
      APKeyInfoType *keyInfoP;
      APCipherInfoType *cipherInfoP;
   } APDecryptInit;
</pre>
<h4>
  <a name="1105961"> </a>Fields 
</h4>

<dl>
<dt><a name="1105962"> </a><code>keyInfoP</code></dt>
<dd><a name="1105963"> </a>The key to be used for the operation.</dd>

<dt><a name="1105964"> </a><code>cipherInfoP</code></dt>
<dd><a name="1105965"> </a>A handle to a context to pass to the other members of the Decrypt functions.</dd>

</dl>
<h4>
  <a name="1105966"> </a>Comments 
</h4>

<p><a name="1105967"> </a>The provider is responsible for initializing a context of the appropriate type with the specified <code>keyInfoP</code> for the operation and saving it in <code>cipherInfoP</code>. This Init operation must be concluded with a single finalization operation with zero or more update operations in between.</p>

<h3 class="hbH3">
  <a name="1105970"> </a>APDecryptUpdate Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1105972"> </a>Purpose 
</h4>

<p><a name="1105973"> </a>The command paramater block for the <code>DecryptUpdate</code> call.</p>
<h4>
  <a name="1105974"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1105975"> </a></code><h4>
  <a name="1105976"> </a>Prototype 
</h4>
<pre class="proto"><a name="1105977"></a>   struct {
      APKeyInfoType *keyInfoP;
      APCipherInfoType *cipherInfoP;
      uint8_t *bufIn;
      uint32_t bufInLen;
      uint8_t *bufOut;
      uint32_t *bufOutLenP;
   } APDecryptUpdate;
</pre>
<h4>
  <a name="1105978"> </a>Fields 
</h4>

<dl>
<dt><a name="1105979"> </a><code>keyInfoP</code></dt>
<dd><a name="1105980"> </a>The key to be used for the operation.</dd>

<dt><a name="1105981"> </a><code>cipherInfoP</code></dt>
<dd><a name="1105982"> </a>Avalid context for this operation initialized by the initialization operation.</dd>

<dt><a name="1105983"> </a><code>bufIn</code></dt>
<dd><a name="1105984"> </a>The data to add to the operation.</dd>

<dt><a name="1105985"> </a><code>bufInLen</code></dt>
<dd><a name="1105986"> </a>The length of the data to add to this operation.</dd>

<dt><a name="1105987"> </a><code>bufOut</code></dt>
<dd><a name="1105988"> </a>The buffer where the results of the operation are to be placed. </dd>

<dt><a name="1105989"> </a><code>bufOutLenP</code></dt>
<dd><a name="1105990"> </a>The size of the buffer specified by <code>bufOut</code>. Also returns the actual number of bytes placed in <code>bufOut</code> on return.</dd>

</dl>
<h4>
  <a name="1105991"> </a>Comments 
</h4>

<p><a name="1105992"> </a>The <code>cipherInfoP</code> field specifies an initialized context which was created in the initialization of this class of functions. </p>

<p><a name="1105993"> </a>If <code>bufInLen</code> is non-zero, the provider uses <code>cipherInfoP</code> to update the operation with the data in <code>bufIn</code> of length <code>bufInLen</code>.</p>

<p><a name="1105994"> </a>The provider finalizes the operation which was initialized by the Init operation and places the results of the operation in <code>bufOut</code>. The provider updates <code>bufOutLenP</code> with the actual number of bytes placed in <code>bufOut</code>. The provider is responsible for cleaning up the <code>cipherInfoP</code> parameter.</p>

<h3 class="hbH3">
  <a name="1108877"> </a>APDeriveKeyData Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1108879"> </a>Purpose 
</h4>

<p><a name="1108880"> </a>The command paramater block for the <code>DeriveKeyData</code> call.</p>
<h4>
  <a name="1108881"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1108882"> </a></code><h4>
  <a name="1108883"> </a>Prototype 
</h4>
<pre class="proto"><a name="1108884"></a>   struct {
      APKeyDerivationEnum kdType;
      APKeyDerivationUsageEnum kdUsage;
      uint8_t *saltP;
      uint32_t saltLen;
      uint32_t iterationCount;
      void *kdInfo;
      uint8_t *keyDataP;
      uint32_t *keyDataLenP;
   } APDeriveKeyData;
</pre>
<h4>
  <a name="1108885"> </a>Fields 
</h4>

<dl>
<dt><a name="1108886"> </a><code>kdType</code></dt>
<dd><a name="1159292"> </a>The type of key derivation to be performed. One of the values specified by <a href="CPMLibCommon.html#1011481"><code>APKeyDerivationEnum</code></a>.</dd>

<dt><a name="1108888"> </a><code>kdUsage</code></dt>
<dd><a name="1159299"> </a>The allowed usage of the subsequently derived key. One of the values specified by <a href="CPMLibCommon.html#1011493"><code>APKeyDerivationUsageEnum</code></a>.</dd>

<dt><a name="1108890"> </a><code>saltP</code></dt>
<dd><a name="1159330"> </a>Cryptographic salt to be used for the derivation function.</dd>

<dt><a name="1108892"> </a><code>saltLen</code></dt>
<dd><a name="1159334"> </a>The length, in bytes, of the salt.</dd>

<dt><a name="1108894"> </a><code>iterationCount</code></dt>
<dd><a name="1159338"> </a>The number of iterations for this particular derivation operation.</dd>

<dt><a name="1108896"> </a><code>kdInfo</code></dt>
<dd><a name="1159484"> </a>Other derivation-function-specific parameters as defined by both the provider handling the derivation and the derivation function itself.</dd>

<dt><a name="1108898"> </a><code>keyDataP</code></dt>
<dd><a name="1159342"> </a>Pointer to a buffer into which the derived key data is written. Pass <code>NULL</code> to determine how large this buffer should be.</dd>

<dt><a name="1108900"> </a><code>keyDataLenP</code></dt>
<dd><a name="1159346"> </a>When calling <code>DeriveKeyData</code>, set the variable to which this parameter points to the size of the <code class="par">keyDataP</code> buffer. Upon return, the variable will be set to the number of bytes written to <code class="par">keyDataP</code>. If you set <code class="par">keyDataP</code> to <code>NULL</code>, set this variable to 0.</dd>

</dl>

<h3 class="hbH3">
  <a name="1110904"> </a>APEncrypt Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1110906"> </a>Purpose 
</h4>

<p><a name="1110907"> </a>The command paramater block for the <code>Encrypt</code> call.</p>
<h4>
  <a name="1110908"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1110909"> </a></code><h4>
  <a name="1110910"> </a>Prototype 
</h4>
<pre class="proto"><a name="1110911"></a>   struct {
      APKeyInfoType *keyInfoP;
      APCipherInfoType *cipherInfoP;
      uint8_t *bufIn;
      uint32_t bufInLen;
      uint8_t *bufOut;
      uint32_t *bufOutLenP;
   } APEncrypt;
</pre>
<h4>
  <a name="1110912"> </a>Fields 
</h4>

<dl>
<dt><a name="1110913"> </a><code>keyInfoP</code></dt>
<dd><a name="1110914"> </a>The key to be used for the operation.</dd>

<dt><a name="1110915"> </a><code>cipherInfoP</code></dt>
<dd><a name="1110916"> </a>A valid context for this operation initialized by the initialization operation.</dd>

<dt><a name="1110917"> </a><code>bufIn</code></dt>
<dd><a name="1110918"> </a>The data to add to the operation.</dd>

<dt><a name="1110919"> </a><code>bufInLen</code></dt>
<dd><a name="1110920"> </a>The length of the data to add to this operation.</dd>

<dt><a name="1110921"> </a><code>bufOut</code></dt>
<dd><a name="1110922"> </a>The buffer where the results of the operation are to be placed. </dd>

<dt><a name="1110923"> </a><code>bufOutLenP</code></dt>
<dd><a name="1110924"> </a>The size of the buffer specified by the <code>bufOut</code> parameter. Also returns the actual number of bytes placed in <code>bufOut</code> on return.</dd>

</dl>
<h4>
  <a name="1110925"> </a>Comments 
</h4>

<p><a name="1110926"> </a>The <code>cipherInfoP</code> parameter specifies an initialized context which was created during the initialization of this class of functions. </p>

<p><a name="1110927"> </a>The parameter <code>bufInLen</code> may not be zero and <code>bufIn</code> must be valid.</p>

<p><a name="1110928"> </a>The provider performs a complete encryption operation using the data in <code>bufIn</code> of length <code>bufInLen</code> and puts the results in <code>bufOut</code>. The actual number of bytes placed in <code>bufOut</code> is placed in <code>bufOutLenP</code>.</p>

<h3 class="hbH3">
  <a name="1111387"> </a>APEncryptFinal Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1111389"> </a>Purpose 
</h4>

<p><a name="1111390"> </a>The command paramater block for the <code>EncryptFinal</code> call.</p>
<h4>
  <a name="1111391"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1111392"> </a></code><h4>
  <a name="1111393"> </a>Prototype 
</h4>
<pre class="proto"><a name="1111394"></a>   struct {
      APKeyInfoType *keyInfoP;
      APCipherInfoType *cipherInfoP;
      uint8_t *bufIn;
      uint32_t bufInLen;
      uint8_t *bufOut;
      uint32_t *bufOutLenP;
   } APEncryptFinal;
</pre>
<h4>
  <a name="1111395"> </a>Fields 
</h4>

<dl>
<dt><a name="1111396"> </a><code>keyInfoP</code></dt>
<dd><a name="1111397"> </a>The key to be used for the operation.</dd>

<dt><a name="1111398"> </a><code>cipherInfoP</code></dt>
<dd><a name="1111399"> </a>A valid context for this operation initialized by the initialization operation.</dd>

<dt><a name="1111400"> </a><code>bufIn</code></dt>
<dd><a name="1111401"> </a>The data to add to the operation.</dd>

<dt><a name="1111402"> </a><code>bufInLen</code></dt>
<dd><a name="1111403"> </a>The length of the data to add to this operation.</dd>

<dt><a name="1111404"> </a><code>bufOut</code></dt>
<dd><a name="1111405"> </a>The buffer where the results of the operation are to be placed. </dd>

<dt><a name="1111406"> </a><code>bufOutLenP</code></dt>
<dd><a name="1111407"> </a>The size of the buffer specified by the <code>bufOut</code> parameter. Also returns the actual number of bytes placed in <code>bufOut</code> on return</dd>

</dl>
<h4>
  <a name="1111408"> </a>Comments 
</h4>

<p><a name="1111409"> </a>The <code>cipherInfoP</code> parameter specifies an initialized context which was created in the Init of this class of functions. </p>

<p><a name="1111410"> </a>If the <code>bufInLen</code> is non-zero, the provider uses the <code>cipherInfoP</code> to update the operation with the data in <code>bufIn</code> of length <code>bufInLen</code>.</p>

<p><a name="1111411"> </a>The provider finalizes the operation which was initialized by the Init operation and places the results of the operation in <code>bufOut</code>. The provider updates <code>bufOutLenP</code> with the actual number of bytes placed in <code>bufOut</code>. The provider is responsible for cleaning up the <code>cipherInfoP</code> parameter. </p>

<h3 class="hbH3">
  <a name="1110228"> </a>APEncryptInit Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1110230"> </a>Purpose 
</h4>

<p><a name="1110231"> </a>The command paramater block for the <code>EncryptInit</code> call.</p>
<h4>
  <a name="1110232"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1110233"> </a></code><h4>
  <a name="1110234"> </a>Prototype 
</h4>
<pre class="proto"><a name="1110235"></a>   struct {
      APKeyInfoType *keyInfoP;
      APCipherInfoType *cipherInfoP;
   } APEncryptInit;
</pre>
<h4>
  <a name="1110236"> </a>Fields 
</h4>

<dl>
<dt><a name="1110237"> </a><code>keyInfoP</code></dt>
<dd><a name="1110238"> </a>The key to be used for the operation.</dd>

<dt><a name="1110239"> </a><code>cipherInfoP</code></dt>
<dd><a name="1110240"> </a>A handle to a context to pass to the other members of the Encrypt functions.</dd>

</dl>
<h4>
  <a name="1110241"> </a>Comments 
</h4>

<p><a name="1110242"> </a>The provider is responsible for initializing a context of the appropriate <code>type</code> with the specified <code>keyInfoP</code> for the operation and saving it in <code>cipherInfoP</code>. This initialization operation must be concluded with a single finalization operation with zero or more update operations in between.</p>

<h3 class="hbH3">
  <a name="1110245"> </a>APEncryptUpdate Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1110247"> </a>Purpose 
</h4>

<p><a name="1110248"> </a>The command paramater block for the <code>EncryptUpdate</code> call.</p>
<h4>
  <a name="1110249"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1110250"> </a></code><h4>
  <a name="1110251"> </a>Prototype 
</h4>
<pre class="proto"><a name="1110252"></a>   struct {
      APKeyInfoType *keyInfoP;
      APCipherInfoType *cipherInfoP;
      uint8_t *bufIn;
      uint32_t bufInLen;
      uint8_t *bufOut;
      uint32_t *bufOutLenP;
   } APEncryptUpdate;
</pre>
<h4>
  <a name="1110253"> </a>Fields 
</h4>

<dl>
<dt><a name="1110254"> </a><code>keyInfoP</code></dt>
<dd><a name="1110255"> </a>The key to be used for the operation.</dd>

<dt><a name="1110256"> </a><code>cipherInfoP</code></dt>
<dd><a name="1110257"> </a>A valid context for this operation initialized by the initialization operation.</dd>

<dt><a name="1110258"> </a><code>bufIn</code></dt>
<dd><a name="1110259"> </a>The data to add to the operation.</dd>

<dt><a name="1110260"> </a><code>bufInLen</code></dt>
<dd><a name="1110261"> </a>The length of the data to add to this operation.</dd>

<dt><a name="1110262"> </a><code>bufOut</code></dt>
<dd><a name="1110263"> </a>The buffer where the results of the operation are to be placed. </dd>

<dt><a name="1110264"> </a><code>bufOutLenP</code></dt>
<dd><a name="1110265"> </a>The size of the buffer specified by the <code>bufOut</code> parameter. Also returns the actual number of bytes placed in <code>bufOut</code> on return</dd>

</dl>
<h4>
  <a name="1110266"> </a>Comments 
</h4>

<p><a name="1110267"> </a>The <code>cipherInfoP</code> parameter specifies an initialized context which was created by the initialization of this class of functions. The provider uses <code>cipherInfoP</code> to update the operation with the data in <code>bufIn</code> of length <code>bufInLen</code>. The provider also updates <code>cipherInfoP</code> to reflect the update. Any number of update operations (including zero) may occur between an initialization and a finalization operation. The parameters <code>bufIn</code> and <code>bufInLen</code> must be valid for the operation or an error is returned. </p>

<h3 class="hbH3">
  <a name="1112748"> </a>APExportCipherInfo Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1112750"> </a>Purpose 
</h4>

<p><a name="1112751"> </a>The command paramater block for the <code>ExportCipherInfo</code> call.</p>
<h4>
  <a name="1112752"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1112753"> </a></code><h4>
  <a name="1112754"> </a>Prototype 
</h4>
<pre class="proto"><a name="1112755"></a>   struct {
      uint8_t encoding;
      uint8_t *exportDataP;
      uint32_t *dataLenP;
      APCipherInfoType *cipherInfoP;
   } APExportCipherInfo;
</pre>
<h4>
  <a name="1112756"> </a>Fields 
</h4>

<dl>
<dt><a name="1112757"> </a><code>encoding</code></dt>
<dd><a name="1112758"> </a>The encoding of the data being exported.</dd>

<dt><a name="1112759"> </a><code>exportDataP</code></dt>
<dd><a name="1112760"> </a>The data for the export operation.</dd>

<dt><a name="1112761"> </a><code>dataLenP</code></dt>
<dd><a name="1112762"> </a>Length of the exported data.</dd>

<dt><a name="1112763"> </a><code>cipherInfoP</code></dt>
<dd><a name="1112764"> </a>A valid context for this operation initialized by the initialization operation.</dd>

</dl>

<h3 class="hbH3">
  <a name="1113151"> </a>APExportHashInfo Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1113153"> </a>Purpose 
</h4>

<p><a name="1113154"> </a>The command paramater block for the <code>ExportHashInfo</code> call.</p>
<h4>
  <a name="1113155"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1113156"> </a></code><h4>
  <a name="1113157"> </a>Prototype 
</h4>
<pre class="proto"><a name="1113158"></a>   struct {
      uint8_t encoding;
      uint8_t *exportDataP;
      uint32_t *dataLenP;
      APHashInfoType *hashInfoP;
   } APExportHashInfo;
</pre>
<h4>
  <a name="1113159"> </a>Fields 
</h4>

<dl>
<dt><a name="1113160"> </a><code>encoding</code></dt>
<dd><a name="1113161"> </a>The encoding of the data being exported.</dd>

<dt><a name="1113162"> </a><code>exportDataP</code></dt>
<dd><a name="1113163"> </a>The data for the export operation.</dd>

<dt><a name="1113164"> </a><code>dataLenP</code></dt>
<dd><a name="1113165"> </a>Length of the exported data.</dd>

<dt><a name="1113166"> </a><code>hashInfoP</code></dt>
<dd><a name="1113170"> </a>An <a href="CPMLibCommon.html#1006140"><code>APHashInfoType</code></a> structure, allocated by the application, that holds information about the hashing operation.</dd>

</dl>

<h3 class="hbH3">
  <a name="1114924"> </a>APExportKeyInfo Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1114926"> </a>Purpose 
</h4>

<p><a name="1114927"> </a>The command paramater block for the <code>ExportKey</code> call.</p>
<h4>
  <a name="1114928"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1114929"> </a></code><h4>
  <a name="1114930"> </a>Prototype 
</h4>
<pre class="proto"><a name="1114931"></a>   struct {
      uint8_t encoding;
      APKeyInfoType *keyInfoP;
      uint8_t *exportDataP;
      uint32_t *dataLenP;
   } APExportKeyInfo;
</pre>
<h4>
  <a name="1114932"> </a>Fields 
</h4>

<dl>
<dt><a name="1114933"> </a><code>encoding</code></dt>
<dd><a name="1114934"> </a>The encoding desired for the export data.</dd>

<dt><a name="1114935"> </a><code>keyInfoP</code></dt>
<dd><a name="1114936"> </a>Pointer to the key being exported. </dd>

<dt><a name="1114937"> </a><code>exportDataP</code></dt>
<dd><a name="1114938"> </a>The data for the export operation.</dd>

<dt><a name="1114939"> </a><code>dataLenP</code></dt>
<dd><a name="1114940"> </a>Length of the exported data.</dd>

</dl>

<h3 class="hbH3">
  <a name="1116828"> </a>APExportKeyPairInfo Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1116830"> </a>Purpose 
</h4>

<p><a name="1116831"> </a>The command paramater block for the <code>ExportKeyPair</code> call.</p>
<h4>
  <a name="1116832"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1116833"> </a></code><h4>
  <a name="1116834"> </a>Prototype 
</h4>
<pre class="proto"><a name="1116835"></a>   struct {
      uint8_t encoding;
      uint8_t *exportDataP;
      uint32_t *dataLenP;
      APKeyInfoType *privateKeyInfoP;
      APKeyInfoType *publicKeyInfoP;
   } APExportKeyPairInfo;
</pre>
<h4>
  <a name="1116836"> </a>Fields 
</h4>

<dl>
<dt><a name="1116837"> </a><code>encoding</code></dt>
<dd><a name="1116838"> </a>The encoding of the data being exported.</dd>

<dt><a name="1116839"> </a><code>exportDataP</code></dt>
<dd><a name="1116840"> </a>The data for the export operation.</dd>

<dt><a name="1116841"> </a><code>dataLenP</code></dt>
<dd><a name="1116842"> </a>Length of the exported data.</dd>

<dt><a name="1116843"> </a><code>privateKeyInfoP</code></dt>
<dd><a name="1116847"> </a>Pointer to the <a href="CPMLibCommon.html#1007123"><code>APKeyInfoType</code></a> structure for the private key.</dd>

<dt><a name="1116848"> </a><code>publicKeyInfoP</code></dt>
<dd><a name="1116852"> </a>Pointer to the <a href="CPMLibCommon.html#1007123"><code>APKeyInfoType</code></a> structure for the public key.</dd>

</dl>

<h3 class="hbH3">
  <a name="1118437"> </a>APExportMacInfo Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1118439"> </a>Purpose 
</h4>

<p><a name="1118440"> </a>The command paramater block for the <code>ExportMAC</code> call.</p>
<h4>
  <a name="1118441"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1118442"> </a></code><h4>
  <a name="1118443"> </a>Prototype 
</h4>
<pre class="proto"><a name="1118444"></a>   struct {
      uint8_t encoding;
      uint8_t *exportDataP;
      uint32_t *dataLenP;
      APMACInfoType *macInfoP;
   } APExportMACInfo;
</pre>
<h4>
  <a name="1118445"> </a>Fields 
</h4>

<dl>
<dt><a name="1118446"> </a><code>encoding</code></dt>
<dd><a name="1118447"> </a>The encoding of the data being exported.</dd>

<dt><a name="1118448"> </a><code>exportDataP</code></dt>
<dd><a name="1118449"> </a>The data for the export operation.</dd>

<dt><a name="1118450"> </a><code>dataLenP</code></dt>
<dd><a name="1118451"> </a>Length of the exported data.</dd>

<dt><a name="1118452"> </a><code>macInfoP</code></dt>
<dd><a name="1118456"> </a>Pointer to an <a href="CPMLibCommon.html#994051"><code>APMACInfoType</code></a> structure.</dd>

</dl>

<h3 class="hbH3">
  <a name="1119622"> </a>APExportSignInfo Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1119624"> </a>Purpose 
</h4>

<p><a name="1119625"> </a>The command paramater block for the <code>ExportSignInfo</code> call.</p>
<h4>
  <a name="1119626"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1119627"> </a></code><h4>
  <a name="1119628"> </a>Prototype 
</h4>
<pre class="proto"><a name="1119629"></a>   struct {
      uint8_t encoding;
      uint8_t *exportDataP;
      uint32_t *dataLenP;
      APSignInfoType *signInfoP;
   } APExportSignInfo;
</pre>
<h4>
  <a name="1119630"> </a>Fields 
</h4>

<dl>
<dt><a name="1119631"> </a><code>encoding</code></dt>
<dd><a name="1119632"> </a>The encoding of the data being exported.</dd>

<dt><a name="1119633"> </a><code>exportDataP</code></dt>
<dd><a name="1119634"> </a>The data for the export operation.</dd>

<dt><a name="1119635"> </a><code>dataLenP</code></dt>
<dd><a name="1119636"> </a>Length of the exported data.</dd>

<dt><a name="1119637"> </a><code>signInfoP</code></dt>
<dd><a name="1119638"> </a>A valid context for this operation initialized by the initialization operation.</dd>

</dl>

<h3 class="hbH3">
  <a name="1120214"> </a>APExportVerifyInfo Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1120216"> </a>Purpose 
</h4>

<p><a name="1120217"> </a>The command paramater block for the <code>ExportVerifyInfo</code> call.</p>
<h4>
  <a name="1120218"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1120219"> </a></code><h4>
  <a name="1120220"> </a>Prototype 
</h4>
<pre class="proto"><a name="1120221"></a>   struct {
      uint8_t encoding;
      uint8_t *exportDataP;
      uint32_t *dataLenP;
      APVerifyInfoType *verifyInfoP;
   } APExportVerifyInfo;
</pre>
<h4>
  <a name="1120222"> </a>Fields 
</h4>

<dl>
<dt><a name="1120223"> </a><code>encoding</code></dt>
<dd><a name="1120224"> </a>The encoding of the data being exported.</dd>

<dt><a name="1120225"> </a><code>exportDataP</code></dt>
<dd><a name="1120226"> </a>The data for the export operation.</dd>

<dt><a name="1120227"> </a><code>dataLenP</code></dt>
<dd><a name="1120228"> </a>Length of the exported data.</dd>

<dt><a name="1120229"> </a><code>verifyInfoP</code></dt>
<dd><a name="1120230"> </a>A valid context for this operation initialized by the initialization operation.</dd>

</dl>

<h3 class="hbH3">
  <a name="1122495"> </a>APGenerateKey Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1122497"> </a>Purpose 
</h4>

<p><a name="1122498"> </a>The command paramater block for the <code>GenerateKey</code> call.</p>
<h4>
  <a name="1122499"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1122500"> </a></code><h4>
  <a name="1122501"> </a>Prototype 
</h4>
<pre class="proto"><a name="1122502"></a>   struct {
      uint8_t *keyDataP;
      uint32_t dataLen;
      APKeyInfoType *keyInfoP;
   } APGenerateKey;
</pre>
<h4>
  <a name="1122503"> </a>Fields 
</h4>

<dl>
<dt><a name="1122504"> </a><code>keyDataP</code></dt>
<dd><a name="1159540"> </a>Pointer to a buffer of seed bytes to be used by the pseudo-random number generator, or <code>NULL</code> to have the pseudo-random number generator use the seed data it already has.</dd>

<dt><a name="1122506"> </a><code>dataLen</code></dt>
<dd><a name="1122507"> </a>Length of the <code>keyDataP</code> data.</dd>

<dt><a name="1122508"> </a><code>keyInfoP</code></dt>
<dd><a name="1122509"> </a>An opaque handle to the key generated by the provider. </dd>

</dl>
<h4>
  <a name="1122510"> </a>Comments 
</h4>

<p><a name="1159628"> </a>If the newly-generated key is utilized for any cryptographic operations, it must be exported and saved in order to be used again. It is statistically improbably that a generated key could be regenerated.</p>

<p><a name="1122511"> </a>The provider generates a key of the specified type and returns an opaque handle the key in <code class="par">keyInfoP</code>. </p>

<h3 class="hbH3">
  <a name="1122514"> </a>APGenerateKeyPair Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1122516"> </a>Purpose 
</h4>

<p><a name="1122517"> </a>The command paramater block for the <code>GenerateKeyPair</code> call.</p>
<h4>
  <a name="1122518"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1122519"> </a></code><h4>
  <a name="1122520"> </a>Prototype 
</h4>
<pre class="proto"><a name="1122521"></a>   struct {
      uint8_t *keyDataP;
      uint32_t dataLen;
      APKeyInfoType *privateKeyInfoP;
      APKeyInfoType *publicKeyInfoP;
   } APGenerateKeyPair;
</pre>
<h4>
  <a name="1122522"> </a>Fields 
</h4>

<dl>
<dt><a name="1122523"> </a><code>keyDataP</code></dt>
<dd><a name="1159656"> </a>Pointer to a buffer of seed bytes to be used by the pseudo-random number generator, or <code>NULL</code> to have the pseudo-random number generator use the seed data it already has.</dd>

<dt><a name="1122525"> </a><code>dataLen</code></dt>
<dd><a name="1122526"> </a>Length of the <code>keyDataP</code> data.</dd>

<dt><a name="1122527"> </a><code>privateKeyInfoP</code></dt>
<dd><a name="1122531"> </a>Pointer to the <a href="CPMLibCommon.html#1007123"><code>APKeyInfoType</code></a> structure for the private key.</dd>

<dt><a name="1122532"> </a><code>publicKeyInfoP</code></dt>
<dd><a name="1122536"> </a>Pointer to the <a href="CPMLibCommon.html#1007123"><code>APKeyInfoType</code></a> structure for the public key.</dd>

</dl>
<h4>
  <a name="1159854"> </a>Comments 
</h4>

<p><a name="1159855"> </a>If the newly-generated key pair is utilized for any cryptographic operations, the pair must be exported and saved in order to be used again. It is statistically improbably that a generated key pair could be regenerated.</p>

<h3 class="hbH3">
  <a name="1122810"> </a>APGetProviderInfo Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1122812"> </a>Purpose 
</h4>

<p><a name="1122813"> </a>The command paramater block for the <code>GetProviderInfo</code> call. The <code>info</code> field is filled in with appropriate information. The provider is responsible for filling the correct information.</p>
<h4>
  <a name="1122814"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1122815"> </a></code><h4>
  <a name="1122816"> </a>Prototype 
</h4>
<pre class="proto"><a name="1122817"></a>struct {
   APProviderInfoType *infoP;
} APGetProviderInfo;
</pre>
<h4>
  <a name="1122818"> </a>Fields 
</h4>

<dl>
<dt><a name="1122819"> </a><code>infoP</code></dt>
<dd><a name="1122820"> </a>pointer to the <code>APProviderInfoType</code> structure.</dd>

</dl>

<h3 class="hbH3">
  <a name="1125407"> </a>APHash Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1125409"> </a>Purpose 
</h4>

<p><a name="1125410"> </a>The command paramater block for the <code>Hash</code> call.</p>
<h4>
  <a name="1125411"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1125412"> </a></code><h4>
  <a name="1125413"> </a>Prototype 
</h4>
<pre class="proto"><a name="1125414"></a>   struct {
      APHashEnum type;
      APHashInfoType *hashInfoP;
      uint8_t *bufIn;
      uint32_t bufInLen;
      uint8_t *bufOut;
      uint32_t *bufOutLenP;
   } APHash;
</pre>
<h4>
  <a name="1125415"> </a>Fields 
</h4>

<dl>
<dt><a name="1125416"> </a><code>type</code></dt>
<dd><a name="1125417"> </a>The type of hash requested for this operation.</dd>

<dt><a name="1125418"> </a><code>hashInfoP</code></dt>
<dd><a name="1125419"> </a>The hash context information for this operation.</dd>

<dt><a name="1125420"> </a><code>bufIn</code></dt>
<dd><a name="1125421"> </a>The data to add to the operation.</dd>

<dt><a name="1125422"> </a><code>bufInLen</code></dt>
<dd><a name="1125423"> </a>The length of the data to add to this operation.</dd>

<dt><a name="1125424"> </a><code>bufOut</code></dt>
<dd><a name="1125425"> </a>The buffer into which the results of the operation are to be placed. </dd>

<dt><a name="1125426"> </a><code>bufOutLenP</code></dt>
<dd><a name="1125427"> </a>The size of the buffer specified by the <code>bufOut</code> parameter. Returns the actual number of bytes placed in <code>bufOut</code>.</dd>

</dl>
<h4>
  <a name="1125428"> </a>Comments 
</h4>

<p><a name="1125429"> </a>The <code>hashInfoP</code> parameter specifies an initialized context which was created in the initialization of this class of functions. </p>

<p><a name="1125430"> </a>The parameter <code>bufInLen</code> may not be zero and <code>bufIn</code> must be valid.</p>

<p><a name="1125431"> </a>The provider performs a complete operation of <code>type</code> using the data in <code>bufIn</code> of length <code>bufInLen</code> and puts the results in <code>bufOut</code>. The actual number of bytes placed in <code>bufOut</code> is placed in <code>bufOutLenP</code>. </p>

<h3 class="hbH3">
  <a name="1125911"> </a>APHashFinal Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1125913"> </a>Purpose 
</h4>

<p><a name="1125914"> </a>The command paramater block for the <code>HashFinal</code> call.</p>
<h4>
  <a name="1125915"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1125916"> </a></code><h4>
  <a name="1125917"> </a>Prototype 
</h4>
<pre class="proto"><a name="1125918"></a>   struct {
      APHashInfoType *hashInfoP;
      uint8_t *bufIn;
      uint32_t bufInLen;
      uint8_t *bufOut;
      uint32_t *bufOutLenP;
   } APHashFinal;
</pre>
<h4>
  <a name="1125919"> </a>Fields 
</h4>

<dl>
<dt><a name="1125920"> </a><code>hashInfoP</code></dt>
<dd><a name="1125921"> </a>A valid context for this operation initialized by the HashInit operation.</dd>

<dt><a name="1125922"> </a><code>bufIn</code></dt>
<dd><a name="1125923"> </a>The data to add to the operation.</dd>

<dt><a name="1125924"> </a><code>bufInLen</code></dt>
<dd><a name="1125925"> </a>The length of the data to add to this operation.</dd>

<dt><a name="1125926"> </a><code>bufOut</code></dt>
<dd><a name="1125927"> </a>The buffer where the results of the operation are placed.</dd>

<dt><a name="1125928"> </a><code>bufOutLenP</code></dt>
<dd><a name="1125929"> </a>The size of the buffer specified by the <code>bufOut</code> parameter. Returns the actual number of bytes placed in <code>bufOut</code>.</dd>

</dl>
<h4>
  <a name="1125930"> </a>Comments 
</h4>

<p><a name="1125931"> </a>The <code>hashInfoP</code> parameter specifies an initialized context which was created in the Init of this class of functions. </p>

<p><a name="1125932"> </a>If the <code>bufInLen</code> is non-zero, the provider uses the <code>hashInfoP</code> to update the operation with the data in <code>bufIn</code> of length <code>bufInLen</code>.</p>

<p><a name="1125933"> </a>The provider finalizes the operation which was initialized by the Init operation and places the results of the operation in <code>bufOut</code>. The provider updates <code>bufOutLenP</code> with the actual number of bytes placed in <code>bufOut</code>. The provider is responsible for cleaning up the <code>hashInfoP</code> parameter.</p>

<h3 class="hbH3">
  <a name="1124698"> </a>APHashInit Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1124700"> </a>Purpose 
</h4>

<p><a name="1124701"> </a>The command paramater block for the <code>HashInit</code> call.</p>
<h4>
  <a name="1124702"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1124703"> </a></code><h4>
  <a name="1124704"> </a>Prototype 
</h4>
<pre class="proto"><a name="1124705"></a>   struct {
      APHashInfoType *hashInfoP;
   } APHashInit;
</pre>
<h4>
  <a name="1124706"> </a>Fields 
</h4>

<dl>
<dt><a name="1124707"> </a><code>hashInfoP</code></dt>
<dd><a name="1124708"> </a>A pointer to a hash info structure to pass to the other members of the Hash functions.</dd>

</dl>
<h4>
  <a name="1124709"> </a>Comments 
</h4>

<p><a name="1124710"> </a>The provider is responsible for initializing a context of the appropriate for the operation and saving it in <code>*hashInfoP</code>. This initialization operation must be concluded with a single HashFinal operation with zero or more HashUpdate operations in between.</p>

<h3 class="hbH3">
  <a name="1124713"> </a>APHashUpdate Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1124715"> </a>Purpose 
</h4>

<p><a name="1124716"> </a>The command paramater block for the <code>HashUpdate</code> call.</p>
<h4>
  <a name="1124717"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1124718"> </a></code><h4>
  <a name="1124719"> </a>Prototype 
</h4>
<pre class="proto"><a name="1124720"></a>   struct {
      APHashInfoType *hashInfoP;
      uint8_t *bufIn;
      uint32_t bufInLen;
   } APHashUpdate;
</pre>
<h4>
  <a name="1124721"> </a>Fields 
</h4>

<dl>
<dt><a name="1124722"> </a><code>hashInfoP</code></dt>
<dd><a name="1124723"> </a>A valid context for this operation initialized by the HashInit operation.</dd>

<dt><a name="1124724"> </a><code>bufIn</code></dt>
<dd><a name="1124725"> </a>The data to add to the operation.</dd>

<dt><a name="1124726"> </a><code>bufInLen</code></dt>
<dd><a name="1124727"> </a>The length of the data to add to this operation.</dd>

</dl>
<h4>
  <a name="1124728"> </a>Comments 
</h4>

<p><a name="1124729"> </a>The <code>hashInfoP</code> parameter specifies an initialized context which was created during the initialization of this class of functions. The provider uses the <code>hashInfoP</code> to update the operation with the data in <code>bufIn</code> of length <code>bufInLen</code>. The provider also updates the <code>hashInfoP</code> to reflect the update. Any number of update operations (including zero) may occur between an intialization and a finalization operation. The parameters <code>bufIn</code> and <code>bufInLen</code> must be valid for the operation or an error is returned.</p>

<h3 class="hbH3">
  <a name="1126226"> </a>APImportCipherInfo Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1126228"> </a>Purpose 
</h4>

<p><a name="1126229"> </a>The command paramater block for the <code>ImportCipherInfo</code> call.</p>
<h4>
  <a name="1126230"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1126231"> </a></code><h4>
  <a name="1126232"> </a>Prototype 
</h4>
<pre class="proto"><a name="1126233"></a>   struct {
      uint8_t encoding;
      uint8_t *importDataP;
      uint32_t dataLen;
      APCipherInfoType *cipherInfoP;
   } APImportCipherInfo;
</pre>
<h4>
  <a name="1126234"> </a>Fields 
</h4>

<dl>
<dt><a name="1126235"> </a><code>encoding</code></dt>
<dd><a name="1126236"> </a>The encoding of the data being imported.</dd>

<dt><a name="1126237"> </a><code>importDataP</code></dt>
<dd><a name="1126238"> </a>The data for the import operation.</dd>

<dt><a name="1126239"> </a><code>dataLen</code></dt>
<dd><a name="1126240"> </a>Length of the <code>importDataP</code> block.</dd>

<dt><a name="1126241"> </a><code>cipherInfoP</code></dt>
<dd><a name="1126242"> </a>A valid context for this operation initialized by the initialization operation.</dd>

</dl>

<h3 class="hbH3">
  <a name="1128209"> </a>APImportHashInfo Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1128211"> </a>Purpose 
</h4>

<p><a name="1128212"> </a>The command paramater block for the <code>ImportHashInfo</code> call.</p>
<h4>
  <a name="1128213"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1128214"> </a></code><h4>
  <a name="1128215"> </a>Prototype 
</h4>
<pre class="proto"><a name="1128216"></a>   struct {
      uint8_t encoding;
      uint8_t *importDataP;
      uint32_t dataLen;
      APHashInfoType *hashInfoP;
   } APImportHashInfo;
</pre>
<h4>
  <a name="1128217"> </a>Fields 
</h4>

<dl>
<dt><a name="1128218"> </a><code>encoding</code></dt>
<dd><a name="1128219"> </a>The encoding of the data being imported.</dd>

<dt><a name="1128220"> </a><code>importDataP</code></dt>
<dd><a name="1128221"> </a>The data for the import operation.</dd>

<dt><a name="1128222"> </a><code>dataLen</code></dt>
<dd><a name="1128223"> </a>Length of the <code>importDataP</code> block.</dd>

<dt><a name="1128224"> </a><code>hashInfoP</code></dt>
<dd><a name="1128228"> </a>Pointer to an <a href="CPMLibCommon.html#1006140"><code>APHashInfoType</code></a> structure that holds information about the hashing operation.</dd>

</dl>

<h3 class="hbH3">
  <a name="1128499"> </a>APImportKeyInfo Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1128501"> </a>Purpose 
</h4>

<p><a name="1128502"> </a>The command paramater block for the <code>ImportKey</code> call.</p>
<h4>
  <a name="1128503"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1128504"> </a></code><h4>
  <a name="1128505"> </a>Prototype 
</h4>
<pre class="proto"><a name="1128506"></a>   struct {
      uint8_t encoding;
      uint8_t *importDataP;
      uint32_t dataLen;
      APKeyInfoType *keyInfoP;
</pre>
<pre class="proto"><a name="1128507"></a>   } APImportKeyInfo;
</pre>
<h4>
  <a name="1128508"> </a>Fields 
</h4>

<dl>
<dt><a name="1128509"> </a><code>encoding</code></dt>
<dd><a name="1128510"> </a>The encoding of the data being imported.</dd>

<dt><a name="1128511"> </a><code>importDataP</code></dt>
<dd><a name="1128512"> </a>The data for the import operation.</dd>

<dt><a name="1128513"> </a><code>dataLen</code></dt>
<dd><a name="1128514"> </a>Length of the <code>importDataP</code> block.</dd>

<dt><a name="1128515"> </a><code>keyInfoP</code></dt>
<dd><a name="1128516"> </a>An opaque handle to the key generated by the provider. </dd>

</dl>
<h4>
  <a name="1128517"> </a>Comments 
</h4>

<p><a name="1128518"> </a>The provider imports a key as specified by the data in <code>importDataP</code> and returns an opaque handle the key in <code>keyInfoP</code>. </p>

<h3 class="hbH3">
  <a name="1130572"> </a>APImportKeyPairInfo Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1130574"> </a>Purpose 
</h4>

<p><a name="1130575"> </a>The command paramater block for the <code>ImportKeyPair</code> call.</p>
<h4>
  <a name="1130576"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1130577"> </a></code><h4>
  <a name="1130578"> </a>Prototype 
</h4>
<pre class="proto"><a name="1130579"></a>   struct {
      uint8_t encoding;
      uint8_t *importDataP;
      uint32_t dataLen;
      APKeyInfoType *privateKeyInfoP;
      APKeyInfoType *publicKeyInfoP;
   } APImportKeyPairInfo;
</pre>
<h4>
  <a name="1130580"> </a>Parameters 
</h4>

<dl>
<dt><a name="1130581"> </a><code>encoding</code></dt>
<dd><a name="1130582"> </a>The encoding of the data being imported.</dd>

<dt><a name="1130583"> </a><code>importDataP</code></dt>
<dd><a name="1130584"> </a>The data for the import operation.</dd>

<dt><a name="1130585"> </a><code>dataLen</code></dt>
<dd><a name="1130586"> </a>Length of the import data.</dd>

<dt><a name="1130587"> </a><code>privateKeyInfoP</code></dt>
<dd><a name="1130591"> </a>Pointer to the <a href="CPMLibCommon.html#1007123"><code>APKeyInfoType</code></a> structure for the private key.</dd>

<dt><a name="1130592"> </a><code>publicKeyInfoP</code></dt>
<dd><a name="1130596"> </a>Pointer to the <a href="CPMLibCommon.html#1007123"><code>APKeyInfoType</code></a> structure for the public key.</dd>

</dl>

<h3 class="hbH3">
  <a name="1132500"> </a>APImportMacInfo Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1132502"> </a>Purpose 
</h4>

<p><a name="1132503"> </a>The command paramater block for the <code>ImportMAC</code> call.</p>
<h4>
  <a name="1132504"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1132505"> </a></code><h4>
  <a name="1132506"> </a>Prototype 
</h4>
<pre class="proto"><a name="1132507"></a>   struct {
      uint8_t encoding;
      uint8_t *importDataP;
      uint32_t dataLen;
      APMACInfoType *macInfoP;
   } APImportMACInfo;
</pre>
<h4>
  <a name="1132508"> </a>Fields 
</h4>

<dl>
<dt><a name="1132509"> </a><code>encoding</code></dt>
<dd><a name="1132510"> </a>The encoding of the data being imported.</dd>

<dt><a name="1132511"> </a><code>importDataP</code></dt>
<dd><a name="1132512"> </a>The data for the import operation.</dd>

<dt><a name="1132513"> </a><code>dataLen</code></dt>
<dd><a name="1132514"> </a>Length of the <code>importDataP</code> block.</dd>

<dt><a name="1132515"> </a><code>macInfoP</code></dt>
<dd><a name="1132519"> </a>Pointer to an <a href="CPMLibCommon.html#994051"><code>APMACInfoType</code></a> structure.</dd>

</dl>

<h3 class="hbH3">
  <a name="1134220"> </a>APImportSignInfo Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1134222"> </a>Purpose 
</h4>

<p><a name="1134223"> </a>The command paramater block for the <code>ImportSignInfo</code> call.</p>
<h4>
  <a name="1134224"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1134225"> </a></code><h4>
  <a name="1134226"> </a>Prototype 
</h4>
<pre class="proto"><a name="1134227"></a>   struct {
      uint8_t encoding;
      uint8_t *importDataP;
      uint32_t dataLen;
      APSignInfoType *signInfoP;
   } APImportSignInfo;
</pre>
<h4>
  <a name="1134228"> </a>Fields 
</h4>

<dl>
<dt><a name="1134229"> </a><code>encoding</code></dt>
<dd><a name="1134230"> </a>The encoding of the data being imported.</dd>

<dt><a name="1134231"> </a><code>importDataP</code></dt>
<dd><a name="1134232"> </a>The data for the import operation.</dd>

<dt><a name="1134233"> </a><code>dataLen</code></dt>
<dd><a name="1134234"> </a>Length of the <code>importDataP</code> block.</dd>

<dt><a name="1134235"> </a><code>signInfoP</code></dt>
<dd><a name="1134236"> </a>A valid context for this operation initialized by the initialization operation.</dd>

</dl>

<h3 class="hbH3">
  <a name="1135109"> </a>APImportVerifyInfo Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1135111"> </a>Purpose 
</h4>

<p><a name="1135112"> </a>The command paramater block for the <code>ImportVerifyInfo</code> call.</p>
<h4>
  <a name="1135113"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1135114"> </a></code><h4>
  <a name="1135115"> </a>Prototype 
</h4>
<pre class="proto"><a name="1135116"></a>   struct {
      uint8_t encoding;
      uint8_t *importDataP;
      uint32_t dataLen;
      APVerifyInfoType *verifyInfoP;
   } APImportVerifyInfo;
</pre>
<h4>
  <a name="1135117"> </a>Fields 
</h4>

<dl>
<dt><a name="1135118"> </a><code>encoding</code></dt>
<dd><a name="1135119"> </a>The encoding of the data being imported.</dd>

<dt><a name="1135120"> </a><code>importDataP</code></dt>
<dd><a name="1135121"> </a>The data for the import operation.</dd>

<dt><a name="1135122"> </a><code>dataLen</code></dt>
<dd><a name="1135123"> </a>Length of the <code>importDataP</code> block.</dd>

<dt><a name="1135124"> </a><code>verifyInfoP</code></dt>
<dd><a name="1135125"> </a>A valid context for this operation initialized by the initialization operation.</dd>

</dl>

<h3 class="hbH3">
  <a name="1138400"> </a>APMac Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1138402"> </a>Purpose 
</h4>

<p><a name="1138403"> </a>The command paramater block for the <code>Mac</code> call.</p>
<h4>
  <a name="1138404"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1138405"> </a></code><h4>
  <a name="1138406"> </a>Prototype 
</h4>
<pre class="proto"><a name="1138407"></a>   struct {
      APKeyInfoType *keyInfoP;
      APHashInfoType *hashInfoP;
      APMACEnum type;
      APMACInfoType *macInfoP;
      uint8_t *bufIn;
      uint32_t bufInLen;
      uint8_t *bufOut;
      uint32_t *bufOutLenP;
   } APMac;
</pre>
<h4>
  <a name="1138408"> </a>Fields 
</h4>

<dl>
<dt><a name="1138409"> </a><code>keyInfoP</code></dt>
<dd><a name="1138413"> </a>Pointer to an <a href="CPMLibCommon.html#1007123"><code>APKeyInfoType</code></a> structure, allocated by the application, containing the key to be used for the operation.</dd>

<dt><a name="1138414"> </a><code>hashInfoP</code></dt>
<dd><a name="1138418"> </a>Pointer to an <a href="CPMLibCommon.html#1006140"><code>APHashInfoType</code></a> structure, allocated by the application, that holds information about the hashing operation to be used for the operation.</dd>

<dt><a name="1138419"> </a><code>type</code></dt>
<dd><a name="1138423"> </a>One of the values declared by the <a href="CPMLibCommon.html#1012025"><code>APMACEnum</code></a> enum.</dd>

<dt><a name="1138424"> </a><code>macInfoP</code></dt>
<dd><a name="1138428"> </a>Pointer to an <a href="CPMLibCommon.html#994051"><code>APMACInfoType</code></a> structure, allocated by the application, to be used in subsequent calls to the same class of operations.</dd>

<dt><a name="1138429"> </a><code>bufIn</code></dt>
<dd><a name="1138430"> </a>Pointer to a buffer containing the data for the operation. This parameter must not be <code>NULL</code>.</dd>

<dt><a name="1138431"> </a><code>bufInLen</code></dt>
<dd><a name="1138432"> </a>The size, in bytes, of the buffer specified by <code class="par">bufIn</code>. This value must be greater than zero.</dd>

<dt><a name="1138433"> </a><code>bufOut</code></dt>
<dd><a name="1138434"> </a>Pointer to a buffer, allocated by the application, to receive the output of the operation.</dd>

<dt><a name="1138435"> </a><code>bufOutLenP</code></dt>
<dd><a name="1138436"> </a>The size, in bytes, of the buffer specified by the <code class="par">bufOut</code> parameter.</dd>

</dl>

<h3 class="hbH3">
  <a name="1138439"> </a>APMacFinal Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1138441"> </a>Purpose 
</h4>

<p><a name="1138442"> </a>The command paramater block for the <code>MacFinal</code> call.</p>
<h4>
  <a name="1138443"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1138444"> </a></code><h4>
  <a name="1138445"> </a>Prototype 
</h4>
<pre class="proto"><a name="1138446"></a>   struct {
      APMACInfoType *macInfoP;
      uint8_t *bufIn;
      uint32_t bufInLen;
      uint8_t *bufOut;
      uint32_t *bufOutLenP;
   } APMacFinal;
</pre>
<h4>
  <a name="1138447"> </a>Fields 
</h4>

<dl>
<dt><a name="1138448"> </a><code>macInfoP</code></dt>
<dd><a name="1138452"> </a>Pointer to the <a href="CPMLibCommon.html#994051"><code>APMACInfoType</code></a> structure that was initialized during the call to <a href="CPMLibARMInterface.html#996832"><code>CPMLibMACInit()</code></a>.</dd>

<dt><a name="1138456"> </a><code>bufIn</code></dt>
<dd><a name="1138457"> </a>Pointer to a buffer containing the data for the operation, or <code>NULL</code> if there is no additional data.</dd>

<dt><a name="1138458"> </a><code>bufInLen</code></dt>
<dd><a name="1138459"> </a>The size, in bytes, of the buffer specified by <code class="par">bufIn</code>.</dd>

<dt><a name="1138460"> </a><code>bufOut</code></dt>
<dd><a name="1138461"> </a>Pointer to a buffer, allocated by the application, to receive the output of the operation.</dd>

<dt><a name="1138462"> </a><code>bufOutLenP</code></dt>
<dd><a name="1138463"> </a>The size, in bytes, of the buffer specified by the <code class="par">bufOut</code> parameter.</dd>

</dl>

<h3 class="hbH3">
  <a name="1137148"> </a>APMacInit Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1137150"> </a>Purpose 
</h4>

<p><a name="1137151"> </a>The command paramater block for the <code>MacInit</code> call.</p>
<h4>
  <a name="1137152"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1137153"> </a></code><h4>
  <a name="1137154"> </a>Prototype 
</h4>
<pre class="proto"><a name="1137155"></a>   struct {
      APKeyInfoType keyInfoP;
      APHashInfoType hashInfoP;
      APMACInfoType *macInfoP;
   } APMacInit;
</pre>
<h4>
  <a name="1137156"> </a>Parameters 
</h4>

<dl>
<dt><a name="1137157"> </a><code>keyInfoP</code></dt>
<dd><a name="1137161"> </a>Pointer to an <a href="CPMLibCommon.html#1007123"><code>APKeyInfoType</code></a> structure, allocated by the application, containing the key to be used in the subsequent calls to <a href="CPMLibARMInterface.html#996934"><code>CPMLibMACUpdate()</code></a> and <a href="CPMLibARMInterface.html#996770"><code>CPMLibMACFinal()</code></a>.</dd>

<dt><a name="1137168"> </a><code>hashInfoP</code></dt>
<dd><a name="1137172"> </a>Pointer to an <a href="CPMLibCommon.html#1006140"><code>APHashInfoType</code></a> structure, allocated by the application, that holds information about the hashing operation for use in the subsequent calls to <a href="CPMLibARMInterface.html#996934"><code>CPMLibMACUpdate()</code></a> and <a href="CPMLibARMInterface.html#996770"><code>CPMLibMACFinal()</code></a>.</dd>

<dt><a name="1137179"> </a><code>macInfoP</code></dt>
<dd><a name="1137183"> </a>Pointer to an <a href="CPMLibCommon.html#994051"><code>APMACInfoType</code></a> structure, allocated by the application, to be used in subsequent calls to the same class of operations.</dd>

</dl>

<h3 class="hbH3">
  <a name="1137186"> </a>APMacUpdate Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1137188"> </a>Purpose 
</h4>

<p><a name="1137189"> </a>The command paramater block for the <code>MacUpdate</code> call.</p>
<h4>
  <a name="1137190"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1137191"> </a></code><h4>
  <a name="1137192"> </a>Prototype 
</h4>
<pre class="proto"><a name="1137193"></a>   struct {
      APMACInfoType *macInfoP;
      uint8_t *bufIn;
      uint32_t bufInLen;
      uint8_t *bufOut;
      uint32_t *bufOutLenP;
   } APMacUpdate;
</pre>
<h4>
  <a name="1137194"> </a>Fields 
</h4>

<dl>
<dt><a name="1137195"> </a><code>macInfoP</code></dt>
<dd><a name="1137199"> </a>Pointer to the <a href="CPMLibCommon.html#994051"><code>APMACInfoType</code></a> structure that was initialized during the call to <a href="CPMLibARMInterface.html#996832"><code>CPMLibMACInit()</code></a>.</dd>

<dt><a name="1137203"> </a><code>bufIn</code></dt>
<dd><a name="1137204"> </a>Pointer to a buffer containing the data for the operation. This parameter must not be <code>NULL</code>.</dd>

<dt><a name="1137205"> </a><code>bufInLen</code></dt>
<dd><a name="1137206"> </a>The size, in bytes, of the buffer specified by <code class="par">bufIn</code>. This value must be greater than zero.</dd>

<dt><a name="1137207"> </a><code>bufOut</code></dt>
<dd><a name="1137208"> </a>Pointer to a buffer, allocated by the application, to receive the output of the operation.</dd>

<dt><a name="1137209"> </a><code>bufOutLenP</code></dt>
<dd><a name="1137210"> </a>The size, in bytes, of the buffer specified by the <code class="par">bufOut</code> parameter.</dd>

</dl>

<h3 class="hbH3">
  <a name="1143263"> </a>APReleaseCipherInfo Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1143265"> </a>Purpose 
</h4>

<p><a name="1143266"> </a>The command paramater block for the <code>ReleaseCipherInfo</code> call.</p>
<h4>
  <a name="1143267"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1143268"> </a></code><h4>
  <a name="1143269"> </a>Prototype 
</h4>
<pre class="proto"><a name="1143270"></a>   struct {
      APCipherInfoType *cipherInfoP;
   } APReleaseCipherInfo;
</pre>
<h4>
  <a name="1143271"> </a>Parameters 
</h4>

<dl>
<dt><a name="1143272"> </a><code>cipherInfoP</code></dt>
<dd><a name="1143273"> </a>A valid context for this operation initialized by the initialization operation.</dd>

</dl>

<h3 class="hbH3">
  <a name="1143276"> </a>APReleaseHashInfo Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1143278"> </a>Purpose 
</h4>

<p><a name="1143279"> </a>The command paramater block for the <code>ReleaseHashInfo</code> call.</p>
<h4>
  <a name="1143280"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1143281"> </a></code><h4>
  <a name="1143282"> </a>Prototype 
</h4>
<pre class="proto"><a name="1143283"></a>   struct {
      APHashInfoType *hashInfoP;
   } APReleaseHashInfo;
</pre>
<h4>
  <a name="1143284"> </a>Fields 
</h4>

<dl>
<dt><a name="1143285"> </a><code>hashInfoP</code></dt>
<dd><a name="1143289"> </a>Pointer to the <a href="CPMLibCommon.html#1006140"><code>APHashInfoType</code></a> structure.</dd>

</dl>

<h3 class="hbH3">
  <a name="1143292"> </a>APReleaseKeyInfo Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1143294"> </a>Purpose 
</h4>

<p><a name="1143295"> </a>The command paramater block for the <code>ReleaseKey</code> call.</p>
<h4>
  <a name="1143296"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1143297"> </a></code><h4>
  <a name="1143298"> </a>Prototype 
</h4>
<pre class="proto"><a name="1143299"></a>   struct {
      APKeyInfoType *keyInfoP;
   } APReleaseKeyInfo;
</pre>
<h4>
  <a name="1143300"> </a>Fields 
</h4>

<dl>
<dt><a name="1143301"> </a><code>keyInfoP</code></dt>
<dd><a name="1143302"> </a>Pointer to the key data to be released.</dd>

</dl>
<h4>
  <a name="1143303"> </a>Comments 
</h4>

<p><a name="1143304"> </a>The provider releases the key specified by <code>keyInfoP</code>. After this call, <code>keyInfoP</code> is no longer valid for any operations. </p>

<h3 class="hbH3">
  <a name="1143307"> </a>APReleaseMACInfo Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1143309"> </a>Purpose 
</h4>

<p><a name="1143310"> </a>The command paramater block for the <code>ReleaseMACInfo</code> call.</p>
<h4>
  <a name="1143311"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1143312"> </a></code><h4>
  <a name="1143313"> </a>Prototype 
</h4>
<pre class="proto"><a name="1143314"></a>   struct {
      APMACInfoType *macInfoP;
   } APReleaseMACInfo;
</pre>
<h4>
  <a name="1143315"> </a>Fields 
</h4>

<dl>
<dt><a name="1143316"> </a><code>macInfoP</code></dt>
<dd><a name="1143320"> </a>Pointer to an <a href="CPMLibCommon.html#994051"><code>APMACInfoType</code></a> structure.</dd>

</dl>

<h3 class="hbH3">
  <a name="1146509"> </a>APReleaseSignInfo Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1146511"> </a>Purpose 
</h4>

<p><a name="1146512"> </a>The command paramater block for the <code>ReleaseSignInfo</code> call.</p>
<h4>
  <a name="1146513"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1146514"> </a></code><h4>
  <a name="1146515"> </a>Prototype 
</h4>
<pre class="proto"><a name="1146516"></a>   struct {
      APSignInfoType *signInfoP;
   } APReleaseSignInfo;
</pre>
<h4>
  <a name="1146517"> </a>Fields 
</h4>

<dl>
<dt><a name="1146518"> </a><code>signInfoP</code></dt>
<dd><a name="1146519"> </a>A valid context for this operation initialized by the initialization operation.</dd>

</dl>

<h3 class="hbH3">
  <a name="1146522"> </a>APReleaseVerifyInfo Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1146524"> </a>Purpose 
</h4>

<p><a name="1146525"> </a>The command paramater block for the <code>ReleaseVerifyInfo</code> call.</p>
<h4>
  <a name="1146526"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1146527"> </a></code><h4>
  <a name="1146528"> </a>Prototype 
</h4>
<pre class="proto"><a name="1146529"></a>   struct {
      APVerifyInfoType *verifyInfoP;
   } APReleaseVerifyInfo;
</pre>
<h4>
  <a name="1146530"> </a>Fields 
</h4>

<dl>
<dt><a name="1146531"> </a><code>verifyInfoP</code></dt>
<dd><a name="1146532"> </a>A valid context for this operation initialized by the initialization operation.</dd>

</dl>

<h3 class="hbH3">
  <a name="1149762"> </a>APSign Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1149764"> </a>Purpose 
</h4>

<p><a name="1149765"> </a>The command paramater block for the <code>Sign</code> call.</p>
<h4>
  <a name="1149766"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1149767"> </a></code><h4>
  <a name="1149768"> </a>Prototype 
</h4>
<pre class="proto"><a name="1149769"></a>   struct {
      APKeyInfoType *keyInfoP;
      APSignInfoType *signInfoP;
      uint8_t *bufIn;
      uint32_t bufInLen;
      uint8_t *bufOut;
      uint32_t *bufOutLenP;
      uint8_t *signature;
      uint32_t *signatureLenP;
   } APSign;
</pre>
<h4>
  <a name="1149770"> </a>Fields 
</h4>

<dl>
<dt><a name="1149771"> </a><code>keyInfoP</code></dt>
<dd><a name="1149772"> </a>The key to be used for the operation.</dd>

<dt><a name="1149773"> </a><code>signInfoP</code></dt>
<dd><a name="1149774"> </a>A valid context for this operation initialized by the initialization operation.</dd>

<dt><a name="1149775"> </a><code>bufIn</code></dt>
<dd><a name="1149776"> </a>The data to add to the operation.</dd>

<dt><a name="1149777"> </a><code>bufInLen</code></dt>
<dd><a name="1149778"> </a>The length of the data to add to this operation.</dd>

<dt><a name="1149779"> </a><code>bufOut</code></dt>
<dd><a name="1149780"> </a>The buffer where the results of the operation are to be placed. </dd>

<dt><a name="1149781"> </a><code>bufOutLenP</code></dt>
<dd><a name="1149782"> </a>The size of the buffer specified by the <code>bufOut</code> parameter. Also returns the actual number of bytes placed in <code>bufOut</code> on return.</dd>

<dt><a name="1149783"> </a><code>signature</code></dt>
<dd><a name="1149784"> </a>Pointer to a buffer, allocated by the application, to receive the calculated signature.</dd>

<dt><a name="1149785"> </a><code>signatureLenP</code></dt>
<dd><a name="1149786"> </a>The size, in bytes, of the buffer specified by the <code class="par">signature</code> parameter.</dd>

</dl>
<h4>
  <a name="1149787"> </a>Comments 
</h4>

<p><a name="1149788"> </a>The <code>signInfoP</code> parameter specifies an initialized context which was created in the Init of this class of functions. </p>

<p><a name="1149789"> </a>The parameter <code>bufInLen</code> may not be zero and <code>bufIn</code> must be valid. </p>

<p><a name="1149790"> </a>The provider performs a complete operation using the data in <code>bufIn</code> of length <code>bufInLen</code> and puts the results in <code>bufOut</code>. The actual number of bytes placed in <code>bufOut</code> is placed in <code>bufOutLenP</code>. </p>

<h3 class="hbH3">
  <a name="1149793"> </a>APSignFinal Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1149795"> </a>Purpose 
</h4>

<p><a name="1149796"> </a>The command paramater block for the <code>SignFinal</code> call.</p>
<h4>
  <a name="1149797"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1149798"> </a></code><h4>
  <a name="1149799"> </a>Prototype 
</h4>
<pre class="proto"><a name="1149800"></a>   struct {
      APKeyInfoType *keyInfoP;
      APSignInfoType *signInfoP;
      uint8_t *bufIn;
      uint32_t bufInLen;
      uint8_t *bufOut;
      uint32_t *bufOutLenP;
      uint8_t *signature;
      uint32_t *signatureLenP;
   } APSignFinal;
</pre>
<h4>
  <a name="1149801"> </a>Fields 
</h4>

<dl>
<dt><a name="1149802"> </a><code>keyInfoP</code></dt>
<dd><a name="1149803"> </a>The key to be used for the operation.</dd>

<dt><a name="1149804"> </a><code>signInfoP</code></dt>
<dd><a name="1149805"> </a>A valid context for this operation initialized by the initialization operation.</dd>

<dt><a name="1149806"> </a><code>bufIn</code></dt>
<dd><a name="1149807"> </a>The data to add to the operation.</dd>

<dt><a name="1149808"> </a><code>bufInLen</code></dt>
<dd><a name="1149809"> </a>The length of the data to add to this operation.</dd>

<dt><a name="1149810"> </a><code>bufOut</code></dt>
<dd><a name="1149811"> </a>The buffer where the results of the operation are to be placed. </dd>

<dt><a name="1149812"> </a><code>bufOutLenP</code></dt>
<dd><a name="1149813"> </a>The size of the buffer specified by the <code>bufOut</code> parameter. Also returns the actual number of bytes placed in <code>bufOut</code> on return.</dd>

<dt><a name="1149814"> </a><code>signature</code></dt>
<dd><a name="1149815"> </a>Pointer to a buffer, allocated by the application, to receive the calculated signature.</dd>

<dt><a name="1149816"> </a><code>signatureLenP</code></dt>
<dd><a name="1149817"> </a>The size, in bytes, of the buffer specified by the <code class="par">signature</code> parameter.</dd>

</dl>

<h3 class="hbH3">
  <a name="1148572"> </a>APSignInit Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1148574"> </a>Purpose 
</h4>

<p><a name="1148575"> </a>The command paramater block for the <code>SignInit</code> call.</p>
<h4>
  <a name="1148576"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1148577"> </a></code><h4>
  <a name="1148578"> </a>Prototype 
</h4>
<pre class="proto"><a name="1148579"></a>   struct {
      APKeyInfoType *keyInfoP;
      APSignInfoType *signInfoP;
   } APSignInit;
</pre>
<h4>
  <a name="1148580"> </a>Fields 
</h4>

<dl>
<dt><a name="1148581"> </a><code>keyInfoP</code></dt>
<dd><a name="1148582"> </a>The key to be used for the operation.</dd>

<dt><a name="1148583"> </a><code>signInfoP</code></dt>
<dd><a name="1148584"> </a>A handle to a context to pass to the other members of the Sign functions.</dd>

</dl>
<h4>
  <a name="1148585"> </a>Comments 
</h4>

<p><a name="1148586"> </a>The provider is responsible for initializing a context with the  specified <code>keyInfoP</code> for the operation and saving it in <code>signInfoP</code>. This initialization operation must be concluded with a single finalization operation with zero or more update operations in between.</p>

<h3 class="hbH3">
  <a name="1148589"> </a>APSignUpdate Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1148591"> </a>Purpose 
</h4>

<p><a name="1148592"> </a>The command paramater block for the <code>SignUpdate</code> call.</p>
<h4>
  <a name="1148593"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1148594"> </a></code><h4>
  <a name="1148595"> </a>Prototype 
</h4>
<pre class="proto"><a name="1148596"></a>   struct {
      APKeyInfoType *keyInfoP;
      APSignInfoType *signInfoP;
      uint8_t *bufIn;
      uint32_t bufInLen;
   } APSignUpdate;
</pre>
<h4>
  <a name="1148597"> </a>Fields 
</h4>

<dl>
<dt><a name="1148598"> </a><code>keyInfoP</code></dt>
<dd><a name="1148599"> </a>The key to be used for the operation.</dd>

<dt><a name="1148600"> </a><code>signInfoP</code></dt>
<dd><a name="1148601"> </a>A valid context for this operation initialized by the initialization operation.</dd>

<dt><a name="1148602"> </a><code>bufIn</code></dt>
<dd><a name="1148603"> </a>The data to add to the operation.</dd>

<dt><a name="1148604"> </a><code>bufInLen</code></dt>
<dd><a name="1148605"> </a>The length of the data to add to this operation.</dd>

</dl>
<h4>
  <a name="1148606"> </a>Comments 
</h4>

<p><a name="1148607"> </a>The <code>signInfoP</code> parameter specifies an initialized context which was during in the initialization of this class of functions. The provider uses <code>signInfoP</code> to update the operation with the data in <code>bufIn</code> of length <code>bufInLen</code>. The provider also updates the <code>signInfoP</code> to reflect the update. Any number of update operations (including zero) may occur between an initialization and a finalization operation. The parameters <code>bufIn</code> and <code>bufInLen</code> must be valid for the operation or an error is returned. </p>

<h3 class="hbH3">
  <a name="1152738"> </a>APVerify Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1152740"> </a>Purpose 
</h4>

<p><a name="1152741"> </a>The command paramater block for the <code>Verify</code> call.</p>
<h4>
  <a name="1152742"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1152743"> </a></code><h4>
  <a name="1152744"> </a>Prototype 
</h4>
<pre class="proto"><a name="1152745"></a>   struct {
      APKeyInfoType *keyInfoP;
      APVerifyInfoType *verifyInfoP;
      uint8_t *bufIn;
      uint32_t bufInLen;
      uint8_t *bufOut;
      uint32_t *bufOutLenP;
      uint8_t *signature;
      uint32_t signatureLen;
      VerifyResultType *verifyResultP;
   } APVerify;
</pre>
<h4>
  <a name="1152746"> </a>Fields 
</h4>

<dl>
<dt><a name="1152747"> </a><code>keyInfoP</code></dt>
<dd><a name="1152748"> </a>The key to be used for the operation.</dd>

<dt><a name="1152749"> </a><code>verifyInfoP</code></dt>
<dd><a name="1152750"> </a>A valid context for this operation initialized by the intialization operation</dd>

<dt><a name="1152751"> </a><code>bufIn</code></dt>
<dd><a name="1152752"> </a>The data to add to the operation.</dd>

<dt><a name="1152753"> </a><code>bufInLen</code></dt>
<dd><a name="1152754"> </a>The length of the data to add to this operation.</dd>

<dt><a name="1152755"> </a><code>bufOut</code></dt>
<dd><a name="1152756"> </a>The buffer where the results of the operation are to be placed. </dd>

<dt><a name="1152757"> </a><code>bufOutLenP</code></dt>
<dd><a name="1152758"> </a>The size of the buffer specified by the <code>bufOut</code> parameter. Also returns the actual number of bytes placed in <code>bufOut</code> on return.</dd>

<dt><a name="1152759"> </a><code>signature</code></dt>
<dd><a name="1152760"> </a>Pointer to a buffer containing the previously calculated signature that is being verified.</dd>

<dt><a name="1152761"> </a><code>signatureLen</code></dt>
<dd><a name="1152762"> </a>The length, in bytes, of the buffer specified by <code class="par">signature</code>.</dd>

<dt><a name="1152763"> </a><code>verifyResultP</code></dt>
<dd><a name="1152764"> </a>Value that should be set by the provider to zero if the signature verifies or 1 if the signature did not verify.</dd>

</dl>
<h4>
  <a name="1152765"> </a>Comments 
</h4>

<p><a name="1152766"> </a>The <code>verifyInfoP</code> parameter specifies an initialized context which was created during the initialization of this class of functions. </p>

<p><a name="1152767"> </a>The parameter <code>bufInLen</code> may not be zero and <code>bufIn</code> must be valid. </p>

<p><a name="1152768"> </a>The provider performs a complete verification operation using the data in <code>bufIn</code> of length <code>bufInLen</code> and puts the results in <code>bufOut</code>. The actual number of bytes placed in <code>bufOut</code> is placed in <code>bufOutLenP</code>.</p>

<h3 class="hbH3">
  <a name="1153315"> </a>APVerifyFinal Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1153317"> </a>Purpose 
</h4>

<p><a name="1153318"> </a>The command paramater block for the <code>VerifyFinal</code> call.</p>
<h4>
  <a name="1153319"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1153320"> </a></code><h4>
  <a name="1153321"> </a>Prototype 
</h4>
<pre class="proto"><a name="1153322"></a>   struct {
      APKeyInfoType *keyInfoP;
      APVerifyInfoType *verifyInfoP;
      uint8_t *bufIn;
      uint32_t bufInLen;
      uint8_t *bufOut;
      uint32_t *bufOutLenP;
      uint8_t *signature;
      uint32_t signatureLen;
      VerifyResultType *verifyResultP;
   } APVerifyFinal;
</pre>
<h4>
  <a name="1153323"> </a>Fields 
</h4>

<dl>
<dt><a name="1153324"> </a><code>keyInfoP</code></dt>
<dd><a name="1153325"> </a>The key to be used for the operation.</dd>

<dt><a name="1153326"> </a><code>verifyInfoP</code></dt>
<dd><a name="1153327"> </a>A valid context for this operation initialized by the intialization operation</dd>

<dt><a name="1153328"> </a><code>bufIn</code></dt>
<dd><a name="1153329"> </a>The data to add to the operation.</dd>

<dt><a name="1153330"> </a><code>bufInLen</code></dt>
<dd><a name="1153331"> </a>The length of the data to add to this operation.</dd>

<dt><a name="1153332"> </a><code>bufOut</code></dt>
<dd><a name="1153333"> </a>The buffer where the results of the operation are to be placed. </dd>

<dt><a name="1153334"> </a><code>bufOutLenP</code></dt>
<dd><a name="1153335"> </a>The size of the buffer specified by the <code>bufOut</code> parameter. Also returns the actual number of bytes placed in <code>bufOut</code> on return.</dd>

<dt><a name="1153336"> </a><code>signature</code></dt>
<dd><a name="1153337"> </a>Pointer to a buffer containing the previously calculated signature that is being verified.</dd>

<dt><a name="1153338"> </a><code>signatureLen</code></dt>
<dd><a name="1153339"> </a>The length, in bytes, of the buffer specified by <code class="par">signature</code>.</dd>

<dt><a name="1153340"> </a><code>verifyResultP</code></dt>
<dd><a name="1153341"> </a>Value that should be set by the provider to zero if the signature verifies or 1 if the signature did not verify.</dd>

</dl>
<h4>
  <a name="1153342"> </a>Comments 
</h4>

<p><a name="1153343"> </a>The <code>verifyInfoP</code> parameter specifies an initialized context which was created during the initialization of this class of functions. </p>

<p><a name="1153344"> </a>If <code>bufInLen</code> is non-zero, the provider uses <code>verifyInfoP</code> to update the operation with the data in <code>bufIn</code> of length <code>bufInLen</code>.</p>

<p><a name="1153345"> </a>The provider finalizes the operation which was initialized by the initialize operation and places the results of the operation in <code>bufOut</code>. The provider updates <code>bufOutLenP</code> with the actual number of bytes placed in <code>bufOut</code>. The provider is responsible for cleaning up the <code>verifyInfoP</code> parameter.</p>

<h3 class="hbH3">
  <a name="1152027"> </a>APVerifyInit Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1152029"> </a>Purpose 
</h4>

<p><a name="1152030"> </a>The command paramater block for the <code>VerifyInit</code> call.</p>
<h4>
  <a name="1152031"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1152032"> </a></code><h4>
  <a name="1152033"> </a>Prototype 
</h4>
<pre class="proto"><a name="1152034"></a>   struct {
      APKeyInfoType *keyInfoP;
      APVerifyInfoType *verifyInfoP;
   } APVerifyInit;
</pre>
<h4>
  <a name="1152035"> </a>Fields 
</h4>

<dl>
<dt><a name="1152036"> </a><code>keyInfoP</code></dt>
<dd><a name="1152037"> </a>The key to be used for the operation.</dd>

<dt><a name="1152038"> </a><code>verifyInfoP</code></dt>
<dd><a name="1152039"> </a>A handle to a context to pass to the other members of the Verify functions.</dd>

</dl>
<h4>
  <a name="1152040"> </a>Comments 
</h4>

<p><a name="1152041"> </a>The provider is responsible for initializing a context with the specified <code>keyInfoP</code> for the operation and saving it in <code>verifyInfoP</code>. This initialization operation must be concluded with a single finalize operation with zero or more update operations in between.</p>

<h3 class="hbH3">
  <a name="1152044"> </a>APVerifyUpdate Struct <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1152046"> </a>Purpose 
</h4>

<p><a name="1152047"> </a>The command paramater block for the <code>VerifyUpdate</code> call.</p>
<h4>
  <a name="1152048"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1152049"> </a></code><h4>
  <a name="1152050"> </a>Prototype 
</h4>
<pre class="proto"><a name="1152051"></a>   struct {
      APKeyInfoType *keyInfoP;
      APVerifyInfoType *verifyInfoP;
      uint8_t *bufIn;
      uint32_t bufInLen;
   } APVerifyUpdate;
</pre>
<h4>
  <a name="1152052"> </a>Fields 
</h4>

<dl>
<dt><a name="1152053"> </a><code>keyInfoP</code></dt>
<dd><a name="1152054"> </a>The key to be used for the operation.</dd>

<dt><a name="1152055"> </a><code>verifyInfoP</code></dt>
<dd><a name="1152056"> </a>A valid context for this operation initialized by the intialization operation</dd>

<dt><a name="1152057"> </a><code>bufIn</code></dt>
<dd><a name="1152058"> </a>The data to add to the operation.</dd>

<dt><a name="1152059"> </a><code>bufInLen</code></dt>
<dd><a name="1152060"> </a>The length of the data to add to this operation.</dd>

</dl>
<h4>
  <a name="1152061"> </a>Comments 
</h4>

<p><a name="1152062"> </a>The <code>verifyInfoP</code> parameter specifies an initialized context which was created during the initialization of this class of functions. The provider uses the <code>verifyInfoP</code> to update the operation with the data in <code>bufIn</code> of length <code>bufInLen</code>. The provider also updates the <code>verifyInfoP</code> to reflect the update. Any number of update operations (including zero) may occur between an initialization and a finalization operation. The parameters <code>bufIn</code> and <code>bufInLen</code> must be valid for the operation or an error is returned. </p>

<h2 class="haH2">
  <a name="997678"> </a>CPM Library Provider Constants <a href="#992934"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="997775"> </a>APCmdType Enum <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="997791"> </a>Purpose 
</h4>

<p><a name="997801"> </a>Algorithm provider command selectors.</p>
<h4>
  <a name="997829"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="997837"> </a></code><h4>
  <a name="997849"> </a>Constants 
</h4>

<dl>
<dt><a name="1097522"> </a><code>apClose</code></dt>
<dd><a name="1097523"> </a>Handles the closing of the library. </dd>

<dt><a name="1097727"> </a><code>apDecrypt</code></dt>
<dd><a name="1097744"> </a>Performs a decryption operation in one pass. Parameters are passed to this function using an <a href="CPMLibProvider.html#1106661"><code>APDecrypt</code></a> structure.</dd>

<dt><a name="1097767"> </a><code>apDecryptFinal </code></dt>
<dd><a name="1097768"> </a>Finalizes a multi-part decryption operation. Parameters are passed to this function using an <a href="CPMLibProvider.html#1107123"><code>APDecryptFinal</code></a> structure.</dd>

<dt><a name="1097686"> </a><code>apDecryptInit</code></dt>
<dd><a name="1097687"> </a>Begins a multi-part decryption operation with the specified key and returns the context of the decrypt operation. Parameters are passed to this function using an <a href="CPMLibProvider.html#1105953"><code>APDecryptInit</code></a> structure.</dd>

<dt><a name="1097689"> </a><code>apDecryptUpdate</code></dt>
<dd><a name="1097690"> </a>Updates a multi-part decryption operation with more data. Parameters are passed to this function using an <a href="CPMLibProvider.html#1105970"><code>APDecryptUpdate</code></a> structure.</dd>

<dt><a name="1097856"> </a><code>apDeriveKeyData</code></dt>
<dd><a name="1097857"> </a>Derives a key from the supplied input data. Parameters are passed to this function using an <a href="CPMLibProvider.html#1108877"><code>APDeriveKeyData</code></a> structure.</dd>

<dt><a name="1098249"> </a><code>apEncrypt</code></dt>
<dd><a name="1098250"> </a>Performs an encryption operation in one pass. Parameters are passed to this function using an <a href="CPMLibProvider.html#1110904"><code>APEncrypt</code></a> structure.</dd>

<dt><a name="1098431"> </a><code>apEncryptFinal </code></dt>
<dd><a name="1098432"> </a>Finalizes a multi-part encryption operation. Parameters are passed to this function using an <a href="CPMLibProvider.html#1111387"><code>APEncryptFinal</code></a> structure.</dd>

<dt><a name="1098067"> </a><code>apEncryptInit </code></dt>
<dd><a name="1098068"> </a>Begins a multi-part encryption operation with the specified key and returns the context of the encrypt operation. Parameters are passed to this function using an <a href="CPMLibProvider.html#1110228"><code>APEncryptInit</code></a> structure.</dd>

<dt><a name="1098070"> </a><code>apEncryptUpdate </code></dt>
<dd><a name="1098071"> </a>Updates a multi-part encryption operation with more data. Parameters are passed to this function using an <a href="CPMLibProvider.html#1110245"><code>APEncryptUpdate</code></a> structure.</dd>

<dt><a name="1098705"> </a><code>apExportCipherInfo</code></dt>
<dd><a name="1098706"> </a>Creates a storable instance of an <a href="CPMLibCommon.html#1001550"><code>APCipherInfoType</code></a> structure. Parameters are passed to this function using an <a href="CPMLibProvider.html#1112748"><code>APExportCipherInfo</code></a> structure.</dd>

<dt><a name="1098793"> </a><code>apExportHashInfo</code></dt>
<dd><a name="1098794"> </a>Creates a storable instance of an <a href="CPMLibCommon.html#1006140"><code>APHashInfoType</code></a> structure. Parameters are passed to this function using an <a href="CPMLibProvider.html#1113151"><code>APExportHashInfo</code></a> structure.</dd>

<dt><a name="1098796"> </a><code>apExportKeyInfo</code></dt>
<dd><a name="1098797"> </a>Creates a storable instance of a key that is already familiar to the CPM framework. Parameters are passed to this function using an <a href="CPMLibProvider.html#1114924"><code>APExportKeyInfo</code></a> structure.</dd>

<dt><a name="1099080"> </a><code>apExportKeyPairInfo</code></dt>
<dd><a name="1099081"> </a>Creates a storable instance of a set of <a href="CPMLibCommon.html#1007123"><code>APKeyInfoType</code></a> structures representing a private key and a public key. Parameters are passed to this function using an <a href="CPMLibProvider.html#1116828"><code>APExportKeyPairInfo</code></a> structure.</dd>

<dt><a name="1099083"> </a><code>apExportMACInfo</code></dt>
<dd><a name="1099084"> </a>Creates a storable instance of an <a href="CPMLibCommon.html#994051"><code>APMACInfoType</code></a> structure. Parameters are passed to this function using an <a href="CPMLibProvider.html#1118437"><code>APExportMacInfo</code></a> structure.</dd>

<dt><a name="1099292"> </a><code>apExportSignInfo</code></dt>
<dd><a name="1099293"> </a>Creates a storable instance of an <a href="CPMLibCommon.html#994797"><code>APSignInfoType</code></a> structure. Parameters are passed to this function using an <a href="CPMLibProvider.html#1119622"><code>APExportSignInfo</code></a> structure.</dd>

<dt><a name="1099295"> </a><code>apExportVerifyInfo</code></dt>
<dd><a name="1099296"> </a>Creates a storable instance of an <a href="CPMLibCommon.html#995075"><code>APVerifyInfoType</code></a> structure. Parameters are passed to this function using an <a href="CPMLibProvider.html#1120214"><code>APExportVerifyInfo</code></a> structure.</dd>

<dt><a name="1099467"> </a><code>apGenerateKey</code></dt>
<dd><a name="1099468"> </a>Generates a new key. Parameters are passed to this function using an <a href="CPMLibProvider.html#1122495"><code>APGenerateKey</code></a> structure.</dd>

<dt><a name="1099551"> </a><code>apGenerateKeyPair</code></dt>
<dd><a name="1099552"> </a>Generates a new public/private key pair. Parameters are passed to this function using an <a href="CPMLibProvider.html#1122514"><code>APGenerateKeyPair</code></a> structure.</dd>

<dt><a name="1099679"> </a><code>apGetInfo</code></dt>
<dd><a name="1099680"> </a>Not used.</dd>

<dt><a name="1099747"> </a><code>apGetProviderInfo</code></dt>
<dd><a name="1099748"> </a>Gets information about the requested provider. Information returned includes the name of the provider, some additional text about the provider, the "algorithms" supported, and so on. Parameters are passed to this function using an <a href="CPMLibProvider.html#1122810"><code>APGetProviderInfo</code></a> structure.</dd>

<dt><a name="1099918"> </a><code>apHash</code></dt>
<dd><a name="1099919"> </a>Performs the hashing operation in one pass. Parameters are passed to this function using an <a href="CPMLibProvider.html#1125407"><code>APHash</code></a> structure.</dd>

<dt><a name="1099958"> </a><code>apHashFinal</code></dt>
<dd><a name="1099959"> </a>Finalizes a multi-part hash operation. Parameters are passed to this function using an <a href="CPMLibProvider.html#1125911"><code>APHashFinal</code></a> structure.</dd>

<dt><a name="1099869"> </a><code>apHashInit</code></dt>
<dd><a name="1099870"> </a>Begins a multi-part hash operation of a specified type and returns the context of the hash operation. Parameters are passed to this function using an <a href="CPMLibProvider.html#1124698"><code>APHashInit</code></a> structure.</dd>

<dt><a name="1099872"> </a><code>apHashUpdate </code></dt>
<dd><a name="1099873"> </a>Updates a multi-part hash operation with more data. Parameters are passed to this function using an <a href="CPMLibProvider.html#1124713"><code>APHashUpdate</code></a> structure.</dd>

<dt><a name="1100160"> </a><code>apImportCipherInfo</code></dt>
<dd><a name="1100161"> </a>Initialize the contents of an <a href="CPMLibCommon.html#1001550"><code>APCipherInfoType</code></a> structure based upon a storable instance of that structure. Parameters are passed to this function using an <a href="CPMLibProvider.html#1126226"><code>APImportCipherInfo</code></a> structure.</dd>

<dt><a name="1100163"> </a><code>apImportHashInfo</code></dt>
<dd><a name="1100164"> </a>Initialize the contents of an <a href="CPMLibCommon.html#1006140"><code>APHashInfoType</code></a> structure based upon a storable instance of that structure. Parameters are passed to this function using an <a href="CPMLibProvider.html#1128209"><code>APImportHashInfo</code></a> structure.</dd>

<dt><a name="1100166"> </a><code>apImportKeyInfo</code></dt>
<dd><a name="1100167"> </a>Introduces an existing key to the CPM framework. Parameters are passed to this function using an <a href="CPMLibProvider.html#1128499"><code>APImportKeyInfo</code></a> structure.</dd>

<dt><a name="1100169"> </a><code>apImportKeyPairInfo</code></dt>
<dd><a name="1100170"> </a>Introduces an existing public/private key pair to the CPM framework. Parameters are passed to this function using an <a href="CPMLibProvider.html#1130572"><code>APImportKeyPairInfo</code></a> structure.</dd>

<dt><a name="1100370"> </a><code>apImportMACInfo</code></dt>
<dd><a name="1100371"> </a>Initialize the contents of an <a href="CPMLibCommon.html#994051"><code>APMACInfoType</code></a> structure based upon a storable instance of that structure. Parameters are passed to this function using an <a href="CPMLibProvider.html#1132500"><code>APImportMacInfo</code></a> structure.</dd>

<dt><a name="1100454"> </a><code>apImportSignInfo</code></dt>
<dd><a name="1100455"> </a>Initialize the contents of an <a href="CPMLibCommon.html#994797"><code>APSignInfoType</code></a> structure based upon a storable instance of that structure. Parameters are passed to this function using an <a href="CPMLibProvider.html#1134220"><code>APImportSignInfo</code></a> structure.</dd>

<dt><a name="1100457"> </a><code>apImportVerifyInfo</code></dt>
<dd><a name="1100458"> </a>Initialize the contents of an <a href="CPMLibCommon.html#995075"><code>APVerifyInfoType</code></a> structure based upon a storable instance of that structure. Parameters are passed to this function using an <a href="CPMLibProvider.html#1135109"><code>APImportVerifyInfo</code></a> structure.</dd>

<dt><a name="1100870"> </a><code>apMAC</code></dt>
<dd><a name="1100871"> </a>Performs the message authentication operation in one pass. Parameters are passed to this function using an <a href="CPMLibProvider.html#1138400"><code>APMac</code></a> structure.</dd>

<dt><a name="1100873"> </a><code>apMACFinal</code></dt>
<dd><a name="1100874"> </a>Finalizes a multi-part message authentication operation. Parameters are passed to this function using an <a href="CPMLibProvider.html#1138439"><code>APMacFinal</code></a> structure.</dd>

<dt><a name="1100876"> </a><code>apMACInit</code></dt>
<dd><a name="1100877"> </a>Begins a multi-part message authentication operation with the specified key and hash info and returns the context of the operation. Parameters are passed to this function using an <a href="CPMLibProvider.html#1137148"><code>APMacInit</code></a> structure.</dd>

<dt><a name="1100879"> </a><code>apMACUpdate</code></dt>
<dd><a name="1100880"> </a>Updates a multi-part message authentication operation with more data. Parameters are passed to this function using an <a href="CPMLibProvider.html#1137186"><code>APMacUpdate</code></a> structure.</dd>

<dt><a name="1102133"> </a><code>apOpen</code></dt>
<dd><a name="1102134"> </a>Handles the opening of the library.</dd>

<dt><a name="1101246"> </a><code>apReleaseCipherInfo</code></dt>
<dd><a name="1101247"> </a>Allows the CPM and the provider(s) to clean up before the application frees the <code>APICipherInfoType</code> structure. Parameters are passed to this function using an <a href="CPMLibProvider.html#1143263"><code>APReleaseCipherInfo</code></a> structure.</dd>

<dt><a name="1101422"> </a><code>apReleaseHashInfo</code></dt>
<dd><a name="1101423"> </a>Allows the CPM and the provider(s) to clean up before the application frees the <code>APIHashInfoType</code> structure. Parameters are passed to this function using an <a href="CPMLibProvider.html#1143276"><code>APReleaseHashInfo</code></a> structure.</dd>

<dt><a name="1101602"> </a><code>apReleaseKeyInfo</code></dt>
<dd><a name="1101603"> </a>Allows the CPM and the provider(s) to clean up before the application frees the <code>APKeyInfoType</code> structure. Parameters are passed to this function using an <a href="CPMLibProvider.html#1143292"><code>APReleaseKeyInfo</code></a> structure.</dd>

<dt><a name="1101605"> </a><code>apReleaseMACInfo</code></dt>
<dd><a name="1101606"> </a>Allows the CPM and the provider(s) to clean up before the application frees the <code>APMACInfoType</code> structure. Parameters are passed to this function using an <a href="CPMLibProvider.html#1143307"><code>APReleaseMACInfo</code></a> structure.</dd>

<dt><a name="1101781"> </a><code>apReleaseSignInfo</code></dt>
<dd><a name="1101782"> </a>Allows the CPM and the provider(s) to clean up before the application frees the <code>APSignInfoType</code> structure. Parameters are passed to this function using an <a href="CPMLibProvider.html#1146509"><code>APReleaseSignInfo</code></a> structure.</dd>

<dt><a name="1101957"> </a><code>apReleaseVerifyInfo</code></dt>
<dd><a name="1101958"> </a>Allows the CPM and the provider(s) to clean up before the application frees the <code>APVerifyInfoType</code> structure. Parameters are passed to this function using an <a href="CPMLibProvider.html#1146522"><code>APReleaseVerifyInfo</code></a> structure.</dd>

<dt><a name="1102445"> </a><code>apSign</code></dt>
<dd><a name="1102446"> </a>Performs the signing operation in one pass. Parameters are passed to this function using an <a href="CPMLibProvider.html#1149762"><code>APSign</code></a> structure.</dd>

<dt><a name="1102535"> </a><code>apSignFinal </code></dt>
<dd><a name="1102536"> </a>Finalizes a multi-part signing operation. Parameters are passed to this function using an <a href="CPMLibProvider.html#1149793"><code>APSignFinal</code></a> structure.</dd>

<dt><a name="1102629"> </a><code>apSignInit </code></dt>
<dd><a name="1102630"> </a>Begins a multi-part signing operation with the specified key and returns the context of the signing operation. Parameters are passed to this function using an <a href="CPMLibProvider.html#1148572"><code>APSignInit</code></a> structure.</dd>

<dt><a name="1102632"> </a><code>apSignUpdate </code></dt>
<dd><a name="1102633"> </a>Updates a multi-part signing operation with more data. Parameters are passed to this function using an <a href="CPMLibProvider.html#1148589"><code>APSignUpdate</code></a> structure.</dd>

<dt><a name="1103380"> </a><code>apStatus</code></dt>
<dd><a name="1103381"> </a></dd>

<dt><a name="1103096"> </a><code>apVerify</code></dt>
<dd><a name="1103097"> </a>Performs the verify operation in one pass. Parameters are passed to this function using an <a href="CPMLibProvider.html#1152738"><code>APVerify</code></a> structure.</dd>

<dt><a name="1103160"> </a><code>apVerifyFinal </code></dt>
<dd><a name="1103161"> </a>Finalizes a multi-part verification operation. Parameters are passed to this function using an <a href="CPMLibProvider.html#1153315"><code>APVerifyFinal</code></a> structure.</dd>

<dt><a name="1103014"> </a><code>apVerifyInit </code></dt>
<dd><a name="1103015"> </a>Begins a multi-part verification operation with the specified key and returns the context of the verification operation. Parameters are passed to this function using an <a href="CPMLibProvider.html#1152027"><code>APVerifyInit</code></a> structure.</dd>

<dt><a name="1103017"> </a><code>apVerifyUpdate </code></dt>
<dd><a name="1103018"> </a>Updates a multi-part verification operation with more data. Parameters are passed to this function using an <a href="CPMLibProvider.html#1152044"><code>APVerifyUpdate</code></a> structure.</dd>

<dt><a name="997944"> </a><code>apLast</code></dt>
<dd><a name="998432"> </a>Not a value that represents an actual function, this is one greater than the final function selector value.</dd>

<dt><a name="1103372"> </a><code>apZero</code></dt>
<dd><a name="1103373"> </a></dd>

</dl>

<h3 class="hbH3">
  <a name="1005618"> </a>Miscellaneous CPM Library Provider Constants <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1005619"> </a>Purpose 
</h4>

<p><a name="1005620"> </a>The <code>CPMLibProvider.h</code> file also declares the following constants.</p>
<h4>
  <a name="1005621"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1005622"> </a></code><h4>
  <a name="1005623"> </a>Constants 
</h4>

<dl>
<dt><a name="1005625"> </a><code>#define cpmProviderResourceID 0</code></dt>
<dd><a name="1005626"> </a>Defines the resource ID of the code resource.</dd>

<dt><a name="1005628"> </a><code>#define cpmProviderResourceType 'cpmp'</code></dt>
<dd><a name="1005629"> </a>Defines the type (creator/type) of the provider.</dd>

</dl>

<h2 class="haH2">
  <a name="1161707"> </a>Application-Defined Functions <a href="#992934"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="1161710"> </a>APDispatchProcPtr Function <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="999793"> </a>Purpose 
</h4>

<p><a name="1005296"> </a>Pointer to the provider's command dispatch function. Each provider must export a function matching this signature as a dispatcher for the commands and command parameter blocks that will be sent to the provider by the CPM. </p>
<h4>
  <a name="999797"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="999800"> </a></code><h4>
  <a name="999801"> </a>Prototype 
</h4>
<pre class="proto"><a name="999816"></a>status_t (
   *APDispatchProcPtr
) (
   CPMCallerInfoPtr <code class="par">info</code>,
   APCmdType <code class="par">cmd</code>,
   APCmdPBPtr <code class="par">pbP</code>
)
</pre>
<h4>
  <a name="999904"> </a>Parameters 
</h4>

<dl>
<dt><a name="999702"> </a><code>&rarr;  <i>info</i></code></dt>
<dd><a name="1004870"> </a>Pointer to a <a href="CPMLibProvider.html#1155489"><code>CPMCallerInfoType</code></a> structure that contains all the information necessary for the provider to call back into the CPM's framework and use the CPM's resources. </dd>

<dt><a name="1000069"> </a><code>&rarr;  <i>cmd</i></code></dt>
<dd><a name="1004862"> </a>One of the values listed under <a href="CPMLibProvider.html#997678">"CPM Library Provider Constants."</a></dd>

<dt><a name="999704"> </a><code>&harr;  <i>pbP</i></code></dt>
<dd><a name="1004854"> </a>Pointer to the appropriate parameter block structure for the command. The documentation for each command identifies the parameter block structure to use with that command.</dd>

</dl>
<h4>
  <a name="1000162"> </a>Returns 
</h4>

<p><a name="1000485"> </a><code>errNone</code> if the operation completed successfully, or an appropriate error code (usually, one of the codes listed under <a href="CPMLibCommon.html#992930">"CPM Library Error Codes"</a>).</p>
<h4>
  <a name="1160528"> </a>See Also 
</h4>

<p><a name="1160589"> </a><a href="CPMLibProvider.html#1000497"><code>CPMDispatcherProcPtr()</code></a></p>

<h3 class="hbH3">
  <a name="1000184"> </a>CPMAddRandomSeedProcPtr Function <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1000186"> </a>Purpose 
</h4>

<p><a name="1000282"> </a>Pointer to a function that puts a number of seed bytes into the pseudo-random number generator maintained by the CPM. </p>
<h4>
  <a name="1000190"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1000193"> </a></code><h4>
  <a name="1000194"> </a>Prototype 
</h4>
<pre class="proto"><a name="999710"></a>status_t (
   *CPMAddRandomSeedProcPtr
) (
   void *<code class="par">appContext</code>,
   uint8_t *<code class="par">buffer</code>,
   uint32_t <code class="par">buflen</code>
)
</pre>
<h4>
  <a name="1000209"> </a>Parameters 
</h4>

<dl>
<dt><a name="1158607"> </a><code>&rarr;  <i>appContext</i></code></dt>
<dd><a name="1158608"> </a>Pointer to a structure containing the provider-specific application context to be used in future CPM calls. This structure is normally created and initialized when the library is opened.</dd>

<dt><a name="1158609"> </a><code>&rarr;  <i>buffer</i></code></dt>
<dd><a name="1158528"> </a>Pointer to a buffer of seed bytes.</dd>

<dt><a name="999714"> </a><code>&rarr;  <i>buflen</i></code></dt>
<dd><a name="1158558"> </a>The number of bytes in <code class="par">buffer</code>.</dd>

</dl>
<h4>
  <a name="1000231"> </a>Returns 
</h4>

<p><a name="1158888"> </a><code>errNone</code> if the operation completed successfully, or one of the error codes listed under <a href="CPMLibCommon.html#992930">"CPM Library Error Codes"</a> otherwise.</p>
<h4>
  <a name="1000256"> </a>See Also 
</h4>

<p><a name="1093689"> </a><a href="CPMLibProvider.html#1000184"><code>CPMAddRandomSeedProcPtr()</code></a></p>

<h3 class="hbH3">
  <a name="1000377"> </a>CPMDebugOutProcPtr Function <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1000416"> </a>Purpose 
</h4>

<p><a name="1000417"> </a>Pointer to a function that sends a null-terminated string to the current debug device, if the level set using <a href="CPMLibARMInterface.html#997810"><code>CPMLibSetDebugLevel()</code></a> is less than or equal to the message's debug output level.</p>
<h4>
  <a name="1000418"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1000419"> </a></code><h4>
  <a name="1000405"> </a>Prototype 
</h4>
<pre class="proto"><a name="1000399"></a>status_t (
   *CPMDebugOutProcPtr
) (
   void *<code class="par">appContext</code>,
   uint8_t <code class="par">level</code>,
   char *<code class="par">fmtstring</code>,
   ...
)
</pre>
<h4>
  <a name="1000422"> </a>Parameters 
</h4>

<dl>
<dt><a name="999722"> </a><code>&rarr;  <i>appContext</i></code></dt>
<dd><a name="1158711"> </a>Pointer to a structure containing the provider-specific application context to be used in future CPM calls. This structure is normally created and initialized when the library is opened.</dd>

<dt><a name="999723"> </a><code>&rarr;  <i>level</i></code></dt>
<dd><a name="1158920"> </a>The debug output level of the message. One of the values listed under <a href="CPMLibCommon.html#1013561">"Debug Output Levels."</a></dd>

<dt><a name="999724"> </a><code>&rarr;  <i>fmtstring</i></code></dt>
<dd><a name="1004818"> </a>A printf-style format string for the debug message being sent.</dd>

<dt><a name="999725"> </a><code>&rarr;  <i>...</i></code></dt>
<dd><a name="1004814"> </a>Zero or more arguments to be substituted as appropriate in the format string.</dd>

</dl>
<h4>
  <a name="1000460"> </a>Returns 
</h4>

<p><a name="1000475"> </a><code>errNone</code>.</p>
<h4>
  <a name="1000464"> </a>See Also 
</h4>

<p><a name="1093729"> </a><a href="CPMLibARMInterface.html#997810"><code>CPMLibSetDebugLevel()</code></a></p>

<h3 class="hbH3">
  <a name="1000497"> </a>CPMDispatcherProcPtr Function <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1158997"> </a>Purpose 
</h4>

<p><a name="1158998"> </a>Pointer to the Cryptographic Provider Manager's function dispatcher. This function attempts to locate a provider that implements the supplied command. If it is successful, it directs the command and parameter block to that provider.</p>
<h4>
  <a name="1158999"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1159000"> </a></code><h4>
  <a name="1159271"> </a>Prototype 
</h4>
<pre class="proto"><a name="1159272"></a>status_t (
   *CPMDispatcherProcPtr
) (
   void *<code class="par">appContext</code>,
   APCmdType <code class="par">cmd</code>,
   APCmdPBType *<code class="par">cmdPB</code>,
   uint32_t *<code class="par">id</code>
)
</pre>
<h4>
  <a name="1000522"> </a>Parameters 
</h4>

<dl>
<dt><a name="999733"> </a><code>&rarr;  <i>appContext</i></code></dt>
<dd><a name="1158739"> </a>Pointer to a structure containing the provider-specific application context to be used. This structure is normally created and initialized when the library is opened.</dd>

<dt><a name="999734"> </a><code>&rarr;  <i>cmd</i></code></dt>
<dd><a name="1160310"> </a>One of the values listed under <a href="CPMLibProvider.html#997678">"CPM Library Provider Constants."</a></dd>

<dt><a name="999735"> </a><code>&rarr;  <i>cmdPB</i></code></dt>
<dd><a name="1160281"> </a>Pointer to the appropriate parameter block structure for the command. The documentation for each command identifies the parameter block structure to use with that command.</dd>

<dt><a name="999736"> </a><code>&rarr;  <i>id</i></code></dt>
<dd><a name="1004798"> </a>Pointer to a <code>uint32_t</code> containing the ID of a specific provider to which the command is to be directed. If <code>*</code><code class="par">id</code> is 0, the CPM directs the command to the first provider that implements the requested functionality.</dd>

</dl>
<h4>
  <a name="1000564"> </a>Returns 
</h4>

<p><a name="1000565"> </a>The return value passed back from the provider (which may be <code>cpmErrUnimplemented</code> if the provider recognizes but does not implement the supplied command), or one of the following if the command couldn't be directed to a provider:</p>

<dl>
<dt><a name="1160381"> </a><code>cpmErrProviderNotFound</code></dt>
<dd><a name="1160418"> </a>A provider ID was supplied, but the CPM couldn't find a provider with the supplied ID.</dd>

<dt><a name="1160431"> </a><code>cpmErrNoProviders</code></dt>
<dd><a name="1160439"> </a>Given the supplied application context, the CPM is unaware of any providers.</dd>

<dt><a name="1160444"> </a><code>cpmErrNoAppContext</code></dt>
<dd><a name="1160449"> </a>The <code class="par">appContext</code> parameter is <code>NULL</code>.</dd>

<dt><a name="1160450"> </a><code>cpmErrParamErr</code></dt>
<dd><a name="1160485"> </a>The supplied command isn't a valid command.</dd>

<dt><a name="1160486"> </a><code>cpmErrUnsupported</code></dt>
<dd><a name="1160491"> </a>The supplied command isn't supported.</dd>

</dl>
<h4>
  <a name="1000566"> </a>Comments 
</h4>

<p><a name="1000567"> </a>If <code>*</code><code class="par">id</code> is <code>0</code>, the CPM's function dispatcher attempts to locate a provider that implements <code class="par">cmd</code>. If it finds one, that provider's dispatch function (an <a href="CPMLibProvider.html#1161710"><code>APDispatchProcPtr</code></a>) is called with the specified command and command parameters.</p>
<h4>
  <a name="1000568"> </a>See Also 
</h4>

<p><a name="1093769"> </a><a href="CPMLibProvider.html#1161710"><code>APDispatchProcPtr</code></a></p>

<h3 class="hbH3">
  <a name="1000584"> </a>CPMGenerateRandomBytesProcPtr Function <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1000613"> </a>Purpose 
</h4>

<p><a name="1159004"> </a>Pointer to a function that returns a requested number of random bytes.</p>
<h4>
  <a name="1000615"> </a>Declared In 
</h4>
<code>CPMLibProvider.h<a name="1000616"> </a></code><h4>
  <a name="1000594"> </a>Prototype 
</h4>
<pre class="proto"><a name="999742"></a>status_t (
   *CPMGenerateRandomBytesProcPtr
) (
   void *<code class="par">appContext</code>,
   uint8_t *<code class="par">buffer</code>,
   uint32_t *<code class="par">buflenP</code>
)
</pre>
<h4>
  <a name="1000649"> </a>Parameters 
</h4>

<dl>
<dt><a name="999744"> </a><code>&rarr;  <i>appContext</i></code></dt>
<dd><a name="1158792"> </a>Pointer to a structure containing the provider-specific application context to be used in future CPM calls. This structure is normally created and initialized when the library is opened.</dd>

<dt><a name="999745"> </a><code>&larr;  <i>buffer</i></code></dt>
<dd><a name="1159014"> </a>Pointer to a buffer, allocated by the application, into which the random bytes are written.</dd>

<dt><a name="999746"> </a><code>&harr;  <i>buflenP</i></code></dt>
<dd><a name="1159020"> </a>When this function is called, the variable pointed to by this parameter is set to the size of <code class="par">buffer</code>. Upon return, the variable contains the number of random bytes written to <code class="par">buffer</code>.</dd>

</dl>

<p><a name="1159036"> </a><code>errNone</code> if the operation completed successfully, or one of the error codes listed under <a href="CPMLibCommon.html#992930">"CPM Library Error Codes"</a> otherwise.</p>
<h4>
  <a name="1159040"> </a>Comments 
</h4>

<p><a name="1159041"> </a>If there are not <code class="par">bufLenP</code> random bytes available, this function returns the available random bytes and returns the number of available bytes in <code class="par">bufLenP</code>. </p>
<h4>
  <a name="1000657"> </a>See Also 
</h4>

<p><a name="1093804"> </a><a href="CPMLibProvider.html#1000184"><code>CPMAddRandomSeedProcPtr()</code></a></p>

<p><a name="992930"> </a></p>
&nbsp;<br>
</div>
<!--END CONTENT-->

</td>
<td width="5">&nbsp;&nbsp;</td>
</tr>

</table>

<!-- BEGIN FOOTER -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="7" rowspan="2"><img name="index_x" src="images/shim.gif" width="7" height="33" border="0" alt=""></td>
<td align="left"><img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
<td width="10" rowspan="2"><img name="index_x" src="images/shim.gif" width="10" height="33" border="0" alt=""></td>
</tr>
<tr>
<td align="center">
<p class="footer">
Copyright © 1996&#8211;2004, PalmSource, Inc. and its affiliates. All rights reserved.<br>
<a href="http://www.palmsource.com/contact/">Write Us</a> | <a href="http://www.palmos.com/dev/training/">Training</a> | <a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a> | <a href="SecurityAndCrypto_Front.html" target="_blank">Legal</a></p>
<br>
<!--BEGIN BOOK NAVIGATION-->
<p class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="SecurityAndCryptographyTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="CPMLibCommon.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="Encrypt.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="SecurityAndCryptographyIX.html">Index</a>
</p>
</td>
</tr>
</table>
<!-- END FOOTER -->

</body>
</html>