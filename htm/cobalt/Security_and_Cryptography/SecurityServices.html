<html>
<head>
<title>(Protein) Security Services | Security and Cryptography</title> 
<link href="psi_devpubs.css" rel="stylesheet" type="text/css">

<!-- BEGIN META DATA -->
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META NAME="PSITEMPLATE" CONTENT="1006-007 PalmSource_HTML_2003 20041101">
<META NAME="GENERATOR" CONTENT="Quadralay WebWorks AutoMap 2003 for FrameMaker 8.0.6.2138">
<META NAME="LASTUPDATED" CONTENT="11/22/04 11:25:05">
<!-- END META DATA -->
</head>

<body bgcolor="#ffffff" text="#000000" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<a name="992934"></a>

<!-- BEGIN TOPNAV -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td><img src="images/shim.gif" width="7" height="75" border="0" alt=""></td>
<td align="left"><table border="0" cellpadding="0" cellspacing="0" width="744">
<tr>
<td><img name="index_r2_c1" src="images/shim.gif" width="25" height="75" border="0" alt=""></td>
<td valign="top"><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_r2_c4" src="images/shim.gif" width="96" height="15" border="0" alt=""></td>
</tr>
<tr>
<td><a href="http://www.palmsource.com/"><img name="ps_logo" src="images/ps_logo.gif" width="96" height="54" border="0" alt=""></a></td>
</tr>

</table>
</td>

<td><table border="0" cellpadding="0" cellspacing="0" width="30">
<td><img name="index_x" src="images/shim.gif" width="30" height="75" border="0" alt=""></td>
</table></td>

<!--BEGIN MASTHEAD-->
<td><table border="0" cellpadding="0" cellspacing="0" width="96">
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
<tr>
<td>
<!--BEGIN BOOK NAVIGATION-->
<span class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="SecurityAndCryptographyTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="Password.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="SignVfy.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="SecurityAndCryptographyIX.html">Index</a>
</span>
<!--END BOOK NAVIGATION-->
</tr>
<tr>
<td>
<!--BEGIN PAGE TITLE-->
<h2 class="PageTitle">14 &nbsp;&nbsp;
Security Services</h2></td>
<!--END PAGE TITLE-->
</tr>
<tr>
<td>
<!--BEGIN BOOK TITLE-->
<p class="BookTitle">Security and Cryptography</p>
<p class="SubTitle">Exploring Palm OS </p>
<!--END BOOK TITLE-->
</td>
</tr>
<tr>
<td><img name="index_x" src="images/shim.gif" width="615" height="5" border="0" alt=""></td>
</tr>
</table>
</td>
<!--END MASTHEAD-->
</tr>
</table>
<img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
</tr>
</table>
<!-- END TOPNAV -->

<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top" width="5"><img name="index_x" src="images/shim.gif" width="5" height="33" border="0" alt=""></td>

<!--BEGIN SIDETOC-->
<td valign="top" width="175">
<div id="sidetoc" valign="bottom">
<h1 class="SideTOC1-PartTab"><a href="SecurityAndCrypto_Part2.html">Part II: Reference</a> </h1>
<h1 class="SideTOC1"><a href="SecurityServices.html">14  Security Services</a></h1>

   <h2 class="SideTOC2"><a href="#1021594">
   Security Services Structures and Types</a></h2>

      <h3 class="SideTOC3"><a href="#1011676">
      SecSvcsDecodeLockoutTimePtrType</a></h3>

      <h3 class="SideTOC3"><a href="#1011689">
      SecSvcsEncodeLockoutTimePtrType</a></h3>

      <h3 class="SideTOC3"><a href="#1011702">
      SecSvcsGetDeviceLockoutPtrType</a></h3>

      <h3 class="SideTOC3"><a href="#1011715">
      SecSvcsGetDevicePoliciesPtrType</a></h3>

      <h3 class="SideTOC3"><a href="#1011728">
      SecSvcsGetDeviceSettingPtrType</a></h3>

      <h3 class="SideTOC3"><a href="#1011741">
      SecSvcsIsDeviceLockedPtrType</a></h3>

      <h3 class="SideTOC3"><a href="#1011754">
      SecSvcsSetDeviceLockedPtrType</a></h3>

      <h3 class="SideTOC3"><a href="#1011767">
      SecSvcsSetDeviceLockoutPtrType</a></h3>

      <h3 class="SideTOC3"><a href="#1011780">
      SecSvcsSetDeviceSettingPtrType</a></h3>

   <h2 class="SideTOC2"><a href="#992942">
   Security Services Constants</a></h2>

      <h3 class="SideTOC3"><a href="#1006809">
      Security Services Entry Points</a></h3>

      <h3 class="SideTOC3"><a href="#1007567">
      Security Services Errors</a></h3>

      <h3 class="SideTOC3"><a href="#1007887">
      Miscellaneous Security Services Constants</a></h3>

      <h3 class="SideTOC3"><a href="#993030">
      SecSvcsDeviceLockoutEnum</a></h3>

      <h3 class="SideTOC3"><a href="#993073">
      SecSvcsDeviceSettingEnum</a></h3>

   <h2 class="SideTOC2"><a href="#993108">
   Security Services Functions and Macros</a></h2>

      <h3 class="SideTOC3"><a href="#993116">
      SecSvcsDecodeLockoutTime</a></h3>

      <h3 class="SideTOC3"><a href="#993174">
      SecSvcsEncodeLockoutTime</a></h3>

      <h3 class="SideTOC3"><a href="#993228">
      SecSvcsGetDeviceLockout</a></h3>

      <h3 class="SideTOC3"><a href="#993566">
      SecSvcsGetDevicePolicies</a></h3>

      <h3 class="SideTOC3"><a href="#993616">
      SecSvcsGetDeviceSetting</a></h3>

      <h3 class="SideTOC3"><a href="#993742">
      SecSvcsIsDeviceLocked</a></h3>

      <h3 class="SideTOC3"><a href="#993782">
      SecSvcsSetDeviceLocked</a></h3>

      <h3 class="SideTOC3"><a href="#993867">
      SecSvcsSetDeviceLockout</a></h3>

      <h3 class="SideTOC3"><a href="#993933">
      SecSvcsSetDeviceSetting</a></h3>

</div>
</td>

<td width="5">&nbsp;&nbsp;</td>
<td width="2" background="images/index_r8_c10.gif"><img src="images/shim.gif" width="2" height="75" border="0" alt=""></td>
<td width="5">&nbsp;&nbsp;</td>

<!--END SIDETOC-->

<td valign="top">

<!--BEGIN CONTENT-->
<div id="content" valign="bottom">
<p><a name="992936"> </a>The Security Services manage the device settings regarding the user's level of concern for security. This includes the overall security level set for the device as well as the device lockout settings.</p>

<p><a name="1012894"> </a>This chapter provides reference documentation for the Security Services. It is organized into the following sections:</p>
   <blockquote class = "bq"><a name="1012049"> </a><a href="SecurityServices.html#1021594">Security Services Structures and Types</a></blockquote>
   <blockquote class = "bq"><a name="1015661"> </a><a href="SecurityServices.html#992942">Security Services Constants</a></blockquote>
   <blockquote class = "bq"><a name="1015665"> </a><a href="SecurityServices.html#993108">Security Services Functions and Macros</a></blockquote>

<p><a name="1021590"> </a>The header file <code>SecurityServices.h</code> declares the API that this chapter describes.</p>

<p><a name="1021592"> </a></p>

<h2 class="haH2">
  <a name="1021594"> </a>Security Services Structures and Types <a href="#992934"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="1011676"> </a>SecSvcsDecodeLockoutTimePtrType Typedef <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1011678"> </a>Purpose 
</h4>

<p><a name="1011682"> </a>Pointer to the <a href="SecurityServices.html#993116"><code>SecSvcsDecodeLockoutTime()</code></a> function.</p>
<h4>
  <a name="1011683"> </a>Declared In 
</h4>
<code>SecurityServices.h<a name="1011684"> </a></code><h4>
  <a name="1011685"> </a>Prototype 
</h4>
<pre class="proto"><a name="1017070"></a>typedef status_t


   (*SecSvcsDecodeLockoutTimePtrType)


   (uint32_t <code class="par">encoded_level</code>,


   SecSvcsDeviceLockoutEnum <code class="par">*lockoutType</code>,


   uint32_t <code class="par">*hours</code>, uint32_t <code class="par">*minutes</code>)


</pre>

<h3 class="hbH3">
  <a name="1011689"> </a>SecSvcsEncodeLockoutTimePtrType Typedef <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1011691"> </a>Purpose 
</h4>

<p><a name="1011695"> </a>Pointer to the <a href="SecurityServices.html#993174"><code>SecSvcsEncodeLockoutTime()</code></a> function.</p>
<h4>
  <a name="1011696"> </a>Declared In 
</h4>
<code>SecurityServices.h<a name="1011697"> </a></code><h4>
  <a name="1011698"> </a>Prototype 
</h4>
<pre class="proto"><a name="1011699"></a>typedef status_t


   (*SecSvcsEncodeLockoutTimePtrType)


   (SecSvcsDeviceLockoutEnum <code class="par">lockoutType</code>,


   uint32_t <code class="par">*encoded_level</code>, uint32_t <code class="par">hours</code>,


   uint32_t <code class="par">minutes</code>)


</pre>

<h3 class="hbH3">
  <a name="1011702"> </a>SecSvcsGetDeviceLockoutPtrType Typedef <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1011704"> </a>Purpose 
</h4>

<p><a name="1011708"> </a>Pointer to the <a href="SecurityServices.html#993228"><code>SecSvcsGetDeviceLockout()</code></a> function.</p>
<h4>
  <a name="1011709"> </a>Declared In 
</h4>
<code>SecurityServices.h<a name="1011710"> </a></code><h4>
  <a name="1011711"> </a>Prototype 
</h4>
<pre class="proto"><a name="1011712"></a>typedef status_t


   (*SecSvcsGetDeviceLockoutPtrType)


   (uint32_t <code class="par">*encoded_level</code>)


</pre>

<h3 class="hbH3">
  <a name="1011715"> </a>SecSvcsGetDevicePoliciesPtrType Typedef <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1011717"> </a>Purpose 
</h4>

<p><a name="1011721"> </a>Pointer to the <a href="SecurityServices.html#993566"><code>SecSvcsGetDevicePolicies()</code></a> function.</p>
<h4>
  <a name="1011722"> </a>Declared In 
</h4>
<code>SecurityServices.h<a name="1011723"> </a></code><h4>
  <a name="1011724"> </a>Prototype 
</h4>
<pre class="proto"><a name="1011725"></a>typedef status_t


   (*SecSvcsGetDevicePoliciesPtrType)


   (uint32_t <code class="par">creatorID</code>, uint8_t <code class="par">*buffer</code>,


   uint32_t <code class="par">*buflen</code>)


</pre>

<h3 class="hbH3">
  <a name="1011728"> </a>SecSvcsGetDeviceSettingPtrType Typedef <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1011730"> </a>Purpose 
</h4>

<p><a name="1011734"> </a>Pointer to the <a href="SecurityServices.html#993616"><code>SecSvcsGetDeviceSetting()</code></a> function.</p>
<h4>
  <a name="1011735"> </a>Declared In 
</h4>
<code>SecurityServices.h<a name="1011736"> </a></code><h4>
  <a name="1011737"> </a>Prototype 
</h4>
<pre class="proto"><a name="1011738"></a>typedef status_t


   (*SecSvcsGetDeviceSettingPtrType)


   (SecSvcsDeviceSettingEnum <code class="par">*level</code>)


</pre>

<h3 class="hbH3">
  <a name="1011741"> </a>SecSvcsIsDeviceLockedPtrType Typedef <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1011743"> </a>Purpose 
</h4>

<p><a name="1011747"> </a>Pointer to the <a href="SecurityServices.html#993742"><code>SecSvcsIsDeviceLocked()</code></a> function.</p>
<h4>
  <a name="1011748"> </a>Declared In 
</h4>
<code>SecurityServices.h<a name="1011749"> </a></code><h4>
  <a name="1011750"> </a>Prototype 
</h4>
<pre class="proto"><a name="1011751"></a>typedef Boolean (*SecSvcsIsDeviceLockedPtrType)


   (void)


</pre>

<h3 class="hbH3">
  <a name="1011754"> </a>SecSvcsSetDeviceLockedPtrType Typedef <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1011756"> </a>Purpose 
</h4>

<p><a name="1011760"> </a>Pointer to the <a href="SecurityServices.html#993782"><code>SecSvcsSetDeviceLocked()</code></a> function.</p>
<h4>
  <a name="1011761"> </a>Declared In 
</h4>
<code>SecurityServices.h<a name="1011762"> </a></code><h4>
  <a name="1011763"> </a>Prototype 
</h4>
<pre class="proto"><a name="1011764"></a>typedef status_t (*SecSvcsSetDeviceLockedPtrType)


   (Boolean <code class="par">locked</code>)


</pre>

<h3 class="hbH3">
  <a name="1011767"> </a>SecSvcsSetDeviceLockoutPtrType Typedef <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1011769"> </a>Purpose 
</h4>

<p><a name="1011773"> </a>Pointer to the <a href="SecurityServices.html#993867"><code>SecSvcsSetDeviceLockout()</code></a> function.</p>
<h4>
  <a name="1011774"> </a>Declared In 
</h4>
<code>SecurityServices.h<a name="1011775"> </a></code><h4>
  <a name="1011776"> </a>Prototype 
</h4>
<pre class="proto"><a name="1011777"></a>typedef status_t


   (*SecSvcsSetDeviceLockoutPtrType)


   (uint32_t <code class="par">encoded_level</code>)


</pre>

<h3 class="hbH3">
  <a name="1011780"> </a>SecSvcsSetDeviceSettingPtrType Typedef <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1011782"> </a>Purpose 
</h4>

<p><a name="1011786"> </a>Pointer to the <a href="SecurityServices.html#993933"><code>SecSvcsSetDeviceSetting()</code></a> function.</p>
<h4>
  <a name="1011787"> </a>Declared In 
</h4>
<code>SecurityServices.h<a name="1011788"> </a></code><h4>
  <a name="1011789"> </a>Prototype 
</h4>
<pre class="proto"><a name="1011790"></a>typedef status_t


   (*SecSvcsSetDeviceSettingPtrType)


   (SecSvcsDeviceSettingEnum <code class="par">level</code>)


</pre>

<h2 class="haH2">
  <a name="992942"> </a>Security Services Constants <a href="#992934"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="1006809"> </a>Security Services Entry Points <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1006810"> </a>Purpose 
</h4>

<p><a name="1006811"> </a>Each of the Security Services functions is identified by its entry point. These constants define those entry points.</p>
<h4>
  <a name="992957"> </a>Declared In 
</h4>
<code>SecurityServices.h<a name="992960"> </a></code><h4>
  <a name="992962"> </a>Constants 
</h4>

<dl>
<dt><a name="992965"> </a><code>#define entryNumSecSvcsDecodeLockoutTime (6)</code></dt>
<dt><a name="992969"> </a><code>#define entryNumSecSvcsEncodeLockoutTime (5)</code></dt>
<dt><a name="992973"> </a><code>#define entryNumSecSvcsGetDeviceLockout (3)</code></dt>
<dt><a name="992977"> </a><code>#define entryNumSecSvcsGetDevicePolicies (0)</code></dt>
<dt><a name="992981"> </a><code>#define entryNumSecSvcsGetDeviceSetting (1)</code></dt>
<dt><a name="992985"> </a><code>#define entryNumSecSvcsSetDeviceLockout (4)</code></dt>
<dt><a name="992989"> </a><code>#define entryNumSecSvcsSetDeviceSetting (2)</code></dt>
</dl>

<h3 class="hbH3">
  <a name="1007567"> </a>Security Services Errors <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1007568"> </a>Purpose 
</h4>

<p><a name="1007569"> </a>Error codes returned by the various Security Services functions.</p>
<h4>
  <a name="1007570"> </a>Declared In 
</h4>
<code>SignVfy.h<a name="1007571"> </a></code><h4>
  <a name="1007572"> </a>Constants 
</h4>

<dl>
<dt><a name="992993"> </a><code>#define secSvcsErrBufferTooSmall ((status_t)(secSvcsErrorClass | 2))</code></dt>
<dd><a name="1013014"> </a>The supplied buffer was too small. The required size has been returned through the length parameter.</dd>

<dt><a name="992997"> </a><code>#define secSvcsErrInvalid ((status_t)(secSvcsErrorClass | 7))</code></dt>
<dd><a name="1013128"> </a>The specified security level or lockout type isn't one of the allowable values.</dd>

<dt><a name="993001"> </a><code>#define secSvcsErrNoPolicies ((status_t)(secSvcsErrorClass | 3))</code></dt>
<dd><a name="1013151"> </a>The licensee has not specified any policies for the device.</dd>

<dt><a name="993005"> </a><code>#define secSvcsErrNotImplemented ((status_t)(secSvcsErrorClass | 1))</code></dt>
<dd><a name="993007"> </a>A requested service is not implemented.</dd>

<dt><a name="993009"> </a><code>#define secSvcsErrOutOfMemory ((status_t)(secSvcsErrorClass | 5))</code></dt>
<dd><a name="1013083"> </a>There was insufficient memory to complete the operation.</dd>

<dt><a name="993013"> </a><code>#define secSvcsErrServiceNotStarted ((status_t)(secSvcsErrorClass | 6))</code></dt>
<dd><a name="1013087"> </a>The Security Services process has not started.</dd>

<dt><a name="993017"> </a><code>#define secSvcsErrUnauthorized ((status_t)(secSvcsErrorClass | 4))</code></dt>
<dd><a name="993019"> </a>The caller is not authorized to perform the requested operation.</dd>

</dl>

<h3 class="hbH3">
  <a name="1007887"> </a>Miscellaneous Security Services Constants <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="1008044"> </a>Purpose 
</h4>

<p><a name="1008095"> </a>The SecurityServices.h header file also declares these constants.</p>
<h4>
  <a name="1008096"> </a>Declared In 
</h4>
<code>SecurityServices.h<a name="1008099"> </a></code><h4>
  <a name="1008100"> </a>Constants 
</h4>

<dl>
<dt><a name="993021"> </a><code>#define SecSvcsServiceName "pSysSecSvcs"</code></dt>
<dd><a name="1008154"> </a>The name under which the Security Services are registered with the Service Manager.</dd>

</dl>

<h3 class="hbH3">
  <a name="993030"> </a>SecSvcsDeviceLockoutEnum Enum <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="993035"> </a>Purpose 
</h4>

<p><a name="993038"> </a>"Lockout type" values that specify when the device will be automatically locked by the operating system.</p>
<h4>
  <a name="993040"> </a>Declared In 
</h4>
<code>SecurityServices.h<a name="993043"> </a></code><h4>
  <a name="993045"> </a>Constants 
</h4>

<dl>
<dt><a name="993048"> </a><code>SecSvcsDeviceLockoutNever = 0</code></dt>
<dd><a name="993050"> </a>The device never locks.</dd>

<dt><a name="993052"> </a><code>SecSvcsDeviceLockoutPowerOff</code></dt>
<dd><a name="993054"> </a>The device locks upon power off.</dd>

<dt><a name="993056"> </a><code>SecSvcsDeviceLockoutAt</code></dt>
<dd><a name="993058"> </a>The device is locked at the specified time.</dd>

<dt><a name="993064"> </a><code>SecSvcsDeviceLockoutAfter</code></dt>
<dd><a name="993066"> </a>The device is locked after the specified amount of time has elapsed.</dd>

</dl>

<h3 class="hbH3">
  <a name="993073"> </a>SecSvcsDeviceSettingEnum Enum <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="993078"> </a>Purpose 
</h4>

<p><a name="993081"> </a>The user's "paranoia level."</p>
<h4>
  <a name="993083"> </a>Declared In 
</h4>
<code>SecurityServices.h<a name="993086"> </a></code><h4>
  <a name="993088"> </a>Constants 
</h4>

<dl>
<dt><a name="993091"> </a><code>SecSvcsDeviceSecurityNone = 0</code></dt>
<dd><a name="993093"> </a>No security needed: the device and services should be as open as possible.</dd>

<dt><a name="993095"> </a><code>SecSvcsDeviceSecurityMedium</code></dt>
<dd><a name="993097"> </a>The user would like to be notified whenever security-related operations take place, and where appropriate given the opportunity to veto the operation.</dd>

<dt><a name="993099"> </a><code>SecSvcsDeviceSecurityHigh</code></dt>
<dd><a name="993101"> </a>The user is extremely security-conscious and likely wants all security-related operations denied.</dd>

</dl>

<h2 class="haH2">
  <a name="993108"> </a>Security Services Functions and Macros <a href="#992934"><span class="nav">^TOP^</span></a>
</h2>


<h3 class="hbH3">
  <a name="993116"> </a>SecSvcsDecodeLockoutTime Function <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="993121"> </a>Purpose 
</h4>

<p><a name="1004618"> </a>Decodes the 32-bit <code class="par">encoded_level</code> value obtained from <a href="SecurityServices.html#993228"><code>SecSvcsGetDeviceLockout()</code></a> into a set of lockout parameters (<code class="par">lockoutType</code>, <code class="par">hours</code>, and <code class="par">minutes</code>).</p>
<h4>
  <a name="993126"> </a>Declared In 
</h4>
<code>SecurityServices.h<a name="993129"> </a></code><h4>
  <a name="993131"> </a>Prototype 
</h4>
<pre class="proto"><a name="993134"></a>status_t SecSvcsDecodeLockoutTime   (
   uint32_t <code class="par">encoded_level</code>,
      SecSvcsDeviceLockoutEnum <code class="par">*lockoutType</code>,
      uint32_t <code class="par">*hours</code>,
   uint32_t <code class="par">*minutes</code>
)
</pre>
<h4>
  <a name="993136"> </a>Parameters 
</h4>

<dl>
<dt><a name="993139"> </a><code>&rarr;  <i>encoded_level</i></code></dt>
<dd><a name="1005535"> </a>The encoded lockout parameters. </dd>

<dt><a name="993143"> </a><code>&larr;  <i>lockoutType</i></code></dt>
<dd><a name="1005784"> </a>One of the <a href="SecurityServices.html#993030"><code>SecSvcsDeviceLockoutEnum</code></a> values that specifies when the device will be locked.</dd>

<dt><a name="993147"> </a><code>&larr;  <i>hours</i></code></dt>
<dd><a name="1004542"> </a>In conjunction with <code class="par">minutes</code>, the time when the device will lock or the amount of time that must elapse before the device will lock. See the Comments section, below, for more information.</dd>

<dt><a name="993155"> </a><code>&larr;  <i>minutes</i></code></dt>
<dd><a name="1004550"> </a>In conjunction with <code class="par">hours</code>, the time when the device will lock or the amount of time that must elapse before the device will lock. See the Comments section, below, for more information.</dd>

</dl>
<h4>
  <a name="993159"> </a>Returns 
</h4>

<p><a name="993162"> </a>Always returns <code>errNone</code>.</p>
<h4>
  <a name="1005794"> </a>Comments 
</h4>

<p><a name="1005795"> </a>If the lockout type is <code>SecSvcsDeviceLockoutAt</code>, the device will lock at the time specified by <code class="par">hours</code> and <code class="par">minutes</code>. If the lockout type is <code>SecSvcsDeviceLockoutAfter</code>, the device will lock after the specified number of hours and minutes have elapsed.</p>
<h4>
  <a name="993169"> </a>See Also 
</h4>

<p><a name="993172"> </a><a href="SecurityServices.html#993174"><code>SecSvcsEncodeLockoutTime()</code></a></p>

<h3 class="hbH3">
  <a name="993174"> </a>SecSvcsEncodeLockoutTime Function <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="993179"> </a>Purpose 
</h4>

<p><a name="993182"> </a>Encodes the lockout parameters into a 32-bit value for use with <a href="SecurityServices.html#993867"><code>SecSvcsSetDeviceLockout()</code></a>.</p>
<h4>
  <a name="993184"> </a>Declared In 
</h4>
<code>SecurityServices.h<a name="993187"> </a></code><h4>
  <a name="993189"> </a>Prototype 
</h4>
<pre class="proto"><a name="993192"></a>status_t SecSvcsEncodeLockoutTime   (
   SecSvcsDeviceLockoutEnum <code class="par">lockoutType</code>,
      uint32_t <code class="par">*encoded_level</code>,
   uint32_t <code class="par">hours</code>,
      uint32_t <code class="par">minutes</code>
)
</pre>
<h4>
  <a name="993194"> </a>Parameters 
</h4>

<dl>
<dt><a name="993197"> </a><code>&rarr;  <i>lockoutType</i></code></dt>
<dd><a name="1002852"> </a>One of the <a href="SecurityServices.html#993030"><code>SecSvcsDeviceLockoutEnum</code></a> values that specifies when the device will be locked.</dd>

<dt><a name="993201"> </a><code>&larr;  <i>encoded_level</i></code></dt>
<dd><a name="993203"> </a>The encoded lockout parameters. </dd>

<dt><a name="993205"> </a><code>&rarr;  <i>hours</i></code></dt>
<dd><a name="993207"> </a>In conjunction with <code class="par">minutes</code>, the time when the device will lock or the amount of time that must elapse before the device will lock. See the Comments section, below, for more information.</dd>

<dt><a name="993209"> </a><code>&rarr;  <i>minutes</i></code></dt>
<dd><a name="1004326"> </a>In conjunction with <code class="par">hours</code>, the time when the device will lock or the amount of time that must elapse before the device will lock. See the Comments section, below, for more information.</dd>

</dl>
<h4>
  <a name="993213"> </a>Returns 
</h4>

<p><a name="1013600"> </a>Always returns <code>errNone</code>.</p>
<h4>
  <a name="993218"> </a>Comments 
</h4>

<p><a name="1003486"> </a>If the lockout type is <code>SecSvcsDeviceLockoutAt</code>, the device will lock at the time specified by <code class="par">hours</code> and <code class="par">minutes</code>. If the lockout type is <code>SecSvcsDeviceLockoutAfter</code>, the device will lock after the specified number of hours and minutes have elapsed.</p>
<h4>
  <a name="993223"> </a>See Also 
</h4>

<p><a name="993226"> </a><a href="SecurityServices.html#993116"><code>SecSvcsDecodeLockoutTime()</code></a></p>

<h3 class="hbH3">
  <a name="993228"> </a>SecSvcsGetDeviceLockout Function <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="993233"> </a>Purpose 
</h4>

<p><a name="993236"> </a>Gets the lockout parameters as currently set for the device.</p>
<h4>
  <a name="993238"> </a>Declared In 
</h4>
<code>SecurityServices.h<a name="993241"> </a></code><h4>
  <a name="993243"> </a>Prototype 
</h4>
<pre class="proto"><a name="993272"></a>status_t SecSvcsGetDeviceLockout   (
   uint32_t <code class="par">*encoded_level</code>
)
</pre>
<h4>
  <a name="993328"> </a>Parameters 
</h4>

<dl>
<dt><a name="993379"> </a><code>&larr;  <i>encoded_level</i></code></dt>
<dd><a name="993429"> </a>The lockout parameters. These are encoded to save space and must be decoded using <a href="SecurityServices.html#993116"><code>SecSvcsDecodeLockoutTime()</code></a>.</dd>

</dl>
<h4>
  <a name="993503"> </a>Returns 
</h4>

<p><a name="1013723"> </a>Always returns <code>errNone</code>.</p>
<h4>
  <a name="993561"> </a>See Also 
</h4>

<p><a name="993564"> </a><a href="SecurityServices.html#993867"><code>SecSvcsSetDeviceLockout()</code></a></p>

<h3 class="hbH3">
  <a name="993566"> </a>SecSvcsGetDevicePolicies Function <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="993571"> </a>Purpose 
</h4>

<p><a name="993574"> </a>Obtain the security policies defined for the device.</p>
<h4>
  <a name="993576"> </a>Declared In 
</h4>
<code>SecurityServices.h<a name="993579"> </a></code><h4>
  <a name="993581"> </a>Prototype 
</h4>
<pre class="proto"><a name="993584"></a>status_t SecSvcsGetDevicePolicies   (
   uint32_t <code class="par">creatorID</code>,
   uint8_t <code class="par">*buffer</code>,
      uint32_t <code class="par">*buflen</code>
)
</pre>
<h4>
  <a name="993586"> </a>Parameters 
</h4>

<dl>
<dt><a name="993589"> </a><code>&rarr;  <i>creatorID</i></code></dt>
<dd><a name="993591"> </a>Specifies the particular policies being requested. Note that this is not specifically related to actual creator ID values but rather agreed-upon and documented names. In this way a manager can utilize multiple sets of policies.</dd>

<dt><a name="993593"> </a><code>&larr;  <i>buffer</i></code></dt>
<dd><a name="993595"> </a>A caller-allocated buffer that will receive the requested policies, or <code>NULL</code> to request the necessary buffer size (which is then returned through <code class="par">buflen</code>).</dd>

<dt><a name="993597"> </a><code>&harr;  <i>buflen</i></code></dt>
<dd><a name="993599"> </a>When calling this function, this is the size of <code class="par">buffer</code>. Upon return it is set to the total size of the returned policies.</dd>

</dl>
<h4>
  <a name="993601"> </a>Returns 
</h4>

<p><a name="993604"> </a>Returns <code>errNone</code> if the operation completed successfully, <code>secSvcsErrNoPolicies</code> if the device has no policies, or one of the following otherwise:</p>

<dl>
<dt><a name="1013790"> </a><code>secSvcsErrBufferTooSmall</code></dt>
<dd><a name="1013763"> </a>The specified buffer is too small to contain the security policies. <code>*</code><code class="par">buflen</code> has been set to the needed buffer size.</dd>

</dl>
<h4>
  <a name="993606"> </a>Comments 
</h4>

<p><a name="995157"> </a>Upon calling this function, you can expect one of three "valid" returns:</p>
<ul type="disc">
  <li><a name="995158"> </a>No policies returned (<code>secSvcsErrNoPolicies</code>). The licensee has not specified any policies and the service or manager should behave openly (that is, with no restrictions).
  <li><a name="995160"> </a>A multiple of 20 bytes is returned, with each 20 byte boundary representing a valid certificate ID.
  <li><a name="995165"> </a>One 20 byte wildcard certificate is returned. A wildcard certificate represents a slightly higher level of security than the totally open device. The wildcard means that the service or manager will check to see if the code is signed by a signer already in the list of trusted roots. If the code is signed by one of the trusted roots, then allow the operation. If the code is not signed by one of the trusted roots or not signed at all then annoy the user with as much information about the code as possible (not signed, signed by whom, etc.) and ask the user if the code should be applied.
</ul>

<h3 class="hbH3">
  <a name="993616"> </a>SecSvcsGetDeviceSetting Function <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="993625"> </a>Purpose 
</h4>

<p><a name="993630"> </a>Obtain the current security services setting.</p>
<h4>
  <a name="993638"> </a>Declared In 
</h4>
<code>SecurityServices.h<a name="993649"> </a></code><h4>
  <a name="993659"> </a>Prototype 
</h4>
<pre class="proto"><a name="993670"></a>status_t SecSvcsGetDeviceSetting   (
   SecSvcsDeviceSettingEnum <code class="par">*level</code>
)
</pre>
<h4>
  <a name="993684"> </a>Parameters 
</h4>

<dl>
<dt><a name="993695"> </a><code>&larr;  <i>level</i></code></dt>
<dd><a name="993705"> </a>One of the <a href="SecurityServices.html#993073"><code>SecSvcsDeviceSettingEnum</code></a> values.</dd>

</dl>
<h4>
  <a name="993719"> </a>Returns 
</h4>

<p><a name="993730"> </a>Always returns <code>errNone</code>.</p>
<h4>
  <a name="993732"> </a>Comments 
</h4>

<p><a name="999700"> </a>Generally, for <code>SecSvcsDeviceSecurityNone</code> the user does not care and the device and services should be as open as possible. For <code>SecSvcsDeviceSecurityMedium</code> the user is requesting notification for operations performed by various services, perhaps a yes/no dialog before the operation takes place. For <code>SecSvcsDeviceSecurityHigh</code> the user is "paranoid" and probably wants the operations denied </p>
<h4>
  <a name="993737"> </a>See Also 
</h4>

<p><a name="993740"> </a><a href="SecurityServices.html#993566"><code>SecSvcsGetDevicePolicies()</code></a>, <a href="SecurityServices.html#993742"><code>SecSvcsIsDeviceLocked()</code></a>, <a href="SecurityServices.html#993933"><code>SecSvcsSetDeviceSetting()</code></a></p>

<h3 class="hbH3">
  <a name="993742"> </a>SecSvcsIsDeviceLocked Function <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="993747"> </a>Purpose 
</h4>

<p><a name="993750"> </a>Determine whether the device is currently in a locked state.</p>
<h4>
  <a name="993752"> </a>Declared In 
</h4>
<code>SecurityServices.h<a name="993755"> </a></code><h4>
  <a name="993757"> </a>Prototype 
</h4>
<pre class="proto"><a name="993760"></a>Boolean SecSvcsIsDeviceLocked (
   void
)
</pre>
<h4>
  <a name="993762"> </a>Parameters 
</h4>

<p><a name="993765"> </a>None.</p>
<h4>
  <a name="993767"> </a>Returns 
</h4>

<p><a name="993770"> </a>Returns <code>true</code> if the device is locked, <code>false</code> if it is not.</p>
<h4>
  <a name="993772"> </a>Comments 
</h4>

<p><a name="993775"> </a>This function is intended to be used for low-level modules that control whether or not the device is locked. </p>
<h4>
  <a name="1008387"> </a>See Also 
</h4>

<p><a name="1008459"> </a><a href="SecurityServices.html#993228"><code>SecSvcsGetDeviceLockout()</code></a>, <a href="SecurityServices.html#993782"><code>SecSvcsSetDeviceLocked()</code></a></p>

<h3 class="hbH3">
  <a name="993782"> </a>SecSvcsSetDeviceLocked Function <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="993787"> </a>Purpose 
</h4>

<p><a name="993790"> </a>Lock or unlock the device.</p>
<h4>
  <a name="993792"> </a>Declared In 
</h4>
<code>SecurityServices.h<a name="993795"> </a></code><h4>
  <a name="993797"> </a>Prototype 
</h4>
<pre class="proto"><a name="993800"></a>status_t SecSvcsSetDeviceLocked (
   Boolean <code class="par">locked</code>
)
</pre>
<h4>
  <a name="993802"> </a>Parameters 
</h4>

<dl>
<dt><a name="993805"> </a><code>&rarr;  <i>locked</i></code></dt>
<dd><a name="993807"> </a>Supply a value of <code>true</code> to lock the device, or <code>false</code> to unlock it.</dd>

</dl>
<h4>
  <a name="993809"> </a>Returns 
</h4>

<dl>
<dd><a name="1013827"> </a>Returns <code>errNone</code> if the operation completed successfully, or <code>secSvcsErrServiceNotStarted</code> if the Security Services process has not started.</dd>

</dl>
<h4>
  <a name="993814"> </a>Comments 
</h4>

<p><a name="1008375"> </a>This function is intended to be used for low-level modules that control whether or not the device is locked. </p>
<h4>
  <a name="993833"> </a>See Also 
</h4>

<p><a name="993843"> </a><a href="SecurityServices.html#993742"><code>SecSvcsIsDeviceLocked()</code></a>, <a href="SecurityServices.html#993867"><code>SecSvcsSetDeviceLockout()</code></a></p>

<h3 class="hbH3">
  <a name="993867"> </a>SecSvcsSetDeviceLockout Function <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="993896"> </a>Purpose 
</h4>

<p><a name="993899"> </a>Sets the current lockout parameters for the device.</p>
<h4>
  <a name="993901"> </a>Declared In 
</h4>
<code>SecurityServices.h<a name="993904"> </a></code><h4>
  <a name="993906"> </a>Prototype 
</h4>
<pre class="proto"><a name="993909"></a>status_t SecSvcsSetDeviceLockout   (
   uint32_t <code class="par">encoded_level</code>
)
</pre>
<h4>
  <a name="993911"> </a>Parameters 
</h4>

<dl>
<dt><a name="993914"> </a><code>&rarr;  <i>encoded_level</i></code></dt>
<dd><a name="1002580"> </a>The lockout parameters. These must have been encoded using <a href="SecurityServices.html#993174"><code>SecSvcsEncodeLockoutTime()</code></a>. </dd>

</dl>
<h4>
  <a name="993918"> </a>Returns 
</h4>

<p><a name="1013114"> </a>Returns <code>errNone</code> if the operation completed successfully, or one of the following otherwise:</p>

<dl>
<dt><a name="1013115"> </a><code>amErrUserCancel</code></dt>
<dd><a name="1013116"> </a>The user canceled the operation.</dd>

<dt><a name="1013117"> </a><code>secSvcsErrInvalid</code></dt>
<dd><a name="1013118"> </a>The specified lockout type isn't one of the allowable values.</dd>

<dt><a name="1013720"> </a><code>secSvcsErrServiceNotStarted</code></dt>
<dd><a name="1013845"> </a>The Security Services process has not started.</dd>

</dl>
<h4>
  <a name="1015738"> </a>Comments 
</h4>

<div><hr>
  <a name="1015739"> </a> <b>IMPORTANT: </b> When called from the main application thread, this function may block. While blocked, the application will not receive events and won't redraw its windows. As well, deferred sublaunches and notifications won't execute while the main application thread is blocked.
<hr>
</div>
<h4>
  <a name="993928"> </a>See Also 
</h4>

<p><a name="993931"> </a><a href="SecurityServices.html#993228"><code>SecSvcsGetDeviceLockout()</code></a></p>

<h3 class="hbH3">
  <a name="993933"> </a>SecSvcsSetDeviceSetting Function <a href="#992934"><span class="nav">^TOP^</span></a>
</h3>

<h4>
  <a name="993938"> </a>Purpose 
</h4>

<p><a name="1000710"> </a>Change the current security services setting.</p>
<h4>
  <a name="993943"> </a>Declared In 
</h4>
<code>SecurityServices.h<a name="993946"> </a></code><h4>
  <a name="993948"> </a>Prototype 
</h4>
<pre class="proto"><a name="993951"></a>status_t SecSvcsSetDeviceSetting   (
   SecSvcsDeviceSettingEnum <code class="par">level</code>
)
</pre>
<h4>
  <a name="993953"> </a>Parameters 
</h4>

<dl>
<dt><a name="993956"> </a><code>&rarr;  <i>level</i></code></dt>
<dd><a name="1000719"> </a>One of the <a href="SecurityServices.html#993073"><code>SecSvcsDeviceSettingEnum</code></a> values.</dd>

</dl>
<h4>
  <a name="993960"> </a>Returns 
</h4>

<p><a name="993963"> </a>Returns <code>errNone</code> if the operation completed successfully, or one of the following otherwise:</p>

<dl>
<dt><a name="1013094"> </a><code>amErrUserCancel</code></dt>
<dd><a name="1013102"> </a>The user canceled the operation.</dd>

<dt><a name="1013103"> </a><code>secSvcsErrInvalid</code></dt>
<dd><a name="1013108"> </a>The specified level isn't one of the allowable values.</dd>

</dl>
<h4>
  <a name="1015726"> </a>Comments 
</h4>

<div><hr>
  <a name="1015727"> </a> <b>IMPORTANT: </b> When called from the main application thread, this function may block. While blocked, the application will not receive events and won't redraw its windows. As well, deferred sublaunches and notifications won't execute while the main application thread is blocked.
<hr>
</div>
<h4>
  <a name="993970"> </a>See Also 
</h4>

<p><a name="993973"> </a><a href="SecurityServices.html#993616"><code>SecSvcsGetDeviceSetting()</code></a></p>

<p><a name="992930"> </a></p>
&nbsp;<br>
</div>
<!--END CONTENT-->

</td>
<td width="5">&nbsp;&nbsp;</td>
</tr>

</table>

<!-- BEGIN FOOTER -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="7" rowspan="2"><img name="index_x" src="images/shim.gif" width="7" height="33" border="0" alt=""></td>
<td align="left"><img name="dashes" src="images/dashes.gif" width="744" height="3" border="0" alt=""></td>
<td width="10" rowspan="2"><img name="index_x" src="images/shim.gif" width="10" height="33" border="0" alt=""></td>
</tr>
<tr>
<td align="center">
<p class="footer">
Copyright © 1996&#8211;2004, PalmSource, Inc. and its affiliates. All rights reserved.<br>
<a href="http://www.palmsource.com/contact/">Write Us</a> | <a href="http://www.palmos.com/dev/training/">Training</a> | <a href="http://www.palmos.com/dev/support/kb/">Knowledge Base</a> | <a href="SecurityAndCrypto_Front.html" target="_blank">Legal</a></p>
<br>
<!--BEGIN BOOK NAVIGATION-->
<p class="nav">
<A href="http://www.palmos.com/dev/support/docs/">Documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
<a href="SecurityAndCryptographyTOC.html">Table of Contents</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="Password.html">&lt;&nbsp;Previous</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="SignVfy.html">Next&nbsp;&gt;</a>&nbsp;&nbsp;
             |&nbsp;&nbsp;<a href="SecurityAndCryptographyIX.html">Index</a>
</p>
</td>
</tr>
</table>
<!-- END FOOTER -->

</body>
</html>