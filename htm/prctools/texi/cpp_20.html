<HTML>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- Created on 2003-09-18 by texi2html 1.64 -->
<!-- 
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Olaf Bachmann <obachman@mathematik.uni-kl.de>
Send bugs and suggestions to <texi2html@mathematik.uni-kl.de>
 
-->
<HEAD>
<TITLE>The C Preprocessor: Macro Pitfalls</TITLE>

<META NAME="description" CONTENT="The C Preprocessor: Macro Pitfalls">
<META NAME="keywords" CONTENT="The C Preprocessor: Macro Pitfalls">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META NAME="Generator" CONTENT="texi2html 1.64">

</HEAD>

<BODY >

<A NAME="SEC20"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cpp_19.html#SEC19"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cpp_21.html#SEC21"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cpp_10.html#SEC10"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cpp_10.html#SEC10"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cpp_29.html#SEC29"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cpp.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cpp_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cpp_43.html#SEC43">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cpp_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<HR SIZE=1>
<H3> 1.4.8 Pitfalls and Subtleties of Macros </H3>
<!--docid::SEC20::-->
<P>

In this section we describe some special rules that apply to macros and
macro expansion, and point out certain cases in which the rules have
counterintuitive consequences that you must watch out for.
</P><P>

<BLOCKQUOTE><TABLE BORDER=0 CELLSPACING=0> 
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="cpp_21.html#SEC21">1.4.8.1 Improperly Nested Constructs</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Macros can contain unmatched parentheses.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="cpp_22.html#SEC22">1.4.8.2 Unintended Grouping of Arithmetic</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Why apparently superfluous parentheses
                         may be necessary to avoid incorrect grouping.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="cpp_23.html#SEC23">1.4.8.3 Swallowing the Semicolon</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Macros that look like functions
                         but expand into compound statements.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="cpp_24.html#SEC24">1.4.8.4 Duplication of Side Effects</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Unsafe macros that cause trouble when
                         arguments contain side effects.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="cpp_25.html#SEC25">1.4.8.5 Self-Referential Macros</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Macros whose definitions use the macros' own names.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="cpp_26.html#SEC26">1.4.8.6 Separate Expansion of Macro Arguments</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Actual arguments are checked for macro calls
                         before they are substituted.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="cpp_27.html#SEC27">1.4.8.7 Cascaded Use of Macros</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Macros whose definitions use other macros.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="cpp_28.html#SEC28">1.4.9 Newlines in Macro Arguments</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Sometimes line numbers get confused.</TD></TR>
</TABLE></BLOCKQUOTE>
<P>

<A NAME="Misnesting"></A>
<HR SIZE=1>

</BODY>
</HTML>
