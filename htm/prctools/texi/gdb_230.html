<HTML>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- Created on 2003-09-18 by texi2html 1.64 -->
<!-- 
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Olaf Bachmann <obachman@mathematik.uni-kl.de>
Send bugs and suggestions to <texi2html@mathematik.uni-kl.de>
 
-->
<HEAD>
<TITLE>Debugging with GDB: GDB/MI Stack Manipulation</TITLE>

<META NAME="description" CONTENT="Debugging with GDB: GDB/MI Stack Manipulation">
<META NAME="keywords" CONTENT="Debugging with GDB: GDB/MI Stack Manipulation">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META NAME="Generator" CONTENT="texi2html 1.64">

</HEAD>

<BODY >

<A NAME="SEC440"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gdb_229.html#SEC423"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gdb_231.html#SEC465"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gdb_213.html#SEC213"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gdb_213.html#SEC213"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gdb_236.html#SEC590"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gdb.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gdb_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gdb_284.html#SEC638">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gdb_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<HR SIZE=1>
<H2> 24.9 GDB/MI Stack Manipulation Commands </H2>
<!--docid::SEC440::-->
<P>

<A NAME="SEC441"></A>
<H3> The <CODE>-stack-info-frame</CODE> Command </H3>
<!--docid::SEC441::-->
<P>

<A NAME="SEC442"></A>
<H4> Synopsis                                                  </H4>
<!--docid::SEC442::-->
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre> -stack-info-frame
</pre></td></tr></table></P><P>

Get info on the current frame.
</P><P>

<A NAME="SEC443"></A>
<H4> GDB Command                                              </H4>
<!--docid::SEC443::-->
<P>

The corresponding GDB command is <SAMP>`info frame'</SAMP> or <SAMP>`frame'</SAMP>
(without arguments).
</P><P>

<A NAME="SEC444"></A>
<H4> Example                                                  </H4>
<!--docid::SEC444::-->
N.A.
<P>

<A NAME="SEC445"></A>
<H3> The <CODE>-stack-info-depth</CODE> Command </H3>
<!--docid::SEC445::-->
<P>

<A NAME="SEC446"></A>
<H4> Synopsis                                                   </H4>
<!--docid::SEC446::-->
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre> -stack-info-depth [ <VAR>max-depth</VAR> ]
</pre></td></tr></table></P><P>

Return the depth of the stack.  If the integer argument <VAR>max-depth</VAR>
is specified, do not count beyond <VAR>max-depth</VAR> frames.
</P><P>

<A NAME="SEC447"></A>
<H4> GDB Command                                               </H4>
<!--docid::SEC447::-->
<P>

There's no equivalent GDB command.
</P><P>

<A NAME="SEC448"></A>
<H4> Example                                                   </H4>
<!--docid::SEC448::-->
<P>

For a stack with frame levels 0 through 11:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=smallexample><FONT SIZE=-1><pre>(gdb)
-stack-info-depth
^done,depth="12"
(gdb)
-stack-info-depth 4
^done,depth="4"
(gdb)
-stack-info-depth 12
^done,depth="12"
(gdb)
-stack-info-depth 11
^done,depth="11"
(gdb)
-stack-info-depth 13
^done,depth="12"
(gdb)
</FONT></pre></td></tr></table></P><P>

<A NAME="SEC449"></A>
<H3> The <CODE>-stack-list-arguments</CODE> Command </H3>
<!--docid::SEC449::-->
<P>

<A NAME="SEC450"></A>
<H4> Synopsis                                                    </H4>
<!--docid::SEC450::-->
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre> -stack-list-arguments <VAR>show-values</VAR>
    [ <VAR>low-frame</VAR> <VAR>high-frame</VAR> ]
</pre></td></tr></table></P><P>

Display a list of the arguments for the frames between <VAR>low-frame</VAR>
and <VAR>high-frame</VAR> (inclusive).  If <VAR>low-frame</VAR> and
<VAR>high-frame</VAR> are not provided, list the arguments for the whole call
stack.
</P><P>

The <VAR>show-values</VAR> argument must have a value of 0 or 1.  A value of
0 means that only the names of the arguments are listed, a value of 1
means that both names and values of the arguments are printed.
</P><P>

<A NAME="SEC451"></A>
<H4> GDB Command                                                </H4>
<!--docid::SEC451::-->
<P>

GDB does not have an equivalent command.  <CODE>gdbtk</CODE> has a
<SAMP>`gdb_get_args'</SAMP> command which partially overlaps with the
functionality of <SAMP>`-stack-list-arguments'</SAMP>.
</P><P>

<A NAME="SEC452"></A>
<H4> Example                                                    </H4>
<!--docid::SEC452::-->
<P>

<TABLE><tr><td>&nbsp;</td><td class=smallexample><FONT SIZE=-1><pre>(gdb)
-stack-list-frames
^done,
stack=[
frame={level="0 ",addr="0x00010734",func="callee4",
file="../../../devo/gdb/testsuite/gdb.mi/basics.c",line="8"},
frame={level="1 ",addr="0x0001076c",func="callee3",
file="../../../devo/gdb/testsuite/gdb.mi/basics.c",line="17"},
frame={level="2 ",addr="0x0001078c",func="callee2",
file="../../../devo/gdb/testsuite/gdb.mi/basics.c",line="22"},
frame={level="3 ",addr="0x000107b4",func="callee1",
file="../../../devo/gdb/testsuite/gdb.mi/basics.c",line="27"},
frame={level="4 ",addr="0x000107e0",func="main",
file="../../../devo/gdb/testsuite/gdb.mi/basics.c",line="32"}]
(gdb)
-stack-list-arguments 0
^done,
stack-args=[
frame={level="0",args=[]},
frame={level="1",args=[name="strarg"]},
frame={level="2",args=[name="intarg",name="strarg"]},
frame={level="3",args=[name="intarg",name="strarg",name="fltarg"]},
frame={level="4",args=[]}]
(gdb)
-stack-list-arguments 1
^done,
stack-args=[
frame={level="0",args=[]},
frame={level="1",
 args=[{name="strarg",value="0x11940 \"A string argument.\""}]},
frame={level="2",args=[
{name="intarg",value="2"},
{name="strarg",value="0x11940 \"A string argument.\""}]},
{frame={level="3",args=[
{name="intarg",value="2"},
{name="strarg",value="0x11940 \"A string argument.\""},
{name="fltarg",value="3.5"}]},
frame={level="4",args=[]}]
(gdb)
-stack-list-arguments 0 2 2
^done,stack-args=[frame={level="2",args=[name="intarg",name="strarg"]}]
(gdb)
-stack-list-arguments 1 2 2
^done,stack-args=[frame={level="2",
args=[{name="intarg",value="2"},
{name="strarg",value="0x11940 \"A string argument.\""}]}]
(gdb)
</FONT></pre></td></tr></table></P><P>

<A NAME="SEC453"></A>
<H3> The <CODE>-stack-list-frames</CODE> Command </H3>
<!--docid::SEC453::-->
<P>

<A NAME="SEC454"></A>
<H4> Synopsis                                                     </H4>
<!--docid::SEC454::-->
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre> -stack-list-frames [ <VAR>low-frame</VAR> <VAR>high-frame</VAR> ]
</pre></td></tr></table></P><P>

List the frames currently on the stack.  For each frame it displays the
following info:
</P><P>

<DL COMPACT>
<DT><SAMP>`<VAR>level</VAR>'</SAMP>
<DD>The frame number, 0 being the topmost frame, i.e. the innermost function.
<DT><SAMP>`<VAR>addr</VAR>'</SAMP>
<DD>The <CODE>$pc</CODE> value for that frame.
<DT><SAMP>`<VAR>func</VAR>'</SAMP>
<DD>Function name.
<DT><SAMP>`<VAR>file</VAR>'</SAMP>
<DD>File name of the source file where the function lives.
<DT><SAMP>`<VAR>line</VAR>'</SAMP>
<DD>Line number corresponding to the <CODE>$pc</CODE>.
</DL>
<P>

If invoked without arguments, this command prints a backtrace for the
whole stack.  If given two integer arguments, it shows the frames whose
levels are between the two arguments (inclusive).  If the two arguments
are equal, it shows the single frame at the corresponding level.
</P><P>

<A NAME="SEC455"></A>
<H4> GDB Command                                                 </H4>
<!--docid::SEC455::-->
<P>

The corresponding GDB commands are <SAMP>`backtrace'</SAMP> and <SAMP>`where'</SAMP>.
</P><P>

<A NAME="SEC456"></A>
<H4> Example                                                     </H4>
<!--docid::SEC456::-->
<P>

Full stack backtrace:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=smallexample><FONT SIZE=-1><pre>(gdb)
-stack-list-frames
^done,stack=
[frame={level="0 ",addr="0x0001076c",func="foo",
  file="recursive2.c",line="11"},
frame={level="1 ",addr="0x000107a4",func="foo",
  file="recursive2.c",line="14"},
frame={level="2 ",addr="0x000107a4",func="foo",
  file="recursive2.c",line="14"},
frame={level="3 ",addr="0x000107a4",func="foo",
  file="recursive2.c",line="14"},
frame={level="4 ",addr="0x000107a4",func="foo",
  file="recursive2.c",line="14"},
frame={level="5 ",addr="0x000107a4",func="foo",
  file="recursive2.c",line="14"},
frame={level="6 ",addr="0x000107a4",func="foo",
  file="recursive2.c",line="14"},
frame={level="7 ",addr="0x000107a4",func="foo",
  file="recursive2.c",line="14"},
frame={level="8 ",addr="0x000107a4",func="foo",
  file="recursive2.c",line="14"},
frame={level="9 ",addr="0x000107a4",func="foo",
  file="recursive2.c",line="14"},
frame={level="10",addr="0x000107a4",func="foo",
  file="recursive2.c",line="14"},
frame={level="11",addr="0x00010738",func="main",
  file="recursive2.c",line="4"}]
(gdb)
</FONT></pre></td></tr></table></P><P>

Show frames between <VAR>low_frame</VAR> and <VAR>high_frame</VAR>:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=smallexample><FONT SIZE=-1><pre>(gdb)
-stack-list-frames 3 5
^done,stack=
[frame={level="3 ",addr="0x000107a4",func="foo",
  file="recursive2.c",line="14"},
frame={level="4 ",addr="0x000107a4",func="foo",
  file="recursive2.c",line="14"},
frame={level="5 ",addr="0x000107a4",func="foo",
  file="recursive2.c",line="14"}]
(gdb)
</FONT></pre></td></tr></table></P><P>

Show a single frame:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=smallexample><FONT SIZE=-1><pre>(gdb)
-stack-list-frames 3 3
^done,stack=
[frame={level="3 ",addr="0x000107a4",func="foo",
  file="recursive2.c",line="14"}]
(gdb)
</FONT></pre></td></tr></table></P><P>

<A NAME="SEC457"></A>
<H3> The <CODE>-stack-list-locals</CODE> Command </H3>
<!--docid::SEC457::-->
<P>

<A NAME="SEC458"></A>
<H4> Synopsis                                                      </H4>
<!--docid::SEC458::-->
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre> -stack-list-locals <VAR>print-values</VAR>
</pre></td></tr></table></P><P>

Display the local variable names for the current frame.  With an
argument of 0 prints only the names of the variables, with argument of 1
prints also their values.
</P><P>

<A NAME="SEC459"></A>
<H4> GDB Command                                                  </H4>
<!--docid::SEC459::-->
<P>

<SAMP>`info locals'</SAMP> in GDB, <SAMP>`gdb_get_locals'</SAMP> in <CODE>gdbtk</CODE>.
</P><P>

<A NAME="SEC460"></A>
<H4> Example                                                      </H4>
<!--docid::SEC460::-->
<P>

<TABLE><tr><td>&nbsp;</td><td class=smallexample><FONT SIZE=-1><pre>(gdb)
-stack-list-locals 0
^done,locals=[name="A",name="B",name="C"]
(gdb)
-stack-list-locals 1
^done,locals=[{name="A",value="1"},{name="B",value="2"},
  {name="C",value="3"}]
(gdb)
</FONT></pre></td></tr></table></P><P>

<A NAME="SEC461"></A>
<H3> The <CODE>-stack-select-frame</CODE> Command </H3>
<!--docid::SEC461::-->
<P>

<A NAME="SEC462"></A>
<H4> Synopsis                                                       </H4>
<!--docid::SEC462::-->
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre> -stack-select-frame <VAR>framenum</VAR>
</pre></td></tr></table></P><P>

Change the current frame.  Select a different frame <VAR>framenum</VAR> on
the stack.
</P><P>

<A NAME="SEC463"></A>
<H4> GDB Command                                                   </H4>
<!--docid::SEC463::-->
<P>

The corresponding GDB commands are <SAMP>`frame'</SAMP>, <SAMP>`up'</SAMP>,
<SAMP>`down'</SAMP>, <SAMP>`select-frame'</SAMP>, <SAMP>`up-silent'</SAMP>, and <SAMP>`down-silent'</SAMP>.
</P><P>

<A NAME="SEC464"></A>
<H4> Example                                                       </H4>
<!--docid::SEC464::-->
<P>

<TABLE><tr><td>&nbsp;</td><td class=smallexample><FONT SIZE=-1><pre>(gdb)
-stack-select-frame 2
^done
(gdb)
</FONT></pre></td></tr></table></P><P>

<A NAME="GDB/MI Symbol Query"></A>
<HR SIZE=1>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gdb_229.html#SEC423"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gdb_231.html#SEC465"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gdb_213.html#SEC213"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gdb_213.html#SEC213"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gdb_236.html#SEC590"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gdb.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gdb_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gdb_284.html#SEC638">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="gdb_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>

</BODY>
</HTML>
